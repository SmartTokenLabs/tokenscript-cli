{"version":3,"names":["_arrayWithHoles","arr","Array","isArray","module","exports","__esModule","_iterableToArrayLimit","i","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","call","next","Object","done","push","value","length","err","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","prototype","toString","slice","constructor","name","from","test","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","undefined","_typeof","obj","require$$0","_regeneratorRuntime","Op","hasOwn","hasOwnProperty","defineProperty","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","type","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","record","result","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","_catch","thrown","delegateYield","runtime","regenerator","regeneratorRuntime","accidentalStrictMode","globalThis","Function","_iterableToArray","_toArray","iterableToArray","_toPrimitive","input","hint","prim","toPrimitive","res","String","Number","_toPropertyKey","_defineProperty","toPropertyKey","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread2","target","source","getOwnPropertyDescriptors","defineProperties","_createForOfIteratorHelper","allowArrayLike","it","F","s","e","f","normalCompletion","didErr","step","_e2","promise","queueMicrotask_1$2","queueMicrotask","cb","setTimeout","mailbox","queue","deliver","msg","_callee","_callee$","_context","shift","receive","innerReceive","INIT","SUBSCRIBE","UNSUBSCRIBE","UPDATED","SNAPSHOT","EXIT","TERMINATE","root","global","window","FCL_REGISTRY","pid","DEFAULT_TIMEOUT","_send","send","addr","tag","data","opts","reply","expectReply","timeout","concat","payload","to","console","kill","fromHandlers","handlers","_ref","ctx","letter","t0","spawn","subs","Set","kvs","sendSelf","broadcast","_iterator","_step","subscribe","sub","add","unsubscribe","subscriberCount","size","hasSubs","put","get","fallback","delete","_delete","update","all","where","pattern","reduce","acc","_objectSpread","merge","fatalError","_iterator2","_step2","_callee2","_callee2$","_context2","subscriber","address","spawnFn","callback","_ref3","_callee3","_callee3$","_context3","_x2","snapshoter","_HANDLERS","NAME","PUT","GET","GET_ALL","UPDATE","DELETE","CLEAR","WHERE","identity","v","HANDLERS","_letter","_ref2","_ref4","_keys","_ref5","config","first","_first","wants","_wants","head","rest","ret","_args2","clearConfig","resetConfig","oldConfig","map","d","overload","noop","_ref6","t1","t2","invariant","fact","_console","stack","split","join","_len","_key","_arrayWithoutHoles","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","nonIterableSpread","LEVELS","freeze","debug","log","warn","buildLoggerMessageArgs","title","message","replace","trim","_console2","_console3","_console4","_console5","level","_ref2$always","always","configLoggerLevel","loggerMessageArgs","deprecate","pkg","subject","transition","_ref4$level","_ref4$message","_ref4$callback","capitalizeFirstLetter","string","toUpperCase","logMessage","encode","output","buf","Buffer","encodeLength","inputBuf","toBuffer","offset","hexLength","intToHex","lLength","firstByte","isHexPrefixed","str","stripHexPrefix","integer","hex","padToEven","a","intToBuffer","isBuffer","Uint8Array","_defineProperties","props","descriptor","_createClass","Constructor","protoProps","staticProps","_classCallCheck","instance","_setPrototypeOf","p","bind","_inherits","subClass","superClass","_getPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","assertThisInitialized","_createSuper","Derived","hasNativeReflectConstruct","isNativeReflectConstruct","_createSuperInternal","Super","NewTarget","possibleConstructorReturn","_isNativeFunction","indexOf","_construct","Parent","Class","_wrapNativeSuper","_cache","Map","isNativeFunction","has","set","Wrapper","getGlobal","fetch","default","Headers","Request","Response","sansPrefix","withPrefix","display","HTTPRequestError","_Error","_super","_this","hostname","path","requestBody","responseBody","responseStatusText","statusCode","errorMessage","httpRequest","_httpRequest","_callee4","body","headers","_ref2$retryLimit","retryLimit","_ref2$retryIntervalMs","retryIntervalMs","bodyJSON","makeRequest","requestLoop","_requestLoop","_callee4$","_context4","_requestLoop3","retryAttempt","resp","retryStatusCodes","_args3","includes","_requestLoop2","_makeRequest","fetchTransport","responseText","response","ok","json","text","safeParseJSON","statusText","status","logger.log","logger.LEVELS","_x3","JSON","stringify","parse","_unused","sendExecuteScriptAtBlockIDRequest","_sendExecuteScriptAtBlockIDRequest","ix","httpRequest$1","node","block","id","script","cadence","asArgument","constructResponse$4","sendExecuteScriptAtBlockHeightRequest","_x4","_x5","_x6","_sendExecuteScriptAtBlockHeightRequest","height","sendExecuteScriptAtLatestBlockRequest","_x7","_x8","_x9","_sendExecuteScriptAtLatestBlockRequest","encodedData","sendExecuteScript","_x10","_sendExecuteScript","_args4","HashAlgorithmIDs","SHA2_256","SHA2_384","SHA3_256","SHA3_384","KMAC128_BLS_BLS12_381","SignatureAlgorithmIDs","ECDSA_P256","ECDSA_secp256k1","BLS_BLS12_381","sendGetAccountAtBlockHeightRequest","_sendGetAccountAtBlockHeightRequest","account","constructResponse$3","sendGetAccountAtLatestBlockRequest","_sendGetAccountAtLatestBlockRequest","_res$keys$map","_res$keys","unwrapContracts","contracts","c","_Object$keys","balance","code","index","publicKey","public_key","signAlgo","signing_algorithm","signAlgoString","hashAlgo","hashing_algorithm","hashAlgoString","sequenceNumber","sequence_number","weight","revoked","sendGetAccount","_sendGetAccount","sendGetBlockHeaderByIDRequest","_sendGetBlockHeaderByIDRequest","constructResponse$2","sendGetBlockHeaderByHeightRequest","_sendGetBlockHeaderByHeightRequest","sendGetLatestBlockHeaderRequest","_sendGetLatestBlockHeaderRequest","_ix$block","isSealed","blockHeader","header","parentId","parent_id","timestamp","sendGetBlockHeader","_sendGetBlockHeader","interactionHasBlockID","interactionHasBlockHeight","sendGetBlockByIDRequest","_sendGetBlockByIDRequest","constructResponse$1","sendGetBlockByHeightRequest","_sendGetBlockByHeightRequest","sendGetBlockRequest","_sendGetBlockRequest","collectionGuarantees","collection_guarantees","collectionGuarantee","collectionId","collection_id","signerIds","signer_ids","blockSeals","block_seals","blockSeal","blockId","block_id","executionReceiptId","result_id","sendGetBlock","_sendGetBlock","sendGetCollection","_sendGetCollection","_args","collection","transactionIds","transactions","transaction","sendGetEventsForHeightRangeRequest","_sendGetEventsForHeightRangeRequest","events","eventType","start","end","constructResponse","sendGetEventsForBlockIDsRequest","_sendGetEventsForBlockIDsRequest","blockIds","event","blockHeight","block_height","blockTimestamp","block_timestamp","transactionId","transaction_id","transactionIndex","transaction_index","eventIndex","event_index","sendGetEvents","_sendGetEvents","interactionContainsBlockHeightRange","interactionContainsBlockIDsList","sendGetTransaction","_sendGetTransaction","unwrapKey","unwrapSignature","unwrapArg","keyId","key_id","sig","key_index","signature","referenceBlockId","reference_block_id","gasLimit","gas_limit","payer","proposalKey","proposal_key","authorizers","payloadSignatures","payload_signatures","envelopeSignatures","envelope_signatures","STATUS_MAP","UNKNOWN","PENDING","FINALIZED","EXECUTED","SEALED","EXPIRED","sendGetTransactionStatus","_sendGetTransactionStatus","transactionStatus","statusString","status_code","error_message","sendPing","_sendPing","idof","acct","sendTransaction","_sendTransaction","_Object$values","_i2","_Object$values2","_acct","accounts","role","tempId","Date","now","refBlock","computeLimit","proposer","sequenceNum","authorizations","current","find","item","dispatchEvent","CustomEvent","detail","txId","delta","isTransaction","isGetTransactionStatus","isGetTransaction","isScript","isGetAccount","isGetEvents","isGetBlock","isGetBlockHeader","isGetCollection","isPing","copy","I","O","oi","ii","copy_1$1","_copy","_interopRequireDefault","chi","A","C","y","x","xy","x1","x2","_default","ROUND_CONSTANTS","Uint32Array","_roundConstants","iota","roundIndex","PI_SHUFFLES","RHO_OFFSETS","_piShuffles","_rhoOffsets","require$$1","require$$2","rhoPi","W","H","L","Wi","ri","j","r","theta","D","x20","x21","x22","x23","x24","_chi","_iota","_rhoPi","_theta","require$$3","permute","fill","_permute","xorWords","readWords","Sponge","capacity","padding","keccak","stateSize","blockSize","queueSize","queueOffset","_buffer","allocUnsafe","absorb","buffer","squeeze","options","SHAKE","SHA3Hash","SHA3","Keccak","_sponge","createHash","allowedSizes","defaultSize","Hash","sponge","encoding","digest","formatOrOptions","format","queueMicrotask_1","UPDATED$1","interleave","b","_a","aHead","aRest","_b","bHead","bRest","recApply","arg1","template","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","SCRIPT","TRANSACTION","GET_TRANSACTION_STATUS","GET_ACCOUNT","GET_EVENTS","PING","GET_TRANSACTION","GET_BLOCK","GET_BLOCK_HEADER","GET_COLLECTION","BAD","OK","ACCOUNT","PARAM","ARGUMENT","AUTHORIZER","PAYER","PROPOSER","ACCT","ARG","IX","KEYS","interaction","CHARS","randChar","Math","random","uuid","isNumber$1","isNumber","isArray$1","isObj","isNull","isFn$3","isFn","isInteraction","Ok","Bad","reason","makeIx","wat","prepAccountKeyId","invariant$1","parseInt","prepAccount","authorization","t3","makeArgument","xform","resolveArgument","makeUnknown","makeScript","makeTransaction","makeGetTransactionStatus","makeGetTransaction","makeGetAccount","makeGetEvents","makePing","makeGetBlock","makeGetBlockHeader","makeGetCollection","is","isUnknown","isOk","isBad","why","isAccount","kind","isParam","param","isArgument","argument","hardMode","recPipe","fns","_fns","hd","cur","pipe","_len2","_key2","arg2","identity$1","assigns","destroy","ixModule","build","DEFAULT_RESPONSE","getBlock","getAccount","latestBlockDeprecationNotice","decodeImplicit","decodeVoid","decodeType","staticType","decodePath","_callee5","_callee5$","_context5","domain","identifier","decodeCapability","_callee6","cap","_callee6$","_context6","borrowType","decodeOptional","_ref7","_callee7","optional","decoders","_callee7$","_context7","recurseDecode","decodeReference","_ref8","_callee8","_callee8$","_context8","_x11","decodeArray","_ref9","_callee10","array","_callee10$","_context10","_ref10","_callee9","_callee9$","_context9","_x15","_x12","_x13","_x14","decodeDictionary","_ref11","_callee12","dictionary","_callee12$","_context12","_ref12","_callee11","_callee11$","_context11","_x19","_x20","_x16","_x17","_x18","decodeComposite","_ref13","_callee14","composite","decoded","decoder","_callee14$","_context14","fields","_ref14","_callee13","_callee13$","_context13","_x24","_x25","decoderLookup","_x21","_x22","_x23","defaultDecoders","UInt","Int","UInt8","Int8","UInt16","Int16","UInt32","Int32","UInt64","Int64","UInt128","Int128","UInt256","Int256","Word8","Word16","Word32","Word64","UFix64","Fix64","Character","Bool","Address","Void","Optional","Reference","Dictionary","Event","Resource","Struct","Enum","Type","Path","Capability","lookup","found","reg","RegExp","substring","_ref15","_callee15","decodeInstructions","_callee15$","_context15","_x26","_x27","_x28","decode$1","_ref16","_callee16","customDecoders","filteredDecoders","_args16","_callee16$","_context16","customDecoder","decoderKey","decode","_x29","decodeResponse","_ref17","_callee19","_args19","_callee19$","_context19","_decodeEvents","_callee17","_callee17$","_context17","t4","decodeEvents","_x31","_decodeEvents2","_callee18","_callee18$","_context18","t5","t6","t7","_x32","latestBlock","_x30","isFn$2","isString$1","isString","resolveCadence","_resolveCadence","entries","regex","isFn$1","cast","handleArgResolution","_handleArgResolution","depth","resolvedArg","resolveArguments","_resolveArguments","_Object$entries","_Object$entries$_i","encodeTransactionPayload","tx","prependTransactionDomainTag","rlpEncode","preparePayload","encodeTransactionEnvelope","prepareEnvelope","encodeTxIdFromVoucher","voucher","sha3_256","prepareVoucher","rightPaddedHexBuffer","pad","padEnd","leftPaddedHexBuffer","padStart","TRANSACTION_DOMAIN_TAG","addressBuffer","blockBuffer","argumentToString","scriptBuffer","signatureBuffer","sha","validatePayload","authorizer","validateEnvelope","preparePayloadSignatures","signers","collectSigners","payloadSigs","signerIndex","sort","addSigner","validateVoucher","prepareSigs","sigs","envelopeSigs","payloadFields","field","checkField","proposalKeyFields","payloadSigsFields","payloadSigFields","envelopeSigsFields","envelopeSigFields","isObject","check","defaultVal","base","missingFieldError","invalidFieldError","printFieldName","findInsideSigners","inside","findOutsideSigners","outside","createSignableVoucher","buildAuthorizers","cid","buildInsideSigners","buildOutsideSigners","voucherToTxId","idof$1","buildPreSignable","f_type","f_vsn","roles","collectAccounts","_collectAccounts","last","_loop","old","ax","dupList","payerAccts","multiAccts","_loop$","g","curr","resolveAccounts","_resolveAccounts","resolveSignatures","_resolveSignatures","insideSigners","insidePayload","outsideSigners","outsidePayload","prepForEncoding","fetchSignature","_innerFetchSignature","_yield$acct$signingFu","signingFunction","buildSignable","innerFetchSignature","payerAddress","resolveValidators","_resolveValidators","validators","resolveFinalNormalization","_resolveFinalNormalization","resolveVoucherIntercept","_resolveVoucherIntercept","DEFAULT_COMPUTE_LIMIT","resolveComputeLimit","_resolveComputeLimit","accts","execFetchRef","execFetchSequenceNumber","_execFetchRef","sendFn","send$1","_execFetchSequenceNumber","predicate","resolveFn","_decode","decodersFromConfig","fromEntries","findPayloadSigners","findEnvelopeSigners","envelope","UnableToDetermineMessageEncodingTypeForSignerAddress","signerAddress","encodeMessageFromSignable","signable","payloadSigners","envelopeSigners","isPayloadSigner","isEnvelopeSigner","ps","validator","atBlockHeight","atBlockId","_ref$sealed","sealed","authz","getEvents","getEventsAtBlockHeightRange","getEventsAtBlockIds","getBlockHeader","getCollection","getTransactionStatus","getTransaction","limit","_proposer","_payer","ping","ref","DEFAULT_SCRIPT_ACCOUNTS","DEFUALT_REF","voucherIntercept","mockAccountResponse","numberOfKeys","_","mockGetBlockResponse","mockSend","_execSend","execSend","_excluded","authzFn","fallbackSigningFunction","authzResolve","ROLE","authzResolveMany","run","params","_params","label","asInjection","isBoolean","isInteger","throwTypeError","numberValuesDeprecationNotice","Identity","UFix64AndFix64NumberDeprecationNotice","vParts","children","_Array","HEX","T","uid","num","isServerSide","SESSION_STORAGE","can","_get","sessionStorage","getItem","_put","setItem","configLens","_configLens","VERSION","isRequired","isFunc","normalizeArgs","sdk.arg","t$1","httpDocumentResolver","_httpDocumentResolver","url","document","DOCUMENT_RESOLVERS","retrieve","_retrieve","documentResolversFromConfig","urlParts","protocol","resolver","resolverFromConfig","resolverProtocol","exec","normalizeInteractionTemplate","deriveCadenceByNetwork","_template","_template$data","network","f_version","networkDependencies","dependencies","dependencyPlaceholder","_template2","_template2$data","_template2$data$depen","dependencyNetworkContracts","dependencyContract","dependencyContractForNetwork","placeholder","deriveDependencies","_deriveDependencies","derivedDependencies","dependencyPlaceholderKeys","_dependencyPlaceholde","_template$data2","dependencyPlaceholderKey","dependencyPlaceholderContractsKeys","dependencyPlaceholderContract","dependency","prepTemplateOpts","_prepTemplateOpts","sdk.config","pre","_pre","preMutate","_preMutate","preQuery","_preQuery","query","_query","sdk.send","sdk.script","sdk.args","sdk.limit","sdk.decode","fetchServices","_fetchServices","servicesURL","services","service","URL","searchParams","append","provider","mergeServices","sx1","sx2","SERVICE_PRAGMA","IDENTITY_PRAGMA","USER_PRAGMA","POLLING_RESPONSE_PRAGMA","COMPOSITE_SIGNATURE_PRAGMA","normalizeAuthn","endpoint","authn","icon","normalizeAuthz","normalizePreAuthz","normalizeFrame","normalizeBackChannelRpc","normalizeOpenId","normalizeUserSignature","normalizeLocalView","normalizeAccountProof","normalizeAuthnRefresh","serviceNormalizers","frame","normalizeService","normalized","deriveCompositeId","rlp.encode","normalizeData","paddr","findService","buildUser","_buildUser","hks","loggedIn","expiresAt","expires","serviceOfType","serviceEndpoint","location","origin","fetchService","normalizePollingResponse","_resp$status","_resp$reason","compositeSignature","updates","authorizationUpdates","local","OPTIONS","serviceMethod","poll","_poll","canContinue","FRAME","FRAME_STYLES","renderFrame","src","getElementById","$frame","createElement","allow","frameBorder","style","cssText","unmount","remove","contentWindow","POP","popup","previousUrl$1","popupWindow","windowName","win","w","h","top","outerHeight","screenY","outerWidth","screenX","open","renderPop","_popup","closed","focus","close","tab$1","previousUrl","renderTab","_tab","VIEWS","execLocal","_execLocal","execHttpPost","_execHttpPost","_yield$execLocal","_yield$execLocal2","fclVersion","serviceResponse","CLOSE_EVENT","READY_EVENT","RESPONSE_EVENT","toLowerCase","IGNORE","was","want","buildMessageHandler","onReady","onResponse","onMessage","noop$3","onClose","handler","addEventListener","_renderFrame","_renderFrame2","removeEventListener","postMessage","execIframeRPC","includeOlderJsonRpcCall","deprecated","jsonrpc","noop$2","_renderPop","_renderPop2","$pop","timer","setInterval","clearInterval","execPopRPC","redir","noop$1","tab","_renderTab","_renderTab2","$tab","execTabRPC","extension","execExtRPC","CORE_STRATEGIES","supportedPlugins","supportedServicePlugins","validateDiscoveryPlugin","servicePlugin","serviceStrategy","ds","discoveryServices","ServiceRegistry","strategies","_validateDiscoveryPlu","setServices","getServices","getStrategy","getStrategies","validatePlugins","plugins","pluginsArray","PluginRegistry","pluginsMap","getPlugins","_iterator3","_step3","serviceRegistry","pluginRegistry","execStrategy","strategy","execService","_execService","_window$location$host","_window","_window$location","_ref3$msg","_ref3$config","_ref3$opts","execConfig","client","fclLibrary","app","normalizeCompositeSignature","makeDiscoveryServices","extensionServices","fcl_extensions","getDiscoveryService","_getDiscoveryService","_service$endpoint","discoveryAuthnInclude","discoveryWalletMethod","_getServices","_window$navigator","types","include","t8","t9","navigator","userAgent","t10","clientServices","supportedStrategies","t11","t12","_HANDLERS$3","SERVICE_ACTOR_KEYS","AUTHN","RESULTS","UPDATE_RESULTS","fetchServicesFromDiscovery","results","HANDLERS$3","readyState","onload","spawnProviders","snapshot","discovery","isAndroid","isSmallIOS","isLargeIOS","isIOS","isMobile","_HANDLERS$2","SET_CURRENT_USER","DEL_CURRENT_USER","DATA","getStoredUser","storage","stored","removeItem","HANDLERS$2","user","notExpired","spawnCurrentUser","getAccountProofData","_getAccountProofData","accountProofDataResolver","accountProofData","appIdentifier","nonce","makeConfig","authenticate$1","_authenticate","_service$provider","_service$provider2","_ref11$redir","_service$provider3","_args10","is_installed","requires_install","href","install_link","discoveryService","refreshService","_response","t13","t14","t15","t16","t17","t18","t19","t20","unauthenticate$1","normalizePreAuthzResponse","resolvePreAuthz","axs","az","_az","_authorization","preSignable","preAuthz","windowRef","_resolveArgument","_yield$authenticate","t$1.Address","makeSignable","signUserMessage","_signUserMessage","signingService","compSigs","currentUser","authenticate","unauthenticate","mutate","_mutate","txid","sdk.transaction","sdk.proposer","sdk.payer","sdk.authorizations","onMessageFromFCL","messageType","buildData","_data$body","internal","sendMsgToFCL","parent","opener","ready","approve","decline","redirect","CompositeSignature","nonceBuffer","encodeAccountProof","includeDomainTag","ACCOUNT_PROOF_DOMAIN_TAG","injectExtService","index$2","ACCOUNT_PROOF","USER_SIGNATURE","validateArgs","signatures","every","cs","_address","getVerifySignaturesScript","verifyFunction","fclCryptoContract","verifyAccountProof","_verifyAccountProof","signaturesArr","keyIndices","el","t","verifyUserSignatures$1","_verifyUserSignatures","index$1","verifyUserSignatures","serialize","resolveFunction","config$1","_HANDLERS$1","RATE$1","POLL","fetchTxStatus","isExpired","isExecuted","isFinalized","isPending","isDiff","HANDLERS$1","UPDATED$2","SNAPSHOT$1","scoped","spawnTransaction","once","innerOnce","suppress","unsub","txStatus","onceFinalized","onceExecuted","onceSealed","RATE","TICK","HIGH_WATER_MARK","scheduleTick","hwm","clearTimeout","spawnEvents","sha3","copy_1","roundConstants","piShuffles","rhoOffsets","genHash","_genHash","utf8String","generateTemplateId","_generateTemplateId","templateData","messages","_arguments","encodedHex","messageKey","_templateData$message","_templateData$message2","i18n","i18nkeylanguage","_templateData$message3","_templateData$message4","_templateData$message5","dependencyAddressPlaceholder","_templateData$depende","_templateData$depende2","_templateData$depende3","dependencyContractNetwork","_templateData$depende4","_templateData$depende5","_templateData$depende6","_templateData$depende7","_templateData$depende8","_templateData$depende9","_templateData$depende10","_templateData$depende11","_templateData$depende12","_templateData$depende13","_templateData$depende14","_templateData$depende15","_templateData$depende16","_templateData$depende17","_templateData$depende18","contract","fq_address","pin","pin_block_height","argumentLabel","_templateData$argumen","_templateData$argumen2","_templateData$argumen3","_templateData$argumen4","argumentMessageKey","_templateData$argumen5","_templateData$argumen6","_templateData$argumen7","_templateData$argumen8","_templateData$argumen9","getInteractionTemplateAudits","_getInteractionTemplateAudits","auditors","recomputedTemplateID","_auditors","FlowInteractionAuditContract","fclNetwork","audits","flowInteractionAuditContract","generateImport","contractName","findImports","imports","importsReg","fileImports","match","fileImport","importLineReg","importLine","contractsReg","generateDependencyPin","_generateDependencyPin","horizon","_horizon","_account$contracts","horizonImport","contractImports","contractHashes","contractHashesJoined","iport","generateDependencyPinAtLatestSealedBlock","_generateDependencyPinAtLatestSealedBlock","latestSealedBlock","latestSealedBlockHeight","normalizeInteractionTemplateInterface","templateInterface","generateTemplateInterfaceId","_generateTemplateInterfaceId","interfaceData","flip","verifyDependencyPinsSame","_verifyDependencyPinsSame","templateDependenciesPlaceholderKeys","_templateDependencies","templateDependencyPlaceholderKey","templateDependencyPlaceholder","templateDependencyPlaceholderContractNames","_templateDependencyPl","templateDependencyPlaceholderContractName","templateDependencyPlaceholderContractNetworks","templateDependency","verifyDependencyPinsSameAtLatestSealedBlock","_verifyDependencyPinsSameAtLatestSealedBlock","getTemplateMessage","_messages$messageKey","_messages$messageKey$","_ref$localization","localization","getTemplateArgumentMessage","_args$argumentLabel","_args$argumentLabel$m","_args$argumentLabel$m2","_args$argumentLabel$m3","reauthenticate","signUp","logIn","fcl.config","getFlowProvider","fcl"],"sources":["../../token-negotiator/node_modules/@babel/runtime/helpers/arrayWithHoles.js","../../token-negotiator/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../../token-negotiator/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../../token-negotiator/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../../token-negotiator/node_modules/@babel/runtime/helpers/nonIterableRest.js","../../token-negotiator/node_modules/@babel/runtime/helpers/slicedToArray.js","../../token-negotiator/node_modules/@babel/runtime/helpers/asyncToGenerator.js","../../token-negotiator/node_modules/@babel/runtime/helpers/typeof.js","../../token-negotiator/node_modules/@babel/runtime/helpers/regeneratorRuntime.js","../../token-negotiator/node_modules/@babel/runtime/regenerator/index.js","../../token-negotiator/node_modules/@babel/runtime/helpers/iterableToArray.js","../../token-negotiator/node_modules/@babel/runtime/helpers/toArray.js","../../token-negotiator/node_modules/@babel/runtime/helpers/toPrimitive.js","../../token-negotiator/node_modules/@babel/runtime/helpers/toPropertyKey.js","../../token-negotiator/node_modules/@babel/runtime/helpers/defineProperty.js","../../token-negotiator/node_modules/@babel/runtime/helpers/objectSpread2.js","../../token-negotiator/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js","../../token-negotiator/node_modules/@onflow/util-actor/node_modules/queue-microtask/index.js","../../token-negotiator/node_modules/@onflow/util-actor/dist/actor.module.js","../../token-negotiator/node_modules/@onflow/config/dist/config.module.js","../../token-negotiator/node_modules/@onflow/util-invariant/dist/util-invariant.module.js","../../token-negotiator/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../../token-negotiator/node_modules/@babel/runtime/helpers/nonIterableSpread.js","../../token-negotiator/node_modules/@babel/runtime/helpers/toConsumableArray.js","../../token-negotiator/node_modules/@onflow/util-logger/dist/util-logger.module.js","../../token-negotiator/node_modules/@onflow/rlp/dist/rlp.module.js","../../token-negotiator/node_modules/@babel/runtime/helpers/createClass.js","../../token-negotiator/node_modules/@babel/runtime/helpers/classCallCheck.js","../../token-negotiator/node_modules/@babel/runtime/helpers/setPrototypeOf.js","../../token-negotiator/node_modules/@babel/runtime/helpers/inherits.js","../../token-negotiator/node_modules/@babel/runtime/helpers/getPrototypeOf.js","../../token-negotiator/node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../../token-negotiator/node_modules/@babel/runtime/helpers/assertThisInitialized.js","../../token-negotiator/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../../token-negotiator/node_modules/@babel/runtime/helpers/createSuper.js","../../token-negotiator/node_modules/@babel/runtime/helpers/isNativeFunction.js","../../token-negotiator/node_modules/@babel/runtime/helpers/construct.js","../../token-negotiator/node_modules/@babel/runtime/helpers/wrapNativeSuper.js","../../token-negotiator/node_modules/node-fetch/browser.js","../../token-negotiator/node_modules/@onflow/util-address/dist/util-address.module.js","../../token-negotiator/node_modules/@onflow/transport-http/dist/sdk-send-http.module.js","../../token-negotiator/node_modules/sha3/sponge/permute/copy/index.js","../../token-negotiator/node_modules/sha3/sponge/permute/chi/index.js","../../token-negotiator/node_modules/sha3/sponge/permute/iota/round-constants/index.js","../../token-negotiator/node_modules/sha3/sponge/permute/iota/index.js","../../token-negotiator/node_modules/sha3/sponge/permute/rho-pi/pi-shuffles/index.js","../../token-negotiator/node_modules/sha3/sponge/permute/rho-pi/rho-offsets/index.js","../../token-negotiator/node_modules/sha3/sponge/permute/rho-pi/index.js","../../token-negotiator/node_modules/sha3/sponge/permute/theta/index.js","../../token-negotiator/node_modules/sha3/sponge/permute/index.js","../../token-negotiator/node_modules/sha3/sponge/index.js","../../token-negotiator/node_modules/sha3/index.js","../../token-negotiator/node_modules/@onflow/util-template/dist/template.module.js","../../token-negotiator/node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../../token-negotiator/node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../../token-negotiator/node_modules/@onflow/sdk/dist/sdk.module.js","../../token-negotiator/node_modules/@onflow/types/dist/types.module.js","../../token-negotiator/node_modules/@onflow/util-uid/dist/util-uid.module.js","../../token-negotiator/node_modules/@onflow/fcl/dist/fcl.module.js","../../token-negotiator/dist/wallet/FlowProvider.js"],"sourcesContent":["function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableRest = require(\"./nonIterableRest.js\");\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableRest = require(\"./nonIterableRest.js\");\nfunction _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}\nmodule.exports = _toArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nmodule.exports = _toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nmodule.exports = _toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var defineProperty = require(\"./defineProperty.js\");\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nmodule.exports = _objectSpread2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nmodule.exports = _createForOfIteratorHelper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","let promise\n\nmodule.exports = typeof queueMicrotask === 'function'\n  ? queueMicrotask\n  // reuse resolved promise, and allocate it lazily\n  : cb => (promise || (promise = Promise.resolve()))\n    .then(cb)\n    .catch(err => setTimeout(() => { throw err }, 0))\n","import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport _createForOfIteratorHelper from '@babel/runtime/helpers/createForOfIteratorHelper';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _typeof from '@babel/runtime/helpers/typeof';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport queueMicrotask from 'queue-microtask';\n\nvar mailbox = function mailbox() {\n  var queue = [];\n  var next;\n  return {\n    deliver: function deliver(msg) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                queue.push(msg);\n\n                if (next) {\n                  next(queue.shift());\n                  next = undefined;\n                }\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    receive: function receive() {\n      return new Promise(function innerReceive(resolve) {\n        var msg = queue.shift();\n        if (msg) return resolve(msg);\n        next = resolve;\n      });\n    }\n  };\n};\n\nvar INIT = \"INIT\";\nvar SUBSCRIBE = \"SUBSCRIBE\";\nvar UNSUBSCRIBE = \"UNSUBSCRIBE\";\nvar UPDATED = \"UPDATED\";\nvar SNAPSHOT = \"SNAPSHOT\";\nvar EXIT = \"EXIT\";\nvar TERMINATE = \"TERMINATE\";\nvar root = (typeof self === \"undefined\" ? \"undefined\" : _typeof(self)) === \"object\" && self.self === self && self || (typeof global === \"undefined\" ? \"undefined\" : _typeof(global)) === \"object\" && global.global === global && global || (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\" && window.window === window && window;\nroot.FCL_REGISTRY = root.FCL_REGISTRY == null ? {} : root.FCL_REGISTRY;\nvar pid = 0;\nvar DEFAULT_TIMEOUT = 5000;\n\nvar _send = function send(addr, tag, data) {\n  var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  return new Promise(function (reply, reject) {\n    var expectReply = opts.expectReply || false;\n    var timeout = opts.timeout != null ? opts.timeout : DEFAULT_TIMEOUT;\n\n    if (expectReply && timeout) {\n      setTimeout(function () {\n        return reject(new Error(\"Timeout: \".concat(timeout, \"ms passed without a response.\")));\n      }, timeout);\n    }\n\n    var payload = {\n      to: addr,\n      from: opts.from,\n      tag: tag,\n      data: data,\n      timeout: timeout,\n      reply: reply,\n      reject: reject\n    };\n\n    try {\n      root.FCL_REGISTRY[addr] && root.FCL_REGISTRY[addr].mailbox.deliver(payload);\n      if (!expectReply) reply(true);\n    } catch (error) {\n      console.error(\"FCL.Actor -- Could Not Deliver Message\", payload, root.FCL_REGISTRY[addr], error);\n    }\n  });\n};\nvar kill = function kill(addr) {\n  delete root.FCL_REGISTRY[addr];\n};\n\nvar fromHandlers = function fromHandlers() {\n  var handlers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n      var letter;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(typeof handlers[INIT] === \"function\")) {\n                _context.next = 3;\n                break;\n              }\n\n              _context.next = 3;\n              return handlers[INIT](ctx);\n\n            case 3:\n\n              _context.next = 6;\n              return ctx.receive();\n\n            case 6:\n              letter = _context.sent;\n              _context.prev = 7;\n\n              if (!(letter.tag === EXIT)) {\n                _context.next = 13;\n                break;\n              }\n\n              if (!(typeof handlers[TERMINATE] === \"function\")) {\n                _context.next = 12;\n                break;\n              }\n\n              _context.next = 12;\n              return handlers[TERMINATE](ctx, letter, letter.data || {});\n\n            case 12:\n              return _context.abrupt(\"break\", 25);\n\n            case 13:\n              _context.next = 15;\n              return handlers[letter.tag](ctx, letter, letter.data || {});\n\n            case 15:\n              _context.next = 20;\n              break;\n\n            case 17:\n              _context.prev = 17;\n              _context.t0 = _context[\"catch\"](7);\n              console.error(\"\".concat(ctx.self(), \" Error\"), letter, _context.t0);\n\n            case 20:\n              _context.prev = 20;\n              return _context.abrupt(\"continue\", 3);\n\n            case 23:\n              _context.next = 3;\n              break;\n\n            case 25:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[7, 17, 20, 23]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\n\nvar spawn = function spawn(fn) {\n  var addr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  if (addr == null) addr = ++pid;\n  if (root.FCL_REGISTRY[addr] != null) return addr;\n  root.FCL_REGISTRY[addr] = {\n    addr: addr,\n    mailbox: mailbox(),\n    subs: new Set(),\n    kvs: {},\n    error: null\n  };\n  var ctx = {\n    self: function self() {\n      return addr;\n    },\n    receive: function receive() {\n      return root.FCL_REGISTRY[addr].mailbox.receive();\n    },\n    send: function send(to, tag, data) {\n      var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      opts.from = addr;\n      return _send(to, tag, data, opts);\n    },\n    sendSelf: function sendSelf(tag, data, opts) {\n      if (root.FCL_REGISTRY[addr]) _send(addr, tag, data, opts);\n    },\n    broadcast: function broadcast(tag, data) {\n      var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      opts.from = addr;\n\n      var _iterator = _createForOfIteratorHelper(root.FCL_REGISTRY[addr].subs),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var to = _step.value;\n\n          _send(to, tag, data, opts);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    },\n    subscribe: function subscribe(sub) {\n      return sub != null && root.FCL_REGISTRY[addr].subs.add(sub);\n    },\n    unsubscribe: function unsubscribe(sub) {\n      return sub != null && root.FCL_REGISTRY[addr].subs[\"delete\"](sub);\n    },\n    subscriberCount: function subscriberCount() {\n      return root.FCL_REGISTRY[addr].subs.size;\n    },\n    hasSubs: function hasSubs() {\n      return !!root.FCL_REGISTRY[addr].subs.size;\n    },\n    put: function put(key, value) {\n      if (key != null) root.FCL_REGISTRY[addr].kvs[key] = value;\n    },\n    get: function get(key, fallback) {\n      var value = root.FCL_REGISTRY[addr].kvs[key];\n      return value == null ? fallback : value;\n    },\n    \"delete\": function _delete(key) {\n      delete root.FCL_REGISTRY[addr].kvs[key];\n    },\n    update: function update(key, fn) {\n      if (key != null) root.FCL_REGISTRY[addr].kvs[key] = fn(root.FCL_REGISTRY[addr].kvs[key]);\n    },\n    keys: function keys() {\n      return Object.keys(root.FCL_REGISTRY[addr].kvs);\n    },\n    all: function all() {\n      return root.FCL_REGISTRY[addr].kvs;\n    },\n    where: function where(pattern) {\n      return Object.keys(root.FCL_REGISTRY[addr].kvs).reduce(function (acc, key) {\n        return pattern.test(key) ? _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, root.FCL_REGISTRY[addr].kvs[key])) : acc;\n      }, {});\n    },\n    merge: function merge() {\n      var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      Object.keys(data).forEach(function (key) {\n        return root.FCL_REGISTRY[addr].kvs[key] = data[key];\n      });\n    },\n    fatalError: function fatalError(error) {\n      root.FCL_REGISTRY[addr].error = error;\n\n      var _iterator2 = _createForOfIteratorHelper(root.FCL_REGISTRY[addr].subs),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var to = _step2.value;\n\n          _send(to, UPDATED);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  };\n  if (_typeof(fn) === \"object\") fn = fromHandlers(fn);\n  queueMicrotask( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return fn(ctx);\n\n          case 2:\n            kill(addr);\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })));\n  return addr;\n}; // Returns an unsubscribe function\n// A SUBSCRIBE handler will need to be created to handle the subscription event\n//\n//  [SUBSCRIBE]: (ctx, letter) => {\n//    ctx.subscribe(letter.from)\n//    ctx.send(letter.from, UPDATED, ctx.all())\n//  }\n//\n\nfunction subscriber(address, spawnFn, callback) {\n  spawnFn(address);\n  var EXIT = \"@EXIT\";\n  var self = spawn( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ctx) {\n      var letter, error;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              ctx.send(address, SUBSCRIBE);\n\n            case 1:\n\n              _context3.next = 4;\n              return ctx.receive();\n\n            case 4:\n              letter = _context3.sent;\n              error = root.FCL_REGISTRY[address].error;\n\n              if (!(letter.tag === EXIT)) {\n                _context3.next = 9;\n                break;\n              }\n\n              ctx.send(address, UNSUBSCRIBE);\n              return _context3.abrupt(\"return\");\n\n            case 9:\n              if (!error) {\n                _context3.next = 13;\n                break;\n              }\n\n              callback(null, error);\n              ctx.send(address, UNSUBSCRIBE);\n              return _context3.abrupt(\"return\");\n\n            case 13:\n              callback(letter.data, null);\n              _context3.next = 1;\n              break;\n\n            case 16:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n  return function () {\n    return _send(self, EXIT);\n  };\n} // Returns a promise that returns a result\n// A SNAPSHOT handler will need to be created to handle the snapshot event\n//\n//  [SNAPSHOT]: (ctx, letter) => {\n//    letter.reply(ctx.all())\n//  }\n//\n\nfunction snapshoter(address, spawnFn) {\n  spawnFn(address);\n  return _send(address, SNAPSHOT, null, {\n    expectReply: true,\n    timeout: 0\n  });\n}\n\nexport { EXIT, INIT, SNAPSHOT, SUBSCRIBE, TERMINATE, UNSUBSCRIBE, UPDATED, kill, _send as send, snapshoter, spawn, subscriber };\n//# sourceMappingURL=actor.module.js.map\n","import _toArray from '@babel/runtime/helpers/toArray';\nimport _typeof from '@babel/runtime/helpers/typeof';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport { SUBSCRIBE, UNSUBSCRIBE, spawn, send, subscriber } from '@onflow/util-actor';\n\nvar _HANDLERS;\nvar NAME = \"config\";\nvar PUT = \"PUT_CONFIG\";\nvar GET = \"GET_CONFIG\";\nvar GET_ALL = \"GET_ALL_CONFIG\";\nvar UPDATE = \"UPDATE_CONFIG\";\nvar DELETE = \"DELETE_CONFIG\";\nvar CLEAR = \"CLEAR_CONFIG\";\nvar WHERE = \"WHERE_CONFIG\";\nvar UPDATED = \"CONFIG/UPDATED\";\n\nvar identity = function identity(v) {\n  return v;\n};\n\nvar HANDLERS = (_HANDLERS = {}, _defineProperty(_HANDLERS, PUT, function (ctx, _letter, _ref) {\n  var key = _ref.key,\n      value = _ref.value;\n  if (key == null) throw new Error(\"Missing 'key' for config/put.\");\n  ctx.put(key, value);\n  ctx.broadcast(UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, GET, function (ctx, letter, _ref2) {\n  var key = _ref2.key,\n      fallback = _ref2.fallback;\n  if (key == null) throw new Error(\"Missing 'key' for config/get\");\n  letter.reply(ctx.get(key, fallback));\n}), _defineProperty(_HANDLERS, GET_ALL, function (ctx, letter) {\n  letter.reply(_objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, UPDATE, function (ctx, letter, _ref3) {\n  var key = _ref3.key,\n      fn = _ref3.fn;\n  if (key == null) throw new Error(\"Missing 'key' for config/update\");\n  ctx.update(key, fn || identity);\n  ctx.broadcast(UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, DELETE, function (ctx, letter, _ref4) {\n  var key = _ref4.key;\n  if (key == null) throw new Error(\"Missing 'key' for config/delete\");\n  ctx[\"delete\"](key);\n  ctx.broadcast(UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, CLEAR, function (ctx, letter) {\n  var keys = Object.keys(ctx.all());\n\n  for (var _i = 0, _keys = keys; _i < _keys.length; _i++) {\n    var key = _keys[_i];\n    ctx[\"delete\"](key);\n  }\n\n  ctx.broadcast(UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, WHERE, function (ctx, letter, _ref5) {\n  var pattern = _ref5.pattern;\n  if (pattern == null) throw new Error(\"Missing 'pattern' for config/where\");\n  letter.reply(ctx.where(pattern));\n}), _defineProperty(_HANDLERS, SUBSCRIBE, function (ctx, letter) {\n  ctx.subscribe(letter.from);\n  ctx.send(letter.from, UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, UNSUBSCRIBE, function (ctx, letter) {\n  ctx.unsubscribe(letter.from);\n}), _HANDLERS);\nspawn(HANDLERS, NAME);\n\nfunction put(key, value) {\n  send(NAME, PUT, {\n    key: key,\n    value: value\n  });\n  return config();\n}\n\nfunction get(key, fallback) {\n  return send(NAME, GET, {\n    key: key,\n    fallback: fallback\n  }, {\n    expectReply: true,\n    timeout: 10\n  });\n}\n\nfunction first() {\n  return _first.apply(this, arguments);\n}\n\nfunction _first() {\n  _first = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var wants,\n        fallback,\n        _wants,\n        head,\n        rest,\n        ret,\n        _args2 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            wants = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : [];\n            fallback = _args2.length > 1 ? _args2[1] : undefined;\n\n            if (wants.length) {\n              _context2.next = 4;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", fallback);\n\n          case 4:\n            _wants = _toArray(wants), head = _wants[0], rest = _wants.slice(1);\n            _context2.next = 7;\n            return get(head);\n\n          case 7:\n            ret = _context2.sent;\n\n            if (!(ret == null)) {\n              _context2.next = 10;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", first(rest, fallback));\n\n          case 10:\n            return _context2.abrupt(\"return\", ret);\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _first.apply(this, arguments);\n}\n\nfunction all() {\n  return send(NAME, GET_ALL, null, {\n    expectReply: true,\n    timeout: 10\n  });\n}\n\nfunction update(key) {\n  var fn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : identity;\n  send(NAME, UPDATE, {\n    key: key,\n    fn: fn\n  });\n  return config();\n}\n\nfunction _delete(key) {\n  send(NAME, DELETE, {\n    key: key\n  });\n  return config();\n}\n\nfunction where(pattern) {\n  return send(NAME, WHERE, {\n    pattern: pattern\n  }, {\n    expectReply: true,\n    timeout: 10\n  });\n}\n\nfunction subscribe(callback) {\n  return subscriber(NAME, function () {\n    return spawn(HANDLERS, NAME);\n  }, callback);\n}\n\nfunction clearConfig() {\n  return send(NAME, CLEAR);\n}\n\nfunction resetConfig(oldConfig) {\n  return clearConfig().then(config(oldConfig));\n}\n\nfunction config(values) {\n  if (values != null && _typeof(values) === \"object\") {\n    Object.keys(values).map(function (d) {\n      return put(d, values[d]);\n    });\n  }\n\n  return {\n    put: put,\n    get: get,\n    all: all,\n    first: first,\n    update: update,\n    \"delete\": _delete,\n    where: where,\n    subscribe: subscribe,\n    overload: overload\n  };\n}\n\nconfig.put = put;\nconfig.get = get;\nconfig.all = all;\nconfig.first = first;\nconfig.update = update;\nconfig[\"delete\"] = _delete;\nconfig.where = where;\nconfig.subscribe = subscribe;\nconfig.overload = overload;\n\nvar noop = function noop(v) {\n  return v;\n};\n\nfunction overload() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  return new Promise( /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var oldConfig, result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return all();\n\n            case 2:\n              oldConfig = _context.sent;\n              _context.prev = 3;\n              config(opts);\n              _context.t0 = callback;\n              _context.next = 8;\n              return all();\n\n            case 8:\n              _context.t1 = _context.sent;\n              _context.next = 11;\n              return (0, _context.t0)(_context.t1);\n\n            case 11:\n              result = _context.sent;\n              _context.next = 14;\n              return resetConfig(oldConfig);\n\n            case 14:\n              resolve(result);\n              _context.next = 22;\n              break;\n\n            case 17:\n              _context.prev = 17;\n              _context.t2 = _context[\"catch\"](3);\n              _context.next = 21;\n              return resetConfig(oldConfig);\n\n            case 21:\n              reject(_context.t2);\n\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 17]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref6.apply(this, arguments);\n    };\n  }());\n}\n\nexport { clearConfig, config };\n//# sourceMappingURL=config.module.js.map\n","function invariant(fact, msg) {\n  if (!fact) {\n    var _console;\n\n    var error = new Error(\"INVARIANT \".concat(msg));\n    error.stack = error.stack.split(\"\\n\").filter(function (d) {\n      return !/at invariant/.test(d);\n    }).join(\"\\n\");\n\n    for (var _len = arguments.length, rest = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      rest[_key - 2] = arguments[_key];\n    }\n\n    (_console = console).error.apply(_console, [\"\\n\\n---\\n\\n\", error, \"\\n\\n\"].concat(rest, [\"\\n\\n---\\n\\n\"]));\n\n    throw error;\n  }\n}\n\nexport { invariant };\n//# sourceMappingURL=util-invariant.module.js.map\n","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport { config } from '@onflow/config';\n\nvar LEVELS = Object.freeze({\n  debug: 5,\n  info: 4,\n  log: 3,\n  warn: 2,\n  error: 1\n});\n\nvar buildLoggerMessageArgs = function buildLoggerMessageArgs(_ref) {\n  var title = _ref.title,\n      message = _ref.message;\n  return [\"\\n    %c\".concat(title, \"\\n    ============================\\n\\n    \").concat(message, \"\\n\\n    ============================\\n    \").replace(/\\n[^\\S\\r\\n]+/g, \"\\n\").trim(),, \"font-weight:bold;font-family:monospace;\"];\n};\n\nvar log = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var _console, _console2, _console3, _console4, _console5;\n\n    var title, message, level, _ref2$always, always, configLoggerLevel, loggerMessageArgs;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            title = _ref2.title, message = _ref2.message, level = _ref2.level, _ref2$always = _ref2.always, always = _ref2$always === void 0 ? false : _ref2$always;\n            _context.next = 3;\n            return config.get(\"logger.level\", LEVELS.warn);\n\n          case 3:\n            configLoggerLevel = _context.sent;\n\n            if (!(!always && configLoggerLevel < level)) {\n              _context.next = 6;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 6:\n            loggerMessageArgs = buildLoggerMessageArgs({\n              title: title,\n              message: message\n            });\n            _context.t0 = level;\n            _context.next = _context.t0 === LEVELS.debug ? 10 : _context.t0 === LEVELS.info ? 12 : _context.t0 === LEVELS.warn ? 14 : _context.t0 === LEVELS.error ? 16 : 18;\n            break;\n\n          case 10:\n            (_console = console).debug.apply(_console, _toConsumableArray(loggerMessageArgs));\n\n            return _context.abrupt(\"break\", 19);\n\n          case 12:\n            (_console2 = console).info.apply(_console2, _toConsumableArray(loggerMessageArgs));\n\n            return _context.abrupt(\"break\", 19);\n\n          case 14:\n            (_console3 = console).warn.apply(_console3, _toConsumableArray(loggerMessageArgs));\n\n            return _context.abrupt(\"break\", 19);\n\n          case 16:\n            (_console4 = console).error.apply(_console4, _toConsumableArray(loggerMessageArgs));\n\n            return _context.abrupt(\"break\", 19);\n\n          case 18:\n            (_console5 = console).log.apply(_console5, _toConsumableArray(loggerMessageArgs));\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function log(_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nlog.deprecate = function (_ref4) {\n  var pkg = _ref4.pkg,\n      subject = _ref4.subject,\n      transition = _ref4.transition,\n      _ref4$level = _ref4.level,\n      level = _ref4$level === void 0 ? LEVELS.warn : _ref4$level,\n      _ref4$message = _ref4.message,\n      message = _ref4$message === void 0 ? \"\" : _ref4$message,\n      _ref4$callback = _ref4.callback,\n      callback = _ref4$callback === void 0 ? null : _ref4$callback;\n\n  var capitalizeFirstLetter = function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  };\n\n  var logMessage = function logMessage() {\n    return log({\n      title: \"\".concat(pkg ? pkg + \" \" : \"\", \"Deprecation Notice\"),\n      message: \"\\n      \".concat(subject ? \"\".concat(capitalizeFirstLetter(subject), \" is deprecated and will cease to work in future releases\").concat(pkg ? \" of \" + pkg : \"\", \".\") : \"\").concat(message ? \"\\n\" + message : \"\").concat(transition ? \"\\nYou can learn more (including a guide on common transition paths) here: \".concat(transition) : \"\", \"\\n    \").trim(),\n      level: level\n    });\n  };\n\n  if (typeof callback === \"function\") {\n    return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var _args2 = arguments;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return logMessage();\n\n            case 2:\n              _context2.next = 4;\n              return callback.apply(void 0, _args2);\n\n            case 4:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n  }\n\n  return logMessage();\n};\n\nexport { LEVELS, log };\n//# sourceMappingURL=util-logger.module.js.map\n","import { Buffer } from 'buffer';\nexport { Buffer } from 'buffer';\n\n/**\n * Built on top of rlp library, removing the BN dependency for the flow.\n * Package : https://github.com/ethereumjs/rlp\n * RLP License : https://github.com/ethereumjs/rlp/blob/master/LICENSE\n *\n * ethereumjs/rlp is licensed under the\n * Mozilla Public License 2.0\n * Permissions of this weak copyleft license are conditioned on making available source code of licensed files and modifications of those files under the same license (or in certain cases, one of the GNU licenses). Copyright and license notices must be preserved. Contributors provide an express grant of patent rights. However, a larger work using the licensed work may be distributed under different terms and without source code for files added in the larger work.\n **/\n\n/**\n * @param input - will be converted to buffer\n * @returns returns buffer of encoded data\n **/\n\nfunction encode(input) {\n  if (Array.isArray(input)) {\n    var output = [];\n\n    for (var i = 0; i < input.length; i++) {\n      output.push(encode(input[i]));\n    }\n\n    var buf = Buffer.concat(output);\n    return Buffer.concat([encodeLength(buf.length, 192), buf]);\n  } else {\n    var inputBuf = toBuffer(input);\n    return inputBuf.length === 1 && inputBuf[0] < 128 ? inputBuf : Buffer.concat([encodeLength(inputBuf.length, 128), inputBuf]);\n  }\n}\n/**\n * Parse integers. Check if there is no leading zeros\n * @param v The value to parse\n * @param base The base to parse the integer into\n */\n\nfunction safeParseInt(v, base) {\n  if (v.slice(0, 2) === \"00\") {\n    throw new Error(\"invalid RLP: extra zeros\");\n  }\n\n  return parseInt(v, base);\n}\n\nfunction encodeLength(len, offset) {\n  if (len < 56) {\n    return Buffer.from([len + offset]);\n  } else {\n    var hexLength = intToHex(len);\n    var lLength = hexLength.length / 2;\n    var firstByte = intToHex(offset + 55 + lLength);\n    return Buffer.from(firstByte + hexLength, \"hex\");\n  }\n}\n/**\n * Built on top of rlp library, removing the BN dependency for the flow.\n * Package : https://github.com/ethereumjs/rlp\n * RLP License : https://github.com/ethereumjs/rlp/blob/master/LICENSE\n *\n * ethereumjs/rlp is licensed under the\n * Mozilla Public License 2.0\n * Permissions of this weak copyleft license are conditioned on making available source code of licensed files and modifications of those files under the same license (or in certain cases, one of the GNU licenses). Copyright and license notices must be preserved. Contributors provide an express grant of patent rights. However, a larger work using the licensed work may be distributed under different terms and without source code for files added in the larger work.\n **/\n\n/**\n * @param input - will be converted to buffer\n * @param stream Is the input a stream (false by default)\n * @returns returns buffer of encoded data\n **/\n\n\nfunction decode(input, stream) {\n  if (stream === void 0) {\n    stream = false;\n  }\n\n  if (!input || input.length === 0) {\n    return Buffer.from([]);\n  }\n\n  var inputBuffer = toBuffer(input);\n\n  var decoded = _decode(inputBuffer);\n\n  if (stream) {\n    return decoded;\n  }\n\n  if (decoded.remainder.length !== 0) {\n    throw new Error(\"invalid remainder\");\n  }\n\n  return decoded.data;\n}\n/**\n * Get the length of the RLP input\n * @param input\n * @returns The length of the input or an empty Buffer if no input\n */\n\nfunction getLength(input) {\n  if (!input || input.length === 0) {\n    return Buffer.from([]);\n  }\n\n  var inputBuffer = toBuffer(input);\n  var firstByte = inputBuffer[0];\n\n  if (firstByte <= 0x7f) {\n    return inputBuffer.length;\n  } else if (firstByte <= 0xb7) {\n    return firstByte - 0x7f;\n  } else if (firstByte <= 0xbf) {\n    return firstByte - 0xb6;\n  } else if (firstByte <= 0xf7) {\n    // a list between  0-55 bytes long\n    return firstByte - 0xbf;\n  } else {\n    // a list  over 55 bytes long\n    var llength = firstByte - 0xf6;\n    var length = safeParseInt(inputBuffer.slice(1, llength).toString(\"hex\"), 16);\n    return llength + length;\n  }\n}\n/** Decode an input with RLP */\n\nfunction _decode(input) {\n  var length, llength, data, innerRemainder, d;\n  var decoded = [];\n  var firstByte = input[0];\n\n  if (firstByte <= 0x7f) {\n    // a single byte whose value is in the [0x00, 0x7f] range, that byte is its own RLP encoding.\n    return {\n      data: input.slice(0, 1),\n      remainder: input.slice(1)\n    };\n  } else if (firstByte <= 0xb7) {\n    // string is 0-55 bytes long. A single byte with value 0x80 plus the length of the string followed by the string\n    // The range of the first byte is [0x80, 0xb7]\n    length = firstByte - 0x7f; // set 0x80 null to 0\n\n    if (firstByte === 0x80) {\n      data = Buffer.from([]);\n    } else {\n      data = input.slice(1, length);\n    }\n\n    if (length === 2 && data[0] < 0x80) {\n      throw new Error(\"invalid rlp encoding: byte must be less 0x80\");\n    }\n\n    return {\n      data: data,\n      remainder: input.slice(length)\n    };\n  } else if (firstByte <= 0xbf) {\n    llength = firstByte - 0xb6;\n    length = safeParseInt(input.slice(1, llength).toString(\"hex\"), 16);\n    data = input.slice(llength, length + llength);\n\n    if (data.length < length) {\n      throw new Error(\"invalid RLP\");\n    }\n\n    return {\n      data: data,\n      remainder: input.slice(length + llength)\n    };\n  } else if (firstByte <= 0xf7) {\n    // a list between  0-55 bytes long\n    length = firstByte - 0xbf;\n    innerRemainder = input.slice(1, length);\n\n    while (innerRemainder.length) {\n      d = _decode(innerRemainder);\n      decoded.push(d.data);\n      innerRemainder = d.remainder;\n    }\n\n    return {\n      data: decoded,\n      remainder: input.slice(length)\n    };\n  } else {\n    // a list  over 55 bytes long\n    llength = firstByte - 0xf6;\n    length = safeParseInt(input.slice(1, llength).toString(\"hex\"), 16);\n    var totalLength = llength + length;\n\n    if (totalLength > input.length) {\n      throw new Error(\"invalid rlp: total length is larger than the data\");\n    }\n\n    innerRemainder = input.slice(llength, totalLength);\n\n    if (innerRemainder.length === 0) {\n      throw new Error(\"invalid rlp, List has a invalid length\");\n    }\n\n    while (innerRemainder.length) {\n      d = _decode(innerRemainder);\n      decoded.push(d.data);\n      innerRemainder = d.remainder;\n    }\n\n    return {\n      data: decoded,\n      remainder: input.slice(totalLength)\n    };\n  }\n}\n/** Check if a string is prefixed by 0x */\n\n\nfunction isHexPrefixed(str) {\n  return str.slice(0, 2) === \"0x\";\n}\n/** Removes 0x from a given String */\n\n\nfunction stripHexPrefix(str) {\n  if (typeof str !== \"string\") {\n    return str;\n  }\n\n  return isHexPrefixed(str) ? str.slice(2) : str;\n}\n/** Transform an integer into its hexadecimal value */\n\n\nfunction intToHex(integer) {\n  if (integer < 0) {\n    throw new Error(\"Invalid integer as argument, must be unsigned!\");\n  }\n\n  var hex = integer.toString(16);\n  return hex.length % 2 ? \"0\" + hex : hex;\n}\n/** Pad a string to be even */\n\n\nfunction padToEven(a) {\n  return a.length % 2 ? \"0\" + a : a;\n}\n/** Transform an integer into a Buffer */\n\n\nfunction intToBuffer(integer) {\n  var hex = intToHex(integer);\n  return Buffer.from(hex, \"hex\");\n}\n/** Transform anything into a Buffer */\n\n\nfunction toBuffer(v) {\n  if (!Buffer.isBuffer(v)) {\n    if (typeof v === \"string\") {\n      if (isHexPrefixed(v)) {\n        return Buffer.from(padToEven(stripHexPrefix(v)), \"hex\");\n      } else {\n        return Buffer.from(v);\n      }\n    } else if (typeof v === \"number\") {\n      if (!v) {\n        return Buffer.from([]);\n      } else {\n        return intToBuffer(v);\n      }\n    } else if (v === null || v === undefined) {\n      return Buffer.from([]);\n    } else if (v instanceof Uint8Array) {\n      return Buffer.from(v);\n    } else {\n      throw new Error(\"invalid type\");\n    }\n  }\n\n  return v;\n}\n\nexport { decode, encode, getLength, toBuffer };\n//# sourceMappingURL=rlp.module.js.map\n","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nmodule.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\nvar possibleConstructorReturn = require(\"./possibleConstructorReturn.js\");\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return possibleConstructorReturn(this, result);\n  };\n}\nmodule.exports = _createSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nmodule.exports = _isNativeFunction, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct.bind(), module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n  return _construct.apply(null, arguments);\n}\nmodule.exports = _construct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\nvar setPrototypeOf = require(\"./setPrototypeOf.js\");\nvar isNativeFunction = require(\"./isNativeFunction.js\");\nvar construct = require(\"./construct.js\");\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _wrapNativeSuper(Class);\n}\nmodule.exports = _wrapNativeSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nif (global.fetch) {\n\texports.default = global.fetch.bind(global);\n}\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","function sansPrefix(address) {\n  if (address == null) return null;\n  return address.replace(/^0x/, \"\").replace(/^Fx/, \"\");\n}\nfunction withPrefix(address) {\n  if (address == null) return null;\n  return \"0x\" + sansPrefix(address);\n}\nfunction display(address) {\n  return withPrefix(address);\n}\n\nexport { display, sansPrefix, withPrefix };\n//# sourceMappingURL=util-address.module.js.map\n","import _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport { invariant } from '@onflow/util-invariant';\nimport 'buffer';\nimport _createClass from '@babel/runtime/helpers/createClass';\nimport _classCallCheck from '@babel/runtime/helpers/classCallCheck';\nimport _inherits from '@babel/runtime/helpers/inherits';\nimport _createSuper from '@babel/runtime/helpers/createSuper';\nimport _wrapNativeSuper from '@babel/runtime/helpers/wrapNativeSuper';\nimport * as logger from '@onflow/util-logger';\nimport fetchTransport from 'node-fetch';\nimport _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport { sansPrefix } from '@onflow/util-address';\n\nvar HTTPRequestError = /*#__PURE__*/function (_Error) {\n  _inherits(HTTPRequestError, _Error);\n\n  var _super = _createSuper(HTTPRequestError);\n\n  function HTTPRequestError(_ref) {\n    var _this;\n\n    var error = _ref.error,\n        hostname = _ref.hostname,\n        path = _ref.path,\n        method = _ref.method,\n        requestBody = _ref.requestBody,\n        responseBody = _ref.responseBody,\n        responseStatusText = _ref.responseStatusText,\n        statusCode = _ref.statusCode;\n\n    _classCallCheck(this, HTTPRequestError);\n\n    var msg = \"\\n      HTTP Request Error: An error occurred when interacting with the Access API.\\n      \".concat(error ? \"error=\".concat(error) : \"\", \"\\n      \").concat(hostname ? \"hostname=\".concat(hostname) : \"\", \"\\n      \").concat(path ? \"path=\".concat(path) : \"\", \"\\n      \").concat(method ? \"method=\".concat(method) : \"\", \"\\n      \").concat(requestBody ? \"requestBody=\".concat(requestBody) : \"\", \"\\n      \").concat(responseBody ? \"responseBody=\".concat(responseBody) : \"\", \"\\n      \").concat(responseStatusText ? \"responseStatusText=\".concat(responseStatusText) : \"\", \"\\n      \").concat(statusCode ? \"statusCode=\".concat(statusCode) : \"\", \"\\n    \");\n    _this = _super.call(this, msg);\n    _this.name = \"HTTP Request Error\";\n    _this.statusCode = statusCode;\n    _this.errorMessage = error;\n    return _this;\n  }\n\n  return _createClass(HTTPRequestError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n * Creates an HTTP Request to be sent to a REST Access API via Fetch API.\n *\n * @param {Object} options - Options for the HTTP Request\n * @param {String} options.hostname - Access API Hostname\n * @param {String} options.path - Path to the resource on the Access API\n * @param {String} options.method - HTTP Method\n * @param {Object} options.body - HTTP Request Body\n * @param {Object | Headers} [options.headers] - HTTP Request Headers\n *\n * @returns JSON object response from Access API.\n */\n\n\nfunction httpRequest(_x) {\n  return _httpRequest.apply(this, arguments);\n}\n\nfunction _httpRequest() {\n  _httpRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(_ref2) {\n    var hostname, path, method, body, headers, _ref2$retryLimit, retryLimit, _ref2$retryIntervalMs, retryIntervalMs, bodyJSON, makeRequest, requestLoop, _requestLoop;\n\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _requestLoop = function _requestLoop3() {\n              _requestLoop = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n                var retryAttempt,\n                    resp,\n                    retryStatusCodes,\n                    _args3 = arguments;\n                return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                  while (1) {\n                    switch (_context3.prev = _context3.next) {\n                      case 0:\n                        retryAttempt = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : 0;\n                        _context3.prev = 1;\n                        _context3.next = 4;\n                        return makeRequest();\n\n                      case 4:\n                        resp = _context3.sent;\n                        return _context3.abrupt(\"return\", resp);\n\n                      case 8:\n                        _context3.prev = 8;\n                        _context3.t0 = _context3[\"catch\"](1);\n                        retryStatusCodes = [408, 429, 500, 502, 503, 504];\n\n                        if (!retryStatusCodes.includes(_context3.t0.statusCode)) {\n                          _context3.next = 17;\n                          break;\n                        }\n\n                        _context3.next = 14;\n                        return new Promise(function (resolve, reject) {\n                          if (retryAttempt < retryLimit) {\n                            console.warn(\"Access node unavailable, retrying in \".concat(retryIntervalMs, \" ms...\"));\n                            setTimeout(function () {\n                              resolve(requestLoop(retryAttempt + 1));\n                            }, retryIntervalMs);\n                          } else {\n                            reject(_context3.t0);\n                          }\n                        });\n\n                      case 14:\n                        return _context3.abrupt(\"return\", _context3.sent);\n\n                      case 17:\n                        throw _context3.t0;\n\n                      case 18:\n                      case \"end\":\n                        return _context3.stop();\n                    }\n                  }\n                }, _callee3, null, [[1, 8]]);\n              }));\n              return _requestLoop.apply(this, arguments);\n            };\n\n            requestLoop = function _requestLoop2() {\n              return _requestLoop.apply(this, arguments);\n            };\n\n            makeRequest = function _makeRequest() {\n              return fetchTransport(\"\".concat(hostname).concat(path), {\n                method: method,\n                body: bodyJSON,\n                headers: headers\n              }).then( /*#__PURE__*/function () {\n                var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(res) {\n                  var responseText, response;\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          if (!res.ok) {\n                            _context.next = 2;\n                            break;\n                          }\n\n                          return _context.abrupt(\"return\", res.json());\n\n                        case 2:\n                          if (!res.body) {\n                            _context.next = 8;\n                            break;\n                          }\n\n                          _context.next = 5;\n                          return res.text();\n\n                        case 5:\n                          _context.t0 = _context.sent;\n                          _context.next = 9;\n                          break;\n\n                        case 8:\n                          _context.t0 = null;\n\n                        case 9:\n                          responseText = _context.t0;\n                          response = safeParseJSON(responseText);\n                          throw new HTTPRequestError({\n                            error: response === null || response === void 0 ? void 0 : response.message,\n                            hostname: hostname,\n                            path: path,\n                            method: method,\n                            requestBody: bodyJSON,\n                            responseBody: responseText,\n                            responseStatusText: res.statusText,\n                            statusCode: res.status\n                          });\n\n                        case 12:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x2) {\n                  return _ref3.apply(this, arguments);\n                };\n              }())[\"catch\"]( /*#__PURE__*/function () {\n                var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n                  return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          if (!(e instanceof HTTPRequestError)) {\n                            _context2.next = 2;\n                            break;\n                          }\n\n                          throw e;\n\n                        case 2:\n                          _context2.next = 4;\n                          return logger.log({\n                            title: \"Access Node Error\",\n                            message: \"The provided access node \".concat(hostname, \" does not appear to be a valid REST/HTTP access node.\\nPlease verify that you are not unintentionally using a GRPC access node.\\nSee more here: https://docs.onflow.org/fcl/reference/sdk-guidelines/#connect\"),\n                            level: logger.LEVELS.error\n                          });\n\n                        case 4:\n                          throw new HTTPRequestError({\n                            error: e === null || e === void 0 ? void 0 : e.message,\n                            hostname: hostname,\n                            path: path,\n                            method: method,\n                            requestBody: bodyJSON\n                          });\n\n                        case 5:\n                        case \"end\":\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2);\n                }));\n\n                return function (_x3) {\n                  return _ref4.apply(this, arguments);\n                };\n              }());\n            };\n\n            hostname = _ref2.hostname, path = _ref2.path, method = _ref2.method, body = _ref2.body, headers = _ref2.headers, _ref2$retryLimit = _ref2.retryLimit, retryLimit = _ref2$retryLimit === void 0 ? 5 : _ref2$retryLimit, _ref2$retryIntervalMs = _ref2.retryIntervalMs, retryIntervalMs = _ref2$retryIntervalMs === void 0 ? 1000 : _ref2$retryIntervalMs;\n            bodyJSON = body ? JSON.stringify(body) : null;\n            _context4.next = 7;\n            return requestLoop();\n\n          case 7:\n            return _context4.abrupt(\"return\", _context4.sent);\n\n          case 8:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _httpRequest.apply(this, arguments);\n}\n\nfunction safeParseJSON(data) {\n  try {\n    return JSON.parse(data);\n  } catch (_unused) {\n    return null;\n  }\n}\n\nfunction sendExecuteScriptAtBlockIDRequest(_x, _x2, _x3) {\n  return _sendExecuteScriptAtBlockIDRequest.apply(this, arguments);\n}\n\nfunction _sendExecuteScriptAtBlockIDRequest() {\n  _sendExecuteScriptAtBlockIDRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix, context, opts) {\n    var httpRequest$1, res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            httpRequest$1 = opts.httpRequest || httpRequest;\n            _context.next = 3;\n            return httpRequest$1({\n              hostname: opts.node,\n              path: \"/v1/scripts?block_id=\".concat(ix.block.id),\n              method: \"POST\",\n              body: {\n                script: context.Buffer.from(ix.message.cadence).toString(\"base64\"),\n                arguments: ix.message.arguments.map(function (arg) {\n                  return context.Buffer.from(JSON.stringify(ix.arguments[arg].asArgument)).toString(\"base64\");\n                })\n              }\n            });\n\n          case 3:\n            res = _context.sent;\n            return _context.abrupt(\"return\", constructResponse$4(ix, context, res));\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _sendExecuteScriptAtBlockIDRequest.apply(this, arguments);\n}\n\nfunction sendExecuteScriptAtBlockHeightRequest(_x4, _x5, _x6) {\n  return _sendExecuteScriptAtBlockHeightRequest.apply(this, arguments);\n}\n\nfunction _sendExecuteScriptAtBlockHeightRequest() {\n  _sendExecuteScriptAtBlockHeightRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ix, context, opts) {\n    var httpRequest$1, res;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            httpRequest$1 = opts.httpRequest || httpRequest;\n            _context2.next = 3;\n            return httpRequest$1({\n              hostname: opts.node,\n              path: \"/v1/scripts?block_height=\".concat(ix.block.height),\n              method: \"POST\",\n              body: {\n                script: context.Buffer.from(ix.message.cadence).toString(\"base64\"),\n                arguments: ix.message.arguments.map(function (arg) {\n                  return context.Buffer.from(JSON.stringify(ix.arguments[arg].asArgument)).toString(\"base64\");\n                })\n              }\n            });\n\n          case 3:\n            res = _context2.sent;\n            return _context2.abrupt(\"return\", constructResponse$4(ix, context, res));\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _sendExecuteScriptAtBlockHeightRequest.apply(this, arguments);\n}\n\nfunction sendExecuteScriptAtLatestBlockRequest(_x7, _x8, _x9) {\n  return _sendExecuteScriptAtLatestBlockRequest.apply(this, arguments);\n}\n\nfunction _sendExecuteScriptAtLatestBlockRequest() {\n  _sendExecuteScriptAtLatestBlockRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ix, context, opts) {\n    var httpRequest$1, res;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            httpRequest$1 = opts.httpRequest || httpRequest;\n            _context3.next = 3;\n            return httpRequest$1({\n              hostname: opts.node,\n              path: \"/v1/scripts?block_height=sealed\",\n              method: \"POST\",\n              body: {\n                script: context.Buffer.from(ix.message.cadence).toString(\"base64\"),\n                arguments: ix.message.arguments.map(function (arg) {\n                  return context.Buffer.from(JSON.stringify(ix.arguments[arg].asArgument)).toString(\"base64\");\n                })\n              }\n            });\n\n          case 3:\n            res = _context3.sent;\n            return _context3.abrupt(\"return\", constructResponse$4(ix, context, res));\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _sendExecuteScriptAtLatestBlockRequest.apply(this, arguments);\n}\n\nfunction constructResponse$4(ix, context, res) {\n  var ret = context.response();\n  ret.tag = ix.tag;\n  ret.encodedData = JSON.parse(context.Buffer.from(res, \"base64\").toString());\n  return ret;\n}\n\nfunction sendExecuteScript(_x10) {\n  return _sendExecuteScript.apply(this, arguments);\n}\n\nfunction _sendExecuteScript() {\n  _sendExecuteScript = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(ix) {\n    var context,\n        opts,\n        _args4 = arguments;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            context = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : {};\n            opts = _args4.length > 2 && _args4[2] !== undefined ? _args4[2] : {};\n            invariant(opts.node, \"SDK Send Execute Script Error: opts.node must be defined.\");\n            invariant(context.response, \"SDK Send Execute Script Error: context.response must be defined.\");\n            invariant(context.Buffer, \"SDK Send Execute Script Error: context.Buffer must be defined.\");\n            _context4.next = 7;\n            return ix;\n\n          case 7:\n            ix = _context4.sent;\n\n            if (!ix.block.id) {\n              _context4.next = 14;\n              break;\n            }\n\n            _context4.next = 11;\n            return sendExecuteScriptAtBlockIDRequest(ix, context, opts);\n\n          case 11:\n            return _context4.abrupt(\"return\", _context4.sent);\n\n          case 14:\n            if (!ix.block.height) {\n              _context4.next = 20;\n              break;\n            }\n\n            _context4.next = 17;\n            return sendExecuteScriptAtBlockHeightRequest(ix, context, opts);\n\n          case 17:\n            return _context4.abrupt(\"return\", _context4.sent);\n\n          case 20:\n            _context4.next = 22;\n            return sendExecuteScriptAtLatestBlockRequest(ix, context, opts);\n\n          case 22:\n            return _context4.abrupt(\"return\", _context4.sent);\n\n          case 23:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _sendExecuteScript.apply(this, arguments);\n}\n\nvar HashAlgorithmIDs = {\n  SHA2_256: 1,\n  SHA2_384: 2,\n  SHA3_256: 3,\n  SHA3_384: 4,\n  KMAC128_BLS_BLS12_381: 5\n};\nvar SignatureAlgorithmIDs = {\n  ECDSA_P256: 1,\n  ECDSA_secp256k1: 2,\n  BLS_BLS12_381: 3\n};\n\nfunction sendGetAccountAtBlockHeightRequest(_x, _x2, _x3) {\n  return _sendGetAccountAtBlockHeightRequest.apply(this, arguments);\n}\n\nfunction _sendGetAccountAtBlockHeightRequest() {\n  _sendGetAccountAtBlockHeightRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix, context, opts) {\n    var httpRequest$1, res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            httpRequest$1 = opts.httpRequest || httpRequest;\n            _context.next = 3;\n            return httpRequest$1({\n              hostname: opts.node,\n              path: \"/v1/accounts/\".concat(ix.account.addr, \"?block_height=\").concat(ix.block.height, \"&expand=contracts,keys\"),\n              method: \"GET\",\n              body: null\n            });\n\n          case 3:\n            res = _context.sent;\n            return _context.abrupt(\"return\", constructResponse$3(ix, context, res));\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _sendGetAccountAtBlockHeightRequest.apply(this, arguments);\n}\n\nfunction sendGetAccountAtLatestBlockRequest(_x4, _x5, _x6) {\n  return _sendGetAccountAtLatestBlockRequest.apply(this, arguments);\n}\n\nfunction _sendGetAccountAtLatestBlockRequest() {\n  _sendGetAccountAtLatestBlockRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ix, context, opts) {\n    var httpRequest$1, res;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            httpRequest$1 = opts.httpRequest || httpRequest;\n            _context2.next = 3;\n            return httpRequest$1({\n              hostname: opts.node,\n              path: \"/v1/accounts/\".concat(ix.account.addr, \"?block_height=sealed&expand=contracts,keys\"),\n              method: \"GET\",\n              body: null\n            });\n\n          case 3:\n            res = _context2.sent;\n            return _context2.abrupt(\"return\", constructResponse$3(ix, context, res));\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _sendGetAccountAtLatestBlockRequest.apply(this, arguments);\n}\n\nfunction constructResponse$3(ix, context, res) {\n  var _res$keys$map, _res$keys;\n\n  var ret = context.response();\n  ret.tag = ix.tag;\n\n  var unwrapContracts = function unwrapContracts(contracts) {\n    var c = {};\n    if (!contracts) return c;\n\n    for (var _i = 0, _Object$keys = Object.keys(contracts); _i < _Object$keys.length; _i++) {\n      var key = _Object$keys[_i];\n      c[key] = context.Buffer.from(contracts[key], \"base64\").toString();\n    }\n\n    return c;\n  };\n\n  ret.account = {\n    address: res.address,\n    balance: Number(res.balance),\n    code: \"\",\n    contracts: unwrapContracts(res.contracts),\n    keys: (_res$keys$map = (_res$keys = res.keys) === null || _res$keys === void 0 ? void 0 : _res$keys.map(function (key) {\n      return {\n        index: Number(key.index),\n        publicKey: key.public_key.replace(/^0x/, \"\"),\n        signAlgo: SignatureAlgorithmIDs[key.signing_algorithm],\n        signAlgoString: key.signing_algorithm,\n        hashAlgo: HashAlgorithmIDs[key.hashing_algorithm],\n        hashAlgoString: key.hashing_algorithm,\n        sequenceNumber: Number(key.sequence_number),\n        weight: Number(key.weight),\n        revoked: key.revoked\n      };\n    })) !== null && _res$keys$map !== void 0 ? _res$keys$map : []\n  };\n  return ret;\n}\n\nfunction sendGetAccount(_x7) {\n  return _sendGetAccount.apply(this, arguments);\n}\n\nfunction _sendGetAccount() {\n  _sendGetAccount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ix) {\n    var context,\n        opts,\n        _args3 = arguments;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            context = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : {};\n            opts = _args3.length > 2 && _args3[2] !== undefined ? _args3[2] : {};\n            invariant(opts.node, \"SDK Send Get Account Error: opts.node must be defined.\");\n            invariant(context.response, \"SDK Send Get Account Error: context.response must be defined.\");\n            invariant(context.Buffer, \"SDK Send Get Account Error: context.Buffer must be defined.\");\n            _context3.next = 7;\n            return ix;\n\n          case 7:\n            ix = _context3.sent;\n\n            if (!(ix.block.height !== null)) {\n              _context3.next = 14;\n              break;\n            }\n\n            _context3.next = 11;\n            return sendGetAccountAtBlockHeightRequest(ix, context, opts);\n\n          case 11:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 14:\n            _context3.next = 16;\n            return sendGetAccountAtLatestBlockRequest(ix, context, opts);\n\n          case 16:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 17:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _sendGetAccount.apply(this, arguments);\n}\n\nfunction sendGetBlockHeaderByIDRequest(_x, _x2, _x3) {\n  return _sendGetBlockHeaderByIDRequest.apply(this, arguments);\n}\n\nfunction _sendGetBlockHeaderByIDRequest() {\n  _sendGetBlockHeaderByIDRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix, context, opts) {\n    var httpRequest$1, res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            httpRequest$1 = opts.httpRequest || httpRequest;\n            _context.next = 3;\n            return httpRequest$1({\n              hostname: opts.node,\n              path: \"/v1/blocks/\".concat(ix.block.id),\n              method: \"GET\",\n              body: null\n            });\n\n          case 3:\n            res = _context.sent;\n            return _context.abrupt(\"return\", constructResponse$2(ix, context, res));\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _sendGetBlockHeaderByIDRequest.apply(this, arguments);\n}\n\nfunction sendGetBlockHeaderByHeightRequest(_x4, _x5, _x6) {\n  return _sendGetBlockHeaderByHeightRequest.apply(this, arguments);\n}\n\nfunction _sendGetBlockHeaderByHeightRequest() {\n  _sendGetBlockHeaderByHeightRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ix, context, opts) {\n    var httpRequest$1, res;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            httpRequest$1 = opts.httpRequest || httpRequest;\n            _context2.next = 3;\n            return httpRequest$1({\n              hostname: opts.node,\n              path: \"/v1/blocks?height=\".concat(ix.block.height),\n              method: \"GET\",\n              body: null\n            });\n\n          case 3:\n            res = _context2.sent;\n            return _context2.abrupt(\"return\", constructResponse$2(ix, context, res));\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _sendGetBlockHeaderByHeightRequest.apply(this, arguments);\n}\n\nfunction sendGetLatestBlockHeaderRequest(_x7, _x8, _x9) {\n  return _sendGetLatestBlockHeaderRequest.apply(this, arguments);\n}\n\nfunction _sendGetLatestBlockHeaderRequest() {\n  _sendGetLatestBlockHeaderRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ix, context, opts) {\n    var _ix$block;\n\n    var httpRequest$1, height, res;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            httpRequest$1 = opts.httpRequest || httpRequest;\n            height = (_ix$block = ix.block) !== null && _ix$block !== void 0 && _ix$block.isSealed ? \"sealed\" : \"finalized\";\n            _context3.next = 4;\n            return httpRequest$1({\n              hostname: opts.node,\n              path: \"/v1/blocks?height=\".concat(height),\n              method: \"GET\",\n              body: null\n            });\n\n          case 4:\n            res = _context3.sent;\n            return _context3.abrupt(\"return\", constructResponse$2(ix, context, res));\n\n          case 6:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _sendGetLatestBlockHeaderRequest.apply(this, arguments);\n}\n\nfunction constructResponse$2(ix, context, res) {\n  var block = res.length ? res[0] : null;\n  var ret = context.response();\n  ret.tag = ix.tag;\n  ret.blockHeader = {\n    id: block.header.id,\n    parentId: block.header.parent_id,\n    height: Number(block.header.height),\n    timestamp: block.header.timestamp\n  };\n  return ret;\n}\n\nfunction sendGetBlockHeader(_x10) {\n  return _sendGetBlockHeader.apply(this, arguments);\n}\n\nfunction _sendGetBlockHeader() {\n  _sendGetBlockHeader = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(ix) {\n    var context,\n        opts,\n        interactionHasBlockID,\n        interactionHasBlockHeight,\n        _args4 = arguments;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            context = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : {};\n            opts = _args4.length > 2 && _args4[2] !== undefined ? _args4[2] : {};\n            invariant(opts.node, \"SDK Send Get Block Header Error: opts.node must be defined.\");\n            invariant(context.response, \"SDK Send Get Block Header Error: context.response must be defined.\");\n            _context4.next = 6;\n            return ix;\n\n          case 6:\n            ix = _context4.sent;\n            interactionHasBlockID = ix.block.id !== null;\n            interactionHasBlockHeight = ix.block.height !== null;\n\n            if (!interactionHasBlockID) {\n              _context4.next = 15;\n              break;\n            }\n\n            _context4.next = 12;\n            return sendGetBlockHeaderByIDRequest(ix, context, opts);\n\n          case 12:\n            return _context4.abrupt(\"return\", _context4.sent);\n\n          case 15:\n            if (!interactionHasBlockHeight) {\n              _context4.next = 21;\n              break;\n            }\n\n            _context4.next = 18;\n            return sendGetBlockHeaderByHeightRequest(ix, context, opts);\n\n          case 18:\n            return _context4.abrupt(\"return\", _context4.sent);\n\n          case 21:\n            _context4.next = 23;\n            return sendGetLatestBlockHeaderRequest(ix, context, opts);\n\n          case 23:\n            return _context4.abrupt(\"return\", _context4.sent);\n\n          case 24:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _sendGetBlockHeader.apply(this, arguments);\n}\n\nfunction sendGetBlockByIDRequest(_x, _x2, _x3) {\n  return _sendGetBlockByIDRequest.apply(this, arguments);\n}\n\nfunction _sendGetBlockByIDRequest() {\n  _sendGetBlockByIDRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix, context, opts) {\n    var httpRequest$1, res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            httpRequest$1 = opts.httpRequest || httpRequest;\n            _context.next = 3;\n            return httpRequest$1({\n              hostname: opts.node,\n              path: \"/v1/blocks/\".concat(ix.block.id, \"?expand=payload\"),\n              method: \"GET\",\n              body: null\n            });\n\n          case 3:\n            res = _context.sent;\n            return _context.abrupt(\"return\", constructResponse$1(ix, context, res));\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _sendGetBlockByIDRequest.apply(this, arguments);\n}\n\nfunction sendGetBlockByHeightRequest(_x4, _x5, _x6) {\n  return _sendGetBlockByHeightRequest.apply(this, arguments);\n}\n\nfunction _sendGetBlockByHeightRequest() {\n  _sendGetBlockByHeightRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ix, context, opts) {\n    var httpRequest$1, res;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            httpRequest$1 = opts.httpRequest || httpRequest;\n            _context2.next = 3;\n            return httpRequest$1({\n              hostname: opts.node,\n              path: \"/v1/blocks?height=\".concat(ix.block.height, \"&expand=payload\"),\n              method: \"GET\",\n              body: null\n            });\n\n          case 3:\n            res = _context2.sent;\n            return _context2.abrupt(\"return\", constructResponse$1(ix, context, res));\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _sendGetBlockByHeightRequest.apply(this, arguments);\n}\n\nfunction sendGetBlockRequest(_x7, _x8, _x9) {\n  return _sendGetBlockRequest.apply(this, arguments);\n}\n\nfunction _sendGetBlockRequest() {\n  _sendGetBlockRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ix, context, opts) {\n    var _ix$block;\n\n    var httpRequest$1, height, res;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            httpRequest$1 = opts.httpRequest || httpRequest;\n            height = (_ix$block = ix.block) !== null && _ix$block !== void 0 && _ix$block.isSealed ? \"sealed\" : \"final\";\n            _context3.next = 4;\n            return httpRequest$1({\n              hostname: opts.node,\n              path: \"/v1/blocks?height=\".concat(height, \"&expand=payload\"),\n              method: \"GET\",\n              body: null\n            });\n\n          case 4:\n            res = _context3.sent;\n            return _context3.abrupt(\"return\", constructResponse$1(ix, context, res));\n\n          case 6:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _sendGetBlockRequest.apply(this, arguments);\n}\n\nfunction constructResponse$1(ix, context, res) {\n  var block = res.length ? res[0] : null;\n  var ret = context.response();\n  ret.tag = ix.tag;\n  ret.block = {\n    id: block.header.id,\n    parentId: block.header.parent_id,\n    height: Number(block.header.height),\n    timestamp: block.header.timestamp,\n    collectionGuarantees: block.payload.collection_guarantees.map(function (collectionGuarantee) {\n      return {\n        collectionId: collectionGuarantee.collection_id,\n        signerIds: collectionGuarantee.signer_ids\n      };\n    }),\n    blockSeals: block.payload.block_seals.map(function (blockSeal) {\n      return {\n        blockId: blockSeal.block_id,\n        executionReceiptId: blockSeal.result_id\n      };\n    })\n  };\n  return ret;\n}\n\nfunction sendGetBlock(_x10) {\n  return _sendGetBlock.apply(this, arguments);\n}\n\nfunction _sendGetBlock() {\n  _sendGetBlock = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(ix) {\n    var context,\n        opts,\n        interactionHasBlockID,\n        interactionHasBlockHeight,\n        _args4 = arguments;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            context = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : {};\n            opts = _args4.length > 2 && _args4[2] !== undefined ? _args4[2] : {};\n            invariant(opts.node, \"SDK Send Get Block Error: opts.node must be defined.\");\n            invariant(context.response, \"SDK Send Get Block Error: context.response must be defined.\");\n            _context4.next = 6;\n            return ix;\n\n          case 6:\n            ix = _context4.sent;\n            interactionHasBlockID = ix.block.id !== null;\n            interactionHasBlockHeight = ix.block.height !== null;\n\n            if (!interactionHasBlockID) {\n              _context4.next = 15;\n              break;\n            }\n\n            _context4.next = 12;\n            return sendGetBlockByIDRequest(ix, context, opts);\n\n          case 12:\n            return _context4.abrupt(\"return\", _context4.sent);\n\n          case 15:\n            if (!interactionHasBlockHeight) {\n              _context4.next = 21;\n              break;\n            }\n\n            _context4.next = 18;\n            return sendGetBlockByHeightRequest(ix, context, opts);\n\n          case 18:\n            return _context4.abrupt(\"return\", _context4.sent);\n\n          case 21:\n            _context4.next = 23;\n            return sendGetBlockRequest(ix, context, opts);\n\n          case 23:\n            return _context4.abrupt(\"return\", _context4.sent);\n\n          case 24:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _sendGetBlock.apply(this, arguments);\n}\n\nfunction sendGetCollection(_x) {\n  return _sendGetCollection.apply(this, arguments);\n}\n\nfunction _sendGetCollection() {\n  _sendGetCollection = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n    var context,\n        opts,\n        httpRequest$1,\n        res,\n        ret,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            context = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n            opts = _args.length > 2 && _args[2] !== undefined ? _args[2] : {};\n            invariant(opts.node, \"SDK Send Get Collection Error: opts.node must be defined.\");\n            invariant(context.response, \"SDK Send Get Collection Error: context.response must be defined.\");\n            httpRequest$1 = opts.httpRequest || httpRequest;\n            _context.next = 7;\n            return httpRequest$1({\n              hostname: opts.node,\n              path: \"/v1/collections/\".concat(ix.collection.id, \"?expand=transactions\"),\n              method: \"GET\",\n              body: null\n            });\n\n          case 7:\n            res = _context.sent;\n            ret = context.response();\n            ret.tag = ix.tag;\n            ret.collection = {\n              id: res.id,\n              transactionIds: res.transactions.map(function (transaction) {\n                return transaction.id;\n              })\n            };\n            return _context.abrupt(\"return\", ret);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _sendGetCollection.apply(this, arguments);\n}\n\nfunction sendGetEventsForHeightRangeRequest(_x, _x2, _x3) {\n  return _sendGetEventsForHeightRangeRequest.apply(this, arguments);\n}\n\nfunction _sendGetEventsForHeightRangeRequest() {\n  _sendGetEventsForHeightRangeRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix, context, opts) {\n    var httpRequest$1, res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            httpRequest$1 = opts.httpRequest || httpRequest;\n            _context.next = 3;\n            return httpRequest$1({\n              hostname: opts.node,\n              path: \"/v1/events?type=\".concat(ix.events.eventType, \"&start_height=\").concat(ix.events.start, \"&end_height=\").concat(ix.events.end),\n              method: \"GET\",\n              body: null\n            });\n\n          case 3:\n            res = _context.sent;\n            return _context.abrupt(\"return\", constructResponse(ix, context, res));\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _sendGetEventsForHeightRangeRequest.apply(this, arguments);\n}\n\nfunction sendGetEventsForBlockIDsRequest(_x4, _x5, _x6) {\n  return _sendGetEventsForBlockIDsRequest.apply(this, arguments);\n}\n\nfunction _sendGetEventsForBlockIDsRequest() {\n  _sendGetEventsForBlockIDsRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ix, context, opts) {\n    var httpRequest$1, res;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            httpRequest$1 = opts.httpRequest || httpRequest;\n            _context2.next = 3;\n            return httpRequest$1({\n              hostname: opts.node,\n              path: \"/v1/events?type=\".concat(ix.events.eventType, \"&block_ids=\").concat(ix.events.blockIds.join(\",\")),\n              method: \"GET\",\n              body: null\n            });\n\n          case 3:\n            res = _context2.sent;\n            return _context2.abrupt(\"return\", constructResponse(ix, context, res));\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _sendGetEventsForBlockIDsRequest.apply(this, arguments);\n}\n\nfunction constructResponse(ix, context, res) {\n  var ret = context.response();\n  ret.tag = ix.tag;\n  ret.events = [];\n  res.forEach(function (block) {\n    return block.events ? block.events.forEach(function (event) {\n      return ret.events.push({\n        blockId: block.block_id,\n        blockHeight: Number(block.block_height),\n        blockTimestamp: block.block_timestamp,\n        type: event.type,\n        transactionId: event.transaction_id,\n        transactionIndex: Number(event.transaction_index),\n        eventIndex: Number(event.event_index),\n        payload: JSON.parse(context.Buffer.from(event.payload, \"base64\").toString())\n      });\n    }) : null;\n  });\n  return ret;\n}\n\nfunction sendGetEvents(_x7) {\n  return _sendGetEvents.apply(this, arguments);\n}\n\nfunction _sendGetEvents() {\n  _sendGetEvents = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ix) {\n    var context,\n        opts,\n        interactionContainsBlockHeightRange,\n        interactionContainsBlockIDsList,\n        _args3 = arguments;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            context = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : {};\n            opts = _args3.length > 2 && _args3[2] !== undefined ? _args3[2] : {};\n            invariant(opts.node, \"SDK Send Get Events Error: opts.node must be defined.\");\n            invariant(context.response, \"SDK Send Get Events Error: context.response must be defined.\");\n            invariant(context.Buffer, \"SDK Send Get Events Error: context.Buffer must be defined.\");\n            _context3.next = 7;\n            return ix;\n\n          case 7:\n            ix = _context3.sent;\n            interactionContainsBlockHeightRange = ix.events.start !== null;\n            interactionContainsBlockIDsList = Array.isArray(ix.events.blockIds) && ix.events.blockIds.length > 0;\n            invariant(interactionContainsBlockHeightRange || interactionContainsBlockIDsList, \"SendGetEventsError: Unable to determine which get events request to send. Either a block height range, or block IDs must be specified.\");\n\n            if (!interactionContainsBlockHeightRange) {\n              _context3.next = 17;\n              break;\n            }\n\n            _context3.next = 14;\n            return sendGetEventsForHeightRangeRequest(ix, context, opts);\n\n          case 14:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 17:\n            _context3.next = 19;\n            return sendGetEventsForBlockIDsRequest(ix, context, opts);\n\n          case 19:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 20:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _sendGetEvents.apply(this, arguments);\n}\n\nfunction sendGetTransaction(_x) {\n  return _sendGetTransaction.apply(this, arguments);\n}\n\nfunction _sendGetTransaction() {\n  _sendGetTransaction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n    var context,\n        opts,\n        httpRequest$1,\n        res,\n        unwrapKey,\n        unwrapSignature,\n        unwrapArg,\n        ret,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            context = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n            opts = _args.length > 2 && _args[2] !== undefined ? _args[2] : {};\n            invariant(opts.node, \"SDK Send Get Transaction Error: opts.node must be defined.\");\n            invariant(context.response, \"SDK Send Get Transaction Error: context.response must be defined.\");\n            invariant(context.Buffer, \"SDK Send Get Transaction Error: context.Buffer must be defined.\");\n            httpRequest$1 = opts.httpRequest || httpRequest;\n            _context.next = 8;\n            return ix;\n\n          case 8:\n            ix = _context.sent;\n            _context.next = 11;\n            return httpRequest$1({\n              hostname: opts.node,\n              path: \"/v1/transactions/\".concat(ix.transaction.id),\n              method: \"GET\",\n              body: null\n            });\n\n          case 11:\n            res = _context.sent;\n\n            unwrapKey = function unwrapKey(key) {\n              return {\n                address: key.address,\n                keyId: Number(key.key_id),\n                sequenceNumber: Number(key.sequence_number)\n              };\n            };\n\n            unwrapSignature = function unwrapSignature(sig) {\n              return {\n                address: sig.address,\n                keyId: Number(sig.key_index),\n                signature: sig.signature\n              };\n            };\n\n            unwrapArg = function unwrapArg(arg) {\n              return JSON.parse(context.Buffer.from(arg, \"base64\").toString());\n            };\n\n            ret = context.response();\n            ret.tag = ix.tag;\n            ret.transaction = {\n              script: context.Buffer.from(res.script, \"base64\").toString(),\n              args: _toConsumableArray(res.arguments.map(unwrapArg)),\n              referenceBlockId: res.reference_block_id,\n              gasLimit: Number(res.gas_limit),\n              payer: res.payer,\n              proposalKey: res.proposal_key ? unwrapKey(res.proposal_key) : res.proposal_key,\n              authorizers: res.authorizers,\n              payloadSignatures: _toConsumableArray(res.payload_signatures.map(unwrapSignature)),\n              envelopeSignatures: _toConsumableArray(res.envelope_signatures.map(unwrapSignature))\n            };\n            return _context.abrupt(\"return\", ret);\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _sendGetTransaction.apply(this, arguments);\n}\n\nvar STATUS_MAP = {\n  UNKNOWN: 0,\n  PENDING: 1,\n  FINALIZED: 2,\n  EXECUTED: 3,\n  SEALED: 4,\n  EXPIRED: 5\n};\nfunction sendGetTransactionStatus(_x) {\n  return _sendGetTransactionStatus.apply(this, arguments);\n}\n\nfunction _sendGetTransactionStatus() {\n  _sendGetTransactionStatus = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n    var context,\n        opts,\n        httpRequest$1,\n        res,\n        ret,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            context = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n            opts = _args.length > 2 && _args[2] !== undefined ? _args[2] : {};\n            invariant(opts.node, \"SDK Send Get Transaction Status Error: opts.node must be defined.\");\n            invariant(context.response, \"SDK Send Get Transaction Status Error: context.response must be defined.\");\n            invariant(context.Buffer, \"SDK Send Get Transaction Status Error: context.Buffer must be defined.\");\n            httpRequest$1 = opts.httpRequest || httpRequest;\n            _context.next = 8;\n            return ix;\n\n          case 8:\n            ix = _context.sent;\n            _context.next = 11;\n            return httpRequest$1({\n              hostname: opts.node,\n              path: \"/v1/transaction_results/\".concat(ix.transaction.id),\n              method: \"GET\",\n              body: null\n            });\n\n          case 11:\n            res = _context.sent;\n            ret = context.response();\n            ret.tag = ix.tag;\n            ret.transactionStatus = {\n              blockId: res.block_id,\n              status: STATUS_MAP[res.status.toUpperCase()] || \"\",\n              statusString: res.status.toUpperCase(),\n              statusCode: res.status_code,\n              errorMessage: res.error_message,\n              events: res.events.map(function (event) {\n                return {\n                  type: event.type,\n                  transactionId: event.transaction_id,\n                  transactionIndex: Number(event.transaction_index),\n                  eventIndex: Number(event.event_index),\n                  payload: JSON.parse(context.Buffer.from(event.payload, \"base64\").toString())\n                };\n              })\n            };\n            return _context.abrupt(\"return\", ret);\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _sendGetTransactionStatus.apply(this, arguments);\n}\n\nfunction sendPing(_x) {\n  return _sendPing.apply(this, arguments);\n}\n\nfunction _sendPing() {\n  _sendPing = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n    var context,\n        opts,\n        httpRequest$1,\n        ret,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            context = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n            opts = _args.length > 2 && _args[2] !== undefined ? _args[2] : {};\n            invariant(opts.node, \"SDK Send Ping Error: opts.node must be defined.\");\n            invariant(context.response, \"SDK Send Ping Error: context.response must be defined.\");\n            httpRequest$1 = opts.httpRequest || httpRequest;\n            _context.next = 7;\n            return httpRequest$1({\n              hostname: opts.node,\n              path: \"/v1/blocks?height=sealed\",\n              method: \"GET\",\n              body: null\n            });\n\n          case 7:\n            ret = context.response();\n            ret.tag = ix.tag;\n            return _context.abrupt(\"return\", ret);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _sendPing.apply(this, arguments);\n}\n\nvar idof = function idof(acct) {\n  return \"\".concat(withPrefix(acct.addr), \"-\").concat(acct.keyId);\n};\n\nfunction sendTransaction(_x) {\n  return _sendTransaction.apply(this, arguments);\n}\n\nfunction _sendTransaction() {\n  _sendTransaction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n    var context,\n        opts,\n        httpRequest$1,\n        payloadSignatures,\n        _i,\n        _Object$values,\n        acct,\n        envelopeSignatures,\n        _i2,\n        _Object$values2,\n        _acct,\n        id,\n        t1,\n        res,\n        t2,\n        ret,\n        _args = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            context = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n            opts = _args.length > 2 && _args[2] !== undefined ? _args[2] : {};\n            invariant(opts.node, \"SDK Send Transaction Error: opts.node must be defined.\");\n            invariant(context.response, \"SDK Send Transaction Error: context.response must be defined.\");\n            invariant(context.Buffer, \"SDK Send Transaction Error: context.Buffer must be defined.\");\n            httpRequest$1 = opts.httpRequest || httpRequest;\n            _context.next = 8;\n            return ix;\n\n          case 8:\n            ix = _context.sent;\n            // Apply Non Payer Signatures to Payload Signatures\n            payloadSignatures = [];\n            _i = 0, _Object$values = Object.values(ix.accounts);\n\n          case 11:\n            if (!(_i < _Object$values.length)) {\n              _context.next = 24;\n              break;\n            }\n\n            acct = _Object$values[_i];\n            _context.prev = 13;\n\n            if (!acct.role.payer && acct.signature != null) {\n              payloadSignatures.push({\n                address: sansPrefix(acct.addr),\n                key_index: String(acct.keyId),\n                signature: context.Buffer.from(acct.signature, \"hex\").toString(\"base64\")\n              });\n            }\n\n            _context.next = 21;\n            break;\n\n          case 17:\n            _context.prev = 17;\n            _context.t0 = _context[\"catch\"](13);\n            console.error(\"SDK HTTP Send Error: Trouble applying payload signature\", {\n              acct: acct,\n              ix: ix\n            });\n            throw _context.t0;\n\n          case 21:\n            _i++;\n            _context.next = 11;\n            break;\n\n          case 24:\n            // Apply Payer Signatures to Envelope Signatures\n            envelopeSignatures = {};\n            _i2 = 0, _Object$values2 = Object.values(ix.accounts);\n\n          case 26:\n            if (!(_i2 < _Object$values2.length)) {\n              _context.next = 39;\n              break;\n            }\n\n            _acct = _Object$values2[_i2];\n            _context.prev = 28;\n\n            if (_acct.role.payer && _acct.signature != null) {\n              id = _acct.tempId || idof(_acct);\n              envelopeSignatures[id] = envelopeSignatures[id] || {\n                address: sansPrefix(_acct.addr),\n                key_index: String(_acct.keyId),\n                signature: context.Buffer.from(_acct.signature, \"hex\").toString(\"base64\")\n              };\n            }\n\n            _context.next = 36;\n            break;\n\n          case 32:\n            _context.prev = 32;\n            _context.t1 = _context[\"catch\"](28);\n            console.error(\"SDK HTTP Send Error: Trouble applying envelope signature\", {\n              acct: _acct,\n              ix: ix\n            });\n            throw _context.t1;\n\n          case 36:\n            _i2++;\n            _context.next = 26;\n            break;\n\n          case 39:\n            envelopeSignatures = Object.values(envelopeSignatures);\n            t1 = Date.now();\n            _context.next = 43;\n            return httpRequest$1({\n              hostname: opts.node,\n              path: \"/v1/transactions\",\n              method: \"POST\",\n              body: {\n                script: context.Buffer.from(ix.message.cadence).toString(\"base64\"),\n                arguments: _toConsumableArray(ix.message.arguments.map(function (arg) {\n                  return context.Buffer.from(JSON.stringify(ix.arguments[arg].asArgument)).toString(\"base64\");\n                })),\n                reference_block_id: ix.message.refBlock ? ix.message.refBlock : null,\n                gas_limit: String(ix.message.computeLimit),\n                payer: sansPrefix(ix.accounts[Array.isArray(ix.payer) ? ix.payer[0] : ix.payer].addr),\n                proposal_key: {\n                  address: sansPrefix(ix.accounts[ix.proposer].addr),\n                  key_index: String(ix.accounts[ix.proposer].keyId),\n                  sequence_number: String(ix.accounts[ix.proposer].sequenceNum)\n                },\n                authorizers: ix.authorizations.map(function (tempId) {\n                  return ix.accounts[tempId].addr;\n                }).reduce(function (prev, current) {\n                  return prev.find(function (item) {\n                    return item === current;\n                  }) ? prev : [].concat(_toConsumableArray(prev), [current]);\n                }, []).map(sansPrefix),\n                payload_signatures: payloadSignatures,\n                envelope_signatures: envelopeSignatures\n              }\n            });\n\n          case 43:\n            res = _context.sent;\n            t2 = Date.now();\n            ret = context.response();\n            ret.tag = ix.tag;\n            ret.transactionId = res.id;\n\n            if (typeof window !== \"undefined\") {\n              window.dispatchEvent(new CustomEvent(\"FLOW::TX\", {\n                detail: {\n                  txId: ret.transactionId,\n                  delta: t2 - t1\n                }\n              }));\n            }\n\n            return _context.abrupt(\"return\", ret);\n\n          case 50:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[13, 17], [28, 32]]);\n  }));\n  return _sendTransaction.apply(this, arguments);\n}\n\nvar send = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n    var context,\n        opts,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            context = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n            opts = _args.length > 2 && _args[2] !== undefined ? _args[2] : {};\n            invariant(opts.node, \"SDK Send Error: Either opts.node or \\\"accessNode.api\\\" in config must be defined.\");\n            invariant(context.ix, \"SDK Send Error: context.ix must be defined.\");\n            _context.next = 6;\n            return ix;\n\n          case 6:\n            ix = _context.sent;\n            _context.t0 = true;\n            _context.next = _context.t0 === context.ix.isTransaction(ix) ? 10 : _context.t0 === context.ix.isGetTransactionStatus(ix) ? 11 : _context.t0 === context.ix.isGetTransaction(ix) ? 12 : _context.t0 === context.ix.isScript(ix) ? 13 : _context.t0 === context.ix.isGetAccount(ix) ? 14 : _context.t0 === context.ix.isGetEvents(ix) ? 15 : _context.t0 === context.ix.isGetBlock(ix) ? 16 : _context.t0 === context.ix.isGetBlockHeader(ix) ? 17 : _context.t0 === context.ix.isGetCollection(ix) ? 18 : _context.t0 === context.ix.isPing(ix) ? 19 : 20;\n            break;\n\n          case 10:\n            return _context.abrupt(\"return\", opts.sendTransaction ? opts.sendTransaction(ix, context, opts) : sendTransaction(ix, context, opts));\n\n          case 11:\n            return _context.abrupt(\"return\", opts.sendGetTransactionStatus ? opts.sendGetTransactionStatus(ix, context, opts) : sendGetTransactionStatus(ix, context, opts));\n\n          case 12:\n            return _context.abrupt(\"return\", opts.sendGetTransaction ? opts.sendGetTransaction(ix, context, opts) : sendGetTransaction(ix, context, opts));\n\n          case 13:\n            return _context.abrupt(\"return\", opts.sendExecuteScript ? opts.sendExecuteScript(ix, context, opts) : sendExecuteScript(ix, context, opts));\n\n          case 14:\n            return _context.abrupt(\"return\", opts.sendGetAccount ? opts.sendGetAccount(ix, context, opts) : sendGetAccount(ix, context, opts));\n\n          case 15:\n            return _context.abrupt(\"return\", opts.sendGetEvents ? opts.sendGetEvents(ix, context, opts) : sendGetEvents(ix, context, opts));\n\n          case 16:\n            return _context.abrupt(\"return\", opts.sendGetBlock ? opts.sendGetBlock(ix, context, opts) : sendGetBlock(ix, context, opts));\n\n          case 17:\n            return _context.abrupt(\"return\", opts.sendGetBlockHeader ? opts.sendGetBlockHeader(ix, context, opts) : sendGetBlockHeader(ix, context, opts));\n\n          case 18:\n            return _context.abrupt(\"return\", opts.sendGetCollection ? opts.sendGetCollection(ix, context, opts) : sendGetCollection(ix, context, opts));\n\n          case 19:\n            return _context.abrupt(\"return\", opts.sendPing ? opts.sendPing(ix, context, opts) : sendPing(ix, context, opts));\n\n          case 20:\n            return _context.abrupt(\"return\", ix);\n\n          case 21:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function send(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport { send, sendExecuteScript, sendGetAccount, sendGetBlock, sendGetBlockHeader, sendGetCollection, sendGetEvents, sendGetTransaction, sendGetTransactionStatus, sendPing, sendTransaction };\n//# sourceMappingURL=sdk-send-http.module.js.map\n","\"use strict\";var copy=function copy(I,i){return function(O,o){var oi=o*2;var ii=i*2;O[oi]=I[ii];O[oi+1]=I[ii+1]}};module.exports=copy;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var _copy=_interopRequireDefault(require(\"../copy\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var chi=function chi(_ref){var A=_ref.A,C=_ref.C;for(var y=0;y<25;y+=5){for(var x=0;x<5;x++){(0,_copy[\"default\"])(A,y+x)(C,x)}for(var _x=0;_x<5;_x++){var xy=(y+_x)*2;var x1=(_x+1)%5*2;var x2=(_x+2)%5*2;A[xy]^=~C[x1]&C[x2];A[xy+1]^=~C[x1+1]&C[x2+1]}}};var _default=chi;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var ROUND_CONSTANTS=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);var _default=ROUND_CONSTANTS;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var _roundConstants=_interopRequireDefault(require(\"./round-constants\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var iota=function iota(_ref){var A=_ref.A,roundIndex=_ref.roundIndex;var i=roundIndex*2;A[0]^=_roundConstants[\"default\"][i];A[1]^=_roundConstants[\"default\"][i+1]};var _default=iota;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var PI_SHUFFLES=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];var _default=PI_SHUFFLES;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var RHO_OFFSETS=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44];var _default=RHO_OFFSETS;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var _piShuffles=_interopRequireDefault(require(\"./pi-shuffles\"));var _rhoOffsets=_interopRequireDefault(require(\"./rho-offsets\"));var _copy=_interopRequireDefault(require(\"../copy\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var rhoPi=function rhoPi(_ref){var A=_ref.A,C=_ref.C,W=_ref.W;(0,_copy[\"default\"])(A,1)(W,0);var H=0;var L=0;var Wi=0;var ri=32;for(var i=0;i<24;i++){var j=_piShuffles[\"default\"][i];var r=_rhoOffsets[\"default\"][i];(0,_copy[\"default\"])(A,j)(C,0);H=W[0];L=W[1];ri=32-r;Wi=r<32?0:1;W[Wi]=H<<r|L>>>ri;W[(Wi+1)%2]=L<<r|H>>>ri;(0,_copy[\"default\"])(W,0)(A,j);(0,_copy[\"default\"])(C,0)(W,0)}};var _default=rhoPi;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var _copy=_interopRequireDefault(require(\"../copy\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var theta=function theta(_ref){var A=_ref.A,C=_ref.C,D=_ref.D,W=_ref.W;var H=0;var L=0;for(var x=0;x<5;x++){var x20=x*2;var x21=(x+5)*2;var x22=(x+10)*2;var x23=(x+15)*2;var x24=(x+20)*2;C[x20]=A[x20]^A[x21]^A[x22]^A[x23]^A[x24];C[x20+1]=A[x20+1]^A[x21+1]^A[x22+1]^A[x23+1]^A[x24+1]}for(var _x=0;_x<5;_x++){(0,_copy[\"default\"])(C,(_x+1)%5)(W,0);H=W[0];L=W[1];W[0]=H<<1|L>>>31;W[1]=L<<1|H>>>31;D[_x*2]=C[(_x+4)%5*2]^W[0];D[_x*2+1]=C[(_x+4)%5*2+1]^W[1];for(var y=0;y<25;y+=5){A[(y+_x)*2]^=D[_x*2];A[(y+_x)*2+1]^=D[_x*2+1]}}};var _default=theta;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var _chi=_interopRequireDefault(require(\"./chi\"));var _iota=_interopRequireDefault(require(\"./iota\"));var _rhoPi=_interopRequireDefault(require(\"./rho-pi\"));var _theta=_interopRequireDefault(require(\"./theta\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var permute=function permute(){var C=new Uint32Array(10);var D=new Uint32Array(10);var W=new Uint32Array(2);return function(A){for(var roundIndex=0;roundIndex<24;roundIndex++){(0,_theta[\"default\"])({A:A,C:C,D:D,W:W});(0,_rhoPi[\"default\"])({A:A,C:C,W:W});(0,_chi[\"default\"])({A:A,C:C});(0,_iota[\"default\"])({A:A,roundIndex:roundIndex})}C.fill(0);D.fill(0);W.fill(0)}};var _default=permute;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var _buffer=require(\"buffer\");var _permute=_interopRequireDefault(require(\"./permute\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var xorWords=function xorWords(I,O){for(var i=0;i<I.length;i+=8){var o=i/4;O[o]^=I[i+7]<<24|I[i+6]<<16|I[i+5]<<8|I[i+4];O[o+1]^=I[i+3]<<24|I[i+2]<<16|I[i+1]<<8|I[i]}return O};var readWords=function readWords(I,O){for(var o=0;o<O.length;o+=8){var i=o/4;O[o]=I[i+1];O[o+1]=I[i+1]>>>8;O[o+2]=I[i+1]>>>16;O[o+3]=I[i+1]>>>24;O[o+4]=I[i];O[o+5]=I[i]>>>8;O[o+6]=I[i]>>>16;O[o+7]=I[i]>>>24}return O};var Sponge=function Sponge(_ref){var _this=this;var capacity=_ref.capacity,padding=_ref.padding;var keccak=(0,_permute[\"default\"])();var stateSize=200;var blockSize=capacity/8;var queueSize=stateSize-capacity/4;var queueOffset=0;var state=new Uint32Array(stateSize/4);var queue=_buffer.Buffer.allocUnsafe(queueSize);this.absorb=function(buffer){for(var i=0;i<buffer.length;i++){queue[queueOffset]=buffer[i];queueOffset+=1;if(queueOffset>=queueSize){xorWords(queue,state);keccak(state);queueOffset=0}}return _this};this.squeeze=function(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var output={buffer:options.buffer||_buffer.Buffer.allocUnsafe(blockSize),padding:options.padding||padding,queue:_buffer.Buffer.allocUnsafe(queue.length),state:new Uint32Array(state.length)};queue.copy(output.queue);for(var i=0;i<state.length;i++){output.state[i]=state[i]}output.queue.fill(0,queueOffset);output.queue[queueOffset]|=output.padding;output.queue[queueSize-1]|=128;xorWords(output.queue,output.state);for(var offset=0;offset<output.buffer.length;offset+=queueSize){keccak(output.state);readWords(output.state,output.buffer.slice(offset,offset+queueSize))}return output.buffer};this.reset=function(){queue.fill(0);state.fill(0);queueOffset=0;return _this};return this};var _default=Sponge;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=exports.SHAKE=exports.SHA3Hash=exports.SHA3=exports.Keccak=void 0;var _buffer=require(\"buffer\");var _sponge=_interopRequireDefault(require(\"./sponge\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var createHash=function createHash(_ref){var allowedSizes=_ref.allowedSizes,defaultSize=_ref.defaultSize,padding=_ref.padding;return function Hash(){var _this=this;var size=arguments.length>0&&arguments[0]!==undefined?arguments[0]:defaultSize;if(!this||this.constructor!==Hash){return new Hash(size)}if(allowedSizes&&!allowedSizes.includes(size)){throw new Error(\"Unsupported hash length\")}var sponge=new _sponge[\"default\"]({capacity:size});this.update=function(input){var encoding=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"utf8\";if(_buffer.Buffer.isBuffer(input)){sponge.absorb(input);return _this}if(typeof input===\"string\"){return _this.update(_buffer.Buffer.from(input,encoding))}throw new TypeError(\"Not a string or buffer\")};this.digest=function(){var formatOrOptions=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"binary\";var options=typeof formatOrOptions===\"string\"?{format:formatOrOptions}:formatOrOptions;var buffer=sponge.squeeze({buffer:options.buffer,padding:options.padding||padding});if(options.format&&options.format!==\"binary\"){return buffer.toString(options.format)}return buffer};this.reset=function(){sponge.reset();return _this};return this}};var Keccak=createHash({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});exports.Keccak=Keccak;var SHA3=createHash({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});exports.SHA3=SHA3;var SHAKE=createHash({allowedSizes:[128,256],defaultSize:256,padding:31});exports.SHAKE=SHAKE;var SHA3Hash=Keccak;exports.SHA3Hash=SHA3Hash;SHA3.SHA3Hash=SHA3Hash;var _default=SHA3;exports[\"default\"]=_default;","import _toArray from '@babel/runtime/helpers/toArray';\nimport _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport _typeof from '@babel/runtime/helpers/typeof';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport _createForOfIteratorHelper from '@babel/runtime/helpers/createForOfIteratorHelper';\n\nvar promise;\nvar queueMicrotask_1 = typeof queueMicrotask === 'function' ? queueMicrotask // reuse resolved promise, and allocate it lazily\n: function (cb) {\n  return (promise || (promise = Promise.resolve())).then(cb)[\"catch\"](function (err) {\n    return setTimeout(function () {\n      throw err;\n    }, 0);\n  });\n};\n\nvar mailbox = function mailbox() {\n  var queue = [];\n  var next;\n  return {\n    deliver: function deliver(msg) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                queue.push(msg);\n\n                if (next) {\n                  next(queue.shift());\n                  next = undefined;\n                }\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    receive: function receive() {\n      return new Promise(function innerReceive(resolve) {\n        var msg = queue.shift();\n        if (msg) return resolve(msg);\n        next = resolve;\n      });\n    }\n  };\n};\n\nvar INIT = \"INIT\";\nvar SUBSCRIBE = \"SUBSCRIBE\";\nvar UNSUBSCRIBE = \"UNSUBSCRIBE\";\nvar UPDATED$1 = \"UPDATED\";\nvar EXIT = \"EXIT\";\nvar TERMINATE = \"TERMINATE\";\nvar root = (typeof self === \"undefined\" ? \"undefined\" : _typeof(self)) === \"object\" && self.self === self && self || (typeof global === \"undefined\" ? \"undefined\" : _typeof(global)) === \"object\" && global.global === global && global || (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\" && window.window === window && window;\nroot.FCL_REGISTRY = root.FCL_REGISTRY == null ? {} : root.FCL_REGISTRY;\nvar pid = 0;\nvar DEFAULT_TIMEOUT = 5000;\n\nvar _send = function send(addr, tag, data) {\n  var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  return new Promise(function (reply, reject) {\n    var expectReply = opts.expectReply || false;\n    var timeout = opts.timeout != null ? opts.timeout : DEFAULT_TIMEOUT;\n\n    if (expectReply && timeout) {\n      setTimeout(function () {\n        return reject(new Error(\"Timeout: \".concat(timeout, \"ms passed without a response.\")));\n      }, timeout);\n    }\n\n    var payload = {\n      to: addr,\n      from: opts.from,\n      tag: tag,\n      data: data,\n      timeout: timeout,\n      reply: reply,\n      reject: reject\n    };\n\n    try {\n      root.FCL_REGISTRY[addr] && root.FCL_REGISTRY[addr].mailbox.deliver(payload);\n      if (!expectReply) reply(true);\n    } catch (error) {\n      console.error(\"FCL.Actor -- Could Not Deliver Message\", payload, root.FCL_REGISTRY[addr], error);\n    }\n  });\n};\n\nvar kill = function kill(addr) {\n  delete root.FCL_REGISTRY[addr];\n};\n\nvar fromHandlers = function fromHandlers() {\n  var handlers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n      var letter;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(typeof handlers[INIT] === \"function\")) {\n                _context.next = 3;\n                break;\n              }\n\n              _context.next = 3;\n              return handlers[INIT](ctx);\n\n            case 3:\n              _context.next = 6;\n              return ctx.receive();\n\n            case 6:\n              letter = _context.sent;\n              _context.prev = 7;\n\n              if (!(letter.tag === EXIT)) {\n                _context.next = 13;\n                break;\n              }\n\n              if (!(typeof handlers[TERMINATE] === \"function\")) {\n                _context.next = 12;\n                break;\n              }\n\n              _context.next = 12;\n              return handlers[TERMINATE](ctx, letter, letter.data || {});\n\n            case 12:\n              return _context.abrupt(\"break\", 25);\n\n            case 13:\n              _context.next = 15;\n              return handlers[letter.tag](ctx, letter, letter.data || {});\n\n            case 15:\n              _context.next = 20;\n              break;\n\n            case 17:\n              _context.prev = 17;\n              _context.t0 = _context[\"catch\"](7);\n              console.error(\"\".concat(ctx.self(), \" Error\"), letter, _context.t0);\n\n            case 20:\n              _context.prev = 20;\n              return _context.abrupt(\"continue\", 3);\n\n            case 23:\n              _context.next = 3;\n              break;\n\n            case 25:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[7, 17, 20, 23]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\n\nvar spawn = function spawn(fn) {\n  var addr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  if (addr == null) addr = ++pid;\n  if (root.FCL_REGISTRY[addr] != null) return addr;\n  root.FCL_REGISTRY[addr] = {\n    addr: addr,\n    mailbox: mailbox(),\n    subs: new Set(),\n    kvs: {},\n    error: null\n  };\n  var ctx = {\n    self: function self() {\n      return addr;\n    },\n    receive: function receive() {\n      return root.FCL_REGISTRY[addr].mailbox.receive();\n    },\n    send: function send(to, tag, data) {\n      var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      opts.from = addr;\n      return _send(to, tag, data, opts);\n    },\n    sendSelf: function sendSelf(tag, data, opts) {\n      if (root.FCL_REGISTRY[addr]) _send(addr, tag, data, opts);\n    },\n    broadcast: function broadcast(tag, data) {\n      var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      opts.from = addr;\n\n      var _iterator = _createForOfIteratorHelper(root.FCL_REGISTRY[addr].subs),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var to = _step.value;\n\n          _send(to, tag, data, opts);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    },\n    subscribe: function subscribe(sub) {\n      return sub != null && root.FCL_REGISTRY[addr].subs.add(sub);\n    },\n    unsubscribe: function unsubscribe(sub) {\n      return sub != null && root.FCL_REGISTRY[addr].subs[\"delete\"](sub);\n    },\n    subscriberCount: function subscriberCount() {\n      return root.FCL_REGISTRY[addr].subs.size;\n    },\n    hasSubs: function hasSubs() {\n      return !!root.FCL_REGISTRY[addr].subs.size;\n    },\n    put: function put(key, value) {\n      if (key != null) root.FCL_REGISTRY[addr].kvs[key] = value;\n    },\n    get: function get(key, fallback) {\n      var value = root.FCL_REGISTRY[addr].kvs[key];\n      return value == null ? fallback : value;\n    },\n    \"delete\": function _delete(key) {\n      delete root.FCL_REGISTRY[addr].kvs[key];\n    },\n    update: function update(key, fn) {\n      if (key != null) root.FCL_REGISTRY[addr].kvs[key] = fn(root.FCL_REGISTRY[addr].kvs[key]);\n    },\n    keys: function keys() {\n      return Object.keys(root.FCL_REGISTRY[addr].kvs);\n    },\n    all: function all() {\n      return root.FCL_REGISTRY[addr].kvs;\n    },\n    where: function where(pattern) {\n      return Object.keys(root.FCL_REGISTRY[addr].kvs).reduce(function (acc, key) {\n        return pattern.test(key) ? _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, root.FCL_REGISTRY[addr].kvs[key])) : acc;\n      }, {});\n    },\n    merge: function merge() {\n      var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      Object.keys(data).forEach(function (key) {\n        return root.FCL_REGISTRY[addr].kvs[key] = data[key];\n      });\n    },\n    fatalError: function fatalError(error) {\n      root.FCL_REGISTRY[addr].error = error;\n\n      var _iterator2 = _createForOfIteratorHelper(root.FCL_REGISTRY[addr].subs),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var to = _step2.value;\n\n          _send(to, UPDATED$1);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  };\n  if (_typeof(fn) === \"object\") fn = fromHandlers(fn);\n  queueMicrotask_1( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return fn(ctx);\n\n          case 2:\n            kill(addr);\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })));\n  return addr;\n}; // Returns an unsubscribe function\n// A SUBSCRIBE handler will need to be created to handle the subscription event\n//\n//  [SUBSCRIBE]: (ctx, letter) => {\n//    ctx.subscribe(letter.from)\n//    ctx.send(letter.from, UPDATED, ctx.all())\n//  }\n//\n\n\nfunction subscriber(address, spawnFn, callback) {\n  spawnFn(address);\n  var EXIT = \"@EXIT\";\n  var self = spawn( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ctx) {\n      var letter, error;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              ctx.send(address, SUBSCRIBE);\n\n            case 1:\n              _context3.next = 4;\n              return ctx.receive();\n\n            case 4:\n              letter = _context3.sent;\n              error = root.FCL_REGISTRY[address].error;\n\n              if (!(letter.tag === EXIT)) {\n                _context3.next = 9;\n                break;\n              }\n\n              ctx.send(address, UNSUBSCRIBE);\n              return _context3.abrupt(\"return\");\n\n            case 9:\n              if (!error) {\n                _context3.next = 13;\n                break;\n              }\n\n              callback(null, error);\n              ctx.send(address, UNSUBSCRIBE);\n              return _context3.abrupt(\"return\");\n\n            case 13:\n              callback(letter.data, null);\n              _context3.next = 1;\n              break;\n\n            case 16:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n  return function () {\n    return _send(self, EXIT);\n  };\n} // Returns a promise that returns a result\n\nvar _HANDLERS;\n\nvar NAME = \"config\";\nvar PUT = \"PUT_CONFIG\";\nvar GET = \"GET_CONFIG\";\nvar GET_ALL = \"GET_ALL_CONFIG\";\nvar UPDATE = \"UPDATE_CONFIG\";\nvar DELETE = \"DELETE_CONFIG\";\nvar CLEAR = \"CLEAR_CONFIG\";\nvar WHERE = \"WHERE_CONFIG\";\nvar UPDATED = \"CONFIG/UPDATED\";\n\nvar identity = function identity(v) {\n  return v;\n};\n\nvar HANDLERS = (_HANDLERS = {}, _defineProperty(_HANDLERS, PUT, function (ctx, _letter, _ref) {\n  var key = _ref.key,\n      value = _ref.value;\n  if (key == null) throw new Error(\"Missing 'key' for config/put.\");\n  ctx.put(key, value);\n  ctx.broadcast(UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, GET, function (ctx, letter, _ref2) {\n  var key = _ref2.key,\n      fallback = _ref2.fallback;\n  if (key == null) throw new Error(\"Missing 'key' for config/get\");\n  letter.reply(ctx.get(key, fallback));\n}), _defineProperty(_HANDLERS, GET_ALL, function (ctx, letter) {\n  letter.reply(_objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, UPDATE, function (ctx, letter, _ref3) {\n  var key = _ref3.key,\n      fn = _ref3.fn;\n  if (key == null) throw new Error(\"Missing 'key' for config/update\");\n  ctx.update(key, fn || identity);\n  ctx.broadcast(UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, DELETE, function (ctx, letter, _ref4) {\n  var key = _ref4.key;\n  if (key == null) throw new Error(\"Missing 'key' for config/delete\");\n  ctx[\"delete\"](key);\n  ctx.broadcast(UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, CLEAR, function (ctx, letter) {\n  var keys = Object.keys(ctx.all());\n\n  for (var _i = 0, _keys = keys; _i < _keys.length; _i++) {\n    var key = _keys[_i];\n    ctx[\"delete\"](key);\n  }\n\n  ctx.broadcast(UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, WHERE, function (ctx, letter, _ref5) {\n  var pattern = _ref5.pattern;\n  if (pattern == null) throw new Error(\"Missing 'pattern' for config/where\");\n  letter.reply(ctx.where(pattern));\n}), _defineProperty(_HANDLERS, SUBSCRIBE, function (ctx, letter) {\n  ctx.subscribe(letter.from);\n  ctx.send(letter.from, UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, UNSUBSCRIBE, function (ctx, letter) {\n  ctx.unsubscribe(letter.from);\n}), _HANDLERS);\nspawn(HANDLERS, NAME);\n\nfunction put(key, value) {\n  _send(NAME, PUT, {\n    key: key,\n    value: value\n  });\n  return config();\n}\n\nfunction get(key, fallback) {\n  return _send(NAME, GET, {\n    key: key,\n    fallback: fallback\n  }, {\n    expectReply: true,\n    timeout: 10\n  });\n}\n\nfunction first() {\n  return _first.apply(this, arguments);\n}\n\nfunction _first() {\n  _first = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var wants,\n        fallback,\n        _wants,\n        head,\n        rest,\n        ret,\n        _args2 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            wants = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : [];\n            fallback = _args2.length > 1 ? _args2[1] : undefined;\n\n            if (wants.length) {\n              _context2.next = 4;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", fallback);\n\n          case 4:\n            _wants = _toArray(wants), head = _wants[0], rest = _wants.slice(1);\n            _context2.next = 7;\n            return get(head);\n\n          case 7:\n            ret = _context2.sent;\n\n            if (!(ret == null)) {\n              _context2.next = 10;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", first(rest, fallback));\n\n          case 10:\n            return _context2.abrupt(\"return\", ret);\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _first.apply(this, arguments);\n}\n\nfunction all() {\n  return _send(NAME, GET_ALL, null, {\n    expectReply: true,\n    timeout: 10\n  });\n}\n\nfunction update(key) {\n  var fn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : identity;\n  _send(NAME, UPDATE, {\n    key: key,\n    fn: fn\n  });\n  return config();\n}\n\nfunction _delete(key) {\n  _send(NAME, DELETE, {\n    key: key\n  });\n  return config();\n}\n\nfunction where(pattern) {\n  return _send(NAME, WHERE, {\n    pattern: pattern\n  }, {\n    expectReply: true,\n    timeout: 10\n  });\n}\n\nfunction subscribe(callback) {\n  return subscriber(NAME, function () {\n    return spawn(HANDLERS, NAME);\n  }, callback);\n}\n\nfunction clearConfig() {\n  return _send(NAME, CLEAR);\n}\n\nfunction config(values) {\n  if (values != null && _typeof(values) === \"object\") {\n    Object.keys(values).map(function (d) {\n      return put(d, values[d]);\n    });\n  }\n\n  return {\n    put: put,\n    get: get,\n    all: all,\n    first: first,\n    update: update,\n    \"delete\": _delete,\n    where: where,\n    subscribe: subscribe,\n    overload: overload\n  };\n}\n\nconfig.put = put;\nconfig.get = get;\nconfig.all = all;\nconfig.first = first;\nconfig.update = update;\nconfig[\"delete\"] = _delete;\nconfig.where = where;\nconfig.subscribe = subscribe;\nconfig.overload = overload;\n\nvar noop = function noop(v) {\n  return v;\n};\n\nfunction overload() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  return new Promise( /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var oldConfig, result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return all();\n\n            case 2:\n              oldConfig = _context.sent;\n              _context.prev = 3;\n              config(opts);\n              _context.t0 = callback;\n              _context.next = 8;\n              return all();\n\n            case 8:\n              _context.t1 = _context.sent;\n              _context.next = 11;\n              return (0, _context.t0)(_context.t1);\n\n            case 11:\n              result = _context.sent;\n              _context.next = 14;\n              return clearConfig();\n\n            case 14:\n              _context.next = 16;\n              return config(oldConfig);\n\n            case 16:\n              resolve(result);\n              _context.next = 26;\n              break;\n\n            case 19:\n              _context.prev = 19;\n              _context.t2 = _context[\"catch\"](3);\n              _context.next = 23;\n              return clearConfig();\n\n            case 23:\n              _context.next = 25;\n              return config(oldConfig);\n\n            case 25:\n              reject(_context.t2);\n\n            case 26:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 19]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref6.apply(this, arguments);\n    };\n  }());\n}\n\nvar LEVELS = Object.freeze({\n  debug: 5,\n  info: 4,\n  log: 3,\n  warn: 2,\n  error: 1\n});\n\nvar buildLoggerMessageArgs = function buildLoggerMessageArgs(_ref) {\n  var title = _ref.title,\n      message = _ref.message;\n  return [\"\\n    %c\".concat(title, \"\\n    ============================\\n\\n    \").concat(message, \"\\n\\n    ============================\\n    \").replace(/\\n[^\\S\\r\\n]+/g, \"\\n\").trim(),, \"font-weight:bold;font-family:monospace;\"];\n};\n\nvar log = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var _console, _console2, _console3, _console4, _console5;\n\n    var title, message, level, _ref2$always, always, configLoggerLevel, loggerMessageArgs;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            title = _ref2.title, message = _ref2.message, level = _ref2.level, _ref2$always = _ref2.always, always = _ref2$always === void 0 ? false : _ref2$always;\n            _context.next = 3;\n            return config.get(\"logger.level\", LEVELS.warn);\n\n          case 3:\n            configLoggerLevel = _context.sent;\n\n            if (!(!always && configLoggerLevel < level)) {\n              _context.next = 6;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 6:\n            loggerMessageArgs = buildLoggerMessageArgs({\n              title: title,\n              message: message\n            });\n            _context.t0 = level;\n            _context.next = _context.t0 === LEVELS.debug ? 10 : _context.t0 === LEVELS.info ? 12 : _context.t0 === LEVELS.warn ? 14 : _context.t0 === LEVELS.error ? 16 : 18;\n            break;\n\n          case 10:\n            (_console = console).debug.apply(_console, _toConsumableArray(loggerMessageArgs));\n\n            return _context.abrupt(\"break\", 19);\n\n          case 12:\n            (_console2 = console).info.apply(_console2, _toConsumableArray(loggerMessageArgs));\n\n            return _context.abrupt(\"break\", 19);\n\n          case 14:\n            (_console3 = console).warn.apply(_console3, _toConsumableArray(loggerMessageArgs));\n\n            return _context.abrupt(\"break\", 19);\n\n          case 16:\n            (_console4 = console).error.apply(_console4, _toConsumableArray(loggerMessageArgs));\n\n            return _context.abrupt(\"break\", 19);\n\n          case 18:\n            (_console5 = console).log.apply(_console5, _toConsumableArray(loggerMessageArgs));\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function log(_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nlog.deprecate = function (_ref4) {\n  var pkg = _ref4.pkg,\n      subject = _ref4.subject,\n      transition = _ref4.transition,\n      _ref4$level = _ref4.level,\n      level = _ref4$level === void 0 ? LEVELS.warn : _ref4$level,\n      _ref4$message = _ref4.message,\n      message = _ref4$message === void 0 ? \"\" : _ref4$message,\n      _ref4$callback = _ref4.callback,\n      callback = _ref4$callback === void 0 ? null : _ref4$callback;\n\n  var capitalizeFirstLetter = function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  };\n\n  var logMessage = function logMessage() {\n    return log({\n      title: \"\".concat(pkg ? pkg + \" \" : \"\", \"Deprecation Notice\"),\n      message: \"\\n      \".concat(subject ? \"\".concat(capitalizeFirstLetter(subject), \" is deprecated and will cease to work in future releases\").concat(pkg ? \" of \" + pkg : \"\", \".\") : \"\").concat(message ? \"\\n\" + message : \"\").concat(transition ? \"\\nYou can learn more (including a guide on common transition paths) here: \".concat(transition) : \"\", \"\\n    \").trim(),\n      level: level\n    });\n  };\n\n  if (typeof callback === \"function\") {\n    return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var _args2 = arguments;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return logMessage();\n\n            case 2:\n              _context2.next = 4;\n              return callback.apply(void 0, _args2);\n\n            case 4:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n  }\n\n  return logMessage();\n};\n\nfunction interleave() {\n  var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var c = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  if (!a.length && !b.length) return c;\n  if (!a.length) return c;\n  if (!b.length) return [].concat(_toConsumableArray(c), [a[0]]);\n\n  var _a = _toArray(a),\n      aHead = _a[0],\n      aRest = _a.slice(1);\n\n  var _b = _toArray(b),\n      bHead = _b[0],\n      bRest = _b.slice(1);\n\n  if (aHead !== undefined) c.push(aHead);\n  if (bHead !== undefined) c.push(bHead);\n  return interleave(aRest, bRest, c);\n}\n\nfunction recApply(d) {\n  return function (arg1) {\n    if (typeof arg1 === \"function\") {\n      log.deprecate({\n        pkg: \"FCL/SDK\",\n        subject: \"Interopolation of functions into template literals\",\n        transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\"\n      });\n      return recApply(d)(arg1(d));\n    }\n\n    return String(arg1);\n  };\n}\n\nfunction template(head) {\n  for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n\n  if (typeof head === \"string\") return function () {\n    return head;\n  };\n\n  if (Array.isArray(head)) {\n    return function (d) {\n      return interleave(head, rest.map(recApply(d))).join(\"\").trim();\n    };\n  }\n\n  return head;\n}\n\nexport { interleave, template };\n//# sourceMappingURL=template.module.js.map\n","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nmodule.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import * as logger from '@onflow/util-logger';\nimport { log } from '@onflow/util-logger';\nimport _toArray from '@babel/runtime/helpers/toArray';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport _createForOfIteratorHelper from '@babel/runtime/helpers/createForOfIteratorHelper';\nimport _typeof from '@babel/runtime/helpers/typeof';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport { invariant as invariant$1 } from '@onflow/util-invariant';\nimport _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport { config } from '@onflow/config';\nexport { config } from '@onflow/config';\nimport { Buffer, encode } from '@onflow/rlp';\nimport { send as send$1 } from '@onflow/transport-http';\nimport { sansPrefix, withPrefix } from '@onflow/util-address';\nimport _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport { SHA3 } from 'sha3';\nimport _createClass from '@babel/runtime/helpers/createClass';\nimport _classCallCheck from '@babel/runtime/helpers/classCallCheck';\nimport _inherits from '@babel/runtime/helpers/inherits';\nimport _createSuper from '@babel/runtime/helpers/createSuper';\nimport _wrapNativeSuper from '@babel/runtime/helpers/wrapNativeSuper';\nimport { template } from '@onflow/util-template';\nexport { template as cadence, template as cdc } from '@onflow/util-template';\nimport _objectWithoutProperties from '@babel/runtime/helpers/objectWithoutProperties';\n\nvar UNKNOWN\n/*                       */\n= \"UNKNOWN\";\nvar SCRIPT\n/*                        */\n= \"SCRIPT\";\nvar TRANSACTION\n/*                   */\n= \"TRANSACTION\";\nvar GET_TRANSACTION_STATUS\n/*        */\n= \"GET_TRANSACTION_STATUS\";\nvar GET_ACCOUNT\n/*                   */\n= \"GET_ACCOUNT\";\nvar GET_EVENTS\n/*                    */\n= \"GET_EVENTS\";\nvar PING\n/*                          */\n= \"PING\";\nvar GET_TRANSACTION\n/*               */\n= \"GET_TRANSACTION\";\nvar GET_BLOCK\n/*                     */\n= \"GET_BLOCK\";\nvar GET_BLOCK_HEADER\n/*              */\n= \"GET_BLOCK_HEADER\";\nvar GET_COLLECTION\n/*                */\n= \"GET_COLLECTION\";\nvar BAD\n/* */\n= \"BAD\";\nvar OK\n/*  */\n= \"OK\";\nvar ACCOUNT\n/*  */\n= \"ACCOUNT\";\nvar PARAM\n/*    */\n= \"PARAM\";\nvar ARGUMENT\n/* */\n= \"ARGUMENT\";\nvar AUTHORIZER\n/* */\n= \"authorizer\";\nvar PAYER\n/*      */\n= \"payer\";\nvar PROPOSER\n/*   */\n= \"proposer\";\nvar ACCT = \"{\\n  \\\"kind\\\":\\\"\".concat(ACCOUNT, \"\\\",\\n  \\\"tempId\\\":null,\\n  \\\"addr\\\":null,\\n  \\\"keyId\\\":null,\\n  \\\"sequenceNum\\\":null,\\n  \\\"signature\\\":null,\\n  \\\"signingFunction\\\":null,\\n  \\\"resolve\\\":null,\\n  \\\"role\\\": {\\n    \\\"proposer\\\":false,\\n    \\\"authorizer\\\":false,\\n    \\\"payer\\\":false,\\n    \\\"param\\\":false\\n  }\\n}\");\nvar ARG = \"{\\n  \\\"kind\\\":\\\"\".concat(ARGUMENT, \"\\\",\\n  \\\"tempId\\\":null,\\n  \\\"value\\\":null,\\n  \\\"asArgument\\\":null,\\n  \\\"xform\\\":null,\\n  \\\"resolve\\\": null,\\n  \\\"resolveArgument\\\": null\\n}\");\nvar IX = \"{\\n  \\\"tag\\\":\\\"\".concat(UNKNOWN, \"\\\",\\n  \\\"assigns\\\":{},\\n  \\\"status\\\":\\\"\").concat(OK, \"\\\",\\n  \\\"reason\\\":null,\\n  \\\"accounts\\\":{},\\n  \\\"params\\\":{},\\n  \\\"arguments\\\":{},\\n  \\\"message\\\": {\\n    \\\"cadence\\\":null,\\n    \\\"refBlock\\\":null,\\n    \\\"computeLimit\\\":null,\\n    \\\"proposer\\\":null,\\n    \\\"payer\\\":null,\\n    \\\"authorizations\\\":[],\\n    \\\"params\\\":[],\\n    \\\"arguments\\\":[]\\n  },\\n  \\\"proposer\\\":null,\\n  \\\"authorizations\\\":[],\\n  \\\"payer\\\":[],\\n  \\\"events\\\": {\\n    \\\"eventType\\\":null,\\n    \\\"start\\\":null,\\n    \\\"end\\\":null,\\n    \\\"blockIds\\\":[]\\n  },\\n  \\\"transaction\\\": {\\n    \\\"id\\\":null\\n  },\\n  \\\"block\\\": {\\n    \\\"id\\\":null,\\n    \\\"height\\\":null,\\n    \\\"isSealed\\\":null\\n  },\\n  \\\"account\\\": {\\n    \\\"addr\\\":null\\n  },\\n  \\\"collection\\\": {\\n    \\\"id\\\":null\\n  }\\n}\");\nvar KEYS = new Set(Object.keys(JSON.parse(IX)));\nvar interaction = function interaction() {\n  return JSON.parse(IX);\n};\nvar CHARS = \"abcdefghijklmnopqrstuvwxyz0123456789\".split(\"\");\n\nvar randChar = function randChar() {\n  return CHARS[~~(Math.random() * CHARS.length)];\n};\n\nvar uuid = function uuid() {\n  return Array.from({\n    length: 10\n  }, randChar).join(\"\");\n};\nvar isNumber$1 = function isNumber(d) {\n  return typeof d === \"number\";\n};\nvar isArray$1 = function isArray(d) {\n  return Array.isArray(d);\n};\nvar isObj = function isObj(d) {\n  return d !== null && _typeof(d) === \"object\";\n};\nvar isNull = function isNull(d) {\n  return d == null;\n};\nvar isFn$3 = function isFn(d) {\n  return typeof d === \"function\";\n};\nvar isInteraction = function isInteraction(ix) {\n  if (!isObj(ix) || isNull(ix) || isNumber$1(ix)) return false;\n\n  var _iterator = _createForOfIteratorHelper(KEYS),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var key = _step.value;\n      if (!ix.hasOwnProperty(key)) return false;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return true;\n};\nvar Ok = function Ok(ix) {\n  ix.status = OK;\n  return ix;\n};\nvar Bad = function Bad(ix, reason) {\n  ix.status = BAD;\n  ix.reason = reason;\n  return ix;\n};\n\nvar makeIx = function makeIx(wat) {\n  return function (ix) {\n    ix.tag = wat;\n    return Ok(ix);\n  };\n};\n\nvar prepAccountKeyId = function prepAccountKeyId(acct) {\n  if (acct.keyId == null) return acct;\n  invariant$1(!isNaN(parseInt(acct.keyId)), \"account.keyId must be an integer\");\n  return _objectSpread(_objectSpread({}, acct), {}, {\n    keyId: parseInt(acct.keyId)\n  });\n};\n\nvar prepAccount = function prepAccount(acct) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function (ix) {\n    invariant$1(typeof acct === \"function\" || _typeof(acct) === \"object\", \"prepAccount must be passed an authorization function or an account object\");\n    invariant$1(opts.role != null, \"Account must have a role\");\n    var ACCOUNT = JSON.parse(ACCT);\n    var role = opts.role;\n    var tempId = uuid();\n    if (acct.authorization && isFn$3(acct.authorization)) acct = {\n      resolve: acct.authorization\n    };\n    if (!acct.authorization && isFn$3(acct)) acct = {\n      resolve: acct\n    };\n    var resolve = acct.resolve;\n    if (resolve) acct.resolve = function (acct) {\n      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n\n      return [resolve, prepAccountKeyId].reduce( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(d, fn) {\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.t0 = fn;\n                  _context.t1 = void 0;\n                  _context.next = 4;\n                  return d;\n\n                case 4:\n                  _context.t2 = _context.sent;\n                  _context.t3 = [_context.t2].concat(rest);\n                  return _context.abrupt(\"return\", _context.t0.apply.call(_context.t0, _context.t1, _context.t3));\n\n                case 7:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x, _x2) {\n          return _ref.apply(this, arguments);\n        };\n      }(), acct);\n    };\n    acct = prepAccountKeyId(acct);\n    ix.accounts[tempId] = _objectSpread(_objectSpread(_objectSpread({}, ACCOUNT), {}, {\n      tempId: tempId\n    }, acct), {}, {\n      role: _objectSpread(_objectSpread(_objectSpread({}, ACCOUNT.role), _typeof(acct.role) === \"object\" ? acct.role : {}), {}, _defineProperty({}, role, true))\n    });\n\n    if (role === AUTHORIZER) {\n      ix.authorizations.push(tempId);\n    } else if (role === PAYER) {\n      ix.payer.push(tempId);\n    } else {\n      ix[role] = tempId;\n    }\n\n    return ix;\n  };\n};\nvar makeArgument = function makeArgument(arg) {\n  return function (ix) {\n    var tempId = uuid();\n    ix.message.arguments.push(tempId);\n    ix.arguments[tempId] = JSON.parse(ARG);\n    ix.arguments[tempId].tempId = tempId;\n    ix.arguments[tempId].value = arg.value;\n    ix.arguments[tempId].asArgument = arg.asArgument;\n    ix.arguments[tempId].xform = arg.xform;\n    ix.arguments[tempId].resolve = arg.resolve;\n    ix.arguments[tempId].resolveArgument = isFn$3(arg.resolveArgument) ? arg.resolveArgument.bind(arg) : arg.resolveArgument;\n    return Ok(ix);\n  };\n};\nvar makeUnknown\n/*                 */\n= makeIx(UNKNOWN);\nvar makeScript\n/*                  */\n= makeIx(SCRIPT);\nvar makeTransaction\n/*             */\n= makeIx(TRANSACTION);\nvar makeGetTransactionStatus\n/*    */\n= makeIx(GET_TRANSACTION_STATUS);\nvar makeGetTransaction\n/*          */\n= makeIx(GET_TRANSACTION);\nvar makeGetAccount\n/*              */\n= makeIx(GET_ACCOUNT);\nvar makeGetEvents\n/*               */\n= makeIx(GET_EVENTS);\nvar makePing\n/*                    */\n= makeIx(PING);\nvar makeGetBlock\n/*                */\n= makeIx(GET_BLOCK);\nvar makeGetBlockHeader\n/*          */\n= makeIx(GET_BLOCK_HEADER);\nvar makeGetCollection\n/*           */\n= makeIx(GET_COLLECTION);\n\nvar is = function is(wat) {\n  return function (ix) {\n    return ix.tag === wat;\n  };\n};\n\nvar isUnknown\n/*                 */\n= is(UNKNOWN);\nvar isScript\n/*                  */\n= is(SCRIPT);\nvar isTransaction\n/*             */\n= is(TRANSACTION);\nvar isGetTransactionStatus\n/*    */\n= is(GET_TRANSACTION_STATUS);\nvar isGetTransaction\n/*          */\n= is(GET_TRANSACTION);\nvar isGetAccount\n/*              */\n= is(GET_ACCOUNT);\nvar isGetEvents\n/*               */\n= is(GET_EVENTS);\nvar isPing\n/*                    */\n= is(PING);\nvar isGetBlock\n/*                */\n= is(GET_BLOCK);\nvar isGetBlockHeader\n/*          */\n= is(GET_BLOCK_HEADER);\nvar isGetCollection\n/*           */\n= is(GET_COLLECTION);\nvar isOk\n/*  */\n= function isOk\n/*  */\n(ix) {\n  return ix.status === OK;\n};\nvar isBad\n/* */\n= function isBad\n/* */\n(ix) {\n  return ix.status === BAD;\n};\nvar why\n/*   */\n= function why\n/*   */\n(ix) {\n  return ix.reason;\n};\nvar isAccount\n/*  */\n= function isAccount\n/*  */\n(account) {\n  return account.kind === ACCOUNT;\n};\nvar isParam\n/*    */\n= function isParam\n/*    */\n(param) {\n  return param.kind === PARAM;\n};\nvar isArgument\n/* */\n= function isArgument\n/* */\n(argument) {\n  return argument.kind === ARGUMENT;\n};\n\nvar hardMode = function hardMode(ix) {\n  for (var _i = 0, _Object$keys = Object.keys(ix); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n    if (!KEYS.has(key)) throw new Error(\"\\\"\".concat(key, \"\\\" is an invalid root level Interaction property.\"));\n  }\n\n  return ix;\n};\n\nvar recPipe = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ix) {\n    var fns,\n        _fns,\n        hd,\n        rest,\n        cur,\n        _args2 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            fns = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : [];\n            _context2.prev = 1;\n            _context2.t0 = hardMode;\n            _context2.next = 5;\n            return ix;\n\n          case 5:\n            _context2.t1 = _context2.sent;\n            ix = (0, _context2.t0)(_context2.t1);\n\n            if (!isBad(ix)) {\n              _context2.next = 9;\n              break;\n            }\n\n            throw new Error(\"Interaction Error: \".concat(ix.reason));\n\n          case 9:\n            if (fns.length) {\n              _context2.next = 11;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", ix);\n\n          case 11:\n            _fns = _toArray(fns), hd = _fns[0], rest = _fns.slice(1);\n            _context2.next = 14;\n            return hd;\n\n          case 14:\n            cur = _context2.sent;\n\n            if (!isFn$3(cur)) {\n              _context2.next = 17;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", recPipe(cur(ix), rest));\n\n          case 17:\n            if (!(isNull(cur) || !cur)) {\n              _context2.next = 19;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", recPipe(ix, rest));\n\n          case 19:\n            if (!isInteraction(cur)) {\n              _context2.next = 21;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", recPipe(cur, rest));\n\n          case 21:\n            throw new Error(\"Invalid Interaction Composition\");\n\n          case 24:\n            _context2.prev = 24;\n            _context2.t2 = _context2[\"catch\"](1);\n            throw _context2.t2;\n\n          case 27:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[1, 24]]);\n  }));\n\n  return function recPipe(_x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar pipe = function pipe() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  var arg1 = args[0],\n      arg2 = args[1];\n  if (isArray$1(arg1) && arg2 == null) return function (d) {\n    return pipe(d, arg1);\n  };\n  return recPipe(arg1, arg2);\n};\n\nvar identity$1 = function identity(v) {\n  return v;\n};\n\nvar get = function get(ix, key, fallback) {\n  return ix.assigns[key] == null ? fallback : ix.assigns[key];\n};\nvar put = function put(key, value) {\n  return function (ix) {\n    ix.assigns[key] = value;\n    return Ok(ix);\n  };\n};\nvar update = function update(key) {\n  var fn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : identity$1;\n  return function (ix) {\n    ix.assigns[key] = fn(ix.assigns[key], ix);\n    return Ok(ix);\n  };\n};\nvar destroy = function destroy(key) {\n  return function (ix) {\n    delete ix.assigns[key];\n    return Ok(ix);\n  };\n};\n\nvar ixModule = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  UNKNOWN: UNKNOWN,\n  SCRIPT: SCRIPT,\n  TRANSACTION: TRANSACTION,\n  GET_TRANSACTION_STATUS: GET_TRANSACTION_STATUS,\n  GET_ACCOUNT: GET_ACCOUNT,\n  GET_EVENTS: GET_EVENTS,\n  PING: PING,\n  GET_TRANSACTION: GET_TRANSACTION,\n  GET_BLOCK: GET_BLOCK,\n  GET_BLOCK_HEADER: GET_BLOCK_HEADER,\n  GET_COLLECTION: GET_COLLECTION,\n  BAD: BAD,\n  OK: OK,\n  ACCOUNT: ACCOUNT,\n  PARAM: PARAM,\n  ARGUMENT: ARGUMENT,\n  AUTHORIZER: AUTHORIZER,\n  PAYER: PAYER,\n  PROPOSER: PROPOSER,\n  interaction: interaction,\n  uuid: uuid,\n  isNumber: isNumber$1,\n  isArray: isArray$1,\n  isObj: isObj,\n  isNull: isNull,\n  isFn: isFn$3,\n  isInteraction: isInteraction,\n  Ok: Ok,\n  Bad: Bad,\n  prepAccount: prepAccount,\n  makeArgument: makeArgument,\n  makeUnknown: makeUnknown,\n  makeScript: makeScript,\n  makeTransaction: makeTransaction,\n  makeGetTransactionStatus: makeGetTransactionStatus,\n  makeGetTransaction: makeGetTransaction,\n  makeGetAccount: makeGetAccount,\n  makeGetEvents: makeGetEvents,\n  makePing: makePing,\n  makeGetBlock: makeGetBlock,\n  makeGetBlockHeader: makeGetBlockHeader,\n  makeGetCollection: makeGetCollection,\n  isUnknown: isUnknown,\n  isScript: isScript,\n  isTransaction: isTransaction,\n  isGetTransactionStatus: isGetTransactionStatus,\n  isGetTransaction: isGetTransaction,\n  isGetAccount: isGetAccount,\n  isGetEvents: isGetEvents,\n  isPing: isPing,\n  isGetBlock: isGetBlock,\n  isGetBlockHeader: isGetBlockHeader,\n  isGetCollection: isGetCollection,\n  isOk: isOk,\n  isBad: isBad,\n  why: why,\n  isAccount: isAccount,\n  isParam: isParam,\n  isArgument: isArgument,\n  pipe: pipe,\n  get: get,\n  put: put,\n  update: update,\n  destroy: destroy\n});\n\nfunction build() {\n  var fns = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return pipe(interaction(), fns);\n}\n\nvar DEFAULT_RESPONSE = \"{\\n    \\\"tag\\\":null,\\n    \\\"transaction\\\":null,\\n    \\\"transactionStatus\\\":null,\\n    \\\"transactionId\\\":null,\\n    \\\"encodedData\\\":null,\\n    \\\"events\\\":null,\\n    \\\"account\\\":null,\\n    \\\"block\\\":null,\\n    \\\"blockHeader\\\":null,\\n    \\\"latestBlock\\\":null,\\n    \\\"collection\\\":null\\n}\";\nvar response = function response() {\n  return JSON.parse(DEFAULT_RESPONSE);\n};\n\nfunction getBlock() {\n  var isSealed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  return pipe([makeGetBlock, function (ix) {\n    ix.block.isSealed = isSealed;\n    return Ok(ix);\n  }]);\n}\n\nfunction getAccount(addr) {\n  return pipe([makeGetAccount, function (ix) {\n    ix.account.addr = sansPrefix(addr);\n    return Ok(ix);\n  }]);\n}\n\nvar latestBlockDeprecationNotice = function latestBlockDeprecationNotice() {\n  log.deprecate({\n    pkg: \"@onflow/decode\",\n    subject: \"Operating upon data of the latestBlock field of the response object\",\n    transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field\"\n  });\n};\n\nvar decodeImplicit = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(i) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", i);\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function decodeImplicit(_x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar decodeVoid = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt(\"return\", null);\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function decodeVoid() {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar decodeType = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(type) {\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt(\"return\", type.staticType);\n\n          case 1:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function decodeType(_x5) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar decodePath = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(path) {\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            return _context5.abrupt(\"return\", {\n              domain: path.domain,\n              identifier: path.identifier\n            });\n\n          case 1:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function decodePath(_x6) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nvar decodeCapability = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(cap) {\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            return _context6.abrupt(\"return\", {\n              path: cap.path,\n              address: cap.address,\n              borrowType: cap.borrowType\n            });\n\n          case 1:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function decodeCapability(_x7) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nvar decodeOptional = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(optional, decoders, stack) {\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            if (!optional) {\n              _context7.next = 6;\n              break;\n            }\n\n            _context7.next = 3;\n            return recurseDecode(optional, decoders, stack);\n\n          case 3:\n            _context7.t0 = _context7.sent;\n            _context7.next = 7;\n            break;\n\n          case 6:\n            _context7.t0 = null;\n\n          case 7:\n            return _context7.abrupt(\"return\", _context7.t0);\n\n          case 8:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n\n  return function decodeOptional(_x8, _x9, _x10) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nvar decodeReference = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(v) {\n    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            return _context8.abrupt(\"return\", {\n              address: v.address,\n              type: v.type\n            });\n\n          case 1:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n\n  return function decodeReference(_x11) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nvar decodeArray = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(array, decoders, stack) {\n    return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            _context10.next = 2;\n            return Promise.all(array.map(function (v) {\n              return new Promise( /*#__PURE__*/function () {\n                var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(res) {\n                  return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n                    while (1) {\n                      switch (_context9.prev = _context9.next) {\n                        case 0:\n                          _context9.t0 = res;\n                          _context9.next = 3;\n                          return recurseDecode(v, decoders, [].concat(_toConsumableArray(stack), [v.type]));\n\n                        case 3:\n                          _context9.t1 = _context9.sent;\n                          return _context9.abrupt(\"return\", (0, _context9.t0)(_context9.t1));\n\n                        case 5:\n                        case \"end\":\n                          return _context9.stop();\n                      }\n                    }\n                  }, _callee9);\n                }));\n\n                return function (_x15) {\n                  return _ref10.apply(this, arguments);\n                };\n              }());\n            }));\n\n          case 2:\n            return _context10.abrupt(\"return\", _context10.sent);\n\n          case 3:\n          case \"end\":\n            return _context10.stop();\n        }\n      }\n    }, _callee10);\n  }));\n\n  return function decodeArray(_x12, _x13, _x14) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\nvar decodeDictionary = /*#__PURE__*/function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(dictionary, decoders, stack) {\n    return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n      while (1) {\n        switch (_context12.prev = _context12.next) {\n          case 0:\n            _context12.next = 2;\n            return dictionary.reduce( /*#__PURE__*/function () {\n              var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(acc, v) {\n                return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n                  while (1) {\n                    switch (_context11.prev = _context11.next) {\n                      case 0:\n                        _context11.next = 2;\n                        return acc;\n\n                      case 2:\n                        acc = _context11.sent;\n                        _context11.next = 5;\n                        return recurseDecode(v.key, decoders, [].concat(_toConsumableArray(stack), [v.key]));\n\n                      case 5:\n                        _context11.t0 = _context11.sent;\n                        _context11.next = 8;\n                        return recurseDecode(v.value, decoders, [].concat(_toConsumableArray(stack), [v.key]));\n\n                      case 8:\n                        acc[_context11.t0] = _context11.sent;\n                        return _context11.abrupt(\"return\", acc);\n\n                      case 10:\n                      case \"end\":\n                        return _context11.stop();\n                    }\n                  }\n                }, _callee11);\n              }));\n\n              return function (_x19, _x20) {\n                return _ref12.apply(this, arguments);\n              };\n            }(), Promise.resolve({}));\n\n          case 2:\n            return _context12.abrupt(\"return\", _context12.sent);\n\n          case 3:\n          case \"end\":\n            return _context12.stop();\n        }\n      }\n    }, _callee12);\n  }));\n\n  return function decodeDictionary(_x16, _x17, _x18) {\n    return _ref11.apply(this, arguments);\n  };\n}();\n\nvar decodeComposite = /*#__PURE__*/function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(composite, decoders, stack) {\n    var decoded, decoder;\n    return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n      while (1) {\n        switch (_context14.prev = _context14.next) {\n          case 0:\n            _context14.next = 2;\n            return composite.fields.reduce( /*#__PURE__*/function () {\n              var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(acc, v) {\n                return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n                  while (1) {\n                    switch (_context13.prev = _context13.next) {\n                      case 0:\n                        _context13.next = 2;\n                        return acc;\n\n                      case 2:\n                        acc = _context13.sent;\n                        _context13.next = 5;\n                        return recurseDecode(v.value, decoders, [].concat(_toConsumableArray(stack), [v.name]));\n\n                      case 5:\n                        acc[v.name] = _context13.sent;\n                        return _context13.abrupt(\"return\", acc);\n\n                      case 7:\n                      case \"end\":\n                        return _context13.stop();\n                    }\n                  }\n                }, _callee13);\n              }));\n\n              return function (_x24, _x25) {\n                return _ref14.apply(this, arguments);\n              };\n            }(), Promise.resolve({}));\n\n          case 2:\n            decoded = _context14.sent;\n            decoder = composite.id && decoderLookup(decoders, composite.id);\n\n            if (!decoder) {\n              _context14.next = 10;\n              break;\n            }\n\n            _context14.next = 7;\n            return decoder(decoded);\n\n          case 7:\n            _context14.t0 = _context14.sent;\n            _context14.next = 11;\n            break;\n\n          case 10:\n            _context14.t0 = decoded;\n\n          case 11:\n            return _context14.abrupt(\"return\", _context14.t0);\n\n          case 12:\n          case \"end\":\n            return _context14.stop();\n        }\n      }\n    }, _callee14);\n  }));\n\n  return function decodeComposite(_x21, _x22, _x23) {\n    return _ref13.apply(this, arguments);\n  };\n}();\n\nvar defaultDecoders = {\n  UInt: decodeImplicit,\n  Int: decodeImplicit,\n  UInt8: decodeImplicit,\n  Int8: decodeImplicit,\n  UInt16: decodeImplicit,\n  Int16: decodeImplicit,\n  UInt32: decodeImplicit,\n  Int32: decodeImplicit,\n  UInt64: decodeImplicit,\n  Int64: decodeImplicit,\n  UInt128: decodeImplicit,\n  Int128: decodeImplicit,\n  UInt256: decodeImplicit,\n  Int256: decodeImplicit,\n  Word8: decodeImplicit,\n  Word16: decodeImplicit,\n  Word32: decodeImplicit,\n  Word64: decodeImplicit,\n  UFix64: decodeImplicit,\n  Fix64: decodeImplicit,\n  String: decodeImplicit,\n  Character: decodeImplicit,\n  Bool: decodeImplicit,\n  Address: decodeImplicit,\n  Void: decodeVoid,\n  Optional: decodeOptional,\n  Reference: decodeReference,\n  Array: decodeArray,\n  Dictionary: decodeDictionary,\n  Event: decodeComposite,\n  Resource: decodeComposite,\n  Struct: decodeComposite,\n  Enum: decodeComposite,\n  Type: decodeType,\n  Path: decodePath,\n  Capability: decodeCapability\n};\n\nvar decoderLookup = function decoderLookup(decoders, lookup) {\n  var found = Object.keys(decoders).find(function (decoder) {\n    if (/^\\/.*\\/$/.test(decoder)) {\n      var reg = new RegExp(decoder.substring(1, decoder.length - 1));\n      return reg.test(lookup);\n    }\n\n    return decoder === lookup;\n  });\n  return lookup && found && decoders[found];\n};\n\nvar recurseDecode = /*#__PURE__*/function () {\n  var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15(decodeInstructions, decoders, stack) {\n    var decoder;\n    return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n      while (1) {\n        switch (_context15.prev = _context15.next) {\n          case 0:\n            decoder = decoderLookup(decoders, decodeInstructions.type);\n\n            if (decoder) {\n              _context15.next = 3;\n              break;\n            }\n\n            throw new Error(\"Undefined Decoder Error: \".concat(decodeInstructions.type, \"@\").concat(stack.join(\".\")));\n\n          case 3:\n            _context15.next = 5;\n            return decoder(decodeInstructions.value, decoders, stack);\n\n          case 5:\n            return _context15.abrupt(\"return\", _context15.sent);\n\n          case 6:\n          case \"end\":\n            return _context15.stop();\n        }\n      }\n    }, _callee15);\n  }));\n\n  return function recurseDecode(_x26, _x27, _x28) {\n    return _ref15.apply(this, arguments);\n  };\n}();\n\nvar decode$1 = /*#__PURE__*/function () {\n  var _ref16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16(decodeInstructions) {\n    var customDecoders,\n        stack,\n        filteredDecoders,\n        decoders,\n        _args16 = arguments;\n    return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n      while (1) {\n        switch (_context16.prev = _context16.next) {\n          case 0:\n            customDecoders = _args16.length > 1 && _args16[1] !== undefined ? _args16[1] : {};\n            stack = _args16.length > 2 && _args16[2] !== undefined ? _args16[2] : [];\n            // Filter out all default decoders which are overridden by a custom decoder regex\n            filteredDecoders = Object.keys(defaultDecoders).filter(function (decoder) {\n              return !Object.keys(customDecoders).find(function (customDecoder) {\n                return new RegExp(customDecoder).test(decoder);\n              });\n            }).reduce(function (decoders, decoderKey) {\n              decoders[decoderKey] = defaultDecoders[decoderKey];\n              return decoders;\n            }, customDecoders);\n            decoders = _objectSpread(_objectSpread({}, filteredDecoders), customDecoders);\n            return _context16.abrupt(\"return\", recurseDecode(decodeInstructions, decoders, stack));\n\n          case 5:\n          case \"end\":\n            return _context16.stop();\n        }\n      }\n    }, _callee16);\n  }));\n\n  return function decode(_x29) {\n    return _ref16.apply(this, arguments);\n  };\n}();\nvar decodeResponse = /*#__PURE__*/function () {\n  var _ref17 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee19(response) {\n    var customDecoders,\n        _args19 = arguments;\n    return _regeneratorRuntime.wrap(function _callee19$(_context19) {\n      while (1) {\n        switch (_context19.prev = _context19.next) {\n          case 0:\n            customDecoders = _args19.length > 1 && _args19[1] !== undefined ? _args19[1] : {};\n\n            if (!response.encodedData) {\n              _context19.next = 5;\n              break;\n            }\n\n            return _context19.abrupt(\"return\", decode$1(response.encodedData, customDecoders));\n\n          case 5:\n            if (!response.transactionStatus) {\n              _context19.next = 16;\n              break;\n            }\n\n            _context19.t0 = _objectSpread;\n            _context19.t1 = _objectSpread({}, response.transactionStatus);\n            _context19.t2 = {};\n            _context19.next = 11;\n            return Promise.all(response.transactionStatus.events.map( /*#__PURE__*/function () {\n              var _decodeEvents = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee17(e) {\n                return _regeneratorRuntime.wrap(function _callee17$(_context17) {\n                  while (1) {\n                    switch (_context17.prev = _context17.next) {\n                      case 0:\n                        _context17.t0 = e.type;\n                        _context17.t1 = e.transactionId;\n                        _context17.t2 = e.transactionIndex;\n                        _context17.t3 = e.eventIndex;\n                        _context17.next = 6;\n                        return decode$1(e.payload, customDecoders);\n\n                      case 6:\n                        _context17.t4 = _context17.sent;\n                        return _context17.abrupt(\"return\", {\n                          type: _context17.t0,\n                          transactionId: _context17.t1,\n                          transactionIndex: _context17.t2,\n                          eventIndex: _context17.t3,\n                          data: _context17.t4\n                        });\n\n                      case 8:\n                      case \"end\":\n                        return _context17.stop();\n                    }\n                  }\n                }, _callee17);\n              }));\n\n              function decodeEvents(_x31) {\n                return _decodeEvents.apply(this, arguments);\n              }\n\n              return decodeEvents;\n            }()));\n\n          case 11:\n            _context19.t3 = _context19.sent;\n            _context19.t4 = {\n              events: _context19.t3\n            };\n            return _context19.abrupt(\"return\", (0, _context19.t0)(_context19.t1, _context19.t2, _context19.t4));\n\n          case 16:\n            if (!response.transaction) {\n              _context19.next = 20;\n              break;\n            }\n\n            return _context19.abrupt(\"return\", response.transaction);\n\n          case 20:\n            if (!response.events) {\n              _context19.next = 26;\n              break;\n            }\n\n            _context19.next = 23;\n            return Promise.all(response.events.map( /*#__PURE__*/function () {\n              var _decodeEvents2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee18(e) {\n                return _regeneratorRuntime.wrap(function _callee18$(_context18) {\n                  while (1) {\n                    switch (_context18.prev = _context18.next) {\n                      case 0:\n                        _context18.t0 = e.blockId;\n                        _context18.t1 = e.blockHeight;\n                        _context18.t2 = e.blockTimestamp;\n                        _context18.t3 = e.type;\n                        _context18.t4 = e.transactionId;\n                        _context18.t5 = e.transactionIndex;\n                        _context18.t6 = e.eventIndex;\n                        _context18.next = 9;\n                        return decode$1(e.payload, customDecoders);\n\n                      case 9:\n                        _context18.t7 = _context18.sent;\n                        return _context18.abrupt(\"return\", {\n                          blockId: _context18.t0,\n                          blockHeight: _context18.t1,\n                          blockTimestamp: _context18.t2,\n                          type: _context18.t3,\n                          transactionId: _context18.t4,\n                          transactionIndex: _context18.t5,\n                          eventIndex: _context18.t6,\n                          data: _context18.t7\n                        });\n\n                      case 11:\n                      case \"end\":\n                        return _context18.stop();\n                    }\n                  }\n                }, _callee18);\n              }));\n\n              function decodeEvents(_x32) {\n                return _decodeEvents2.apply(this, arguments);\n              }\n\n              return decodeEvents;\n            }()));\n\n          case 23:\n            return _context19.abrupt(\"return\", _context19.sent);\n\n          case 26:\n            if (!response.account) {\n              _context19.next = 30;\n              break;\n            }\n\n            return _context19.abrupt(\"return\", response.account);\n\n          case 30:\n            if (!response.block) {\n              _context19.next = 34;\n              break;\n            }\n\n            return _context19.abrupt(\"return\", response.block);\n\n          case 34:\n            if (!response.blockHeader) {\n              _context19.next = 38;\n              break;\n            }\n\n            return _context19.abrupt(\"return\", response.blockHeader);\n\n          case 38:\n            if (!response.latestBlock) {\n              _context19.next = 43;\n              break;\n            }\n\n            latestBlockDeprecationNotice();\n            return _context19.abrupt(\"return\", response.latestBlock);\n\n          case 43:\n            if (!response.transactionId) {\n              _context19.next = 47;\n              break;\n            }\n\n            return _context19.abrupt(\"return\", response.transactionId);\n\n          case 47:\n            if (!response.collection) {\n              _context19.next = 49;\n              break;\n            }\n\n            return _context19.abrupt(\"return\", response.collection);\n\n          case 49:\n            return _context19.abrupt(\"return\", null);\n\n          case 50:\n          case \"end\":\n            return _context19.stop();\n        }\n      }\n    }, _callee19);\n  }));\n\n  return function decodeResponse(_x30) {\n    return _ref17.apply(this, arguments);\n  };\n}();\n\nfunction getRefId(_x) {\n  return _getRefId.apply(this, arguments);\n}\n\nfunction _getRefId() {\n  _getRefId = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(opts) {\n    var node, sendFn, ix;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return config().get(\"accessNode.api\");\n\n          case 2:\n            node = _context2.sent;\n            _context2.next = 5;\n            return config.first([\"sdk.transport\", \"sdk.send\"], send$1);\n\n          case 5:\n            sendFn = _context2.sent;\n            invariant$1(sendFn, \"Required value for sdk.transport is not defined in config. See: \".concat(\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"));\n            _context2.next = 9;\n            return pipe(interaction(), [getBlock()]);\n\n          case 9:\n            ix = _context2.sent;\n            _context2.next = 12;\n            return sendFn(ix, {\n              config: config,\n              response: response,\n              Buffer: Buffer,\n              ix: ixModule\n            }, {\n              node: node\n            });\n\n          case 12:\n            ix = _context2.sent;\n            _context2.next = 15;\n            return decodeResponse(ix);\n\n          case 15:\n            ix = _context2.sent;\n            return _context2.abrupt(\"return\", ix.id);\n\n          case 17:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getRefId.apply(this, arguments);\n}\n\nfunction resolveRefBlockId(opts) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (isTransaction(ix)) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\", Ok(ix));\n\n            case 2:\n              if (!ix.message.refBlock) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"return\", Ok(ix));\n\n            case 4:\n              _context.next = 6;\n              return getRefId(opts);\n\n            case 6:\n              ix.message.refBlock = _context.sent;\n              return _context.abrupt(\"return\", Ok(ix));\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n}\n\nvar isFn$2 = function isFn(v) {\n  return typeof v === \"function\";\n};\n\nvar isString$1 = function isString(v) {\n  return typeof v === \"string\";\n};\n\nfunction resolveCadence(_x) {\n  return _resolveCadence.apply(this, arguments);\n}\n\nfunction _resolveCadence() {\n  _resolveCadence = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n    var cadence;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(isTransaction(ix) || isScript(ix))) {\n              _context.next = 11;\n              break;\n            }\n\n            cadence = get(ix, \"ix.cadence\");\n            invariant$1(isFn$2(cadence) || isString$1(cadence), \"Cadence needs to be a function or a string.\");\n\n            if (!isFn$2(cadence)) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 6;\n            return cadence({});\n\n          case 6:\n            cadence = _context.sent;\n\n          case 7:\n            invariant$1(isString$1(cadence), \"Cadence needs to be a string at this point.\");\n            _context.next = 10;\n            return config().where(/^0x/).then(function (d) {\n              return Object.entries(d).reduce(function (cadence, _ref) {\n                var _ref2 = _slicedToArray(_ref, 2),\n                    key = _ref2[0],\n                    value = _ref2[1];\n\n                var regex = new RegExp(\"(\\\\b\" + key + \"\\\\b)\", \"g\");\n                return cadence.replace(regex, value);\n              }, cadence);\n            });\n\n          case 10:\n            ix.message.cadence = _context.sent;\n\n          case 11:\n            return _context.abrupt(\"return\", ix);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _resolveCadence.apply(this, arguments);\n}\n\nvar isFn$1 = function isFn(v) {\n  return typeof v === \"function\";\n};\n\nfunction cast(arg) {\n  // prettier-ignore\n  invariant$1(_typeof(arg.xform) != null, \"No type specified for argument: \".concat(arg.value));\n  if (isFn$1(arg.xform)) return arg.xform(arg.value);\n  if (isFn$1(arg.xform.asArgument)) return arg.xform.asArgument(arg.value); // prettier-ignore\n\n  invariant$1(false, \"Invalid Argument\", arg);\n}\n\nfunction handleArgResolution(_x) {\n  return _handleArgResolution.apply(this, arguments);\n}\n\nfunction _handleArgResolution() {\n  _handleArgResolution = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(arg) {\n    var depth,\n        resolvedArg,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            depth = _args.length > 1 && _args[1] !== undefined ? _args[1] : 3;\n            invariant$1(depth > 0, \"Argument Resolve Recursion Limit Exceeded for Arg: \".concat(arg.tempId));\n\n            if (!isFn$1(arg.resolveArgument)) {\n              _context.next = 9;\n              break;\n            }\n\n            _context.next = 5;\n            return arg.resolveArgument();\n\n          case 5:\n            resolvedArg = _context.sent;\n            return _context.abrupt(\"return\", handleArgResolution(resolvedArg, depth - 1));\n\n          case 9:\n            return _context.abrupt(\"return\", arg);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _handleArgResolution.apply(this, arguments);\n}\n\nfunction resolveArguments(_x2) {\n  return _resolveArguments.apply(this, arguments);\n}\n\nfunction _resolveArguments() {\n  _resolveArguments = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ix) {\n    var _i, _Object$entries, _Object$entries$_i, id, arg, res;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(isTransaction(ix) || isScript(ix))) {\n              _context2.next = 11;\n              break;\n            }\n\n            _i = 0, _Object$entries = Object.entries(ix.arguments);\n\n          case 2:\n            if (!(_i < _Object$entries.length)) {\n              _context2.next = 11;\n              break;\n            }\n\n            _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2), id = _Object$entries$_i[0], arg = _Object$entries$_i[1];\n            _context2.next = 6;\n            return handleArgResolution(arg);\n\n          case 6:\n            res = _context2.sent;\n            ix.arguments[id].asArgument = cast(res);\n\n          case 8:\n            _i++;\n            _context2.next = 2;\n            break;\n\n          case 11:\n            return _context2.abrupt(\"return\", ix);\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _resolveArguments.apply(this, arguments);\n}\n\nvar encodeTransactionPayload = function encodeTransactionPayload(tx) {\n  return prependTransactionDomainTag(rlpEncode(preparePayload(tx)));\n};\nvar encodeTransactionEnvelope = function encodeTransactionEnvelope(tx) {\n  return prependTransactionDomainTag(rlpEncode(prepareEnvelope(tx)));\n};\nvar encodeTxIdFromVoucher = function encodeTxIdFromVoucher(voucher) {\n  return sha3_256(rlpEncode(prepareVoucher(voucher)));\n};\n\nvar rightPaddedHexBuffer = function rightPaddedHexBuffer(value, pad) {\n  return Buffer.from(value.padEnd(pad * 2, 0), \"hex\");\n};\n\nvar leftPaddedHexBuffer = function leftPaddedHexBuffer(value, pad) {\n  return Buffer.from(value.padStart(pad * 2, 0), \"hex\");\n};\n\nvar TRANSACTION_DOMAIN_TAG = rightPaddedHexBuffer(Buffer.from(\"FLOW-V0.0-transaction\").toString(\"hex\"), 32).toString(\"hex\");\n\nvar prependTransactionDomainTag = function prependTransactionDomainTag(tx) {\n  return TRANSACTION_DOMAIN_TAG + tx;\n};\n\nvar addressBuffer = function addressBuffer(addr) {\n  return leftPaddedHexBuffer(addr, 8);\n};\n\nvar blockBuffer = function blockBuffer(block) {\n  return leftPaddedHexBuffer(block, 32);\n};\n\nvar argumentToString = function argumentToString(arg) {\n  return Buffer.from(JSON.stringify(arg), \"utf8\");\n};\n\nvar scriptBuffer = function scriptBuffer(script) {\n  return Buffer.from(script, \"utf8\");\n};\n\nvar signatureBuffer = function signatureBuffer(signature) {\n  return Buffer.from(signature, \"hex\");\n};\n\nvar rlpEncode = function rlpEncode(v) {\n  return encode(v).toString(\"hex\");\n};\n\nvar sha3_256 = function sha3_256(msg) {\n  var sha = new SHA3(256);\n  sha.update(Buffer.from(msg, \"hex\"));\n  return sha.digest().toString(\"hex\");\n};\n\nvar preparePayload = function preparePayload(tx) {\n  validatePayload(tx);\n  return [scriptBuffer(tx.cadence), tx.arguments.map(argumentToString), blockBuffer(tx.refBlock), tx.computeLimit, addressBuffer(sansPrefix(tx.proposalKey.address)), tx.proposalKey.keyId, tx.proposalKey.sequenceNum, addressBuffer(sansPrefix(tx.payer)), tx.authorizers.map(function (authorizer) {\n    return addressBuffer(sansPrefix(authorizer));\n  })];\n};\n\nvar prepareEnvelope = function prepareEnvelope(tx) {\n  validateEnvelope(tx);\n  return [preparePayload(tx), preparePayloadSignatures(tx)];\n};\n\nvar preparePayloadSignatures = function preparePayloadSignatures(tx) {\n  var signers = collectSigners(tx);\n  return tx.payloadSigs.map(function (sig) {\n    return {\n      signerIndex: signers.get(sig.address),\n      keyId: sig.keyId,\n      sig: sig.sig\n    };\n  }).sort(function (a, b) {\n    if (a.signerIndex > b.signerIndex) return 1;\n    if (a.signerIndex < b.signerIndex) return -1;\n    if (a.keyId > b.keyId) return 1;\n    if (a.keyId < b.keyId) return -1;\n  }).map(function (sig) {\n    return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)];\n  });\n};\n\nvar collectSigners = function collectSigners(tx) {\n  var signers = new Map();\n  var i = 0;\n\n  var addSigner = function addSigner(addr) {\n    if (!signers.has(addr)) {\n      signers.set(addr, i);\n      i++;\n    }\n  };\n\n  addSigner(tx.proposalKey.address);\n  addSigner(tx.payer);\n  tx.authorizers.forEach(addSigner);\n  return signers;\n};\n\nvar prepareVoucher = function prepareVoucher(voucher) {\n  validateVoucher(voucher);\n  var signers = collectSigners(voucher);\n\n  var prepareSigs = function prepareSigs(sigs) {\n    return sigs.map(function (_ref) {\n      var address = _ref.address,\n          keyId = _ref.keyId,\n          sig = _ref.sig;\n      return {\n        signerIndex: signers.get(address),\n        keyId: keyId,\n        sig: sig\n      };\n    }).sort(function (a, b) {\n      if (a.signerIndex > b.signerIndex) return 1;\n      if (a.signerIndex < b.signerIndex) return -1;\n      if (a.keyId > b.keyId) return 1;\n      if (a.keyId < b.keyId) return -1;\n    }).map(function (sig) {\n      return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)];\n    });\n  };\n\n  return [[scriptBuffer(voucher.cadence), voucher.arguments.map(argumentToString), blockBuffer(voucher.refBlock), voucher.computeLimit, addressBuffer(sansPrefix(voucher.proposalKey.address)), voucher.proposalKey.keyId, voucher.proposalKey.sequenceNum, addressBuffer(sansPrefix(voucher.payer)), voucher.authorizers.map(function (authorizer) {\n    return addressBuffer(sansPrefix(authorizer));\n  })], prepareSigs(voucher.payloadSigs), prepareSigs(voucher.envelopeSigs)];\n};\n\nvar validatePayload = function validatePayload(tx) {\n  payloadFields.forEach(function (field) {\n    return checkField(tx, field);\n  });\n  proposalKeyFields.forEach(function (field) {\n    return checkField(tx.proposalKey, field, \"proposalKey\");\n  });\n};\n\nvar validateEnvelope = function validateEnvelope(tx) {\n  payloadSigsFields.forEach(function (field) {\n    return checkField(tx, field);\n  });\n  tx.payloadSigs.forEach(function (sig, index) {\n    payloadSigFields.forEach(function (field) {\n      return checkField(sig, field, \"payloadSigs\", index);\n    });\n  });\n};\n\nvar validateVoucher = function validateVoucher(voucher) {\n  payloadFields.forEach(function (field) {\n    return checkField(voucher, field);\n  });\n  proposalKeyFields.forEach(function (field) {\n    return checkField(voucher.proposalKey, field, \"proposalKey\");\n  });\n  payloadSigsFields.forEach(function (field) {\n    return checkField(voucher, field);\n  });\n  voucher.payloadSigs.forEach(function (sig, index) {\n    payloadSigFields.forEach(function (field) {\n      return checkField(sig, field, \"payloadSigs\", index);\n    });\n  });\n  envelopeSigsFields.forEach(function (field) {\n    return checkField(voucher, field);\n  });\n  voucher.envelopeSigs.forEach(function (sig, index) {\n    envelopeSigFields.forEach(function (field) {\n      return checkField(sig, field, \"envelopeSigs\", index);\n    });\n  });\n};\n\nvar isNumber = function isNumber(v) {\n  return typeof v === \"number\";\n};\n\nvar isString = function isString(v) {\n  return typeof v === \"string\";\n};\n\nvar isObject = function isObject(v) {\n  return v !== null && _typeof(v) === \"object\";\n};\n\nvar isArray = function isArray(v) {\n  return isObject(v) && v instanceof Array;\n};\n\nvar payloadFields = [{\n  name: \"cadence\",\n  check: isString\n}, {\n  name: \"arguments\",\n  check: isArray\n}, {\n  name: \"refBlock\",\n  check: isString,\n  defaultVal: \"0\"\n}, {\n  name: \"computeLimit\",\n  check: isNumber\n}, {\n  name: \"proposalKey\",\n  check: isObject\n}, {\n  name: \"payer\",\n  check: isString\n}, {\n  name: \"authorizers\",\n  check: isArray\n}];\nvar proposalKeyFields = [{\n  name: \"address\",\n  check: isString\n}, {\n  name: \"keyId\",\n  check: isNumber\n}, {\n  name: \"sequenceNum\",\n  check: isNumber\n}];\nvar payloadSigsFields = [{\n  name: \"payloadSigs\",\n  check: isArray\n}];\nvar payloadSigFields = [{\n  name: \"address\",\n  check: isString\n}, {\n  name: \"keyId\",\n  check: isNumber\n}, {\n  name: \"sig\",\n  check: isString\n}];\nvar envelopeSigsFields = [{\n  name: \"envelopeSigs\",\n  check: isArray\n}];\nvar envelopeSigFields = [{\n  name: \"address\",\n  check: isString\n}, {\n  name: \"keyId\",\n  check: isNumber\n}, {\n  name: \"sig\",\n  check: isString\n}];\n\nvar checkField = function checkField(obj, field, base, index) {\n  var name = field.name,\n      check = field.check,\n      defaultVal = field.defaultVal;\n  if (obj[name] == null && defaultVal != null) obj[name] = defaultVal;\n  if (obj[name] == null) throw missingFieldError(name, base, index);\n  if (!check(obj[name])) throw invalidFieldError(name, base, index);\n};\n\nvar printFieldName = function printFieldName(field, base, index) {\n  if (!!base) return index == null ? \"\".concat(base, \".\").concat(field) : \"\".concat(base, \".\").concat(index, \".\").concat(field);\n  return field;\n};\n\nvar missingFieldError = function missingFieldError(field, base, index) {\n  return new Error(\"Missing field \".concat(printFieldName(field, base, index)));\n};\n\nvar invalidFieldError = function invalidFieldError(field, base, index) {\n  return new Error(\"Invalid field \".concat(printFieldName(field, base, index)));\n};\n\nfunction findInsideSigners(ix) {\n  // Inside Signers Are: (authorizers + proposer) - payer\n  var inside = new Set(ix.authorizations);\n  inside.add(ix.proposer);\n\n  if (Array.isArray(ix.payer)) {\n    ix.payer.forEach(function (p) {\n      return inside[\"delete\"](p);\n    });\n  } else {\n    inside[\"delete\"](ix.payer);\n  }\n\n  return Array.from(inside);\n}\nfunction findOutsideSigners(ix) {\n  // Outside Signers Are: (payer)\n  var outside = new Set(Array.isArray(ix.payer) ? ix.payer : [ix.payer]);\n  return Array.from(outside);\n}\nvar createSignableVoucher = function createSignableVoucher(ix) {\n  var buildAuthorizers = function buildAuthorizers() {\n    var authorizations = ix.authorizations.map(function (cid) {\n      return withPrefix(ix.accounts[cid].addr);\n    }).reduce(function (prev, current) {\n      return prev.find(function (item) {\n        return item === current;\n      }) ? prev : [].concat(_toConsumableArray(prev), [current]);\n    }, []);\n    return authorizations[0] ? authorizations : [];\n  };\n\n  var buildInsideSigners = function buildInsideSigners() {\n    return findInsideSigners(ix).map(function (id) {\n      return {\n        address: withPrefix(ix.accounts[id].addr),\n        keyId: ix.accounts[id].keyId,\n        sig: ix.accounts[id].signature\n      };\n    });\n  };\n\n  var buildOutsideSigners = function buildOutsideSigners() {\n    return findOutsideSigners(ix).map(function (id) {\n      return {\n        address: withPrefix(ix.accounts[id].addr),\n        keyId: ix.accounts[id].keyId,\n        sig: ix.accounts[id].signature\n      };\n    });\n  };\n\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(function (id) {\n      return ix.arguments[id].asArgument;\n    }),\n    proposalKey: {\n      address: withPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum\n    },\n    payer: withPrefix(ix.accounts[Array.isArray(ix.payer) ? ix.payer[0] : ix.payer].addr),\n    authorizers: buildAuthorizers(),\n    payloadSigs: buildInsideSigners(),\n    envelopeSigs: buildOutsideSigners()\n  };\n};\nvar voucherToTxId = function voucherToTxId(voucher) {\n  return encodeTxIdFromVoucher(voucher);\n};\n\nvar idof$1 = function idof(acct) {\n  return \"\".concat(withPrefix(acct.addr), \"-\").concat(acct.keyId);\n};\n\nvar isFn = function isFn(v) {\n  return typeof v === \"function\";\n};\n\nfunction buildPreSignable(acct, ix) {\n  try {\n    return {\n      f_type: \"PreSignable\",\n      f_vsn: \"1.0.1\",\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(function (d) {\n        return ix.arguments[d].asArgument;\n      }),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix)\n    };\n  } catch (error) {\n    console.error(\"buildPreSignable\", error);\n    throw error;\n  }\n}\n\nfunction collectAccounts(_x, _x2, _x3) {\n  return _collectAccounts.apply(this, arguments);\n}\n\nfunction _collectAccounts() {\n  _collectAccounts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix, accounts, last) {\n    var depth,\n        authorizations,\n        _iterator,\n        _step,\n        _loop,\n        old,\n        _args2 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            depth = _args2.length > 3 && _args2[3] !== undefined ? _args2[3] : 3;\n            invariant$1(depth, \"Account Resolve Recursion Limit Exceeded\", {\n              ix: ix,\n              accounts: accounts\n            });\n            authorizations = [];\n            _iterator = _createForOfIteratorHelper(accounts);\n            _context2.prev = 4;\n            _loop = /*#__PURE__*/_regeneratorRuntime.mark(function _loop() {\n              var ax, resolve, dupList, payerAccts, multiAccts;\n              return _regeneratorRuntime.wrap(function _loop$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      ax = _step.value;\n                      resolve = ax.resolve;\n                      ax.resolve = null;\n                      old = last || ax;\n\n                      if (!isFn(resolve)) {\n                        _context.next = 8;\n                        break;\n                      }\n\n                      _context.next = 7;\n                      return resolve(ax, buildPreSignable(ax, ix));\n\n                    case 7:\n                      ax = _context.sent;\n\n                    case 8:\n                      if (!Array.isArray(ax)) {\n                        _context.next = 13;\n                        break;\n                      }\n\n                      _context.next = 11;\n                      return collectAccounts(ix, ax, old, depth - 1);\n\n                    case 11:\n                      _context.next = 30;\n                      break;\n\n                    case 13:\n                      if (ax.addr) {\n                        ax.addr = sansPrefix(ax.addr);\n                      }\n\n                      if (ax.addr != null && ax.keyId != null) {\n                        ax.tempId = idof$1(ax);\n                      }\n\n                      ix.accounts[ax.tempId] = ix.accounts[ax.tempId] || ax;\n                      ix.accounts[ax.tempId].role.proposer = ix.accounts[ax.tempId].role.proposer || ax.role.proposer;\n                      ix.accounts[ax.tempId].role.payer = ix.accounts[ax.tempId].role.payer || ax.role.payer;\n                      ix.accounts[ax.tempId].role.authorizer = ix.accounts[ax.tempId].role.authorizer || ax.role.authorizer;\n\n                      if (ix.accounts[ax.tempId].role.proposer && ix.proposer === old.tempId) {\n                        ix.proposer = ax.tempId;\n                      }\n\n                      if (!ix.accounts[ax.tempId].role.payer) {\n                        _context.next = 29;\n                        break;\n                      }\n\n                      if (Array.isArray(ix.payer)) {\n                        ix.payer = Array.from(new Set([].concat(_toConsumableArray(ix.payer), [ax.tempId]).map(function (d) {\n                          return d === old.tempId ? ax.tempId : d;\n                        })));\n                      } else {\n                        ix.payer = Array.from(new Set([ix.payer, ax.tempId].map(function (d) {\n                          return d === old.tempId ? ax.tempId : d;\n                        })));\n                      }\n\n                      if (!(ix.payer.length > 1)) {\n                        _context.next = 29;\n                        break;\n                      }\n\n                      // remove payer dups based on addr and keyId\n                      dupList = [];\n                      payerAccts = [];\n                      ix.payer = ix.payer.reduce(function (g, tempId) {\n                        var addr = ix.accounts[tempId].addr;\n                        var key = idof$1(ix.accounts[tempId]);\n                        payerAccts.push(addr);\n                        if (dupList.includes(key)) return g;\n                        dupList.push(key);\n                        return [].concat(_toConsumableArray(g), [tempId]);\n                      }, []);\n                      multiAccts = Array.from(new Set(payerAccts));\n\n                      if (!(multiAccts.length > 1)) {\n                        _context.next = 29;\n                        break;\n                      }\n\n                      throw new Error(\"Payer can not be different accounts\");\n\n                    case 29:\n                      if (ix.accounts[ax.tempId].role.authorizer) {\n                        if (last) {\n                          // do group replacement\n                          authorizations = Array.from(new Set([].concat(_toConsumableArray(authorizations), [ax.tempId])));\n                        } else {\n                          // do 1-1 replacement\n                          ix.authorizations = ix.authorizations.map(function (d) {\n                            return d === old.tempId ? ax.tempId : d;\n                          });\n                        }\n                      }\n\n                    case 30:\n                      if (old.tempId != ax.tempId) delete ix.accounts[old.tempId];\n\n                    case 31:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _loop);\n            });\n\n            _iterator.s();\n\n          case 7:\n            if ((_step = _iterator.n()).done) {\n              _context2.next = 11;\n              break;\n            }\n\n            return _context2.delegateYield(_loop(), \"t0\", 9);\n\n          case 9:\n            _context2.next = 7;\n            break;\n\n          case 11:\n            _context2.next = 16;\n            break;\n\n          case 13:\n            _context2.prev = 13;\n            _context2.t1 = _context2[\"catch\"](4);\n\n            _iterator.e(_context2.t1);\n\n          case 16:\n            _context2.prev = 16;\n\n            _iterator.f();\n\n            return _context2.finish(16);\n\n          case 19:\n            if (last) {\n              // complete (flatmap) group replacement\n              ix.authorizations = ix.authorizations.map(function (d) {\n                return d === last.tempId ? authorizations : d;\n              }).reduce(function (prev, curr) {\n                return Array.isArray(curr) ? [].concat(_toConsumableArray(prev), _toConsumableArray(curr)) : [].concat(_toConsumableArray(prev), [curr]);\n              }, []);\n            }\n\n          case 20:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee, null, [[4, 13, 16, 19]]);\n  }));\n  return _collectAccounts.apply(this, arguments);\n}\n\nfunction resolveAccounts(_x4) {\n  return _resolveAccounts.apply(this, arguments);\n}\n\nfunction _resolveAccounts() {\n  _resolveAccounts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ix) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!isTransaction(ix)) {\n              _context3.next = 13;\n              break;\n            }\n\n            if (!Array.isArray(ix.payer)) {\n              log.deprecate({\n                pkg: \"FCL\",\n                subject: '\"ix.payer\" must be an array. Support for ix.payer as a singular',\n                message: \"See changelog for more info.\"\n              });\n            }\n\n            _context3.prev = 2;\n            _context3.next = 5;\n            return collectAccounts(ix, Object.values(ix.accounts));\n\n          case 5:\n            _context3.next = 7;\n            return collectAccounts(ix, Object.values(ix.accounts));\n\n          case 7:\n            _context3.next = 13;\n            break;\n\n          case 9:\n            _context3.prev = 9;\n            _context3.t0 = _context3[\"catch\"](2);\n            console.error(\"=== SAD PANDA ===\\n\\n\", _context3.t0, \"\\n\\n=== SAD PANDA ===\");\n            throw _context3.t0;\n\n          case 13:\n            return _context3.abrupt(\"return\", ix);\n\n          case 14:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee2, null, [[2, 9]]);\n  }));\n  return _resolveAccounts.apply(this, arguments);\n}\n\nfunction resolveSignatures(_x) {\n  return _resolveSignatures.apply(this, arguments);\n}\n\nfunction _resolveSignatures() {\n  _resolveSignatures = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ix) {\n    var insideSigners, insidePayload, outsideSigners, outsidePayload;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!isTransaction(ix)) {\n              _context2.next = 16;\n              break;\n            }\n\n            _context2.prev = 1;\n            insideSigners = findInsideSigners(ix);\n            insidePayload = encodeTransactionPayload(prepForEncoding(ix));\n            _context2.next = 6;\n            return Promise.all(insideSigners.map(fetchSignature(ix, insidePayload)));\n\n          case 6:\n            outsideSigners = findOutsideSigners(ix);\n            outsidePayload = encodeTransactionEnvelope(_objectSpread(_objectSpread({}, prepForEncoding(ix)), {}, {\n              payloadSigs: insideSigners.map(function (id) {\n                return {\n                  address: ix.accounts[id].addr,\n                  keyId: ix.accounts[id].keyId,\n                  sig: ix.accounts[id].signature\n                };\n              })\n            }));\n            _context2.next = 10;\n            return Promise.all(outsideSigners.map(fetchSignature(ix, outsidePayload)));\n\n          case 10:\n            _context2.next = 16;\n            break;\n\n          case 12:\n            _context2.prev = 12;\n            _context2.t0 = _context2[\"catch\"](1);\n            console.error(\"Signatures\", _context2.t0, {\n              ix: ix\n            });\n            throw _context2.t0;\n\n          case 16:\n            return _context2.abrupt(\"return\", ix);\n\n          case 17:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[1, 12]]);\n  }));\n  return _resolveSignatures.apply(this, arguments);\n}\n\nfunction fetchSignature(ix, payload) {\n  return /*#__PURE__*/function () {\n    var _innerFetchSignature = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(id) {\n      var acct, _yield$acct$signingFu, signature;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              acct = ix.accounts[id];\n\n              if (!(acct.signature != null)) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 3:\n              _context.next = 5;\n              return acct.signingFunction(buildSignable(acct, payload, ix));\n\n            case 5:\n              _yield$acct$signingFu = _context.sent;\n              signature = _yield$acct$signingFu.signature;\n              ix.accounts[id].signature = signature;\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function innerFetchSignature(_x2) {\n      return _innerFetchSignature.apply(this, arguments);\n    }\n\n    return innerFetchSignature;\n  }();\n}\n\nfunction buildSignable(acct, message, ix) {\n  try {\n    return {\n      f_type: \"Signable\",\n      f_vsn: \"1.0.1\",\n      message: message,\n      addr: sansPrefix(acct.addr),\n      keyId: acct.keyId,\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(function (d) {\n        return ix.arguments[d].asArgument;\n      }),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix)\n    };\n  } catch (error) {\n    console.error(\"buildSignable\", error);\n    throw error;\n  }\n}\n\nfunction prepForEncoding(ix) {\n  var payerAddress = sansPrefix((Array.isArray(ix.payer) ? ix.accounts[ix.payer[0]] : ix.accounts[ix.payer]).addr);\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(function (id) {\n      return ix.arguments[id].asArgument;\n    }),\n    proposalKey: {\n      address: sansPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum\n    },\n    payer: payerAddress,\n    authorizers: ix.authorizations.map(function (cid) {\n      return sansPrefix(ix.accounts[cid].addr);\n    }).reduce(function (prev, current) {\n      return prev.find(function (item) {\n        return item === current;\n      }) ? prev : [].concat(_toConsumableArray(prev), [current]);\n    }, [])\n  };\n}\n\nfunction resolveValidators(_x) {\n  return _resolveValidators.apply(this, arguments);\n}\n\nfunction _resolveValidators() {\n  _resolveValidators = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n    var validators;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            validators = get(ix, \"ix.validators\", []);\n            return _context.abrupt(\"return\", pipe(ix, validators.map(function (cb) {\n              return function (ix) {\n                return cb(ix, {\n                  Ok: Ok,\n                  Bad: Bad\n                });\n              };\n            })));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _resolveValidators.apply(this, arguments);\n}\n\nfunction resolveFinalNormalization(_x) {\n  return _resolveFinalNormalization.apply(this, arguments);\n}\n\nfunction _resolveFinalNormalization() {\n  _resolveFinalNormalization = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n    var _i, _Object$keys, key;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            for (_i = 0, _Object$keys = Object.keys(ix.accounts); _i < _Object$keys.length; _i++) {\n              key = _Object$keys[_i];\n              ix.accounts[key].addr = sansPrefix(ix.accounts[key].addr);\n            }\n\n            return _context.abrupt(\"return\", ix);\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _resolveFinalNormalization.apply(this, arguments);\n}\n\nfunction resolveVoucherIntercept(_x) {\n  return _resolveVoucherIntercept.apply(this, arguments);\n}\n\nfunction _resolveVoucherIntercept() {\n  _resolveVoucherIntercept = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n    var fn;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            fn = get(ix, \"ix.voucher-intercept\");\n\n            if (!isFn$3(fn)) {\n              _context.next = 4;\n              break;\n            }\n\n            _context.next = 4;\n            return fn(createSignableVoucher(ix));\n\n          case 4:\n            return _context.abrupt(\"return\", ix);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _resolveVoucherIntercept.apply(this, arguments);\n}\n\nvar DEFAULT_COMPUTE_LIMIT = 100;\nfunction resolveComputeLimit(_x) {\n  return _resolveComputeLimit.apply(this, arguments);\n}\n\nfunction _resolveComputeLimit() {\n  _resolveComputeLimit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!isTransaction(ix)) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.t0 = ix.message.computeLimit;\n\n            if (_context.t0) {\n              _context.next = 6;\n              break;\n            }\n\n            _context.next = 5;\n            return config.get(\"fcl.limit\");\n\n          case 5:\n            _context.t0 = _context.sent;\n\n          case 6:\n            ix.message.computeLimit = _context.t0;\n\n            if (!ix.message.computeLimit) {\n              logger.log.deprecate({\n                pkg: \"FCL/SDK\",\n                subject: \"The built-in default compute limit (DEFAULT_COMPUTE_LIMIT=10)\",\n                transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0009-deprecate-default-compute-limit\"\n              });\n              ix.message.computeLimit = DEFAULT_COMPUTE_LIMIT;\n            }\n\n          case 8:\n            return _context.abrupt(\"return\", ix);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _resolveComputeLimit.apply(this, arguments);\n}\n\nvar noop = function noop(v) {\n  return v;\n};\n\nvar debug = function debug(key) {\n  var fn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n      var accts, log;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n\n              accts = function accts(ix) {\n                return [\"\\nAccounts:\", {\n                  proposer: ix.proposer,\n                  authorizations: ix.authorizations,\n                  payer: ix.payer\n                }, \"\\n\\nDetails:\", ix.accounts].filter(Boolean);\n              };\n\n              log = function log() {\n                var _console;\n\n                for (var _len = arguments.length, msg = new Array(_len), _key = 0; _key < _len; _key++) {\n                  msg[_key] = arguments[_key];\n                }\n\n                (_console = console).log.apply(_console, [\"debug[\".concat(key, \"] ---\\n\")].concat(msg, [\"\\n\\n\\n---\"]));\n              };\n\n              _context.next = 5;\n              return config.get(\"debug.\".concat(key));\n\n            case 5:\n              if (!_context.sent) {\n                _context.next = 8;\n                break;\n              }\n\n              _context.next = 8;\n              return fn(ix, log, accts);\n\n            case 8:\n              return _context.abrupt(\"return\", ix);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\n\nvar resolve = pipe([resolveCadence, debug(\"cadence\", function (ix, log) {\n  return log(ix.message.cadence);\n}), resolveComputeLimit, debug(\"compute limit\", function (ix, log) {\n  return log(ix.message.computeLimit);\n}), resolveArguments, debug(\"arguments\", function (ix, log) {\n  return log(ix.message.arguments, ix.message);\n}), resolveAccounts, debug(\"accounts\", function (ix, log, accts) {\n  return log.apply(void 0, _toConsumableArray(accts(ix)));\n}),\n/* special */\nexecFetchRef,\n/* special */\nexecFetchSequenceNumber, resolveSignatures, debug(\"signatures\", function (ix, log, accts) {\n  return log.apply(void 0, _toConsumableArray(accts(ix)));\n}), resolveFinalNormalization, resolveValidators, resolveVoucherIntercept, debug(\"resolved\", function (ix, log) {\n  return log(ix);\n})]);\n\nfunction execFetchRef(_x2) {\n  return _execFetchRef.apply(this, arguments);\n}\n\nfunction _execFetchRef() {\n  _execFetchRef = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ix) {\n    var node, sendFn;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(isTransaction(ix) && ix.message.refBlock == null)) {\n              _context2.next = 11;\n              break;\n            }\n\n            _context2.next = 3;\n            return config().get(\"accessNode.api\");\n\n          case 3:\n            node = _context2.sent;\n            _context2.next = 6;\n            return config.first([\"sdk.transport\", \"sdk.send\"], send$1);\n\n          case 6:\n            sendFn = _context2.sent;\n            invariant$1(sendFn, \"Required value for sdk.transport is not defined in config. See: \".concat(\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"));\n            _context2.next = 10;\n            return sendFn(build([getBlock()]), {\n              config: config,\n              response: response,\n              Buffer: Buffer,\n              ix: ixModule\n            }, {\n              node: node\n            }).then(decodeResponse);\n\n          case 10:\n            ix.message.refBlock = _context2.sent.id;\n\n          case 11:\n            return _context2.abrupt(\"return\", ix);\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _execFetchRef.apply(this, arguments);\n}\n\nfunction execFetchSequenceNumber(_x3) {\n  return _execFetchSequenceNumber.apply(this, arguments);\n}\n\nfunction _execFetchSequenceNumber() {\n  _execFetchSequenceNumber = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ix) {\n    var acct, node, sendFn;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!isTransaction(ix)) {\n              _context3.next = 20;\n              break;\n            }\n\n            acct = Object.values(ix.accounts).find(function (a) {\n              return a.role.proposer;\n            });\n            invariant$1(acct, \"Transactions require a proposer\");\n\n            if (!(acct.sequenceNum == null)) {\n              _context3.next = 20;\n              break;\n            }\n\n            _context3.next = 6;\n            return config().get(\"accessNode.api\");\n\n          case 6:\n            node = _context3.sent;\n            _context3.next = 9;\n            return config.first([\"sdk.transport\", \"sdk.send\"], send$1);\n\n          case 9:\n            sendFn = _context3.sent;\n            invariant$1(sendFn, \"Required value for sdk.transport is not defined in config. See: \".concat(\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"));\n            _context3.t0 = sendFn;\n            _context3.next = 14;\n            return build([getAccount(acct.addr)]);\n\n          case 14:\n            _context3.t1 = _context3.sent;\n            _context3.t2 = {\n              config: config,\n              response: response,\n              Buffer: Buffer,\n              ix: ixModule\n            };\n            _context3.t3 = {\n              node: node\n            };\n            _context3.next = 19;\n            return (0, _context3.t0)(_context3.t1, _context3.t2, _context3.t3).then(decodeResponse).then(function (acct) {\n              return acct.keys;\n            }).then(function (keys) {\n              return keys.find(function (key) {\n                return key.index === acct.keyId;\n              });\n            }).then(function (key) {\n              return key.sequenceNumber;\n            });\n\n          case 19:\n            ix.accounts[acct.tempId].sequenceNum = _context3.sent;\n\n          case 20:\n            return _context3.abrupt(\"return\", ix);\n\n          case 21:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _execFetchSequenceNumber.apply(this, arguments);\n}\n\nfunction invariant() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  if (args.length > 1) {\n    var predicate = args[0],\n        message = args[1];\n    return invariant(function (ix, _ref) {\n      var Ok = _ref.Ok,\n          Bad = _ref.Bad;\n      return predicate ? Ok(ix) : Bad(ix, message);\n    });\n  }\n\n  var fn = args[0];\n  return function (ix) {\n    return fn(ix, {\n      Ok: Ok,\n      Bad: Bad\n    });\n  };\n}\n\nvar send = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var args,\n        opts,\n        sendFn,\n        resolveFn,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            args = _args.length > 0 && _args[0] !== undefined ? _args[0] : [];\n            opts = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n            _context.next = 4;\n            return config.first([\"sdk.transport\", \"sdk.send\"], opts.send || send$1);\n\n          case 4:\n            sendFn = _context.sent;\n            invariant(sendFn, \"Required value for sdk.transport is not defined in config. See: \".concat(\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"));\n            _context.next = 8;\n            return config.first([\"sdk.resolve\"], opts.resolve || resolve);\n\n          case 8:\n            resolveFn = _context.sent;\n            _context.t0 = opts.node;\n\n            if (_context.t0) {\n              _context.next = 14;\n              break;\n            }\n\n            _context.next = 13;\n            return config().get(\"accessNode.api\");\n\n          case 13:\n            _context.t0 = _context.sent;\n\n          case 14:\n            opts.node = _context.t0;\n            if (Array.isArray(args)) args = pipe(interaction(), args);\n            _context.t1 = sendFn;\n            _context.next = 19;\n            return resolveFn(args);\n\n          case 19:\n            _context.t2 = _context.sent;\n            _context.t3 = {\n              config: config,\n              response: response,\n              ix: ixModule,\n              Buffer: Buffer\n            };\n            _context.t4 = opts;\n            return _context.abrupt(\"return\", (0, _context.t1)(_context.t2, _context.t3, _context.t4));\n\n          case 23:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function send() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nfunction decode(_x) {\n  return _decode.apply(this, arguments);\n}\n\nfunction _decode() {\n  _decode = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(response) {\n    var decodersFromConfig, decoders;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return config().where(/^decoder\\./);\n\n          case 2:\n            decodersFromConfig = _context.sent;\n            decoders = Object.entries(decodersFromConfig).map(function (_ref) {\n              var _ref2 = _slicedToArray(_ref, 2),\n                  pattern = _ref2[0],\n                  xform = _ref2[1];\n\n              pattern = \"/\".concat(pattern.replace(/^decoder\\./, \"\"), \"$/\");\n              return [pattern, xform];\n            });\n            return _context.abrupt(\"return\", decodeResponse(response, Object.fromEntries(decoders)));\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _decode.apply(this, arguments);\n}\n\nvar findPayloadSigners = function findPayloadSigners(voucher) {\n  // Payload Signers Are: (authorizers + proposer) - payer\n  var payload = new Set(voucher.authorizers);\n  payload.add(voucher.proposalKey.address);\n  payload[\"delete\"](voucher.payer);\n  return Array.from(payload).map(withPrefix);\n};\n\nvar findEnvelopeSigners = function findEnvelopeSigners(voucher) {\n  // Envelope Signers Are: (payer)\n  var envelope = new Set([voucher.payer]);\n  return Array.from(envelope).map(withPrefix);\n};\n\nvar UnableToDetermineMessageEncodingTypeForSignerAddress = /*#__PURE__*/function (_Error) {\n  _inherits(UnableToDetermineMessageEncodingTypeForSignerAddress, _Error);\n\n  var _super = _createSuper(UnableToDetermineMessageEncodingTypeForSignerAddress);\n\n  function UnableToDetermineMessageEncodingTypeForSignerAddress(signerAddress) {\n    var _this;\n\n    _classCallCheck(this, UnableToDetermineMessageEncodingTypeForSignerAddress);\n\n    var msg = \"\\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: \".concat(signerAddress, \". \\n        Please ensure the address: \").concat(signerAddress, \" is intended to sign the given transaction as specified by the transaction signable.\\n      \").trim();\n    _this = _super.call(this, msg);\n    _this.name = \"Unable To Determine Message Encoding For Signer Addresss\";\n    return _this;\n  }\n\n  return _createClass(UnableToDetermineMessageEncodingTypeForSignerAddress);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nvar encodeMessageFromSignable = function encodeMessageFromSignable(signable, signerAddress) {\n  var payloadSigners = findPayloadSigners(signable.voucher);\n  var envelopeSigners = findEnvelopeSigners(signable.voucher);\n  var isPayloadSigner = payloadSigners.includes(withPrefix(signerAddress));\n  var isEnvelopeSigner = envelopeSigners.includes(withPrefix(signerAddress));\n\n  if (!isPayloadSigner && !isEnvelopeSigner) {\n    throw new UnableToDetermineMessageEncodingTypeForSignerAddress(signerAddress);\n  }\n\n  var message = {\n    cadence: signable.voucher.cadence,\n    refBlock: signable.voucher.refBlock,\n    computeLimit: signable.voucher.computeLimit,\n    arguments: signable.voucher.arguments,\n    proposalKey: _objectSpread(_objectSpread({}, signable.voucher.proposalKey), {}, {\n      address: sansPrefix(signable.voucher.proposalKey.address)\n    }),\n    payer: sansPrefix(signable.voucher.payer),\n    authorizers: signable.voucher.authorizers.map(sansPrefix),\n    payloadSigs: signable.voucher.payloadSigs.map(function (ps) {\n      return _objectSpread(_objectSpread({}, ps), {}, {\n        address: sansPrefix(ps.address)\n      });\n    })\n  };\n  return isPayloadSigner ? encodeTransactionPayload(message) : encodeTransactionEnvelope(message);\n};\n\nfunction validator(cb) {\n  return update(\"ix.validators\", function (validators) {\n    return Array.isArray(validators) ? validators.push(cb) : [cb];\n  });\n}\n\nfunction atBlockHeight(height) {\n  return pipe([function (ix) {\n    ix.block.height = height;\n    return ix;\n  }, validator(function (ix) {\n    if (typeof ix.block.isSealed === \"boolean\") throw new Error(\"Unable to specify both block height and isSealed.\");\n    if (ix.block.id) throw new Error(\"Unable to specify both block height and block id.\");\n    return ix;\n  })]);\n}\n\nfunction atBlockId(id) {\n  return pipe([function (ix) {\n    ix.block.id = id;\n    return Ok(ix);\n  }, validator(function (ix, _ref) {\n    var Ok = _ref.Ok,\n        Bad = _ref.Bad;\n    if (isGetAccount(ix)) return Bad(ix, \"Unable to specify a block id with a Get Account interaction.\");\n    if (typeof ix.block.isSealed === \"boolean\") return Bad(ix, \"Unable to specify both block id and isSealed.\");\n    if (ix.block.height) return Bad(ix, \"Unable to specify both block id and block height.\");\n    return Ok(ix);\n  })]);\n}\n\nfunction account(address) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      height = _ref.height,\n      id = _ref.id;\n\n  var opts = arguments.length > 2 ? arguments[2] : undefined;\n  invariant$1(!(id && height), \"Method: account -- Cannot pass \\\"id\\\" and \\\"height\\\" simultaneously\"); // Get account by ID\n\n  if (id) return send([getAccount(address), atBlockId(id)], opts).then(decodeResponse); // Get account by height\n\n  if (height) return send([getAccount(address), atBlockHeight(height)], opts).then(decodeResponse);\n  return send([getAccount(address)], opts).then(decodeResponse);\n}\n\nfunction block() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$sealed = _ref.sealed,\n      sealed = _ref$sealed === void 0 ? false : _ref$sealed,\n      id = _ref.id,\n      height = _ref.height;\n\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  invariant$1(!(sealed && id || sealed && height), \"Method: block -- Cannot pass \\\"sealed\\\" with \\\"id\\\" or \\\"height\\\"\");\n  invariant$1(!(id && height), \"Method: block -- Cannot pass \\\"id\\\" and \\\"height\\\" simultaneously\"); // Get block by ID\n\n  if (id) return send([getBlock(), atBlockId(id)], opts).then(decodeResponse); // Get block by height\n\n  if (height) return send([getBlock(), atBlockHeight(height)], opts).then(decodeResponse); // Get latest block\n\n  return send([getBlock(sealed)], opts).then(decodeResponse);\n}\n\nfunction authorizations() {\n  var ax = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return pipe(ax.map(function (authz) {\n    return prepAccount(authz, {\n      role: AUTHORIZER\n    });\n  }));\n}\nfunction authorization(addr, signingFunction, keyId, sequenceNum) {\n  return {\n    addr: addr,\n    signingFunction: signingFunction,\n    keyId: keyId,\n    sequenceNum: sequenceNum\n  };\n}\n\nfunction getEvents(eventType, start, end) {\n  if (typeof start !== \"undefined\" || typeof end !== \"undefined\") {\n    logger.log.deprecate({\n      pkg: \"FCL/SDK\",\n      subject: \"Passing a start and end into getEvents\",\n      transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder\"\n    });\n  }\n\n  return pipe([makeGetEvents, function (ix) {\n    ix.events.eventType = eventType;\n    ix.events.start = start;\n    ix.events.end = end;\n    return Ok(ix);\n  }]);\n}\n\nfunction getEventsAtBlockHeightRange(eventType, start, end) {\n  return pipe([makeGetEvents, function (ix) {\n    ix.events.eventType = eventType;\n    ix.events.start = start;\n    ix.events.end = end;\n    return Ok(ix);\n  }]);\n}\n\nfunction getEventsAtBlockIds(eventType) {\n  var blockIds = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return pipe([makeGetEvents, function (ix) {\n    ix.events.eventType = eventType;\n    ix.events.blockIds = blockIds;\n    return Ok(ix);\n  }]);\n}\n\nfunction getBlockHeader() {\n  var isSealed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  return pipe([makeGetBlockHeader, function (ix) {\n    ix.block.isSealed = isSealed;\n    return Ok(ix);\n  }]);\n}\n\nfunction getCollection() {\n  var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  return pipe([makeGetCollection, function (ix) {\n    ix.collection.id = id;\n    return ix;\n  }]);\n}\n\nfunction getTransactionStatus(transactionId) {\n  return pipe([makeGetTransactionStatus, function (ix) {\n    ix.transaction.id = transactionId;\n    return Ok(ix);\n  }]);\n}\n\nfunction getTransaction(transactionId) {\n  return pipe([makeGetTransaction, function (ix) {\n    ix.transaction.id = transactionId;\n    return Ok(ix);\n  }]);\n}\n\nfunction limit(computeLimit) {\n  return function (ix) {\n    ix.message.computeLimit = computeLimit;\n    return ix;\n  };\n}\n\nfunction args() {\n  var ax = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return pipe(ax.map(makeArgument));\n}\nfunction arg(value, xform) {\n  return {\n    value: value,\n    xform: xform\n  };\n}\n\nfunction proposer(_x) {\n  return _proposer.apply(this, arguments);\n}\n\nfunction _proposer() {\n  _proposer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(authz) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", prepAccount(authz, {\n              role: PROPOSER\n            }));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _proposer.apply(this, arguments);\n}\n\nfunction payer(_x) {\n  return _payer.apply(this, arguments);\n}\n\nfunction _payer() {\n  _payer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(authz) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", prepAccount(authz, {\n              role: PAYER\n            }));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _payer.apply(this, arguments);\n}\n\nfunction ping() {\n  return makePing;\n}\n\nfunction ref(refBlock) {\n  return pipe([function (ix) {\n    ix.message.refBlock = refBlock;\n    return Ok(ix);\n  }]);\n}\n\nfunction script() {\n  return pipe([makeScript, put(\"ix.cadence\", template.apply(void 0, arguments))]);\n}\n\nvar DEFAULT_SCRIPT_ACCOUNTS = [];\nvar DEFUALT_REF = null;\nfunction transaction() {\n  return pipe([makeTransaction, put(\"ix.cadence\", template.apply(void 0, arguments)), function (ix) {\n    ix.message.refBlock = ix.message.refBlock || DEFUALT_REF;\n    ix.authorizations = ix.authorizations || DEFAULT_SCRIPT_ACCOUNTS;\n    return Ok(ix);\n  }]);\n}\n\nfunction voucherIntercept(fn) {\n  return put(\"ix.voucher-intercept\", fn);\n}\n\nvar resolveProposerSequenceNumber = function resolveProposerSequenceNumber(_ref) {\n  var node = _ref.node;\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n      var sendFn, response$1, decoded;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (isTransaction(ix)) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\", Ok(ix));\n\n            case 2:\n              if (!ix.accounts[ix.proposer].sequenceNum) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"return\", Ok(ix));\n\n            case 4:\n              _context.next = 6;\n              return config.first([\"sdk.transport\", \"sdk.send\"], send$1);\n\n            case 6:\n              sendFn = _context.sent;\n              invariant$1(sendFn, \"Required value for sdk.transport is not defined in config. See: \".concat(\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"));\n              _context.t0 = sendFn;\n              _context.next = 11;\n              return build([getAccount(ix.accounts[ix.proposer].addr)]);\n\n            case 11:\n              _context.t1 = _context.sent;\n              _context.t2 = {\n                config: config,\n                response: response,\n                Buffer: Buffer,\n                ix: ixModule\n              };\n              _context.t3 = {\n                node: node\n              };\n              _context.next = 16;\n              return (0, _context.t0)(_context.t1, _context.t2, _context.t3);\n\n            case 16:\n              response$1 = _context.sent;\n              _context.next = 19;\n              return decodeResponse(response$1);\n\n            case 19:\n              decoded = _context.sent;\n              ix.accounts[ix.proposer].sequenceNum = decoded.keys[ix.accounts[ix.proposer].keyId].sequenceNumber;\n              return _context.abrupt(\"return\", Ok(ix));\n\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\n\nfunction mockAccountResponse(ix) {\n  var numberOfKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n  // prettier-ignore\n  invariant$1(ix.account, \"mockAccountResponse(ix) -- ix.account is missing\", ix); // prettier-ignore\n\n  invariant$1(ix.account.addr, \"mockAccountResponse(ix) -- ix.account.addr is missing\", ix);\n  var address = ix.account.addr;\n  return {\n    account: {\n      addr: address,\n      keys: Array.from({\n        length: numberOfKeys\n      }, function (_, i) {\n        return {\n          index: i,\n          sequenceNumber: 42\n        };\n      })\n    }\n  };\n}\nfunction mockGetBlockResponse(ix) {\n  return {\n    tag: \"GET_BLOCK\",\n    block: {\n      id: \"32\"\n    }\n  };\n}\n\nvar identity = function identity(v) {\n  return v;\n};\n\nfunction mockSend() {\n  var fallback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : identity;\n  return /*#__PURE__*/function () {\n    var _execSend = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return ix;\n\n            case 2:\n              ix = _context.sent;\n              _context.t0 = true;\n              _context.next = _context.t0 === isGetAccount(ix) ? 6 : _context.t0 === isGetBlock(ix) ? 7 : 8;\n              break;\n\n            case 6:\n              return _context.abrupt(\"return\", mockAccountResponse(ix));\n\n            case 7:\n              return _context.abrupt(\"return\", mockGetBlockResponse());\n\n            case 8:\n              return _context.abrupt(\"return\", fallback(ix));\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function execSend(_x) {\n      return _execSend.apply(this, arguments);\n    }\n\n    return execSend;\n  }();\n}\n\nvar _excluded = [\"tempId\"];\nvar idof = function idof(acct) {\n  return \"\".concat(withPrefix(acct.addr), \"-\").concat(acct.keyId);\n};\nfunction sig(opts) {\n  return [\"SIGNATURE\", opts.addr, opts.keyId].join(\".\");\n}\nfunction authzFn() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return function (account) {\n    var acct = _objectSpread(_objectSpread(_objectSpread({}, account), opts), {}, {\n      signingFunction: opts.signingFunction || account.signingFunction || fallbackSigningFunction\n    });\n\n    return acct;\n\n    function fallbackSigningFunction(signable) {\n      return {\n        addr: acct.addr,\n        keyId: acct.keyId,\n        signature: sig(acct)\n      };\n    }\n  };\n}\nfunction authzResolve() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return function (account) {\n    var tempId = opts.tempId,\n        rest = _objectWithoutProperties(opts, _excluded);\n\n    return _objectSpread(_objectSpread({}, account), {}, {\n      tempId: tempId || \"WITH_RESOLVE\",\n      resolve: authzFn(rest)\n    });\n  };\n}\nvar ROLE = {\n  proposer: false,\n  authorizer: false,\n  payer: false\n};\n\nfunction authzResolveMany() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return function (account) {\n    var tempId = opts.tempId || \"AUTHZ_RESOLVE_MANY\";\n    return _objectSpread(_objectSpread({}, account), {}, {\n      tempId: tempId,\n      resolve: function resolve() {\n        return [opts.proposer && authzFn(opts.proposer)({\n          role: _objectSpread(_objectSpread({}, ROLE), {}, {\n            proposer: true\n          })\n        })].concat(_toConsumableArray(opts.authorizations.map(authzFn).map(function (d) {\n          return d({\n            role: _objectSpread(_objectSpread({}, ROLE), {}, {\n              authorizer: true\n            })\n          });\n        })), [opts.payer && authzFn(opts.payer)({\n          role: _objectSpread(_objectSpread({}, ROLE), {}, {\n            payer: true\n          })\n        })]).filter(Boolean);\n      }\n    });\n  };\n}\n\nvar run = function run() {\n  var fns = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return build([ref(\"123\")].concat(_toConsumableArray(fns))).then(resolve);\n};\n\nvar index = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  mockSend: mockSend,\n  authzFn: authzFn,\n  authzResolve: authzResolve,\n  authzResolveMany: authzResolveMany,\n  sig: sig,\n  idof: idof,\n  run: run\n});\n\nvar VERSION = \"1.1.2\" ;\n\nvar params = function params(_params) {\n  return logger.log.deprecate({\n    pkg: \"FCL/SDK\",\n    message: \"The params builder has been removed from the Flow JS-SDK/FCL.\",\n    transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n    level: logger.LEVELS.error\n  });\n};\nvar param = function param(params) {\n  return logger.log.deprecate({\n    pkg: \"FCL/SDK\",\n    message: \"The param builder has been removed from the Flow JS-SDK/FCL.\",\n    transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n    level: logger.LEVELS.error\n  });\n};\n\nexport { index as TestUtils, VERSION, account, arg, args, atBlockHeight, atBlockId, authorization, authorizations, block, build, createSignableVoucher, decode, destroy, encodeMessageFromSignable, encodeTransactionEnvelope, encodeTransactionPayload, encodeTxIdFromVoucher, get, getAccount, getBlock, getBlockHeader, getCollection, getEvents, getEventsAtBlockHeightRange, getEventsAtBlockIds, getTransaction, getTransactionStatus, interaction, invariant, isBad, isGetAccount, isGetBlock, isGetBlockHeader, isGetCollection, isGetEvents, isGetTransaction, isGetTransactionStatus, isOk, isPing, isScript, isTransaction, isUnknown, limit, param, params, payer, ping, pipe, proposer, put, ref, resolve, resolveAccounts, resolveArguments, resolveCadence, resolveFinalNormalization, resolveProposerSequenceNumber, resolveRefBlockId, resolveSignatures, resolveValidators, resolveVoucherIntercept, script, send, transaction, update, validator, voucherIntercept, voucherToTxId, why };\n//# sourceMappingURL=sdk.module.js.map\n","import _typeof from '@babel/runtime/helpers/typeof';\nimport _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport _toArray from '@babel/runtime/helpers/toArray';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport _createForOfIteratorHelper from '@babel/runtime/helpers/createForOfIteratorHelper';\n\nvar promise;\nvar queueMicrotask_1 = typeof queueMicrotask === 'function' ? queueMicrotask // reuse resolved promise, and allocate it lazily\n: function (cb) {\n  return (promise || (promise = Promise.resolve())).then(cb)[\"catch\"](function (err) {\n    return setTimeout(function () {\n      throw err;\n    }, 0);\n  });\n};\n\nvar mailbox = function mailbox() {\n  var queue = [];\n  var next;\n  return {\n    deliver: function deliver(msg) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                queue.push(msg);\n\n                if (next) {\n                  next(queue.shift());\n                  next = undefined;\n                }\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    receive: function receive() {\n      return new Promise(function innerReceive(resolve) {\n        var msg = queue.shift();\n        if (msg) return resolve(msg);\n        next = resolve;\n      });\n    }\n  };\n};\n\nvar INIT = \"INIT\";\nvar SUBSCRIBE = \"SUBSCRIBE\";\nvar UNSUBSCRIBE = \"UNSUBSCRIBE\";\nvar UPDATED$1 = \"UPDATED\";\nvar EXIT = \"EXIT\";\nvar TERMINATE = \"TERMINATE\";\nvar root = (typeof self === \"undefined\" ? \"undefined\" : _typeof(self)) === \"object\" && self.self === self && self || (typeof global === \"undefined\" ? \"undefined\" : _typeof(global)) === \"object\" && global.global === global && global || (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\" && window.window === window && window;\nroot.FCL_REGISTRY = root.FCL_REGISTRY == null ? {} : root.FCL_REGISTRY;\nvar pid = 0;\nvar DEFAULT_TIMEOUT = 5000;\n\nvar _send = function send(addr, tag, data) {\n  var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  return new Promise(function (reply, reject) {\n    var expectReply = opts.expectReply || false;\n    var timeout = opts.timeout != null ? opts.timeout : DEFAULT_TIMEOUT;\n\n    if (expectReply && timeout) {\n      setTimeout(function () {\n        return reject(new Error(\"Timeout: \".concat(timeout, \"ms passed without a response.\")));\n      }, timeout);\n    }\n\n    var payload = {\n      to: addr,\n      from: opts.from,\n      tag: tag,\n      data: data,\n      timeout: timeout,\n      reply: reply,\n      reject: reject\n    };\n\n    try {\n      root.FCL_REGISTRY[addr] && root.FCL_REGISTRY[addr].mailbox.deliver(payload);\n      if (!expectReply) reply(true);\n    } catch (error) {\n      console.error(\"FCL.Actor -- Could Not Deliver Message\", payload, root.FCL_REGISTRY[addr], error);\n    }\n  });\n};\n\nvar kill = function kill(addr) {\n  delete root.FCL_REGISTRY[addr];\n};\n\nvar fromHandlers = function fromHandlers() {\n  var handlers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n      var letter;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(typeof handlers[INIT] === \"function\")) {\n                _context.next = 3;\n                break;\n              }\n\n              _context.next = 3;\n              return handlers[INIT](ctx);\n\n            case 3:\n              _context.next = 6;\n              return ctx.receive();\n\n            case 6:\n              letter = _context.sent;\n              _context.prev = 7;\n\n              if (!(letter.tag === EXIT)) {\n                _context.next = 13;\n                break;\n              }\n\n              if (!(typeof handlers[TERMINATE] === \"function\")) {\n                _context.next = 12;\n                break;\n              }\n\n              _context.next = 12;\n              return handlers[TERMINATE](ctx, letter, letter.data || {});\n\n            case 12:\n              return _context.abrupt(\"break\", 25);\n\n            case 13:\n              _context.next = 15;\n              return handlers[letter.tag](ctx, letter, letter.data || {});\n\n            case 15:\n              _context.next = 20;\n              break;\n\n            case 17:\n              _context.prev = 17;\n              _context.t0 = _context[\"catch\"](7);\n              console.error(\"\".concat(ctx.self(), \" Error\"), letter, _context.t0);\n\n            case 20:\n              _context.prev = 20;\n              return _context.abrupt(\"continue\", 3);\n\n            case 23:\n              _context.next = 3;\n              break;\n\n            case 25:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[7, 17, 20, 23]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\n\nvar spawn = function spawn(fn) {\n  var addr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  if (addr == null) addr = ++pid;\n  if (root.FCL_REGISTRY[addr] != null) return addr;\n  root.FCL_REGISTRY[addr] = {\n    addr: addr,\n    mailbox: mailbox(),\n    subs: new Set(),\n    kvs: {},\n    error: null\n  };\n  var ctx = {\n    self: function self() {\n      return addr;\n    },\n    receive: function receive() {\n      return root.FCL_REGISTRY[addr].mailbox.receive();\n    },\n    send: function send(to, tag, data) {\n      var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      opts.from = addr;\n      return _send(to, tag, data, opts);\n    },\n    sendSelf: function sendSelf(tag, data, opts) {\n      if (root.FCL_REGISTRY[addr]) _send(addr, tag, data, opts);\n    },\n    broadcast: function broadcast(tag, data) {\n      var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      opts.from = addr;\n\n      var _iterator = _createForOfIteratorHelper(root.FCL_REGISTRY[addr].subs),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var to = _step.value;\n\n          _send(to, tag, data, opts);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    },\n    subscribe: function subscribe(sub) {\n      return sub != null && root.FCL_REGISTRY[addr].subs.add(sub);\n    },\n    unsubscribe: function unsubscribe(sub) {\n      return sub != null && root.FCL_REGISTRY[addr].subs[\"delete\"](sub);\n    },\n    subscriberCount: function subscriberCount() {\n      return root.FCL_REGISTRY[addr].subs.size;\n    },\n    hasSubs: function hasSubs() {\n      return !!root.FCL_REGISTRY[addr].subs.size;\n    },\n    put: function put(key, value) {\n      if (key != null) root.FCL_REGISTRY[addr].kvs[key] = value;\n    },\n    get: function get(key, fallback) {\n      var value = root.FCL_REGISTRY[addr].kvs[key];\n      return value == null ? fallback : value;\n    },\n    \"delete\": function _delete(key) {\n      delete root.FCL_REGISTRY[addr].kvs[key];\n    },\n    update: function update(key, fn) {\n      if (key != null) root.FCL_REGISTRY[addr].kvs[key] = fn(root.FCL_REGISTRY[addr].kvs[key]);\n    },\n    keys: function keys() {\n      return Object.keys(root.FCL_REGISTRY[addr].kvs);\n    },\n    all: function all() {\n      return root.FCL_REGISTRY[addr].kvs;\n    },\n    where: function where(pattern) {\n      return Object.keys(root.FCL_REGISTRY[addr].kvs).reduce(function (acc, key) {\n        return pattern.test(key) ? _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, root.FCL_REGISTRY[addr].kvs[key])) : acc;\n      }, {});\n    },\n    merge: function merge() {\n      var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      Object.keys(data).forEach(function (key) {\n        return root.FCL_REGISTRY[addr].kvs[key] = data[key];\n      });\n    },\n    fatalError: function fatalError(error) {\n      root.FCL_REGISTRY[addr].error = error;\n\n      var _iterator2 = _createForOfIteratorHelper(root.FCL_REGISTRY[addr].subs),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var to = _step2.value;\n\n          _send(to, UPDATED$1);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  };\n  if (_typeof(fn) === \"object\") fn = fromHandlers(fn);\n  queueMicrotask_1( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return fn(ctx);\n\n          case 2:\n            kill(addr);\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })));\n  return addr;\n}; // Returns an unsubscribe function\n// A SUBSCRIBE handler will need to be created to handle the subscription event\n//\n//  [SUBSCRIBE]: (ctx, letter) => {\n//    ctx.subscribe(letter.from)\n//    ctx.send(letter.from, UPDATED, ctx.all())\n//  }\n//\n\n\nfunction subscriber(address, spawnFn, callback) {\n  spawnFn(address);\n  var EXIT = \"@EXIT\";\n  var self = spawn( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ctx) {\n      var letter, error;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              ctx.send(address, SUBSCRIBE);\n\n            case 1:\n              _context3.next = 4;\n              return ctx.receive();\n\n            case 4:\n              letter = _context3.sent;\n              error = root.FCL_REGISTRY[address].error;\n\n              if (!(letter.tag === EXIT)) {\n                _context3.next = 9;\n                break;\n              }\n\n              ctx.send(address, UNSUBSCRIBE);\n              return _context3.abrupt(\"return\");\n\n            case 9:\n              if (!error) {\n                _context3.next = 13;\n                break;\n              }\n\n              callback(null, error);\n              ctx.send(address, UNSUBSCRIBE);\n              return _context3.abrupt(\"return\");\n\n            case 13:\n              callback(letter.data, null);\n              _context3.next = 1;\n              break;\n\n            case 16:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n  return function () {\n    return _send(self, EXIT);\n  };\n} // Returns a promise that returns a result\n\nvar _HANDLERS;\n\nvar NAME = \"config\";\nvar PUT = \"PUT_CONFIG\";\nvar GET = \"GET_CONFIG\";\nvar GET_ALL = \"GET_ALL_CONFIG\";\nvar UPDATE = \"UPDATE_CONFIG\";\nvar DELETE = \"DELETE_CONFIG\";\nvar CLEAR = \"CLEAR_CONFIG\";\nvar WHERE = \"WHERE_CONFIG\";\nvar UPDATED = \"CONFIG/UPDATED\";\n\nvar identity = function identity(v) {\n  return v;\n};\n\nvar HANDLERS = (_HANDLERS = {}, _defineProperty(_HANDLERS, PUT, function (ctx, _letter, _ref) {\n  var key = _ref.key,\n      value = _ref.value;\n  if (key == null) throw new Error(\"Missing 'key' for config/put.\");\n  ctx.put(key, value);\n  ctx.broadcast(UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, GET, function (ctx, letter, _ref2) {\n  var key = _ref2.key,\n      fallback = _ref2.fallback;\n  if (key == null) throw new Error(\"Missing 'key' for config/get\");\n  letter.reply(ctx.get(key, fallback));\n}), _defineProperty(_HANDLERS, GET_ALL, function (ctx, letter) {\n  letter.reply(_objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, UPDATE, function (ctx, letter, _ref3) {\n  var key = _ref3.key,\n      fn = _ref3.fn;\n  if (key == null) throw new Error(\"Missing 'key' for config/update\");\n  ctx.update(key, fn || identity);\n  ctx.broadcast(UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, DELETE, function (ctx, letter, _ref4) {\n  var key = _ref4.key;\n  if (key == null) throw new Error(\"Missing 'key' for config/delete\");\n  ctx[\"delete\"](key);\n  ctx.broadcast(UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, CLEAR, function (ctx, letter) {\n  var keys = Object.keys(ctx.all());\n\n  for (var _i = 0, _keys = keys; _i < _keys.length; _i++) {\n    var key = _keys[_i];\n    ctx[\"delete\"](key);\n  }\n\n  ctx.broadcast(UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, WHERE, function (ctx, letter, _ref5) {\n  var pattern = _ref5.pattern;\n  if (pattern == null) throw new Error(\"Missing 'pattern' for config/where\");\n  letter.reply(ctx.where(pattern));\n}), _defineProperty(_HANDLERS, SUBSCRIBE, function (ctx, letter) {\n  ctx.subscribe(letter.from);\n  ctx.send(letter.from, UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, UNSUBSCRIBE, function (ctx, letter) {\n  ctx.unsubscribe(letter.from);\n}), _HANDLERS);\nspawn(HANDLERS, NAME);\n\nfunction put(key, value) {\n  _send(NAME, PUT, {\n    key: key,\n    value: value\n  });\n  return config();\n}\n\nfunction get(key, fallback) {\n  return _send(NAME, GET, {\n    key: key,\n    fallback: fallback\n  }, {\n    expectReply: true,\n    timeout: 10\n  });\n}\n\nfunction first() {\n  return _first.apply(this, arguments);\n}\n\nfunction _first() {\n  _first = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var wants,\n        fallback,\n        _wants,\n        head,\n        rest,\n        ret,\n        _args2 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            wants = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : [];\n            fallback = _args2.length > 1 ? _args2[1] : undefined;\n\n            if (wants.length) {\n              _context2.next = 4;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", fallback);\n\n          case 4:\n            _wants = _toArray(wants), head = _wants[0], rest = _wants.slice(1);\n            _context2.next = 7;\n            return get(head);\n\n          case 7:\n            ret = _context2.sent;\n\n            if (!(ret == null)) {\n              _context2.next = 10;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", first(rest, fallback));\n\n          case 10:\n            return _context2.abrupt(\"return\", ret);\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _first.apply(this, arguments);\n}\n\nfunction all() {\n  return _send(NAME, GET_ALL, null, {\n    expectReply: true,\n    timeout: 10\n  });\n}\n\nfunction update(key) {\n  var fn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : identity;\n  _send(NAME, UPDATE, {\n    key: key,\n    fn: fn\n  });\n  return config();\n}\n\nfunction _delete(key) {\n  _send(NAME, DELETE, {\n    key: key\n  });\n  return config();\n}\n\nfunction where(pattern) {\n  return _send(NAME, WHERE, {\n    pattern: pattern\n  }, {\n    expectReply: true,\n    timeout: 10\n  });\n}\n\nfunction subscribe(callback) {\n  return subscriber(NAME, function () {\n    return spawn(HANDLERS, NAME);\n  }, callback);\n}\n\nfunction clearConfig() {\n  return _send(NAME, CLEAR);\n}\n\nfunction resetConfig(oldConfig) {\n  return clearConfig().then(config(oldConfig));\n}\n\nfunction config(values) {\n  if (values != null && _typeof(values) === \"object\") {\n    Object.keys(values).map(function (d) {\n      return put(d, values[d]);\n    });\n  }\n\n  return {\n    put: put,\n    get: get,\n    all: all,\n    first: first,\n    update: update,\n    \"delete\": _delete,\n    where: where,\n    subscribe: subscribe,\n    overload: overload\n  };\n}\n\nconfig.put = put;\nconfig.get = get;\nconfig.all = all;\nconfig.first = first;\nconfig.update = update;\nconfig[\"delete\"] = _delete;\nconfig.where = where;\nconfig.subscribe = subscribe;\nconfig.overload = overload;\n\nvar noop = function noop(v) {\n  return v;\n};\n\nfunction overload() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  return new Promise( /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var oldConfig, result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return all();\n\n            case 2:\n              oldConfig = _context.sent;\n              _context.prev = 3;\n              config(opts);\n              _context.t0 = callback;\n              _context.next = 8;\n              return all();\n\n            case 8:\n              _context.t1 = _context.sent;\n              _context.next = 11;\n              return (0, _context.t0)(_context.t1);\n\n            case 11:\n              result = _context.sent;\n              _context.next = 14;\n              return resetConfig(oldConfig);\n\n            case 14:\n              resolve(result);\n              _context.next = 22;\n              break;\n\n            case 17:\n              _context.prev = 17;\n              _context.t2 = _context[\"catch\"](3);\n              _context.next = 21;\n              return resetConfig(oldConfig);\n\n            case 21:\n              reject(_context.t2);\n\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 17]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref6.apply(this, arguments);\n    };\n  }());\n}\n\nvar LEVELS = Object.freeze({\n  debug: 5,\n  info: 4,\n  log: 3,\n  warn: 2,\n  error: 1\n});\n\nvar buildLoggerMessageArgs = function buildLoggerMessageArgs(_ref) {\n  var title = _ref.title,\n      message = _ref.message;\n  return [\"\\n    %c\".concat(title, \"\\n    ============================\\n\\n    \").concat(message, \"\\n\\n    ============================\\n    \").replace(/\\n[^\\S\\r\\n]+/g, \"\\n\").trim(),, \"font-weight:bold;font-family:monospace;\"];\n};\n\nvar log = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var _console, _console2, _console3, _console4, _console5;\n\n    var title, message, level, _ref2$always, always, configLoggerLevel, loggerMessageArgs;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            title = _ref2.title, message = _ref2.message, level = _ref2.level, _ref2$always = _ref2.always, always = _ref2$always === void 0 ? false : _ref2$always;\n            _context.next = 3;\n            return config.get(\"logger.level\", LEVELS.warn);\n\n          case 3:\n            configLoggerLevel = _context.sent;\n\n            if (!(!always && configLoggerLevel < level)) {\n              _context.next = 6;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 6:\n            loggerMessageArgs = buildLoggerMessageArgs({\n              title: title,\n              message: message\n            });\n            _context.t0 = level;\n            _context.next = _context.t0 === LEVELS.debug ? 10 : _context.t0 === LEVELS.info ? 12 : _context.t0 === LEVELS.warn ? 14 : _context.t0 === LEVELS.error ? 16 : 18;\n            break;\n\n          case 10:\n            (_console = console).debug.apply(_console, _toConsumableArray(loggerMessageArgs));\n\n            return _context.abrupt(\"break\", 19);\n\n          case 12:\n            (_console2 = console).info.apply(_console2, _toConsumableArray(loggerMessageArgs));\n\n            return _context.abrupt(\"break\", 19);\n\n          case 14:\n            (_console3 = console).warn.apply(_console3, _toConsumableArray(loggerMessageArgs));\n\n            return _context.abrupt(\"break\", 19);\n\n          case 16:\n            (_console4 = console).error.apply(_console4, _toConsumableArray(loggerMessageArgs));\n\n            return _context.abrupt(\"break\", 19);\n\n          case 18:\n            (_console5 = console).log.apply(_console5, _toConsumableArray(loggerMessageArgs));\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function log(_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nlog.deprecate = function (_ref4) {\n  var pkg = _ref4.pkg,\n      subject = _ref4.subject,\n      transition = _ref4.transition,\n      _ref4$level = _ref4.level,\n      level = _ref4$level === void 0 ? LEVELS.warn : _ref4$level,\n      _ref4$message = _ref4.message,\n      message = _ref4$message === void 0 ? \"\" : _ref4$message,\n      _ref4$callback = _ref4.callback,\n      callback = _ref4$callback === void 0 ? null : _ref4$callback;\n\n  var capitalizeFirstLetter = function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  };\n\n  var logMessage = function logMessage() {\n    return log({\n      title: \"\".concat(pkg ? pkg + \" \" : \"\", \"Deprecation Notice\"),\n      message: \"\\n      \".concat(subject ? \"\".concat(capitalizeFirstLetter(subject), \" is deprecated and will cease to work in future releases\").concat(pkg ? \" of \" + pkg : \"\", \".\") : \"\").concat(message ? \"\\n\" + message : \"\").concat(transition ? \"\\nYou can learn more (including a guide on common transition paths) here: \".concat(transition) : \"\", \"\\n    \").trim(),\n      level: level\n    });\n  };\n\n  if (typeof callback === \"function\") {\n    return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var _args2 = arguments;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return logMessage();\n\n            case 2:\n              _context2.next = 4;\n              return callback.apply(void 0, _args2);\n\n            case 4:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n  }\n\n  return logMessage();\n};\n\nvar type = function type(label, asArgument, asInjection) {\n  return {\n    label: label,\n    asArgument: asArgument,\n    asInjection: asInjection\n  };\n};\n\nvar isArray = function isArray(d) {\n  return Array.isArray(d);\n};\n\nvar isObj = function isObj(d) {\n  return _typeof(d) === \"object\";\n};\n\nvar isNull = function isNull(d) {\n  return d == null;\n};\n\nvar isBoolean = function isBoolean(d) {\n  return typeof d === \"boolean\";\n};\n\nvar isNumber = function isNumber(d) {\n  return typeof d === \"number\";\n};\n\nvar isInteger = function isInteger(d) {\n  return Number.isInteger(d);\n};\n\nvar isString = function isString(d) {\n  return typeof d === \"string\";\n};\n\nvar throwTypeError = function throwTypeError(msg) {\n  throw new Error(\"Type Error: \" + msg);\n};\n\nvar numberValuesDeprecationNotice = function numberValuesDeprecationNotice(type) {\n  log.deprecate({\n    pkg: \"@onflow/types\",\n    subject: \"Passing in Number as value for \".concat(type),\n    message: \"Going forward, use String as value for \".concat(type, \".\"),\n    transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0002-[U]Int*-and-Word*-as-Number\"\n  });\n};\n\nvar Identity = type(\"Identity\", function (v) {\n  return v;\n}, function (v) {\n  return v;\n});\nvar UInt = type(\"UInt\", function (v) {\n  if (isNumber(v) && isInteger(v)) {\n    numberValuesDeprecationNotice(\"UInt\");\n    return {\n      type: \"UInt\",\n      value: v.toString()\n    };\n  }\n\n  if (isString(v)) {\n    return {\n      type: \"UInt\",\n      value: v\n    };\n  }\n\n  throwTypeError(\"Expected Positive Integer for type Unsigned Int\");\n}, function (v) {\n  return v;\n});\nvar Int = type(\"Int\", function (v) {\n  if (isNumber(v) && isInteger(v)) {\n    numberValuesDeprecationNotice(\"Int\");\n    return {\n      type: \"Int\",\n      value: v.toString()\n    };\n  }\n\n  if (isString(v)) {\n    return {\n      type: \"Int\",\n      value: v\n    };\n  }\n\n  throwTypeError(\"Expected Integer for type Int\");\n}, function (v) {\n  return v;\n});\nvar UInt8 = type(\"UInt8\", function (v) {\n  if (isNumber(v) && isInteger(v)) {\n    numberValuesDeprecationNotice(\"UInt8\");\n    return {\n      type: \"UInt8\",\n      value: v.toString()\n    };\n  }\n\n  if (isString(v)) {\n    return {\n      type: \"UInt8\",\n      value: v\n    };\n  }\n\n  throwTypeError(\"Expected integer for UInt8\");\n}, function (v) {\n  return v;\n});\nvar Int8 = type(\"Int8\", function (v) {\n  if (isNumber(v) && isInteger(v)) {\n    numberValuesDeprecationNotice(\"Int8\");\n    return {\n      type: \"Int8\",\n      value: v.toString()\n    };\n  }\n\n  if (isString(v)) {\n    return {\n      type: \"Int8\",\n      value: v\n    };\n  }\n\n  throwTypeError(\"Expected positive integer for Int8\");\n}, function (v) {\n  return v;\n});\nvar UInt16 = type(\"UInt16\", function (v) {\n  if (isNumber(v) && isInteger(v)) {\n    numberValuesDeprecationNotice(\"UInt16\");\n    return {\n      type: \"UInt16\",\n      value: v.toString()\n    };\n  }\n\n  if (isString(v)) {\n    return {\n      type: \"UInt16\",\n      value: v\n    };\n  }\n\n  throwTypeError(\"Expected integer for UInt16\");\n}, function (v) {\n  return v;\n});\nvar Int16 = type(\"Int16\", function (v) {\n  if (isNumber(v) && isInteger(v)) {\n    numberValuesDeprecationNotice(\"Int16\");\n    return {\n      type: \"Int16\",\n      value: v.toString()\n    };\n  }\n\n  if (isString(v)) {\n    return {\n      type: \"Int16\",\n      value: v\n    };\n  }\n\n  throwTypeError(\"Expected positive integer for Int16\");\n}, function (v) {\n  return v;\n});\nvar UInt32 = type(\"UInt32\", function (v) {\n  if (isNumber(v) && isInteger(v)) {\n    numberValuesDeprecationNotice(\"UInt32\");\n    return {\n      type: \"UInt32\",\n      value: v.toString()\n    };\n  }\n\n  if (isString(v)) {\n    return {\n      type: \"UInt32\",\n      value: v\n    };\n  }\n\n  throwTypeError(\"Expected integer for UInt32\");\n}, function (v) {\n  return v;\n});\nvar Int32 = type(\"Int32\", function (v) {\n  if (isNumber(v) && isInteger(v)) {\n    numberValuesDeprecationNotice(\"Int32\");\n    return {\n      type: \"Int32\",\n      value: v.toString()\n    };\n  }\n\n  if (isString(v)) {\n    return {\n      type: \"Int32\",\n      value: v\n    };\n  }\n\n  throwTypeError(\"Expected positive integer for Int32\");\n}, function (v) {\n  return v;\n});\nvar UInt64 = type(\"UInt64\", function (v) {\n  if (isNumber(v) && isInteger(v)) {\n    numberValuesDeprecationNotice(\"UInt64\");\n    return {\n      type: \"UInt64\",\n      value: v.toString()\n    };\n  }\n\n  if (isString(v)) {\n    return {\n      type: \"UInt64\",\n      value: v\n    };\n  }\n\n  throwTypeError(\"Expected integer for UInt64\");\n}, function (v) {\n  return v;\n});\nvar Int64 = type(\"Int64\", function (v) {\n  if (isNumber(v) && isInteger(v)) {\n    numberValuesDeprecationNotice(\"Int64\");\n    return {\n      type: \"Int64\",\n      value: v.toString()\n    };\n  }\n\n  if (isString(v)) {\n    return {\n      type: \"Int64\",\n      value: v\n    };\n  }\n\n  throwTypeError(\"Expected positive integer for Int64\");\n}, function (v) {\n  return v;\n});\nvar UInt128 = type(\"UInt128\", function (v) {\n  if (isNumber(v) && isInteger(v)) {\n    numberValuesDeprecationNotice(\"UInt128\");\n    return {\n      type: \"UInt128\",\n      value: v.toString()\n    };\n  }\n\n  if (isString(v)) {\n    return {\n      type: \"UInt128\",\n      value: v\n    };\n  }\n\n  throwTypeError(\"Expected integer for UInt128\");\n}, function (v) {\n  return v;\n});\nvar Int128 = type(\"Int128\", function (v) {\n  if (isNumber(v) && isInteger(v)) {\n    numberValuesDeprecationNotice(\"Int128\");\n    return {\n      type: \"Int128\",\n      value: v.toString()\n    };\n  }\n\n  if (isString(v)) {\n    return {\n      type: \"Int128\",\n      value: v\n    };\n  }\n\n  throwTypeError(\"Expected positive integer for Int128\");\n}, function (v) {\n  return v;\n});\nvar UInt256 = type(\"UInt256\", function (v) {\n  if (isNumber(v) && isInteger(v)) {\n    numberValuesDeprecationNotice(\"UInt256\");\n    return {\n      type: \"UInt256\",\n      value: v.toString()\n    };\n  }\n\n  if (isString(v)) {\n    return {\n      type: \"UInt256\",\n      value: v\n    };\n  }\n\n  throwTypeError(\"Expected integer for UInt256\");\n}, function (v) {\n  return v;\n});\nvar Int256 = type(\"Int256\", function (v) {\n  if (isNumber(v) && isInteger(v)) {\n    numberValuesDeprecationNotice(\"Int256\");\n    return {\n      type: \"Int256\",\n      value: v.toString()\n    };\n  }\n\n  if (isString(v)) {\n    return {\n      type: \"Int256\",\n      value: v\n    };\n  }\n\n  throwTypeError(\"Expected integer for Int256\");\n}, function (v) {\n  return v;\n});\nvar Word8 = type(\"Word8\", function (v) {\n  if (isNumber(v) && isInteger(v)) {\n    numberValuesDeprecationNotice(\"Word8\");\n    return {\n      type: \"Word8\",\n      value: v.toString()\n    };\n  }\n\n  if (isString(v)) {\n    return {\n      type: \"Word8\",\n      value: v\n    };\n  }\n\n  throwTypeError(\"Expected positive number for Word8\");\n}, function (v) {\n  return v;\n});\nvar Word16 = type(\"Word16\", function (v) {\n  if (isNumber(v) && isInteger(v)) {\n    numberValuesDeprecationNotice(\"Word16\");\n    return {\n      type: \"Word16\",\n      value: v.toString()\n    };\n  }\n\n  if (isString(v)) {\n    return {\n      type: \"Word16\",\n      value: v\n    };\n  }\n\n  throwTypeError(\"Expected positive number for Word16\");\n}, function (v) {\n  return v;\n});\nvar Word32 = type(\"Word32\", function (v) {\n  if (isNumber(v) && isInteger(v)) {\n    numberValuesDeprecationNotice(\"Word32\");\n    return {\n      type: \"Word32\",\n      value: v.toString()\n    };\n  }\n\n  if (isString(v)) {\n    return {\n      type: \"Word32\",\n      value: v\n    };\n  }\n\n  throwTypeError(\"Expected positive number for Word32\");\n}, function (v) {\n  return v;\n});\nvar Word64 = type(\"Word64\", function (v) {\n  if (isNumber(v) && isInteger(v)) {\n    numberValuesDeprecationNotice(\"Word64\");\n    return {\n      type: \"Word64\",\n      value: v.toString()\n    };\n  }\n\n  if (isString(v)) {\n    return {\n      type: \"Word64\",\n      value: v\n    };\n  }\n\n  throwTypeError(\"Expected positive number for Word64\");\n}, function (v) {\n  return v;\n});\n\nvar UFix64AndFix64NumberDeprecationNotice = function UFix64AndFix64NumberDeprecationNotice() {\n  log.deprecate({\n    subject: \"Passing in Numbers as values for Fix64 and UFix64 types\",\n    pkg: \"@onflow/types\",\n    transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0001-[U]Fix64-as-Number\"\n  });\n};\n\nvar UFix64 = type(\"UFix64\", function (v) {\n  if (isString(v)) {\n    var vParts = v.split(\".\");\n\n    if (vParts.length !== 2) {\n      throwTypeError(\"Expected one decimal but found \".concat(vParts.length, \" in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers\"));\n    }\n\n    if (vParts[1].length == 0 || vParts[1].length > 8) {\n      throwTypeError(\"Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found \".concat(vParts[1].length, \" digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers\"));\n    } // make sure the number is extended to 8 decimal places so it matches cadence encoding of UFix values\n\n\n    vParts[1] = vParts[1].padEnd(8, \"0\");\n    v = vParts.join(\".\");\n    return {\n      type: \"UFix64\",\n      value: v\n    };\n  } else if (isNumber(v)) {\n    UFix64AndFix64NumberDeprecationNotice();\n    return {\n      type: \"UFix64\",\n      value: v.toString()\n    };\n  }\n\n  throwTypeError(\"Expected String for UFix64\");\n}, function (v) {\n  return v;\n});\nvar Fix64 = type(\"Fix64\", function (v) {\n  if (isString(v)) {\n    var vParts = v.split(\".\");\n\n    if (vParts.length !== 2) {\n      throwTypeError(\"Expected one decimal but found \".concat(vParts.length, \" in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers\"));\n    }\n\n    if (vParts[1].length == 0 || vParts[1].length > 8) {\n      throwTypeError(\"Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found \".concat(vParts[1].length, \" digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers\"));\n    } // make sure the number is extended to 8 decimal places so it matches cadence encoding of Fix64 values\n\n\n    vParts[1] = vParts[1].padEnd(8, \"0\");\n    v = vParts.join(\".\");\n    return {\n      type: \"Fix64\",\n      value: v\n    };\n  } else if (isNumber(v)) {\n    UFix64AndFix64NumberDeprecationNotice();\n    return {\n      type: \"Fix64\",\n      value: v.toString()\n    };\n  }\n\n  throwTypeError(\"Expected String for Fix64\");\n}, function (v) {\n  return v;\n});\nvar String = type(\"String\", function (v) {\n  if (isString(v)) return {\n    type: \"String\",\n    value: v\n  };\n  throwTypeError(\"Expected String for type String\");\n}, function (v) {\n  return v;\n});\nvar Character = type(\"Character\", function (v) {\n  if (isString(v)) return {\n    type: \"Character\",\n    value: v\n  };\n  throwTypeError(\"Expected Character for type Character\");\n}, function (v) {\n  return v;\n});\nvar Bool = type(\"Bool\", function (v) {\n  if (isBoolean(v)) return {\n    type: \"Bool\",\n    value: v\n  };\n  throwTypeError(\"Expected Boolean for type Bool\");\n}, function (v) {\n  return v;\n});\nvar Address = type(\"Address\", function (v) {\n  if (isString(v)) return {\n    type: \"Address\",\n    value: v\n  };\n  throwTypeError(\"Expected Address for type Address\");\n}, function (v) {\n  return v;\n});\nvar Void = type(\"Void\", function (v) {\n  if (!v || isNull(v)) return {\n    type: \"Void\"\n  };\n  throwTypeError(\"Expected Void for type Void\");\n}, function (v) {\n  return v;\n});\nvar Optional = function Optional(children) {\n  return type(\"Optional\", function (v) {\n    return {\n      type: \"Optional\",\n      value: isNull(v) ? null : children.asArgument(v)\n    };\n  }, function (v) {\n    return v;\n  });\n};\nvar Reference = type(\"Reference\", function (v) {\n  if (isObj(v)) return {\n    type: \"Reference\",\n    value: v\n  };\n  throwTypeError(\"Expected Object for type Reference\");\n}, function (v) {\n  return v;\n});\nvar _Array = function _Array() {\n  var children = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return type(\"Array\", function (v) {\n    return {\n      type: \"Array\",\n      value: isArray(children) ? children.map(function (c, i) {\n        return c.asArgument(v[i]);\n      }) : v.map(function (x) {\n        return children.asArgument(x);\n      })\n    };\n  }, function (v) {\n    return v;\n  });\n};\nvar Dictionary = function Dictionary() {\n  var children = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return type(\"Dictionary\", function (v) {\n    if (isObj(v)) return {\n      type: \"Dictionary\",\n      value: isArray(children) ? children.map(function (c, i) {\n        return {\n          key: c.key.asArgument(v[i].key),\n          value: c.value.asArgument(v[i].value)\n        };\n      }) : isArray(v) ? v.map(function (x) {\n        return {\n          key: children.key.asArgument(x.key),\n          value: children.value.asArgument(x.value)\n        };\n      }) : [{\n        key: children.key.asArgument(v.key),\n        value: children.value.asArgument(v.value)\n      }]\n    };\n    throwTypeError(\"Expected Object for type Dictionary\");\n  }, function (v) {\n    return v;\n  });\n};\nvar Event = function Event(id) {\n  var fields = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return type(\"Event\", function (v) {\n    if (isObj(v)) return {\n      type: \"Event\",\n      value: {\n        id: id,\n        fields: isArray(fields) ? fields.map(function (c, i) {\n          return {\n            name: v.fields[i].name,\n            value: c.value.asArgument(v.fields[i].value)\n          };\n        }) : v.fields.map(function (x) {\n          return {\n            name: x.name,\n            value: fields.value.asArgument(x.value)\n          };\n        })\n      }\n    };\n    throwTypeError(\"Expected Object for type Event\");\n  }, function (v) {\n    return v;\n  });\n};\nvar Resource = function Resource(id) {\n  var fields = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return type(\"Resource\", function (v) {\n    if (isObj(v)) return {\n      type: \"Resource\",\n      value: {\n        id: id,\n        fields: isArray(fields) ? fields.map(function (c, i) {\n          return {\n            name: v.fields[i].name,\n            value: c.value.asArgument(v.fields[i].value)\n          };\n        }) : v.fields.map(function (x) {\n          return {\n            name: x.name,\n            value: fields.value.asArgument(x.value)\n          };\n        })\n      }\n    };\n    throwTypeError(\"Expected Object for type Resource\");\n  }, function (v) {\n    return v;\n  });\n};\nvar Struct = function Struct(id) {\n  var fields = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return type(\"Struct\", function (v) {\n    if (isObj(v)) return {\n      type: \"Struct\",\n      value: {\n        id: id,\n        fields: isArray(fields) ? fields.map(function (c, i) {\n          return {\n            name: v.fields[i].name,\n            value: c.value.asArgument(v.fields[i].value)\n          };\n        }) : v.fields.map(function (x) {\n          return {\n            name: x.name,\n            value: fields.value.asArgument(x.value)\n          };\n        })\n      }\n    };\n    throwTypeError(\"Expected Object for type Struct\");\n  }, function (v) {\n    return v;\n  });\n};\nvar Enum = function Enum(id) {\n  var fields = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return type(\"Enum\", function (v) {\n    if (isObj(v)) return {\n      type: \"Enum\",\n      value: {\n        id: id,\n        fields: isArray(fields) ? fields.map(function (c, i) {\n          return {\n            name: v.fields[i].name,\n            value: c.value.asArgument(v.fields[i].value)\n          };\n        }) : v.fields.map(function (x) {\n          return {\n            name: x.name,\n            value: fields.value.asArgument(x.value)\n          };\n        })\n      }\n    };\n    throwTypeError(\"Expected Object for type Enum\");\n  }, function (v) {\n    return v;\n  });\n};\nvar Path = type(\"Path\", function (v) {\n  if (isObj(v)) {\n    if (!isString(v.domain)) {\n      throwTypeError(\"Expected a string for the Path domain but found \".concat(v.domain, \". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path\"));\n    }\n\n    if (!(v.domain === \"storage\" || v.domain === \"private\" || v.domain === \"public\")) {\n      throwTypeError(\"Expected either \\\"storage\\\", \\\"private\\\" or \\\"public\\\" as the Path domain but found \".concat(v.domain, \". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path\"));\n    }\n\n    if (!isString(v.identifier)) {\n      throwTypeError(\"Expected a string for the Path identifier but found \".concat(v.identifier, \". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path\"));\n    }\n\n    return {\n      type: \"Path\",\n      value: {\n        domain: v.domain,\n        identifier: v.identifier\n      }\n    };\n  }\n\n  throwTypeError(\"Expected Object for type Path\");\n}, function (v) {\n  return v;\n});\n\nexport { Address, _Array as Array, Bool, Character, Dictionary, Enum, Event, Fix64, Identity, Int, Int128, Int16, Int256, Int32, Int64, Int8, Optional, Path, Reference, Resource, String, Struct, UFix64, UInt, UInt128, UInt16, UInt256, UInt32, UInt64, UInt8, Void, Word16, Word32, Word64, Word8, _Array };\n//# sourceMappingURL=types.module.js.map\n","// Inspired by: https://github.com/lukeed/uid/blob/master/src/index.js , thank you Luke! https://github.com/lukeed\nvar HEX = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\nvar T = HEX.length;\nfunction uid() {\n  var str = \"\",\n      num = 32;\n\n  while (num--) {\n    str += HEX[Math.random() * T | 0];\n  }\n\n  return str;\n}\n\nexport { uid };\n//# sourceMappingURL=util-uid.module.js.map\n","import _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport { config } from '@onflow/config';\nexport { config } from '@onflow/config';\nimport { invariant } from '@onflow/util-invariant';\nimport * as sdk from '@onflow/sdk';\nimport { invariant as invariant$1, arg, encodeMessageFromSignable, createSignableVoucher, pipe, interaction, config as config$1, resolve, send as send$1, getTransactionStatus, decode, getEventsAtBlockHeightRange, block, atBlockHeight, getAccount } from '@onflow/sdk';\nexport { TestUtils, account, arg, args, atBlockHeight, atBlockId, authorization, authorizations, block, build, createSignableVoucher, decode, getAccount, getBlock, getBlockHeader, getCollection, getEvents, getEventsAtBlockHeightRange, getEventsAtBlockIds, getTransaction, getTransactionStatus, invariant, isBad, isOk, limit, param, params, payer, ping, pipe, proposer, ref, script, send, transaction, validator, voucherIntercept, voucherToTxId, why } from '@onflow/sdk';\nimport _typeof from '@babel/runtime/helpers/typeof';\nimport * as t$1 from '@onflow/types';\nimport fetchTransport from 'node-fetch';\nimport { withPrefix, sansPrefix } from '@onflow/util-address';\nexport { display, sansPrefix, withPrefix } from '@onflow/util-address';\nimport _createForOfIteratorHelper from '@babel/runtime/helpers/createForOfIteratorHelper';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport { INIT, SUBSCRIBE, UNSUBSCRIBE, send, subscriber, snapshoter, spawn, UPDATED as UPDATED$2, SNAPSHOT as SNAPSHOT$1 } from '@onflow/util-actor';\nimport * as rlp from '@onflow/rlp';\nimport { Buffer, encode } from '@onflow/rlp';\nimport _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport { log, LEVELS } from '@onflow/util-logger';\nimport { uid } from '@onflow/util-uid';\nimport require$$0 from 'buffer';\nexport { template as cadence, template as cdc } from '@onflow/util-template';\n\nvar isServerSide = function isServerSide() {\n  return typeof window === \"undefined\";\n};\n\nvar SESSION_STORAGE = {\n  can: !isServerSide(),\n  get: function () {\n    var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(key) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", JSON.parse(sessionStorage.getItem(key)));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function get(_x) {\n      return _get.apply(this, arguments);\n    }\n\n    return get;\n  }(),\n  put: function () {\n    var _put = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(key, value) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt(\"return\", sessionStorage.setItem(key, JSON.stringify(value)));\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function put(_x2, _x3) {\n      return _put.apply(this, arguments);\n    }\n\n    return put;\n  }()\n};\nconfig({\n  \"discovery.wallet.method.default\": \"IFRAME/RPC\",\n  \"fcl.storage.default\": SESSION_STORAGE\n});\nfunction configLens(_x4) {\n  return _configLens.apply(this, arguments);\n}\n\nfunction _configLens() {\n  _configLens = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(regex) {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.t0 = Object;\n            _context3.t1 = Object;\n            _context3.next = 4;\n            return config().where(regex);\n\n          case 4:\n            _context3.t2 = _context3.sent;\n            _context3.t3 = _context3.t1.entries.call(_context3.t1, _context3.t2).map(function (_ref) {\n              var _ref2 = _slicedToArray(_ref, 2),\n                  key = _ref2[0],\n                  value = _ref2[1];\n\n              return [key.replace(regex, \"\"), value];\n            });\n            return _context3.abrupt(\"return\", _context3.t0.fromEntries.call(_context3.t0, _context3.t3));\n\n          case 7:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _configLens.apply(this, arguments);\n}\n\nvar VERSION = \"1.3.2\" ;\n\nvar is = function is(type) {\n  return function (d) {\n    return _typeof(d) === type;\n  };\n};\n\nvar isRequired = function isRequired(d) {\n  return d != null;\n};\nvar isObject = is(\"object\");\nvar isString = is(\"string\");\nvar isFunc = is(\"function\");\nvar isNumber = is(\"number\");\n\nfunction normalizeArgs(ax) {\n  if (isFunc(ax)) return ax(sdk.arg, t$1);\n  return [];\n}\n\nfunction httpDocumentResolver(_x) {\n  return _httpDocumentResolver.apply(this, arguments);\n}\n\nfunction _httpDocumentResolver() {\n  _httpDocumentResolver = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var url, res, document;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            url = _ref.url;\n            invariant(typeof url !== \"undefined\", \"retrieve({ url }) -- url must be defined\");\n            _context.prev = 2;\n            _context.next = 5;\n            return fetchTransport(url);\n\n          case 5:\n            res = _context.sent;\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](2);\n            throw new Error(\"httpDocumentResolver Error: Failed to retrieve document.\");\n\n          case 11:\n            if (!res.ok) {\n              _context.next = 17;\n              break;\n            }\n\n            _context.next = 14;\n            return res.json();\n\n          case 14:\n            _context.t1 = _context.sent;\n            _context.next = 18;\n            break;\n\n          case 17:\n            _context.t1 = null;\n\n          case 18:\n            document = _context.t1;\n            return _context.abrupt(\"return\", document);\n\n          case 20:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 8]]);\n  }));\n  return _httpDocumentResolver.apply(this, arguments);\n}\n\nvar DOCUMENT_RESOLVERS = new Map([[\"http\", httpDocumentResolver], [\"https\", httpDocumentResolver]]);\nfunction retrieve(_x2) {\n  return _retrieve.apply(this, arguments);\n}\n\nfunction _retrieve() {\n  _retrieve = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref2) {\n    var url, documentResolversFromConfig, urlParts, protocol, resolver, document;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            url = _ref2.url;\n            invariant(typeof url !== \"undefined\", \"retrieve({ url }) -- url must be defined\");\n            invariant(typeof url === \"string\", \"retrieve({ url }) -- url must be a string\");\n            _context2.next = 5;\n            return config().where(/^document\\.resolver\\./);\n\n          case 5:\n            documentResolversFromConfig = _context2.sent;\n            Object.keys(documentResolversFromConfig).map(function (key) {\n              var resolverFromConfig = documentResolversFromConfig[key];\n              var resolverProtocol = key.replace(/^document\\.resolver\\./, \"\");\n              DOCUMENT_RESOLVERS.set(resolverProtocol, resolverFromConfig);\n            });\n            urlParts = /^(.*):\\/\\/([A-Za-z0-9\\-\\.]+)(:[0-9]+)?(.*)$/.exec(url);\n            invariant(urlParts, \"Failed to parse URL\");\n            protocol = urlParts[1];\n            invariant(urlParts, \"Failed to parse URL protocol\");\n            resolver = DOCUMENT_RESOLVERS.get(protocol);\n            invariant(resolver, \"No resolver found for protcol=\".concat(protocol));\n            _context2.next = 15;\n            return resolver({\n              url: url\n            });\n\n          case 15:\n            document = _context2.sent;\n            return _context2.abrupt(\"return\", document);\n\n          case 17:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _retrieve.apply(this, arguments);\n}\n\nfunction normalizeInteractionTemplate(template) {\n  if (template == null) return null;\n\n  switch (template[\"f_version\"]) {\n    case \"1.0.0\":\n      return template;\n\n    default:\n      throw new Error(\"normalizeInteractionTemplate Error: Invalid InteractionTemplate\");\n  }\n}\n\nfunction deriveCadenceByNetwork(_ref) {\n  var _template, _template$data;\n\n  var network = _ref.network,\n      template = _ref.template;\n  invariant$1(network != undefined, \"deriveCadenceByNetwork({ network }) -- network must be defined\");\n  invariant$1(typeof network === \"string\", \"deriveCadenceByNetwork({ network }) -- network must be a string\");\n  invariant$1(template != undefined, \"generateDependencyPin({ template }) -- template must be defined\");\n  invariant$1(_typeof(template) === \"object\", \"generateDependencyPin({ template }) -- template must be an object\");\n  invariant$1(template.f_type === \"InteractionTemplate\", \"generateDependencyPin({ template }) -- template must be an InteractionTemplate\");\n  template = normalizeInteractionTemplate(template);\n\n  switch (template.f_version) {\n    case \"1.0.0\":\n      var networkDependencies = Object.keys((_template = template) === null || _template === void 0 ? void 0 : (_template$data = _template.data) === null || _template$data === void 0 ? void 0 : _template$data.dependencies).map(function (dependencyPlaceholder) {\n        var _template2, _template2$data, _template2$data$depen;\n\n        var dependencyNetworkContracts = Object.values((_template2 = template) === null || _template2 === void 0 ? void 0 : (_template2$data = _template2.data) === null || _template2$data === void 0 ? void 0 : (_template2$data$depen = _template2$data.dependencies) === null || _template2$data$depen === void 0 ? void 0 : _template2$data$depen[dependencyPlaceholder]);\n        invariant$1(dependencyNetworkContracts, \"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: \".concat(dependencyPlaceholder));\n        invariant$1(dependencyNetworkContracts.length === 0, \"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: \".concat(dependencyPlaceholder));\n        var dependencyContract = dependencyNetworkContracts[0];\n        var dependencyContractForNetwork = dependencyContract === null || dependencyContract === void 0 ? void 0 : dependencyContract[network];\n        invariant$1(dependencyContractForNetwork, \"deriveCadenceByNetwork -- Could not find \".concat(network, \" network information for dependency: \").concat(dependencyPlaceholder));\n        return [dependencyPlaceholder, dependencyContractForNetwork.address];\n      });\n      return networkDependencies.reduce(function (cadence, _ref2) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n            placeholder = _ref3[0],\n            address = _ref3[1];\n\n        var regex = new RegExp(\"(\\\\b\" + placeholder + \"\\\\b)\", \"g\");\n        return cadence.replace(regex, address);\n      }, template.data.cadence);\n\n    default:\n      throw new Error(\"deriveCadenceByNetwork Error: Unsupported template version\");\n  }\n}\n\nfunction deriveDependencies(_x) {\n  return _deriveDependencies.apply(this, arguments);\n}\n\nfunction _deriveDependencies() {\n  _deriveDependencies = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var _template$data;\n\n    var template, network, derivedDependencies, dependencyPlaceholderKeys, _i, _dependencyPlaceholde, _template$data2, dependencyPlaceholderKey, dependencyPlaceholder, dependencyPlaceholderContractsKeys, dependencyPlaceholderContract, dependency;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            template = _ref.template;\n            _context.next = 3;\n            return config.get(\"flow.network\");\n\n          case 3:\n            network = _context.sent;\n            invariant(network, \"FCL configureDependencies Error: Missing configuration value for 'flow.network'\");\n            derivedDependencies = {};\n            _context.t0 = template[\"f_version\"];\n            _context.next = _context.t0 === \"1.0.0\" ? 9 : 12;\n            break;\n\n          case 9:\n            dependencyPlaceholderKeys = Object.keys(template === null || template === void 0 ? void 0 : (_template$data = template.data) === null || _template$data === void 0 ? void 0 : _template$data.dependencies);\n\n            for (_i = 0, _dependencyPlaceholde = dependencyPlaceholderKeys; _i < _dependencyPlaceholde.length; _i++) {\n              dependencyPlaceholderKey = _dependencyPlaceholde[_i];\n              dependencyPlaceholder = template === null || template === void 0 ? void 0 : (_template$data2 = template.data) === null || _template$data2 === void 0 ? void 0 : _template$data2.dependencies[dependencyPlaceholderKey];\n              dependencyPlaceholderContractsKeys = Object.keys(dependencyPlaceholder);\n              invariant(dependencyPlaceholderContractsKeys.length > 0, \"FCL configureDependencies Error: No contracts found in template for placeholder=\".concat(dependencyPlaceholderKey));\n              dependencyPlaceholderContract = dependencyPlaceholder[dependencyPlaceholderContractsKeys[0]];\n              dependency = dependencyPlaceholderContract[network];\n              invariant(dependency, \"FCL configureDependencies Error: No dependency information for placeholder=\".concat(dependencyPlaceholderKey, \" contract=\").concat(dependencyPlaceholderContractsKeys[0], \" network=\").concat(network));\n              invariant(dependency === null || dependency === void 0 ? void 0 : dependency.address, \"FCL configureDependencies Error: No address information for placeholder=\".concat(dependencyPlaceholderKey, \" contract=\").concat(dependencyPlaceholderContractsKeys[0], \" network=\").concat(network));\n              derivedDependencies[dependencyPlaceholderKey] = withPrefix(dependency === null || dependency === void 0 ? void 0 : dependency.address);\n            }\n\n            return _context.abrupt(\"return\", derivedDependencies);\n\n          case 12:\n            throw new Error(\"FCL configureDependencies Error: Unsupported template version\");\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _deriveDependencies.apply(this, arguments);\n}\n\nfunction prepTemplateOpts(_x) {\n  return _prepTemplateOpts.apply(this, arguments);\n}\n\nfunction _prepTemplateOpts() {\n  _prepTemplateOpts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(opts) {\n    var dependencies, cadence;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!isString(opts === null || opts === void 0 ? void 0 : opts.template)) {\n              _context.next = 4;\n              break;\n            }\n\n            _context.next = 3;\n            return retrieve({\n              url: opts === null || opts === void 0 ? void 0 : opts.template\n            });\n\n          case 3:\n            opts.template = _context.sent;\n\n          case 4:\n            dependencies = {};\n\n            if (!(opts !== null && opts !== void 0 && opts.template)) {\n              _context.next = 10;\n              break;\n            }\n\n            opts.template = normalizeInteractionTemplate(opts === null || opts === void 0 ? void 0 : opts.template);\n            _context.next = 9;\n            return deriveDependencies({\n              template: opts.template\n            });\n\n          case 9:\n            dependencies = _context.sent;\n\n          case 10:\n            _context.t0 = opts.cadence;\n\n            if (_context.t0) {\n              _context.next = 19;\n              break;\n            }\n\n            _context.t1 = deriveCadenceByNetwork;\n            _context.t2 = opts.template;\n            _context.next = 16;\n            return sdk.config().get(\"flow.network\");\n\n          case 16:\n            _context.t3 = _context.sent;\n            _context.t4 = {\n              template: _context.t2,\n              network: _context.t3\n            };\n            _context.t0 = (0, _context.t1)(_context.t4);\n\n          case 19:\n            cadence = _context.t0;\n            opts.cadence = cadence;\n            opts.dependencies = dependencies;\n            return _context.abrupt(\"return\", opts);\n\n          case 23:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _prepTemplateOpts.apply(this, arguments);\n}\n\nfunction pre(_x, _x2) {\n  return _pre.apply(this, arguments);\n}\n\nfunction _pre() {\n  _pre = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(type, opts) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // prettier-ignore\n            invariant(isRequired(opts), \"\".concat(type, \"(opts) -- opts is required\")); // prettier-ignore\n\n            invariant(isObject(opts), \"\".concat(type, \"(opts) -- opts must be an object\")); // prettier-ignore\n\n            invariant(!(opts.cadence && opts.template), \"\".concat(type, \"({ template, cadence }) -- cannot pass both cadence and template\")); // prettier-ignore\n\n            invariant(isRequired(opts.cadence || (opts === null || opts === void 0 ? void 0 : opts.template)), \"\".concat(type, \"({ cadence }) -- cadence is required\")); // // prettier-ignore\n\n            invariant(isString(opts.cadence) || (opts === null || opts === void 0 ? void 0 : opts.template), \"\".concat(type, \"({ cadence }) -- cadence must be a string\")); // prettier-ignore\n\n            _context.t0 = invariant;\n            _context.t1 = opts.cadence;\n\n            if (_context.t1) {\n              _context.next = 11;\n              break;\n            }\n\n            _context.next = 10;\n            return sdk.config().get(\"flow.network\");\n\n          case 10:\n            _context.t1 = _context.sent;\n\n          case 11:\n            _context.t2 = _context.t1;\n            _context.t3 = \"\".concat(type, \"(opts) -- Required value for \\\"flow.network\\\" not defined in config. See: \", \"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration\");\n            (0, _context.t0)(_context.t2, _context.t3);\n            _context.t4 = invariant;\n            _context.next = 17;\n            return sdk.config().get(\"accessNode.api\");\n\n          case 17:\n            _context.t5 = _context.sent;\n            _context.t6 = \"\".concat(type, \"(opts) -- Required value for \\\"accessNode.api\\\" not defined in config. See: \", \"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration\");\n            (0, _context.t4)(_context.t5, _context.t6);\n\n          case 20:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _pre.apply(this, arguments);\n}\n\nfunction preMutate(_x3) {\n  return _preMutate.apply(this, arguments);\n}\n\nfunction _preMutate() {\n  _preMutate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(opts) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", pre(\"mutate\", opts));\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _preMutate.apply(this, arguments);\n}\n\nfunction preQuery(_x4) {\n  return _preQuery.apply(this, arguments);\n}\n\nfunction _preQuery() {\n  _preQuery = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(opts) {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt(\"return\", pre(\"query\", opts));\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _preQuery.apply(this, arguments);\n}\n\n/** Query the Flow Blockchain\n *\n *  @arg {Object} opts         - Query Options and configuration\n *  @arg {string} opts.cadence - Cadence Script used to query Flow\n *  @arg {ArgsFn} opts.args    - Arguments passed to cadence script\n *  @arg {Object} opts.template - Interaction Template for a script\n *  @arg {number} opts.limit   - Compute Limit for Query\n *  @returns {Promise<Response>}\n *\n *  Where:\n *    @callback ArgsFn\n *    @arg {ArgFn}  arg - Argument function to define a single argument\n *    @arg {Object} t   - Cadence Types object used to define the type\n *    @returns {args[]}\n *\n *    @callback ArgFn\n *    @arg {Any}  value - the value of the argument\n *    @arg {Type} type  - the cadence type of the value\n *    @returns {arg}\n *\n *  Example:\n *    const cadence = `\n *      cadence: `\n *        pub fun main(a: Int, b: Int, c: Address): Int {\n *          log(c)\n *          return a + b\n *        }\n *    `.trim()\n *\n *    const args = (arg, t) => [\n *      arg(5, t.Int),\n *      arg(7, t.Int),\n *      arg(\"0xb2db43ad6bc345fec9\", t.Address),\n *    ]\n *\n *    await query({ cadence, args })\n */\n\nfunction query() {\n  return _query.apply(this, arguments);\n}\n\nfunction _query() {\n  _query = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var opts,\n        _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            opts = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {};\n            _context2.next = 3;\n            return preQuery(opts);\n\n          case 3:\n            _context2.next = 5;\n            return prepTemplateOpts(opts);\n\n          case 5:\n            opts = _context2.sent;\n            return _context2.abrupt(\"return\", sdk.config().overload(opts.dependencies || {}, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n              return _regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      return _context.abrupt(\"return\", // prettier-ignore\n                      sdk.send([sdk.script(opts.cadence), sdk.args(normalizeArgs(opts.args || [])), opts.limit && typeof opts.limit === \"number\" && sdk.limit(opts.limit)]).then(sdk.decode));\n\n                    case 1:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee);\n            }))));\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _query.apply(this, arguments);\n}\n\nfunction fetchServices(_x, _x2) {\n  return _fetchServices.apply(this, arguments);\n}\n\nfunction _fetchServices() {\n  _fetchServices = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(servicesURL, code) {\n    var url, resp, services, _iterator, _step, service;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(servicesURL == null || code == null)) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", []);\n\n          case 2:\n            url = new URL(servicesURL);\n            url.searchParams.append(\"code\", code);\n            _context.next = 6;\n            return fetch(url, {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\"\n              }\n            }).then(function (d) {\n              return d.json();\n            });\n\n          case 6:\n            resp = _context.sent;\n\n            if (!Array.isArray(resp)) {\n              _context.next = 9;\n              break;\n            }\n\n            return _context.abrupt(\"return\", resp);\n\n          case 9:\n            // Backwards compatibility for First-Gen Wallet Providers\n            services = []; // Convert authorizations into authz services\n\n            if (Array.isArray(resp.authorizations)) {\n              _iterator = _createForOfIteratorHelper(resp.authorizations);\n\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  service = _step.value;\n                  services.push(_objectSpread({\n                    type: \"authz\",\n                    keyId: resp.keyId\n                  }, service));\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n            } // Convert Provider info into an authn service\n\n\n            if (resp.provider != null) {\n              services.push(_objectSpread({\n                type: \"authn\",\n                id: \"wallet-provider#authn\"\n              }, resp.provider));\n            }\n\n            return _context.abrupt(\"return\", services);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _fetchServices.apply(this, arguments);\n}\n\nfunction mergeServices() {\n  var sx1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var sx2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  // TODO: Make this smarter\n  return [].concat(_toConsumableArray(sx1), _toConsumableArray(sx2));\n}\n\nvar SERVICE_PRAGMA = {\n  f_type: \"Service\",\n  f_vsn: \"1.0.0\"\n};\nvar IDENTITY_PRAGMA = {\n  f_type: \"Identity\",\n  f_vsn: \"1.0.0\"\n};\nvar USER_PRAGMA = {\n  f_type: \"USER\",\n  f_vsn: \"1.0.0\"\n};\nvar POLLING_RESPONSE_PRAGMA = {\n  f_type: \"PollingResponse\",\n  f_vsn: \"1.0.0\"\n};\nvar COMPOSITE_SIGNATURE_PRAGMA = {\n  f_type: \"CompositeSignature\",\n  f_vsn: \"1.0.0\"\n};\n\n//   \"f_type\": \"Service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"authn\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"id\": \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\", // wallets internal id for the user\n//   \"identity\": {\n//     \"address\": \"0x____\"\n//   },\n//   \"provider\": {\n//     \"address\": \"0x____\",\n//     \"name\": \"Best Wallet\",\n//     \"description\": \"The Best Wallet\"\n//     \"icon\": \"https://\",\n//   }\n// }\n\nfunction normalizeAuthn(service) {\n  if (service == null) return null;\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service;\n\n    default:\n      return _objectSpread(_objectSpread({}, SERVICE_PRAGMA), {}, {\n        type: service.type,\n        uid: service.id,\n        endpoint: service.authn,\n        id: service.pid,\n        provider: {\n          address: withPrefix(service.addr),\n          name: service.name,\n          icon: service.icon\n        }\n      });\n  }\n}\n\n//   \"f_type\": \"service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"authz\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"method\": \"HTTP/POST\", // HTTP/POST | IFRAME/RPC | HTTP/RPC\n//   \"identity\": {\n//      \"address\": \"0x______\",\n//      \"keyId\": 0,\n//   },\n//   \"data\": {}, // included in body of authz request\n//   \"params\": {}, // included as query params on endpoint url\n// }\n\nfunction normalizeAuthz(service) {\n  if (service == null) return null;\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service;\n\n    default:\n      return _objectSpread(_objectSpread({}, SERVICE_PRAGMA), {}, {\n        type: service.type,\n        uid: service.id,\n        endpoint: service.endpoint,\n        method: service.method,\n        identity: _objectSpread(_objectSpread({}, IDENTITY_PRAGMA), {}, {\n          address: withPrefix(service.addr),\n          keyId: service.keyId\n        }),\n        params: service.params,\n        data: service.data\n      });\n  }\n}\n\n//   \"f_type\": \"service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"pre-authz\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"method\": \"HTTP/POST\", // HTTP/POST | IFRAME/RPC | HTTP/RPC\n//   \"identity\": {\n//      \"address\": \"0x______\",\n//      \"keyId\": 0,\n//   },\n//   \"data\": {}, // included in body of pre-authz request\n//   \"params\": {}, // included as query params on endpoint url\n// }\n\nfunction normalizePreAuthz(service) {\n  if (service == null) return null;\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service;\n\n    default:\n      return _objectSpread(_objectSpread({}, SERVICE_PRAGMA), {}, {\n        type: service.type,\n        uid: service.id,\n        endpoint: service.endpoint,\n        method: service.method,\n        identity: _objectSpread(_objectSpread({}, IDENTITY_PRAGMA), {}, {\n          address: withPrefix(service.addr),\n          keyId: service.keyId\n        }),\n        params: service.params,\n        data: service.data\n      });\n  }\n}\n\n//    \"f_type\": \"Service\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"type\": \"frame\",\n//    \"endpoint\": \"https://rawr\",\n//    \"data\": {},   // Sent to frame when ready\n//    \"params\": {}, // include in query params on frame\n// }\n\nfunction normalizeFrame(service) {\n  if (service == null) return null;\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service;\n\n    default:\n      return _objectSpread(_objectSpread({\n        old: service\n      }, SERVICE_PRAGMA), {}, {\n        type: \"frame\",\n        endpoint: service.endpoint,\n        params: service.params || {},\n        data: service.data || {}\n      });\n  }\n}\n\n//    \"f_type\": \"Service\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"type\": \"back-channel-rpc\",\n//    \"endpoint\": \"https://rawr\",\n//    \"method\": \"HTTP/GET\", // HTTP/GET | HTTP/POST\n//    \"data\": {},           // included in body of rpc\n//    \"params\": {},         // included as query params on endpoint url\n// }\n\nfunction normalizeBackChannelRpc(service) {\n  if (service == null) return null;\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service;\n\n    default:\n      return _objectSpread(_objectSpread({}, SERVICE_PRAGMA), {}, {\n        type: \"back-channel-rpc\",\n        endpoint: service.endpoint,\n        method: service.method,\n        params: service.params || {},\n        data: service.data || {}\n      });\n  }\n}\n\n//   \"f_type\": \"Service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"open-id\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"method: \"data\",\n//   \"data\": {\n//      \"profile\": {\n//        \"name\": \"Bob\",\n//        \"family_name\": \"Builder\",\n//        \"given_name\": \"Robert\",\n//        \"middle_name\": \"the\",\n//        \"nickname\": \"Bob the Builder\",\n//        \"perferred_username\": \"bob\",\n//        \"profile\": \"https://www.bobthebuilder.com/\",\n//        \"picture\": \"https://avatars.onflow.org/avatar/bob\",\n//        \"gender\": \"...\",\n//        \"birthday\": \"2001-01-18\",\n//        \"zoneinfo\": \"America/Vancouver\",\n//        \"locale\": \"en-us\",\n//        \"updated_at\": \"1614970797388\"\n//      },\n//      \"email\": {\n//        \"email\": \"bob@bob.bob\",\n//        \"email_verified\": true\n//      },\n//      \"address\": {\n//        \"address\": \"One Apple Park Way, Cupertino, CA 95014, USA\"\n//      },\n//      \"phone\": {\n//        \"phone_number\": \"+1 (xxx) yyy-zzzz\",\n//        \"phone_number_verified\": true\n//      },\n//      \"social\": {\n//        \"twitter\": \"@_qvvg\",\n//        \"twitter_verified\": true\n//      },\n//   }\n// }\n\nfunction normalizeOpenId(service) {\n  if (service == null) return null;\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service;\n\n    default:\n      return null;\n  }\n}\n\n// {\n//   \"f_type\": \"Service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"user-signature\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"method\": \"IFRAME/RPC\", // HTTP/POST | IFRAME/RPC | HTTP/RPC\n//   \"id\": \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\", // wallets internal id for the user\n//   \"data\": {}, // included in body of user-signature request\n//   \"params\": {}, // included as query params on endpoint url\n// }\nfunction normalizeUserSignature(service) {\n  if (service == null) return null;\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service;\n\n    default:\n      throw new Error(\"Invalid user-signature service\");\n  }\n}\n\n//    \"f_type\": \"Service\",\n//    \"f_vsn\": \"1.0.0\",\n//    type: \"local-view\",\n//    method: \"VIEW/IFRAME\",\n//    endpoint: \"https://woot.org/authz/local\",\n//    data: {},\n//    params: {},\n// }\n\nfunction normalizeLocalView(resp) {\n  if (resp == null) return null;\n\n  if (resp.method == null) {\n    resp = _objectSpread(_objectSpread({}, resp), {}, {\n      type: \"local-view\",\n      method: \"VIEW/IFRAME\"\n    });\n  }\n\n  switch (resp[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return resp;\n\n    default:\n      return _objectSpread(_objectSpread({}, SERVICE_PRAGMA), {}, {\n        type: resp.type || \"local-view\",\n        method: resp.method,\n        endpoint: resp.endpoint,\n        data: resp.data || {},\n        params: resp.params || {}\n      });\n  }\n}\n\n// {\n//   \"f_type\": \"Service\",                    // Its a service!\n//   \"f_vsn\": \"1.0.0\",                       // Follows the v1.0.0 spec for the service\n//   \"type\": \"account-proof\",                // the type of service it is\n//   \"method\": \"DATA\",                       // Its data!\n//   \"uid\": \"awesome-wallet#account-proof\",  // A unique identifier for the service\n//   \"data\": {\n//     \"f_type\": \"account-proof\",\n//     \"f_vsn\": \"1.0.0\",\n//     \"nonce\": \"0A1BC2FF\",                  // Nonce signed by the current account-proof (minimum 32 bytes in total, i.e 64 hex characters)\n//     \"address\": \"0xUSER\",                  // The user's address (8 bytes, i.e 16 hex characters)\n//     \"signature\": CompositeSignature,      // address (sans-prefix), keyId, signature (hex)\n// }\nfunction normalizeAccountProof(service) {\n  if (service == null) return null;\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service;\n\n    default:\n      throw new Error(\"FCL Normalizer Error: Invalid account-proof service\");\n  }\n}\n\n// {\n//   \"f_type\": \"Service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"authn-refresh\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"method\": \"HTTP/POST\",  // \"HTTP/POST\", // HTTP/POST | IFRAME/RPC | HTTP/RPC\n//   \"id\": \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\", // wallets internal id for the user\n//   \"data\": {}, // included in body of request\n//   \"params\": {}, // included as query params on endpoint url\n// }\nfunction normalizeAuthnRefresh(service) {\n  if (service == null) return null;\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service;\n\n    default:\n      throw new Error(\"Invalid authn-refresh service\");\n  }\n}\n\nvar serviceNormalizers = {\n  \"back-channel-rpc\": normalizeBackChannelRpc,\n  \"pre-authz\": normalizePreAuthz,\n  authz: normalizeAuthz,\n  authn: normalizeAuthn,\n  frame: normalizeFrame,\n  \"open-id\": normalizeOpenId,\n  \"user-signature\": normalizeUserSignature,\n  \"local-view\": normalizeLocalView,\n  \"account-proof\": normalizeAccountProof,\n  \"authn-refresh\": normalizeAuthnRefresh\n};\nfunction normalizeService(service, data) {\n  try {\n    var normalized = serviceNormalizers[service.type](service, data);\n    return normalized;\n  } catch (error) {\n    console.error(\"Unrecognized FCL Service Type [\".concat(service.type, \"]\"), service, error);\n    return service;\n  }\n}\n\nfunction deriveCompositeId(authn) {\n  return rlp.encode([authn.provider.address || authn.provider.name || \"UNSPECIFIED\", authn.id]).toString(\"hex\");\n}\n\nfunction normalizeData(data) {\n  data.addr = data.addr ? withPrefix(data.addr) : null;\n  data.paddr = data.paddr ? withPrefix(data.paddr) : null;\n  return data;\n}\n\nfunction findService(type, services) {\n  return services.find(function (d) {\n    return d.type === type;\n  });\n}\n\nfunction buildUser(_x) {\n  return _buildUser.apply(this, arguments);\n}\n\nfunction _buildUser() {\n  _buildUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n    var services, authn;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            data = normalizeData(data);\n            _context.t0 = mergeServices;\n            _context.t1 = data.services || [];\n            _context.next = 5;\n            return fetchServices(data.hks, data.code);\n\n          case 5:\n            _context.t2 = _context.sent;\n            services = (0, _context.t0)(_context.t1, _context.t2).map(function (service) {\n              return normalizeService(service, data);\n            });\n            authn = findService(\"authn\", services);\n            return _context.abrupt(\"return\", _objectSpread(_objectSpread({}, USER_PRAGMA), {}, {\n              addr: withPrefix(data.addr),\n              cid: deriveCompositeId(authn),\n              loggedIn: true,\n              services: services,\n              expiresAt: data.expires\n            }));\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _buildUser.apply(this, arguments);\n}\n\nfunction serviceOfType() {\n  var services = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var type = arguments.length > 1 ? arguments[1] : undefined;\n  return services.find(function (service) {\n    return service.type === type;\n  });\n}\n\nfunction serviceEndpoint(service) {\n  var url = new URL(service.endpoint);\n  url.searchParams.append(\"l6n\", window.location.origin);\n\n  if (service.params != null) {\n    for (var _i = 0, _Object$entries = Object.entries(service.params || {}); _i < _Object$entries.length; _i++) {\n      var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n          key = _Object$entries$_i[0],\n          value = _Object$entries$_i[1];\n\n      url.searchParams.append(key, value);\n    }\n  }\n\n  return url;\n}\n\nfunction fetchService(service) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = opts.method || \"POST\";\n  var body = method === \"GET\" ? undefined : JSON.stringify(opts.data || service.data || {});\n  return fetch(serviceEndpoint(service), {\n    method: method,\n    headers: _objectSpread(_objectSpread(_objectSpread({}, service.headers || {}), opts.headers || {}), {}, {\n      \"Content-Type\": \"application/json\"\n    }),\n    body: body\n  }).then(function (d) {\n    return d.json();\n  });\n}\n\n//    \"f_type\": \"PollingResponse\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"status\": \"PENDING\", // PENDING | APPROVED | DECLINED | REDIRECT\n//    \"reason\": null,      // Reason for Declining Transaction\n//    \"data\": null,        // Return value for APPROVED\n//    \"updates\": BackChannelRpc,\n//    \"local\": Frame,\n// }\n\nfunction normalizePollingResponse(resp) {\n  var _resp$status, _resp$reason;\n\n  if (resp == null) return null;\n\n  switch (resp[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return resp;\n\n    default:\n      return _objectSpread(_objectSpread({}, POLLING_RESPONSE_PRAGMA), {}, {\n        status: (_resp$status = resp.status) !== null && _resp$status !== void 0 ? _resp$status : \"APPROVED\",\n        reason: (_resp$reason = resp.reason) !== null && _resp$reason !== void 0 ? _resp$reason : null,\n        data: resp.compositeSignature || resp.data || _objectSpread({}, resp) || {},\n        updates: normalizeBackChannelRpc(resp.authorizationUpdates),\n        local: normalizeFrame((resp.local || [])[0])\n      });\n  }\n}\n\nvar OPTIONS = {\n  \"HTTP/GET\": \"GET\",\n  \"HTTP/POST\": \"POST\"\n};\n\nvar serviceMethod = function serviceMethod(service) {\n  invariant(OPTIONS[service.method], \"Invalid Service Method for type back-channel-rpc\", {\n    service: service\n  });\n  return OPTIONS[service.method];\n};\n\nfunction poll(_x) {\n  return _poll.apply(this, arguments);\n}\n\nfunction _poll() {\n  _poll = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(service) {\n    var canContinue,\n        resp,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            canContinue = _args.length > 1 && _args[1] !== undefined ? _args[1] : function () {\n              return true;\n            };\n            invariant(service, \"Missing Polling Service\", {\n              service: service\n            });\n\n            if (canContinue()) {\n              _context.next = 4;\n              break;\n            }\n\n            throw new Error(\"Externally Halted\");\n\n          case 4:\n            _context.next = 6;\n            return fetchService(service, {\n              method: serviceMethod(service)\n            }).then(normalizePollingResponse);\n\n          case 6:\n            resp = _context.sent;\n            _context.t0 = resp.status;\n            _context.next = _context.t0 === \"APPROVED\" ? 10 : _context.t0 === \"DECLINED\" ? 11 : 12;\n            break;\n\n          case 10:\n            return _context.abrupt(\"return\", resp.data);\n\n          case 11:\n            throw new Error(\"Declined: \".concat(resp.reason || \"No reason supplied.\"));\n\n          case 12:\n            _context.next = 14;\n            return new Promise(function (r) {\n              return setTimeout(r, 500);\n            });\n\n          case 14:\n            return _context.abrupt(\"return\", poll(resp.updates, canContinue));\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _poll.apply(this, arguments);\n}\n\nvar FRAME = \"FCL_IFRAME\";\nvar FRAME_STYLES = \"\\n  position:fixed;\\n  top: 0px;\\n  right: 0px;\\n  bottom: 0px;\\n  left: 0px;\\n  height: 100%;\\n  width: 100vw;\\n  display:block;\\n  background:rgba(0,0,0,0.25);\\n  z-index: 2147483647;\\n  box-sizing: border-box;\\n  color-scheme: light;\\n\";\nfunction renderFrame(src) {\n  invariant(!document.getElementById(FRAME), \"Attempt at triggering multiple Frames\", {\n    src: src\n  });\n  var $frame = document.createElement(\"iframe\");\n  $frame.src = src;\n  $frame.id = FRAME;\n  $frame.allow = \"usb *; hid *\";\n  $frame.frameBorder = \"0\";\n  $frame.style.cssText = FRAME_STYLES;\n  document.body.append($frame);\n\n  var unmount = function unmount() {\n    if (document.getElementById(FRAME)) {\n      document.getElementById(FRAME).remove();\n    }\n  };\n\n  return [$frame.contentWindow, unmount];\n}\n\nvar POP = \"FCL_POP\";\nvar popup = null;\nvar previousUrl$1 = null;\n\nfunction popupWindow(url, windowName, win, w, h) {\n  var y = win.top.outerHeight / 2 + win.top.screenY - h / 2;\n  var x = win.top.outerWidth / 2 + win.top.screenX - w / 2;\n  var popup = win.open(url, windowName, \"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=\".concat(w, \", height=\").concat(h, \", top=\").concat(y, \", left=\").concat(x));\n  if (!popup) throw new Error(\"Popup failed to open (was it blocked by a popup blocker?)\");\n  return popup;\n}\n\nfunction renderPop(src) {\n  var _popup;\n\n  if (popup == null || (_popup = popup) !== null && _popup !== void 0 && _popup.closed) {\n    popup = popupWindow(src, POP, window, 640, 770);\n  } else if (previousUrl$1 !== src) {\n    popup.location.replace(src);\n    popup.focus();\n  } else {\n    popup.focus();\n  }\n\n  previousUrl$1 = src;\n\n  var unmount = function unmount() {\n    if (popup && !popup.closed) {\n      popup.close();\n    }\n\n    popup = null;\n  };\n\n  return [popup, unmount];\n}\n\nvar tab$1 = null;\nvar previousUrl = null;\nfunction renderTab(src) {\n  var _tab;\n\n  if (tab$1 == null || (_tab = tab$1) !== null && _tab !== void 0 && _tab.closed) {\n    tab$1 = window.open(src, \"_blank\");\n    if (!tab$1) throw new Error(\"Tab failed to open (was it blocked by the browser?)\");\n  } else if (previousUrl !== src) {\n    tab$1.location.replace(src);\n    tab$1.focus();\n  } else {\n    tab$1.focus();\n  }\n\n  previousUrl = src;\n\n  var unmount = function unmount() {\n    if (tab$1 && !tab$1.closed) {\n      tab$1.close();\n    }\n\n    tab$1 = null;\n  };\n\n  return [tab$1, unmount];\n}\n\nvar VIEWS = {\n  \"VIEW/IFRAME\": renderFrame,\n  \"VIEW/POP\": renderPop,\n  \"VIEW/TAB\": renderTab\n};\nfunction execLocal(_x) {\n  return _execLocal.apply(this, arguments);\n}\n\nfunction _execLocal() {\n  _execLocal = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(service) {\n    var opts,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            opts = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n            _context.prev = 1;\n            return _context.abrupt(\"return\", VIEWS[service.method](serviceEndpoint(service), opts));\n\n          case 5:\n            _context.prev = 5;\n            _context.t0 = _context[\"catch\"](1);\n            console.error(\"execLocal({service, opts = {}})\", _context.t0, {\n              service: service,\n              opts: opts\n            });\n            throw _context.t0;\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 5]]);\n  }));\n  return _execLocal.apply(this, arguments);\n}\n\nfunction execHttpPost(_x) {\n  return _execHttpPost.apply(this, arguments);\n}\n\nfunction _execHttpPost() {\n  _execHttpPost = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var service, body, config, resp, canContinue, _yield$execLocal, _yield$execLocal2, unmount, close;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            service = _ref.service, body = _ref.body, config = _ref.config, _ref.opts;\n            _context.next = 3;\n            return fetchService(service, {\n              data: _objectSpread({\n                fclVersion: VERSION,\n                service: {\n                  params: service.params,\n                  data: service.data,\n                  type: service.type\n                },\n                config: config\n              }, body)\n            }).then(normalizePollingResponse);\n\n          case 3:\n            resp = _context.sent;\n\n            if (!(resp.status === \"APPROVED\")) {\n              _context.next = 8;\n              break;\n            }\n\n            return _context.abrupt(\"return\", resp.data);\n\n          case 8:\n            if (!(resp.status === \"DECLINED\")) {\n              _context.next = 12;\n              break;\n            }\n\n            throw new Error(\"Declined: \".concat(resp.reason || \"No reason supplied.\"));\n\n          case 12:\n            if (!(resp.status === \"REDIRECT\")) {\n              _context.next = 16;\n              break;\n            }\n\n            return _context.abrupt(\"return\", resp);\n\n          case 16:\n            if (!(resp.status === \"PENDING\")) {\n              _context.next = 28;\n              break;\n            }\n\n            canContinue = true;\n            _context.next = 20;\n            return execLocal(normalizeLocalView(resp.local));\n\n          case 20:\n            _yield$execLocal = _context.sent;\n            _yield$execLocal2 = _slicedToArray(_yield$execLocal, 2);\n            _yield$execLocal2[0];\n            unmount = _yield$execLocal2[1];\n\n            close = function close() {\n              try {\n                unmount();\n                canContinue = false;\n              } catch (error) {\n                console.error(\"Frame Close Error\", error);\n              }\n            };\n\n            return _context.abrupt(\"return\", poll(resp.updates, function () {\n              return canContinue;\n            }).then(function (serviceResponse) {\n              close();\n              return serviceResponse;\n            })[\"catch\"](function (error) {\n              console.error(error);\n              close();\n              throw error;\n            }));\n\n          case 28:\n            console.error(\"Auto Decline: Invalid Response\", {\n              service: service,\n              resp: resp\n            });\n            throw new Error(\"Auto Decline: Invalid Response\");\n\n          case 30:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _execHttpPost.apply(this, arguments);\n}\n\nvar CLOSE_EVENT = \"FCL:VIEW:CLOSE\";\nvar READY_EVENT = \"FCL:VIEW:READY\";\nvar RESPONSE_EVENT = \"FCL:VIEW:RESPONSE\";\n\nvar _ = function _(e) {\n  return typeof e === \"string\" && e.toLowerCase();\n};\n\nvar IGNORE = new Set([\"monetizationstart\", \"monetizationpending\", \"monetizationprogress\", \"monetizationstop\"]);\n\nvar deprecate = function deprecate(was, want) {\n  return console.warn(\"DEPRECATION NOTICE\", \"Received \".concat(was, \", please use \").concat(want, \" for this and future versions of FCL\"));\n};\n\nvar buildMessageHandler = function buildMessageHandler(_ref) {\n  var close = _ref.close,\n      send = _ref.send,\n      onReady = _ref.onReady,\n      onResponse = _ref.onResponse,\n      onMessage = _ref.onMessage;\n  return function (e) {\n    try {\n      if (_typeof(e.data) !== \"object\") return;\n      if (IGNORE.has(e.data.type)) return;\n      if (_(e.data.type) === _(CLOSE_EVENT)) close();\n      if (_(e.data.type) === _(READY_EVENT)) onReady(e, {\n        send: send,\n        close: close\n      });\n      if (_(e.data.type) === _(RESPONSE_EVENT)) onResponse(e, {\n        send: send,\n        close: close\n      });\n      onMessage(e, {\n        send: send,\n        close: close\n      }); // Backwards Compatible\n\n      if (_(e.data.type) === _(\"FCL:FRAME:READY\")) {\n        deprecate(e.data.type, READY_EVENT);\n        onReady(e, {\n          send: send,\n          close: close\n        });\n      }\n\n      if (_(e.data.type) === _(\"FCL:FRAME:RESPONSE\")) {\n        deprecate(e.data.type, RESPONSE_EVENT);\n        onResponse(e, {\n          send: send,\n          close: close\n        });\n      }\n\n      if (_(e.data.type) === _(\"FCL:FRAME:CLOSE\")) {\n        deprecate(e.data.type, CLOSE_EVENT);\n        close();\n      } //\n\n\n      if (_(e.data.type) === _(\"FCL::CHALLENGE::RESPONSE\")) {\n        deprecate(e.data.type, RESPONSE_EVENT);\n        onResponse(e, {\n          send: send,\n          close: close\n        });\n      }\n\n      if (_(e.data.type) === _(\"FCL::AUTHZ_READY\")) {\n        deprecate(e.data.type, READY_EVENT);\n        onReady(e, {\n          send: send,\n          close: close\n        });\n      }\n\n      if (_(e.data.type) === _(\"FCL::CHALLENGE::CANCEL\")) {\n        deprecate(e.data.type, CLOSE_EVENT);\n        close();\n      }\n\n      if (_(e.data.type) === _(\"FCL::CANCEL\")) {\n        deprecate(e.data.type, CLOSE_EVENT);\n        close();\n      }\n    } catch (error) {\n      console.error(\"Frame Callback Error\", error);\n      close();\n    }\n  };\n};\n\nvar noop$3 = function noop() {};\n\nfunction frame(service) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (service == null) return {\n    send: noop$3,\n    close: noop$3\n  };\n  var onClose = opts.onClose || noop$3;\n  var onMessage = opts.onMessage || noop$3;\n  var onReady = opts.onReady || noop$3;\n  var onResponse = opts.onResponse || noop$3;\n  var handler = buildMessageHandler({\n    close: close,\n    send: send,\n    onReady: onReady,\n    onResponse: onResponse,\n    onMessage: onMessage\n  });\n  window.addEventListener(\"message\", handler);\n\n  var _renderFrame = renderFrame(serviceEndpoint(service)),\n      _renderFrame2 = _slicedToArray(_renderFrame, 2),\n      $frame = _renderFrame2[0],\n      unmount = _renderFrame2[1];\n\n  return {\n    send: send,\n    close: close\n  };\n\n  function close() {\n    try {\n      window.removeEventListener(\"message\", handler);\n      unmount();\n      onClose();\n    } catch (error) {\n      console.error(\"Frame Close Error\", error);\n    }\n  }\n\n  function send(msg) {\n    try {\n      $frame.postMessage(JSON.parse(JSON.stringify(msg || {})), \"*\");\n    } catch (error) {\n      console.error(\"Frame Send Error\", msg, error);\n    }\n  }\n}\n\nfunction execIframeRPC(_ref) {\n  var service = _ref.service,\n      body = _ref.body,\n      config = _ref.config,\n      opts = _ref.opts;\n  return new Promise(function (resolve, reject) {\n    var id = uid();\n    var includeOlderJsonRpcCall = opts.includeOlderJsonRpcCall;\n    frame(service, {\n      onReady: function onReady(_, _ref2) {\n        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          var send;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  send = _ref2.send;\n                  _context.prev = 1;\n                  send({\n                    type: \"FCL:VIEW:READY:RESPONSE\",\n                    fclVersion: VERSION,\n                    body: body,\n                    service: {\n                      params: service.params,\n                      data: service.data,\n                      type: service.type\n                    },\n                    config: config\n                  });\n                  send({\n                    fclVersion: VERSION,\n                    type: \"FCL:FRAME:READY:RESPONSE\",\n                    body: body,\n                    service: {\n                      params: service.params,\n                      data: service.data,\n                      type: service.type\n                    },\n                    config: config,\n                    deprecated: {\n                      message: \"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\"\n                    }\n                  });\n\n                  if (includeOlderJsonRpcCall) {\n                    send({\n                      jsonrpc: \"2.0\",\n                      id: id,\n                      method: \"fcl:sign\",\n                      params: [body, service.params],\n                      deprecated: {\n                        message: \"jsonrpc is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\"\n                      }\n                    });\n                  }\n\n                  _context.next = 10;\n                  break;\n\n                case 7:\n                  _context.prev = 7;\n                  _context.t0 = _context[\"catch\"](1);\n                  throw _context.t0;\n\n                case 10:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[1, 7]]);\n        }))();\n      },\n      onResponse: function onResponse(e, _ref3) {\n        var close = _ref3.close;\n\n        try {\n          if (_typeof(e.data) !== \"object\") return;\n          var resp = normalizePollingResponse(e.data);\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data);\n              close();\n              break;\n\n            case \"DECLINED\":\n              reject(\"Declined: \".concat(resp.reason || \"No reason supplied\"));\n              close();\n              break;\n\n            case \"REDIRECT\":\n              resolve(resp);\n              close();\n              break;\n\n            default:\n              reject(\"Declined: No reason supplied\");\n              close();\n              break;\n          }\n        } catch (error) {\n          console.error(\"execIframeRPC onResponse error\", error);\n          throw error;\n        }\n      },\n      onMessage: function onMessage(e, _ref4) {\n        var close = _ref4.close;\n\n        try {\n          if (_typeof(e.data) !== \"object\") return;\n          if (e.data.jsonrpc !== \"2.0\") return;\n          if (e.data.id !== id) return;\n          var resp = normalizePollingResponse(e.data.result);\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data);\n              close();\n              break;\n\n            case \"DECLINED\":\n              reject(\"Declined: \".concat(resp.reason || \"No reason supplied\"));\n              close();\n              break;\n\n            case \"REDIRECT\":\n              resolve(resp);\n              close();\n              break;\n\n            default:\n              reject(\"Declined: No reason supplied\");\n              close();\n              break;\n          }\n        } catch (error) {\n          console.error(\"execIframeRPC onMessage error\", error);\n          throw error;\n        }\n      },\n      onClose: function onClose() {\n        reject(\"Declined: Externally Halted\");\n      }\n    });\n  });\n}\n\nvar noop$2 = function noop() {};\n\nfunction pop(service) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (service == null) return {\n    send: noop$2,\n    close: noop$2\n  };\n  var onClose = opts.onClose || noop$2;\n  var onMessage = opts.onMessage || noop$2;\n  var onReady = opts.onReady || noop$2;\n  var onResponse = opts.onResponse || noop$2;\n  var handler = buildMessageHandler({\n    close: close,\n    send: send,\n    onReady: onReady,\n    onResponse: onResponse,\n    onMessage: onMessage\n  });\n  window.addEventListener(\"message\", handler);\n\n  var _renderPop = renderPop(serviceEndpoint(service)),\n      _renderPop2 = _slicedToArray(_renderPop, 2),\n      $pop = _renderPop2[0],\n      unmount = _renderPop2[1];\n\n  var timer = setInterval(function () {\n    if ($pop && $pop.closed) {\n      close();\n    }\n  }, 500);\n  return {\n    send: send,\n    close: close\n  };\n\n  function close() {\n    try {\n      window.removeEventListener(\"message\", handler);\n      clearInterval(timer);\n      unmount();\n      onClose();\n    } catch (error) {\n      console.error(\"Popup Close Error\", error);\n    }\n  }\n\n  function send(msg) {\n    try {\n      $pop.postMessage(JSON.parse(JSON.stringify(msg || {})), \"*\");\n    } catch (error) {\n      console.error(\"Popup Send Error\", msg, error);\n    }\n  }\n}\n\nfunction execPopRPC(_ref) {\n  var service = _ref.service,\n      body = _ref.body,\n      config = _ref.config,\n      opts = _ref.opts;\n  return new Promise(function (resolve, reject) {\n    var id = uid();\n    var redir = opts.redir,\n        includeOlderJsonRpcCall = opts.includeOlderJsonRpcCall;\n    pop(service, {\n      onReady: function onReady(_, _ref2) {\n        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          var send;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  send = _ref2.send;\n                  _context.prev = 1;\n                  send({\n                    fclVersion: VERSION,\n                    type: \"FCL:VIEW:READY:RESPONSE\",\n                    body: body,\n                    service: {\n                      params: service.params,\n                      data: service.data,\n                      type: service.type\n                    },\n                    config: config\n                  });\n                  send({\n                    fclVersion: VERSION,\n                    type: \"FCL:FRAME:READY:RESPONSE\",\n                    body: body,\n                    service: {\n                      params: service.params,\n                      data: service.data,\n                      type: service.type\n                    },\n                    config: config,\n                    deprecated: {\n                      message: \"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\"\n                    }\n                  });\n\n                  if (includeOlderJsonRpcCall) {\n                    send({\n                      jsonrpc: \"2.0\",\n                      id: id,\n                      method: \"fcl:sign\",\n                      params: [body, service.params]\n                    });\n                  }\n\n                  _context.next = 10;\n                  break;\n\n                case 7:\n                  _context.prev = 7;\n                  _context.t0 = _context[\"catch\"](1);\n                  throw _context.t0;\n\n                case 10:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[1, 7]]);\n        }))();\n      },\n      onResponse: function onResponse(e, _ref3) {\n        var close = _ref3.close;\n\n        try {\n          if (_typeof(e.data) !== \"object\") return;\n          var resp = normalizePollingResponse(e.data);\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data);\n              !redir && close();\n              break;\n\n            case \"DECLINED\":\n              reject(\"Declined: \".concat(resp.reason || \"No reason supplied\"));\n              close();\n              break;\n\n            case \"REDIRECT\":\n              resolve(resp);\n              close();\n              break;\n\n            default:\n              reject(\"Declined: No reason supplied\");\n              close();\n              break;\n          }\n        } catch (error) {\n          console.error(\"execPopRPC onResponse error\", error);\n          throw error;\n        }\n      },\n      onMessage: function onMessage(e, _ref4) {\n        var close = _ref4.close;\n\n        try {\n          if (_typeof(e.data) !== \"object\") return;\n          if (e.data.jsonrpc !== \"2.0\") return;\n          if (e.data.id !== id) return;\n          var resp = normalizePollingResponse(e.data.result);\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data);\n              !redir && close();\n              break;\n\n            case \"DECLINED\":\n              reject(\"Declined: \".concat(resp.reason || \"No reason supplied\"));\n              close();\n              break;\n\n            case \"REDIRECT\":\n              resolve(resp);\n              close();\n              break;\n\n            default:\n              reject(\"Declined: No reason supplied\");\n              close();\n              break;\n          }\n        } catch (error) {\n          console.error(\"execPopRPC onMessage error\", error);\n          throw error;\n        }\n      },\n      onClose: function onClose() {\n        reject(\"Declined: Externally Halted\");\n      }\n    });\n  });\n}\n\nvar noop$1 = function noop() {};\n\nfunction tab(service) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (service == null) return {\n    send: noop$1,\n    close: noop$1\n  };\n  var onClose = opts.onClose || noop$1;\n  var onMessage = opts.onMessage || noop$1;\n  var onReady = opts.onReady || noop$1;\n  var onResponse = opts.onResponse || noop$1;\n  var handler = buildMessageHandler({\n    close: close,\n    send: send,\n    onReady: onReady,\n    onResponse: onResponse,\n    onMessage: onMessage\n  });\n  window.addEventListener(\"message\", handler);\n\n  var _renderTab = renderTab(serviceEndpoint(service)),\n      _renderTab2 = _slicedToArray(_renderTab, 2),\n      $tab = _renderTab2[0],\n      unmount = _renderTab2[1];\n\n  var timer = setInterval(function () {\n    if ($tab && $tab.closed) {\n      close();\n    }\n  }, 500);\n  return {\n    send: send,\n    close: close\n  };\n\n  function close() {\n    try {\n      window.removeEventListener(\"message\", handler);\n      clearInterval(timer);\n      unmount();\n      onClose();\n    } catch (error) {\n      console.error(\"Tab Close Error\", error);\n    }\n  }\n\n  function send(msg) {\n    try {\n      $tab.postMessage(JSON.parse(JSON.stringify(msg || {})), \"*\");\n    } catch (error) {\n      console.error(\"Tab Send Error\", msg, error);\n    }\n  }\n}\n\nfunction execTabRPC(_ref) {\n  var service = _ref.service,\n      body = _ref.body,\n      config = _ref.config,\n      opts = _ref.opts;\n  return new Promise(function (resolve, reject) {\n    var id = uid();\n    var redir = opts.redir,\n        includeOlderJsonRpcCall = opts.includeOlderJsonRpcCall;\n    tab(service, {\n      onReady: function onReady(_, _ref2) {\n        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          var send;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  send = _ref2.send;\n                  _context.prev = 1;\n                  send({\n                    fclVersion: VERSION,\n                    type: \"FCL:VIEW:READY:RESPONSE\",\n                    body: body,\n                    service: {\n                      params: service.params,\n                      data: service.data,\n                      type: service.type\n                    },\n                    config: config\n                  });\n                  send({\n                    fclVersion: VERSION,\n                    type: \"FCL:FRAME:READY:RESPONSE\",\n                    body: body,\n                    service: {\n                      params: service.params,\n                      data: service.data,\n                      type: service.type\n                    },\n                    config: config,\n                    deprecated: {\n                      message: \"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\"\n                    }\n                  });\n\n                  if (includeOlderJsonRpcCall) {\n                    send({\n                      jsonrpc: \"2.0\",\n                      id: id,\n                      method: \"fcl:sign\",\n                      params: [body, service.params]\n                    });\n                  }\n\n                  _context.next = 10;\n                  break;\n\n                case 7:\n                  _context.prev = 7;\n                  _context.t0 = _context[\"catch\"](1);\n                  throw _context.t0;\n\n                case 10:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[1, 7]]);\n        }))();\n      },\n      onResponse: function onResponse(e, _ref3) {\n        var close = _ref3.close;\n\n        try {\n          if (_typeof(e.data) !== \"object\") return;\n          var resp = normalizePollingResponse(e.data);\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data);\n              !redir && close();\n              break;\n\n            case \"DECLINED\":\n              reject(\"Declined: \".concat(resp.reason || \"No reason supplied\"));\n              close();\n              break;\n\n            case \"REDIRECT\":\n              resolve(resp);\n              close();\n              break;\n\n            default:\n              reject(\"Declined: No reason supplied\");\n              close();\n              break;\n          }\n        } catch (error) {\n          console.error(\"execPopRPC onResponse error\", error);\n          throw error;\n        }\n      },\n      onMessage: function onMessage(e, _ref4) {\n        var close = _ref4.close;\n\n        try {\n          if (_typeof(e.data) !== \"object\") return;\n          if (e.data.jsonrpc !== \"2.0\") return;\n          if (e.data.id !== id) return;\n          var resp = normalizePollingResponse(e.data.result);\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data);\n              !redir && close();\n              break;\n\n            case \"DECLINED\":\n              reject(\"Declined: \".concat(resp.reason || \"No reason supplied\"));\n              close();\n              break;\n\n            case \"REDIRECT\":\n              resolve(resp);\n              close();\n              break;\n\n            default:\n              reject(\"Declined: No reason supplied\");\n              close();\n              break;\n          }\n        } catch (error) {\n          console.error(\"execPopRPC onMessage error\", error);\n          throw error;\n        }\n      },\n      onClose: function onClose() {\n        reject(\"Declined: Externally Halted\");\n      }\n    });\n  });\n}\n\nvar noop = function noop() {};\n\nfunction extension(service) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (service == null) return {\n    send: noop,\n    close: noop\n  };\n  var onClose = opts.onClose || noop;\n  var onMessage = opts.onMessage || noop;\n  var onReady = opts.onReady || noop;\n  var onResponse = opts.onResponse || noop;\n  var handler = buildMessageHandler({\n    close: close,\n    send: send,\n    onReady: onReady,\n    onResponse: onResponse,\n    onMessage: onMessage\n  });\n  window.addEventListener(\"message\", handler);\n  send({\n    service: service\n  });\n  return {\n    send: send,\n    close: close\n  };\n\n  function close() {\n    try {\n      window.removeEventListener(\"message\", handler);\n      onClose();\n    } catch (error) {\n      console.error(\"Ext Close Error\", error);\n    }\n  }\n\n  function send(msg) {\n    try {\n      window && window.postMessage(JSON.parse(JSON.stringify(msg || {})), \"*\");\n    } catch (error) {\n      console.error(\"Ext Send Error\", msg, error);\n    }\n  }\n}\n\nfunction execExtRPC(_ref) {\n  var service = _ref.service,\n      body = _ref.body,\n      config = _ref.config;\n      _ref.opts;\n  return new Promise(function (resolve, reject) {\n    extension(service, {\n      onReady: function onReady(_, _ref2) {\n        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          var send;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  send = _ref2.send;\n                  _context.prev = 1;\n                  send({\n                    fclVersion: VERSION,\n                    type: \"FCL:VIEW:READY:RESPONSE\",\n                    body: body,\n                    service: {\n                      params: service.params,\n                      data: service.data,\n                      type: service.type\n                    },\n                    config: config\n                  });\n                  _context.next = 8;\n                  break;\n\n                case 5:\n                  _context.prev = 5;\n                  _context.t0 = _context[\"catch\"](1);\n                  throw _context.t0;\n\n                case 8:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[1, 5]]);\n        }))();\n      },\n      onResponse: function onResponse(e, _ref3) {\n        var close = _ref3.close;\n\n        try {\n          if (_typeof(e.data) !== \"object\") return;\n          var resp = normalizePollingResponse(e.data);\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data);\n              close();\n              break;\n\n            case \"DECLINED\":\n              reject(\"Declined: \".concat(resp.reason || \"No reason supplied\"));\n              close();\n              break;\n\n            case \"REDIRECT\":\n              resolve(resp);\n              close();\n              break;\n\n            default:\n              reject(\"Declined: No reason supplied\");\n              close();\n              break;\n          }\n        } catch (error) {\n          console.error(\"execExtRPC onResponse error\", error);\n          throw error;\n        }\n      },\n      onClose: function onClose() {\n        reject(\"Declined: Externally Halted\");\n      }\n    });\n  });\n}\n\nvar CORE_STRATEGIES = {\n  \"HTTP/RPC\": execHttpPost,\n  \"HTTP/POST\": execHttpPost,\n  \"IFRAME/RPC\": execIframeRPC,\n  \"POP/RPC\": execPopRPC,\n  \"TAB/RPC\": execTabRPC,\n  \"EXT/RPC\": execExtRPC\n};\nvar supportedPlugins = [\"ServicePlugin\"];\nvar supportedServicePlugins = [\"discovery-service\"];\n\nvar validateDiscoveryPlugin = function validateDiscoveryPlugin(servicePlugin) {\n  var services = servicePlugin.services,\n      serviceStrategy = servicePlugin.serviceStrategy;\n  invariant(Array.isArray(services) && services.length, \"Array of Discovery Services is required\");\n\n  var _iterator = _createForOfIteratorHelper(services),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var ds = _step.value;\n      invariant(isRequired(ds.f_type) && ds.f_type === \"Service\", \"Service is required\");\n      invariant(isRequired(ds.type) && ds.type === \"authn\", \"Service must be type authn. Received \".concat(ds.type));\n      invariant(ds.method in CORE_STRATEGIES || serviceStrategy.method === ds.method, \"Service method \".concat(ds.method, \" is not supported\"));\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  invariant(isRequired(serviceStrategy), \"Service strategy is required\");\n  invariant(isRequired(serviceStrategy.method) && isString(serviceStrategy.method), \"Service strategy method is required\");\n  invariant(isRequired(serviceStrategy.exec) && isFunc(serviceStrategy.exec), \"Service strategy exec function is required\");\n  return {\n    discoveryServices: services,\n    serviceStrategy: serviceStrategy\n  };\n};\n\nvar ServiceRegistry = function ServiceRegistry() {\n  var services = new Set();\n  var strategies = new Map(Object.entries(CORE_STRATEGIES));\n\n  var add = function add(servicePlugin) {\n    invariant(supportedServicePlugins.includes(servicePlugin.type), \"Service Plugin type \".concat(servicePlugin.type, \" is not supported\"));\n\n    if (servicePlugin.type === \"discovery-service\") {\n      var _validateDiscoveryPlu = validateDiscoveryPlugin(servicePlugin),\n          discoveryServices = _validateDiscoveryPlu.discoveryServices,\n          serviceStrategy = _validateDiscoveryPlu.serviceStrategy;\n\n      setServices(discoveryServices);\n\n      if (!strategies.has(serviceStrategy.method)) {\n        strategies.set(serviceStrategy.method, serviceStrategy.exec);\n      } else {\n        log({\n          title: \"Add Service Plugin\",\n          message: \"Service strategy for \".concat(serviceStrategy.method, \" already exists\"),\n          level: LEVELS.warn\n        });\n      }\n    }\n  };\n\n  var setServices = function setServices(discoveryServices) {\n    return services = new Set(_toConsumableArray(discoveryServices));\n  };\n\n  var getServices = function getServices() {\n    return _toConsumableArray(services);\n  };\n\n  var getStrategy = function getStrategy(method) {\n    return strategies.get(method);\n  };\n\n  var getStrategies = function getStrategies() {\n    return _toConsumableArray(strategies.keys());\n  };\n\n  return Object.freeze({\n    add: add,\n    getServices: getServices,\n    getStrategy: getStrategy,\n    getStrategies: getStrategies\n  });\n};\n\nvar validatePlugins = function validatePlugins(plugins) {\n  var pluginsArray;\n  invariant(plugins, \"No plugins supplied\");\n\n  if (!Array.isArray(plugins)) {\n    pluginsArray = [plugins];\n  } else {\n    pluginsArray = _toConsumableArray(plugins);\n  }\n\n  var _iterator2 = _createForOfIteratorHelper(pluginsArray),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var p = _step2.value;\n      invariant(isRequired(p.name), \"Plugin name is required\");\n      invariant(isRequired(p.f_type), \"Plugin f_type is required\");\n      invariant(supportedPlugins.includes(p.f_type), \"Plugin type \".concat(p.f_type, \" is not supported\"));\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return pluginsArray;\n};\n\nvar PluginRegistry = function PluginRegistry() {\n  var pluginsMap = new Map();\n\n  var getPlugins = function getPlugins() {\n    return pluginsMap;\n  };\n\n  var add = function add(plugins) {\n    var pluginsArray = validatePlugins(plugins);\n\n    var _iterator3 = _createForOfIteratorHelper(pluginsArray),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var p = _step3.value;\n        pluginsMap.set(p.name, p);\n\n        if (p.f_type === \"ServicePlugin\") {\n          serviceRegistry.add(p);\n        }\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n  };\n\n  return Object.freeze({\n    add: add,\n    getPlugins: getPlugins\n  });\n};\n\nvar serviceRegistry = ServiceRegistry();\nvar pluginRegistry = PluginRegistry();\n\nvar execStrategy = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var service, body, config, opts, strategy;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            service = _ref.service, body = _ref.body, config = _ref.config, opts = _ref.opts;\n            strategy = serviceRegistry.getStrategy(service.method);\n            return _context.abrupt(\"return\", strategy({\n              service: service,\n              body: body,\n              config: config,\n              opts: opts\n            }));\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function execStrategy(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nfunction execService(_x2) {\n  return _execService.apply(this, arguments);\n}\n\nfunction _execService() {\n  _execService = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref3) {\n    var _window$location$host, _window, _window$location;\n\n    var service, _ref3$msg, msg, _ref3$config, config, _ref3$opts, opts, execConfig, res;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            service = _ref3.service, _ref3$msg = _ref3.msg, msg = _ref3$msg === void 0 ? {} : _ref3$msg, _ref3$config = _ref3.config, config = _ref3$config === void 0 ? {} : _ref3$config, _ref3$opts = _ref3.opts, opts = _ref3$opts === void 0 ? {} : _ref3$opts;\n            msg.data = service.data;\n            _context2.next = 4;\n            return configLens(/^service\\./);\n\n          case 4:\n            _context2.t0 = _context2.sent;\n            _context2.next = 7;\n            return configLens(/^app\\.detail\\./);\n\n          case 7:\n            _context2.t1 = _context2.sent;\n            _context2.t2 = _objectSpread(_objectSpread({}, config.client), {}, {\n              fclVersion: VERSION,\n              fclLibrary: \"https://github.com/onflow/fcl-js\",\n              hostname: (_window$location$host = (_window = window) === null || _window === void 0 ? void 0 : (_window$location = _window.location) === null || _window$location === void 0 ? void 0 : _window$location.hostname) !== null && _window$location$host !== void 0 ? _window$location$host : null\n            });\n            execConfig = {\n              services: _context2.t0,\n              app: _context2.t1,\n              client: _context2.t2\n            };\n            _context2.prev = 10;\n            _context2.next = 13;\n            return execStrategy({\n              service: service,\n              body: msg,\n              config: execConfig,\n              opts: opts\n            });\n\n          case 13:\n            res = _context2.sent;\n\n            if (!(res.status === \"REDIRECT\")) {\n              _context2.next = 21;\n              break;\n            }\n\n            invariant(service.type === res.data.type, \"Cannot shift recursive service type in execService\");\n            _context2.next = 18;\n            return execService({\n              service: res.data,\n              msg: msg,\n              config: execConfig,\n              opts: opts\n            });\n\n          case 18:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 21:\n            return _context2.abrupt(\"return\", res);\n\n          case 22:\n            _context2.next = 28;\n            break;\n\n          case 24:\n            _context2.prev = 24;\n            _context2.t3 = _context2[\"catch\"](10);\n            log({\n              title: \"Error on execService \".concat(service === null || service === void 0 ? void 0 : service.type),\n              message: _context2.t3,\n              level: LEVELS.error\n            });\n            throw _context2.t3;\n\n          case 28:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[10, 24]]);\n  }));\n  return _execService.apply(this, arguments);\n}\n\n//    \"f_type\": \"CompositeSignature\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"addr\": \"_____\",         // sans-prefix\n//    \"signature\": \"adfe1234\", // hex\n//    \"keyId\": 3,\n// }\n\nfunction normalizeCompositeSignature(resp) {\n  if (resp == null) return null;\n\n  switch (resp[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return resp;\n\n    default:\n      return _objectSpread(_objectSpread({}, COMPOSITE_SIGNATURE_PRAGMA), {}, {\n        addr: sansPrefix(resp.addr || resp.address),\n        signature: resp.signature || resp.sig,\n        keyId: resp.keyId\n      });\n  }\n}\n\nvar makeDiscoveryServices = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var _window;\n\n    var extensionServices;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            extensionServices = ((_window = window) === null || _window === void 0 ? void 0 : _window.fcl_extensions) || [];\n            return _context.abrupt(\"return\", [].concat(_toConsumableArray(extensionServices), _toConsumableArray(serviceRegistry.getServices())));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function makeDiscoveryServices() {\n    return _ref.apply(this, arguments);\n  };\n}();\nfunction getDiscoveryService(_x) {\n  return _getDiscoveryService.apply(this, arguments);\n}\n\nfunction _getDiscoveryService() {\n  _getDiscoveryService = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(service) {\n    var _service$endpoint;\n\n    var discoveryAuthnInclude, discoveryWalletMethod, method, endpoint;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return config.get(\"discovery.authn.include\", []);\n\n          case 2:\n            discoveryAuthnInclude = _context2.sent;\n            _context2.next = 5;\n            return config.first([\"discovery.wallet.method\", \"discovery.wallet.method.default\"]);\n\n          case 5:\n            discoveryWalletMethod = _context2.sent;\n            method = service !== null && service !== void 0 && service.method ? service.method : discoveryWalletMethod;\n\n            if (!((_service$endpoint = service === null || service === void 0 ? void 0 : service.endpoint) !== null && _service$endpoint !== void 0)) {\n              _context2.next = 11;\n              break;\n            }\n\n            _context2.t0 = _service$endpoint;\n            _context2.next = 14;\n            break;\n\n          case 11:\n            _context2.next = 13;\n            return config.first([\"discovery.wallet\", \"challenge.handshake\"]);\n\n          case 13:\n            _context2.t0 = _context2.sent;\n\n          case 14:\n            endpoint = _context2.t0;\n            invariant(endpoint, \"\\n    If no service is passed to \\\"authenticate,\\\" then \\\"discovery.wallet\\\" must be defined in fcl config.\\n    See: \\\"https://docs.onflow.org/fcl/reference/api/#setting-configuration-values\\\"\\n    \");\n            return _context2.abrupt(\"return\", _objectSpread(_objectSpread({}, service), {}, {\n              type: \"authn\",\n              endpoint: endpoint,\n              method: method,\n              discoveryAuthnInclude: discoveryAuthnInclude\n            }));\n\n          case 17:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getDiscoveryService.apply(this, arguments);\n}\n\nfunction getServices(_x) {\n  return _getServices.apply(this, arguments);\n}\n\nfunction _getServices() {\n  _getServices = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var _window, _window$navigator;\n\n    var types, endpoint, include, url;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            types = _ref.types;\n            _context.next = 3;\n            return config.get(\"discovery.authn.endpoint\");\n\n          case 3:\n            endpoint = _context.sent;\n            invariant(Boolean(endpoint), \"\\\"discovery.authn.endpoint\\\" in config must be defined.\");\n            _context.next = 7;\n            return config.get(\"discovery.authn.include\", []);\n\n          case 7:\n            include = _context.sent;\n            url = new URL(endpoint);\n            _context.t0 = fetch;\n            _context.t1 = url;\n            _context.t2 = {\n              \"Content-Type\": \"application/json\"\n            };\n            _context.t3 = JSON;\n            _context.t4 = types;\n            _context.t5 = VERSION;\n            _context.t6 = include;\n            _context.next = 18;\n            return makeDiscoveryServices();\n\n          case 18:\n            _context.t7 = _context.sent;\n            _context.t8 = serviceRegistry.getStrategies();\n            _context.t9 = (_window = window) === null || _window === void 0 ? void 0 : (_window$navigator = _window.navigator) === null || _window$navigator === void 0 ? void 0 : _window$navigator.userAgent;\n            _context.t10 = {\n              type: _context.t4,\n              fclVersion: _context.t5,\n              include: _context.t6,\n              clientServices: _context.t7,\n              supportedStrategies: _context.t8,\n              userAgent: _context.t9\n            };\n            _context.t11 = _context.t3.stringify.call(_context.t3, _context.t10);\n            _context.t12 = {\n              method: \"POST\",\n              headers: _context.t2,\n              body: _context.t11\n            };\n            return _context.abrupt(\"return\", (0, _context.t0)(_context.t1, _context.t12).then(function (d) {\n              return d.json();\n            }));\n\n          case 25:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getServices.apply(this, arguments);\n}\n\nvar _HANDLERS$3;\nvar SERVICE_ACTOR_KEYS = {\n  AUTHN: \"authn\",\n  RESULTS: \"results\",\n  SNAPSHOT: \"SNAPSHOT\",\n  UPDATED: \"UPDATED\",\n  UPDATE_RESULTS: \"UPDATE_RESULTS\"\n};\n\nvar warn = function warn(fact, msg) {\n  if (fact) {\n    console.warn(\"\\n      %cFCL Warning\\n      ============================\\n      \".concat(msg, \"\\n      For more info, please see the docs: https://docs.onflow.org/fcl/\\n      ============================\\n      \"), \"font-weight:bold;font-family:monospace;\");\n  }\n};\n\nvar fetchServicesFromDiscovery = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var services;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return getServices({\n              types: [SERVICE_ACTOR_KEYS.AUTHN]\n            });\n\n          case 3:\n            services = _context.sent;\n            send(SERVICE_ACTOR_KEYS.AUTHN, SERVICE_ACTOR_KEYS.UPDATE_RESULTS, {\n              results: services\n            });\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            log({\n              title: \"\".concat(_context.t0.name, \" Error fetching Discovery API services.\"),\n              message: _context.t0.message,\n              level: LEVELS.error\n            });\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n\n  return function fetchServicesFromDiscovery() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar HANDLERS$3 = (_HANDLERS$3 = {}, _defineProperty(_HANDLERS$3, INIT, function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ctx) {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            warn(typeof window === \"undefined\", '\"fcl.discovery\" is only available in the browser.'); // If you call this before the window is loaded extensions will not be set yet\n\n            if (document.readyState === 'complete') {\n              fetchServicesFromDiscovery();\n            } else {\n              window.onload = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n                return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        fetchServicesFromDiscovery();\n\n                      case 1:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2);\n              }));\n            }\n\n          case 2:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}()), _defineProperty(_HANDLERS$3, SERVICE_ACTOR_KEYS.UPDATE_RESULTS, function (ctx, _letter, data) {\n  ctx.merge(data);\n  ctx.broadcast(SERVICE_ACTOR_KEYS.UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS$3, SUBSCRIBE, function (ctx, letter) {\n  ctx.subscribe(letter.from);\n  ctx.send(letter.from, SERVICE_ACTOR_KEYS.UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS$3, UNSUBSCRIBE, function (ctx, letter) {\n  return ctx.unsubscribe(letter.from);\n}), _defineProperty(_HANDLERS$3, SERVICE_ACTOR_KEYS.SNAPSHOT, function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(ctx, letter) {\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt(\"return\", letter.reply(_objectSpread({}, ctx.all())));\n\n          case 1:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function (_x2, _x3) {\n    return _ref4.apply(this, arguments);\n  };\n}()), _HANDLERS$3);\n\nvar spawnProviders = function spawnProviders() {\n  return spawn(HANDLERS$3, SERVICE_ACTOR_KEYS.AUTHN);\n};\n\nvar authn = {\n  subscribe: function subscribe(cb) {\n    return subscriber(SERVICE_ACTOR_KEYS.AUTHN, spawnProviders, cb);\n  },\n  snapshot: function snapshot() {\n    return snapshoter(SERVICE_ACTOR_KEYS.AUTHN, spawnProviders);\n  },\n  update: function update() {\n    return fetchServicesFromDiscovery();\n  }\n};\n\nvar discovery = {\n  authn: authn\n};\n\nfunction isAndroid() {\n  return typeof navigator !== \"undefined\" && /android/i.test(navigator.userAgent);\n}\nfunction isSmallIOS() {\n  return typeof navigator !== \"undefined\" && /iPhone|iPod/.test(navigator.userAgent);\n}\nfunction isLargeIOS() {\n  return typeof navigator !== \"undefined\" && /iPad/.test(navigator.userAgent);\n}\nfunction isIOS() {\n  return isSmallIOS() || isLargeIOS();\n}\nfunction isMobile() {\n  return isAndroid() || isIOS();\n}\n\nvar _HANDLERS$2;\nvar isFn = function isFn(d) {\n  return typeof d === \"function\";\n};\nvar NAME = \"CURRENT_USER\";\nvar UPDATED$1 = \"CURRENT_USER/UPDATED\";\nvar SNAPSHOT = \"SNAPSHOT\";\nvar SET_CURRENT_USER = \"SET_CURRENT_USER\";\nvar DEL_CURRENT_USER = \"DEL_CURRENT_USER\";\nvar DATA = \"{\\n  \\\"f_type\\\": \\\"User\\\",\\n  \\\"f_vsn\\\": \\\"1.0.0\\\",\\n  \\\"addr\\\":null,\\n  \\\"cid\\\":null,\\n  \\\"loggedIn\\\":null,\\n  \\\"expiresAt\\\":null,\\n  \\\"services\\\":[]\\n}\";\n\nvar getStoredUser = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(storage) {\n    var fallback, stored;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            fallback = JSON.parse(DATA);\n            _context.next = 3;\n            return storage.get(NAME);\n\n          case 3:\n            stored = _context.sent;\n\n            if (!(stored != null && fallback[\"f_vsn\"] !== stored[\"f_vsn\"])) {\n              _context.next = 7;\n              break;\n            }\n\n            storage.removeItem(NAME);\n            return _context.abrupt(\"return\", fallback);\n\n          case 7:\n            return _context.abrupt(\"return\", stored || fallback);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getStoredUser(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar HANDLERS$2 = (_HANDLERS$2 = {}, _defineProperty(_HANDLERS$2, INIT, function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ctx) {\n    var storage, user;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (typeof window === \"undefined\") {\n              console.warn(\"\\n        %cFCL Warning\\n        ============================\\n        \\\"currentUser\\\" is only available in the browser.\\n        For more info, please see the docs: https://docs.onflow.org/fcl/\\n        ============================\\n        \", \"font-weight:bold;font-family:monospace;\");\n            }\n\n            ctx.merge(JSON.parse(DATA));\n            _context2.next = 4;\n            return config.first([\"fcl.storage\", \"fcl.storage.default\"]);\n\n          case 4:\n            storage = _context2.sent;\n\n            if (!storage.can) {\n              _context2.next = 10;\n              break;\n            }\n\n            _context2.next = 8;\n            return getStoredUser(storage);\n\n          case 8:\n            user = _context2.sent;\n            if (notExpired(user)) ctx.merge(user);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}()), _defineProperty(_HANDLERS$2, SUBSCRIBE, function (ctx, letter) {\n  ctx.subscribe(letter.from);\n  ctx.send(letter.from, UPDATED$1, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS$2, UNSUBSCRIBE, function (ctx, letter) {\n  ctx.unsubscribe(letter.from);\n}), _defineProperty(_HANDLERS$2, SNAPSHOT, function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ctx, letter) {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            letter.reply(_objectSpread({}, ctx.all()));\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x3, _x4) {\n    return _ref3.apply(this, arguments);\n  };\n}()), _defineProperty(_HANDLERS$2, SET_CURRENT_USER, function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(ctx, letter, data) {\n    var storage;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            ctx.merge(data);\n            _context4.next = 3;\n            return config.first([\"fcl.storage\", \"fcl.storage.default\"]);\n\n          case 3:\n            storage = _context4.sent;\n            if (storage.can) storage.put(NAME, ctx.all());\n            ctx.broadcast(UPDATED$1, _objectSpread({}, ctx.all()));\n\n          case 6:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function (_x5, _x6, _x7) {\n    return _ref4.apply(this, arguments);\n  };\n}()), _defineProperty(_HANDLERS$2, DEL_CURRENT_USER, function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(ctx, letter) {\n    var storage;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            ctx.merge(JSON.parse(DATA));\n            _context5.next = 3;\n            return config.first([\"fcl.storage\", \"fcl.storage.default\"]);\n\n          case 3:\n            storage = _context5.sent;\n            if (storage.can) storage.put(NAME, ctx.all());\n            ctx.broadcast(UPDATED$1, _objectSpread({}, ctx.all()));\n\n          case 6:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function (_x8, _x9) {\n    return _ref5.apply(this, arguments);\n  };\n}()), _HANDLERS$2);\n\nvar spawnCurrentUser = function spawnCurrentUser() {\n  return spawn(HANDLERS$2, NAME);\n};\n\nfunction notExpired(user) {\n  return user.expiresAt == null || user.expiresAt === 0 || user.expiresAt > Date.now();\n}\n\nfunction getAccountProofData() {\n  return _getAccountProofData.apply(this, arguments);\n}\n\nfunction _getAccountProofData() {\n  _getAccountProofData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n    var accountProofDataResolver, accountProofData;\n    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.next = 2;\n            return config.get(\"fcl.accountProof.resolver\");\n\n          case 2:\n            accountProofDataResolver = _context8.sent;\n\n            if (isFn(accountProofDataResolver)) {\n              _context8.next = 5;\n              break;\n            }\n\n            return _context8.abrupt(\"return\");\n\n          case 5:\n            _context8.next = 7;\n            return accountProofDataResolver();\n\n          case 7:\n            accountProofData = _context8.sent;\n\n            if (!(accountProofData == null)) {\n              _context8.next = 10;\n              break;\n            }\n\n            return _context8.abrupt(\"return\");\n\n          case 10:\n            invariant(typeof accountProofData.appIdentifier === \"string\", \"appIdentifier must be a string\");\n            invariant(/^[0-9a-f]+$/i.test(accountProofData.nonce), \"Nonce must be a hex string\");\n            return _context8.abrupt(\"return\", accountProofData);\n\n          case 13:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n  return _getAccountProofData.apply(this, arguments);\n}\n\nvar makeConfig = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(_ref6) {\n    var discoveryAuthnInclude;\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            discoveryAuthnInclude = _ref6.discoveryAuthnInclude;\n            _context6.t0 = discoveryAuthnInclude;\n            _context6.next = 4;\n            return makeDiscoveryServices();\n\n          case 4:\n            _context6.t1 = _context6.sent;\n            _context6.t2 = serviceRegistry.getStrategies();\n            _context6.t3 = {\n              discoveryAuthnInclude: _context6.t0,\n              clientServices: _context6.t1,\n              supportedStrategies: _context6.t2\n            };\n            return _context6.abrupt(\"return\", {\n              client: _context6.t3\n            });\n\n          case 8:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function makeConfig(_x10) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nfunction authenticate$1() {\n  return _authenticate.apply(this, arguments);\n}\n\nfunction _authenticate() {\n  _authenticate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10() {\n    var _service$provider, _service$provider2;\n\n    var _ref11,\n        service,\n        _ref11$redir,\n        redir,\n        _service$provider3,\n        _args10 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            _ref11 = _args10.length > 0 && _args10[0] !== undefined ? _args10[0] : {}, service = _ref11.service, _ref11$redir = _ref11.redir, redir = _ref11$redir === void 0 ? false : _ref11$redir;\n\n            if (!(service && !(service !== null && service !== void 0 && (_service$provider = service.provider) !== null && _service$provider !== void 0 && _service$provider.is_installed) && service !== null && service !== void 0 && (_service$provider2 = service.provider) !== null && _service$provider2 !== void 0 && _service$provider2.requires_install)) {\n              _context10.next = 4;\n              break;\n            }\n\n            window.location.href = service === null || service === void 0 ? void 0 : (_service$provider3 = service.provider) === null || _service$provider3 === void 0 ? void 0 : _service$provider3.install_link;\n            return _context10.abrupt(\"return\");\n\n          case 4:\n            return _context10.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n              var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(resolve, reject) {\n                var opts, user, discoveryService, refreshService, accountProofData, response, _response;\n\n                return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n                  while (1) {\n                    switch (_context9.prev = _context9.next) {\n                      case 0:\n                        spawnCurrentUser();\n                        opts = {\n                          redir: redir\n                        };\n                        _context9.next = 4;\n                        return snapshot();\n\n                      case 4:\n                        user = _context9.sent;\n                        _context9.next = 7;\n                        return getDiscoveryService(service);\n\n                      case 7:\n                        discoveryService = _context9.sent;\n                        refreshService = serviceOfType(user.services, \"authn-refresh\");\n                        _context9.prev = 9;\n                        _context9.next = 12;\n                        return getAccountProofData();\n\n                      case 12:\n                        accountProofData = _context9.sent;\n                        _context9.next = 19;\n                        break;\n\n                      case 15:\n                        _context9.prev = 15;\n                        _context9.t0 = _context9[\"catch\"](9);\n                        console.error(\"Error During Authentication: Could not resolve account proof data.\\n        \".concat(_context9.t0));\n                        return _context9.abrupt(\"return\", reject(_context9.t0));\n\n                      case 19:\n                        if (!user.loggedIn) {\n                          _context9.next = 47;\n                          break;\n                        }\n\n                        if (!refreshService) {\n                          _context9.next = 46;\n                          break;\n                        }\n\n                        _context9.prev = 21;\n                        _context9.next = 24;\n                        return execService({\n                          service: refreshService,\n                          msg: accountProofData,\n                          opts: opts\n                        });\n\n                      case 24:\n                        response = _context9.sent;\n                        _context9.t1 = send;\n                        _context9.t2 = NAME;\n                        _context9.t3 = SET_CURRENT_USER;\n                        _context9.next = 30;\n                        return buildUser(response);\n\n                      case 30:\n                        _context9.t4 = _context9.sent;\n                        (0, _context9.t1)(_context9.t2, _context9.t3, _context9.t4);\n                        _context9.next = 37;\n                        break;\n\n                      case 34:\n                        _context9.prev = 34;\n                        _context9.t5 = _context9[\"catch\"](21);\n                        console.error(\"Error: Could not refresh authentication.\", _context9.t5);\n\n                      case 37:\n                        _context9.prev = 37;\n                        _context9.t6 = resolve;\n                        _context9.next = 41;\n                        return snapshot();\n\n                      case 41:\n                        _context9.t7 = _context9.sent;\n                        return _context9.abrupt(\"return\", (0, _context9.t6)(_context9.t7));\n\n                      case 44:\n                        _context9.next = 47;\n                        break;\n\n                      case 46:\n                        return _context9.abrupt(\"return\", resolve(user));\n\n                      case 47:\n                        _context9.prev = 47;\n                        _context9.t8 = execService;\n                        _context9.t9 = discoveryService;\n                        _context9.t10 = accountProofData;\n                        _context9.next = 53;\n                        return makeConfig(discoveryService);\n\n                      case 53:\n                        _context9.t11 = _context9.sent;\n                        _context9.t12 = opts;\n                        _context9.t13 = {\n                          service: _context9.t9,\n                          msg: _context9.t10,\n                          config: _context9.t11,\n                          opts: _context9.t12\n                        };\n                        _context9.next = 58;\n                        return (0, _context9.t8)(_context9.t13);\n\n                      case 58:\n                        _response = _context9.sent;\n                        _context9.t14 = send;\n                        _context9.t15 = NAME;\n                        _context9.t16 = SET_CURRENT_USER;\n                        _context9.next = 64;\n                        return buildUser(_response);\n\n                      case 64:\n                        _context9.t17 = _context9.sent;\n                        (0, _context9.t14)(_context9.t15, _context9.t16, _context9.t17);\n                        _context9.next = 71;\n                        break;\n\n                      case 68:\n                        _context9.prev = 68;\n                        _context9.t18 = _context9[\"catch\"](47);\n                        console.error(\"Error while authenticating\", _context9.t18);\n\n                      case 71:\n                        _context9.prev = 71;\n                        _context9.t19 = resolve;\n                        _context9.next = 75;\n                        return snapshot();\n\n                      case 75:\n                        _context9.t20 = _context9.sent;\n                        (0, _context9.t19)(_context9.t20);\n                        return _context9.finish(71);\n\n                      case 78:\n                      case \"end\":\n                        return _context9.stop();\n                    }\n                  }\n                }, _callee9, null, [[9, 15], [21, 34, 37, 44], [47, 68, 71, 78]]);\n              }));\n\n              return function (_x14, _x15) {\n                return _ref12.apply(this, arguments);\n              };\n            }()));\n\n          case 5:\n          case \"end\":\n            return _context10.stop();\n        }\n      }\n    }, _callee10);\n  }));\n  return _authenticate.apply(this, arguments);\n}\n\nfunction unauthenticate$1() {\n  spawnCurrentUser();\n  send(NAME, DEL_CURRENT_USER);\n}\n\nvar normalizePreAuthzResponse = function normalizePreAuthzResponse(authz) {\n  return {\n    f_type: \"PreAuthzResponse\",\n    f_vsn: \"1.0.0\",\n    proposer: (authz || {}).proposer,\n    payer: (authz || {}).payer || [],\n    authorization: (authz || {}).authorization || []\n  };\n};\n\nfunction resolvePreAuthz(authz) {\n  var resp = normalizePreAuthzResponse(authz);\n  var axs = [];\n  if (resp.proposer != null) axs.push([\"PROPOSER\", resp.proposer]);\n\n  var _iterator = _createForOfIteratorHelper(resp.payer || []),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var az = _step.value;\n      axs.push([\"PAYER\", az]);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var _iterator2 = _createForOfIteratorHelper(resp.authorization || []),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var _az = _step2.value;\n      axs.push([\"AUTHORIZER\", _az]);\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  var result = axs.map(function (_ref8) {\n    var _ref9 = _slicedToArray(_ref8, 2),\n        role = _ref9[0],\n        az = _ref9[1];\n\n    return {\n      tempId: [az.identity.address, az.identity.keyId].join(\"|\"),\n      addr: az.identity.address,\n      keyId: az.identity.keyId,\n      signingFunction: function signingFunction(signable) {\n        return execService({\n          service: az,\n          msg: signable\n        });\n      },\n      role: {\n        proposer: role === \"PROPOSER\",\n        payer: role === \"PAYER\",\n        authorizer: role === \"AUTHORIZER\"\n      }\n    };\n  });\n  return result;\n}\n\nfunction authorization(_x11) {\n  return _authorization.apply(this, arguments);\n}\n\nfunction _authorization() {\n  _authorization = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(account) {\n    return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n      while (1) {\n        switch (_context13.prev = _context13.next) {\n          case 0:\n            spawnCurrentUser();\n            return _context13.abrupt(\"return\", _objectSpread(_objectSpread({}, account), {}, {\n              tempId: \"CURRENT_USER\",\n              resolve: function resolve(account, preSignable) {\n                return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12() {\n                  var user, authz, preAuthz, windowRef;\n                  return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n                    while (1) {\n                      switch (_context12.prev = _context12.next) {\n                        case 0:\n                          _context12.next = 2;\n                          return authenticate$1({\n                            redir: true\n                          });\n\n                        case 2:\n                          user = _context12.sent;\n                          authz = serviceOfType(user.services, \"authz\");\n                          preAuthz = serviceOfType(user.services, \"pre-authz\");\n\n                          if (!preAuthz) {\n                            _context12.next = 11;\n                            break;\n                          }\n\n                          _context12.t0 = resolvePreAuthz;\n                          _context12.next = 9;\n                          return execService({\n                            service: preAuthz,\n                            msg: preSignable\n                          });\n\n                        case 9:\n                          _context12.t1 = _context12.sent;\n                          return _context12.abrupt(\"return\", (0, _context12.t0)(_context12.t1));\n\n                        case 11:\n                          if (!authz) {\n                            _context12.next = 14;\n                            break;\n                          }\n\n                          if (isMobile() && authz.method === \"WC/RPC\") {\n                            windowRef = window.open(\"\", \"_blank\");\n                          }\n\n                          return _context12.abrupt(\"return\", _objectSpread(_objectSpread({}, account), {}, {\n                            tempId: \"CURRENT_USER\",\n                            resolve: null,\n                            addr: sansPrefix(authz.identity.address),\n                            keyId: authz.identity.keyId,\n                            sequenceNum: null,\n                            signature: null,\n                            signingFunction: function signingFunction(signable) {\n                              return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11() {\n                                return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n                                  while (1) {\n                                    switch (_context11.prev = _context11.next) {\n                                      case 0:\n                                        _context11.t0 = normalizeCompositeSignature;\n                                        _context11.next = 3;\n                                        return execService({\n                                          service: authz,\n                                          msg: signable,\n                                          opts: {\n                                            includeOlderJsonRpcCall: true,\n                                            windowRef: windowRef\n                                          }\n                                        });\n\n                                      case 3:\n                                        _context11.t1 = _context11.sent;\n                                        return _context11.abrupt(\"return\", (0, _context11.t0)(_context11.t1));\n\n                                      case 5:\n                                      case \"end\":\n                                        return _context11.stop();\n                                    }\n                                  }\n                                }, _callee11);\n                              }))();\n                            }\n                          }));\n\n                        case 14:\n                          throw new Error(\"No Authz or PreAuthz Service configured for CURRENT_USER\");\n\n                        case 15:\n                        case \"end\":\n                          return _context12.stop();\n                      }\n                    }\n                  }, _callee12);\n                }))();\n              }\n            }));\n\n          case 2:\n          case \"end\":\n            return _context13.stop();\n        }\n      }\n    }, _callee13);\n  }));\n  return _authorization.apply(this, arguments);\n}\n\nfunction subscribe(callback) {\n  spawnCurrentUser();\n  var EXIT = \"@EXIT\";\n  var self = spawn( /*#__PURE__*/function () {\n    var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(ctx) {\n      var letter;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              ctx.send(NAME, SUBSCRIBE);\n\n            case 1:\n\n              _context7.next = 4;\n              return ctx.receive();\n\n            case 4:\n              letter = _context7.sent;\n\n              if (!(letter.tag === EXIT)) {\n                _context7.next = 8;\n                break;\n              }\n\n              ctx.send(NAME, UNSUBSCRIBE);\n              return _context7.abrupt(\"return\");\n\n            case 8:\n              callback(letter.data);\n              _context7.next = 1;\n              break;\n\n            case 11:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    return function (_x12) {\n      return _ref10.apply(this, arguments);\n    };\n  }());\n  return function () {\n    return send(self, EXIT);\n  };\n}\n\nfunction snapshot() {\n  spawnCurrentUser();\n  return send(NAME, SNAPSHOT, null, {\n    expectReply: true,\n    timeout: 0\n  });\n}\n\nfunction resolveArgument() {\n  return _resolveArgument.apply(this, arguments);\n}\n\nfunction _resolveArgument() {\n  _resolveArgument = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15() {\n    var _yield$authenticate, addr;\n\n    return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n      while (1) {\n        switch (_context15.prev = _context15.next) {\n          case 0:\n            _context15.next = 2;\n            return authenticate$1();\n\n          case 2:\n            _yield$authenticate = _context15.sent;\n            addr = _yield$authenticate.addr;\n            return _context15.abrupt(\"return\", arg(withPrefix(addr), t$1.Address));\n\n          case 5:\n          case \"end\":\n            return _context15.stop();\n        }\n      }\n    }, _callee15);\n  }));\n  return _resolveArgument.apply(this, arguments);\n}\n\nvar makeSignable = function makeSignable(msg) {\n  invariant(/^[0-9a-f]+$/i.test(msg), \"Message must be a hex string\");\n  return {\n    message: msg\n  };\n};\n\nfunction signUserMessage(_x13) {\n  return _signUserMessage.apply(this, arguments);\n}\n\nfunction _signUserMessage() {\n  _signUserMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16(msg) {\n    var user, signingService, response;\n    return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n      while (1) {\n        switch (_context16.prev = _context16.next) {\n          case 0:\n            spawnCurrentUser();\n            _context16.next = 3;\n            return authenticate$1({\n              redir: true\n            });\n\n          case 3:\n            user = _context16.sent;\n            signingService = serviceOfType(user.services, \"user-signature\");\n            invariant(signingService, \"Current user must have authorized a signing service.\");\n            _context16.prev = 6;\n            _context16.next = 9;\n            return execService({\n              service: signingService,\n              msg: makeSignable(msg)\n            });\n\n          case 9:\n            response = _context16.sent;\n\n            if (!Array.isArray(response)) {\n              _context16.next = 14;\n              break;\n            }\n\n            return _context16.abrupt(\"return\", response.map(function (compSigs) {\n              return normalizeCompositeSignature(compSigs);\n            }));\n\n          case 14:\n            return _context16.abrupt(\"return\", [normalizeCompositeSignature(response)]);\n\n          case 15:\n            _context16.next = 20;\n            break;\n\n          case 17:\n            _context16.prev = 17;\n            _context16.t0 = _context16[\"catch\"](6);\n            return _context16.abrupt(\"return\", _context16.t0);\n\n          case 20:\n          case \"end\":\n            return _context16.stop();\n        }\n      }\n    }, _callee16, null, [[6, 17]]);\n  }));\n  return _signUserMessage.apply(this, arguments);\n}\n\nvar currentUser = function currentUser() {\n  return {\n    authenticate: authenticate$1,\n    unauthenticate: unauthenticate$1,\n    authorization: authorization,\n    signUserMessage: signUserMessage,\n    subscribe: subscribe,\n    snapshot: snapshot,\n    resolveArgument: resolveArgument\n  };\n};\n\ncurrentUser.authenticate = authenticate$1;\ncurrentUser.unauthenticate = unauthenticate$1;\ncurrentUser.authorization = authorization;\ncurrentUser.signUserMessage = signUserMessage;\ncurrentUser.subscribe = subscribe;\ncurrentUser.snapshot = snapshot;\ncurrentUser.resolveArgument = resolveArgument;\n\n/** As the current user Mutate the Flow Blockchain\n *\n *  @arg {Object} opts - Mutation Options and configuration\n *  @arg {string} opts.cadence - Cadence Transaction used to mutate Flow\n *  @arg {ArgsFn} opts.args - Arguments passed to cadence transaction\n *  @arg {Object} opts.template - Interaction Template for a transaction\n *  @arg {number} opts.limit - Compute Limit for transaction\n *  @returns {string} Transaction Id\n *\n *  Where:\n *    @callback ArgsFn\n *    @arg {ArgFn}  arg - Argument function to define a single argument\n *    @arg {Object} t   - Cadence Types object used to define the type\n *    @returns {args[]}\n *\n *    @callback ArgFn\n *    @arg {Any}  value - the value of the argument\n *    @arg {Type} type  - the cadence type of the value\n *    @returns {arg}\n *\n *  Example:\n *    fcl.mutate({\n *      cadence: `\n *        transaction(a: Int, b: Int, c: Address) {\n *          prepare(acct: AuthAccount) {\n *            log(acct)\n *            log(a)\n *            log(b)\n *            log(c)\n *          }\n *        }\n *      `,\n *      args: (arg, t) => [\n *        arg(6, t.Int),\n *        arg(7, t.Int),\n *        arg(\"0xba1132bc08f82fe2\", t.Address),\n *      ],\n *    })\n *\n *\n *  Options:\n *    type Options = {\n *      template: InteractionTemplate | String // InteractionTemplate or url to one\n *      cadence: String!,\n *      args: (arg, t) => Array<Arg>,\n *      limit: Number,\n *      authz: AuthzFn, // will overload the trinity of signatory roles\n *      proposer: AuthzFn, // will overload the proposer signatory role\n *      payer: AuthzFn, // will overload the payer signatory role\n *      authorizations: [AuthzFn], // an array of authorization functions used as authorizations signatory roles\n *    }\n */\n\nfunction mutate() {\n  return _mutate.apply(this, arguments);\n}\n\nfunction _mutate() {\n  _mutate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var opts,\n        txid,\n        authz,\n        _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            opts = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {};\n            _context2.prev = 1;\n            _context2.next = 4;\n            return preMutate(opts);\n\n          case 4:\n            _context2.next = 6;\n            return prepTemplateOpts(opts);\n\n          case 6:\n            opts = _context2.sent;\n            _context2.next = 9;\n            return sdk.config().get(\"fcl.authz\", currentUser().authorization);\n\n          case 9:\n            authz = _context2.sent;\n            txid = sdk.config().overload(opts.dependencies || {}, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n              return _regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      return _context.abrupt(\"return\", // prettier-ignore\n                      sdk.send([sdk.transaction(opts.cadence), sdk.args(normalizeArgs(opts.args || [])), opts.limit && isNumber(opts.limit) && sdk.limit(opts.limit), // opts.proposer > opts.authz > authz\n                      sdk.proposer(opts.proposer || opts.authz || authz), // opts.payer > opts.authz > authz\n                      sdk.payer(opts.payer || opts.authz || authz), // opts.authorizations > [opts.authz > authz]\n                      sdk.authorizations(opts.authorizations || [opts.authz || authz])]).then(sdk.decode));\n\n                    case 1:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee);\n            })));\n            return _context2.abrupt(\"return\", txid);\n\n          case 14:\n            _context2.prev = 14;\n            _context2.t0 = _context2[\"catch\"](1);\n            throw _context2.t0;\n\n          case 17:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[1, 14]]);\n  }));\n  return _mutate.apply(this, arguments);\n}\n\nvar onMessageFromFCL = function onMessageFromFCL(messageType) {\n  var cb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n  var buildData = function buildData(data) {\n    var _data$body;\n\n    if (data.deprecated) console.warn(\"DEPRECATION NOTICE\", data.deprecated.message);\n    data === null || data === void 0 ? true : (_data$body = data.body) === null || _data$body === void 0 ? true : delete _data$body.interaction;\n    return data;\n  };\n\n  var internal = function internal(e) {\n    var data = e.data;\n    if (_typeof(data) !== \"object\") return;\n    if (_typeof(data) == null) return;\n    if (data.type !== messageType) return;\n    cb(buildData(data));\n  };\n\n  window.addEventListener(\"message\", internal);\n  return function () {\n    return window.removeEventListener(\"message\", internal);\n  };\n};\n\nvar sendMsgToFCL = function sendMsgToFCL(type) {\n  var msg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (window.location !== window.parent.location) {\n    window.parent.postMessage(_objectSpread(_objectSpread({}, msg), {}, {\n      type: type\n    }), \"*\");\n  } else if (window.opener) {\n    window.opener.postMessage(_objectSpread(_objectSpread({}, msg), {}, {\n      type: type\n    }), \"*\");\n  } else {\n    throw new Error(\"Unable to communicate with parent FCL instance\");\n  }\n};\nvar ready = function ready(cb) {\n  onMessageFromFCL(\"FCL:VIEW:READY:RESPONSE\", cb);\n  sendMsgToFCL(\"FCL:VIEW:READY\");\n};\nvar close = function close() {\n  sendMsgToFCL(\"FCL:VIEW:CLOSE\");\n};\nvar approve = function approve(data) {\n  sendMsgToFCL(\"FCL:VIEW:RESPONSE\", {\n    f_type: \"PollingResponse\",\n    f_vsn: \"1.0.0\",\n    status: \"APPROVED\",\n    reason: null,\n    data: data\n  });\n};\nvar decline = function decline(reason) {\n  sendMsgToFCL(\"FCL:VIEW:RESPONSE\", {\n    f_type: \"PollingResponse\",\n    f_vsn: \"1.0.0\",\n    status: \"DECLINED\",\n    reason: reason,\n    data: null\n  });\n};\nvar redirect = function redirect(data) {\n  sendMsgToFCL(\"FCL:VIEW:RESPONSE\", {\n    f_type: \"PollingResponse\",\n    f_vsn: \"1.0.0\",\n    status: \"REDIRECT\",\n    reason: null,\n    data: data\n  });\n};\n\nfunction CompositeSignature(addr, keyId, signature) {\n  this.f_type = COMPOSITE_SIGNATURE_PRAGMA.f_type;\n  this.f_vsn = COMPOSITE_SIGNATURE_PRAGMA.f_vsn;\n  this.addr = withPrefix(addr);\n  this.keyId = Number(keyId);\n  this.signature = signature;\n}\n\nvar rightPaddedHexBuffer = function rightPaddedHexBuffer(value, pad) {\n  return Buffer.from(value.padEnd(pad * 2, \"0\"), \"hex\");\n};\n\nvar leftPaddedHexBuffer = function leftPaddedHexBuffer(value, pad) {\n  return Buffer.from(value.padStart(pad * 2, \"0\"), \"hex\");\n};\n\nvar addressBuffer = function addressBuffer(addr) {\n  return leftPaddedHexBuffer(addr, 8);\n};\n\nvar nonceBuffer = function nonceBuffer(nonce) {\n  return Buffer.from(nonce, \"hex\");\n};\n\nvar encodeAccountProof = function encodeAccountProof(_ref) {\n  var address = _ref.address,\n      nonce = _ref.nonce,\n      appIdentifier = _ref.appIdentifier;\n  var includeDomainTag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  invariant(address, \"Encode Message For Provable Authn Error: address must be defined\");\n  invariant(nonce, \"Encode Message For Provable Authn Error: nonce must be defined\");\n  invariant(appIdentifier, \"Encode Message For Provable Authn Error: appIdentifier must be defined\");\n  invariant(nonce.length >= 64, \"Encode Message For Provable Authn Error: nonce must be minimum of 32 bytes\");\n  var ACCOUNT_PROOF_DOMAIN_TAG = rightPaddedHexBuffer(Buffer.from(\"FCL-ACCOUNT-PROOF-V0.0\").toString(\"hex\"), 32);\n\n  if (includeDomainTag) {\n    return Buffer.concat([ACCOUNT_PROOF_DOMAIN_TAG, encode([appIdentifier, addressBuffer(sansPrefix(address)), nonceBuffer(nonce)])]).toString(\"hex\");\n  }\n\n  return encode([appIdentifier, addressBuffer(sansPrefix(address)), nonceBuffer(nonce)]).toString(\"hex\");\n};\n\nfunction injectExtService(service) {\n  if (service.type === \"authn\" && service.endpoint != null) {\n    if (!Array.isArray(window.fcl_extensions)) {\n      window.fcl_extensions = [];\n    }\n\n    window.fcl_extensions.push(service);\n  } else {\n    console.warn(\"Authn service is required\");\n  }\n}\n\nvar index$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  sendMsgToFCL: sendMsgToFCL,\n  ready: ready,\n  close: close,\n  approve: approve,\n  decline: decline,\n  redirect: redirect,\n  onMessageFromFCL: onMessageFromFCL,\n  encodeMessageFromSignable: encodeMessageFromSignable,\n  CompositeSignature: CompositeSignature,\n  encodeAccountProof: encodeAccountProof,\n  injectExtService: injectExtService\n});\n\nvar ACCOUNT_PROOF = \"ACCOUNT_PROOF\";\nvar USER_SIGNATURE = \"USER_SIGNATURE\";\nvar validateArgs = function validateArgs(args) {\n  if (args.appIdentifier) {\n    var appIdentifier = args.appIdentifier,\n        address = args.address,\n        nonce = args.nonce,\n        signatures = args.signatures;\n    invariant(isString(appIdentifier), \"verifyAccountProof({ appIdentifier }) -- appIdentifier must be a string\");\n    invariant(isString(address) && sansPrefix(address).length === 16, \"verifyAccountProof({ address }) -- address must be a valid address\");\n    invariant(/^[0-9a-f]+$/i.test(nonce), \"nonce must be a hex string\");\n    invariant(Array.isArray(signatures) && signatures.every(function (sig, i, arr) {\n      return sig.f_type === \"CompositeSignature\";\n    }), \"Must include an Array of CompositeSignatures to verify\");\n    invariant(signatures.map(function (cs) {\n      return cs.addr;\n    }).every(function (addr, i, arr) {\n      return addr === arr[0];\n    }), \"User signatures to be verified must be from a single account address\");\n    return true;\n  } else {\n    var message = args.message,\n        _address = args.address,\n        compSigs = args.compSigs;\n    invariant(/^[0-9a-f]+$/i.test(message), \"Signed message must be a hex string\");\n    invariant(isString(_address) && sansPrefix(_address).length === 16, \"verifyUserSignatures({ address }) -- address must be a valid address\");\n    invariant(Array.isArray(compSigs) && compSigs.every(function (sig, i, arr) {\n      return sig.f_type === \"CompositeSignature\";\n    }), \"Must include an Array of CompositeSignatures to verify\");\n    invariant(compSigs.map(function (cs) {\n      return cs.addr;\n    }).every(function (addr, i, arr) {\n      return addr === arr[0];\n    }), \"User signatures to be verified must be from a single account address\");\n    return true;\n  }\n};\n\nvar getVerifySignaturesScript = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(sig, opts) {\n    var verifyFunction, network, fclCryptoContract;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            verifyFunction = sig === \"ACCOUNT_PROOF\" ? \"verifyAccountProofSignatures\" : \"verifyUserSignatures\";\n            _context.next = 3;\n            return config.get(\"flow.network\");\n\n          case 3:\n            network = _context.sent;\n\n            if (network) {\n              _context.next = 9;\n              break;\n            }\n\n            _context.next = 7;\n            return config.get(\"env\");\n\n          case 7:\n            network = _context.sent;\n            if (network) log.deprecate({\n              pkg: \"FCL\",\n              subject: 'Using the \"env\" configuration key for specifying the flow network',\n              message: 'Please use \"flow.network\" instead.',\n              transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/TRANSITIONS.md#0001-deprecate-env-config-key\"\n            });\n\n          case 9:\n            invariant(opts.fclCryptoContract || network === \"testnet\" || network === \"mainnet\", \"${verifyFunction}({ fclCryptoContract }) -- config.flow.network must be specified (testnet || mainnet) or contract address provided via opts.fclCryptoContract\");\n\n            if (opts.fclCryptoContract) {\n              fclCryptoContract = opts.fclCryptoContract;\n            } else {\n              fclCryptoContract = network === \"testnet\" ? \"0x74daa6f9c7ef24b1\" : \"0xb4b82a1c9d21d284\";\n            }\n\n            return _context.abrupt(\"return\", \"\\n      import FCLCrypto from \".concat(fclCryptoContract, \"\\n\\n      pub fun main(\\n          address: Address, \\n          message: String, \\n          keyIndices: [Int], \\n          signatures: [String]\\n      ): Bool {\\n        return FCLCrypto.\").concat(verifyFunction, \"(address: address, message: message, keyIndices: keyIndices, signatures: signatures)\\n      }\\n    \"));\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getVerifySignaturesScript(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n/**\n * Verify a valid account proof signature or signatures for an account on Flow.\n *\n * @param {string} appIdentifier - A message string in hexadecimal format\n * @param {Object} accountProofData - An object consisting of address, nonce, and signatures\n * @param {string} accountProofData.address - A Flow account address\n * @param {string} accountProofData.nonce - A random string in hexadecimal format (minimum 32 bytes in total, i.e 64 hex characters)\n * @param {Object[]} accountProofData.signatures - An array of composite signatures to verify\n * @param {Object} [opts={}] - Options object\n * @param {string} opts.fclCryptoContract - An optional override Flow account address where the FCLCrypto contract is deployed\n * @return {bool}\n *\n * @example\n *\n *  const accountProofData = {\n *   address: \"0x123\",\n *   nonce: \"F0123\"\n *   signatures: [{f_type: \"CompositeSignature\", f_vsn: \"1.0.0\", addr: \"0x123\", keyId: 0, signature: \"abc123\"}],\n *  }\n *\n *  const isValid = await fcl.AppUtils.verifyAccountProof(\n *    \"AwesomeAppId\",\n *    accountProofData,\n *    {fclCryptoContract}\n *  )\n */\n\n\nfunction verifyAccountProof(_x3, _x4) {\n  return _verifyAccountProof.apply(this, arguments);\n}\n/**\n * Verify a valid signature/s for an account on Flow.\n *\n * @param {string} msg - A message string in hexadecimal format\n * @param {Array} compSigs - An array of Composite Signatures\n * @param {string} compSigs[].addr - The account address\n * @param {number} compSigs[].keyId - The account keyId\n * @param {string} compSigs[].signature - The signature to verify\n * @param {Object} [opts={}] - Options object\n * @param {string} opts.fclCryptoContract - An optional override of Flow account address where the FCLCrypto contract is deployed\n * @return {bool}\n *\n * @example\n *\n *  const isValid = await fcl.AppUtils.verifyUserSignatures(\n *    Buffer.from('FOO').toString(\"hex\"),\n *    [{f_type: \"CompositeSignature\", f_vsn: \"1.0.0\", addr: \"0x123\", keyId: 0, signature: \"abc123\"}],\n *    {fclCryptoContract}\n *  )\n */\n\nfunction _verifyAccountProof() {\n  _verifyAccountProof = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(appIdentifier, _ref2) {\n    var address,\n        nonce,\n        signatures,\n        opts,\n        message,\n        signaturesArr,\n        keyIndices,\n        _iterator,\n        _step,\n        el,\n        _args2 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            address = _ref2.address, nonce = _ref2.nonce, signatures = _ref2.signatures;\n            opts = _args2.length > 2 && _args2[2] !== undefined ? _args2[2] : {};\n            validateArgs({\n              appIdentifier: appIdentifier,\n              address: address,\n              nonce: nonce,\n              signatures: signatures\n            });\n            message = encodeAccountProof({\n              address: address,\n              nonce: nonce,\n              appIdentifier: appIdentifier\n            }, false);\n            signaturesArr = [];\n            keyIndices = [];\n            _iterator = _createForOfIteratorHelper(signatures);\n\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                el = _step.value;\n                signaturesArr.push(el.signature);\n                keyIndices.push(el.keyId.toString());\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n\n            _context2.t0 = query;\n            _context2.next = 11;\n            return getVerifySignaturesScript(ACCOUNT_PROOF, opts);\n\n          case 11:\n            _context2.t1 = _context2.sent;\n\n            _context2.t2 = function args(arg, t) {\n              return [arg(withPrefix(address), t.Address), arg(message, t.String), arg(keyIndices, t.Array(t.Int)), arg(signaturesArr, t.Array(t.String))];\n            };\n\n            _context2.t3 = {\n              cadence: _context2.t1,\n              args: _context2.t2\n            };\n            return _context2.abrupt(\"return\", (0, _context2.t0)(_context2.t3));\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _verifyAccountProof.apply(this, arguments);\n}\n\nfunction verifyUserSignatures$1(_x5, _x6) {\n  return _verifyUserSignatures.apply(this, arguments);\n}\n\nfunction _verifyUserSignatures() {\n  _verifyUserSignatures = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(message, compSigs) {\n    var opts,\n        address,\n        signaturesArr,\n        keyIndices,\n        _iterator2,\n        _step2,\n        el,\n        _args3 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            opts = _args3.length > 2 && _args3[2] !== undefined ? _args3[2] : {};\n            address = withPrefix(compSigs[0].addr);\n            validateArgs({\n              message: message,\n              address: address,\n              compSigs: compSigs\n            });\n            signaturesArr = [];\n            keyIndices = [];\n            _iterator2 = _createForOfIteratorHelper(compSigs);\n\n            try {\n              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                el = _step2.value;\n                signaturesArr.push(el.signature);\n                keyIndices.push(el.keyId.toString());\n              }\n            } catch (err) {\n              _iterator2.e(err);\n            } finally {\n              _iterator2.f();\n            }\n\n            _context3.t0 = query;\n            _context3.next = 10;\n            return getVerifySignaturesScript(USER_SIGNATURE, opts);\n\n          case 10:\n            _context3.t1 = _context3.sent;\n\n            _context3.t2 = function args(arg, t) {\n              return [arg(address, t.Address), arg(message, t.String), arg(keyIndices, t.Array(t.Int)), arg(signaturesArr, t.Array(t.String))];\n            };\n\n            _context3.t3 = {\n              cadence: _context3.t1,\n              args: _context3.t2\n            };\n            return _context3.abrupt(\"return\", (0, _context3.t0)(_context3.t3));\n\n          case 14:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _verifyUserSignatures.apply(this, arguments);\n}\n\nvar index$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  verifyAccountProof: verifyAccountProof,\n  verifyUserSignatures: verifyUserSignatures$1\n});\n\n/**\n * Verify a valid signature/s for an account on Flow.\n *\n * @deprecated since version '1.0.0-alpha.0', use AppUtils.verifyUserSignatures instead\n *\n */\n\nvar verifyUserSignatures = log.deprecate({\n  pkg: \"FCL\",\n  subject: \"fcl.verifyUserSignatures()\",\n  message: \"Please use fcl.AppUtils.verifyUserSignatures()\",\n  callback: function verifyUserSignatures(message, compSigs) {\n    return verifyUserSignatures$1(message, compSigs);\n  }\n});\n\nvar serialize = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var args,\n        opts,\n        resolveFunction,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            args = _args.length > 0 && _args[0] !== undefined ? _args[0] : [];\n            opts = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n            _context.next = 4;\n            return config$1.first([\"sdk.resolve\"], opts.resolve || resolve);\n\n          case 4:\n            resolveFunction = _context.sent;\n\n            if (!Array.isArray(args)) {\n              _context.next = 9;\n              break;\n            }\n\n            _context.next = 8;\n            return pipe(interaction(), args);\n\n          case 8:\n            args = _context.sent;\n\n          case 9:\n            _context.t0 = JSON;\n            _context.t1 = createSignableVoucher;\n            _context.next = 13;\n            return resolveFunction(args);\n\n          case 13:\n            _context.t2 = _context.sent;\n            _context.t3 = (0, _context.t1)(_context.t2);\n            return _context.abrupt(\"return\", _context.t0.stringify.call(_context.t0, _context.t3, null, 2));\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function serialize() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar _HANDLERS$1;\nvar RATE$1 = 2500;\nvar POLL = \"POLL\";\n\nvar fetchTxStatus = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(transactionId) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", send$1([getTransactionStatus(transactionId)]).then(decode));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function fetchTxStatus(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar isExpired = function isExpired(tx) {\n  return tx.status === 5;\n};\n\nvar isSealed = function isSealed(tx) {\n  return tx.status >= 4;\n};\n\nvar isExecuted = function isExecuted(tx) {\n  return tx.status >= 3;\n};\n\nvar isFinalized = function isFinalized(tx) {\n  return tx.status >= 2;\n};\n\nvar isPending = function isPending(tx) {\n  return tx.status >= 1;\n};\n\nvar isUnknown = function isUnknown(tx) {\n  return tx.status >= 0;\n};\n\nvar isDiff = function isDiff(cur, next) {\n  return JSON.stringify(cur) !== JSON.stringify(next);\n};\n\nvar HANDLERS$1 = (_HANDLERS$1 = {}, _defineProperty(_HANDLERS$1, INIT, function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ctx) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            ctx.sendSelf(POLL);\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}()), _defineProperty(_HANDLERS$1, SUBSCRIBE, function (ctx, letter) {\n  ctx.subscribe(letter.from);\n  ctx.send(letter.from, UPDATED$2, ctx.all());\n}), _defineProperty(_HANDLERS$1, UNSUBSCRIBE, function (ctx, letter) {\n  ctx.unsubscribe(letter.from);\n}), _defineProperty(_HANDLERS$1, SNAPSHOT$1, function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ctx, letter) {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            letter.reply(ctx.all());\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x3, _x4) {\n    return _ref3.apply(this, arguments);\n  };\n}()), _defineProperty(_HANDLERS$1, POLL, function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(ctx) {\n    var tx;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return fetchTxStatus(ctx.self());\n\n          case 3:\n            tx = _context4.sent;\n            _context4.next = 9;\n            break;\n\n          case 6:\n            _context4.prev = 6;\n            _context4.t0 = _context4[\"catch\"](0);\n            return _context4.abrupt(\"return\", ctx.fatalError(_context4.t0));\n\n          case 9:\n            if (!isSealed(tx)) setTimeout(function () {\n              return ctx.sendSelf(POLL);\n            }, RATE$1);\n            if (isDiff(ctx.all(), tx)) ctx.broadcast(UPDATED$2, tx);\n            ctx.merge(tx);\n\n          case 12:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[0, 6]]);\n  }));\n\n  return function (_x5) {\n    return _ref4.apply(this, arguments);\n  };\n}()), _HANDLERS$1);\n\nvar scoped = function scoped(transactionId) {\n  if (_typeof(transactionId) === \"object\") transactionId = transactionId.transactionId;\n  if (transactionId == null) throw new Error(\"transactionId required\");\n  return transactionId;\n};\n\nvar spawnTransaction = function spawnTransaction(transactionId) {\n  return spawn(HANDLERS$1, scoped(transactionId));\n};\n\nfunction transaction(transactionId) {\n  function snapshot() {\n    return snapshoter(transactionId, spawnTransaction);\n  }\n\n  function subscribe(callback) {\n    return subscriber(scoped(transactionId), spawnTransaction, callback);\n  }\n\n  function once(predicate) {\n    return function innerOnce() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var suppress = opts.suppress || false;\n      return new Promise(function (resolve, reject) {\n        var unsub = subscribe(function (txStatus, error) {\n          if ((error || txStatus.statusCode) && !suppress) {\n            reject(error || txStatus.errorMessage);\n            unsub();\n          } else if (predicate(txStatus)) {\n            resolve(txStatus);\n            unsub();\n          }\n        });\n      });\n    };\n  }\n\n  return {\n    snapshot: snapshot,\n    subscribe: subscribe,\n    onceFinalized: once(isFinalized),\n    onceExecuted: once(isExecuted),\n    onceSealed: once(isSealed)\n  };\n}\ntransaction.isUnknown = isUnknown;\ntransaction.isPending = isPending;\ntransaction.isFinalized = isFinalized;\ntransaction.isExecuted = isExecuted;\ntransaction.isSealed = isSealed;\ntransaction.isExpired = isExpired;\n\nvar _HANDLERS;\nvar RATE = 10000;\nvar UPDATED = \"UPDATED\";\nvar TICK = \"TICK\";\nvar HIGH_WATER_MARK = \"hwm\";\n\nvar scheduleTick = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.t0 = setTimeout;\n\n            _context.t1 = function () {\n              return ctx.sendSelf(TICK);\n            };\n\n            _context.next = 4;\n            return config$1().get(\"fcl.eventPollRate\", RATE);\n\n          case 4:\n            _context.t2 = _context.sent;\n            return _context.abrupt(\"return\", (0, _context.t0)(_context.t1, _context.t2));\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function scheduleTick(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar HANDLERS = (_HANDLERS = {}, _defineProperty(_HANDLERS, TICK, function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ctx) {\n    var hwm, next, data, _iterator, _step, d;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (ctx.hasSubs()) {\n              _context2.next = 2;\n              break;\n            }\n\n            return _context2.abrupt(\"return\");\n\n          case 2:\n            hwm = ctx.get(HIGH_WATER_MARK);\n\n            if (!(hwm == null)) {\n              _context2.next = 18;\n              break;\n            }\n\n            _context2.t0 = ctx;\n            _context2.t1 = HIGH_WATER_MARK;\n            _context2.next = 8;\n            return block();\n\n          case 8:\n            _context2.t2 = _context2.sent;\n\n            _context2.t0.put.call(_context2.t0, _context2.t1, _context2.t2);\n\n            _context2.t3 = ctx;\n            _context2.t4 = TICK;\n            _context2.next = 14;\n            return scheduleTick(ctx);\n\n          case 14:\n            _context2.t5 = _context2.sent;\n\n            _context2.t3.put.call(_context2.t3, _context2.t4, _context2.t5);\n\n            _context2.next = 34;\n            break;\n\n          case 18:\n            _context2.next = 20;\n            return block();\n\n          case 20:\n            next = _context2.sent;\n            ctx.put(HIGH_WATER_MARK, next);\n\n            if (!(hwm.height < next.height)) {\n              _context2.next = 28;\n              break;\n            }\n\n            _context2.next = 25;\n            return send$1([getEventsAtBlockHeightRange(ctx.self(), hwm.height + 1, next.height)]).then(decode);\n\n          case 25:\n            data = _context2.sent;\n            _iterator = _createForOfIteratorHelper(data);\n\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                d = _step.value;\n                ctx.broadcast(UPDATED, d.data);\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n\n          case 28:\n            _context2.t6 = ctx;\n            _context2.t7 = TICK;\n            _context2.next = 32;\n            return scheduleTick(ctx);\n\n          case 32:\n            _context2.t8 = _context2.sent;\n\n            _context2.t6.put.call(_context2.t6, _context2.t7, _context2.t8);\n\n          case 34:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}()), _defineProperty(_HANDLERS, SUBSCRIBE, function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ctx, letter) {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (ctx.hasSubs()) {\n              _context3.next = 7;\n              break;\n            }\n\n            _context3.t0 = ctx;\n            _context3.t1 = TICK;\n            _context3.next = 5;\n            return scheduleTick(ctx);\n\n          case 5:\n            _context3.t2 = _context3.sent;\n\n            _context3.t0.put.call(_context3.t0, _context3.t1, _context3.t2);\n\n          case 7:\n            ctx.subscribe(letter.from);\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x3, _x4) {\n    return _ref3.apply(this, arguments);\n  };\n}()), _defineProperty(_HANDLERS, UNSUBSCRIBE, function (ctx, letter) {\n  ctx.unsubscribe(letter.from);\n\n  if (!ctx.hasSubs()) {\n    clearTimeout(ctx.get(TICK));\n    ctx[\"delete\"](TICK);\n    ctx[\"delete\"](HIGH_WATER_MARK);\n  }\n}), _HANDLERS);\n\nvar spawnEvents = function spawnEvents(key) {\n  return spawn(HANDLERS, key);\n};\n\nfunction events(key) {\n  return {\n    subscribe: function subscribe(callback) {\n      return subscriber(key, spawnEvents, callback);\n    }\n  };\n}\n\nvar sha3 = {};\n\nvar sponge = {};\n\nvar permute = {};\n\nvar chi = {};\n\nvar copy = function copy(I, i) {\n  return function (O, o) {\n    var oi = o * 2;\n    var ii = i * 2;\n    O[oi] = I[ii];\n    O[oi + 1] = I[ii + 1];\n  };\n};\n\nvar copy_1 = copy;\n\n(function (exports) {\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n\n  var _copy = _interopRequireDefault(copy_1);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  var chi = function chi(_ref) {\n    var A = _ref.A,\n        C = _ref.C;\n\n    for (var y = 0; y < 25; y += 5) {\n      for (var x = 0; x < 5; x++) {\n        (0, _copy[\"default\"])(A, y + x)(C, x);\n      }\n\n      for (var _x = 0; _x < 5; _x++) {\n        var xy = (y + _x) * 2;\n        var x1 = (_x + 1) % 5 * 2;\n        var x2 = (_x + 2) % 5 * 2;\n        A[xy] ^= ~C[x1] & C[x2];\n        A[xy + 1] ^= ~C[x1 + 1] & C[x2 + 1];\n      }\n    }\n  };\n\n  var _default = chi;\n  exports[\"default\"] = _default;\n})(chi);\n\nvar iota = {};\n\nvar roundConstants = {};\n\n(function (exports) {\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n  var ROUND_CONSTANTS = new Uint32Array([0, 1, 0, 32898, 2147483648, 32906, 2147483648, 2147516416, 0, 32907, 0, 2147483649, 2147483648, 2147516545, 2147483648, 32777, 0, 138, 0, 136, 0, 2147516425, 0, 2147483658, 0, 2147516555, 2147483648, 139, 2147483648, 32905, 2147483648, 32771, 2147483648, 32770, 2147483648, 128, 0, 32778, 2147483648, 2147483658, 2147483648, 2147516545, 2147483648, 32896, 0, 2147483649, 2147483648, 2147516424]);\n  var _default = ROUND_CONSTANTS;\n  exports[\"default\"] = _default;\n})(roundConstants);\n\n(function (exports) {\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n\n  var _roundConstants = _interopRequireDefault(roundConstants);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  var iota = function iota(_ref) {\n    var A = _ref.A,\n        roundIndex = _ref.roundIndex;\n    var i = roundIndex * 2;\n    A[0] ^= _roundConstants[\"default\"][i];\n    A[1] ^= _roundConstants[\"default\"][i + 1];\n  };\n\n  var _default = iota;\n  exports[\"default\"] = _default;\n})(iota);\n\nvar rhoPi = {};\n\nvar piShuffles = {};\n\n(function (exports) {\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n  var PI_SHUFFLES = [10, 7, 11, 17, 18, 3, 5, 16, 8, 21, 24, 4, 15, 23, 19, 13, 12, 2, 20, 14, 22, 9, 6, 1];\n  var _default = PI_SHUFFLES;\n  exports[\"default\"] = _default;\n})(piShuffles);\n\nvar rhoOffsets = {};\n\n(function (exports) {\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n  var RHO_OFFSETS = [1, 3, 6, 10, 15, 21, 28, 36, 45, 55, 2, 14, 27, 41, 56, 8, 25, 43, 62, 18, 39, 61, 20, 44];\n  var _default = RHO_OFFSETS;\n  exports[\"default\"] = _default;\n})(rhoOffsets);\n\n(function (exports) {\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n\n  var _piShuffles = _interopRequireDefault(piShuffles);\n\n  var _rhoOffsets = _interopRequireDefault(rhoOffsets);\n\n  var _copy = _interopRequireDefault(copy_1);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  var rhoPi = function rhoPi(_ref) {\n    var A = _ref.A,\n        C = _ref.C,\n        W = _ref.W;\n    (0, _copy[\"default\"])(A, 1)(W, 0);\n    var H = 0;\n    var L = 0;\n    var Wi = 0;\n    var ri = 32;\n\n    for (var i = 0; i < 24; i++) {\n      var j = _piShuffles[\"default\"][i];\n      var r = _rhoOffsets[\"default\"][i];\n      (0, _copy[\"default\"])(A, j)(C, 0);\n      H = W[0];\n      L = W[1];\n      ri = 32 - r;\n      Wi = r < 32 ? 0 : 1;\n      W[Wi] = H << r | L >>> ri;\n      W[(Wi + 1) % 2] = L << r | H >>> ri;\n      (0, _copy[\"default\"])(W, 0)(A, j);\n      (0, _copy[\"default\"])(C, 0)(W, 0);\n    }\n  };\n\n  var _default = rhoPi;\n  exports[\"default\"] = _default;\n})(rhoPi);\n\nvar theta = {};\n\n(function (exports) {\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n\n  var _copy = _interopRequireDefault(copy_1);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  var theta = function theta(_ref) {\n    var A = _ref.A,\n        C = _ref.C,\n        D = _ref.D,\n        W = _ref.W;\n    var H = 0;\n    var L = 0;\n\n    for (var x = 0; x < 5; x++) {\n      var x20 = x * 2;\n      var x21 = (x + 5) * 2;\n      var x22 = (x + 10) * 2;\n      var x23 = (x + 15) * 2;\n      var x24 = (x + 20) * 2;\n      C[x20] = A[x20] ^ A[x21] ^ A[x22] ^ A[x23] ^ A[x24];\n      C[x20 + 1] = A[x20 + 1] ^ A[x21 + 1] ^ A[x22 + 1] ^ A[x23 + 1] ^ A[x24 + 1];\n    }\n\n    for (var _x = 0; _x < 5; _x++) {\n      (0, _copy[\"default\"])(C, (_x + 1) % 5)(W, 0);\n      H = W[0];\n      L = W[1];\n      W[0] = H << 1 | L >>> 31;\n      W[1] = L << 1 | H >>> 31;\n      D[_x * 2] = C[(_x + 4) % 5 * 2] ^ W[0];\n      D[_x * 2 + 1] = C[(_x + 4) % 5 * 2 + 1] ^ W[1];\n\n      for (var y = 0; y < 25; y += 5) {\n        A[(y + _x) * 2] ^= D[_x * 2];\n        A[(y + _x) * 2 + 1] ^= D[_x * 2 + 1];\n      }\n    }\n  };\n\n  var _default = theta;\n  exports[\"default\"] = _default;\n})(theta);\n\n(function (exports) {\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n\n  var _chi = _interopRequireDefault(chi);\n\n  var _iota = _interopRequireDefault(iota);\n\n  var _rhoPi = _interopRequireDefault(rhoPi);\n\n  var _theta = _interopRequireDefault(theta);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  var permute = function permute() {\n    var C = new Uint32Array(10);\n    var D = new Uint32Array(10);\n    var W = new Uint32Array(2);\n    return function (A) {\n      for (var roundIndex = 0; roundIndex < 24; roundIndex++) {\n        (0, _theta[\"default\"])({\n          A: A,\n          C: C,\n          D: D,\n          W: W\n        });\n        (0, _rhoPi[\"default\"])({\n          A: A,\n          C: C,\n          W: W\n        });\n        (0, _chi[\"default\"])({\n          A: A,\n          C: C\n        });\n        (0, _iota[\"default\"])({\n          A: A,\n          roundIndex: roundIndex\n        });\n      }\n\n      C.fill(0);\n      D.fill(0);\n      W.fill(0);\n    };\n  };\n\n  var _default = permute;\n  exports[\"default\"] = _default;\n})(permute);\n\n(function (exports) {\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n  var _buffer = require$$0;\n\n  var _permute = _interopRequireDefault(permute);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  var xorWords = function xorWords(I, O) {\n    for (var i = 0; i < I.length; i += 8) {\n      var o = i / 4;\n      O[o] ^= I[i + 7] << 24 | I[i + 6] << 16 | I[i + 5] << 8 | I[i + 4];\n      O[o + 1] ^= I[i + 3] << 24 | I[i + 2] << 16 | I[i + 1] << 8 | I[i];\n    }\n\n    return O;\n  };\n\n  var readWords = function readWords(I, O) {\n    for (var o = 0; o < O.length; o += 8) {\n      var i = o / 4;\n      O[o] = I[i + 1];\n      O[o + 1] = I[i + 1] >>> 8;\n      O[o + 2] = I[i + 1] >>> 16;\n      O[o + 3] = I[i + 1] >>> 24;\n      O[o + 4] = I[i];\n      O[o + 5] = I[i] >>> 8;\n      O[o + 6] = I[i] >>> 16;\n      O[o + 7] = I[i] >>> 24;\n    }\n\n    return O;\n  };\n\n  var Sponge = function Sponge(_ref) {\n    var _this = this;\n\n    var capacity = _ref.capacity,\n        padding = _ref.padding;\n    var keccak = (0, _permute[\"default\"])();\n    var stateSize = 200;\n    var blockSize = capacity / 8;\n    var queueSize = stateSize - capacity / 4;\n    var queueOffset = 0;\n    var state = new Uint32Array(stateSize / 4);\n\n    var queue = _buffer.Buffer.allocUnsafe(queueSize);\n\n    this.absorb = function (buffer) {\n      for (var i = 0; i < buffer.length; i++) {\n        queue[queueOffset] = buffer[i];\n        queueOffset += 1;\n\n        if (queueOffset >= queueSize) {\n          xorWords(queue, state);\n          keccak(state);\n          queueOffset = 0;\n        }\n      }\n\n      return _this;\n    };\n\n    this.squeeze = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var output = {\n        buffer: options.buffer || _buffer.Buffer.allocUnsafe(blockSize),\n        padding: options.padding || padding,\n        queue: _buffer.Buffer.allocUnsafe(queue.length),\n        state: new Uint32Array(state.length)\n      };\n      queue.copy(output.queue);\n\n      for (var i = 0; i < state.length; i++) {\n        output.state[i] = state[i];\n      }\n\n      output.queue.fill(0, queueOffset);\n      output.queue[queueOffset] |= output.padding;\n      output.queue[queueSize - 1] |= 128;\n      xorWords(output.queue, output.state);\n\n      for (var offset = 0; offset < output.buffer.length; offset += queueSize) {\n        keccak(output.state);\n        readWords(output.state, output.buffer.slice(offset, offset + queueSize));\n      }\n\n      return output.buffer;\n    };\n\n    this.reset = function () {\n      queue.fill(0);\n      state.fill(0);\n      queueOffset = 0;\n      return _this;\n    };\n\n    return this;\n  };\n\n  var _default = Sponge;\n  exports[\"default\"] = _default;\n})(sponge);\n\n(function (exports) {\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = exports.SHAKE = exports.SHA3Hash = exports.SHA3 = exports.Keccak = void 0;\n  var _buffer = require$$0;\n\n  var _sponge = _interopRequireDefault(sponge);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  var createHash = function createHash(_ref) {\n    var allowedSizes = _ref.allowedSizes,\n        defaultSize = _ref.defaultSize,\n        padding = _ref.padding;\n    return function Hash() {\n      var _this = this;\n\n      var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultSize;\n\n      if (!this || this.constructor !== Hash) {\n        return new Hash(size);\n      }\n\n      if (allowedSizes && !allowedSizes.includes(size)) {\n        throw new Error(\"Unsupported hash length\");\n      }\n\n      var sponge = new _sponge[\"default\"]({\n        capacity: size\n      });\n\n      this.update = function (input) {\n        var encoding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"utf8\";\n\n        if (_buffer.Buffer.isBuffer(input)) {\n          sponge.absorb(input);\n          return _this;\n        }\n\n        if (typeof input === \"string\") {\n          return _this.update(_buffer.Buffer.from(input, encoding));\n        }\n\n        throw new TypeError(\"Not a string or buffer\");\n      };\n\n      this.digest = function () {\n        var formatOrOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"binary\";\n        var options = typeof formatOrOptions === \"string\" ? {\n          format: formatOrOptions\n        } : formatOrOptions;\n        var buffer = sponge.squeeze({\n          buffer: options.buffer,\n          padding: options.padding || padding\n        });\n\n        if (options.format && options.format !== \"binary\") {\n          return buffer.toString(options.format);\n        }\n\n        return buffer;\n      };\n\n      this.reset = function () {\n        sponge.reset();\n        return _this;\n      };\n\n      return this;\n    };\n  };\n\n  var Keccak = createHash({\n    allowedSizes: [224, 256, 384, 512],\n    defaultSize: 512,\n    padding: 1\n  });\n  exports.Keccak = Keccak;\n  var SHA3 = createHash({\n    allowedSizes: [224, 256, 384, 512],\n    defaultSize: 512,\n    padding: 6\n  });\n  exports.SHA3 = SHA3;\n  var SHAKE = createHash({\n    allowedSizes: [128, 256],\n    defaultSize: 256,\n    padding: 31\n  });\n  exports.SHAKE = SHAKE;\n  var SHA3Hash = Keccak;\n  exports.SHA3Hash = SHA3Hash;\n  SHA3.SHA3Hash = SHA3Hash;\n  var _default = SHA3;\n  exports[\"default\"] = _default;\n})(sha3);\n\nfunction genHash(_x) {\n  return _genHash.apply(this, arguments);\n}\n\nfunction _genHash() {\n  _genHash = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(utf8String) {\n    var sha;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            sha = new sha3.SHA3(256);\n            sha.update(Buffer.from(utf8String, \"utf8\"));\n            return _context.abrupt(\"return\", sha.digest(\"hex\"));\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _genHash.apply(this, arguments);\n}\n\nfunction generateTemplateId(_x) {\n  return _generateTemplateId.apply(this, arguments);\n}\n\nfunction _generateTemplateId() {\n  _generateTemplateId = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(_ref) {\n    var template, templateData, messages, dependencies, _arguments, encodedHex;\n\n    return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            template = _ref.template;\n            invariant$1(template != undefined, \"generateTemplateId({ template }) -- template must be defined\");\n            invariant$1(_typeof(template) === \"object\", \"generateTemplateId({ template }) -- template must be an object\");\n            invariant$1(typeof template.f_type === \"InteractionTemplate\", \"generateTemplateId({ template }) -- template object must be an InteractionTemplate\");\n            template = normalizeInteractionTemplate(template);\n            _context9.t0 = template.f_version;\n            _context9.next = _context9.t0 === \"1.0.0\" ? 8 : 40;\n            break;\n\n          case 8:\n            templateData = template.data;\n            _context9.next = 11;\n            return Promise.all(Object.keys(templateData.messages).map( /*#__PURE__*/function () {\n              var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(messageKey) {\n                var _templateData$message, _templateData$message2;\n\n                return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        _context2.next = 2;\n                        return genHash(messageKey);\n\n                      case 2:\n                        _context2.t0 = _context2.sent;\n                        _context2.next = 5;\n                        return Promise.all(Object.keys((_templateData$message = templateData.messages) === null || _templateData$message === void 0 ? void 0 : (_templateData$message2 = _templateData$message[messageKey]) === null || _templateData$message2 === void 0 ? void 0 : _templateData$message2.i18n).map( /*#__PURE__*/function () {\n                          var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(i18nkeylanguage) {\n                            var _templateData$message3, _templateData$message4, _templateData$message5;\n\n                            return _regeneratorRuntime.wrap(function _callee$(_context) {\n                              while (1) {\n                                switch (_context.prev = _context.next) {\n                                  case 0:\n                                    _context.next = 2;\n                                    return genHash(i18nkeylanguage);\n\n                                  case 2:\n                                    _context.t0 = _context.sent;\n                                    _context.next = 5;\n                                    return genHash((_templateData$message3 = templateData.messages) === null || _templateData$message3 === void 0 ? void 0 : (_templateData$message4 = _templateData$message3[messageKey]) === null || _templateData$message4 === void 0 ? void 0 : (_templateData$message5 = _templateData$message4.i18n) === null || _templateData$message5 === void 0 ? void 0 : _templateData$message5[i18nkeylanguage]);\n\n                                  case 5:\n                                    _context.t1 = _context.sent;\n                                    return _context.abrupt(\"return\", [_context.t0, _context.t1]);\n\n                                  case 7:\n                                  case \"end\":\n                                    return _context.stop();\n                                }\n                              }\n                            }, _callee);\n                          }));\n\n                          return function (_x3) {\n                            return _ref3.apply(this, arguments);\n                          };\n                        }()));\n\n                      case 5:\n                        _context2.t1 = _context2.sent;\n                        return _context2.abrupt(\"return\", [_context2.t0, _context2.t1]);\n\n                      case 7:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2);\n              }));\n\n              return function (_x2) {\n                return _ref2.apply(this, arguments);\n              };\n            }()));\n\n          case 11:\n            messages = _context9.sent;\n            _context9.next = 14;\n            return Promise.all(Object.keys(templateData === null || templateData === void 0 ? void 0 : templateData.dependencies).map( /*#__PURE__*/function () {\n              var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dependencyAddressPlaceholder) {\n                var _templateData$depende;\n\n                return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n                  while (1) {\n                    switch (_context5.prev = _context5.next) {\n                      case 0:\n                        _context5.next = 2;\n                        return genHash(dependencyAddressPlaceholder);\n\n                      case 2:\n                        _context5.t0 = _context5.sent;\n                        _context5.next = 5;\n                        return Promise.all(Object.keys(templateData === null || templateData === void 0 ? void 0 : (_templateData$depende = templateData.dependencies) === null || _templateData$depende === void 0 ? void 0 : _templateData$depende[dependencyAddressPlaceholder]).map( /*#__PURE__*/function () {\n                          var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dependencyContract) {\n                            var _templateData$depende2, _templateData$depende3;\n\n                            return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n                              while (1) {\n                                switch (_context4.prev = _context4.next) {\n                                  case 0:\n                                    _context4.next = 2;\n                                    return genHash(dependencyContract);\n\n                                  case 2:\n                                    _context4.t0 = _context4.sent;\n                                    _context4.next = 5;\n                                    return Promise.all(Object.keys(templateData === null || templateData === void 0 ? void 0 : (_templateData$depende2 = templateData.dependencies) === null || _templateData$depende2 === void 0 ? void 0 : (_templateData$depende3 = _templateData$depende2[dependencyAddressPlaceholder]) === null || _templateData$depende3 === void 0 ? void 0 : _templateData$depende3[dependencyContract]).map( /*#__PURE__*/function () {\n                                      var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dependencyContractNetwork) {\n                                        var _templateData$depende4, _templateData$depende5, _templateData$depende6, _templateData$depende7, _templateData$depende8, _templateData$depende9, _templateData$depende10, _templateData$depende11, _templateData$depende12, _templateData$depende13, _templateData$depende14, _templateData$depende15, _templateData$depende16, _templateData$depende17, _templateData$depende18;\n\n                                        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                                          while (1) {\n                                            switch (_context3.prev = _context3.next) {\n                                              case 0:\n                                                _context3.next = 2;\n                                                return genHash(dependencyContractNetwork);\n\n                                              case 2:\n                                                _context3.t0 = _context3.sent;\n                                                _context3.next = 5;\n                                                return genHash(templateData === null || templateData === void 0 ? void 0 : (_templateData$depende4 = templateData.dependencies) === null || _templateData$depende4 === void 0 ? void 0 : (_templateData$depende5 = _templateData$depende4[dependencyAddressPlaceholder]) === null || _templateData$depende5 === void 0 ? void 0 : (_templateData$depende6 = _templateData$depende5[dependencyContract]) === null || _templateData$depende6 === void 0 ? void 0 : _templateData$depende6[dependencyContractNetwork].address);\n\n                                              case 5:\n                                                _context3.t1 = _context3.sent;\n                                                _context3.next = 8;\n                                                return genHash(templateData === null || templateData === void 0 ? void 0 : (_templateData$depende7 = templateData.dependencies) === null || _templateData$depende7 === void 0 ? void 0 : (_templateData$depende8 = _templateData$depende7[dependencyAddressPlaceholder]) === null || _templateData$depende8 === void 0 ? void 0 : (_templateData$depende9 = _templateData$depende8[dependencyContract]) === null || _templateData$depende9 === void 0 ? void 0 : _templateData$depende9[dependencyContractNetwork].contract);\n\n                                              case 8:\n                                                _context3.t2 = _context3.sent;\n                                                _context3.next = 11;\n                                                return genHash(templateData === null || templateData === void 0 ? void 0 : (_templateData$depende10 = templateData.dependencies) === null || _templateData$depende10 === void 0 ? void 0 : (_templateData$depende11 = _templateData$depende10[dependencyAddressPlaceholder]) === null || _templateData$depende11 === void 0 ? void 0 : (_templateData$depende12 = _templateData$depende11[dependencyContract]) === null || _templateData$depende12 === void 0 ? void 0 : _templateData$depende12[dependencyContractNetwork].fq_address);\n\n                                              case 11:\n                                                _context3.t3 = _context3.sent;\n                                                _context3.next = 14;\n                                                return genHash(templateData === null || templateData === void 0 ? void 0 : (_templateData$depende13 = templateData.dependencies) === null || _templateData$depende13 === void 0 ? void 0 : (_templateData$depende14 = _templateData$depende13[dependencyAddressPlaceholder]) === null || _templateData$depende14 === void 0 ? void 0 : (_templateData$depende15 = _templateData$depende14[dependencyContract]) === null || _templateData$depende15 === void 0 ? void 0 : _templateData$depende15[dependencyContractNetwork].pin);\n\n                                              case 14:\n                                                _context3.t4 = _context3.sent;\n                                                _context3.next = 17;\n                                                return genHash(String(templateData === null || templateData === void 0 ? void 0 : (_templateData$depende16 = templateData.dependencies) === null || _templateData$depende16 === void 0 ? void 0 : (_templateData$depende17 = _templateData$depende16[dependencyAddressPlaceholder]) === null || _templateData$depende17 === void 0 ? void 0 : (_templateData$depende18 = _templateData$depende17[dependencyContract]) === null || _templateData$depende18 === void 0 ? void 0 : _templateData$depende18[dependencyContractNetwork].pin_block_height));\n\n                                              case 17:\n                                                _context3.t5 = _context3.sent;\n                                                _context3.t6 = [_context3.t1, _context3.t2, _context3.t3, _context3.t4, _context3.t5];\n                                                return _context3.abrupt(\"return\", [_context3.t0, _context3.t6]);\n\n                                              case 20:\n                                              case \"end\":\n                                                return _context3.stop();\n                                            }\n                                          }\n                                        }, _callee3);\n                                      }));\n\n                                      return function (_x6) {\n                                        return _ref6.apply(this, arguments);\n                                      };\n                                    }()));\n\n                                  case 5:\n                                    _context4.t1 = _context4.sent;\n                                    return _context4.abrupt(\"return\", [_context4.t0, _context4.t1]);\n\n                                  case 7:\n                                  case \"end\":\n                                    return _context4.stop();\n                                }\n                              }\n                            }, _callee4);\n                          }));\n\n                          return function (_x5) {\n                            return _ref5.apply(this, arguments);\n                          };\n                        }()));\n\n                      case 5:\n                        _context5.t1 = _context5.sent;\n                        return _context5.abrupt(\"return\", [_context5.t0, _context5.t1]);\n\n                      case 7:\n                      case \"end\":\n                        return _context5.stop();\n                    }\n                  }\n                }, _callee5);\n              }));\n\n              return function (_x4) {\n                return _ref4.apply(this, arguments);\n              };\n            }()));\n\n          case 14:\n            dependencies = _context9.sent;\n            _context9.next = 17;\n            return Promise.all(Object.keys(templateData === null || templateData === void 0 ? void 0 : templateData[\"arguments\"]).map( /*#__PURE__*/function () {\n              var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(argumentLabel) {\n                var _templateData$argumen, _templateData$argumen2, _templateData$argumen3, _templateData$argumen4;\n\n                return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n                  while (1) {\n                    switch (_context8.prev = _context8.next) {\n                      case 0:\n                        _context8.next = 2;\n                        return genHash(argumentLabel);\n\n                      case 2:\n                        _context8.t0 = _context8.sent;\n                        _context8.next = 5;\n                        return genHash(String(templateData === null || templateData === void 0 ? void 0 : (_templateData$argumen = templateData[\"arguments\"]) === null || _templateData$argumen === void 0 ? void 0 : _templateData$argumen[argumentLabel].index));\n\n                      case 5:\n                        _context8.t1 = _context8.sent;\n                        _context8.next = 8;\n                        return genHash(templateData === null || templateData === void 0 ? void 0 : (_templateData$argumen2 = templateData[\"arguments\"]) === null || _templateData$argumen2 === void 0 ? void 0 : _templateData$argumen2[argumentLabel].type);\n\n                      case 8:\n                        _context8.t2 = _context8.sent;\n                        _context8.next = 11;\n                        return genHash((templateData === null || templateData === void 0 ? void 0 : (_templateData$argumen3 = templateData[\"arguments\"]) === null || _templateData$argumen3 === void 0 ? void 0 : _templateData$argumen3[argumentLabel].balance) || \"\");\n\n                      case 11:\n                        _context8.t3 = _context8.sent;\n                        _context8.next = 14;\n                        return Promise.all(Object.keys(templateData === null || templateData === void 0 ? void 0 : (_templateData$argumen4 = templateData[\"arguments\"]) === null || _templateData$argumen4 === void 0 ? void 0 : _templateData$argumen4[argumentLabel].messages).map( /*#__PURE__*/function () {\n                          var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(argumentMessageKey) {\n                            var _templateData$argumen5, _templateData$argumen6;\n\n                            return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n                              while (1) {\n                                switch (_context7.prev = _context7.next) {\n                                  case 0:\n                                    _context7.next = 2;\n                                    return genHash(argumentMessageKey);\n\n                                  case 2:\n                                    _context7.t0 = _context7.sent;\n                                    _context7.next = 5;\n                                    return Promise.all(Object.keys(templateData === null || templateData === void 0 ? void 0 : (_templateData$argumen5 = templateData[\"arguments\"]) === null || _templateData$argumen5 === void 0 ? void 0 : (_templateData$argumen6 = _templateData$argumen5[argumentLabel].messages) === null || _templateData$argumen6 === void 0 ? void 0 : _templateData$argumen6[argumentMessageKey].i18n).map( /*#__PURE__*/function () {\n                                      var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(i18nkeylanguage) {\n                                        var _templateData$argumen7, _templateData$argumen8, _templateData$argumen9;\n\n                                        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n                                          while (1) {\n                                            switch (_context6.prev = _context6.next) {\n                                              case 0:\n                                                _context6.next = 2;\n                                                return genHash(i18nkeylanguage);\n\n                                              case 2:\n                                                _context6.t0 = _context6.sent;\n                                                _context6.next = 5;\n                                                return genHash(templateData === null || templateData === void 0 ? void 0 : (_templateData$argumen7 = templateData[\"arguments\"]) === null || _templateData$argumen7 === void 0 ? void 0 : (_templateData$argumen8 = _templateData$argumen7[argumentLabel].messages) === null || _templateData$argumen8 === void 0 ? void 0 : (_templateData$argumen9 = _templateData$argumen8[argumentMessageKey].i18n) === null || _templateData$argumen9 === void 0 ? void 0 : _templateData$argumen9[i18nkeylanguage]);\n\n                                              case 5:\n                                                _context6.t1 = _context6.sent;\n                                                return _context6.abrupt(\"return\", [_context6.t0, _context6.t1]);\n\n                                              case 7:\n                                              case \"end\":\n                                                return _context6.stop();\n                                            }\n                                          }\n                                        }, _callee6);\n                                      }));\n\n                                      return function (_x9) {\n                                        return _ref9.apply(this, arguments);\n                                      };\n                                    }()));\n\n                                  case 5:\n                                    _context7.t1 = _context7.sent;\n                                    return _context7.abrupt(\"return\", [_context7.t0, _context7.t1]);\n\n                                  case 7:\n                                  case \"end\":\n                                    return _context7.stop();\n                                }\n                              }\n                            }, _callee7);\n                          }));\n\n                          return function (_x8) {\n                            return _ref8.apply(this, arguments);\n                          };\n                        }()));\n\n                      case 14:\n                        _context8.t4 = _context8.sent;\n                        _context8.t5 = [_context8.t1, _context8.t2, _context8.t3, _context8.t4];\n                        return _context8.abrupt(\"return\", [_context8.t0, _context8.t5]);\n\n                      case 17:\n                      case \"end\":\n                        return _context8.stop();\n                    }\n                  }\n                }, _callee8);\n              }));\n\n              return function (_x7) {\n                return _ref7.apply(this, arguments);\n              };\n            }()));\n\n          case 17:\n            _arguments = _context9.sent;\n            _context9.t1 = encode;\n            _context9.next = 21;\n            return genHash(\"InteractionTemplate\");\n\n          case 21:\n            _context9.t2 = _context9.sent;\n            _context9.next = 24;\n            return genHash(\"1.0.0\");\n\n          case 24:\n            _context9.t3 = _context9.sent;\n            _context9.next = 27;\n            return genHash(templateData === null || templateData === void 0 ? void 0 : templateData.type);\n\n          case 27:\n            _context9.t4 = _context9.sent;\n            _context9.next = 30;\n            return genHash(templateData === null || templateData === void 0 ? void 0 : templateData[\"interface\"]);\n\n          case 30:\n            _context9.t5 = _context9.sent;\n            _context9.t6 = messages;\n            _context9.next = 34;\n            return genHash(templateData === null || templateData === void 0 ? void 0 : templateData.cadence);\n\n          case 34:\n            _context9.t7 = _context9.sent;\n            _context9.t8 = dependencies;\n            _context9.t9 = _arguments;\n            _context9.t10 = [_context9.t2, _context9.t3, _context9.t4, _context9.t5, _context9.t6, _context9.t7, _context9.t8, _context9.t9];\n            encodedHex = (0, _context9.t1)(_context9.t10).toString(\"hex\");\n            return _context9.abrupt(\"return\", genHash(encodedHex));\n\n          case 40:\n            throw new Error(\"generateTemplateId Error: Unsupported template version\");\n\n          case 41:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee9);\n  }));\n  return _generateTemplateId.apply(this, arguments);\n}\n\nfunction getInteractionTemplateAudits(_x) {\n  return _getInteractionTemplateAudits.apply(this, arguments);\n}\n\nfunction _getInteractionTemplateAudits() {\n  _getInteractionTemplateAudits = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var template,\n        auditors,\n        opts,\n        recomputedTemplateID,\n        _auditors,\n        FlowInteractionAuditContract,\n        fclNetwork,\n        audits,\n        _args = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            template = _ref.template, auditors = _ref.auditors;\n            opts = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n            invariant$1(template != undefined, \"getInteractionTemplateAudits({ template }) -- template must be defined\");\n            template = normalizeInteractionTemplate(template);\n            invariant$1(template.f_type === \"InteractionTemplate\", \"getInteractionTemplateAudits({ template }) -- template must be an InteractionTemplate\"); // Recompute ID to be sure it matches\n\n            _context.next = 7;\n            return generateTemplateId({\n              template: template\n            });\n\n          case 7:\n            recomputedTemplateID = _context.sent;\n\n            if (!(recomputedTemplateID !== template.id)) {\n              _context.next = 11;\n              break;\n            }\n\n            log({\n              title: \"getInteractionTemplateAudits Debug Error\",\n              message: \"Could not recompute and match template ID\\n                computed: \".concat(recomputedTemplateID, \"\\n                template: \").concat(template.id, \"\\n            \"),\n              level: LEVELS.debug\n            });\n            throw new Error(\"getInteractionTemplateAudits Error: Could not recompute and match template ID\");\n\n          case 11:\n            _context.t0 = template.f_version;\n            _context.next = _context.t0 === \"1.0.0\" ? 14 : 33;\n            break;\n\n          case 14:\n            _context.t1 = auditors;\n\n            if (_context.t1) {\n              _context.next = 19;\n              break;\n            }\n\n            _context.next = 18;\n            return config$1().get(\"flow.auditors\");\n\n          case 18:\n            _context.t1 = _context.sent;\n\n          case 19:\n            _auditors = _context.t1;\n            invariant$1(_auditors, \"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not set\");\n            invariant$1(Array.isArray(_auditors), \"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not an array\");\n            FlowInteractionAuditContract = opts.flowInteractionAuditContract;\n\n            if (FlowInteractionAuditContract) {\n              _context.next = 29;\n              break;\n            }\n\n            _context.next = 26;\n            return config$1().get(\"flow.network\");\n\n          case 26:\n            fclNetwork = _context.sent;\n            invariant$1(fclNetwork === \"mainnet\" || fclNetwork === \"testnet\", \"getInteractionTemplateAudits Error: Unable to determine address for FlowInteractionTemplateAudit contract. Set configuration for 'fcl.network' to 'mainnet' or 'testnet'\");\n\n            if (fclNetwork === \"mainnet\") {\n              FlowInteractionAuditContract = \"0xfd100e39d50a13e6\";\n            } else {\n              FlowInteractionAuditContract = \"0xf78bfc12d0a786dc\";\n            }\n\n          case 29:\n            _context.next = 31;\n            return query({\n              cadence: \"\\n        import FlowInteractionTemplateAudit from \".concat(FlowInteractionAuditContract, \"\\n        pub fun main(templateId: String, auditors: [Address]): {Address:Bool} {\\n          return FlowInteractionTemplateAudit.getHasTemplateBeenAuditedByAuditors(templateId: templateId, auditors: auditors)\\n        }\\n        \"),\n              args: function args(arg, t) {\n                return [arg(recomputedTemplateID, t.String), arg(_auditors, t.Array(t.Address))];\n              }\n            });\n\n          case 31:\n            audits = _context.sent;\n            return _context.abrupt(\"return\", audits);\n\n          case 33:\n            throw new Error(\"getInteractionTemplateAudits Error: Unsupported template version\");\n\n          case 34:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getInteractionTemplateAudits.apply(this, arguments);\n}\n\nfunction generateImport(_ref) {\n  var contractName = _ref.contractName,\n      address = _ref.address;\n  return {\n    contractName: contractName,\n    address: address,\n    contract: \"\"\n  };\n}\n\nfunction findImports(cadence) {\n  var imports = [];\n  var importsReg = /import ((\\w|,| )+)* from 0x\\w+/g;\n  var fileImports = cadence.match(importsReg) || [];\n\n  var _iterator = _createForOfIteratorHelper(fileImports),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var fileImport = _step.value;\n      var importLineReg = /import ((\\w+|, |)*) from (0x\\w+)/g;\n      var importLine = importLineReg.exec(fileImport);\n      var contractsReg = /((?:\\w+)+),?/g;\n      var contracts = importLine[1].match(contractsReg) || [];\n\n      var _iterator2 = _createForOfIteratorHelper(contracts),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var contract = _step2.value;\n          imports.push(generateImport({\n            address: importLine[3],\n            contractName: contract.replace(/,/g, \"\")\n          }));\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return imports;\n}\n\nfunction generateDependencyPin(_x) {\n  return _generateDependencyPin.apply(this, arguments);\n}\n\nfunction _generateDependencyPin() {\n  _generateDependencyPin = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var address,\n        contractName,\n        blockHeight,\n        opts,\n        horizon,\n        _i,\n        _horizon,\n        _account$contracts,\n        horizonImport,\n        account,\n        contractImports,\n        contractHashes,\n        contractHashesJoined,\n        _args = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            address = _ref.address, contractName = _ref.contractName, blockHeight = _ref.blockHeight;\n            opts = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n            invariant$1(address != undefined, \"generateDependencyPin({ address }) -- address must be defined\");\n            invariant$1(contractName != undefined, \"generateDependencyPin({ contractName }) -- contractName must be defined\");\n            invariant$1(blockHeight != undefined, \"generateDependencyPin({ blockHeight }) -- blockHeight must be defined\");\n            invariant$1(typeof address === \"string\", \"generateDependencyPin({ address }) -- address must be a string\");\n            invariant$1(typeof contractName === \"string\", \"generateDependencyPin({ contractName }) -- contractName must be a string\");\n            invariant$1(typeof blockHeight === \"number\", \"generateDependencyPin({ blockHeight }) -- blockHeight must be a number\");\n            horizon = [generateImport({\n              contractName: contractName,\n              address: address\n            })];\n            _i = 0, _horizon = horizon;\n\n          case 10:\n            if (!(_i < _horizon.length)) {\n              _context.next = 33;\n              break;\n            }\n\n            horizonImport = _horizon[_i];\n            _context.t0 = send$1;\n            _context.t1 = getAccount;\n            _context.next = 16;\n            return config$1().get(horizonImport.address, horizonImport.address);\n\n          case 16:\n            _context.t2 = _context.sent;\n            _context.t3 = (0, _context.t1)(_context.t2);\n            _context.t4 = atBlockHeight(blockHeight);\n            _context.t5 = [_context.t3, _context.t4];\n            _context.t6 = opts;\n            _context.next = 23;\n            return (0, _context.t0)(_context.t5, _context.t6).then(decode);\n\n          case 23:\n            account = _context.sent;\n            horizonImport.contract = (_account$contracts = account.contracts) === null || _account$contracts === void 0 ? void 0 : _account$contracts[horizonImport.contractName];\n\n            if (horizonImport.contract) {\n              _context.next = 28;\n              break;\n            }\n\n            console.error(\"Did not find expected contract\", horizonImport, account);\n            throw new Error(\"Did not find expected contract\");\n\n          case 28:\n            contractImports = findImports(horizonImport.contract);\n            horizon.push.apply(horizon, _toConsumableArray(contractImports));\n\n          case 30:\n            _i++;\n            _context.next = 10;\n            break;\n\n          case 33:\n            contractHashes = horizon.map(function (iport) {\n              return genHash(iport.contract);\n            });\n            contractHashesJoined = contractHashes.join(\"\");\n            return _context.abrupt(\"return\", genHash(contractHashesJoined));\n\n          case 36:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _generateDependencyPin.apply(this, arguments);\n}\n\nfunction generateDependencyPinAtLatestSealedBlock(_x2) {\n  return _generateDependencyPinAtLatestSealedBlock.apply(this, arguments);\n}\n\nfunction _generateDependencyPinAtLatestSealedBlock() {\n  _generateDependencyPinAtLatestSealedBlock = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref2) {\n    var address,\n        contractName,\n        opts,\n        latestSealedBlock,\n        latestSealedBlockHeight,\n        _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            address = _ref2.address, contractName = _ref2.contractName;\n            opts = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : {};\n            _context2.next = 4;\n            return block({\n              sealed: true\n            }, opts);\n\n          case 4:\n            latestSealedBlock = _context2.sent;\n            latestSealedBlockHeight = latestSealedBlock === null || latestSealedBlock === void 0 ? void 0 : latestSealedBlock.height;\n            return _context2.abrupt(\"return\", generateDependencyPin({\n              address: address,\n              contractName: contractName,\n              blockHeight: latestSealedBlockHeight\n            }, opts));\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _generateDependencyPinAtLatestSealedBlock.apply(this, arguments);\n}\n\nfunction normalizeInteractionTemplateInterface(templateInterface) {\n  if (templateInterface == null) return null;\n\n  switch (templateInterface[\"f_version\"]) {\n    case \"1.0.0\":\n      return templateInterface;\n\n    default:\n      throw new Error(\"normalizeInteractionTemplateInterface Error: Invalid InteractionTemplateInterface\");\n  }\n}\n\nfunction generateTemplateInterfaceId(_x) {\n  return _generateTemplateInterfaceId.apply(this, arguments);\n}\n\nfunction _generateTemplateInterfaceId() {\n  _generateTemplateInterfaceId = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref) {\n    var templateInterface, interfaceData, encodedHex;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            templateInterface = _ref.templateInterface;\n            invariant$1(templateInterface != undefined, \"generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be defined\");\n            invariant$1(_typeof(templateInterface) === \"object\", \"generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be an object\");\n            invariant$1(typeof templateInterface.f_type === \"InteractionTemplateInterface\", \"generateTemplateInterfaceId({ templateInterface }) -- templateInterface object must be an InteractionTemplate\");\n            templateInterface = normalizeInteractionTemplateInterface(templateInterface);\n            _context2.t0 = templateInterface.f_version;\n            _context2.next = _context2.t0 === \"1.0.0\" ? 8 : 25;\n            break;\n\n          case 8:\n            interfaceData = templateInterface.data;\n            _context2.t1 = encode;\n            _context2.next = 12;\n            return genHash(\"InteractionTemplateInterface\");\n\n          case 12:\n            _context2.t2 = _context2.sent;\n            _context2.next = 15;\n            return genHash(\"1.0.0\");\n\n          case 15:\n            _context2.t3 = _context2.sent;\n            _context2.next = 18;\n            return genHash(interfaceData.flip);\n\n          case 18:\n            _context2.t4 = _context2.sent;\n            _context2.next = 21;\n            return Promise.all(Object.keys(interfaceData.arguments).map( /*#__PURE__*/function () {\n              var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(argumentLabel) {\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return genHash(argumentLabel);\n\n                      case 2:\n                        _context.t0 = _context.sent;\n                        _context.next = 5;\n                        return genHash(String(interfaceData.arguments[argumentLabel].index));\n\n                      case 5:\n                        _context.t1 = _context.sent;\n                        _context.next = 8;\n                        return genHash(interfaceData.arguments[argumentLabel].type);\n\n                      case 8:\n                        _context.t2 = _context.sent;\n                        return _context.abrupt(\"return\", [_context.t0, _context.t1, _context.t2]);\n\n                      case 10:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function (_x2) {\n                return _ref2.apply(this, arguments);\n              };\n            }()));\n\n          case 21:\n            _context2.t5 = _context2.sent;\n            _context2.t6 = [_context2.t2, _context2.t3, _context2.t4, _context2.t5];\n            encodedHex = (0, _context2.t1)(_context2.t6).toString(\"hex\");\n            return _context2.abrupt(\"return\", genHash(encodedHex));\n\n          case 25:\n            throw new Error(\"generateTemplateInterfaceId Error: Unsupported templateInterface version\");\n\n          case 26:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _generateTemplateInterfaceId.apply(this, arguments);\n}\n\nfunction verifyDependencyPinsSame(_x) {\n  return _verifyDependencyPinsSame.apply(this, arguments);\n}\n\nfunction _verifyDependencyPinsSame() {\n  _verifyDependencyPinsSame = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var template,\n        blockHeight,\n        network,\n        opts,\n        templateDependenciesPlaceholderKeys,\n        _i,\n        _templateDependencies,\n        templateDependencyPlaceholderKey,\n        templateDependencyPlaceholder,\n        templateDependencyPlaceholderContractNames,\n        _i2,\n        _templateDependencyPl,\n        templateDependencyPlaceholderContractName,\n        templateDependencyPlaceholderContractNetworks,\n        templateDependency,\n        pin,\n        _args = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            template = _ref.template, blockHeight = _ref.blockHeight, network = _ref.network;\n            opts = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n            invariant$1(template != undefined, \"generateDependencyPin({ template }) -- template must be defined\");\n            invariant$1(_typeof(template) === \"object\", \"generateDependencyPin({ template }) -- template must be an object\");\n            invariant$1(template.f_type === \"InteractionTemplate\", \"generateDependencyPin({ template }) -- template must be an InteractionTemplate\");\n            template = normalizeInteractionTemplate(template);\n            invariant$1(network != undefined, \"generateDependencyPin({ network }) network must be defined\");\n            invariant$1(blockHeight != undefined, \"generateDependencyPin({ blockHeight }) blockHeight must be defined\");\n            invariant$1(typeof blockHeight === \"number\", \"generateDependencyPin({ blockHeight }) blockHeight must be a number\");\n            _context.t0 = template.f_version;\n            _context.next = _context.t0 === \"1.0.0\" ? 12 : 38;\n            break;\n\n          case 12:\n            templateDependenciesPlaceholderKeys = Object.keys(template.data.dependencies);\n            _i = 0, _templateDependencies = templateDependenciesPlaceholderKeys;\n\n          case 14:\n            if (!(_i < _templateDependencies.length)) {\n              _context.next = 37;\n              break;\n            }\n\n            templateDependencyPlaceholderKey = _templateDependencies[_i];\n            templateDependencyPlaceholder = template.data.dependencies[templateDependencyPlaceholderKey];\n            templateDependencyPlaceholderContractNames = Object.keys(templateDependencyPlaceholder);\n            _i2 = 0, _templateDependencyPl = templateDependencyPlaceholderContractNames;\n\n          case 19:\n            if (!(_i2 < _templateDependencyPl.length)) {\n              _context.next = 34;\n              break;\n            }\n\n            templateDependencyPlaceholderContractName = _templateDependencyPl[_i2];\n            templateDependencyPlaceholderContractNetworks = template.data.dependencies[templateDependencyPlaceholderKey][templateDependencyPlaceholderContractName];\n            templateDependency = templateDependencyPlaceholderContractNetworks[network];\n\n            if (!(typeof templateDependency === \"undefined\")) {\n              _context.next = 25;\n              break;\n            }\n\n            return _context.abrupt(\"continue\", 31);\n\n          case 25:\n            _context.next = 27;\n            return generateDependencyPin({\n              address: templateDependency.address,\n              contractName: templateDependency.contract,\n              blockHeight: blockHeight\n            }, opts);\n\n          case 27:\n            pin = _context.sent;\n\n            if (!(pin !== templateDependency.pin)) {\n              _context.next = 31;\n              break;\n            }\n\n            log({\n              title: \"verifyDependencyPinsSame Debug Error\",\n              message: \"Could not recompute and match dependency pin.\\n                                address: \".concat(templateDependency.address, \" | contract: \").concat(templateDependency.contract, \"\\n                                computed: \").concat(pin, \"\\n                                template: \").concat(templateDependency.pin, \"\\n                            \"),\n              level: LEVELS.debug\n            });\n            return _context.abrupt(\"return\", false);\n\n          case 31:\n            _i2++;\n            _context.next = 19;\n            break;\n\n          case 34:\n            _i++;\n            _context.next = 14;\n            break;\n\n          case 37:\n            return _context.abrupt(\"return\", true);\n\n          case 38:\n            throw new Error(\"verifyDependencyPinsSame Error: Unsupported template version\");\n\n          case 39:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _verifyDependencyPinsSame.apply(this, arguments);\n}\n\nfunction verifyDependencyPinsSameAtLatestSealedBlock(_x2) {\n  return _verifyDependencyPinsSameAtLatestSealedBlock.apply(this, arguments);\n}\n\nfunction _verifyDependencyPinsSameAtLatestSealedBlock() {\n  _verifyDependencyPinsSameAtLatestSealedBlock = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref2) {\n    var template,\n        network,\n        opts,\n        latestSealedBlock,\n        latestSealedBlockHeight,\n        _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            template = _ref2.template, network = _ref2.network;\n            opts = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : {};\n            _context2.next = 4;\n            return block({\n              sealed: true\n            });\n\n          case 4:\n            latestSealedBlock = _context2.sent;\n            latestSealedBlockHeight = latestSealedBlock === null || latestSealedBlock === void 0 ? void 0 : latestSealedBlock.height;\n            return _context2.abrupt(\"return\", verifyDependencyPinsSame({\n              template: template,\n              network: network,\n              blockHeight: latestSealedBlockHeight\n            }, opts));\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _verifyDependencyPinsSameAtLatestSealedBlock.apply(this, arguments);\n}\n\nfunction getTemplateMessage(_ref) {\n  var _template$data, _messages$messageKey, _messages$messageKey$;\n\n  var _ref$localization = _ref.localization,\n      localization = _ref$localization === void 0 ? \"en-US\" : _ref$localization,\n      messageKey = _ref.messageKey,\n      template = _ref.template;\n  invariant$1(messageKey, \"getMessage({ messageKey }) -- messageKey must be defined\");\n  invariant$1(typeof messageKey === \"stirng\", \"getMessage({ messageKey }) -- messageKey must be a string\");\n  invariant$1(localization, \"getMessage({ localization }) -- localization must be defined\");\n  invariant$1(typeof localization === \"stirng\", \"getMessage({ localization }) -- localization must be a string\");\n  invariant$1(template != undefined, \"generateTemplateId({ template }) -- template must be defined\");\n  invariant$1(_typeof(template) === \"object\", \"generateTemplateId({ template }) -- template must be an object\");\n  invariant$1(typeof template.f_type === \"InteractionTemplate\", \"generateTemplateId({ template }) -- template object must be an InteractionTemplate\");\n  var messages = template === null || template === void 0 ? void 0 : (_template$data = template.data) === null || _template$data === void 0 ? void 0 : _template$data.messages;\n  return messages === null || messages === void 0 ? void 0 : (_messages$messageKey = messages[messageKey]) === null || _messages$messageKey === void 0 ? void 0 : (_messages$messageKey$ = _messages$messageKey.i18n) === null || _messages$messageKey$ === void 0 ? void 0 : _messages$messageKey$[localization];\n}\n\nfunction getTemplateArgumentMessage(_ref) {\n  var _template$data, _args$argumentLabel, _args$argumentLabel$m, _args$argumentLabel$m2, _args$argumentLabel$m3;\n\n  var _ref$localization = _ref.localization,\n      localization = _ref$localization === void 0 ? \"en-US\" : _ref$localization,\n      argumentLabel = _ref.argumentLabel,\n      messageKey = _ref.messageKey,\n      template = _ref.template;\n  invariant$1(messageKey, \"getMessage({ messageKey }) -- messageKey must be defined\");\n  invariant$1(typeof messageKey === \"stirng\", \"getMessage({ messageKey }) -- messageKey must be a string\");\n  invariant$1(argumentLabel, \"getMessage({ argumentLabel }) -- argumentLabel must be defined\");\n  invariant$1(typeof messageKey === \"stirng\", \"getMessage({ argumentLabel }) -- argumentLabel must be a string\");\n  invariant$1(localization, \"getMessage({ localization }) -- localization must be defined\");\n  invariant$1(typeof localization === \"stirng\", \"getMessage({ localization }) -- localization must be a string\");\n  invariant$1(template != undefined, \"generateTemplateId({ template }) -- template must be defined\");\n  invariant$1(_typeof(template) === \"object\", \"generateTemplateId({ template }) -- template must be an object\");\n  invariant$1(typeof template.f_type === \"InteractionTemplate\", \"generateTemplateId({ template }) -- template object must be an InteractionTemplate\");\n  var args = template === null || template === void 0 ? void 0 : (_template$data = template.data) === null || _template$data === void 0 ? void 0 : _template$data.arguments;\n  return args === null || args === void 0 ? void 0 : (_args$argumentLabel = args[argumentLabel]) === null || _args$argumentLabel === void 0 ? void 0 : (_args$argumentLabel$m = _args$argumentLabel.messages) === null || _args$argumentLabel$m === void 0 ? void 0 : (_args$argumentLabel$m2 = _args$argumentLabel$m[messageKey]) === null || _args$argumentLabel$m2 === void 0 ? void 0 : (_args$argumentLabel$m3 = _args$argumentLabel$m2.i18n) === null || _args$argumentLabel$m3 === void 0 ? void 0 : _args$argumentLabel$m3[localization];\n}\n\nvar index = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  getInteractionTemplateAudits: getInteractionTemplateAudits,\n  generateDependencyPin: generateDependencyPin,\n  generateDependencyPinAtLatestSealedBlock: generateDependencyPinAtLatestSealedBlock,\n  generateTemplateId: generateTemplateId,\n  generateTemplateInterfaceId: generateTemplateInterfaceId,\n  verifyDependencyPinsSame: verifyDependencyPinsSame,\n  verifyDependencyPinsSameAtLatestSealedBlock: verifyDependencyPinsSameAtLatestSealedBlock,\n  deriveCadenceByNetwork: deriveCadenceByNetwork,\n  getTemplateMessage: getTemplateMessage,\n  getTemplateArgumentMessage: getTemplateArgumentMessage\n});\n\nvar authenticate = function authenticate() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return currentUser().authenticate(opts);\n};\nvar unauthenticate = function unauthenticate() {\n  return currentUser().unauthenticate();\n};\nvar reauthenticate = function reauthenticate() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  currentUser().unauthenticate();\n  return currentUser().authenticate(opts);\n};\nvar signUp = function signUp() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return currentUser().authenticate(opts);\n};\nvar logIn = function logIn() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return currentUser().authenticate(opts);\n};\nvar authz = currentUser().authorization;\nvar t = t$1;\n\nexport { index$1 as AppUtils, index as InteractionTemplateUtils, VERSION, index$2 as WalletUtils, authenticate, authz, currentUser, discovery, events, logIn, mutate, pluginRegistry, query, reauthenticate, serialize, signUp, t, transaction as tx, unauthenticate, verifyUserSignatures };\n//# sourceMappingURL=fcl.module.js.map\n","import * as fcl from '@onflow/fcl';\nfcl.config({\n    'accessNode.api': 'https://rest-mainnet.onflow.org',\n    'discovery.wallet': 'https://fcl-discovery.onflow.org/authn',\n});\nexport var getFlowProvider = function () {\n    return fcl;\n};\n//# sourceMappingURL=FlowProvider.js.map"],"mappings":"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"}