import{r as registerInstance,h,H as Host,g as getElement,c as createEvent}from"./p-f2be0ee8.js";const AttributeTable$1=class{constructor(e){registerInstance(this,e)}render(){return h(Host,null,h("h2",null,"Welcome to TokenScript Viewer"),h("p",null,"TokenScript Viewer is an easy way to run TokenScripts in your browser if you don't have a TokenScript compatible wallet.",h("br",null),"If you want to try TokenScripts in your wallet, you can download ",h("a",{href:"https://alphawallet.com/",target:"_blank"},"AlphaWallet")," for Android and iOS."),h("h3",null,"What is TokenScript?"),h("p",null,"TokenScript is a framework for providing rich, embedded & secure token utility for blockchain & attestation tokens.",h("br",null),"Simply put, it's a new way of writing DApps which provides UX & security benefits for users by cryptographically tying the frontend to the smart contract or attestation issuer.",h("br",null)),h("p",null,"For more information please visit ",h("a",{href:"https://www.tokenscript.org/",target:"_blank"},"https://www.tokenscript.org/")))}};var ChainID;(function(e){e[e["ETHEREUM"]=1]="ETHEREUM";e[e["POLYGON"]=137]="POLYGON";e[e["ARBITRUM"]=42161]="ARBITRUM";e[e["OPTIMISM"]=10]="OPTIMISM";e[e["BSC"]=56]="BSC";e[e["BSC_TESTNET"]=97]="BSC_TESTNET";e[e["GOERLI"]=5]="GOERLI";e[e["SEPOLIA"]=11155111]="SEPOLIA";e[e["KOVAN"]=42]="KOVAN";e[e["MUMBAI"]=80001]="MUMBAI";e[e["AVALANCH"]=43114]="AVALANCH";e[e["FANTOM"]=250]="FANTOM";e[e["KLAYTN"]=8217]="KLAYTN";e[e["BAOBAB"]=1001]="BAOBAB"})(ChainID||(ChainID={}));const CHAIN_MAP={[ChainID.ETHEREUM]:"eth",[ChainID.POLYGON]:"polygon",[ChainID.ARBITRUM]:"arbitrum",[ChainID.OPTIMISM]:"optimism",[ChainID.GOERLI]:"goerli",[ChainID.SEPOLIA]:"sepolia",[ChainID.KOVAN]:"kovan",[ChainID.BSC]:"bsc",[ChainID.MUMBAI]:"mumbai",[ChainID.AVALANCH]:"avalanche",[ChainID.FANTOM]:"fantom",[ChainID.KLAYTN]:"cypress",[ChainID.BAOBAB]:"baobab"};const CHAIN_NAME_MAP={[ChainID.ETHEREUM]:"Ethereum Mainnet",[ChainID.GOERLI]:"Goerli (Ethereum Testnet)",[ChainID.SEPOLIA]:"Sepolia (Ethereum Testnet)",[ChainID.POLYGON]:"Polygon",[ChainID.MUMBAI]:"Mumbai (Polygon Testnet)",[ChainID.ARBITRUM]:"Arbitrum",[ChainID.OPTIMISM]:"Optimism",[ChainID.BSC]:"Binance Smart Chain",[ChainID.AVALANCH]:"Avalanche",[ChainID.FANTOM]:"Fantom",[ChainID.KLAYTN]:"Cypress (Klaytn Mainnet)",[ChainID.BAOBAB]:"Baobab (Klaytn Testnet)"};const CHAIN_CONFIG={[ChainID.ETHEREUM]:{rpc:"https://eth-mainnet.g.alchemy.com/v2/2bJxn0VGXp9U5EOfA6CoMGU-rrd-BIIT",explorer:"https://etherscan.com/tx/"},[ChainID.GOERLI]:{rpc:"https://eth-goerli.g.alchemy.com/v2/yVhq9zPJorAWsw-F87fEabSUl7cCU6z4",explorer:"https://goerli.etherscan.io/tx/"},[ChainID.SEPOLIA]:{rpc:"https://sepolia.infura.io/v3/9f79b2f9274344af90b8d4e244b580ef",explorer:"https://sepolia.etherscan.io/tx/"},[ChainID.POLYGON]:{rpc:"https://polygon-rpc.com/",explorer:"https://polygonscan.com/tx/"},[ChainID.MUMBAI]:{rpc:"https://polygon-mumbai.g.alchemy.com/v2/rVI6pOV4irVsrw20cJxc1fxK_1cSeiY0",explorer:"https://mumbai.polygonscan.com/tx/"},[ChainID.BSC]:{rpc:"https://bsc-dataseed.binance.org/",explorer:"https://bscscan.com/tx/"},[ChainID.BSC_TESTNET]:{rpc:"https://data-seed-prebsc-1-s1.binance.org:8545",explorer:"https://testnet.bscscan.com/tx/"},[ChainID.AVALANCH]:{rpc:"https://api.avax.network/ext/bc/C/rpc",explorer:"https://cchain.explorer.avax.network/tx/"},[ChainID.FANTOM]:{rpc:"https://rpc.fantom.network/",explorer:"https://ftmscan.com/tx/"},[ChainID.ARBITRUM]:{rpc:"https://arb1.arbitrum.io/rpc",explorer:"https://arbiscan.io/tx/"},[ChainID.OPTIMISM]:{rpc:"https://mainnet.optimism.io",explorer:"https://optimistic.etherscan.io/tx/"},[ChainID.KLAYTN]:{rpc:"https://public-node-api.klaytnapi.com/v1/cypress",explorer:"https://scope.klaytn.com/tx/"},[ChainID.BAOBAB]:{rpc:"https://public-node-api.klaytnapi.com/v1/baobab",explorer:"https://baobab.scope.klaytn.com/tx/"}};const addSelectorCss=".source-container>button{display:block;margin:8px 0;width:100%;height:56px;border-radius:10px;border:1px solid rgba(157, 157, 157, 1);font-size:16px;background:#FFFEFE}.header{display:flex;align-items:center}.header>button{min-width:30px;height:40px;font-size:18px;font-weight:bold;background:none;padding-bottom:5px}.header>h4{margin:0}.form-container{display:flex;flex-direction:column;justify-content:space-between;height:240px}.form-container>button{height:55px}";const AddSelector=class{constructor(e){registerInstance(this,e);this.onFormSubmit=undefined;this.type=undefined}async openDialog(){this.type=null;await this.dialog.openDialog()}async closeDialog(){await this.dialog.closeDialog()}async submitForm(){const e=document.getElementById("add-form");if(!e.checkValidity())return;switch(this.type){case"resolve":const e=document.getElementById("contract-field").value;const t=parseInt(document.getElementById("chain-field").value);this.onFormSubmit("resolve",{tsId:t+"-"+e});break;case"url":const r=document.getElementById("url-field").value;this.onFormSubmit("url",{tsId:r});break;case"file":const n=await document.getElementById("file-field").getFile();this.onFormSubmit("file",{xml:n});break}}getTypeLabel(){return this.type.substring(0,1).toUpperCase()+this.type.substring(1)}render(){return h("popover-dialog",{ref:e=>this.dialog=e},!this.type?h("div",null,h("h3",null,"Add Token From"),h("div",{class:"source-container"},h("button",{class:"btn",onClick:()=>this.type="resolve"},"Contract Script"),h("button",{class:"btn",onClick:()=>this.type="url"},"URL"),h("button",{class:"btn",onClick:()=>this.type="file"},"XML File"))):"",this.type?h("div",{class:"form-view"},h("div",{class:"header"},h("button",{class:"btn",onClick:()=>{this.type=null}},"<"),h("h4",null,this.getTypeLabel())),h("form",{id:"add-form",class:"form-container",onSubmit:e=>{e.preventDefault();this.submitForm()}},this.type==="resolve"?h("div",null,h("input-field",{id:"contract-field",name:"contract",label:"Contract Address",type:"text",required:true,pattern:"^0x[a-fA-F0-9]{40}$"}),h("select-field",{id:"chain-field",name:"chain",label:"Chain",options:Object.entries(CHAIN_NAME_MAP).map((e=>({value:e[0],label:e[1]})))})):"",this.type==="url"?h("div",null,h("input-field",{id:"url-field",name:"url",label:"TokenScript URL",type:"url",required:true})):"",this.type==="file"?h("div",null,h("input-field",{id:"file-field",name:"file",label:"TokenScript XML",type:"file",required:true})):"",h("button",{class:"btn btn-primary"},"Load"))):"")}};AddSelector.style=addSelectorCss;class ScriptURI{constructor(e){this.context=e;this.IPFS_REPLACE_GATEWAYS=["ipfs://","https://ipfs.io/ipfs/","https://gateway.pinata.cloud/ipfs/"]}async getTokenScriptXml(e){const t=await this.context.getWalletAdapter();const[r,n]=e.split("-");if(!n||n.indexOf("0x")!==0)throw new Error("Not a ScriptUri ID");let i=await t.call(parseInt(r),n,"scriptURI",[],["string"]);if(!i)throw new Error("ScriptURI is not set on this contract or chain");console.log("Resolved ScriptURI: "+i);for(let e of this.IPFS_REPLACE_GATEWAYS){if(this.context.config.ipfsGateway.indexOf(e)===0){continue}if(i.indexOf(e)===0){i=i.replace(e,this.context.config.ipfsGateway);break}}let s=await fetch(i);if(s.status<200||s.status>299)throw new Error("HTTP Error: "+s.status);return{xml:await s.text(),sourceUrl:i}}}class TokenScriptRepo{async getTokenScriptXml(e){if(!e.match(/^[a-zA-Z0-9]*$/))throw new Error("Not a valid tsId for TokenScript repo");const t=TokenScriptRepo.REPO_URL+e+".tsml";let r=await fetch(t);if(r.status<200||r.status>299)throw new Error("HTTP Error: "+r.status);return{xml:await r.text(),sourceUrl:t}}}TokenScriptRepo.REPO_URL="https://raw.githubusercontent.com/AlphaWallet/TokenScript-Repo/master/aw.app/2020/06/";class Repo{constructor(e){this.context=e}async getTokenScript(e,t=false){let r;try{const t=localStorage.getItem("ts-"+e);r=JSON.parse(t)}catch(e){}if(t||!r||!r.xml||Date.now()>r.timestamp+Repo.REPO_TTL*1e3){r=await this.resolveTokenScript(e);r.timestamp=Date.now();this.saveTokenScript(e,r)}return r}async resolveTokenScript(e){for(let t of Repo.REPO_SOURCES){try{return await new t(this.context).getTokenScriptXml(e)}catch(e){console.log("Failed to resolve tokenscript using resolver: "+t.name)}}throw new Error("Could not resolve tokenscript with ID: "+e)}deleteTokenScript(e){localStorage.removeItem("ts-"+e)}saveTokenScript(e,t){localStorage.setItem("ts-"+e,JSON.stringify(t))}}Repo.REPO_SOURCES=[ScriptURI,TokenScriptRepo];Repo.REPO_TTL=3600;class TokenViewData{constructor(e,t){this.tokenScript=e;this.card=t}async getCurrentTokenData(e=false){var t,r,n;const i=this.tokenScript.getCurrentTokenContext();const s={};const f=this.tokenScript.getAttributes();for(let t of f){try{s[t.getName()]=await t.getJsonSafeValue(e)}catch(e){console.warn(e)}}const a=this.card.getAttributes();for(let t of a){try{s[t.getName()]=await t.getJsonSafeValue(e)}catch(e){console.warn(e)}}let o;if(i){const e=i.selectedTokenIndex!==undefined?i.tokenDetails[i.selectedTokenIndex]:null;o=Object.assign({name:(t=e===null||e===void 0?void 0:e.name)!==null&&t!==void 0?t:i.name,description:(r=e===null||e===void 0?void 0:e.description)!==null&&r!==void 0?r:i.description,label:i.name,symbol:i.symbol,_count:i.balance,contractAddress:i.collectionId,chainId:i.chainId,tokenId:i.selectedTokenId,ownerAddress:await this.getCurrentOwnerAddress(),image_preview_url:(n=e===null||e===void 0?void 0:e.image)!==null&&n!==void 0?n:i.image},s);if(e.data)o.tokenInfo=e.data}else{const e=this.tokenScript.getContracts(true);const t=e[Object.keys(e)[0]].getFirstAddress();o=Object.assign({name:this.tokenScript.getName(),label:this.tokenScript.getLabel(),contractAddress:t===null||t===void 0?void 0:t.address,chainId:t===null||t===void 0?void 0:t.chain,ownerAddress:await this.getCurrentOwnerAddress()},s)}return o}getViewDataId(){var e;if(!this.viewContainerId){this.viewContainerId="token-card-"+((e=this.tokenScript.getCurrentTokenContext())===null||e===void 0?void 0:e.selectedTokenId)}return this.viewContainerId}async getCurrentOwnerAddress(){const e=await this.tokenScript.getEngine().getWalletAdapter();return await e.getCurrentWalletAddress()}async getTokenJavascript(){var e;const t=await this.getCurrentTokenData();console.log("Loading view with data:");console.log(t);return`\n\n\t\tconst _currentTokenInstance = JSON.parse('${JSON.stringify(t).replace("^\\'","\\'")}');\n\n\t\tconst walletAddress = '${t.ownerAddress}'\n\t\tconst addressHex = "${t.ownerAddress}";\n\t\tconst rpcURL = "https://public-node-api.klaytnapi.com/v1/cypress"; // TODO: provide RPC URL\n\t\tconst chainID = "${t.chainId}";\n\n\t\twindow.web3CallBacks = {}\n\n\t\tfunction executeCallback (id, error, value) {\n\t\t\tconsole.debug('Execute callback: ' + id + ' ' + value)\n\t\t\twindow.web3CallBacks[id](error, value)\n\t\t\tdelete window.web3CallBacks[id]\n\t\t}\n\n\t\tweb3 = {\n\t\t\tpersonal: {\n\t\t\t\tsign: function (msgParams, cb) {\n\t\t\t\t\tconst { data } = msgParams\n\t\t\t\t\tconst { id = 8888 } = msgParams\n\t\t\t\t\twindow.web3CallBacks[id] = cb\n\t\t\t\t\talpha.signPersonalMessage(id, data);\n\t\t\t\t}\n\t\t\t},\n\t\t\ttokens: {\n\t\t\t\tdata: {\n\t\t\t\t\tcurrentInstance: {},\n\t\t\t\t},\n\t\t\t\tdataChanged: (prevTokens, newTokens, id) => {\n\t\t\t\t\tconsole.log('web3.tokens.data changed.')\n\t\t\t\t}\n\t\t\t},\n\t\t\taction: {\n\t\t\t\tsetProps: function (msgParams) {\n\t\t\t\t\talpha.setValues(JSON.stringify(msgParams));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tweb3.tokens.data.currentInstance = _currentTokenInstance\n\n\t\tfunction refresh() {\n\t\t   web3.tokens.dataChanged('test', web3.tokens.data, '${this.getViewDataId()}') //TODO: Cache previous value of token to feed into first arg\n\t\t}\n\n\t\twindow.onload = refresh;\n\n\t\tweb3.eth = {\n\t\twalletBalance: 0\n\t\t}\n\t\tweb3.eth_1 = {\n\t\twalletBalance: 0\n\t\t}\n\t\tweb3.eth_8217 = {\n\t\twalletBalance: 0\n\t\t}\n\n\t\tdocument.addEventListener("DOMContentLoaded", function() {\n\t\t\trefresh();\n\t\t});\n\n\t\t${(e=this.tokenScript.getViewBinding())===null||e===void 0?void 0:e.getViewBindingJavascript()}\n\n\t\t`}}var commonjsGlobal=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function createCommonjsModule$2(e,t,r){return r={path:t,exports:{},require:function(e,t){return commonjsRequire$2()}},e(r,r.exports),r.exports}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:true});Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:true,get:function(){return e[r]}})}));return t}function commonjsRequire$2(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}const _nodeResolve_empty={};const _nodeResolve_empty$1=Object.freeze({__proto__:null,default:_nodeResolve_empty});const require$$0$1=getAugmentedNamespace(_nodeResolve_empty$1);var bn$3=createCommonjsModule$2((function(e){(function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype;e.prototype=new r;e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e)){return e}this.negative=0;this.words=null;this.length=0;this.red=null;if(e!==null){if(t==="le"||t==="be"){r=t;t=10}this._init(e||0,t||10,r||"be")}}if(typeof e==="object"){e.exports=i}else{t.BN=i}i.BN=i;i.wordSize=26;var s;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined"){s=window.Buffer}else{s=require$$0$1.Buffer}}catch(e){}i.isBN=function e(t){if(t instanceof i){return true}return t!==null&&typeof t==="object"&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)};i.max=function e(t,r){if(t.cmp(r)>0)return t;return r};i.min=function e(t,r){if(t.cmp(r)<0)return t;return r};i.prototype._init=function e(t,n,i){if(typeof t==="number"){return this._initNumber(t,n,i)}if(typeof t==="object"){return this._initArray(t,n,i)}if(n==="hex"){n=16}r(n===(n|0)&&n>=2&&n<=36);t=t.toString().replace(/\s+/g,"");var s=0;if(t[0]==="-"){s++;this.negative=1}if(s<t.length){if(n===16){this._parseHex(t,s,i)}else{this._parseBase(t,n,s);if(i==="le"){this._initArray(this.toArray(),n,i)}}}};i.prototype._initNumber=function e(t,n,i){if(t<0){this.negative=1;t=-t}if(t<67108864){this.words=[t&67108863];this.length=1}else if(t<4503599627370496){this.words=[t&67108863,t/67108864&67108863];this.length=2}else{r(t<9007199254740992);this.words=[t&67108863,t/67108864&67108863,1];this.length=3}if(i!=="le")return;this._initArray(this.toArray(),n,i)};i.prototype._initArray=function e(t,n,i){r(typeof t.length==="number");if(t.length<=0){this.words=[0];this.length=1;return this}this.length=Math.ceil(t.length/3);this.words=new Array(this.length);for(var s=0;s<this.length;s++){this.words[s]=0}var f,a;var o=0;if(i==="be"){for(s=t.length-1,f=0;s>=0;s-=3){a=t[s]|t[s-1]<<8|t[s-2]<<16;this.words[f]|=a<<o&67108863;this.words[f+1]=a>>>26-o&67108863;o+=24;if(o>=26){o-=26;f++}}}else if(i==="le"){for(s=0,f=0;s<t.length;s+=3){a=t[s]|t[s+1]<<8|t[s+2]<<16;this.words[f]|=a<<o&67108863;this.words[f+1]=a>>>26-o&67108863;o+=24;if(o>=26){o-=26;f++}}}return this._strip()};function f(e,t){var n=e.charCodeAt(t);if(n>=48&&n<=57){return n-48}else if(n>=65&&n<=70){return n-55}else if(n>=97&&n<=102){return n-87}else{r(false,"Invalid character in "+e)}}function a(e,t,r){var n=f(e,r);if(r-1>=t){n|=f(e,r-1)<<4}return n}i.prototype._parseHex=function e(t,r,n){this.length=Math.ceil((t.length-r)/6);this.words=new Array(this.length);for(var i=0;i<this.length;i++){this.words[i]=0}var s=0;var f=0;var o;if(n==="be"){for(i=t.length-1;i>=r;i-=2){o=a(t,r,i)<<s;this.words[f]|=o&67108863;if(s>=18){s-=18;f+=1;this.words[f]|=o>>>26}else{s+=8}}}else{var c=t.length-r;for(i=c%2===0?r+1:r;i<t.length;i+=2){o=a(t,r,i)<<s;this.words[f]|=o&67108863;if(s>=18){s-=18;f+=1;this.words[f]|=o>>>26}else{s+=8}}}this._strip()};function o(e,t,n,i){var s=0;var f=0;var a=Math.min(e.length,n);for(var o=t;o<a;o++){var c=e.charCodeAt(o)-48;s*=i;if(c>=49){f=c-49+10}else if(c>=17){f=c-17+10}else{f=c}r(c>=0&&f<i,"Invalid character");s+=f}return s}i.prototype._parseBase=function e(t,r,n){this.words=[0];this.length=1;for(var i=0,s=1;s<=67108863;s*=r){i++}i--;s=s/r|0;var f=t.length-n;var a=f%i;var c=Math.min(f,f-a)+n;var u=0;for(var l=n;l<c;l+=i){u=o(t,l,l+i,r);this.imuln(s);if(this.words[0]+u<67108864){this.words[0]+=u}else{this._iaddn(u)}}if(a!==0){var h=1;u=o(t,l,t.length,r);for(l=0;l<a;l++){h*=r}this.imuln(h);if(this.words[0]+u<67108864){this.words[0]+=u}else{this._iaddn(u)}}this._strip()};i.prototype.copy=function e(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++){t.words[r]=this.words[r]}t.length=this.length;t.negative=this.negative;t.red=this.red};function c(e,t){e.words=t.words;e.length=t.length;e.negative=t.negative;e.red=t.red}i.prototype._move=function e(t){c(t,this)};i.prototype.clone=function e(){var t=new i(null);this.copy(t);return t};i.prototype._expand=function e(t){while(this.length<t){this.words[this.length++]=0}return this};i.prototype._strip=function e(){while(this.length>1&&this.words[this.length-1]===0){this.length--}return this._normSign()};i.prototype._normSign=function e(){if(this.length===1&&this.words[0]===0){this.negative=0}return this};if(typeof Symbol!=="undefined"&&typeof Symbol.for==="function"){try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch(e){i.prototype.inspect=u}}else{i.prototype.inspect=u}function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];var h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function e(t,n){t=t||10;n=n|0||1;var i;if(t===16||t==="hex"){i="";var s=0;var f=0;for(var a=0;a<this.length;a++){var o=this.words[a];var c=((o<<s|f)&16777215).toString(16);f=o>>>24-s&16777215;s+=2;if(s>=26){s-=26;a--}if(f!==0||a!==this.length-1){i=l[6-c.length]+c+i}else{i=c+i}}if(f!==0){i=f.toString(16)+i}while(i.length%n!==0){i="0"+i}if(this.negative!==0){i="-"+i}return i}if(t===(t|0)&&t>=2&&t<=36){var u=h[t];var p=d[t];i="";var y=this.clone();y.negative=0;while(!y.isZero()){var b=y.modrn(p).toString(t);y=y.idivn(p);if(!y.isZero()){i=l[u-b.length]+b+i}else{i=b+i}}if(this.isZero()){i="0"+i}while(i.length%n!==0){i="0"+i}if(this.negative!==0){i="-"+i}return i}r(false,"Base should be between 2 and 36")};i.prototype.toNumber=function e(){var t=this.words[0];if(this.length===2){t+=this.words[1]*67108864}else if(this.length===3&&this.words[2]===1){t+=4503599627370496+this.words[1]*67108864}else if(this.length>2){r(false,"Number can only safely store up to 53 bits")}return this.negative!==0?-t:t};i.prototype.toJSON=function e(){return this.toString(16,2)};if(s){i.prototype.toBuffer=function e(t,r){return this.toArrayLike(s,t,r)}}i.prototype.toArray=function e(t,r){return this.toArrayLike(Array,t,r)};var p=function e(t,r){if(t.allocUnsafe){return t.allocUnsafe(r)}return new t(r)};i.prototype.toArrayLike=function e(t,n,i){this._strip();var s=this.byteLength();var f=i||Math.max(1,s);r(s<=f,"byte array longer than desired length");r(f>0,"Requested array length <= 0");var a=p(t,f);var o=n==="le"?"LE":"BE";this["_toArrayLike"+o](a,s);return a};i.prototype._toArrayLikeLE=function e(t,r){var n=0;var i=0;for(var s=0,f=0;s<this.length;s++){var a=this.words[s]<<f|i;t[n++]=a&255;if(n<t.length){t[n++]=a>>8&255}if(n<t.length){t[n++]=a>>16&255}if(f===6){if(n<t.length){t[n++]=a>>24&255}i=0;f=0}else{i=a>>>24;f+=2}}if(n<t.length){t[n++]=i;while(n<t.length){t[n++]=0}}};i.prototype._toArrayLikeBE=function e(t,r){var n=t.length-1;var i=0;for(var s=0,f=0;s<this.length;s++){var a=this.words[s]<<f|i;t[n--]=a&255;if(n>=0){t[n--]=a>>8&255}if(n>=0){t[n--]=a>>16&255}if(f===6){if(n>=0){t[n--]=a>>24&255}i=0;f=0}else{i=a>>>24;f+=2}}if(n>=0){t[n--]=i;while(n>=0){t[n--]=0}}};if(Math.clz32){i.prototype._countBits=function e(t){return 32-Math.clz32(t)}}else{i.prototype._countBits=function e(t){var r=t;var n=0;if(r>=4096){n+=13;r>>>=13}if(r>=64){n+=7;r>>>=7}if(r>=8){n+=4;r>>>=4}if(r>=2){n+=2;r>>>=2}return n+r}}i.prototype._zeroBits=function e(t){if(t===0)return 26;var r=t;var n=0;if((r&8191)===0){n+=13;r>>>=13}if((r&127)===0){n+=7;r>>>=7}if((r&15)===0){n+=4;r>>>=4}if((r&3)===0){n+=2;r>>>=2}if((r&1)===0){n++}return n};i.prototype.bitLength=function e(){var t=this.words[this.length-1];var r=this._countBits(t);return(this.length-1)*26+r};function y(e){var t=new Array(e.bitLength());for(var r=0;r<t.length;r++){var n=r/26|0;var i=r%26;t[r]=e.words[n]>>>i&1}return t}i.prototype.zeroBits=function e(){if(this.isZero())return 0;var t=0;for(var r=0;r<this.length;r++){var n=this._zeroBits(this.words[r]);t+=n;if(n!==26)break}return t};i.prototype.byteLength=function e(){return Math.ceil(this.bitLength()/8)};i.prototype.toTwos=function e(t){if(this.negative!==0){return this.abs().inotn(t).iaddn(1)}return this.clone()};i.prototype.fromTwos=function e(t){if(this.testn(t-1)){return this.notn(t).iaddn(1).ineg()}return this.clone()};i.prototype.isNeg=function e(){return this.negative!==0};i.prototype.neg=function e(){return this.clone().ineg()};i.prototype.ineg=function e(){if(!this.isZero()){this.negative^=1}return this};i.prototype.iuor=function e(t){while(this.length<t.length){this.words[this.length++]=0}for(var r=0;r<t.length;r++){this.words[r]=this.words[r]|t.words[r]}return this._strip()};i.prototype.ior=function e(t){r((this.negative|t.negative)===0);return this.iuor(t)};i.prototype.or=function e(t){if(this.length>t.length)return this.clone().ior(t);return t.clone().ior(this)};i.prototype.uor=function e(t){if(this.length>t.length)return this.clone().iuor(t);return t.clone().iuor(this)};i.prototype.iuand=function e(t){var r;if(this.length>t.length){r=t}else{r=this}for(var n=0;n<r.length;n++){this.words[n]=this.words[n]&t.words[n]}this.length=r.length;return this._strip()};i.prototype.iand=function e(t){r((this.negative|t.negative)===0);return this.iuand(t)};i.prototype.and=function e(t){if(this.length>t.length)return this.clone().iand(t);return t.clone().iand(this)};i.prototype.uand=function e(t){if(this.length>t.length)return this.clone().iuand(t);return t.clone().iuand(this)};i.prototype.iuxor=function e(t){var r;var n;if(this.length>t.length){r=this;n=t}else{r=t;n=this}for(var i=0;i<n.length;i++){this.words[i]=r.words[i]^n.words[i]}if(this!==r){for(;i<r.length;i++){this.words[i]=r.words[i]}}this.length=r.length;return this._strip()};i.prototype.ixor=function e(t){r((this.negative|t.negative)===0);return this.iuxor(t)};i.prototype.xor=function e(t){if(this.length>t.length)return this.clone().ixor(t);return t.clone().ixor(this)};i.prototype.uxor=function e(t){if(this.length>t.length)return this.clone().iuxor(t);return t.clone().iuxor(this)};i.prototype.inotn=function e(t){r(typeof t==="number"&&t>=0);var n=Math.ceil(t/26)|0;var i=t%26;this._expand(n);if(i>0){n--}for(var s=0;s<n;s++){this.words[s]=~this.words[s]&67108863}if(i>0){this.words[s]=~this.words[s]&67108863>>26-i}return this._strip()};i.prototype.notn=function e(t){return this.clone().inotn(t)};i.prototype.setn=function e(t,n){r(typeof t==="number"&&t>=0);var i=t/26|0;var s=t%26;this._expand(i+1);if(n){this.words[i]=this.words[i]|1<<s}else{this.words[i]=this.words[i]&~(1<<s)}return this._strip()};i.prototype.iadd=function e(t){var r;if(this.negative!==0&&t.negative===0){this.negative=0;r=this.isub(t);this.negative^=1;return this._normSign()}else if(this.negative===0&&t.negative!==0){t.negative=0;r=this.isub(t);t.negative=1;return r._normSign()}var n,i;if(this.length>t.length){n=this;i=t}else{n=t;i=this}var s=0;for(var f=0;f<i.length;f++){r=(n.words[f]|0)+(i.words[f]|0)+s;this.words[f]=r&67108863;s=r>>>26}for(;s!==0&&f<n.length;f++){r=(n.words[f]|0)+s;this.words[f]=r&67108863;s=r>>>26}this.length=n.length;if(s!==0){this.words[this.length]=s;this.length++}else if(n!==this){for(;f<n.length;f++){this.words[f]=n.words[f]}}return this};i.prototype.add=function e(t){var r;if(t.negative!==0&&this.negative===0){t.negative=0;r=this.sub(t);t.negative^=1;return r}else if(t.negative===0&&this.negative!==0){this.negative=0;r=t.sub(this);this.negative=1;return r}if(this.length>t.length)return this.clone().iadd(t);return t.clone().iadd(this)};i.prototype.isub=function e(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);t.negative=1;return r._normSign()}else if(this.negative!==0){this.negative=0;this.iadd(t);this.negative=1;return this._normSign()}var n=this.cmp(t);if(n===0){this.negative=0;this.length=1;this.words[0]=0;return this}var i,s;if(n>0){i=this;s=t}else{i=t;s=this}var f=0;for(var a=0;a<s.length;a++){r=(i.words[a]|0)-(s.words[a]|0)+f;f=r>>26;this.words[a]=r&67108863}for(;f!==0&&a<i.length;a++){r=(i.words[a]|0)+f;f=r>>26;this.words[a]=r&67108863}if(f===0&&a<i.length&&i!==this){for(;a<i.length;a++){this.words[a]=i.words[a]}}this.length=Math.max(this.length,a);if(i!==this){this.negative=1}return this._strip()};i.prototype.sub=function e(t){return this.clone().isub(t)};function b(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n;n=n-1|0;var i=e.words[0]|0;var s=t.words[0]|0;var f=i*s;var a=f&67108863;var o=f/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){var u=o>>>26;var l=o&67108863;var h=Math.min(c,t.length-1);for(var d=Math.max(0,c-e.length+1);d<=h;d++){var p=c-d|0;i=e.words[p]|0;s=t.words[d]|0;f=i*s+l;u+=f/67108864|0;l=f&67108863}r.words[c]=l|0;o=u|0}if(o!==0){r.words[c]=o|0}else{r.length--}return r._strip()}var m=function e(t,r,n){var i=t.words;var s=r.words;var f=n.words;var a=0;var o;var c;var u;var l=i[0]|0;var h=l&8191;var d=l>>>13;var p=i[1]|0;var y=p&8191;var b=p>>>13;var m=i[2]|0;var g=m&8191;var v=m>>>13;var w=i[3]|0;var A=w&8191;var $=w>>>13;var _=i[4]|0;var E=_&8191;var S=_>>>13;var T=i[5]|0;var C=T&8191;var P=T>>>13;var x=i[6]|0;var I=x&8191;var k=x>>>13;var M=i[7]|0;var B=M&8191;var R=M>>>13;var N=i[8]|0;var D=N&8191;var O=N>>>13;var U=i[9]|0;var F=U&8191;var L=U>>>13;var j=s[0]|0;var H=j&8191;var K=j>>>13;var G=s[1]|0;var V=G&8191;var X=G>>>13;var W=s[2]|0;var z=W&8191;var Y=W>>>13;var J=s[3]|0;var q=J&8191;var Q=J>>>13;var Z=s[4]|0;var ee=Z&8191;var te=Z>>>13;var re=s[5]|0;var ne=re&8191;var ie=re>>>13;var se=s[6]|0;var fe=se&8191;var ae=se>>>13;var oe=s[7]|0;var ce=oe&8191;var ue=oe>>>13;var le=s[8]|0;var he=le&8191;var de=le>>>13;var pe=s[9]|0;var ye=pe&8191;var be=pe>>>13;n.negative=t.negative^r.negative;n.length=19;o=Math.imul(h,H);c=Math.imul(h,K);c=c+Math.imul(d,H)|0;u=Math.imul(d,K);var me=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(me>>>26)|0;me&=67108863;o=Math.imul(y,H);c=Math.imul(y,K);c=c+Math.imul(b,H)|0;u=Math.imul(b,K);o=o+Math.imul(h,V)|0;c=c+Math.imul(h,X)|0;c=c+Math.imul(d,V)|0;u=u+Math.imul(d,X)|0;var ge=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(ge>>>26)|0;ge&=67108863;o=Math.imul(g,H);c=Math.imul(g,K);c=c+Math.imul(v,H)|0;u=Math.imul(v,K);o=o+Math.imul(y,V)|0;c=c+Math.imul(y,X)|0;c=c+Math.imul(b,V)|0;u=u+Math.imul(b,X)|0;o=o+Math.imul(h,z)|0;c=c+Math.imul(h,Y)|0;c=c+Math.imul(d,z)|0;u=u+Math.imul(d,Y)|0;var ve=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(ve>>>26)|0;ve&=67108863;o=Math.imul(A,H);c=Math.imul(A,K);c=c+Math.imul($,H)|0;u=Math.imul($,K);o=o+Math.imul(g,V)|0;c=c+Math.imul(g,X)|0;c=c+Math.imul(v,V)|0;u=u+Math.imul(v,X)|0;o=o+Math.imul(y,z)|0;c=c+Math.imul(y,Y)|0;c=c+Math.imul(b,z)|0;u=u+Math.imul(b,Y)|0;o=o+Math.imul(h,q)|0;c=c+Math.imul(h,Q)|0;c=c+Math.imul(d,q)|0;u=u+Math.imul(d,Q)|0;var we=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(we>>>26)|0;we&=67108863;o=Math.imul(E,H);c=Math.imul(E,K);c=c+Math.imul(S,H)|0;u=Math.imul(S,K);o=o+Math.imul(A,V)|0;c=c+Math.imul(A,X)|0;c=c+Math.imul($,V)|0;u=u+Math.imul($,X)|0;o=o+Math.imul(g,z)|0;c=c+Math.imul(g,Y)|0;c=c+Math.imul(v,z)|0;u=u+Math.imul(v,Y)|0;o=o+Math.imul(y,q)|0;c=c+Math.imul(y,Q)|0;c=c+Math.imul(b,q)|0;u=u+Math.imul(b,Q)|0;o=o+Math.imul(h,ee)|0;c=c+Math.imul(h,te)|0;c=c+Math.imul(d,ee)|0;u=u+Math.imul(d,te)|0;var Ae=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ae>>>26)|0;Ae&=67108863;o=Math.imul(C,H);c=Math.imul(C,K);c=c+Math.imul(P,H)|0;u=Math.imul(P,K);o=o+Math.imul(E,V)|0;c=c+Math.imul(E,X)|0;c=c+Math.imul(S,V)|0;u=u+Math.imul(S,X)|0;o=o+Math.imul(A,z)|0;c=c+Math.imul(A,Y)|0;c=c+Math.imul($,z)|0;u=u+Math.imul($,Y)|0;o=o+Math.imul(g,q)|0;c=c+Math.imul(g,Q)|0;c=c+Math.imul(v,q)|0;u=u+Math.imul(v,Q)|0;o=o+Math.imul(y,ee)|0;c=c+Math.imul(y,te)|0;c=c+Math.imul(b,ee)|0;u=u+Math.imul(b,te)|0;o=o+Math.imul(h,ne)|0;c=c+Math.imul(h,ie)|0;c=c+Math.imul(d,ne)|0;u=u+Math.imul(d,ie)|0;var $e=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+($e>>>26)|0;$e&=67108863;o=Math.imul(I,H);c=Math.imul(I,K);c=c+Math.imul(k,H)|0;u=Math.imul(k,K);o=o+Math.imul(C,V)|0;c=c+Math.imul(C,X)|0;c=c+Math.imul(P,V)|0;u=u+Math.imul(P,X)|0;o=o+Math.imul(E,z)|0;c=c+Math.imul(E,Y)|0;c=c+Math.imul(S,z)|0;u=u+Math.imul(S,Y)|0;o=o+Math.imul(A,q)|0;c=c+Math.imul(A,Q)|0;c=c+Math.imul($,q)|0;u=u+Math.imul($,Q)|0;o=o+Math.imul(g,ee)|0;c=c+Math.imul(g,te)|0;c=c+Math.imul(v,ee)|0;u=u+Math.imul(v,te)|0;o=o+Math.imul(y,ne)|0;c=c+Math.imul(y,ie)|0;c=c+Math.imul(b,ne)|0;u=u+Math.imul(b,ie)|0;o=o+Math.imul(h,fe)|0;c=c+Math.imul(h,ae)|0;c=c+Math.imul(d,fe)|0;u=u+Math.imul(d,ae)|0;var _e=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(_e>>>26)|0;_e&=67108863;o=Math.imul(B,H);c=Math.imul(B,K);c=c+Math.imul(R,H)|0;u=Math.imul(R,K);o=o+Math.imul(I,V)|0;c=c+Math.imul(I,X)|0;c=c+Math.imul(k,V)|0;u=u+Math.imul(k,X)|0;o=o+Math.imul(C,z)|0;c=c+Math.imul(C,Y)|0;c=c+Math.imul(P,z)|0;u=u+Math.imul(P,Y)|0;o=o+Math.imul(E,q)|0;c=c+Math.imul(E,Q)|0;c=c+Math.imul(S,q)|0;u=u+Math.imul(S,Q)|0;o=o+Math.imul(A,ee)|0;c=c+Math.imul(A,te)|0;c=c+Math.imul($,ee)|0;u=u+Math.imul($,te)|0;o=o+Math.imul(g,ne)|0;c=c+Math.imul(g,ie)|0;c=c+Math.imul(v,ne)|0;u=u+Math.imul(v,ie)|0;o=o+Math.imul(y,fe)|0;c=c+Math.imul(y,ae)|0;c=c+Math.imul(b,fe)|0;u=u+Math.imul(b,ae)|0;o=o+Math.imul(h,ce)|0;c=c+Math.imul(h,ue)|0;c=c+Math.imul(d,ce)|0;u=u+Math.imul(d,ue)|0;var Ee=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ee>>>26)|0;Ee&=67108863;o=Math.imul(D,H);c=Math.imul(D,K);c=c+Math.imul(O,H)|0;u=Math.imul(O,K);o=o+Math.imul(B,V)|0;c=c+Math.imul(B,X)|0;c=c+Math.imul(R,V)|0;u=u+Math.imul(R,X)|0;o=o+Math.imul(I,z)|0;c=c+Math.imul(I,Y)|0;c=c+Math.imul(k,z)|0;u=u+Math.imul(k,Y)|0;o=o+Math.imul(C,q)|0;c=c+Math.imul(C,Q)|0;c=c+Math.imul(P,q)|0;u=u+Math.imul(P,Q)|0;o=o+Math.imul(E,ee)|0;c=c+Math.imul(E,te)|0;c=c+Math.imul(S,ee)|0;u=u+Math.imul(S,te)|0;o=o+Math.imul(A,ne)|0;c=c+Math.imul(A,ie)|0;c=c+Math.imul($,ne)|0;u=u+Math.imul($,ie)|0;o=o+Math.imul(g,fe)|0;c=c+Math.imul(g,ae)|0;c=c+Math.imul(v,fe)|0;u=u+Math.imul(v,ae)|0;o=o+Math.imul(y,ce)|0;c=c+Math.imul(y,ue)|0;c=c+Math.imul(b,ce)|0;u=u+Math.imul(b,ue)|0;o=o+Math.imul(h,he)|0;c=c+Math.imul(h,de)|0;c=c+Math.imul(d,he)|0;u=u+Math.imul(d,de)|0;var Se=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Se>>>26)|0;Se&=67108863;o=Math.imul(F,H);c=Math.imul(F,K);c=c+Math.imul(L,H)|0;u=Math.imul(L,K);o=o+Math.imul(D,V)|0;c=c+Math.imul(D,X)|0;c=c+Math.imul(O,V)|0;u=u+Math.imul(O,X)|0;o=o+Math.imul(B,z)|0;c=c+Math.imul(B,Y)|0;c=c+Math.imul(R,z)|0;u=u+Math.imul(R,Y)|0;o=o+Math.imul(I,q)|0;c=c+Math.imul(I,Q)|0;c=c+Math.imul(k,q)|0;u=u+Math.imul(k,Q)|0;o=o+Math.imul(C,ee)|0;c=c+Math.imul(C,te)|0;c=c+Math.imul(P,ee)|0;u=u+Math.imul(P,te)|0;o=o+Math.imul(E,ne)|0;c=c+Math.imul(E,ie)|0;c=c+Math.imul(S,ne)|0;u=u+Math.imul(S,ie)|0;o=o+Math.imul(A,fe)|0;c=c+Math.imul(A,ae)|0;c=c+Math.imul($,fe)|0;u=u+Math.imul($,ae)|0;o=o+Math.imul(g,ce)|0;c=c+Math.imul(g,ue)|0;c=c+Math.imul(v,ce)|0;u=u+Math.imul(v,ue)|0;o=o+Math.imul(y,he)|0;c=c+Math.imul(y,de)|0;c=c+Math.imul(b,he)|0;u=u+Math.imul(b,de)|0;o=o+Math.imul(h,ye)|0;c=c+Math.imul(h,be)|0;c=c+Math.imul(d,ye)|0;u=u+Math.imul(d,be)|0;var Te=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Te>>>26)|0;Te&=67108863;o=Math.imul(F,V);c=Math.imul(F,X);c=c+Math.imul(L,V)|0;u=Math.imul(L,X);o=o+Math.imul(D,z)|0;c=c+Math.imul(D,Y)|0;c=c+Math.imul(O,z)|0;u=u+Math.imul(O,Y)|0;o=o+Math.imul(B,q)|0;c=c+Math.imul(B,Q)|0;c=c+Math.imul(R,q)|0;u=u+Math.imul(R,Q)|0;o=o+Math.imul(I,ee)|0;c=c+Math.imul(I,te)|0;c=c+Math.imul(k,ee)|0;u=u+Math.imul(k,te)|0;o=o+Math.imul(C,ne)|0;c=c+Math.imul(C,ie)|0;c=c+Math.imul(P,ne)|0;u=u+Math.imul(P,ie)|0;o=o+Math.imul(E,fe)|0;c=c+Math.imul(E,ae)|0;c=c+Math.imul(S,fe)|0;u=u+Math.imul(S,ae)|0;o=o+Math.imul(A,ce)|0;c=c+Math.imul(A,ue)|0;c=c+Math.imul($,ce)|0;u=u+Math.imul($,ue)|0;o=o+Math.imul(g,he)|0;c=c+Math.imul(g,de)|0;c=c+Math.imul(v,he)|0;u=u+Math.imul(v,de)|0;o=o+Math.imul(y,ye)|0;c=c+Math.imul(y,be)|0;c=c+Math.imul(b,ye)|0;u=u+Math.imul(b,be)|0;var Ce=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ce>>>26)|0;Ce&=67108863;o=Math.imul(F,z);c=Math.imul(F,Y);c=c+Math.imul(L,z)|0;u=Math.imul(L,Y);o=o+Math.imul(D,q)|0;c=c+Math.imul(D,Q)|0;c=c+Math.imul(O,q)|0;u=u+Math.imul(O,Q)|0;o=o+Math.imul(B,ee)|0;c=c+Math.imul(B,te)|0;c=c+Math.imul(R,ee)|0;u=u+Math.imul(R,te)|0;o=o+Math.imul(I,ne)|0;c=c+Math.imul(I,ie)|0;c=c+Math.imul(k,ne)|0;u=u+Math.imul(k,ie)|0;o=o+Math.imul(C,fe)|0;c=c+Math.imul(C,ae)|0;c=c+Math.imul(P,fe)|0;u=u+Math.imul(P,ae)|0;o=o+Math.imul(E,ce)|0;c=c+Math.imul(E,ue)|0;c=c+Math.imul(S,ce)|0;u=u+Math.imul(S,ue)|0;o=o+Math.imul(A,he)|0;c=c+Math.imul(A,de)|0;c=c+Math.imul($,he)|0;u=u+Math.imul($,de)|0;o=o+Math.imul(g,ye)|0;c=c+Math.imul(g,be)|0;c=c+Math.imul(v,ye)|0;u=u+Math.imul(v,be)|0;var Pe=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Pe>>>26)|0;Pe&=67108863;o=Math.imul(F,q);c=Math.imul(F,Q);c=c+Math.imul(L,q)|0;u=Math.imul(L,Q);o=o+Math.imul(D,ee)|0;c=c+Math.imul(D,te)|0;c=c+Math.imul(O,ee)|0;u=u+Math.imul(O,te)|0;o=o+Math.imul(B,ne)|0;c=c+Math.imul(B,ie)|0;c=c+Math.imul(R,ne)|0;u=u+Math.imul(R,ie)|0;o=o+Math.imul(I,fe)|0;c=c+Math.imul(I,ae)|0;c=c+Math.imul(k,fe)|0;u=u+Math.imul(k,ae)|0;o=o+Math.imul(C,ce)|0;c=c+Math.imul(C,ue)|0;c=c+Math.imul(P,ce)|0;u=u+Math.imul(P,ue)|0;o=o+Math.imul(E,he)|0;c=c+Math.imul(E,de)|0;c=c+Math.imul(S,he)|0;u=u+Math.imul(S,de)|0;o=o+Math.imul(A,ye)|0;c=c+Math.imul(A,be)|0;c=c+Math.imul($,ye)|0;u=u+Math.imul($,be)|0;var xe=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(xe>>>26)|0;xe&=67108863;o=Math.imul(F,ee);c=Math.imul(F,te);c=c+Math.imul(L,ee)|0;u=Math.imul(L,te);o=o+Math.imul(D,ne)|0;c=c+Math.imul(D,ie)|0;c=c+Math.imul(O,ne)|0;u=u+Math.imul(O,ie)|0;o=o+Math.imul(B,fe)|0;c=c+Math.imul(B,ae)|0;c=c+Math.imul(R,fe)|0;u=u+Math.imul(R,ae)|0;o=o+Math.imul(I,ce)|0;c=c+Math.imul(I,ue)|0;c=c+Math.imul(k,ce)|0;u=u+Math.imul(k,ue)|0;o=o+Math.imul(C,he)|0;c=c+Math.imul(C,de)|0;c=c+Math.imul(P,he)|0;u=u+Math.imul(P,de)|0;o=o+Math.imul(E,ye)|0;c=c+Math.imul(E,be)|0;c=c+Math.imul(S,ye)|0;u=u+Math.imul(S,be)|0;var Ie=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ie>>>26)|0;Ie&=67108863;o=Math.imul(F,ne);c=Math.imul(F,ie);c=c+Math.imul(L,ne)|0;u=Math.imul(L,ie);o=o+Math.imul(D,fe)|0;c=c+Math.imul(D,ae)|0;c=c+Math.imul(O,fe)|0;u=u+Math.imul(O,ae)|0;o=o+Math.imul(B,ce)|0;c=c+Math.imul(B,ue)|0;c=c+Math.imul(R,ce)|0;u=u+Math.imul(R,ue)|0;o=o+Math.imul(I,he)|0;c=c+Math.imul(I,de)|0;c=c+Math.imul(k,he)|0;u=u+Math.imul(k,de)|0;o=o+Math.imul(C,ye)|0;c=c+Math.imul(C,be)|0;c=c+Math.imul(P,ye)|0;u=u+Math.imul(P,be)|0;var ke=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(ke>>>26)|0;ke&=67108863;o=Math.imul(F,fe);c=Math.imul(F,ae);c=c+Math.imul(L,fe)|0;u=Math.imul(L,ae);o=o+Math.imul(D,ce)|0;c=c+Math.imul(D,ue)|0;c=c+Math.imul(O,ce)|0;u=u+Math.imul(O,ue)|0;o=o+Math.imul(B,he)|0;c=c+Math.imul(B,de)|0;c=c+Math.imul(R,he)|0;u=u+Math.imul(R,de)|0;o=o+Math.imul(I,ye)|0;c=c+Math.imul(I,be)|0;c=c+Math.imul(k,ye)|0;u=u+Math.imul(k,be)|0;var Me=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Me>>>26)|0;Me&=67108863;o=Math.imul(F,ce);c=Math.imul(F,ue);c=c+Math.imul(L,ce)|0;u=Math.imul(L,ue);o=o+Math.imul(D,he)|0;c=c+Math.imul(D,de)|0;c=c+Math.imul(O,he)|0;u=u+Math.imul(O,de)|0;o=o+Math.imul(B,ye)|0;c=c+Math.imul(B,be)|0;c=c+Math.imul(R,ye)|0;u=u+Math.imul(R,be)|0;var Be=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Be>>>26)|0;Be&=67108863;o=Math.imul(F,he);c=Math.imul(F,de);c=c+Math.imul(L,he)|0;u=Math.imul(L,de);o=o+Math.imul(D,ye)|0;c=c+Math.imul(D,be)|0;c=c+Math.imul(O,ye)|0;u=u+Math.imul(O,be)|0;var Re=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Re>>>26)|0;Re&=67108863;o=Math.imul(F,ye);c=Math.imul(F,be);c=c+Math.imul(L,ye)|0;u=Math.imul(L,be);var Ne=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ne>>>26)|0;Ne&=67108863;f[0]=me;f[1]=ge;f[2]=ve;f[3]=we;f[4]=Ae;f[5]=$e;f[6]=_e;f[7]=Ee;f[8]=Se;f[9]=Te;f[10]=Ce;f[11]=Pe;f[12]=xe;f[13]=Ie;f[14]=ke;f[15]=Me;f[16]=Be;f[17]=Re;f[18]=Ne;if(a!==0){f[19]=a;n.length++}return n};if(!Math.imul){m=b}function g(e,t,r){r.negative=t.negative^e.negative;r.length=e.length+t.length;var n=0;var i=0;for(var s=0;s<r.length-1;s++){var f=i;i=0;var a=n&67108863;var o=Math.min(s,t.length-1);for(var c=Math.max(0,s-e.length+1);c<=o;c++){var u=s-c;var l=e.words[u]|0;var h=t.words[c]|0;var d=l*h;var p=d&67108863;f=f+(d/67108864|0)|0;p=p+a|0;a=p&67108863;f=f+(p>>>26)|0;i+=f>>>26;f&=67108863}r.words[s]=a;n=f;f=i}if(n!==0){r.words[s]=n}else{r.length--}return r._strip()}function v(e,t,r){return g(e,t,r)}i.prototype.mulTo=function e(t,r){var n;var i=this.length+t.length;if(this.length===10&&t.length===10){n=m(this,t,r)}else if(i<63){n=b(this,t,r)}else if(i<1024){n=g(this,t,r)}else{n=v(this,t,r)}return n};i.prototype.mul=function e(t){var r=new i(null);r.words=new Array(this.length+t.length);return this.mulTo(t,r)};i.prototype.mulf=function e(t){var r=new i(null);r.words=new Array(this.length+t.length);return v(this,t,r)};i.prototype.imul=function e(t){return this.clone().mulTo(t,this)};i.prototype.imuln=function e(t){var n=t<0;if(n)t=-t;r(typeof t==="number");r(t<67108864);var i=0;for(var s=0;s<this.length;s++){var f=(this.words[s]|0)*t;var a=(f&67108863)+(i&67108863);i>>=26;i+=f/67108864|0;i+=a>>>26;this.words[s]=a&67108863}if(i!==0){this.words[s]=i;this.length++}return n?this.ineg():this};i.prototype.muln=function e(t){return this.clone().imuln(t)};i.prototype.sqr=function e(){return this.mul(this)};i.prototype.isqr=function e(){return this.imul(this.clone())};i.prototype.pow=function e(t){var r=y(t);if(r.length===0)return new i(1);var n=this;for(var s=0;s<r.length;s++,n=n.sqr()){if(r[s]!==0)break}if(++s<r.length){for(var f=n.sqr();s<r.length;s++,f=f.sqr()){if(r[s]===0)continue;n=n.mul(f)}}return n};i.prototype.iushln=function e(t){r(typeof t==="number"&&t>=0);var n=t%26;var i=(t-n)/26;var s=67108863>>>26-n<<26-n;var f;if(n!==0){var a=0;for(f=0;f<this.length;f++){var o=this.words[f]&s;var c=(this.words[f]|0)-o<<n;this.words[f]=c|a;a=o>>>26-n}if(a){this.words[f]=a;this.length++}}if(i!==0){for(f=this.length-1;f>=0;f--){this.words[f+i]=this.words[f]}for(f=0;f<i;f++){this.words[f]=0}this.length+=i}return this._strip()};i.prototype.ishln=function e(t){r(this.negative===0);return this.iushln(t)};i.prototype.iushrn=function e(t,n,i){r(typeof t==="number"&&t>=0);var s;if(n){s=(n-n%26)/26}else{s=0}var f=t%26;var a=Math.min((t-f)/26,this.length);var o=67108863^67108863>>>f<<f;var c=i;s-=a;s=Math.max(0,s);if(c){for(var u=0;u<a;u++){c.words[u]=this.words[u]}c.length=a}if(a===0);else if(this.length>a){this.length-=a;for(u=0;u<this.length;u++){this.words[u]=this.words[u+a]}}else{this.words[0]=0;this.length=1}var l=0;for(u=this.length-1;u>=0&&(l!==0||u>=s);u--){var h=this.words[u]|0;this.words[u]=l<<26-f|h>>>f;l=h&o}if(c&&l!==0){c.words[c.length++]=l}if(this.length===0){this.words[0]=0;this.length=1}return this._strip()};i.prototype.ishrn=function e(t,n,i){r(this.negative===0);return this.iushrn(t,n,i)};i.prototype.shln=function e(t){return this.clone().ishln(t)};i.prototype.ushln=function e(t){return this.clone().iushln(t)};i.prototype.shrn=function e(t){return this.clone().ishrn(t)};i.prototype.ushrn=function e(t){return this.clone().iushrn(t)};i.prototype.testn=function e(t){r(typeof t==="number"&&t>=0);var n=t%26;var i=(t-n)/26;var s=1<<n;if(this.length<=i)return false;var f=this.words[i];return!!(f&s)};i.prototype.imaskn=function e(t){r(typeof t==="number"&&t>=0);var n=t%26;var i=(t-n)/26;r(this.negative===0,"imaskn works only with positive numbers");if(this.length<=i){return this}if(n!==0){i++}this.length=Math.min(i,this.length);if(n!==0){var s=67108863^67108863>>>n<<n;this.words[this.length-1]&=s}return this._strip()};i.prototype.maskn=function e(t){return this.clone().imaskn(t)};i.prototype.iaddn=function e(t){r(typeof t==="number");r(t<67108864);if(t<0)return this.isubn(-t);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<=t){this.words[0]=t-(this.words[0]|0);this.negative=0;return this}this.negative=0;this.isubn(t);this.negative=1;return this}return this._iaddn(t)};i.prototype._iaddn=function e(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++){this.words[r]-=67108864;if(r===this.length-1){this.words[r+1]=1}else{this.words[r+1]++}}this.length=Math.max(this.length,r+1);return this};i.prototype.isubn=function e(t){r(typeof t==="number");r(t<67108864);if(t<0)return this.iaddn(-t);if(this.negative!==0){this.negative=0;this.iaddn(t);this.negative=1;return this}this.words[0]-=t;if(this.length===1&&this.words[0]<0){this.words[0]=-this.words[0];this.negative=1}else{for(var n=0;n<this.length&&this.words[n]<0;n++){this.words[n]+=67108864;this.words[n+1]-=1}}return this._strip()};i.prototype.addn=function e(t){return this.clone().iaddn(t)};i.prototype.subn=function e(t){return this.clone().isubn(t)};i.prototype.iabs=function e(){this.negative=0;return this};i.prototype.abs=function e(){return this.clone().iabs()};i.prototype._ishlnsubmul=function e(t,n,i){var s=t.length+i;var f;this._expand(s);var a;var o=0;for(f=0;f<t.length;f++){a=(this.words[f+i]|0)+o;var c=(t.words[f]|0)*n;a-=c&67108863;o=(a>>26)-(c/67108864|0);this.words[f+i]=a&67108863}for(;f<this.length-i;f++){a=(this.words[f+i]|0)+o;o=a>>26;this.words[f+i]=a&67108863}if(o===0)return this._strip();r(o===-1);o=0;for(f=0;f<this.length;f++){a=-(this.words[f]|0)+o;o=a>>26;this.words[f]=a&67108863}this.negative=1;return this._strip()};i.prototype._wordDiv=function e(t,r){var n=this.length-t.length;var s=this.clone();var f=t;var a=f.words[f.length-1]|0;var o=this._countBits(a);n=26-o;if(n!==0){f=f.ushln(n);s.iushln(n);a=f.words[f.length-1]|0}var c=s.length-f.length;var u;if(r!=="mod"){u=new i(null);u.length=c+1;u.words=new Array(u.length);for(var l=0;l<u.length;l++){u.words[l]=0}}var h=s.clone()._ishlnsubmul(f,1,c);if(h.negative===0){s=h;if(u){u.words[c]=1}}for(var d=c-1;d>=0;d--){var p=(s.words[f.length+d]|0)*67108864+(s.words[f.length+d-1]|0);p=Math.min(p/a|0,67108863);s._ishlnsubmul(f,p,d);while(s.negative!==0){p--;s.negative=0;s._ishlnsubmul(f,1,d);if(!s.isZero()){s.negative^=1}}if(u){u.words[d]=p}}if(u){u._strip()}s._strip();if(r!=="div"&&n!==0){s.iushrn(n)}return{div:u||null,mod:s}};i.prototype.divmod=function e(t,n,s){r(!t.isZero());if(this.isZero()){return{div:new i(0),mod:new i(0)}}var f,a,o;if(this.negative!==0&&t.negative===0){o=this.neg().divmod(t,n);if(n!=="mod"){f=o.div.neg()}if(n!=="div"){a=o.mod.neg();if(s&&a.negative!==0){a.iadd(t)}}return{div:f,mod:a}}if(this.negative===0&&t.negative!==0){o=this.divmod(t.neg(),n);if(n!=="mod"){f=o.div.neg()}return{div:f,mod:o.mod}}if((this.negative&t.negative)!==0){o=this.neg().divmod(t.neg(),n);if(n!=="div"){a=o.mod.neg();if(s&&a.negative!==0){a.isub(t)}}return{div:o.div,mod:a}}if(t.length>this.length||this.cmp(t)<0){return{div:new i(0),mod:this}}if(t.length===1){if(n==="div"){return{div:this.divn(t.words[0]),mod:null}}if(n==="mod"){return{div:null,mod:new i(this.modrn(t.words[0]))}}return{div:this.divn(t.words[0]),mod:new i(this.modrn(t.words[0]))}}return this._wordDiv(t,n)};i.prototype.div=function e(t){return this.divmod(t,"div",false).div};i.prototype.mod=function e(t){return this.divmod(t,"mod",false).mod};i.prototype.umod=function e(t){return this.divmod(t,"mod",true).mod};i.prototype.divRound=function e(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var n=r.div.negative!==0?r.mod.isub(t):r.mod;var i=t.ushrn(1);var s=t.andln(1);var f=n.cmp(i);if(f<0||s===1&&f===0)return r.div;return r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)};i.prototype.modrn=function e(t){var n=t<0;if(n)t=-t;r(t<=67108863);var i=(1<<26)%t;var s=0;for(var f=this.length-1;f>=0;f--){s=(i*s+(this.words[f]|0))%t}return n?-s:s};i.prototype.modn=function e(t){return this.modrn(t)};i.prototype.idivn=function e(t){var n=t<0;if(n)t=-t;r(t<=67108863);var i=0;for(var s=this.length-1;s>=0;s--){var f=(this.words[s]|0)+i*67108864;this.words[s]=f/t|0;i=f%t}this._strip();return n?this.ineg():this};i.prototype.divn=function e(t){return this.clone().idivn(t)};i.prototype.egcd=function e(t){r(t.negative===0);r(!t.isZero());var n=this;var s=t.clone();if(n.negative!==0){n=n.umod(t)}else{n=n.clone()}var f=new i(1);var a=new i(0);var o=new i(0);var c=new i(1);var u=0;while(n.isEven()&&s.isEven()){n.iushrn(1);s.iushrn(1);++u}var l=s.clone();var h=n.clone();while(!n.isZero()){for(var d=0,p=1;(n.words[0]&p)===0&&d<26;++d,p<<=1);if(d>0){n.iushrn(d);while(d-- >0){if(f.isOdd()||a.isOdd()){f.iadd(l);a.isub(h)}f.iushrn(1);a.iushrn(1)}}for(var y=0,b=1;(s.words[0]&b)===0&&y<26;++y,b<<=1);if(y>0){s.iushrn(y);while(y-- >0){if(o.isOdd()||c.isOdd()){o.iadd(l);c.isub(h)}o.iushrn(1);c.iushrn(1)}}if(n.cmp(s)>=0){n.isub(s);f.isub(o);a.isub(c)}else{s.isub(n);o.isub(f);c.isub(a)}}return{a:o,b:c,gcd:s.iushln(u)}};i.prototype._invmp=function e(t){r(t.negative===0);r(!t.isZero());var n=this;var s=t.clone();if(n.negative!==0){n=n.umod(t)}else{n=n.clone()}var f=new i(1);var a=new i(0);var o=s.clone();while(n.cmpn(1)>0&&s.cmpn(1)>0){for(var c=0,u=1;(n.words[0]&u)===0&&c<26;++c,u<<=1);if(c>0){n.iushrn(c);while(c-- >0){if(f.isOdd()){f.iadd(o)}f.iushrn(1)}}for(var l=0,h=1;(s.words[0]&h)===0&&l<26;++l,h<<=1);if(l>0){s.iushrn(l);while(l-- >0){if(a.isOdd()){a.iadd(o)}a.iushrn(1)}}if(n.cmp(s)>=0){n.isub(s);f.isub(a)}else{s.isub(n);a.isub(f)}}var d;if(n.cmpn(1)===0){d=f}else{d=a}if(d.cmpn(0)<0){d.iadd(t)}return d};i.prototype.gcd=function e(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone();var n=t.clone();r.negative=0;n.negative=0;for(var i=0;r.isEven()&&n.isEven();i++){r.iushrn(1);n.iushrn(1)}do{while(r.isEven()){r.iushrn(1)}while(n.isEven()){n.iushrn(1)}var s=r.cmp(n);if(s<0){var f=r;r=n;n=f}else if(s===0||n.cmpn(1)===0){break}r.isub(n)}while(true);return n.iushln(i)};i.prototype.invm=function e(t){return this.egcd(t).a.umod(t)};i.prototype.isEven=function e(){return(this.words[0]&1)===0};i.prototype.isOdd=function e(){return(this.words[0]&1)===1};i.prototype.andln=function e(t){return this.words[0]&t};i.prototype.bincn=function e(t){r(typeof t==="number");var n=t%26;var i=(t-n)/26;var s=1<<n;if(this.length<=i){this._expand(i+1);this.words[i]|=s;return this}var f=s;for(var a=i;f!==0&&a<this.length;a++){var o=this.words[a]|0;o+=f;f=o>>>26;o&=67108863;this.words[a]=o}if(f!==0){this.words[a]=f;this.length++}return this};i.prototype.isZero=function e(){return this.length===1&&this.words[0]===0};i.prototype.cmpn=function e(t){var n=t<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this._strip();var i;if(this.length>1){i=1}else{if(n){t=-t}r(t<=67108863,"Number is too big");var s=this.words[0]|0;i=s===t?0:s<t?-1:1}if(this.negative!==0)return-i|0;return i};i.prototype.cmp=function e(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);if(this.negative!==0)return-r|0;return r};i.prototype.ucmp=function e(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;var r=0;for(var n=this.length-1;n>=0;n--){var i=this.words[n]|0;var s=t.words[n]|0;if(i===s)continue;if(i<s){r=-1}else if(i>s){r=1}break}return r};i.prototype.gtn=function e(t){return this.cmpn(t)===1};i.prototype.gt=function e(t){return this.cmp(t)===1};i.prototype.gten=function e(t){return this.cmpn(t)>=0};i.prototype.gte=function e(t){return this.cmp(t)>=0};i.prototype.ltn=function e(t){return this.cmpn(t)===-1};i.prototype.lt=function e(t){return this.cmp(t)===-1};i.prototype.lten=function e(t){return this.cmpn(t)<=0};i.prototype.lte=function e(t){return this.cmp(t)<=0};i.prototype.eqn=function e(t){return this.cmpn(t)===0};i.prototype.eq=function e(t){return this.cmp(t)===0};i.red=function e(t){return new T(t)};i.prototype.toRed=function e(t){r(!this.red,"Already a number in reduction context");r(this.negative===0,"red works only with positives");return t.convertTo(this)._forceRed(t)};i.prototype.fromRed=function e(){r(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};i.prototype._forceRed=function e(t){this.red=t;return this};i.prototype.forceRed=function e(t){r(!this.red,"Already a number in reduction context");return this._forceRed(t)};i.prototype.redAdd=function e(t){r(this.red,"redAdd works only with red numbers");return this.red.add(this,t)};i.prototype.redIAdd=function e(t){r(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,t)};i.prototype.redSub=function e(t){r(this.red,"redSub works only with red numbers");return this.red.sub(this,t)};i.prototype.redISub=function e(t){r(this.red,"redISub works only with red numbers");return this.red.isub(this,t)};i.prototype.redShl=function e(t){r(this.red,"redShl works only with red numbers");return this.red.shl(this,t)};i.prototype.redMul=function e(t){r(this.red,"redMul works only with red numbers");this.red._verify2(this,t);return this.red.mul(this,t)};i.prototype.redIMul=function e(t){r(this.red,"redMul works only with red numbers");this.red._verify2(this,t);return this.red.imul(this,t)};i.prototype.redSqr=function e(){r(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};i.prototype.redISqr=function e(){r(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};i.prototype.redSqrt=function e(){r(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};i.prototype.redInvm=function e(){r(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};i.prototype.redNeg=function e(){r(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};i.prototype.redPow=function e(t){r(this.red&&!t.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function A(e,t){this.name=e;this.p=new i(t,16);this.n=this.p.bitLength();this.k=new i(1).iushln(this.n).isub(this.p);this.tmp=this._tmp()}A.prototype._tmp=function e(){var t=new i(null);t.words=new Array(Math.ceil(this.n/13));return t};A.prototype.ireduce=function e(t){var r=t;var n;do{this.split(r,this.tmp);r=this.imulK(r);r=r.iadd(this.tmp);n=r.bitLength()}while(n>this.n);var i=n<this.n?-1:r.ucmp(this.p);if(i===0){r.words[0]=0;r.length=1}else if(i>0){r.isub(this.p)}else{if(r.strip!==undefined){r.strip()}else{r._strip()}}return r};A.prototype.split=function e(t,r){t.iushrn(this.n,0,r)};A.prototype.imulK=function e(t){return t.imul(this.k)};function $(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n($,A);$.prototype.split=function e(t,r){var n=4194303;var i=Math.min(t.length,9);for(var s=0;s<i;s++){r.words[s]=t.words[s]}r.length=i;if(t.length<=9){t.words[0]=0;t.length=1;return}var f=t.words[9];r.words[r.length++]=f&n;for(s=10;s<t.length;s++){var a=t.words[s]|0;t.words[s-10]=(a&n)<<4|f>>>22;f=a}f>>>=22;t.words[s-10]=f;if(f===0&&t.length>10){t.length-=10}else{t.length-=9}};$.prototype.imulK=function e(t){t.words[t.length]=0;t.words[t.length+1]=0;t.length+=2;var r=0;for(var n=0;n<t.length;n++){var i=t.words[n]|0;r+=i*977;t.words[n]=r&67108863;r=i*64+(r/67108864|0)}if(t.words[t.length-1]===0){t.length--;if(t.words[t.length-1]===0){t.length--}}return t};function _(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(_,A);function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(E,A);function S(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(S,A);S.prototype.imulK=function e(t){var r=0;for(var n=0;n<t.length;n++){var i=(t.words[n]|0)*19+r;var s=i&67108863;i>>>=26;t.words[n]=s;r=i}if(r!==0){t.words[t.length++]=r}return t};i._prime=function e(t){if(w[t])return w[t];var e;if(t==="k256"){e=new $}else if(t==="p224"){e=new _}else if(t==="p192"){e=new E}else if(t==="p25519"){e=new S}else{throw new Error("Unknown prime "+t)}w[t]=e;return e};function T(e){if(typeof e==="string"){var t=i._prime(e);this.m=t.p;this.prime=t}else{r(e.gtn(1),"modulus must be greater than 1");this.m=e;this.prime=null}}T.prototype._verify1=function e(t){r(t.negative===0,"red works only with positives");r(t.red,"red works only with red numbers")};T.prototype._verify2=function e(t,n){r((t.negative|n.negative)===0,"red works only with positives");r(t.red&&t.red===n.red,"red works only with red numbers")};T.prototype.imod=function e(t){if(this.prime)return this.prime.ireduce(t)._forceRed(this);c(t,t.umod(this.m)._forceRed(this));return t};T.prototype.neg=function e(t){if(t.isZero()){return t.clone()}return this.m.sub(t)._forceRed(this)};T.prototype.add=function e(t,r){this._verify2(t,r);var n=t.add(r);if(n.cmp(this.m)>=0){n.isub(this.m)}return n._forceRed(this)};T.prototype.iadd=function e(t,r){this._verify2(t,r);var n=t.iadd(r);if(n.cmp(this.m)>=0){n.isub(this.m)}return n};T.prototype.sub=function e(t,r){this._verify2(t,r);var n=t.sub(r);if(n.cmpn(0)<0){n.iadd(this.m)}return n._forceRed(this)};T.prototype.isub=function e(t,r){this._verify2(t,r);var n=t.isub(r);if(n.cmpn(0)<0){n.iadd(this.m)}return n};T.prototype.shl=function e(t,r){this._verify1(t);return this.imod(t.ushln(r))};T.prototype.imul=function e(t,r){this._verify2(t,r);return this.imod(t.imul(r))};T.prototype.mul=function e(t,r){this._verify2(t,r);return this.imod(t.mul(r))};T.prototype.isqr=function e(t){return this.imul(t,t.clone())};T.prototype.sqr=function e(t){return this.mul(t,t)};T.prototype.sqrt=function e(t){if(t.isZero())return t.clone();var n=this.m.andln(3);r(n%2===1);if(n===3){var s=this.m.add(new i(1)).iushrn(2);return this.pow(t,s)}var f=this.m.subn(1);var a=0;while(!f.isZero()&&f.andln(1)===0){a++;f.iushrn(1)}r(!f.isZero());var o=new i(1).toRed(this);var c=o.redNeg();var u=this.m.subn(1).iushrn(1);var l=this.m.bitLength();l=new i(2*l*l).toRed(this);while(this.pow(l,u).cmp(c)!==0){l.redIAdd(c)}var h=this.pow(l,f);var d=this.pow(t,f.addn(1).iushrn(1));var p=this.pow(t,f);var y=a;while(p.cmp(o)!==0){var b=p;for(var m=0;b.cmp(o)!==0;m++){b=b.redSqr()}r(m<y);var g=this.pow(h,new i(1).iushln(y-m-1));d=d.redMul(g);h=g.redSqr();p=p.redMul(h);y=m}return d};T.prototype.invm=function e(t){var r=t._invmp(this.m);if(r.negative!==0){r.negative=0;return this.imod(r).redNeg()}else{return this.imod(r)}};T.prototype.pow=function e(t,r){if(r.isZero())return new i(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var n=4;var s=new Array(1<<n);s[0]=new i(1).toRed(this);s[1]=t;for(var f=2;f<s.length;f++){s[f]=this.mul(s[f-1],t)}var a=s[0];var o=0;var c=0;var u=r.bitLength()%26;if(u===0){u=26}for(f=r.length-1;f>=0;f--){var l=r.words[f];for(var h=u-1;h>=0;h--){var d=l>>h&1;if(a!==s[0]){a=this.sqr(a)}if(d===0&&o===0){c=0;continue}o<<=1;o|=d;c++;if(c!==n&&(f!==0||h!==0))continue;a=this.mul(a,s[o]);c=0;o=0}u=26}return a};T.prototype.convertTo=function e(t){var r=t.umod(this.m);return r===t?r.clone():r};T.prototype.convertFrom=function e(t){var r=t.clone();r.red=null;return r};i.mont=function e(t){return new C(t)};function C(e){T.call(this,e);this.shift=this.m.bitLength();if(this.shift%26!==0){this.shift+=26-this.shift%26}this.r=new i(1).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}n(C,T);C.prototype.convertTo=function e(t){return this.imod(t.ushln(this.shift))};C.prototype.convertFrom=function e(t){var r=this.imod(t.mul(this.rinv));r.red=null;return r};C.prototype.imul=function e(t,r){if(t.isZero()||r.isZero()){t.words[0]=0;t.length=1;return t}var n=t.imul(r);var i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var s=n.isub(i).iushrn(this.shift);var f=s;if(s.cmp(this.m)>=0){f=s.isub(this.m)}else if(s.cmpn(0)<0){f=s.iadd(this.m)}return f._forceRed(this)};C.prototype.mul=function e(t,r){if(t.isZero()||r.isZero())return new i(0)._forceRed(this);var n=t.mul(r);var s=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var f=n.isub(s).iushrn(this.shift);var a=f;if(f.cmp(this.m)>=0){a=f.isub(this.m)}else if(f.cmpn(0)<0){a=f.iadd(this.m)}return a._forceRed(this)};C.prototype.invm=function e(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(e,commonjsGlobal)}));const version$P="logger/5.7.0";let _permanentCensorErrors$1=false;let _censorErrors$1=false;const LogLevels$1={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$1=LogLevels$1["default"];let _globalLogger$1=null;function _checkNormalize$1(){try{const e=[];["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test".normalize(t)!=="test"){throw new Error("bad normalize")}}catch(r){e.push(t)}}));if(e.length){throw new Error("missing "+e.join(", "))}if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769)){throw new Error("broken implementation")}}catch(e){return e.message}return null}const _normalizeError$1=_checkNormalize$1();var LogLevel$1;(function(e){e["DEBUG"]="DEBUG";e["INFO"]="INFO";e["WARNING"]="WARNING";e["ERROR"]="ERROR";e["OFF"]="OFF"})(LogLevel$1||(LogLevel$1={}));var ErrorCode$1;(function(e){e["UNKNOWN_ERROR"]="UNKNOWN_ERROR";e["NOT_IMPLEMENTED"]="NOT_IMPLEMENTED";e["UNSUPPORTED_OPERATION"]="UNSUPPORTED_OPERATION";e["NETWORK_ERROR"]="NETWORK_ERROR";e["SERVER_ERROR"]="SERVER_ERROR";e["TIMEOUT"]="TIMEOUT";e["BUFFER_OVERRUN"]="BUFFER_OVERRUN";e["NUMERIC_FAULT"]="NUMERIC_FAULT";e["MISSING_NEW"]="MISSING_NEW";e["INVALID_ARGUMENT"]="INVALID_ARGUMENT";e["MISSING_ARGUMENT"]="MISSING_ARGUMENT";e["UNEXPECTED_ARGUMENT"]="UNEXPECTED_ARGUMENT";e["CALL_EXCEPTION"]="CALL_EXCEPTION";e["INSUFFICIENT_FUNDS"]="INSUFFICIENT_FUNDS";e["NONCE_EXPIRED"]="NONCE_EXPIRED";e["REPLACEMENT_UNDERPRICED"]="REPLACEMENT_UNDERPRICED";e["UNPREDICTABLE_GAS_LIMIT"]="UNPREDICTABLE_GAS_LIMIT";e["TRANSACTION_REPLACED"]="TRANSACTION_REPLACED";e["ACTION_REJECTED"]="ACTION_REJECTED"})(ErrorCode$1||(ErrorCode$1={}));const HEX$1="0123456789abcdef";class Logger$1{constructor(e){Object.defineProperty(this,"version",{enumerable:true,value:e,writable:false})}_log(e,t){const r=e.toLowerCase();if(LogLevels$1[r]==null){this.throwArgumentError("invalid log level name","logLevel",e)}if(_logLevel$1>LogLevels$1[r]){return}console.log.apply(console,t)}debug(...e){this._log(Logger$1.levels.DEBUG,e)}info(...e){this._log(Logger$1.levels.INFO,e)}warn(...e){this._log(Logger$1.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors$1){return this.makeError("censored error",t,{})}if(!t){t=Logger$1.errors.UNKNOWN_ERROR}if(!r){r={}}const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++){r+=HEX$1[t[e]>>4];r+=HEX$1[t[e]&15]}n.push(e+"=Uint8Array(0x"+r+")")}else{n.push(e+"="+JSON.stringify(t))}}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}}));n.push(`code=${t}`);n.push(`version=${this.version}`);const i=e;let s="";switch(t){case ErrorCode$1.NUMERIC_FAULT:{s="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":s+="-"+t;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case ErrorCode$1.CALL_EXCEPTION:case ErrorCode$1.INSUFFICIENT_FUNDS:case ErrorCode$1.MISSING_NEW:case ErrorCode$1.NONCE_EXPIRED:case ErrorCode$1.REPLACEMENT_UNDERPRICED:case ErrorCode$1.TRANSACTION_REPLACED:case ErrorCode$1.UNPREDICTABLE_GAS_LIMIT:s=t;break}if(s){e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"}if(n.length){e+=" ("+n.join(", ")+")"}const f=new Error(e);f.reason=i;f.code=t;Object.keys(r).forEach((function(e){f[e]=r[e]}));return f}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger$1.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){if(!!e){return}this.throwError(t,r,n)}assertArgument(e,t,r,n){if(!!e){return}this.throwArgumentError(t,r,n)}checkNormalize(e){if(_normalizeError$1){this.throwError("platform missing String.prototype.normalize",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$1})}}checkSafeUint53(e,t){if(typeof e!=="number"){return}if(t==null){t="value not safe"}if(e<0||e>=9007199254740991){this.throwError(t,Logger$1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e})}if(e%1){this.throwError(t,Logger$1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e})}}checkArgumentCount(e,t,r){if(r){r=": "+r}else{r=""}if(e<t){this.throwError("missing argument"+r,Logger$1.errors.MISSING_ARGUMENT,{count:e,expectedCount:t})}if(e>t){this.throwError("too many arguments"+r,Logger$1.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}}checkNew(e,t){if(e===Object||e==null){this.throwError("missing new",Logger$1.errors.MISSING_NEW,{name:t.name})}}checkAbstract(e,t){if(e===t){this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger$1.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"})}else if(e===Object||e==null){this.throwError("missing new",Logger$1.errors.MISSING_NEW,{name:t.name})}}static globalLogger(){if(!_globalLogger$1){_globalLogger$1=new Logger$1(version$P)}return _globalLogger$1}static setCensorship(e,t){if(!e&&t){this.globalLogger().throwError("cannot permanently disable censorship",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}if(_permanentCensorErrors$1){if(!e){return}this.globalLogger().throwError("error censorship permanent",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$1=!!e;_permanentCensorErrors$1=!!t}static setLogLevel(e){const t=LogLevels$1[e.toLowerCase()];if(t==null){Logger$1.globalLogger().warn("invalid log level - "+e);return}_logLevel$1=t}static from(e){return new Logger$1(e)}}Logger$1.errors=ErrorCode$1;Logger$1.levels=LogLevel$1;const lib_esm$l=Object.freeze({__proto__:null,get LogLevel(){return LogLevel$1},get ErrorCode(){return ErrorCode$1},Logger:Logger$1});const version$O="bytes/5.7.0";const logger$1r=new Logger$1(version$O);function isHexable$1(e){return!!e.toHexString}function addSlice$1(e){if(e.slice){return e}e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice$1(new Uint8Array(Array.prototype.slice.apply(e,t)))};return e}function isBytesLike$1(e){return isHexString$1(e)&&!(e.length%2)||isBytes$1(e)}function isInteger$1(e){return typeof e==="number"&&e==e&&e%1===0}function isBytes$1(e){if(e==null){return false}if(e.constructor===Uint8Array){return true}if(typeof e==="string"){return false}if(!isInteger$1(e.length)||e.length<0){return false}for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger$1(r)||r<0||r>=256){return false}}return true}function arrayify$2(e,t){if(!t){t={}}if(typeof e==="number"){logger$1r.checkSafeUint53(e,"invalid arrayify value");const t=[];while(e){t.unshift(e&255);e=parseInt(String(e/256))}if(t.length===0){t.push(0)}return addSlice$1(new Uint8Array(t))}if(t.allowMissingPrefix&&typeof e==="string"&&e.substring(0,2)!=="0x"){e="0x"+e}if(isHexable$1(e)){e=e.toHexString()}if(isHexString$1(e)){let r=e.substring(2);if(r.length%2){if(t.hexPad==="left"){r="0"+r}else if(t.hexPad==="right"){r+="0"}else{logger$1r.throwArgumentError("hex data is odd-length","value",e)}}const n=[];for(let e=0;e<r.length;e+=2){n.push(parseInt(r.substring(e,e+2),16))}return addSlice$1(new Uint8Array(n))}if(isBytes$1(e)){return addSlice$1(new Uint8Array(e))}return logger$1r.throwArgumentError("invalid arrayify value","value",e)}function concat$5(e){const t=e.map((e=>arrayify$2(e)));const r=t.reduce(((e,t)=>e+t.length),0);const n=new Uint8Array(r);t.reduce(((e,t)=>{n.set(t,e);return e+t.length}),0);return addSlice$1(n)}function stripZeros$1(e){let t=arrayify$2(e);if(t.length===0){return t}let r=0;while(r<t.length&&t[r]===0){r++}if(r){t=t.slice(r)}return t}function zeroPad$1(e,t){e=arrayify$2(e);if(e.length>t){logger$1r.throwArgumentError("value out of range","value",arguments[0])}const r=new Uint8Array(t);r.set(e,t-e.length);return addSlice$1(r)}function isHexString$1(e,t){if(typeof e!=="string"||!e.match(/^0x[0-9A-Fa-f]*$/)){return false}if(t&&e.length!==2+2*t){return false}return true}const HexCharacters$1="0123456789abcdef";function hexlify$1(e,t){if(!t){t={}}if(typeof e==="number"){logger$1r.checkSafeUint53(e,"invalid hexlify value");let t="";while(e){t=HexCharacters$1[e&15]+t;e=Math.floor(e/16)}if(t.length){if(t.length%2){t="0"+t}return"0x"+t}return"0x00"}if(typeof e==="bigint"){e=e.toString(16);if(e.length%2){return"0x0"+e}return"0x"+e}if(t.allowMissingPrefix&&typeof e==="string"&&e.substring(0,2)!=="0x"){e="0x"+e}if(isHexable$1(e)){return e.toHexString()}if(isHexString$1(e)){if(e.length%2){if(t.hexPad==="left"){e="0x0"+e.substring(2)}else if(t.hexPad==="right"){e+="0"}else{logger$1r.throwArgumentError("hex data is odd-length","value",e)}}return e.toLowerCase()}if(isBytes$1(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=HexCharacters$1[(n&240)>>4]+HexCharacters$1[n&15]}return t}return logger$1r.throwArgumentError("invalid hexlify value","value",e)}function hexDataLength$1(e){if(typeof e!=="string"){e=hexlify$1(e)}else if(!isHexString$1(e)||e.length%2){return null}return(e.length-2)/2}function hexDataSlice$1(e,t,r){if(typeof e!=="string"){e=hexlify$1(e)}else if(!isHexString$1(e)||e.length%2){logger$1r.throwArgumentError("invalid hexData","value",e)}t=2+2*t;if(r!=null){return"0x"+e.substring(t,2+2*r)}return"0x"+e.substring(t)}function hexConcat$1(e){let t="0x";e.forEach((e=>{t+=hexlify$1(e).substring(2)}));return t}function hexValue$1(e){const t=hexStripZeros$1(hexlify$1(e,{hexPad:"left"}));if(t==="0x"){return"0x0"}return t}function hexStripZeros$1(e){if(typeof e!=="string"){e=hexlify$1(e)}if(!isHexString$1(e)){logger$1r.throwArgumentError("invalid hex string","value",e)}e=e.substring(2);let t=0;while(t<e.length&&e[t]==="0"){t++}return"0x"+e.substring(t)}function hexZeroPad$1(e,t){if(typeof e!=="string"){e=hexlify$1(e)}else if(!isHexString$1(e)){logger$1r.throwArgumentError("invalid hex string","value",e)}if(e.length>2*t+2){logger$1r.throwArgumentError("value out of range","value",arguments[1])}while(e.length<2*t+2){e="0x0"+e.substring(2)}return e}function splitSignature$1(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike$1(e)){let r=arrayify$2(e);if(r.length===64){t.v=27+(r[32]>>7);r[32]&=127;t.r=hexlify$1(r.slice(0,32));t.s=hexlify$1(r.slice(32,64))}else if(r.length===65){t.r=hexlify$1(r.slice(0,32));t.s=hexlify$1(r.slice(32,64));t.v=r[64]}else{logger$1r.throwArgumentError("invalid signature string","signature",e)}if(t.v<27){if(t.v===0||t.v===1){t.v+=27}else{logger$1r.throwArgumentError("signature invalid v byte","signature",e)}}t.recoveryParam=1-t.v%2;if(t.recoveryParam){r[32]|=128}t._vs=hexlify$1(r.slice(32,64))}else{t.r=e.r;t.s=e.s;t.v=e.v;t.recoveryParam=e.recoveryParam;t._vs=e._vs;if(t._vs!=null){const r=zeroPad$1(arrayify$2(t._vs),32);t._vs=hexlify$1(r);const n=r[0]>=128?1:0;if(t.recoveryParam==null){t.recoveryParam=n}else if(t.recoveryParam!==n){logger$1r.throwArgumentError("signature recoveryParam mismatch _vs","signature",e)}r[0]&=127;const i=hexlify$1(r);if(t.s==null){t.s=i}else if(t.s!==i){logger$1r.throwArgumentError("signature v mismatch _vs","signature",e)}}if(t.recoveryParam==null){if(t.v==null){logger$1r.throwArgumentError("signature missing v and recoveryParam","signature",e)}else if(t.v===0||t.v===1){t.recoveryParam=t.v}else{t.recoveryParam=1-t.v%2}}else{if(t.v==null){t.v=27+t.recoveryParam}else{const r=t.v===0||t.v===1?t.v:1-t.v%2;if(t.recoveryParam!==r){logger$1r.throwArgumentError("signature recoveryParam mismatch v","signature",e)}}}if(t.r==null||!isHexString$1(t.r)){logger$1r.throwArgumentError("signature missing or invalid r","signature",e)}else{t.r=hexZeroPad$1(t.r,32)}if(t.s==null||!isHexString$1(t.s)){logger$1r.throwArgumentError("signature missing or invalid s","signature",e)}else{t.s=hexZeroPad$1(t.s,32)}const r=arrayify$2(t.s);if(r[0]>=128){logger$1r.throwArgumentError("signature s out of range","signature",e)}if(t.recoveryParam){r[0]|=128}const n=hexlify$1(r);if(t._vs){if(!isHexString$1(t._vs)){logger$1r.throwArgumentError("signature invalid _vs","signature",e)}t._vs=hexZeroPad$1(t._vs,32)}if(t._vs==null){t._vs=n}else if(t._vs!==n){logger$1r.throwArgumentError("signature _vs mismatch v and s","signature",e)}}t.yParityAndS=t._vs;t.compact=t.r+t.yParityAndS.substring(2);return t}function joinSignature$1(e){e=splitSignature$1(e);return hexlify$1(concat$5([e.r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}const lib_esm$k=Object.freeze({__proto__:null,isBytesLike:isBytesLike$1,isBytes:isBytes$1,arrayify:arrayify$2,concat:concat$5,stripZeros:stripZeros$1,zeroPad:zeroPad$1,isHexString:isHexString$1,hexlify:hexlify$1,hexDataLength:hexDataLength$1,hexDataSlice:hexDataSlice$1,hexConcat:hexConcat$1,hexValue:hexValue$1,hexStripZeros:hexStripZeros$1,hexZeroPad:hexZeroPad$1,splitSignature:splitSignature$1,joinSignature:joinSignature$1});const version$N="bignumber/5.7.0";var BN$1=bn$3.BN;const logger$1q=new Logger$1(version$N);const _constructorGuard$9={};const MAX_SAFE$1=9007199254740991;function isBigNumberish$1(e){return e!=null&&(BigNumber$2.isBigNumber(e)||typeof e==="number"&&e%1===0||typeof e==="string"&&!!e.match(/^-?[0-9]+$/)||isHexString$1(e)||typeof e==="bigint"||isBytes$1(e))}let _warnedToStringRadix$1=false;class BigNumber$2{constructor(e,t){if(e!==_constructorGuard$9){logger$1q.throwError("cannot call constructor directly; use BigNumber.from",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"})}this._hex=t;this._isBigNumber=true;Object.freeze(this)}fromTwos(e){return toBigNumber$1(toBN$1(this).fromTwos(e))}toTwos(e){return toBigNumber$1(toBN$1(this).toTwos(e))}abs(){if(this._hex[0]==="-"){return BigNumber$2.from(this._hex.substring(1))}return this}add(e){return toBigNumber$1(toBN$1(this).add(toBN$1(e)))}sub(e){return toBigNumber$1(toBN$1(this).sub(toBN$1(e)))}div(e){const t=BigNumber$2.from(e);if(t.isZero()){throwFault$3("division-by-zero","div")}return toBigNumber$1(toBN$1(this).div(toBN$1(e)))}mul(e){return toBigNumber$1(toBN$1(this).mul(toBN$1(e)))}mod(e){const t=toBN$1(e);if(t.isNeg()){throwFault$3("division-by-zero","mod")}return toBigNumber$1(toBN$1(this).umod(t))}pow(e){const t=toBN$1(e);if(t.isNeg()){throwFault$3("negative-power","pow")}return toBigNumber$1(toBN$1(this).pow(t))}and(e){const t=toBN$1(e);if(this.isNegative()||t.isNeg()){throwFault$3("unbound-bitwise-result","and")}return toBigNumber$1(toBN$1(this).and(t))}or(e){const t=toBN$1(e);if(this.isNegative()||t.isNeg()){throwFault$3("unbound-bitwise-result","or")}return toBigNumber$1(toBN$1(this).or(t))}xor(e){const t=toBN$1(e);if(this.isNegative()||t.isNeg()){throwFault$3("unbound-bitwise-result","xor")}return toBigNumber$1(toBN$1(this).xor(t))}mask(e){if(this.isNegative()||e<0){throwFault$3("negative-width","mask")}return toBigNumber$1(toBN$1(this).maskn(e))}shl(e){if(this.isNegative()||e<0){throwFault$3("negative-width","shl")}return toBigNumber$1(toBN$1(this).shln(e))}shr(e){if(this.isNegative()||e<0){throwFault$3("negative-width","shr")}return toBigNumber$1(toBN$1(this).shrn(e))}eq(e){return toBN$1(this).eq(toBN$1(e))}lt(e){return toBN$1(this).lt(toBN$1(e))}lte(e){return toBN$1(this).lte(toBN$1(e))}gt(e){return toBN$1(this).gt(toBN$1(e))}gte(e){return toBN$1(this).gte(toBN$1(e))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN$1(this).isZero()}toNumber(){try{return toBN$1(this).toNumber()}catch(e){throwFault$3("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return logger$1q.throwError("this platform does not support BigInt",Logger$1.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){if(arguments.length>0){if(arguments[0]===10){if(!_warnedToStringRadix$1){_warnedToStringRadix$1=true;logger$1q.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")}}else if(arguments[0]===16){logger$1q.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger$1.errors.UNEXPECTED_ARGUMENT,{})}else{logger$1q.throwError("BigNumber.toString does not accept parameters",Logger$1.errors.UNEXPECTED_ARGUMENT,{})}}return toBN$1(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof BigNumber$2){return e}if(typeof e==="string"){if(e.match(/^-?0x[0-9a-f]+$/i)){return new BigNumber$2(_constructorGuard$9,toHex$4(e))}if(e.match(/^-?[0-9]+$/)){return new BigNumber$2(_constructorGuard$9,toHex$4(new BN$1(e)))}return logger$1q.throwArgumentError("invalid BigNumber string","value",e)}if(typeof e==="number"){if(e%1){throwFault$3("underflow","BigNumber.from",e)}if(e>=MAX_SAFE$1||e<=-MAX_SAFE$1){throwFault$3("overflow","BigNumber.from",e)}return BigNumber$2.from(String(e))}const t=e;if(typeof t==="bigint"){return BigNumber$2.from(t.toString())}if(isBytes$1(t)){return BigNumber$2.from(hexlify$1(t))}if(t){if(t.toHexString){const e=t.toHexString();if(typeof e==="string"){return BigNumber$2.from(e)}}else{let e=t._hex;if(e==null&&t.type==="BigNumber"){e=t.hex}if(typeof e==="string"){if(isHexString$1(e)||e[0]==="-"&&isHexString$1(e.substring(1))){return BigNumber$2.from(e)}}}}return logger$1q.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function toHex$4(e){if(typeof e!=="string"){return toHex$4(e.toString(16))}if(e[0]==="-"){e=e.substring(1);if(e[0]==="-"){logger$1q.throwArgumentError("invalid hex","value",e)}e=toHex$4(e);if(e==="0x00"){return e}return"-"+e}if(e.substring(0,2)!=="0x"){e="0x"+e}if(e==="0x"){return"0x00"}if(e.length%2){e="0x0"+e.substring(2)}while(e.length>4&&e.substring(0,4)==="0x00"){e="0x"+e.substring(4)}return e}function toBigNumber$1(e){return BigNumber$2.from(toHex$4(e))}function toBN$1(e){const t=BigNumber$2.from(e).toHexString();if(t[0]==="-"){return new BN$1("-"+t.substring(3),16)}return new BN$1(t.substring(2),16)}function throwFault$3(e,t,r){const n={fault:e,operation:t};if(r!=null){n.value=r}return logger$1q.throwError(e,Logger$1.errors.NUMERIC_FAULT,n)}function _base36To16$1(e){return new BN$1(e,36).toString(16)}function _base16To36$1(e){return new BN$1(e,16).toString(36)}const logger$1p=new Logger$1(version$N);const _constructorGuard$8={};const Zero$5=BigNumber$2.from(0);const NegativeOne$5=BigNumber$2.from(-1);function throwFault$2(e,t,r,n){const i={fault:t,operation:r};if(n!==undefined){i.value=n}return logger$1p.throwError(e,Logger$1.errors.NUMERIC_FAULT,i)}let zeros$1="0";while(zeros$1.length<256){zeros$1+=zeros$1}function getMultiplier$1(e){if(typeof e!=="number"){try{e=BigNumber$2.from(e).toNumber()}catch(e){}}if(typeof e==="number"&&e>=0&&e<=256&&!(e%1)){return"1"+zeros$1.substring(0,e)}return logger$1p.throwArgumentError("invalid decimal size","decimals",e)}function formatFixed$1(e,t){if(t==null){t=0}const r=getMultiplier$1(t);e=BigNumber$2.from(e);const n=e.lt(Zero$5);if(n){e=e.mul(NegativeOne$5)}let i=e.mod(r).toString();while(i.length<r.length-1){i="0"+i}i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=e.div(r).toString();if(r.length===1){e=s}else{e=s+"."+i}if(n){e="-"+e}return e}function parseFixed$1(e,t){if(t==null){t=0}const r=getMultiplier$1(t);if(typeof e!=="string"||!e.match(/^-?[0-9.]+$/)){logger$1p.throwArgumentError("invalid decimal value","value",e)}const n=e.substring(0,1)==="-";if(n){e=e.substring(1)}if(e==="."){logger$1p.throwArgumentError("missing value","value",e)}const i=e.split(".");if(i.length>2){logger$1p.throwArgumentError("too many decimal points","value",e)}let s=i[0],f=i[1];if(!s){s="0"}if(!f){f="0"}while(f[f.length-1]==="0"){f=f.substring(0,f.length-1)}if(f.length>r.length-1){throwFault$2("fractional component exceeds decimals","underflow","parseFixed")}if(f===""){f="0"}while(f.length<r.length-1){f+="0"}const a=BigNumber$2.from(s);const o=BigNumber$2.from(f);let c=a.mul(r).add(o);if(n){c=c.mul(NegativeOne$5)}return c}class FixedFormat$1{constructor(e,t,r,n){if(e!==_constructorGuard$8){logger$1p.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"})}this.signed=t;this.width=r;this.decimals=n;this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(n);this._multiplier=getMultiplier$1(n);Object.freeze(this)}static from(e){if(e instanceof FixedFormat$1){return e}if(typeof e==="number"){e=`fixed128x${e}`}let t=true;let r=128;let n=18;if(typeof e==="string"){if(e==="fixed");else if(e==="ufixed"){t=false}else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);if(!i){logger$1p.throwArgumentError("invalid fixed format","format",e)}t=i[1]!=="u";r=parseInt(i[2]);n=parseInt(i[3])}}else if(e){const i=(t,r,n)=>{if(e[t]==null){return n}if(typeof e[t]!==r){logger$1p.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t])}return e[t]};t=i("signed","boolean",t);r=i("width","number",r);n=i("decimals","number",n)}if(r%8){logger$1p.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r)}if(n>80){logger$1p.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n)}return new FixedFormat$1(_constructorGuard$8,t,r,n)}}class FixedNumber$1{constructor(e,t,r,n){if(e!==_constructorGuard$8){logger$1p.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"})}this.format=n;this._hex=t;this._value=r;this._isFixedNumber=true;Object.freeze(this)}_checkFormat(e){if(this.format.name!==e.format.name){logger$1p.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}}addUnsafe(e){this._checkFormat(e);const t=parseFixed$1(this._value,this.format.decimals);const r=parseFixed$1(e._value,e.format.decimals);return FixedNumber$1.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=parseFixed$1(this._value,this.format.decimals);const r=parseFixed$1(e._value,e.format.decimals);return FixedNumber$1.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=parseFixed$1(this._value,this.format.decimals);const r=parseFixed$1(e._value,e.format.decimals);return FixedNumber$1.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=parseFixed$1(this._value,this.format.decimals);const r=parseFixed$1(e._value,e.format.decimals);return FixedNumber$1.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");if(e.length===1){e.push("0")}let t=FixedNumber$1.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);if(this.isNegative()&&r){t=t.subUnsafe(ONE$1.toFormat(t.format))}return t}ceiling(){const e=this.toString().split(".");if(e.length===1){e.push("0")}let t=FixedNumber$1.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);if(!this.isNegative()&&r){t=t.addUnsafe(ONE$1.toFormat(t.format))}return t}round(e){if(e==null){e=0}const t=this.toString().split(".");if(t.length===1){t.push("0")}if(e<0||e>80||e%1){logger$1p.throwArgumentError("invalid decimal count","decimals",e)}if(t[1].length<=e){return this}const r=FixedNumber$1.from("1"+zeros$1.substring(0,e),this.format);const n=BUMP$1.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null){return this._hex}if(e%8){logger$1p.throwArgumentError("invalid byte width","width",e)}const t=BigNumber$2.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return hexZeroPad$1(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return FixedNumber$1.fromString(this._value,e)}static fromValue(e,t,r){if(r==null&&t!=null&&!isBigNumberish$1(t)){r=t;t=null}if(t==null){t=0}if(r==null){r="fixed"}return FixedNumber$1.fromString(formatFixed$1(e,t),FixedFormat$1.from(r))}static fromString(e,t){if(t==null){t="fixed"}const r=FixedFormat$1.from(t);const n=parseFixed$1(e,r.decimals);if(!r.signed&&n.lt(Zero$5)){throwFault$2("unsigned value cannot be negative","overflow","value",e)}let i=null;if(r.signed){i=n.toTwos(r.width).toHexString()}else{i=n.toHexString();i=hexZeroPad$1(i,r.width/8)}const s=formatFixed$1(n,r.decimals);return new FixedNumber$1(_constructorGuard$8,i,s,r)}static fromBytes(e,t){if(t==null){t="fixed"}const r=FixedFormat$1.from(t);if(arrayify$2(e).length>r.width/8){throw new Error("overflow")}let n=BigNumber$2.from(e);if(r.signed){n=n.fromTwos(r.width)}const i=n.toTwos((r.signed?0:1)+r.width).toHexString();const s=formatFixed$1(n,r.decimals);return new FixedNumber$1(_constructorGuard$8,i,s,r)}static from(e,t){if(typeof e==="string"){return FixedNumber$1.fromString(e,t)}if(isBytes$1(e)){return FixedNumber$1.fromBytes(e,t)}try{return FixedNumber$1.fromValue(e,0,t)}catch(e){if(e.code!==Logger$1.errors.INVALID_ARGUMENT){throw e}}return logger$1p.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const ONE$1=FixedNumber$1.from(1);const BUMP$1=FixedNumber$1.from("0.5");const version$M="properties/5.7.0";var __awaiter$x=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$1o=new Logger$1(version$M);function defineReadOnly$1(e,t,r){Object.defineProperty(e,t,{enumerable:true,value:r,writable:false})}function getStatic$1(e,t){for(let r=0;r<32;r++){if(e[t]){return e[t]}if(!e.prototype||typeof e.prototype!=="object"){break}e=Object.getPrototypeOf(e.prototype).constructor}return null}function resolveProperties$1(e){return __awaiter$x(this,void 0,void 0,(function*(){const t=Object.keys(e).map((t=>{const r=e[t];return Promise.resolve(r).then((e=>({key:t,value:e})))}));const r=yield Promise.all(t);return r.reduce(((e,t)=>{e[t.key]=t.value;return e}),{})}))}function checkProperties$1(e,t){if(!e||typeof e!=="object"){logger$1o.throwArgumentError("invalid object","object",e)}Object.keys(e).forEach((r=>{if(!t[r]){logger$1o.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)}}))}function shallowCopy$1(e){const t={};for(const r in e){t[r]=e[r]}return t}const opaque$1={bigint:true,boolean:true,function:true,number:true,string:true};function _isFrozen$1(e){if(e===undefined||e===null||opaque$1[typeof e]){return true}if(Array.isArray(e)||typeof e==="object"){if(!Object.isFrozen(e)){return false}const t=Object.keys(e);for(let r=0;r<t.length;r++){let n=null;try{n=e[t[r]]}catch(e){continue}if(!_isFrozen$1(n)){return false}}return true}return logger$1o.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function _deepCopy$1(e){if(_isFrozen$1(e)){return e}if(Array.isArray(e)){return Object.freeze(e.map((e=>deepCopy$1(e))))}if(typeof e==="object"){const t={};for(const r in e){const n=e[r];if(n===undefined){continue}defineReadOnly$1(t,r,deepCopy$1(n))}return t}return logger$1o.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function deepCopy$1(e){return _deepCopy$1(e)}class Description$1{constructor(e){for(const t in e){this[t]=deepCopy$1(e[t])}}}const lib_esm$j=Object.freeze({__proto__:null,defineReadOnly:defineReadOnly$1,getStatic:getStatic$1,resolveProperties:resolveProperties$1,checkProperties:checkProperties$1,shallowCopy:shallowCopy$1,deepCopy:deepCopy$1,Description:Description$1});const version$L="abi/5.7.0";const logger$1n=new Logger$1(version$L);const _constructorGuard$7={};let ModifiersBytes$1={calldata:true,memory:true,storage:true};let ModifiersNest$1={calldata:true,memory:true};function checkModifier$1(e,t){if(e==="bytes"||e==="string"){if(ModifiersBytes$1[t]){return true}}else if(e==="address"){if(t==="payable"){return true}}else if(e.indexOf("[")>=0||e==="tuple"){if(ModifiersNest$1[t]){return true}}if(ModifiersBytes$1[t]||t==="payable"){logger$1n.throwArgumentError("invalid modifier","name",t)}return false}function parseParamType$1(e,t){let r=e;function n(t){logger$1n.throwArgumentError(`unexpected character at position ${t}`,"param",e)}e=e.replace(/\s/g," ");function i(e){let r={type:"",name:"",parent:e,state:{allowType:true}};if(t){r.indexed=false}return r}let s={type:"",name:"",state:{allowType:true}};let f=s;for(let r=0;r<e.length;r++){let s=e[r];switch(s){case"(":if(f.state.allowType&&f.type===""){f.type="tuple"}else if(!f.state.allowParams){n(r)}f.state.allowType=false;f.type=verifyType$1(f.type);f.components=[i(f)];f=f.components[0];break;case")":delete f.state;if(f.name==="indexed"){if(!t){n(r)}f.indexed=true;f.name=""}if(checkModifier$1(f.type,f.name)){f.name=""}f.type=verifyType$1(f.type);let e=f;f=f.parent;if(!f){n(r)}delete e.parent;f.state.allowParams=false;f.state.allowName=true;f.state.allowArray=true;break;case",":delete f.state;if(f.name==="indexed"){if(!t){n(r)}f.indexed=true;f.name=""}if(checkModifier$1(f.type,f.name)){f.name=""}f.type=verifyType$1(f.type);let a=i(f.parent);f.parent.components.push(a);delete f.parent;f=a;break;case" ":if(f.state.allowType){if(f.type!==""){f.type=verifyType$1(f.type);delete f.state.allowType;f.state.allowName=true;f.state.allowParams=true}}if(f.state.allowName){if(f.name!==""){if(f.name==="indexed"){if(!t){n(r)}if(f.indexed){n(r)}f.indexed=true;f.name=""}else if(checkModifier$1(f.type,f.name)){f.name=""}else{f.state.allowName=false}}}break;case"[":if(!f.state.allowArray){n(r)}f.type+=s;f.state.allowArray=false;f.state.allowName=false;f.state.readArray=true;break;case"]":if(!f.state.readArray){n(r)}f.type+=s;f.state.readArray=false;f.state.allowArray=true;f.state.allowName=true;break;default:if(f.state.allowType){f.type+=s;f.state.allowParams=true;f.state.allowArray=true}else if(f.state.allowName){f.name+=s;delete f.state.allowArray}else if(f.state.readArray){f.type+=s}else{n(r)}}}if(f.parent){logger$1n.throwArgumentError("unexpected eof","param",e)}delete s.state;if(f.name==="indexed"){if(!t){n(r.length-7)}if(f.indexed){n(r.length-7)}f.indexed=true;f.name=""}else if(checkModifier$1(f.type,f.name)){f.name=""}s.type=verifyType$1(s.type);return s}function populate$1(e,t){for(let r in t){defineReadOnly$1(e,r,t[r])}}const FormatTypes$1=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"});const paramTypeArray$1=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType$1{constructor(e,t){if(e!==_constructorGuard$7){logger$1n.throwError("use fromString",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"})}populate$1(this,t);let r=this.type.match(paramTypeArray$1);if(r){populate$1(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:ParamType$1.fromObject({type:r[1],components:this.components}),baseType:"array"})}else{populate$1(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type})}this._isParamType=true;Object.freeze(this)}format(e){if(!e){e=FormatTypes$1.sighash}if(!FormatTypes$1[e]){logger$1n.throwArgumentError("invalid format type","format",e)}if(e===FormatTypes$1.json){let t={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||undefined};if(typeof this.indexed==="boolean"){t.indexed=this.indexed}if(this.components){t.components=this.components.map((t=>JSON.parse(t.format(e))))}return JSON.stringify(t)}let t="";if(this.baseType==="array"){t+=this.arrayChildren.format(e);t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"}else{if(this.baseType==="tuple"){if(e!==FormatTypes$1.sighash){t+=this.type}t+="("+this.components.map((t=>t.format(e))).join(e===FormatTypes$1.full?", ":",")+")"}else{t+=this.type}}if(e!==FormatTypes$1.sighash){if(this.indexed===true){t+=" indexed"}if(e===FormatTypes$1.full&&this.name){t+=" "+this.name}}return t}static from(e,t){if(typeof e==="string"){return ParamType$1.fromString(e,t)}return ParamType$1.fromObject(e)}static fromObject(e){if(ParamType$1.isParamType(e)){return e}return new ParamType$1(_constructorGuard$7,{name:e.name||null,type:verifyType$1(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(ParamType$1.fromObject):null})}static fromString(e,t){function r(e){return ParamType$1.fromObject({name:e.name,type:e.type,indexed:e.indexed,components:e.components})}return r(parseParamType$1(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function parseParams$1(e,t){return splitNesting$1(e).map((e=>ParamType$1.fromString(e,t)))}class Fragment$1{constructor(e,t){if(e!==_constructorGuard$7){logger$1n.throwError("use a static from method",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"})}populate$1(this,t);this._isFragment=true;Object.freeze(this)}static from(e){if(Fragment$1.isFragment(e)){return e}if(typeof e==="string"){return Fragment$1.fromString(e)}return Fragment$1.fromObject(e)}static fromObject(e){if(Fragment$1.isFragment(e)){return e}switch(e.type){case"function":return FunctionFragment$1.fromObject(e);case"event":return EventFragment$1.fromObject(e);case"constructor":return ConstructorFragment$1.fromObject(e);case"error":return ErrorFragment$1.fromObject(e);case"fallback":case"receive":return null}return logger$1n.throwArgumentError("invalid fragment object","value",e)}static fromString(e){e=e.replace(/\s/g," ");e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ");e=e.trim();if(e.split(" ")[0]==="event"){return EventFragment$1.fromString(e.substring(5).trim())}else if(e.split(" ")[0]==="function"){return FunctionFragment$1.fromString(e.substring(8).trim())}else if(e.split("(")[0].trim()==="constructor"){return ConstructorFragment$1.fromString(e.trim())}else if(e.split(" ")[0]==="error"){return ErrorFragment$1.fromString(e.substring(5).trim())}return logger$1n.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class EventFragment$1 extends Fragment$1{format(e){if(!e){e=FormatTypes$1.sighash}if(!FormatTypes$1[e]){logger$1n.throwArgumentError("invalid format type","format",e)}if(e===FormatTypes$1.json){return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))})}let t="";if(e!==FormatTypes$1.sighash){t+="event "}t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===FormatTypes$1.full?", ":",")+") ";if(e!==FormatTypes$1.sighash){if(this.anonymous){t+="anonymous "}}return t.trim()}static from(e){if(typeof e==="string"){return EventFragment$1.fromString(e)}return EventFragment$1.fromObject(e)}static fromObject(e){if(EventFragment$1.isEventFragment(e)){return e}if(e.type!=="event"){logger$1n.throwArgumentError("invalid event object","value",e)}const t={name:verifyIdentifier$1(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(ParamType$1.fromObject):[],type:"event"};return new EventFragment$1(_constructorGuard$7,t)}static fromString(e){let t=e.match(regexParen$1);if(!t){logger$1n.throwArgumentError("invalid event string","value",e)}let r=false;t[3].split(" ").forEach((e=>{switch(e.trim()){case"anonymous":r=true;break;case"":break;default:logger$1n.warn("unknown modifier: "+e)}}));return EventFragment$1.fromObject({name:t[1].trim(),anonymous:r,inputs:parseParams$1(t[2],true),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function parseGas$1(e,t){t.gas=null;let r=e.split("@");if(r.length!==1){if(r.length>2){logger$1n.throwArgumentError("invalid human-readable ABI signature","value",e)}if(!r[1].match(/^[0-9]+$/)){logger$1n.throwArgumentError("invalid human-readable ABI signature gas","value",e)}t.gas=BigNumber$2.from(r[1]);return r[0]}return e}function parseModifiers$1(e,t){t.constant=false;t.payable=false;t.stateMutability="nonpayable";e.split(" ").forEach((e=>{switch(e.trim()){case"constant":t.constant=true;break;case"payable":t.payable=true;t.stateMutability="payable";break;case"nonpayable":t.payable=false;t.stateMutability="nonpayable";break;case"pure":t.constant=true;t.stateMutability="pure";break;case"view":t.constant=true;t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function verifyState$1(e){let t={constant:false,payable:true,stateMutability:"payable"};if(e.stateMutability!=null){t.stateMutability=e.stateMutability;t.constant=t.stateMutability==="view"||t.stateMutability==="pure";if(e.constant!=null){if(!!e.constant!==t.constant){logger$1n.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e)}}t.payable=t.stateMutability==="payable";if(e.payable!=null){if(!!e.payable!==t.payable){logger$1n.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)}}}else if(e.payable!=null){t.payable=!!e.payable;if(e.constant==null&&!t.payable&&e.type!=="constructor"){logger$1n.throwArgumentError("unable to determine stateMutability","value",e)}t.constant=!!e.constant;if(t.constant){t.stateMutability="view"}else{t.stateMutability=t.payable?"payable":"nonpayable"}if(t.payable&&t.constant){logger$1n.throwArgumentError("cannot have constant payable function","value",e)}}else if(e.constant!=null){t.constant=!!e.constant;t.payable=!t.constant;t.stateMutability=t.constant?"view":"payable"}else if(e.type!=="constructor"){logger$1n.throwArgumentError("unable to determine stateMutability","value",e)}return t}class ConstructorFragment$1 extends Fragment$1{format(e){if(!e){e=FormatTypes$1.sighash}if(!FormatTypes$1[e]){logger$1n.throwArgumentError("invalid format type","format",e)}if(e===FormatTypes$1.json){return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:undefined,payable:this.payable,gas:this.gas?this.gas.toNumber():undefined,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))})}if(e===FormatTypes$1.sighash){logger$1n.throwError("cannot format a constructor for sighash",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"})}let t="constructor("+this.inputs.map((t=>t.format(e))).join(e===FormatTypes$1.full?", ":",")+") ";if(this.stateMutability&&this.stateMutability!=="nonpayable"){t+=this.stateMutability+" "}return t.trim()}static from(e){if(typeof e==="string"){return ConstructorFragment$1.fromString(e)}return ConstructorFragment$1.fromObject(e)}static fromObject(e){if(ConstructorFragment$1.isConstructorFragment(e)){return e}if(e.type!=="constructor"){logger$1n.throwArgumentError("invalid constructor object","value",e)}let t=verifyState$1(e);if(t.constant){logger$1n.throwArgumentError("constructor cannot be constant","value",e)}const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(ParamType$1.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?BigNumber$2.from(e.gas):null};return new ConstructorFragment$1(_constructorGuard$7,r)}static fromString(e){let t={type:"constructor"};e=parseGas$1(e,t);let r=e.match(regexParen$1);if(!r||r[1].trim()!=="constructor"){logger$1n.throwArgumentError("invalid constructor string","value",e)}t.inputs=parseParams$1(r[2].trim(),false);parseModifiers$1(r[3].trim(),t);return ConstructorFragment$1.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class FunctionFragment$1 extends ConstructorFragment$1{format(e){if(!e){e=FormatTypes$1.sighash}if(!FormatTypes$1[e]){logger$1n.throwArgumentError("invalid format type","format",e)}if(e===FormatTypes$1.json){return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:undefined,payable:this.payable,gas:this.gas?this.gas.toNumber():undefined,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))})}let t="";if(e!==FormatTypes$1.sighash){t+="function "}t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===FormatTypes$1.full?", ":",")+") ";if(e!==FormatTypes$1.sighash){if(this.stateMutability){if(this.stateMutability!=="nonpayable"){t+=this.stateMutability+" "}}else if(this.constant){t+="view "}if(this.outputs&&this.outputs.length){t+="returns ("+this.outputs.map((t=>t.format(e))).join(", ")+") "}if(this.gas!=null){t+="@"+this.gas.toString()+" "}}return t.trim()}static from(e){if(typeof e==="string"){return FunctionFragment$1.fromString(e)}return FunctionFragment$1.fromObject(e)}static fromObject(e){if(FunctionFragment$1.isFunctionFragment(e)){return e}if(e.type!=="function"){logger$1n.throwArgumentError("invalid function object","value",e)}let t=verifyState$1(e);const r={type:e.type,name:verifyIdentifier$1(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(ParamType$1.fromObject):[],outputs:e.outputs?e.outputs.map(ParamType$1.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?BigNumber$2.from(e.gas):null};return new FunctionFragment$1(_constructorGuard$7,r)}static fromString(e){let t={type:"function"};e=parseGas$1(e,t);let r=e.split(" returns ");if(r.length>2){logger$1n.throwArgumentError("invalid function string","value",e)}let n=r[0].match(regexParen$1);if(!n){logger$1n.throwArgumentError("invalid function signature","value",e)}t.name=n[1].trim();if(t.name){verifyIdentifier$1(t.name)}t.inputs=parseParams$1(n[2],false);parseModifiers$1(n[3].trim(),t);if(r.length>1){let n=r[1].match(regexParen$1);if(n[1].trim()!=""||n[3].trim()!=""){logger$1n.throwArgumentError("unexpected tokens","value",e)}t.outputs=parseParams$1(n[2],false)}else{t.outputs=[]}return FunctionFragment$1.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function checkForbidden$1(e){const t=e.format();if(t==="Error(string)"||t==="Panic(uint256)"){logger$1n.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e)}return e}class ErrorFragment$1 extends Fragment$1{format(e){if(!e){e=FormatTypes$1.sighash}if(!FormatTypes$1[e]){logger$1n.throwArgumentError("invalid format type","format",e)}if(e===FormatTypes$1.json){return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))})}let t="";if(e!==FormatTypes$1.sighash){t+="error "}t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===FormatTypes$1.full?", ":",")+") ";return t.trim()}static from(e){if(typeof e==="string"){return ErrorFragment$1.fromString(e)}return ErrorFragment$1.fromObject(e)}static fromObject(e){if(ErrorFragment$1.isErrorFragment(e)){return e}if(e.type!=="error"){logger$1n.throwArgumentError("invalid error object","value",e)}const t={type:e.type,name:verifyIdentifier$1(e.name),inputs:e.inputs?e.inputs.map(ParamType$1.fromObject):[]};return checkForbidden$1(new ErrorFragment$1(_constructorGuard$7,t))}static fromString(e){let t={type:"error"};let r=e.match(regexParen$1);if(!r){logger$1n.throwArgumentError("invalid error signature","value",e)}t.name=r[1].trim();if(t.name){verifyIdentifier$1(t.name)}t.inputs=parseParams$1(r[2],false);return checkForbidden$1(ErrorFragment$1.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function verifyType$1(e){if(e.match(/^uint($|[^1-9])/)){e="uint256"+e.substring(4)}else if(e.match(/^int($|[^1-9])/)){e="int256"+e.substring(3)}return e}const regexIdentifier$1=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier$1(e){if(!e||!e.match(regexIdentifier$1)){logger$1n.throwArgumentError(`invalid identifier "${e}"`,"value",e)}return e}const regexParen$1=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting$1(e){e=e.trim();let t=[];let r="";let n=0;for(let i=0;i<e.length;i++){let s=e[i];if(s===","&&n===0){t.push(r);r=""}else{r+=s;if(s==="("){n++}else if(s===")"){n--;if(n===-1){logger$1n.throwArgumentError("unbalanced parenthesis","value",e)}}}}if(r){t.push(r)}return t}const logger$1m=new Logger$1(version$L);function checkResultErrors$1(e){const t=[];const r=function(e,n){if(!Array.isArray(n)){return}for(let i in n){const s=e.slice();s.push(i);try{r(s,n[i])}catch(e){t.push({path:s,error:e})}}};r([],e);return t}class Coder$1{constructor(e,t,r,n){this.name=e;this.type=t;this.localName=r;this.dynamic=n}_throwError(e,t){logger$1m.throwArgumentError(e,this.localName,t)}}class Writer$2{constructor(e){defineReadOnly$1(this,"wordSize",e||32);this._data=[];this._dataLength=0;this._padding=new Uint8Array(e)}get data(){return hexConcat$1(this._data)}get length(){return this._dataLength}_writeData(e){this._data.push(e);this._dataLength+=e.length;return e.length}appendWriter(e){return this._writeData(concat$5(e._data))}writeBytes(e){let t=arrayify$2(e);const r=t.length%this.wordSize;if(r){t=concat$5([t,this._padding.slice(r)])}return this._writeData(t)}_getValue(e){let t=arrayify$2(BigNumber$2.from(e));if(t.length>this.wordSize){logger$1m.throwError("value out-of-bounds",Logger$1.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length})}if(t.length%this.wordSize){t=concat$5([this._padding.slice(t.length%this.wordSize),t])}return t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;this._data.push(this._padding);this._dataLength+=this.wordSize;return t=>{this._data[e]=this._getValue(t)}}}class Reader$2{constructor(e,t,r,n){defineReadOnly$1(this,"_data",arrayify$2(e));defineReadOnly$1(this,"wordSize",t||32);defineReadOnly$1(this,"_coerceFunc",r);defineReadOnly$1(this,"allowLoose",n);this._offset=0}get data(){return hexlify$1(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");if(r&&parseInt(r[1])<=48){t=t.toNumber()}return t}coerce(e,t){if(this._coerceFunc){return this._coerceFunc(e,t)}return Reader$2.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;if(this._offset+n>this._data.length){if(this.allowLoose&&r&&this._offset+t<=this._data.length){n=t}else{logger$1m.throwError("data out-of-bounds",Logger$1.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})}}return this._data.slice(this._offset,this._offset+n)}subReader(e){return new Reader$2(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);this._offset+=r.length;return r.slice(0,e)}readValue(){return BigNumber$2.from(this.readBytes(this.wordSize))}}var sha3$2=createCommonjsModule$2((function(e){
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */
(function(){var t="input is invalid type";var r="finalize already called";var n=typeof window==="object";var i=n?window:{};if(i.JS_SHA3_NO_WINDOW){n=false}var s=!n&&typeof self==="object";var f=!i.JS_SHA3_NO_NODE_JS&&typeof process==="object"&&process.versions&&process.versions.node;if(f){i=commonjsGlobal}else if(s){i=self}var a=!i.JS_SHA3_NO_COMMON_JS&&"object"==="object"&&e.exports;var o=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!=="undefined";var c="0123456789abcdef".split("");var u=[31,7936,2031616,520093696];var l=[4,1024,262144,67108864];var h=[1,256,65536,16777216];var d=[6,1536,393216,100663296];var p=[0,8,16,24];var y=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];var b=[224,256,384,512];var m=[128,256];var g=["hex","buffer","arrayBuffer","array","digest"];var v={128:168,256:136};if(i.JS_SHA3_NO_NODE_JS||!Array.isArray){Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}if(o&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)){ArrayBuffer.isView=function(e){return typeof e==="object"&&e.buffer&&e.buffer.constructor===ArrayBuffer}}var w=function(e,t,r){return function(n){return new U(e,t,e).update(n)[r]()}};var A=function(e,t,r){return function(n,i){return new U(e,t,i).update(n)[r]()}};var $=function(e,t,r){return function(t,n,i,s){return I["cshake"+e].update(t,n,i,s)[r]()}};var _=function(e,t,r){return function(t,n,i,s){return I["kmac"+e].update(t,n,i,s)[r]()}};var E=function(e,t,r,n){for(var i=0;i<g.length;++i){var s=g[i];e[s]=t(r,n,s)}return e};var S=function(e,t){var r=w(e,t,"hex");r.create=function(){return new U(e,t,e)};r.update=function(e){return r.create().update(e)};return E(r,w,e,t)};var T=function(e,t){var r=A(e,t,"hex");r.create=function(r){return new U(e,t,r)};r.update=function(e,t){return r.create(t).update(e)};return E(r,A,e,t)};var C=function(e,t){var r=v[e];var n=$(e,t,"hex");n.create=function(n,i,s){if(!i&&!s){return I["shake"+e].create(n)}else{return new U(e,t,n).bytepad([i,s],r)}};n.update=function(e,t,r,i){return n.create(t,r,i).update(e)};return E(n,$,e,t)};var P=function(e,t){var r=v[e];var n=_(e,t,"hex");n.create=function(n,i,s){return new F(e,t,i).bytepad(["KMAC",s],r).bytepad([n],r)};n.update=function(e,t,r,i){return n.create(e,r,i).update(t)};return E(n,_,e,t)};var x=[{name:"keccak",padding:h,bits:b,createMethod:S},{name:"sha3",padding:d,bits:b,createMethod:S},{name:"shake",padding:u,bits:m,createMethod:T},{name:"cshake",padding:l,bits:m,createMethod:C},{name:"kmac",padding:l,bits:m,createMethod:P}];var I={},k=[];for(var M=0;M<x.length;++M){var B=x[M];var R=B.bits;for(var N=0;N<R.length;++N){var D=B.name+"_"+R[N];k.push(D);I[D]=B.createMethod(R[N],B.padding);if(B.name!=="sha3"){var O=B.name+R[N];k.push(O);I[O]=I[D]}}}function U(e,t,r){this.blocks=[];this.s=[];this.padding=t;this.outputBits=r;this.reset=true;this.finalized=false;this.block=0;this.start=0;this.blockCount=1600-(e<<1)>>5;this.byteCount=this.blockCount<<2;this.outputBlocks=r>>5;this.extraBytes=(r&31)>>3;for(var n=0;n<50;++n){this.s[n]=0}}U.prototype.update=function(e){if(this.finalized){throw new Error(r)}var n,i=typeof e;if(i!=="string"){if(i==="object"){if(e===null){throw new Error(t)}else if(o&&e.constructor===ArrayBuffer){e=new Uint8Array(e)}else if(!Array.isArray(e)){if(!o||!ArrayBuffer.isView(e)){throw new Error(t)}}}else{throw new Error(t)}n=true}var s=this.blocks,f=this.byteCount,a=e.length,c=this.blockCount,u=0,l=this.s,h,d;while(u<a){if(this.reset){this.reset=false;s[0]=this.block;for(h=1;h<c+1;++h){s[h]=0}}if(n){for(h=this.start;u<a&&h<f;++u){s[h>>2]|=e[u]<<p[h++&3]}}else{for(h=this.start;u<a&&h<f;++u){d=e.charCodeAt(u);if(d<128){s[h>>2]|=d<<p[h++&3]}else if(d<2048){s[h>>2]|=(192|d>>6)<<p[h++&3];s[h>>2]|=(128|d&63)<<p[h++&3]}else if(d<55296||d>=57344){s[h>>2]|=(224|d>>12)<<p[h++&3];s[h>>2]|=(128|d>>6&63)<<p[h++&3];s[h>>2]|=(128|d&63)<<p[h++&3]}else{d=65536+((d&1023)<<10|e.charCodeAt(++u)&1023);s[h>>2]|=(240|d>>18)<<p[h++&3];s[h>>2]|=(128|d>>12&63)<<p[h++&3];s[h>>2]|=(128|d>>6&63)<<p[h++&3];s[h>>2]|=(128|d&63)<<p[h++&3]}}}this.lastByteIndex=h;if(h>=f){this.start=h-f;this.block=s[c];for(h=0;h<c;++h){l[h]^=s[h]}L(l);this.reset=true}else{this.start=h}}return this};U.prototype.encode=function(e,t){var r=e&255,n=1;var i=[r];e=e>>8;r=e&255;while(r>0){i.unshift(r);e=e>>8;r=e&255;++n}if(t){i.push(n)}else{i.unshift(n)}this.update(i);return i.length};U.prototype.encodeString=function(e){var r,n=typeof e;if(n!=="string"){if(n==="object"){if(e===null){throw new Error(t)}else if(o&&e.constructor===ArrayBuffer){e=new Uint8Array(e)}else if(!Array.isArray(e)){if(!o||!ArrayBuffer.isView(e)){throw new Error(t)}}}else{throw new Error(t)}r=true}var i=0,s=e.length;if(r){i=s}else{for(var f=0;f<e.length;++f){var a=e.charCodeAt(f);if(a<128){i+=1}else if(a<2048){i+=2}else if(a<55296||a>=57344){i+=3}else{a=65536+((a&1023)<<10|e.charCodeAt(++f)&1023);i+=4}}}i+=this.encode(i*8);this.update(e);return i};U.prototype.bytepad=function(e,t){var r=this.encode(t);for(var n=0;n<e.length;++n){r+=this.encodeString(e[n])}var i=t-r%t;var s=[];s.length=i;this.update(s);return this};U.prototype.finalize=function(){if(this.finalized){return}this.finalized=true;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;e[t>>2]|=this.padding[t&3];if(this.lastByteIndex===this.byteCount){e[0]=e[r];for(t=1;t<r+1;++t){e[t]=0}}e[r-1]|=2147483648;for(t=0;t<r;++t){n[t]^=e[t]}L(n)};U.prototype.toString=U.prototype.hex=function(){this.finalize();var e=this.blockCount,t=this.s,r=this.outputBlocks,n=this.extraBytes,i=0,s=0;var f="",a;while(s<r){for(i=0;i<e&&s<r;++i,++s){a=t[i];f+=c[a>>4&15]+c[a&15]+c[a>>12&15]+c[a>>8&15]+c[a>>20&15]+c[a>>16&15]+c[a>>28&15]+c[a>>24&15]}if(s%e===0){L(t);i=0}}if(n){a=t[i];f+=c[a>>4&15]+c[a&15];if(n>1){f+=c[a>>12&15]+c[a>>8&15]}if(n>2){f+=c[a>>20&15]+c[a>>16&15]}}return f};U.prototype.arrayBuffer=function(){this.finalize();var e=this.blockCount,t=this.s,r=this.outputBlocks,n=this.extraBytes,i=0,s=0;var f=this.outputBits>>3;var a;if(n){a=new ArrayBuffer(r+1<<2)}else{a=new ArrayBuffer(f)}var o=new Uint32Array(a);while(s<r){for(i=0;i<e&&s<r;++i,++s){o[s]=t[i]}if(s%e===0){L(t)}}if(n){o[i]=t[i];a=a.slice(0,f)}return a};U.prototype.buffer=U.prototype.arrayBuffer;U.prototype.digest=U.prototype.array=function(){this.finalize();var e=this.blockCount,t=this.s,r=this.outputBlocks,n=this.extraBytes,i=0,s=0;var f=[],a,o;while(s<r){for(i=0;i<e&&s<r;++i,++s){a=s<<2;o=t[i];f[a]=o&255;f[a+1]=o>>8&255;f[a+2]=o>>16&255;f[a+3]=o>>24&255}if(s%e===0){L(t)}}if(n){a=s<<2;o=t[i];f[a]=o&255;if(n>1){f[a+1]=o>>8&255}if(n>2){f[a+2]=o>>16&255}}return f};function F(e,t,r){U.call(this,e,t,r)}F.prototype=new U;F.prototype.finalize=function(){this.encode(this.outputBits,true);return U.prototype.finalize.call(this)};var L=function(e){var t,r,n,i,s,f,a,o,c,u,l,h,d,p,b,m,g,v,w,A,$,_,E,S,T,C,P,x,I,k,M,B,R,N,D,O,U,F,L,j,H,K,G,V,X,W,z,Y,J,q,Q,Z,ee,te,re,ne,ie,se,fe,ae,oe,ce,ue;for(n=0;n<48;n+=2){i=e[0]^e[10]^e[20]^e[30]^e[40];s=e[1]^e[11]^e[21]^e[31]^e[41];f=e[2]^e[12]^e[22]^e[32]^e[42];a=e[3]^e[13]^e[23]^e[33]^e[43];o=e[4]^e[14]^e[24]^e[34]^e[44];c=e[5]^e[15]^e[25]^e[35]^e[45];u=e[6]^e[16]^e[26]^e[36]^e[46];l=e[7]^e[17]^e[27]^e[37]^e[47];h=e[8]^e[18]^e[28]^e[38]^e[48];d=e[9]^e[19]^e[29]^e[39]^e[49];t=h^(f<<1|a>>>31);r=d^(a<<1|f>>>31);e[0]^=t;e[1]^=r;e[10]^=t;e[11]^=r;e[20]^=t;e[21]^=r;e[30]^=t;e[31]^=r;e[40]^=t;e[41]^=r;t=i^(o<<1|c>>>31);r=s^(c<<1|o>>>31);e[2]^=t;e[3]^=r;e[12]^=t;e[13]^=r;e[22]^=t;e[23]^=r;e[32]^=t;e[33]^=r;e[42]^=t;e[43]^=r;t=f^(u<<1|l>>>31);r=a^(l<<1|u>>>31);e[4]^=t;e[5]^=r;e[14]^=t;e[15]^=r;e[24]^=t;e[25]^=r;e[34]^=t;e[35]^=r;e[44]^=t;e[45]^=r;t=o^(h<<1|d>>>31);r=c^(d<<1|h>>>31);e[6]^=t;e[7]^=r;e[16]^=t;e[17]^=r;e[26]^=t;e[27]^=r;e[36]^=t;e[37]^=r;e[46]^=t;e[47]^=r;t=u^(i<<1|s>>>31);r=l^(s<<1|i>>>31);e[8]^=t;e[9]^=r;e[18]^=t;e[19]^=r;e[28]^=t;e[29]^=r;e[38]^=t;e[39]^=r;e[48]^=t;e[49]^=r;p=e[0];b=e[1];W=e[11]<<4|e[10]>>>28;z=e[10]<<4|e[11]>>>28;x=e[20]<<3|e[21]>>>29;I=e[21]<<3|e[20]>>>29;ae=e[31]<<9|e[30]>>>23;oe=e[30]<<9|e[31]>>>23;K=e[40]<<18|e[41]>>>14;G=e[41]<<18|e[40]>>>14;N=e[2]<<1|e[3]>>>31;D=e[3]<<1|e[2]>>>31;m=e[13]<<12|e[12]>>>20;g=e[12]<<12|e[13]>>>20;Y=e[22]<<10|e[23]>>>22;J=e[23]<<10|e[22]>>>22;k=e[33]<<13|e[32]>>>19;M=e[32]<<13|e[33]>>>19;ce=e[42]<<2|e[43]>>>30;ue=e[43]<<2|e[42]>>>30;te=e[5]<<30|e[4]>>>2;re=e[4]<<30|e[5]>>>2;O=e[14]<<6|e[15]>>>26;U=e[15]<<6|e[14]>>>26;v=e[25]<<11|e[24]>>>21;w=e[24]<<11|e[25]>>>21;q=e[34]<<15|e[35]>>>17;Q=e[35]<<15|e[34]>>>17;B=e[45]<<29|e[44]>>>3;R=e[44]<<29|e[45]>>>3;S=e[6]<<28|e[7]>>>4;T=e[7]<<28|e[6]>>>4;ne=e[17]<<23|e[16]>>>9;ie=e[16]<<23|e[17]>>>9;F=e[26]<<25|e[27]>>>7;L=e[27]<<25|e[26]>>>7;A=e[36]<<21|e[37]>>>11;$=e[37]<<21|e[36]>>>11;Z=e[47]<<24|e[46]>>>8;ee=e[46]<<24|e[47]>>>8;V=e[8]<<27|e[9]>>>5;X=e[9]<<27|e[8]>>>5;C=e[18]<<20|e[19]>>>12;P=e[19]<<20|e[18]>>>12;se=e[29]<<7|e[28]>>>25;fe=e[28]<<7|e[29]>>>25;j=e[38]<<8|e[39]>>>24;H=e[39]<<8|e[38]>>>24;_=e[48]<<14|e[49]>>>18;E=e[49]<<14|e[48]>>>18;e[0]=p^~m&v;e[1]=b^~g&w;e[10]=S^~C&x;e[11]=T^~P&I;e[20]=N^~O&F;e[21]=D^~U&L;e[30]=V^~W&Y;e[31]=X^~z&J;e[40]=te^~ne&se;e[41]=re^~ie&fe;e[2]=m^~v&A;e[3]=g^~w&$;e[12]=C^~x&k;e[13]=P^~I&M;e[22]=O^~F&j;e[23]=U^~L&H;e[32]=W^~Y&q;e[33]=z^~J&Q;e[42]=ne^~se&ae;e[43]=ie^~fe&oe;e[4]=v^~A&_;e[5]=w^~$&E;e[14]=x^~k&B;e[15]=I^~M&R;e[24]=F^~j&K;e[25]=L^~H&G;e[34]=Y^~q&Z;e[35]=J^~Q&ee;e[44]=se^~ae&ce;e[45]=fe^~oe&ue;e[6]=A^~_&p;e[7]=$^~E&b;e[16]=k^~B&S;e[17]=M^~R&T;e[26]=j^~K&N;e[27]=H^~G&D;e[36]=q^~Z&V;e[37]=Q^~ee&X;e[46]=ae^~ce&te;e[47]=oe^~ue&re;e[8]=_^~p&m;e[9]=E^~b&g;e[18]=B^~S&C;e[19]=R^~T&P;e[28]=K^~N&O;e[29]=G^~D&U;e[38]=Z^~V&W;e[39]=ee^~X&z;e[48]=ce^~te&ne;e[49]=ue^~re&ie;e[0]^=y[n];e[1]^=y[n+1]}};if(a){e.exports=I}else{for(M=0;M<k.length;++M){i[k[M]]=I[k[M]]}}})()}));function keccak256$3(e){return"0x"+sha3$2.keccak_256(arrayify$2(e))}const lib_esm$i=Object.freeze({__proto__:null,keccak256:keccak256$3});const version$K="rlp/5.7.0";const logger$1l=new Logger$1(version$K);function arrayifyInteger$1(e){const t=[];while(e){t.unshift(e&255);e>>=8}return t}function unarrayifyInteger$1(e,t,r){let n=0;for(let i=0;i<r;i++){n=n*256+e[t+i]}return n}function _encode$1(e){if(Array.isArray(e)){let t=[];e.forEach((function(e){t=t.concat(_encode$1(e))}));if(t.length<=55){t.unshift(192+t.length);return t}const r=arrayifyInteger$1(t.length);r.unshift(247+r.length);return r.concat(t)}if(!isBytesLike$1(e)){logger$1l.throwArgumentError("RLP object must be BytesLike","object",e)}const t=Array.prototype.slice.call(arrayify$2(e));if(t.length===1&&t[0]<=127){return t}else if(t.length<=55){t.unshift(128+t.length);return t}const r=arrayifyInteger$1(t.length);r.unshift(183+r.length);return r.concat(t)}function encode$b(e){return hexlify$1(_encode$1(e))}function _decodeChildren$1(e,t,r,n){const i=[];while(r<t+1+n){const s=_decode$1(e,r);i.push(s.result);r+=s.consumed;if(r>t+1+n){logger$1l.throwError("child data too short",Logger$1.errors.BUFFER_OVERRUN,{})}}return{consumed:1+n,result:i}}function _decode$1(e,t){if(e.length===0){logger$1l.throwError("data too short",Logger$1.errors.BUFFER_OVERRUN,{})}if(e[t]>=248){const r=e[t]-247;if(t+1+r>e.length){logger$1l.throwError("data short segment too short",Logger$1.errors.BUFFER_OVERRUN,{})}const n=unarrayifyInteger$1(e,t+1,r);if(t+1+r+n>e.length){logger$1l.throwError("data long segment too short",Logger$1.errors.BUFFER_OVERRUN,{})}return _decodeChildren$1(e,t,t+1+r,r+n)}else if(e[t]>=192){const r=e[t]-192;if(t+1+r>e.length){logger$1l.throwError("data array too short",Logger$1.errors.BUFFER_OVERRUN,{})}return _decodeChildren$1(e,t,t+1,r)}else if(e[t]>=184){const r=e[t]-183;if(t+1+r>e.length){logger$1l.throwError("data array too short",Logger$1.errors.BUFFER_OVERRUN,{})}const n=unarrayifyInteger$1(e,t+1,r);if(t+1+r+n>e.length){logger$1l.throwError("data array too short",Logger$1.errors.BUFFER_OVERRUN,{})}const i=hexlify$1(e.slice(t+1+r,t+1+r+n));return{consumed:1+r+n,result:i}}else if(e[t]>=128){const r=e[t]-128;if(t+1+r>e.length){logger$1l.throwError("data too short",Logger$1.errors.BUFFER_OVERRUN,{})}const n=hexlify$1(e.slice(t+1,t+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:hexlify$1(e[t])}}function decode$a(e){const t=arrayify$2(e);const r=_decode$1(t,0);if(r.consumed!==t.length){logger$1l.throwArgumentError("invalid rlp data","data",e)}return r.result}const lib_esm$h=Object.freeze({__proto__:null,encode:encode$b,decode:decode$a});const version$J="address/5.7.0";const logger$1k=new Logger$1(version$J);function getChecksumAddress$1(e){if(!isHexString$1(e,20)){logger$1k.throwArgumentError("invalid address","address",e)}e=e.toLowerCase();const t=e.substring(2).split("");const r=new Uint8Array(40);for(let e=0;e<40;e++){r[e]=t[e].charCodeAt(0)}const n=arrayify$2(keccak256$3(r));for(let e=0;e<40;e+=2){if(n[e>>1]>>4>=8){t[e]=t[e].toUpperCase()}if((n[e>>1]&15)>=8){t[e+1]=t[e+1].toUpperCase()}}return"0x"+t.join("")}const MAX_SAFE_INTEGER$1=9007199254740991;function log10$1(e){if(Math.log10){return Math.log10(e)}return Math.log(e)/Math.LN10}const ibanLookup$1={};for(let e=0;e<10;e++){ibanLookup$1[String(e)]=String(e)}for(let e=0;e<26;e++){ibanLookup$1[String.fromCharCode(65+e)]=String(10+e)}const safeDigits$1=Math.floor(log10$1(MAX_SAFE_INTEGER$1));function ibanChecksum$1(e){e=e.toUpperCase();e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map((e=>ibanLookup$1[e])).join("");while(t.length>=safeDigits$1){let e=t.substring(0,safeDigits$1);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);while(r.length<2){r="0"+r}return r}function getAddress$1(e){let t=null;if(typeof e!=="string"){logger$1k.throwArgumentError("invalid address","address",e)}if(e.match(/^(0x)?[0-9a-fA-F]{40}$/)){if(e.substring(0,2)!=="0x"){e="0x"+e}t=getChecksumAddress$1(e);if(e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e){logger$1k.throwArgumentError("bad address checksum","address",e)}}else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){if(e.substring(2,4)!==ibanChecksum$1(e)){logger$1k.throwArgumentError("bad icap checksum","address",e)}t=_base36To16$1(e.substring(4));while(t.length<40){t="0"+t}t=getChecksumAddress$1("0x"+t)}else{logger$1k.throwArgumentError("invalid address","address",e)}return t}function isAddress$1(e){try{getAddress$1(e);return true}catch(e){}return false}function getIcapAddress$1(e){let t=_base16To36$1(getAddress$1(e).substring(2)).toUpperCase();while(t.length<30){t="0"+t}return"XE"+ibanChecksum$1("XE00"+t)+t}function getContractAddress$1(e){let t=null;try{t=getAddress$1(e.from)}catch(t){logger$1k.throwArgumentError("missing from address","transaction",e)}const r=stripZeros$1(arrayify$2(BigNumber$2.from(e.nonce).toHexString()));return getAddress$1(hexDataSlice$1(keccak256$3(encode$b([t,r])),12))}function getCreate2Address$1(e,t,r){if(hexDataLength$1(t)!==32){logger$1k.throwArgumentError("salt must be 32 bytes","salt",t)}if(hexDataLength$1(r)!==32){logger$1k.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r)}return getAddress$1(hexDataSlice$1(keccak256$3(concat$5(["0xff",getAddress$1(e),t,r])),12))}const lib_esm$g=Object.freeze({__proto__:null,getAddress:getAddress$1,isAddress:isAddress$1,getIcapAddress:getIcapAddress$1,getContractAddress:getContractAddress$1,getCreate2Address:getCreate2Address$1});class AddressCoder$1 extends Coder$1{constructor(e){super("address","address",e,false)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=getAddress$1(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return getAddress$1(hexZeroPad$1(e.readValue().toHexString(),20))}}class AnonymousCoder$1 extends Coder$1{constructor(e){super(e.name,e.type,undefined,e.dynamic);this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const logger$1j=new Logger$1(version$L);function pack$3(e,t,r){let n=null;if(Array.isArray(r)){n=r}else if(r&&typeof r==="object"){let e={};n=t.map((t=>{const n=t.localName;if(!n){logger$1j.throwError("cannot encode object for signature with missing names",Logger$1.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r})}if(e[n]){logger$1j.throwError("cannot encode object for signature with duplicate names",Logger$1.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r})}e[n]=true;return r[n]}))}else{logger$1j.throwArgumentError("invalid tuple value","tuple",r)}if(t.length!==n.length){logger$1j.throwArgumentError("types/value length mismatch","tuple",r)}let i=new Writer$2(e.wordSize);let s=new Writer$2(e.wordSize);let f=[];t.forEach(((e,t)=>{let r=n[t];if(e.dynamic){let t=s.length;e.encode(s,r);let n=i.writeUpdatableValue();f.push((e=>{n(e+t)}))}else{e.encode(i,r)}}));f.forEach((e=>{e(i.length)}));let a=e.appendWriter(i);a+=e.appendWriter(s);return a}function unpack$1(e,t){let r=[];let n=e.subReader(0);t.forEach((t=>{let i=null;if(t.dynamic){let r=e.readValue();let s=n.subReader(r.toNumber());try{i=t.decode(s)}catch(e){if(e.code===Logger$1.errors.BUFFER_OVERRUN){throw e}i=e;i.baseType=t.name;i.name=t.localName;i.type=t.type}}else{try{i=t.decode(e)}catch(e){if(e.code===Logger$1.errors.BUFFER_OVERRUN){throw e}i=e;i.baseType=t.name;i.name=t.localName;i.type=t.type}}if(i!=undefined){r.push(i)}}));const i=t.reduce(((e,t)=>{const r=t.localName;if(r){if(!e[r]){e[r]=0}e[r]++}return e}),{});t.forEach(((e,t)=>{let n=e.localName;if(!n||i[n]!==1){return}if(n==="length"){n="_length"}if(r[n]!=null){return}const s=r[t];if(s instanceof Error){Object.defineProperty(r,n,{enumerable:true,get:()=>{throw s}})}else{r[n]=s}}));for(let e=0;e<r.length;e++){const t=r[e];if(t instanceof Error){Object.defineProperty(r,e,{enumerable:true,get:()=>{throw t}})}}return Object.freeze(r)}class ArrayCoder$1 extends Coder$1{constructor(e,t,r){const n=e.type+"["+(t>=0?t:"")+"]";const i=t===-1||e.dynamic;super("array",n,r,i);this.coder=e;this.length=t}defaultValue(){const e=this.coder.defaultValue();const t=[];for(let r=0;r<this.length;r++){t.push(e)}return t}encode(e,t){if(!Array.isArray(t)){this._throwError("expected array value",t)}let r=this.length;if(r===-1){r=t.length;e.writeValue(t.length)}logger$1j.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<t.length;e++){n.push(this.coder)}return pack$3(e,n,t)}decode(e){let t=this.length;if(t===-1){t=e.readValue().toNumber();if(t*32>e._data.length){logger$1j.throwError("insufficient data length",Logger$1.errors.BUFFER_OVERRUN,{length:e._data.length,count:t})}}let r=[];for(let e=0;e<t;e++){r.push(new AnonymousCoder$1(this.coder))}return e.coerce(this.name,unpack$1(e,r))}}class BooleanCoder$1 extends Coder$1{constructor(e){super("bool","bool",e,false)}defaultValue(){return false}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class DynamicBytesCoder$1 extends Coder$1{constructor(e,t){super(e,e,t,true)}defaultValue(){return"0x"}encode(e,t){t=arrayify$2(t);let r=e.writeValue(t.length);r+=e.writeBytes(t);return r}decode(e){return e.readBytes(e.readValue().toNumber(),true)}}class BytesCoder$1 extends DynamicBytesCoder$1{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,hexlify$1(super.decode(e)))}}class FixedBytesCoder$1 extends Coder$1{constructor(e,t){let r="bytes"+String(e);super(r,r,t,false);this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let r=arrayify$2(t);if(r.length!==this.size){this._throwError("incorrect data length",t)}return e.writeBytes(r)}decode(e){return e.coerce(this.name,hexlify$1(e.readBytes(this.size)))}}class NullCoder$1 extends Coder$1{constructor(e){super("null","",e,false)}defaultValue(){return null}encode(e,t){if(t!=null){this._throwError("not null",t)}return e.writeBytes([])}decode(e){e.readBytes(0);return e.coerce(this.name,null)}}const AddressZero$1="0x0000000000000000000000000000000000000000";const NegativeOne$4=BigNumber$2.from(-1);const Zero$4=BigNumber$2.from(0);const One$3=BigNumber$2.from(1);const Two$1=BigNumber$2.from(2);const WeiPerEther$1=BigNumber$2.from("1000000000000000000");const MaxUint256$3=BigNumber$2.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const MinInt256$1=BigNumber$2.from("-0x8000000000000000000000000000000000000000000000000000000000000000");const MaxInt256$1=BigNumber$2.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const HashZero$1="0x0000000000000000000000000000000000000000000000000000000000000000";const EtherSymbol$1="Ξ";const index$5=Object.freeze({__proto__:null,AddressZero:AddressZero$1,NegativeOne:NegativeOne$4,Zero:Zero$4,One:One$3,Two:Two$1,WeiPerEther:WeiPerEther$1,MaxUint256:MaxUint256$3,MinInt256:MinInt256$1,MaxInt256:MaxInt256$1,HashZero:HashZero$1,EtherSymbol:EtherSymbol$1});class NumberCoder$1 extends Coder$1{constructor(e,t,r){const n=(t?"int":"uint")+e*8;super(n,n,r,false);this.size=e;this.signed=t}defaultValue(){return 0}encode(e,t){let r=BigNumber$2.from(t);let n=MaxUint256$3.mask(e.wordSize*8);if(this.signed){let e=n.mask(this.size*8-1);if(r.gt(e)||r.lt(e.add(One$3).mul(NegativeOne$4))){this._throwError("value out-of-bounds",t)}}else if(r.lt(Zero$4)||r.gt(n.mask(this.size*8))){this._throwError("value out-of-bounds",t)}r=r.toTwos(this.size*8).mask(this.size*8);if(this.signed){r=r.fromTwos(this.size*8).toTwos(8*e.wordSize)}return e.writeValue(r)}decode(e){let t=e.readValue().mask(this.size*8);if(this.signed){t=t.fromTwos(this.size*8)}return e.coerce(this.name,t)}}const version$I="strings/5.7.0";const logger$1i=new Logger$1(version$I);var UnicodeNormalizationForm$1;(function(e){e["current"]="";e["NFC"]="NFC";e["NFD"]="NFD";e["NFKC"]="NFKC";e["NFKD"]="NFKD"})(UnicodeNormalizationForm$1||(UnicodeNormalizationForm$1={}));var Utf8ErrorReason$1;(function(e){e["UNEXPECTED_CONTINUE"]="unexpected continuation byte";e["BAD_PREFIX"]="bad codepoint prefix";e["OVERRUN"]="string overrun";e["MISSING_CONTINUE"]="missing continuation byte";e["OUT_OF_RANGE"]="out of UTF-8 range";e["UTF16_SURROGATE"]="UTF-16 surrogate";e["OVERLONG"]="overlong representation"})(Utf8ErrorReason$1||(Utf8ErrorReason$1={}));function errorFunc$1(e,t,r,n,i){return logger$1i.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function ignoreFunc$1(e,t,r,n,i){if(e===Utf8ErrorReason$1.BAD_PREFIX||e===Utf8ErrorReason$1.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length;n++){if(r[n]>>6!==2){break}e++}return e}if(e===Utf8ErrorReason$1.OVERRUN){return r.length-t-1}return 0}function replaceFunc$1(e,t,r,n,i){if(e===Utf8ErrorReason$1.OVERLONG){n.push(i);return 0}n.push(65533);return ignoreFunc$1(e,t,r)}const Utf8ErrorFuncs$1=Object.freeze({error:errorFunc$1,ignore:ignoreFunc$1,replace:replaceFunc$1});function getUtf8CodePoints$1(e,t){if(t==null){t=Utf8ErrorFuncs$1.error}e=arrayify$2(e);const r=[];let n=0;while(n<e.length){const i=e[n++];if(i>>7===0){r.push(i);continue}let s=null;let f=null;if((i&224)===192){s=1;f=127}else if((i&240)===224){s=2;f=2047}else if((i&248)===240){s=3;f=65535}else{if((i&192)===128){n+=t(Utf8ErrorReason$1.UNEXPECTED_CONTINUE,n-1,e,r)}else{n+=t(Utf8ErrorReason$1.BAD_PREFIX,n-1,e,r)}continue}if(n-1+s>=e.length){n+=t(Utf8ErrorReason$1.OVERRUN,n-1,e,r);continue}let a=i&(1<<8-s-1)-1;for(let i=0;i<s;i++){let i=e[n];if((i&192)!=128){n+=t(Utf8ErrorReason$1.MISSING_CONTINUE,n,e,r);a=null;break}a=a<<6|i&63;n++}if(a===null){continue}if(a>1114111){n+=t(Utf8ErrorReason$1.OUT_OF_RANGE,n-1-s,e,r,a);continue}if(a>=55296&&a<=57343){n+=t(Utf8ErrorReason$1.UTF16_SURROGATE,n-1-s,e,r,a);continue}if(a<=f){n+=t(Utf8ErrorReason$1.OVERLONG,n-1-s,e,r,a);continue}r.push(a)}return r}function toUtf8Bytes$1(e,t=UnicodeNormalizationForm$1.current){if(t!=UnicodeNormalizationForm$1.current){logger$1i.checkNormalize();e=e.normalize(t)}let r=[];for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n<128){r.push(n)}else if(n<2048){r.push(n>>6|192);r.push(n&63|128)}else if((n&64512)==55296){t++;const i=e.charCodeAt(t);if(t>=e.length||(i&64512)!==56320){throw new Error("invalid utf-8 string")}const s=65536+((n&1023)<<10)+(i&1023);r.push(s>>18|240);r.push(s>>12&63|128);r.push(s>>6&63|128);r.push(s&63|128)}else{r.push(n>>12|224);r.push(n>>6&63|128);r.push(n&63|128)}}return arrayify$2(r)}function escapeChar$1(e){const t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function _toEscapedUtf8String$1(e,t){return'"'+getUtf8CodePoints$1(e,t).map((e=>{if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127){return String.fromCharCode(e)}}if(e<=65535){return escapeChar$1(e)}e-=65536;return escapeChar$1((e>>10&1023)+55296)+escapeChar$1((e&1023)+56320)})).join("")+'"'}function _toUtf8String$1(e){return e.map((e=>{if(e<=65535){return String.fromCharCode(e)}e-=65536;return String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320)})).join("")}function toUtf8String$1(e,t){return _toUtf8String$1(getUtf8CodePoints$1(e,t))}function toUtf8CodePoints$1(e,t=UnicodeNormalizationForm$1.current){return getUtf8CodePoints$1(toUtf8Bytes$1(e,t))}function formatBytes32String$1(e){const t=toUtf8Bytes$1(e);if(t.length>31){throw new Error("bytes32 string must be less than 32 bytes")}return hexlify$1(concat$5([t,HashZero$1]).slice(0,32))}function parseBytes32String$1(e){const t=arrayify$2(e);if(t.length!==32){throw new Error("invalid bytes32 - not 32 bytes long")}if(t[31]!==0){throw new Error("invalid bytes32 string - no null terminator")}let r=31;while(t[r-1]===0){r--}return toUtf8String$1(t.slice(0,r))}function bytes2$1(e){if(e.length%4!==0){throw new Error("bad data")}let t=[];for(let r=0;r<e.length;r+=4){t.push(parseInt(e.substring(r,r+4),16))}return t}function createTable$2(e,t){if(!t){t=function(e){return[parseInt(e,16)]}}let r=0;let n={};e.split(",").forEach((e=>{let i=e.split(":");r+=parseInt(i[0],16);n[r]=t(i[1])}));return n}function createRangeTable$1(e){let t=0;return e.split(",").map((e=>{let r=e.split("-");if(r.length===1){r[1]="0"}else if(r[1]===""){r[1]="1"}let n=t+parseInt(r[0],16);t=parseInt(r[1],16);return{l:n,h:t}}))}function matchMap$1(e,t){let r=0;for(let n=0;n<t.length;n++){let i=t[n];r+=i.l;if(e>=r&&e<=r+i.h&&(e-r)%(i.d||1)===0){if(i.e&&i.e.indexOf(e-r)!==-1){continue}return i}}return null}const Table_A_1_ranges$1=createRangeTable$1("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d");const Table_B_1_flags$1="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((e=>parseInt(e,16)));const Table_B_2_ranges$1=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}];const Table_B_2_lut_abs$1=createTable$2("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3");const Table_B_2_lut_rel$1=createTable$2("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7");const Table_B_2_complex$1=createTable$2("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",bytes2$1);const Table_C_ranges$1=createRangeTable$1("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function flatten$2(e){return e.reduce(((e,t)=>{t.forEach((t=>{e.push(t)}));return e}),[])}function _nameprepTableA1$1(e){return!!matchMap$1(e,Table_A_1_ranges$1)}function _nameprepTableB2$1(e){let t=matchMap$1(e,Table_B_2_ranges$1);if(t){return[e+t.s]}let r=Table_B_2_lut_abs$1[e];if(r){return r}let n=Table_B_2_lut_rel$1[e];if(n){return[e+n[0]]}let i=Table_B_2_complex$1[e];if(i){return i}return null}function _nameprepTableC$1(e){return!!matchMap$1(e,Table_C_ranges$1)}function nameprep$1(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59){return e.toLowerCase()}let t=toUtf8CodePoints$1(e);t=flatten$2(t.map((e=>{if(Table_B_1_flags$1.indexOf(e)>=0){return[]}if(e>=65024&&e<=65039){return[]}let t=_nameprepTableB2$1(e);if(t){return t}return[e]})));t=toUtf8CodePoints$1(_toUtf8String$1(t),UnicodeNormalizationForm$1.NFKC);t.forEach((e=>{if(_nameprepTableC$1(e)){throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}}));t.forEach((e=>{if(_nameprepTableA1$1(e)){throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}}));let r=_toUtf8String$1(t);if(r.substring(0,1)==="-"||r.substring(2,4)==="--"||r.substring(r.length-1)==="-"){throw new Error("invalid hyphen")}return r}const lib_esm$f=Object.freeze({__proto__:null,_toEscapedUtf8String:_toEscapedUtf8String$1,toUtf8Bytes:toUtf8Bytes$1,toUtf8CodePoints:toUtf8CodePoints$1,toUtf8String:toUtf8String$1,Utf8ErrorFuncs:Utf8ErrorFuncs$1,get Utf8ErrorReason(){return Utf8ErrorReason$1},get UnicodeNormalizationForm(){return UnicodeNormalizationForm$1},formatBytes32String:formatBytes32String$1,parseBytes32String:parseBytes32String$1,nameprep:nameprep$1});class StringCoder$1 extends DynamicBytesCoder$1{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,toUtf8Bytes$1(t))}decode(e){return toUtf8String$1(super.decode(e))}}class TupleCoder$1 extends Coder$1{constructor(e,t){let r=false;const n=[];e.forEach((e=>{if(e.dynamic){r=true}n.push(e.type)}));const i="tuple("+n.join(",")+")";super("tuple",i,t,r);this.coders=e}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const r=t.localName;if(r){if(!e[r]){e[r]=0}e[r]++}return e}),{});this.coders.forEach(((r,n)=>{let i=r.localName;if(!i||t[i]!==1){return}if(i==="length"){i="_length"}if(e[i]!=null){return}e[i]=e[n]}));return Object.freeze(e)}encode(e,t){return pack$3(e,this.coders,t)}decode(e){return e.coerce(this.name,unpack$1(e,this.coders))}}const logger$1h=new Logger$1(version$L);const paramTypeBytes$1=new RegExp(/^bytes([0-9]*)$/);const paramTypeNumber$1=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder$1{constructor(e){defineReadOnly$1(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new AddressCoder$1(e.name);case"bool":return new BooleanCoder$1(e.name);case"string":return new StringCoder$1(e.name);case"bytes":return new BytesCoder$1(e.name);case"array":return new ArrayCoder$1(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new TupleCoder$1((e.components||[]).map((e=>this._getCoder(e))),e.name);case"":return new NullCoder$1(e.name)}let t=e.type.match(paramTypeNumber$1);if(t){let r=parseInt(t[2]||"256");if(r===0||r>256||r%8!==0){logger$1h.throwArgumentError("invalid "+t[1]+" bit length","param",e)}return new NumberCoder$1(r/8,t[1]==="int",e.name)}t=e.type.match(paramTypeBytes$1);if(t){let r=parseInt(t[1]);if(r===0||r>32){logger$1h.throwArgumentError("invalid bytes length","param",e)}return new FixedBytesCoder$1(r,e.name)}return logger$1h.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new Reader$2(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new Writer$2(this._getWordSize())}getDefaultValue(e){const t=e.map((e=>this._getCoder(ParamType$1.from(e))));const r=new TupleCoder$1(t,"_");return r.defaultValue()}encode(e,t){if(e.length!==t.length){logger$1h.throwError("types/values length mismatch",Logger$1.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}})}const r=e.map((e=>this._getCoder(ParamType$1.from(e))));const n=new TupleCoder$1(r,"_");const i=this._getWriter();n.encode(i,t);return i.data}decode(e,t,r){const n=e.map((e=>this._getCoder(ParamType$1.from(e))));const i=new TupleCoder$1(n,"_");return i.decode(this._getReader(arrayify$2(t),r))}}const defaultAbiCoder$1=new AbiCoder$1;function id$1(e){return keccak256$3(toUtf8Bytes$1(e))}const version$H="hash/5.7.0";function decode$9(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++){t.push(e.charCodeAt(r))}return arrayify$2(t)}function encode$a(e){e=arrayify$2(e);let t="";for(let r=0;r<e.length;r++){t+=String.fromCharCode(e[r])}return btoa(t)}const lib_esm$e=Object.freeze({__proto__:null,decode:decode$9,encode:encode$a});function flat$2(e,t){if(t==null){t=1}const r=[];const n=r.forEach;const i=function(e,t){n.call(e,(function(e){if(t>0&&Array.isArray(e)){i(e,t-1)}else{r.push(e)}}))};i(e,t);return r}function fromEntries$1(e){const t={};for(let r=0;r<e.length;r++){const n=e[r];t[n[0]]=n[1]}return t}function decode_arithmetic$1(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r();let i=1;let s=[0,1];for(let e=1;e<n;e++){s.push(i+=r())}let f=r();let a=t;t+=f;let o=0;let c=0;function u(){if(o==0){c=c<<8|e[t++];o=8}return c>>--o&1}const l=31;const h=Math.pow(2,l);const d=h>>>1;const p=d>>1;const y=h-1;let b=0;for(let e=0;e<l;e++)b=b<<1|u();let m=[];let g=0;let v=h;while(true){let e=Math.floor(((b-g+1)*i-1)/v);let t=0;let r=n;while(r-t>1){let n=t+r>>>1;if(e<s[n]){r=n}else{t=n}}if(t==0)break;m.push(t);let f=g+Math.floor(v*s[t]/i);let a=g+Math.floor(v*s[t+1]/i)-1;while(((f^a)&d)==0){b=b<<1&y|u();f=f<<1&y;a=a<<1&y|1}while(f&~a&p){b=b&d|b<<1&y>>>1|u();f=f<<1^d;a=(a^d)<<1|d|1}g=f;v=1+a-f}let w=n-4;return m.map((t=>{switch(t-w){case 3:return w+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return w+256+(e[a++]<<8|e[a++]);case 1:return w+e[a++];default:return t-1}}))}function read_payload$1(e){let t=0;return()=>e[t++]}function read_compressed_payload$1(e){return read_payload$1(decode_arithmetic$1(e))}function signed$1(e){return e&1?~e>>1:e>>1}function read_counts$1(e,t){let r=Array(e);for(let n=0;n<e;n++)r[n]=1+t();return r}function read_ascending$1(e,t){let r=Array(e);for(let n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function read_deltas$1(e,t){let r=Array(e);for(let n=0,i=0;n<e;n++)r[n]=i+=signed$1(t());return r}function read_member_array$1(e,t){let r=read_ascending$1(e(),e);let n=e();let i=read_ascending$1(n,e);let s=read_counts$1(n,e);for(let e=0;e<n;e++){for(let t=0;t<s[e];t++){r.push(i[e]+t)}}return t?r.map((e=>t[e])):r}function read_mapped_map$1(e){let t=[];while(true){let r=e();if(r==0)break;t.push(read_linear_table$1(r,e))}while(true){let r=e()-1;if(r<0)break;t.push(read_replacement_table$1(r,e))}return fromEntries$1(flat$2(t))}function read_zero_terminated_array$1(e){let t=[];while(true){let r=e();if(r==0)break;t.push(r)}return t}function read_transposed$1(e,t,r){let n=Array(e).fill(undefined).map((()=>[]));for(let i=0;i<t;i++){read_deltas$1(e,r).forEach(((e,t)=>n[t].push(e)))}return n}function read_linear_table$1(e,t){let r=1+t();let n=t();let i=read_zero_terminated_array$1(t);let s=read_transposed$1(i.length,1+e,t);return flat$2(s.map(((e,t)=>{const s=e[0],f=e.slice(1);return Array(i[t]).fill(undefined).map(((e,t)=>{let i=t*n;return[s+t*r,f.map((e=>e+i))]}))})))}function read_replacement_table$1(e,t){let r=1+t();let n=read_transposed$1(r,1+e,t);return n.map((e=>[e[0],e.slice(1)]))}function read_emoji_trie$1(e){let t=read_member_array$1(e).sort(((e,t)=>e-t));return r();function r(){let n=[];while(true){let i=read_member_array$1(e,t);if(i.length==0)break;n.push({set:new Set(i),node:r()})}n.sort(((e,t)=>t.set.size-e.set.size));let i=e();let s=i%3;i=i/3|0;let f=!!(i&1);i>>=1;let a=i==1;let o=i==2;return{branches:n,valid:s,fe0f:f,save:a,check:o}}}function getData$1(){return read_compressed_payload$1(decode$9("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const r$4=getData$1();const VALID$1=new Set(read_member_array$1(r$4));const IGNORED$1=new Set(read_member_array$1(r$4));const MAPPED$1=read_mapped_map$1(r$4);const EMOJI_ROOT$1=read_emoji_trie$1(r$4);const HYPHEN$1=45;const UNDERSCORE$1=95;function explode_cp$1(e){return toUtf8CodePoints$1(e)}function filter_fe0f$1(e){return e.filter((e=>e!=65039))}function ens_normalize_post_check$1(e){for(let t of e.split(".")){let e=explode_cp$1(t);try{for(let t=e.lastIndexOf(UNDERSCORE$1)-1;t>=0;t--){if(e[t]!==UNDERSCORE$1){throw new Error(`underscore only allowed at start`)}}if(e.length>=4&&e.every((e=>e<128))&&e[2]===HYPHEN$1&&e[3]===HYPHEN$1){throw new Error(`invalid label extension`)}}catch(e){throw new Error(`Invalid label "${t}": ${e.message}`)}}return e}function ens_normalize$1(e){return ens_normalize_post_check$1(normalize$1(e,filter_fe0f$1))}function normalize$1(e,t){let r=explode_cp$1(e).reverse();let n=[];while(r.length){let e=consume_emoji_reversed$1(r);if(e){n.push(...t(e));continue}let i=r.pop();if(VALID$1.has(i)){n.push(i);continue}if(IGNORED$1.has(i)){continue}let s=MAPPED$1[i];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`)}return ens_normalize_post_check$1(nfc$1(String.fromCodePoint(...n)))}function nfc$1(e){return e.normalize("NFC")}function consume_emoji_reversed$1(e,t){var r;let n=EMOJI_ROOT$1;let i;let s;let f=[];let a=e.length;if(t)t.length=0;while(a){let o=e[--a];n=(r=n.branches.find((e=>e.set.has(o))))===null||r===void 0?void 0:r.node;if(!n)break;if(n.save){s=o}else if(n.check){if(o===s)break}f.push(o);if(n.fe0f){f.push(65039);if(a>0&&e[a-1]==65039)a--}if(n.valid){i=f.slice();if(n.valid==2)i.splice(1,1);if(t)t.push(...e.slice(a).reverse());e.length=a}}return i}const logger$1g=new Logger$1(version$H);const Zeros$3=new Uint8Array(32);Zeros$3.fill(0);function checkComponent$1(e){if(e.length===0){throw new Error("invalid ENS name; empty component")}return e}function ensNameSplit$1(e){const t=toUtf8Bytes$1(ens_normalize$1(e));const r=[];if(e.length===0){return r}let n=0;for(let e=0;e<t.length;e++){const i=t[e];if(i===46){r.push(checkComponent$1(t.slice(n,e)));n=e+1}}if(n>=t.length){throw new Error("invalid ENS name; empty component")}r.push(checkComponent$1(t.slice(n)));return r}function ensNormalize(e){return ensNameSplit$1(e).map((e=>toUtf8String$1(e))).join(".")}function isValidName$1(e){try{return ensNameSplit$1(e).length!==0}catch(e){}return false}function namehash$1(e){if(typeof e!=="string"){logger$1g.throwArgumentError("invalid ENS name; not a string","name",e)}let t=Zeros$3;const r=ensNameSplit$1(e);while(r.length){t=keccak256$3(concat$5([t,keccak256$3(r.pop())]))}return hexlify$1(t)}function dnsEncode$1(e){return hexlify$1(concat$5(ensNameSplit$1(e).map((e=>{if(e.length>63){throw new Error("invalid DNS encoded entry; length exceeds 63 bytes")}const t=new Uint8Array(e.length+1);t.set(e,1);t[0]=t.length-1;return t}))))+"00"}const messagePrefix$1="Ethereum Signed Message:\n";function hashMessage$1(e){if(typeof e==="string"){e=toUtf8Bytes$1(e)}return keccak256$3(concat$5([toUtf8Bytes$1(messagePrefix$1),toUtf8Bytes$1(String(e.length)),e]))}var __awaiter$w=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$1f=new Logger$1(version$H);const padding$1=new Uint8Array(32);padding$1.fill(0);const NegativeOne$3=BigNumber$2.from(-1);const Zero$3=BigNumber$2.from(0);const One$2=BigNumber$2.from(1);const MaxUint256$2=BigNumber$2.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight$1(e){const t=arrayify$2(e);const r=t.length%32;if(r){return hexConcat$1([t,padding$1.slice(r)])}return hexlify$1(t)}const hexTrue$1=hexZeroPad$1(One$2.toHexString(),32);const hexFalse$1=hexZeroPad$1(Zero$3.toHexString(),32);const domainFieldTypes$1={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"};const domainFieldNames$1=["name","version","chainId","verifyingContract","salt"];function checkString$1(e){return function(t){if(typeof t!=="string"){logger$1f.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t)}return t}}const domainChecks$1={name:checkString$1("name"),version:checkString$1("version"),chainId:function(e){try{return BigNumber$2.from(e).toString()}catch(e){}return logger$1f.throwArgumentError(`invalid domain value for "chainId"`,"domain.chainId",e)},verifyingContract:function(e){try{return getAddress$1(e).toLowerCase()}catch(e){}return logger$1f.throwArgumentError(`invalid domain value "verifyingContract"`,"domain.verifyingContract",e)},salt:function(e){try{const t=arrayify$2(e);if(t.length!==32){throw new Error("bad length")}return hexlify$1(t)}catch(e){}return logger$1f.throwArgumentError(`invalid domain value "salt"`,"domain.salt",e)}};function getBaseEncoder$1(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const r=t[1]==="";const n=parseInt(t[2]||"256");if(n%8!==0||n>256||t[2]&&t[2]!==String(n)){logger$1f.throwArgumentError("invalid numeric width","type",e)}const i=MaxUint256$2.mask(r?n-1:n);const s=r?i.add(One$2).mul(NegativeOne$3):Zero$3;return function(t){const r=BigNumber$2.from(t);if(r.lt(s)||r.gt(i)){logger$1f.throwArgumentError(`value out-of-bounds for ${e}`,"value",t)}return hexZeroPad$1(r.toTwos(256).toHexString(),32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);if(r===0||r>32||t[1]!==String(r)){logger$1f.throwArgumentError("invalid bytes width","type",e)}return function(t){const n=arrayify$2(t);if(n.length!==r){logger$1f.throwArgumentError(`invalid length for ${e}`,"value",t)}return hexPadRight$1(t)}}}switch(e){case"address":return function(e){return hexZeroPad$1(getAddress$1(e),32)};case"bool":return function(e){return!e?hexFalse$1:hexTrue$1};case"bytes":return function(e){return keccak256$3(e)};case"string":return function(e){return id$1(e)}}return null}function encodeType$1(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}class TypedDataEncoder$1{constructor(e){defineReadOnly$1(this,"types",Object.freeze(deepCopy$1(e)));defineReadOnly$1(this,"_encoderCache",{});defineReadOnly$1(this,"_types",{});const t={};const r={};const n={};Object.keys(e).forEach((e=>{t[e]={};r[e]=[];n[e]={}}));for(const n in e){const i={};e[n].forEach((s=>{if(i[s.name]){logger$1f.throwArgumentError(`duplicate variable name ${JSON.stringify(s.name)} in ${JSON.stringify(n)}`,"types",e)}i[s.name]=true;const f=s.type.match(/^([^\x5b]*)(\x5b|$)/)[1];if(f===n){logger$1f.throwArgumentError(`circular type reference to ${JSON.stringify(f)}`,"types",e)}const a=getBaseEncoder$1(f);if(a){return}if(!r[f]){logger$1f.throwArgumentError(`unknown type ${JSON.stringify(f)}`,"types",e)}r[f].push(n);t[n][f]=true}))}const i=Object.keys(r).filter((e=>r[e].length===0));if(i.length===0){logger$1f.throwArgumentError("missing primary type","types",e)}else if(i.length>1){logger$1f.throwArgumentError(`ambiguous primary types or unused types: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"types",e)}defineReadOnly$1(this,"primaryType",i[0]);function s(i,f){if(f[i]){logger$1f.throwArgumentError(`circular type reference to ${JSON.stringify(i)}`,"types",e)}f[i]=true;Object.keys(t[i]).forEach((e=>{if(!r[e]){return}s(e,f);Object.keys(f).forEach((t=>{n[t][e]=true}))}));delete f[i]}s(this.primaryType,{});for(const t in n){const r=Object.keys(n[t]);r.sort();this._types[t]=encodeType$1(t,e[t])+r.map((t=>encodeType$1(t,e[t]))).join("")}}getEncoder(e){let t=this._encoderCache[e];if(!t){t=this._encoderCache[e]=this._getEncoder(e)}return t}_getEncoder(e){{const t=getBaseEncoder$1(e);if(t){return t}}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1];const r=this.getEncoder(e);const n=parseInt(t[3]);return t=>{if(n>=0&&t.length!==n){logger$1f.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t)}let i=t.map(r);if(this._types[e]){i=i.map(keccak256$3)}return keccak256$3(hexConcat$1(i))}}const r=this.types[e];if(r){const t=id$1(this._types[e]);return e=>{const n=r.map((({name:t,type:r})=>{const n=this.getEncoder(r)(e[t]);if(this._types[r]){return keccak256$3(n)}return n}));n.unshift(t);return hexConcat$1(n)}}return logger$1f.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];if(!t){logger$1f.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e)}return t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return keccak256$3(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){{const n=getBaseEncoder$1(e);if(n){return r(e,t)}}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const e=n[1];const i=parseInt(n[3]);if(i>=0&&t.length!==i){logger$1f.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t)}return t.map((t=>this._visit(e,t,r)))}const i=this.types[e];if(i){return i.reduce(((e,{name:n,type:i})=>{e[n]=this._visit(i,t[n],r);return e}),{})}return logger$1f.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new TypedDataEncoder$1(e)}static getPrimaryType(e){return TypedDataEncoder$1.from(e).primaryType}static hashStruct(e,t,r){return TypedDataEncoder$1.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){const n=domainFieldTypes$1[r];if(!n){logger$1f.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e)}t.push({name:r,type:n})}t.sort(((e,t)=>domainFieldNames$1.indexOf(e.name)-domainFieldNames$1.indexOf(t.name)));return TypedDataEncoder$1.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return hexConcat$1(["0x1901",TypedDataEncoder$1.hashDomain(e),TypedDataEncoder$1.from(t).hash(r)])}static hash(e,t,r){return keccak256$3(TypedDataEncoder$1.encode(e,t,r))}static resolveNames(e,t,r,n){return __awaiter$w(this,void 0,void 0,(function*(){e=shallowCopy$1(e);const i={};if(e.verifyingContract&&!isHexString$1(e.verifyingContract,20)){i[e.verifyingContract]="0x"}const s=TypedDataEncoder$1.from(t);s.visit(r,((e,t)=>{if(e==="address"&&!isHexString$1(t,20)){i[t]="0x"}return t}));for(const e in i){i[e]=yield n(e)}if(e.verifyingContract&&i[e.verifyingContract]){e.verifyingContract=i[e.verifyingContract]}r=s.visit(r,((e,t)=>{if(e==="address"&&i[t]){return i[t]}return t}));return{domain:e,value:r}}))}static getPayload(e,t,r){TypedDataEncoder$1.hashDomain(e);const n={};const i=[];domainFieldNames$1.forEach((t=>{const r=e[t];if(r==null){return}n[t]=domainChecks$1[t](r);i.push({name:t,type:domainFieldTypes$1[t]})}));const s=TypedDataEncoder$1.from(t);const f=shallowCopy$1(t);if(f.EIP712Domain){logger$1f.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t)}else{f.EIP712Domain=i}s.encode(r);return{types:f,domain:n,primaryType:s.primaryType,message:s.visit(r,((e,t)=>{if(e.match(/^bytes(\d*)/)){return hexlify$1(arrayify$2(t))}if(e.match(/^u?int/)){return BigNumber$2.from(t).toString()}switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":if(typeof t!=="string"){logger$1f.throwArgumentError(`invalid string`,"value",t)}return t}return logger$1f.throwArgumentError("unsupported type","type",e)}))}}}const lib_esm$d=Object.freeze({__proto__:null,id:id$1,dnsEncode:dnsEncode$1,namehash:namehash$1,isValidName:isValidName$1,ensNormalize,messagePrefix:messagePrefix$1,hashMessage:hashMessage$1,_TypedDataEncoder:TypedDataEncoder$1});const logger$1e=new Logger$1(version$L);class LogDescription$1 extends Description$1{}class TransactionDescription$1 extends Description$1{}class ErrorDescription$1 extends Description$1{}class Indexed$1 extends Description$1{static isIndexed(e){return!!(e&&e._isIndexed)}}const BuiltinErrors$1={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:true},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError$1(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);r.error=t;return r}class Interface$1{constructor(e){let t=[];if(typeof e==="string"){t=JSON.parse(e)}else{t=e}defineReadOnly$1(this,"fragments",t.map((e=>Fragment$1.from(e))).filter((e=>e!=null)));defineReadOnly$1(this,"_abiCoder",getStatic$1(new.target,"getAbiCoder")());defineReadOnly$1(this,"functions",{});defineReadOnly$1(this,"errors",{});defineReadOnly$1(this,"events",{});defineReadOnly$1(this,"structs",{});this.fragments.forEach((e=>{let t=null;switch(e.type){case"constructor":if(this.deploy){logger$1e.warn("duplicate definition - constructor");return}defineReadOnly$1(this,"deploy",e);return;case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();if(t[r]){logger$1e.warn("duplicate definition - "+r);return}t[r]=e}));if(!this.deploy){defineReadOnly$1(this,"deploy",ConstructorFragment$1.from({payable:false,type:"constructor"}))}defineReadOnly$1(this,"_isInterface",true)}format(e){if(!e){e=FormatTypes$1.full}if(e===FormatTypes$1.sighash){logger$1e.throwArgumentError("interface does not support formatting sighash","format",e)}const t=this.fragments.map((t=>t.format(e)));if(e===FormatTypes$1.json){return JSON.stringify(t.map((e=>JSON.parse(e))))}return t}static getAbiCoder(){return defaultAbiCoder$1}static getAddress(e){return getAddress$1(e)}static getSighash(e){return hexDataSlice$1(id$1(e.format()),0,4)}static getEventTopic(e){return id$1(e.format())}getFunction(e){if(isHexString$1(e)){for(const t in this.functions){if(e===this.getSighash(t)){return this.functions[t]}}logger$1e.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const t=e.trim();const r=Object.keys(this.functions).filter((e=>e.split("(")[0]===t));if(r.length===0){logger$1e.throwArgumentError("no matching function","name",t)}else if(r.length>1){logger$1e.throwArgumentError("multiple matching functions","name",t)}return this.functions[r[0]]}const t=this.functions[FunctionFragment$1.fromString(e).format()];if(!t){logger$1e.throwArgumentError("no matching function","signature",e)}return t}getEvent(e){if(isHexString$1(e)){const t=e.toLowerCase();for(const e in this.events){if(t===this.getEventTopic(e)){return this.events[e]}}logger$1e.throwArgumentError("no matching event","topichash",t)}if(e.indexOf("(")===-1){const t=e.trim();const r=Object.keys(this.events).filter((e=>e.split("(")[0]===t));if(r.length===0){logger$1e.throwArgumentError("no matching event","name",t)}else if(r.length>1){logger$1e.throwArgumentError("multiple matching events","name",t)}return this.events[r[0]]}const t=this.events[EventFragment$1.fromString(e).format()];if(!t){logger$1e.throwArgumentError("no matching event","signature",e)}return t}getError(e){if(isHexString$1(e)){const t=getStatic$1(this.constructor,"getSighash");for(const r in this.errors){const n=this.errors[r];if(e===t(n)){return this.errors[r]}}logger$1e.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const t=e.trim();const r=Object.keys(this.errors).filter((e=>e.split("(")[0]===t));if(r.length===0){logger$1e.throwArgumentError("no matching error","name",t)}else if(r.length>1){logger$1e.throwArgumentError("multiple matching errors","name",t)}return this.errors[r[0]]}const t=this.errors[FunctionFragment$1.fromString(e).format()];if(!t){logger$1e.throwArgumentError("no matching error","signature",e)}return t}getSighash(e){if(typeof e==="string"){try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}}return getStatic$1(this.constructor,"getSighash")(e)}getEventTopic(e){if(typeof e==="string"){e=this.getEvent(e)}return getStatic$1(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e==="string"){e=this.getError(e)}const r=arrayify$2(t);if(hexlify$1(r.slice(0,4))!==this.getSighash(e)){logger$1e.throwArgumentError(`data signature does not match error ${e.name}.`,"data",hexlify$1(r))}return this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){if(typeof e==="string"){e=this.getError(e)}return hexlify$1(concat$5([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){if(typeof e==="string"){e=this.getFunction(e)}const r=arrayify$2(t);if(hexlify$1(r.slice(0,4))!==this.getSighash(e)){logger$1e.throwArgumentError(`data signature does not match function ${e.name}.`,"data",hexlify$1(r))}return this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){if(typeof e==="string"){e=this.getFunction(e)}return hexlify$1(concat$5([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){if(typeof e==="string"){e=this.getFunction(e)}let r=arrayify$2(t);let n=null;let i="";let s=null;let f=null;let a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(e){}break;case 4:{const e=hexlify$1(r.slice(0,4));const t=BuiltinErrors$1[e];if(t){s=this._abiCoder.decode(t.inputs,r.slice(4));f=t.name;a=t.signature;if(t.reason){n=s[0]}if(f==="Error"){i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`}else if(f==="Panic"){i=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`}}else{try{const t=this.getError(e);s=this._abiCoder.decode(t.inputs,r.slice(4));f=t.name;a=t.format()}catch(e){}}break}}return logger$1e.throwError("call revert exception"+i,Logger$1.errors.CALL_EXCEPTION,{method:e.format(),data:hexlify$1(t),errorArgs:s,errorName:f,errorSignature:a,reason:n})}encodeFunctionResult(e,t){if(typeof e==="string"){e=this.getFunction(e)}return hexlify$1(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e==="string"){e=this.getEvent(e)}if(t.length>e.inputs.length){logger$1e.throwError("too many arguments for "+e.format(),Logger$1.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t})}let r=[];if(!e.anonymous){r.push(this.getEventTopic(e))}const n=(e,t)=>{if(e.type==="string"){return id$1(t)}else if(e.type==="bytes"){return keccak256$3(hexlify$1(t))}if(e.type==="bool"&&typeof t==="boolean"){t=t?"0x01":"0x00"}if(e.type.match(/^u?int/)){t=BigNumber$2.from(t).toHexString()}if(e.type==="address"){this._abiCoder.encode(["address"],[t])}return hexZeroPad$1(hexlify$1(t),32)};t.forEach(((t,i)=>{let s=e.inputs[i];if(!s.indexed){if(t!=null){logger$1e.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+s.name,t)}return}if(t==null){r.push(null)}else if(s.baseType==="array"||s.baseType==="tuple"){logger$1e.throwArgumentError("filtering with tuples or arrays not supported","contract."+s.name,t)}else if(Array.isArray(t)){r.push(t.map((e=>n(s,e))))}else{r.push(n(s,t))}}));while(r.length&&r[r.length-1]===null){r.pop()}return r}encodeEventLog(e,t){if(typeof e==="string"){e=this.getEvent(e)}const r=[];const n=[];const i=[];if(!e.anonymous){r.push(this.getEventTopic(e))}if(t.length!==e.inputs.length){logger$1e.throwArgumentError("event arguments/values mismatch","values",t)}e.inputs.forEach(((e,s)=>{const f=t[s];if(e.indexed){if(e.type==="string"){r.push(id$1(f))}else if(e.type==="bytes"){r.push(keccak256$3(f))}else if(e.baseType==="tuple"||e.baseType==="array"){throw new Error("not implemented")}else{r.push(this._abiCoder.encode([e.type],[f]))}}else{n.push(e);i.push(f)}}));return{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(e,t,r){if(typeof e==="string"){e=this.getEvent(e)}if(r!=null&&!e.anonymous){let t=this.getEventTopic(e);if(!isHexString$1(r[0],32)||r[0].toLowerCase()!==t){logger$1e.throwError("fragment/topic mismatch",Logger$1.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:r[0]})}r=r.slice(1)}let n=[];let i=[];let s=[];e.inputs.forEach(((e,t)=>{if(e.indexed){if(e.type==="string"||e.type==="bytes"||e.baseType==="tuple"||e.baseType==="array"){n.push(ParamType$1.fromObject({type:"bytes32",name:e.name}));s.push(true)}else{n.push(e);s.push(false)}}else{i.push(e);s.push(false)}}));let f=r!=null?this._abiCoder.decode(n,concat$5(r)):null;let a=this._abiCoder.decode(i,t,true);let o=[];let c=0,u=0;e.inputs.forEach(((e,t)=>{if(e.indexed){if(f==null){o[t]=new Indexed$1({_isIndexed:true,hash:null})}else if(s[t]){o[t]=new Indexed$1({_isIndexed:true,hash:f[u++]})}else{try{o[t]=f[u++]}catch(e){o[t]=e}}}else{try{o[t]=a[c++]}catch(e){o[t]=e}}if(e.name&&o[e.name]==null){const r=o[t];if(r instanceof Error){Object.defineProperty(o,e.name,{enumerable:true,get:()=>{throw wrapAccessError$1(`property ${JSON.stringify(e.name)}`,r)}})}else{o[e.name]=r}}}));for(let e=0;e<o.length;e++){const t=o[e];if(t instanceof Error){Object.defineProperty(o,e,{enumerable:true,get:()=>{throw wrapAccessError$1(`index ${e}`,t)}})}}return Object.freeze(o)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());if(!t){return null}return new TransactionDescription$1({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:BigNumber$2.from(e.value||"0")})}parseLog(e){let t=this.getEvent(e.topics[0]);if(!t||t.anonymous){return null}return new LogDescription$1({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=hexlify$1(e);let r=this.getError(t.substring(0,10).toLowerCase());if(!r){return null}return new ErrorDescription$1({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)})}static isInterface(e){return!!(e&&e._isInterface)}}const lib_esm$c=Object.freeze({__proto__:null,ConstructorFragment:ConstructorFragment$1,ErrorFragment:ErrorFragment$1,EventFragment:EventFragment$1,Fragment:Fragment$1,FunctionFragment:FunctionFragment$1,ParamType:ParamType$1,FormatTypes:FormatTypes$1,AbiCoder:AbiCoder$1,defaultAbiCoder:defaultAbiCoder$1,Interface:Interface$1,Indexed:Indexed$1,checkResultErrors:checkResultErrors$1,LogDescription:LogDescription$1,TransactionDescription:TransactionDescription$1});const version$G="abstract-provider/5.7.0";var __awaiter$v=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$1d=new Logger$1(version$G);class ForkEvent$1 extends Description$1{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Provider$1{constructor(){logger$1d.checkAbstract(new.target,Provider$1);defineReadOnly$1(this,"_isProvider",true)}getFeeData(){return __awaiter$v(this,void 0,void 0,(function*(){const{block:e,gasPrice:t}=yield resolveProperties$1({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((e=>null))});let r=null,n=null,i=null;if(e&&e.baseFeePerGas){r=e.baseFeePerGas;i=BigNumber$2.from("1500000000");n=e.baseFeePerGas.mul(2).add(i)}return{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:t}}))}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const version$F="abstract-signer/5.7.0";var __awaiter$u=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$1c=new Logger$1(version$F);const allowedTransactionKeys$7=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"];const forwardErrors$1=[Logger$1.errors.INSUFFICIENT_FUNDS,Logger$1.errors.NONCE_EXPIRED,Logger$1.errors.REPLACEMENT_UNDERPRICED];class Signer$1{constructor(){logger$1c.checkAbstract(new.target,Signer$1);defineReadOnly$1(this,"_isSigner",true)}getBalance(e){return __awaiter$u(this,void 0,void 0,(function*(){this._checkProvider("getBalance");return yield this.provider.getBalance(this.getAddress(),e)}))}getTransactionCount(e){return __awaiter$u(this,void 0,void 0,(function*(){this._checkProvider("getTransactionCount");return yield this.provider.getTransactionCount(this.getAddress(),e)}))}estimateGas(e){return __awaiter$u(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const t=yield resolveProperties$1(this.checkTransaction(e));return yield this.provider.estimateGas(t)}))}call(e,t){return __awaiter$u(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield resolveProperties$1(this.checkTransaction(e));return yield this.provider.call(r,t)}))}sendTransaction(e){return __awaiter$u(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e);const r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)}))}getChainId(){return __awaiter$u(this,void 0,void 0,(function*(){this._checkProvider("getChainId");const e=yield this.provider.getNetwork();return e.chainId}))}getGasPrice(){return __awaiter$u(this,void 0,void 0,(function*(){this._checkProvider("getGasPrice");return yield this.provider.getGasPrice()}))}getFeeData(){return __awaiter$u(this,void 0,void 0,(function*(){this._checkProvider("getFeeData");return yield this.provider.getFeeData()}))}resolveName(e){return __awaiter$u(this,void 0,void 0,(function*(){this._checkProvider("resolveName");return yield this.provider.resolveName(e)}))}checkTransaction(e){for(const t in e){if(allowedTransactionKeys$7.indexOf(t)===-1){logger$1c.throwArgumentError("invalid transaction key: "+t,"transaction",e)}}const t=shallowCopy$1(e);if(t.from==null){t.from=this.getAddress()}else{t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then((t=>{if(t[0].toLowerCase()!==t[1].toLowerCase()){logger$1c.throwArgumentError("from address mismatch","transaction",e)}return t[0]}))}return t}populateTransaction(e){return __awaiter$u(this,void 0,void 0,(function*(){const t=yield resolveProperties$1(this.checkTransaction(e));if(t.to!=null){t.to=Promise.resolve(t.to).then((e=>__awaiter$u(this,void 0,void 0,(function*(){if(e==null){return null}const t=yield this.resolveName(e);if(t==null){logger$1c.throwArgumentError("provided ENS name resolves to null","tx.to",e)}return t}))));t.to.catch((e=>{}))}const r=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||r)){logger$1c.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e)}else if((t.type===0||t.type===1)&&r){logger$1c.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e)}if((t.type===2||t.type==null)&&(t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)){t.type=2}else if(t.type===0||t.type===1){if(t.gasPrice==null){t.gasPrice=this.getGasPrice()}}else{const e=yield this.getFeeData();if(t.type==null){if(e.maxFeePerGas!=null&&e.maxPriorityFeePerGas!=null){t.type=2;if(t.gasPrice!=null){const e=t.gasPrice;delete t.gasPrice;t.maxFeePerGas=e;t.maxPriorityFeePerGas=e}else{if(t.maxFeePerGas==null){t.maxFeePerGas=e.maxFeePerGas}if(t.maxPriorityFeePerGas==null){t.maxPriorityFeePerGas=e.maxPriorityFeePerGas}}}else if(e.gasPrice!=null){if(r){logger$1c.throwError("network does not support EIP-1559",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"})}if(t.gasPrice==null){t.gasPrice=e.gasPrice}t.type=0}else{logger$1c.throwError("failed to get consistent fee data",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"})}}else if(t.type===2){if(t.maxFeePerGas==null){t.maxFeePerGas=e.maxFeePerGas}if(t.maxPriorityFeePerGas==null){t.maxPriorityFeePerGas=e.maxPriorityFeePerGas}}}if(t.nonce==null){t.nonce=this.getTransactionCount("pending")}if(t.gasLimit==null){t.gasLimit=this.estimateGas(t).catch((e=>{if(forwardErrors$1.indexOf(e.code)>=0){throw e}return logger$1c.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger$1.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))}if(t.chainId==null){t.chainId=this.getChainId()}else{t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then((t=>{if(t[1]!==0&&t[0]!==t[1]){logger$1c.throwArgumentError("chainId address mismatch","transaction",e)}return t[0]}))}return yield resolveProperties$1(t)}))}_checkProvider(e){if(!this.provider){logger$1c.throwError("missing provider",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}}static isSigner(e){return!!(e&&e._isSigner)}}class VoidSigner$1 extends Signer$1{constructor(e,t){super();defineReadOnly$1(this,"address",e);defineReadOnly$1(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then((()=>{logger$1c.throwError(e,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:t})}))}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new VoidSigner$1(this.address,e)}}var minimalisticAssert$3=assert$h;function assert$h(e,t){if(!e)throw new Error(t||"Assertion failed")}assert$h.equal=function e(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};var inherits_browser$3=createCommonjsModule$2((function(e){if(typeof Object.create==="function"){e.exports=function e(t,r){if(r){t.super_=r;t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}}else{e.exports=function e(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype;t.prototype=new n;t.prototype.constructor=t}}}}));var inherits_1$1=inherits_browser$3;function isSurrogatePair$1(e,t){if((e.charCodeAt(t)&64512)!==55296){return false}if(t<0||t+1>=e.length){return false}return(e.charCodeAt(t+1)&64512)===56320}function toArray$1(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e==="string"){if(!t){var n=0;for(var i=0;i<e.length;i++){var s=e.charCodeAt(i);if(s<128){r[n++]=s}else if(s<2048){r[n++]=s>>6|192;r[n++]=s&63|128}else if(isSurrogatePair$1(e,i)){s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023);r[n++]=s>>18|240;r[n++]=s>>12&63|128;r[n++]=s>>6&63|128;r[n++]=s&63|128}else{r[n++]=s>>12|224;r[n++]=s>>6&63|128;r[n++]=s&63|128}}}else if(t==="hex"){e=e.replace(/[^a-z0-9]+/gi,"");if(e.length%2!==0)e="0"+e;for(i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}}else{for(i=0;i<e.length;i++)r[i]=e[i]|0}return r}var toArray_1$1=toArray$1;function toHex$3(e){var t="";for(var r=0;r<e.length;r++)t+=zero2$1(e[r].toString(16));return t}var toHex_1$1=toHex$3;function htonl$1(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}var htonl_1$1=htonl$1;function toHex32$1(e,t){var r="";for(var n=0;n<e.length;n++){var i=e[n];if(t==="little")i=htonl$1(i);r+=zero8$1(i.toString(16))}return r}var toHex32_1$1=toHex32$1;function zero2$1(e){if(e.length===1)return"0"+e;else return e}var zero2_1$1=zero2$1;function zero8$1(e){if(e.length===7)return"0"+e;else if(e.length===6)return"00"+e;else if(e.length===5)return"000"+e;else if(e.length===4)return"0000"+e;else if(e.length===3)return"00000"+e;else if(e.length===2)return"000000"+e;else if(e.length===1)return"0000000"+e;else return e}var zero8_1$1=zero8$1;function join32$1(e,t,r,n){var i=r-t;minimalisticAssert$3(i%4===0);var s=new Array(i/4);for(var f=0,a=t;f<s.length;f++,a+=4){var o;if(n==="big")o=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3];else o=e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a];s[f]=o>>>0}return s}var join32_1$1=join32$1;function split32$1(e,t){var r=new Array(e.length*4);for(var n=0,i=0;n<e.length;n++,i+=4){var s=e[n];if(t==="big"){r[i]=s>>>24;r[i+1]=s>>>16&255;r[i+2]=s>>>8&255;r[i+3]=s&255}else{r[i+3]=s>>>24;r[i+2]=s>>>16&255;r[i+1]=s>>>8&255;r[i]=s&255}}return r}var split32_1$1=split32$1;function rotr32$3(e,t){return e>>>t|e<<32-t}var rotr32_1$1=rotr32$3;function rotl32$5(e,t){return e<<t|e>>>32-t}var rotl32_1$1=rotl32$5;function sum32$7(e,t){return e+t>>>0}var sum32_1$1=sum32$7;function sum32_3$3(e,t,r){return e+t+r>>>0}var sum32_3_1$1=sum32_3$3;function sum32_4$5(e,t,r,n){return e+t+r+n>>>0}var sum32_4_1$1=sum32_4$5;function sum32_5$5(e,t,r,n,i){return e+t+r+n+i>>>0}var sum32_5_1$1=sum32_5$5;function sum64$3(e,t,r,n){var i=e[t];var s=e[t+1];var f=n+s>>>0;var a=(f<n?1:0)+r+i;e[t]=a>>>0;e[t+1]=f}var sum64_1$1=sum64$3;function sum64_hi$3(e,t,r,n){var i=t+n>>>0;var s=(i<t?1:0)+e+r;return s>>>0}var sum64_hi_1$1=sum64_hi$3;function sum64_lo$3(e,t,r,n){var i=t+n;return i>>>0}var sum64_lo_1$1=sum64_lo$3;function sum64_4_hi$3(e,t,r,n,i,s,f,a){var o=0;var c=t;c=c+n>>>0;o+=c<t?1:0;c=c+s>>>0;o+=c<s?1:0;c=c+a>>>0;o+=c<a?1:0;var u=e+r+i+f+o;return u>>>0}var sum64_4_hi_1$1=sum64_4_hi$3;function sum64_4_lo$3(e,t,r,n,i,s,f,a){var o=t+n+s+a;return o>>>0}var sum64_4_lo_1$1=sum64_4_lo$3;function sum64_5_hi$3(e,t,r,n,i,s,f,a,o,c){var u=0;var l=t;l=l+n>>>0;u+=l<t?1:0;l=l+s>>>0;u+=l<s?1:0;l=l+a>>>0;u+=l<a?1:0;l=l+c>>>0;u+=l<c?1:0;var h=e+r+i+f+o+u;return h>>>0}var sum64_5_hi_1$1=sum64_5_hi$3;function sum64_5_lo$3(e,t,r,n,i,s,f,a,o,c){var u=t+n+s+a+c;return u>>>0}var sum64_5_lo_1$1=sum64_5_lo$3;function rotr64_hi$3(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}var rotr64_hi_1$1=rotr64_hi$3;function rotr64_lo$3(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}var rotr64_lo_1$1=rotr64_lo$3;function shr64_hi$3(e,t,r){return e>>>r}var shr64_hi_1$1=shr64_hi$3;function shr64_lo$3(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}var shr64_lo_1$1=shr64_lo$3;var utils$8={inherits:inherits_1$1,toArray:toArray_1$1,toHex:toHex_1$1,htonl:htonl_1$1,toHex32:toHex32_1$1,zero2:zero2_1$1,zero8:zero8_1$1,join32:join32_1$1,split32:split32_1$1,rotr32:rotr32_1$1,rotl32:rotl32_1$1,sum32:sum32_1$1,sum32_3:sum32_3_1$1,sum32_4:sum32_4_1$1,sum32_5:sum32_5_1$1,sum64:sum64_1$1,sum64_hi:sum64_hi_1$1,sum64_lo:sum64_lo_1$1,sum64_4_hi:sum64_4_hi_1$1,sum64_4_lo:sum64_4_lo_1$1,sum64_5_hi:sum64_5_hi_1$1,sum64_5_lo:sum64_5_lo_1$1,rotr64_hi:rotr64_hi_1$1,rotr64_lo:rotr64_lo_1$1,shr64_hi:shr64_hi_1$1,shr64_lo:shr64_lo_1$1};function BlockHash$9(){this.pending=null;this.pendingTotal=0;this.blockSize=this.constructor.blockSize;this.outSize=this.constructor.outSize;this.hmacStrength=this.constructor.hmacStrength;this.padLength=this.constructor.padLength/8;this.endian="big";this._delta8=this.blockSize/8;this._delta32=this.blockSize/32}var BlockHash_1$1=BlockHash$9;BlockHash$9.prototype.update=function e(t,r){t=utils$8.toArray(t,r);if(!this.pending)this.pending=t;else this.pending=this.pending.concat(t);this.pendingTotal+=t.length;if(this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length);if(this.pending.length===0)this.pending=null;t=utils$8.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this};BlockHash$9.prototype.digest=function e(t){this.update(this._pad());minimalisticAssert$3(this.pending===null);return this._digest(t)};BlockHash$9.prototype._pad=function e(){var t=this.pendingTotal;var r=this._delta8;var n=r-(t+this.padLength)%r;var i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;t<<=3;if(this.endian==="big"){for(var f=8;f<this.padLength;f++)i[s++]=0;i[s++]=0;i[s++]=0;i[s++]=0;i[s++]=0;i[s++]=t>>>24&255;i[s++]=t>>>16&255;i[s++]=t>>>8&255;i[s++]=t&255}else{i[s++]=t&255;i[s++]=t>>>8&255;i[s++]=t>>>16&255;i[s++]=t>>>24&255;i[s++]=0;i[s++]=0;i[s++]=0;i[s++]=0;for(f=8;f<this.padLength;f++)i[s++]=0}return i};var common$4={BlockHash:BlockHash_1$1};var rotr32$2=utils$8.rotr32;function ft_1$3(e,t,r,n){if(e===0)return ch32$3(t,r,n);if(e===1||e===3)return p32$1(t,r,n);if(e===2)return maj32$3(t,r,n)}var ft_1_1$1=ft_1$3;function ch32$3(e,t,r){return e&t^~e&r}var ch32_1$1=ch32$3;function maj32$3(e,t,r){return e&t^e&r^t&r}var maj32_1$1=maj32$3;function p32$1(e,t,r){return e^t^r}var p32_1$1=p32$1;function s0_256$3(e){return rotr32$2(e,2)^rotr32$2(e,13)^rotr32$2(e,22)}var s0_256_1$1=s0_256$3;function s1_256$3(e){return rotr32$2(e,6)^rotr32$2(e,11)^rotr32$2(e,25)}var s1_256_1$1=s1_256$3;function g0_256$3(e){return rotr32$2(e,7)^rotr32$2(e,18)^e>>>3}var g0_256_1$1=g0_256$3;function g1_256$3(e){return rotr32$2(e,17)^rotr32$2(e,19)^e>>>10}var g1_256_1$1=g1_256$3;var common$3={ft_1:ft_1_1$1,ch32:ch32_1$1,maj32:maj32_1$1,p32:p32_1$1,s0_256:s0_256_1$1,s1_256:s1_256_1$1,g0_256:g0_256_1$1,g1_256:g1_256_1$1};var rotl32$4=utils$8.rotl32;var sum32$6=utils$8.sum32;var sum32_5$4=utils$8.sum32_5;var ft_1$2=common$3.ft_1;var BlockHash$8=common$4.BlockHash;var sha1_K$1=[1518500249,1859775393,2400959708,3395469782];function SHA1$3(){if(!(this instanceof SHA1$3))return new SHA1$3;BlockHash$8.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.W=new Array(80)}utils$8.inherits(SHA1$3,BlockHash$8);var _1$1=SHA1$3;SHA1$3.blockSize=512;SHA1$3.outSize=160;SHA1$3.hmacStrength=80;SHA1$3.padLength=64;SHA1$3.prototype._update=function e(t,r){var n=this.W;for(var i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=rotl32$4(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0];var f=this.h[1];var a=this.h[2];var o=this.h[3];var c=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20);var l=sum32_5$4(rotl32$4(s,5),ft_1$2(u,f,a,o),c,n[i],sha1_K$1[u]);c=o;o=a;a=rotl32$4(f,30);f=s;s=l}this.h[0]=sum32$6(this.h[0],s);this.h[1]=sum32$6(this.h[1],f);this.h[2]=sum32$6(this.h[2],a);this.h[3]=sum32$6(this.h[3],o);this.h[4]=sum32$6(this.h[4],c)};SHA1$3.prototype._digest=function e(t){if(t==="hex")return utils$8.toHex32(this.h,"big");else return utils$8.split32(this.h,"big")};var sum32$5=utils$8.sum32;var sum32_4$4=utils$8.sum32_4;var sum32_5$3=utils$8.sum32_5;var ch32$2=common$3.ch32;var maj32$2=common$3.maj32;var s0_256$2=common$3.s0_256;var s1_256$2=common$3.s1_256;var g0_256$2=common$3.g0_256;var g1_256$2=common$3.g1_256;var BlockHash$7=common$4.BlockHash;var sha256_K$1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$3(){if(!(this instanceof SHA256$3))return new SHA256$3;BlockHash$7.call(this);this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];this.k=sha256_K$1;this.W=new Array(64)}utils$8.inherits(SHA256$3,BlockHash$7);var _256$1=SHA256$3;SHA256$3.blockSize=512;SHA256$3.outSize=256;SHA256$3.hmacStrength=192;SHA256$3.padLength=64;SHA256$3.prototype._update=function e(t,r){var n=this.W;for(var i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=sum32_4$4(g1_256$2(n[i-2]),n[i-7],g0_256$2(n[i-15]),n[i-16]);var s=this.h[0];var f=this.h[1];var a=this.h[2];var o=this.h[3];var c=this.h[4];var u=this.h[5];var l=this.h[6];var h=this.h[7];minimalisticAssert$3(this.k.length===n.length);for(i=0;i<n.length;i++){var d=sum32_5$3(h,s1_256$2(c),ch32$2(c,u,l),this.k[i],n[i]);var p=sum32$5(s0_256$2(s),maj32$2(s,f,a));h=l;l=u;u=c;c=sum32$5(o,d);o=a;a=f;f=s;s=sum32$5(d,p)}this.h[0]=sum32$5(this.h[0],s);this.h[1]=sum32$5(this.h[1],f);this.h[2]=sum32$5(this.h[2],a);this.h[3]=sum32$5(this.h[3],o);this.h[4]=sum32$5(this.h[4],c);this.h[5]=sum32$5(this.h[5],u);this.h[6]=sum32$5(this.h[6],l);this.h[7]=sum32$5(this.h[7],h)};SHA256$3.prototype._digest=function e(t){if(t==="hex")return utils$8.toHex32(this.h,"big");else return utils$8.split32(this.h,"big")};function SHA224$2(){if(!(this instanceof SHA224$2))return new SHA224$2;_256$1.call(this);this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$8.inherits(SHA224$2,_256$1);var _224$1=SHA224$2;SHA224$2.blockSize=512;SHA224$2.outSize=224;SHA224$2.hmacStrength=192;SHA224$2.padLength=64;SHA224$2.prototype._digest=function e(t){if(t==="hex")return utils$8.toHex32(this.h.slice(0,7),"big");else return utils$8.split32(this.h.slice(0,7),"big")};var rotr64_hi$2=utils$8.rotr64_hi;var rotr64_lo$2=utils$8.rotr64_lo;var shr64_hi$2=utils$8.shr64_hi;var shr64_lo$2=utils$8.shr64_lo;var sum64$2=utils$8.sum64;var sum64_hi$2=utils$8.sum64_hi;var sum64_lo$2=utils$8.sum64_lo;var sum64_4_hi$2=utils$8.sum64_4_hi;var sum64_4_lo$2=utils$8.sum64_4_lo;var sum64_5_hi$2=utils$8.sum64_5_hi;var sum64_5_lo$2=utils$8.sum64_5_lo;var BlockHash$6=common$4.BlockHash;var sha512_K$1=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$3(){if(!(this instanceof SHA512$3))return new SHA512$3;BlockHash$6.call(this);this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209];this.k=sha512_K$1;this.W=new Array(160)}utils$8.inherits(SHA512$3,BlockHash$6);var _512$1=SHA512$3;SHA512$3.blockSize=1024;SHA512$3.outSize=512;SHA512$3.hmacStrength=192;SHA512$3.padLength=128;SHA512$3.prototype._prepareBlock=function e(t,r){var n=this.W;for(var i=0;i<32;i++)n[i]=t[r+i];for(;i<n.length;i+=2){var s=g1_512_hi$1(n[i-4],n[i-3]);var f=g1_512_lo$1(n[i-4],n[i-3]);var a=n[i-14];var o=n[i-13];var c=g0_512_hi$1(n[i-30],n[i-29]);var u=g0_512_lo$1(n[i-30],n[i-29]);var l=n[i-32];var h=n[i-31];n[i]=sum64_4_hi$2(s,f,a,o,c,u,l,h);n[i+1]=sum64_4_lo$2(s,f,a,o,c,u,l,h)}};SHA512$3.prototype._update=function e(t,r){this._prepareBlock(t,r);var n=this.W;var i=this.h[0];var s=this.h[1];var f=this.h[2];var a=this.h[3];var o=this.h[4];var c=this.h[5];var u=this.h[6];var l=this.h[7];var h=this.h[8];var d=this.h[9];var p=this.h[10];var y=this.h[11];var b=this.h[12];var m=this.h[13];var g=this.h[14];var v=this.h[15];minimalisticAssert$3(this.k.length===n.length);for(var w=0;w<n.length;w+=2){var A=g;var $=v;var _=s1_512_hi$1(h,d);var E=s1_512_lo$1(h,d);var S=ch64_hi$1(h,d,p,y,b);var T=ch64_lo$1(h,d,p,y,b,m);var C=this.k[w];var P=this.k[w+1];var x=n[w];var I=n[w+1];var k=sum64_5_hi$2(A,$,_,E,S,T,C,P,x,I);var M=sum64_5_lo$2(A,$,_,E,S,T,C,P,x,I);A=s0_512_hi$1(i,s);$=s0_512_lo$1(i,s);_=maj64_hi$1(i,s,f,a,o);E=maj64_lo$1(i,s,f,a,o,c);var B=sum64_hi$2(A,$,_,E);var R=sum64_lo$2(A,$,_,E);g=b;v=m;b=p;m=y;p=h;y=d;h=sum64_hi$2(u,l,k,M);d=sum64_lo$2(l,l,k,M);u=o;l=c;o=f;c=a;f=i;a=s;i=sum64_hi$2(k,M,B,R);s=sum64_lo$2(k,M,B,R)}sum64$2(this.h,0,i,s);sum64$2(this.h,2,f,a);sum64$2(this.h,4,o,c);sum64$2(this.h,6,u,l);sum64$2(this.h,8,h,d);sum64$2(this.h,10,p,y);sum64$2(this.h,12,b,m);sum64$2(this.h,14,g,v)};SHA512$3.prototype._digest=function e(t){if(t==="hex")return utils$8.toHex32(this.h,"big");else return utils$8.split32(this.h,"big")};function ch64_hi$1(e,t,r,n,i){var s=e&r^~e&i;if(s<0)s+=4294967296;return s}function ch64_lo$1(e,t,r,n,i,s){var f=t&n^~t&s;if(f<0)f+=4294967296;return f}function maj64_hi$1(e,t,r,n,i){var s=e&r^e&i^r&i;if(s<0)s+=4294967296;return s}function maj64_lo$1(e,t,r,n,i,s){var f=t&n^t&s^n&s;if(f<0)f+=4294967296;return f}function s0_512_hi$1(e,t){var r=rotr64_hi$2(e,t,28);var n=rotr64_hi$2(t,e,2);var i=rotr64_hi$2(t,e,7);var s=r^n^i;if(s<0)s+=4294967296;return s}function s0_512_lo$1(e,t){var r=rotr64_lo$2(e,t,28);var n=rotr64_lo$2(t,e,2);var i=rotr64_lo$2(t,e,7);var s=r^n^i;if(s<0)s+=4294967296;return s}function s1_512_hi$1(e,t){var r=rotr64_hi$2(e,t,14);var n=rotr64_hi$2(e,t,18);var i=rotr64_hi$2(t,e,9);var s=r^n^i;if(s<0)s+=4294967296;return s}function s1_512_lo$1(e,t){var r=rotr64_lo$2(e,t,14);var n=rotr64_lo$2(e,t,18);var i=rotr64_lo$2(t,e,9);var s=r^n^i;if(s<0)s+=4294967296;return s}function g0_512_hi$1(e,t){var r=rotr64_hi$2(e,t,1);var n=rotr64_hi$2(e,t,8);var i=shr64_hi$2(e,t,7);var s=r^n^i;if(s<0)s+=4294967296;return s}function g0_512_lo$1(e,t){var r=rotr64_lo$2(e,t,1);var n=rotr64_lo$2(e,t,8);var i=shr64_lo$2(e,t,7);var s=r^n^i;if(s<0)s+=4294967296;return s}function g1_512_hi$1(e,t){var r=rotr64_hi$2(e,t,19);var n=rotr64_hi$2(t,e,29);var i=shr64_hi$2(e,t,6);var s=r^n^i;if(s<0)s+=4294967296;return s}function g1_512_lo$1(e,t){var r=rotr64_lo$2(e,t,19);var n=rotr64_lo$2(t,e,29);var i=shr64_lo$2(e,t,6);var s=r^n^i;if(s<0)s+=4294967296;return s}function SHA384$3(){if(!(this instanceof SHA384$3))return new SHA384$3;_512$1.call(this);this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$8.inherits(SHA384$3,_512$1);var _384$1=SHA384$3;SHA384$3.blockSize=1024;SHA384$3.outSize=384;SHA384$3.hmacStrength=192;SHA384$3.padLength=128;SHA384$3.prototype._digest=function e(t){if(t==="hex")return utils$8.toHex32(this.h.slice(0,12),"big");else return utils$8.split32(this.h.slice(0,12),"big")};var sha1$2=_1$1;var sha224$1=_224$1;var sha256$5=_256$1;var sha384$1=_384$1;var sha512$3=_512$1;var sha$2={sha1:sha1$2,sha224:sha224$1,sha256:sha256$5,sha384:sha384$1,sha512:sha512$3};var rotl32$3=utils$8.rotl32;var sum32$4=utils$8.sum32;var sum32_3$2=utils$8.sum32_3;var sum32_4$3=utils$8.sum32_4;var BlockHash$5=common$4.BlockHash;function RIPEMD160$1(){if(!(this instanceof RIPEMD160$1))return new RIPEMD160$1;BlockHash$5.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.endian="little"}utils$8.inherits(RIPEMD160$1,BlockHash$5);var ripemd160$3=RIPEMD160$1;RIPEMD160$1.blockSize=512;RIPEMD160$1.outSize=160;RIPEMD160$1.hmacStrength=192;RIPEMD160$1.padLength=64;RIPEMD160$1.prototype._update=function e(t,r){var n=this.h[0];var i=this.h[1];var s=this.h[2];var f=this.h[3];var a=this.h[4];var o=n;var c=i;var u=s;var l=f;var h=a;for(var d=0;d<80;d++){var p=sum32$4(rotl32$3(sum32_4$3(n,f$1(d,i,s,f),t[r$3[d]+r],K$1(d)),s$1[d]),a);n=a;a=f;f=rotl32$3(s,10);s=i;i=p;p=sum32$4(rotl32$3(sum32_4$3(o,f$1(79-d,c,u,l),t[rh$1[d]+r],Kh$1(d)),sh$1[d]),h);o=h;h=l;l=rotl32$3(u,10);u=c;c=p}p=sum32_3$2(this.h[1],s,l);this.h[1]=sum32_3$2(this.h[2],f,h);this.h[2]=sum32_3$2(this.h[3],a,o);this.h[3]=sum32_3$2(this.h[4],n,c);this.h[4]=sum32_3$2(this.h[0],i,u);this.h[0]=p};RIPEMD160$1.prototype._digest=function e(t){if(t==="hex")return utils$8.toHex32(this.h,"little");else return utils$8.split32(this.h,"little")};function f$1(e,t,r,n){if(e<=15)return t^r^n;else if(e<=31)return t&r|~t&n;else if(e<=47)return(t|~r)^n;else if(e<=63)return t&n|r&~n;else return t^(r|~n)}function K$1(e){if(e<=15)return 0;else if(e<=31)return 1518500249;else if(e<=47)return 1859775393;else if(e<=63)return 2400959708;else return 2840853838}function Kh$1(e){if(e<=15)return 1352829926;else if(e<=31)return 1548603684;else if(e<=47)return 1836072691;else if(e<=63)return 2053994217;else return 0}var r$3=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var rh$1=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var s$1=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var sh$1=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];var ripemd$1={ripemd160:ripemd160$3};function Hmac$2(e,t,r){if(!(this instanceof Hmac$2))return new Hmac$2(e,t,r);this.Hash=e;this.blockSize=e.blockSize/8;this.outSize=e.outSize/8;this.inner=null;this.outer=null;this._init(utils$8.toArray(t,r))}var hmac$1=Hmac$2;Hmac$2.prototype._init=function e(t){if(t.length>this.blockSize)t=(new this.Hash).update(t).digest();minimalisticAssert$3(t.length<=this.blockSize);for(var r=t.length;r<this.blockSize;r++)t.push(0);for(r=0;r<t.length;r++)t[r]^=54;this.inner=(new this.Hash).update(t);for(r=0;r<t.length;r++)t[r]^=106;this.outer=(new this.Hash).update(t)};Hmac$2.prototype.update=function e(t,r){this.inner.update(t,r);return this};Hmac$2.prototype.digest=function e(t){this.outer.update(this.inner.digest());return this.outer.digest(t)};var hash_1$2=createCommonjsModule$2((function(e,t){var r=t;r.utils=utils$8;r.common=common$4;r.sha=sha$2;r.ripemd=ripemd$1;r.hmac=hmac$1;r.sha1=r.sha.sha1;r.sha256=r.sha.sha256;r.sha224=r.sha.sha224;r.sha384=r.sha.sha384;r.sha512=r.sha.sha512;r.ripemd160=r.ripemd.ripemd160}));function createCommonjsModule$1(e,t,r){return r={path:t,exports:{},require:function(e,t){return commonjsRequire$1()}},e(r,r.exports),r.exports}function commonjsRequire$1(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert$2=assert$g;function assert$g(e,t){if(!e)throw new Error(t||"Assertion failed")}assert$g.equal=function e(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};var utils_1$4=createCommonjsModule$1((function(e,t){var r=t;function n(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e!=="string"){for(var n=0;n<e.length;n++)r[n]=e[n]|0;return r}if(t==="hex"){e=e.replace(/[^a-z0-9]+/gi,"");if(e.length%2!==0)e="0"+e;for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else{for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);var s=i>>8;var f=i&255;if(s)r.push(s,f);else r.push(f)}}return r}r.toArray=n;function i(e){if(e.length===1)return"0"+e;else return e}r.zero2=i;function s(e){var t="";for(var r=0;r<e.length;r++)t+=i(e[r].toString(16));return t}r.toHex=s;r.encode=function e(t,r){if(r==="hex")return s(t);else return t}}));var utils_1$1$1=createCommonjsModule$1((function(e,t){var r=t;r.assert=minimalisticAssert$2;r.toArray=utils_1$4.toArray;r.zero2=utils_1$4.zero2;r.toHex=utils_1$4.toHex;r.encode=utils_1$4.encode;function n(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);var i=1<<t+1;var s=e.clone();for(var f=0;f<n.length;f++){var a;var o=s.andln(i-1);if(s.isOdd()){if(o>(i>>1)-1)a=(i>>1)-o;else a=o;s.isubn(a)}else{a=0}n[f]=a;s.iushrn(1)}return n}r.getNAF=n;function i(e,t){var r=[[],[]];e=e.clone();t=t.clone();var n=0;var i=0;var s;while(e.cmpn(-n)>0||t.cmpn(-i)>0){var f=e.andln(3)+n&3;var a=t.andln(3)+i&3;if(f===3)f=-1;if(a===3)a=-1;var o;if((f&1)===0){o=0}else{s=e.andln(7)+n&7;if((s===3||s===5)&&a===2)o=-f;else o=f}r[0].push(o);var c;if((a&1)===0){c=0}else{s=t.andln(7)+i&7;if((s===3||s===5)&&f===2)c=-a;else c=a}r[1].push(c);if(2*n===o+1)n=1-n;if(2*i===c+1)i=1-i;e.iushrn(1);t.iushrn(1)}return r}r.getJSF=i;function s(e,t,r){var n="_"+t;e.prototype[t]=function e(){return this[n]!==undefined?this[n]:this[n]=r.call(this)}}r.cachedProperty=s;function f(e){return typeof e==="string"?r.toArray(e,"hex"):e}r.parseBytes=f;function a(e){return new bn$3(e,"hex","le")}r.intFromLE=a}));var getNAF$2=utils_1$1$1.getNAF;var getJSF$2=utils_1$1$1.getJSF;var assert$1$2=utils_1$1$1.assert;function BaseCurve$2(e,t){this.type=e;this.p=new bn$3(t.p,16);this.red=t.prime?bn$3.red(t.prime):bn$3.mont(this.p);this.zero=new bn$3(0).toRed(this.red);this.one=new bn$3(1).toRed(this.red);this.two=new bn$3(2).toRed(this.red);this.n=t.n&&new bn$3(t.n,16);this.g=t.g&&this.pointFromJSON(t.g,t.gRed);this._wnafT1=new Array(4);this._wnafT2=new Array(4);this._wnafT3=new Array(4);this._wnafT4=new Array(4);this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);if(!r||r.cmpn(100)>0){this.redN=null}else{this._maxwellTrick=true;this.redN=this.n.toRed(this.red)}}var base$6=BaseCurve$2;BaseCurve$2.prototype.point=function e(){throw new Error("Not implemented")};BaseCurve$2.prototype.validate=function e(){throw new Error("Not implemented")};BaseCurve$2.prototype._fixedNafMul=function e(t,r){assert$1$2(t.precomputed);var n=t._getDoubles();var i=getNAF$2(r,1,this._bitLength);var s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var f=[];var a;var o;for(a=0;a<i.length;a+=n.step){o=0;for(var c=a+n.step-1;c>=a;c--)o=(o<<1)+i[c];f.push(o)}var u=this.jpoint(null,null,null);var l=this.jpoint(null,null,null);for(var h=s;h>0;h--){for(a=0;a<f.length;a++){o=f[a];if(o===h)l=l.mixedAdd(n.points[a]);else if(o===-h)l=l.mixedAdd(n.points[a].neg())}u=u.add(l)}return u.toP()};BaseCurve$2.prototype._wnafMul=function e(t,r){var n=4;var i=t._getNAFPoints(n);n=i.wnd;var s=i.points;var f=getNAF$2(r,n,this._bitLength);var a=this.jpoint(null,null,null);for(var o=f.length-1;o>=0;o--){for(var c=0;o>=0&&f[o]===0;o--)c++;if(o>=0)c++;a=a.dblp(c);if(o<0)break;var u=f[o];assert$1$2(u!==0);if(t.type==="affine"){if(u>0)a=a.mixedAdd(s[u-1>>1]);else a=a.mixedAdd(s[-u-1>>1].neg())}else{if(u>0)a=a.add(s[u-1>>1]);else a=a.add(s[-u-1>>1].neg())}}return t.type==="affine"?a.toP():a};BaseCurve$2.prototype._wnafMulAdd=function e(t,r,n,i,s){var f=this._wnafT1;var a=this._wnafT2;var o=this._wnafT3;var c=0;var u;var l;var h;for(u=0;u<i;u++){h=r[u];var d=h._getNAFPoints(t);f[u]=d.wnd;a[u]=d.points}for(u=i-1;u>=1;u-=2){var p=u-1;var y=u;if(f[p]!==1||f[y]!==1){o[p]=getNAF$2(n[p],f[p],this._bitLength);o[y]=getNAF$2(n[y],f[y],this._bitLength);c=Math.max(o[p].length,c);c=Math.max(o[y].length,c);continue}var b=[r[p],null,null,r[y]];if(r[p].y.cmp(r[y].y)===0){b[1]=r[p].add(r[y]);b[2]=r[p].toJ().mixedAdd(r[y].neg())}else if(r[p].y.cmp(r[y].y.redNeg())===0){b[1]=r[p].toJ().mixedAdd(r[y]);b[2]=r[p].add(r[y].neg())}else{b[1]=r[p].toJ().mixedAdd(r[y]);b[2]=r[p].toJ().mixedAdd(r[y].neg())}var m=[-3,-1,-5,-7,0,7,5,1,3];var g=getJSF$2(n[p],n[y]);c=Math.max(g[0].length,c);o[p]=new Array(c);o[y]=new Array(c);for(l=0;l<c;l++){var v=g[0][l]|0;var w=g[1][l]|0;o[p][l]=m[(v+1)*3+(w+1)];o[y][l]=0;a[p]=b}}var A=this.jpoint(null,null,null);var $=this._wnafT4;for(u=c;u>=0;u--){var _=0;while(u>=0){var E=true;for(l=0;l<i;l++){$[l]=o[l][u]|0;if($[l]!==0)E=false}if(!E)break;_++;u--}if(u>=0)_++;A=A.dblp(_);if(u<0)break;for(l=0;l<i;l++){var S=$[l];if(S===0)continue;else if(S>0)h=a[l][S-1>>1];else if(S<0)h=a[l][-S-1>>1].neg();if(h.type==="affine")A=A.mixedAdd(h);else A=A.add(h)}}for(u=0;u<i;u++)a[u]=null;if(s)return A;else return A.toP()};function BasePoint$2(e,t){this.curve=e;this.type=t;this.precomputed=null}BaseCurve$2.BasePoint=BasePoint$2;BasePoint$2.prototype.eq=function e(){throw new Error("Not implemented")};BasePoint$2.prototype.validate=function e(){return this.curve.validate(this)};BaseCurve$2.prototype.decodePoint=function e(t,r){t=utils_1$1$1.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){if(t[0]===6)assert$1$2(t[t.length-1]%2===0);else if(t[0]===7)assert$1$2(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n){return this.pointFromX(t.slice(1,1+n),t[0]===3)}throw new Error("Unknown point format")};BasePoint$2.prototype.encodeCompressed=function e(t){return this.encode(t,true)};BasePoint$2.prototype._encode=function e(t){var r=this.curve.p.byteLength();var n=this.getX().toArray("be",r);if(t)return[this.getY().isEven()?2:3].concat(n);return[4].concat(n,this.getY().toArray("be",r))};BasePoint$2.prototype.encode=function e(t,r){return utils_1$1$1.encode(this._encode(r),t)};BasePoint$2.prototype.precompute=function e(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};r.naf=this._getNAFPoints(8);r.doubles=this._getDoubles(4,t);r.beta=this._getBeta();this.precomputed=r;return this};BasePoint$2.prototype._hasDoubles=function e(t){if(!this.precomputed)return false;var r=this.precomputed.doubles;if(!r)return false;return r.points.length>=Math.ceil((t.bitLength()+1)/r.step)};BasePoint$2.prototype._getDoubles=function e(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var n=[this];var i=this;for(var s=0;s<r;s+=t){for(var f=0;f<t;f++)i=i.dbl();n.push(i)}return{step:t,points:n}};BasePoint$2.prototype._getNAFPoints=function e(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var r=[this];var n=(1<<t)-1;var i=n===1?null:this.dbl();for(var s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:t,points:r}};BasePoint$2.prototype._getBeta=function e(){return null};BasePoint$2.prototype.dblp=function e(t){var r=this;for(var n=0;n<t;n++)r=r.dbl();return r};var inherits_browser$2=createCommonjsModule$1((function(e){if(typeof Object.create==="function"){e.exports=function e(t,r){if(r){t.super_=r;t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}}else{e.exports=function e(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype;t.prototype=new n;t.prototype.constructor=t}}}}));var assert$2$1=utils_1$1$1.assert;function ShortCurve$2(e){base$6.call(this,"short",e);this.a=new bn$3(e.a,16).toRed(this.red);this.b=new bn$3(e.b,16).toRed(this.red);this.tinv=this.two.redInvm();this.zeroA=this.a.fromRed().cmpn(0)===0;this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0;this.endo=this._getEndomorphism(e);this._endoWnafT1=new Array(4);this._endoWnafT2=new Array(4)}inherits_browser$2(ShortCurve$2,base$6);var short_1$2=ShortCurve$2;ShortCurve$2.prototype._getEndomorphism=function e(t){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var r;var n;if(t.beta){r=new bn$3(t.beta,16).toRed(this.red)}else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1];r=r.toRed(this.red)}if(t.lambda){n=new bn$3(t.lambda,16)}else{var s=this._getEndoRoots(this.n);if(this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0){n=s[0]}else{n=s[1];assert$2$1(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0)}}var f;if(t.basis){f=t.basis.map((function(e){return{a:new bn$3(e.a,16),b:new bn$3(e.b,16)}}))}else{f=this._getEndoBasis(n)}return{beta:r,lambda:n,basis:f}};ShortCurve$2.prototype._getEndoRoots=function e(t){var r=t===this.p?this.red:bn$3.mont(t);var n=new bn$3(2).toRed(r).redInvm();var i=n.redNeg();var s=new bn$3(3).toRed(r).redNeg().redSqrt().redMul(n);var f=i.redAdd(s).fromRed();var a=i.redSub(s).fromRed();return[f,a]};ShortCurve$2.prototype._getEndoBasis=function e(t){var r=this.n.ushrn(Math.floor(this.n.bitLength()/2));var n=t;var i=this.n.clone();var s=new bn$3(1);var f=new bn$3(0);var a=new bn$3(0);var o=new bn$3(1);var c;var u;var l;var h;var d;var p;var y;var b=0;var m;var g;while(n.cmpn(0)!==0){var v=i.div(n);m=i.sub(v.mul(n));g=a.sub(v.mul(s));var w=o.sub(v.mul(f));if(!l&&m.cmp(r)<0){c=y.neg();u=s;l=m.neg();h=g}else if(l&&++b===2){break}y=m;i=n;n=m;a=s;s=g;o=f;f=w}d=m.neg();p=g;var A=l.sqr().add(h.sqr());var $=d.sqr().add(p.sqr());if($.cmp(A)>=0){d=c;p=u}if(l.negative){l=l.neg();h=h.neg()}if(d.negative){d=d.neg();p=p.neg()}return[{a:l,b:h},{a:d,b:p}]};ShortCurve$2.prototype._endoSplit=function e(t){var r=this.endo.basis;var n=r[0];var i=r[1];var s=i.b.mul(t).divRound(this.n);var f=n.b.neg().mul(t).divRound(this.n);var a=s.mul(n.a);var o=f.mul(i.a);var c=s.mul(n.b);var u=f.mul(i.b);var l=t.sub(a).sub(o);var h=c.add(u).neg();return{k1:l,k2:h}};ShortCurve$2.prototype.pointFromX=function e(t,r){t=new bn$3(t,16);if(!t.red)t=t.toRed(this.red);var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b);var i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();if(r&&!s||!r&&s)i=i.redNeg();return this.point(t,i)};ShortCurve$2.prototype.validate=function e(t){if(t.inf)return true;var r=t.x;var n=t.y;var i=this.a.redMul(r);var s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};ShortCurve$2.prototype._endoWnafMulAdd=function e(t,r,n){var i=this._endoWnafT1;var s=this._endoWnafT2;for(var f=0;f<t.length;f++){var a=this._endoSplit(r[f]);var o=t[f];var c=o._getBeta();if(a.k1.negative){a.k1.ineg();o=o.neg(true)}if(a.k2.negative){a.k2.ineg();c=c.neg(true)}i[f*2]=o;i[f*2+1]=c;s[f*2]=a.k1;s[f*2+1]=a.k2}var u=this._wnafMulAdd(1,i,s,f*2,n);for(var l=0;l<f*2;l++){i[l]=null;s[l]=null}return u};function Point$4(e,t,r,n){base$6.BasePoint.call(this,e,"affine");if(t===null&&r===null){this.x=null;this.y=null;this.inf=true}else{this.x=new bn$3(t,16);this.y=new bn$3(r,16);if(n){this.x.forceRed(this.curve.red);this.y.forceRed(this.curve.red)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=false}}inherits_browser$2(Point$4,base$6.BasePoint);ShortCurve$2.prototype.point=function e(t,r,n){return new Point$4(this,t,r,n)};ShortCurve$2.prototype.pointFromJSON=function e(t,r){return Point$4.fromJSON(this,t,r)};Point$4.prototype._getBeta=function e(){if(!this.curve.endo)return;var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve;var i=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};t.beta=r;r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return r};Point$4.prototype.toJSON=function e(){if(!this.precomputed)return[this.x,this.y];return[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]};Point$4.fromJSON=function e(t,r,n){if(typeof r==="string")r=JSON.parse(r);var i=t.point(r[0],r[1],n);if(!r[2])return i;function s(e){return t.point(e[0],e[1],n)}var f=r[2];i.precomputed={beta:null,doubles:f.doubles&&{step:f.doubles.step,points:[i].concat(f.doubles.points.map(s))},naf:f.naf&&{wnd:f.naf.wnd,points:[i].concat(f.naf.points.map(s))}};return i};Point$4.prototype.inspect=function e(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$4.prototype.isInfinity=function e(){return this.inf};Point$4.prototype.add=function e(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);if(r.cmpn(0)!==0)r=r.redMul(this.x.redSub(t.x).redInvm());var n=r.redSqr().redISub(this.x).redISub(t.x);var i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Point$4.prototype.dbl=function e(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a;var n=this.x.redSqr();var i=t.redInvm();var s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i);var f=s.redSqr().redISub(this.x.redAdd(this.x));var a=s.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,a)};Point$4.prototype.getX=function e(){return this.x.fromRed()};Point$4.prototype.getY=function e(){return this.y.fromRed()};Point$4.prototype.mul=function e(t){t=new bn$3(t,16);if(this.isInfinity())return this;else if(this._hasDoubles(t))return this.curve._fixedNafMul(this,t);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[t]);else return this.curve._wnafMul(this,t)};Point$4.prototype.mulAdd=function e(t,r,n){var i=[this,r];var s=[t,n];if(this.curve.endo)return this.curve._endoWnafMulAdd(i,s);else return this.curve._wnafMulAdd(1,i,s,2)};Point$4.prototype.jmulAdd=function e(t,r,n){var i=[this,r];var s=[t,n];if(this.curve.endo)return this.curve._endoWnafMulAdd(i,s,true);else return this.curve._wnafMulAdd(1,i,s,2,true)};Point$4.prototype.eq=function e(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};Point$4.prototype.neg=function e(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed;var i=function(e){return e.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Point$4.prototype.toJ=function e(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function JPoint$2(e,t,r,n){base$6.BasePoint.call(this,e,"jacobian");if(t===null&&r===null&&n===null){this.x=this.curve.one;this.y=this.curve.one;this.z=new bn$3(0)}else{this.x=new bn$3(t,16);this.y=new bn$3(r,16);this.z=new bn$3(n,16)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one}inherits_browser$2(JPoint$2,base$6.BasePoint);ShortCurve$2.prototype.jpoint=function e(t,r,n){return new JPoint$2(this,t,r,n)};JPoint$2.prototype.toP=function e(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm();var r=t.redSqr();var n=this.x.redMul(r);var i=this.y.redMul(r).redMul(t);return this.curve.point(n,i)};JPoint$2.prototype.neg=function e(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint$2.prototype.add=function e(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr();var n=this.z.redSqr();var i=this.x.redMul(r);var s=t.x.redMul(n);var f=this.y.redMul(r.redMul(t.z));var a=t.y.redMul(n.redMul(this.z));var o=i.redSub(s);var c=f.redSub(a);if(o.cmpn(0)===0){if(c.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var u=o.redSqr();var l=u.redMul(o);var h=i.redMul(u);var d=c.redSqr().redIAdd(l).redISub(h).redISub(h);var p=c.redMul(h.redISub(d)).redISub(f.redMul(l));var y=this.z.redMul(t.z).redMul(o);return this.curve.jpoint(d,p,y)};JPoint$2.prototype.mixedAdd=function e(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr();var n=this.x;var i=t.x.redMul(r);var s=this.y;var f=t.y.redMul(r).redMul(this.z);var a=n.redSub(i);var o=s.redSub(f);if(a.cmpn(0)===0){if(o.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var c=a.redSqr();var u=c.redMul(a);var l=n.redMul(c);var h=o.redSqr().redIAdd(u).redISub(l).redISub(l);var d=o.redMul(l.redISub(h)).redISub(s.redMul(u));var p=this.z.redMul(a);return this.curve.jpoint(h,d,p)};JPoint$2.prototype.dblp=function e(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var i=this.curve.a;var s=this.curve.tinv;var f=this.x;var a=this.y;var o=this.z;var c=o.redSqr().redSqr();var u=a.redAdd(a);for(r=0;r<t;r++){var l=f.redSqr();var h=u.redSqr();var d=h.redSqr();var p=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(c));var y=f.redMul(h);var b=p.redSqr().redISub(y.redAdd(y));var m=y.redISub(b);var g=p.redMul(m);g=g.redIAdd(g).redISub(d);var v=u.redMul(o);if(r+1<t)c=c.redMul(d);f=b;o=v;u=g}return this.curve.jpoint(f,u.redMul(s),o)};JPoint$2.prototype.dbl=function e(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl()};JPoint$2.prototype._zeroDbl=function e(){var t;var r;var n;if(this.zOne){var i=this.x.redSqr();var s=this.y.redSqr();var f=s.redSqr();var a=this.x.redAdd(s).redSqr().redISub(i).redISub(f);a=a.redIAdd(a);var o=i.redAdd(i).redIAdd(i);var c=o.redSqr().redISub(a).redISub(a);var u=f.redIAdd(f);u=u.redIAdd(u);u=u.redIAdd(u);t=c;r=o.redMul(a.redISub(c)).redISub(u);n=this.y.redAdd(this.y)}else{var l=this.x.redSqr();var h=this.y.redSqr();var d=h.redSqr();var p=this.x.redAdd(h).redSqr().redISub(l).redISub(d);p=p.redIAdd(p);var y=l.redAdd(l).redIAdd(l);var b=y.redSqr();var m=d.redIAdd(d);m=m.redIAdd(m);m=m.redIAdd(m);t=b.redISub(p).redISub(p);r=y.redMul(p.redISub(t)).redISub(m);n=this.y.redMul(this.z);n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};JPoint$2.prototype._threeDbl=function e(){var t;var r;var n;if(this.zOne){var i=this.x.redSqr();var s=this.y.redSqr();var f=s.redSqr();var a=this.x.redAdd(s).redSqr().redISub(i).redISub(f);a=a.redIAdd(a);var o=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a);var c=o.redSqr().redISub(a).redISub(a);t=c;var u=f.redIAdd(f);u=u.redIAdd(u);u=u.redIAdd(u);r=o.redMul(a.redISub(c)).redISub(u);n=this.y.redAdd(this.y)}else{var l=this.z.redSqr();var h=this.y.redSqr();var d=this.x.redMul(h);var p=this.x.redSub(l).redMul(this.x.redAdd(l));p=p.redAdd(p).redIAdd(p);var y=d.redIAdd(d);y=y.redIAdd(y);var b=y.redAdd(y);t=p.redSqr().redISub(b);n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var m=h.redSqr();m=m.redIAdd(m);m=m.redIAdd(m);m=m.redIAdd(m);r=p.redMul(y.redISub(t)).redISub(m)}return this.curve.jpoint(t,r,n)};JPoint$2.prototype._dbl=function e(){var t=this.curve.a;var r=this.x;var n=this.y;var i=this.z;var s=i.redSqr().redSqr();var f=r.redSqr();var a=n.redSqr();var o=f.redAdd(f).redIAdd(f).redIAdd(t.redMul(s));var c=r.redAdd(r);c=c.redIAdd(c);var u=c.redMul(a);var l=o.redSqr().redISub(u.redAdd(u));var h=u.redISub(l);var d=a.redSqr();d=d.redIAdd(d);d=d.redIAdd(d);d=d.redIAdd(d);var p=o.redMul(h).redISub(d);var y=n.redAdd(n).redMul(i);return this.curve.jpoint(l,p,y)};JPoint$2.prototype.trpl=function e(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr();var r=this.y.redSqr();var n=this.z.redSqr();var i=r.redSqr();var s=t.redAdd(t).redIAdd(t);var f=s.redSqr();var a=this.x.redAdd(r).redSqr().redISub(t).redISub(i);a=a.redIAdd(a);a=a.redAdd(a).redIAdd(a);a=a.redISub(f);var o=a.redSqr();var c=i.redIAdd(i);c=c.redIAdd(c);c=c.redIAdd(c);c=c.redIAdd(c);var u=s.redIAdd(a).redSqr().redISub(f).redISub(o).redISub(c);var l=r.redMul(u);l=l.redIAdd(l);l=l.redIAdd(l);var h=this.x.redMul(o).redISub(l);h=h.redIAdd(h);h=h.redIAdd(h);var d=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(o)));d=d.redIAdd(d);d=d.redIAdd(d);d=d.redIAdd(d);var p=this.z.redAdd(a).redSqr().redISub(n).redISub(o);return this.curve.jpoint(h,d,p)};JPoint$2.prototype.mul=function e(t,r){t=new bn$3(t,r);return this.curve._wnafMul(this,t)};JPoint$2.prototype.eq=function e(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return true;var r=this.z.redSqr();var n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return false;var i=r.redMul(this.z);var s=n.redMul(t.z);return this.y.redMul(s).redISub(t.y.redMul(i)).cmpn(0)===0};JPoint$2.prototype.eqXToP=function e(t){var r=this.z.redSqr();var n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return true;var i=t.clone();var s=this.curve.redN.redMul(r);for(;;){i.iadd(this.curve.n);if(i.cmp(this.curve.p)>=0)return false;n.redIAdd(s);if(this.x.cmp(n)===0)return true}};JPoint$2.prototype.inspect=function e(){if(this.isInfinity())return"<EC JPoint Infinity>";return"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint$2.prototype.isInfinity=function e(){return this.z.cmpn(0)===0};var curve_1$2=createCommonjsModule$1((function(e,t){var r=t;r.base=base$6;r.short=short_1$2;r.mont=null;r.edwards=null}));var curves_1$2=createCommonjsModule$1((function(e,t){var r=t;var n=utils_1$1$1.assert;function i(e){if(e.type==="short")this.curve=new curve_1$2.short(e);else if(e.type==="edwards")this.curve=new curve_1$2.edwards(e);else this.curve=new curve_1$2.mont(e);this.g=this.curve.g;this.n=this.curve.n;this.hash=e.hash;n(this.g.validate(),"Invalid curve");n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(e,t){Object.defineProperty(r,e,{configurable:true,enumerable:true,get:function(){var n=new i(t);Object.defineProperty(r,e,{configurable:true,enumerable:true,value:n});return n}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash_1$2.sha256,gRed:false,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash_1$2.sha256,gRed:false,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash_1$2.sha256,gRed:false,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f "+"5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 "+"f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash_1$2.sha384,gRed:false,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 "+"5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 "+"0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b "+"99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd "+"3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 "+"f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash_1$2.sha512,gRed:false,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 "+"053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 "+"a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 "+"579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 "+"3fad0761 353c7086 a272c240 88be9476 9fd16650"]});s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash_1$2.sha256,gRed:false,g:["9"]});s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash_1$2.sha256,gRed:false,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=null.crash()}catch(e){f=undefined}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash_1$2.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:false,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})}));function HmacDRBG$2(e){if(!(this instanceof HmacDRBG$2))return new HmacDRBG$2(e);this.hash=e.hash;this.predResist=!!e.predResist;this.outLen=this.hash.outSize;this.minEntropy=e.minEntropy||this.hash.hmacStrength;this._reseed=null;this.reseedInterval=null;this.K=null;this.V=null;var t=utils_1$4.toArray(e.entropy,e.entropyEnc||"hex");var r=utils_1$4.toArray(e.nonce,e.nonceEnc||"hex");var n=utils_1$4.toArray(e.pers,e.persEnc||"hex");minimalisticAssert$2(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._init(t,r,n)}var hmacDrbg$2=HmacDRBG$2;HmacDRBG$2.prototype._init=function e(t,r,n){var i=t.concat(r).concat(n);this.K=new Array(this.outLen/8);this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++){this.K[s]=0;this.V[s]=1}this._update(i);this._reseed=1;this.reseedInterval=281474976710656};HmacDRBG$2.prototype._hmac=function e(){return new hash_1$2.hmac(this.hash,this.K)};HmacDRBG$2.prototype._update=function e(t){var r=this._hmac().update(this.V).update([0]);if(t)r=r.update(t);this.K=r.digest();this.V=this._hmac().update(this.V).digest();if(!t)return;this.K=this._hmac().update(this.V).update([1]).update(t).digest();this.V=this._hmac().update(this.V).digest()};HmacDRBG$2.prototype.reseed=function e(t,r,n,i){if(typeof r!=="string"){i=n;n=r;r=null}t=utils_1$4.toArray(t,r);n=utils_1$4.toArray(n,i);minimalisticAssert$2(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._update(t.concat(n||[]));this._reseed=1};HmacDRBG$2.prototype.generate=function e(t,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");if(typeof r!=="string"){i=n;n=r;r=null}if(n){n=utils_1$4.toArray(n,i||"hex");this._update(n)}var s=[];while(s.length<t){this.V=this._hmac().update(this.V).digest();s=s.concat(this.V)}var f=s.slice(0,t);this._update(n);this._reseed++;return utils_1$4.encode(f,r)};var assert$3$1=utils_1$1$1.assert;function KeyPair$3(e,t){this.ec=e;this.priv=null;this.pub=null;if(t.priv)this._importPrivate(t.priv,t.privEnc);if(t.pub)this._importPublic(t.pub,t.pubEnc)}var key$3=KeyPair$3;KeyPair$3.fromPublic=function e(t,r,n){if(r instanceof KeyPair$3)return r;return new KeyPair$3(t,{pub:r,pubEnc:n})};KeyPair$3.fromPrivate=function e(t,r,n){if(r instanceof KeyPair$3)return r;return new KeyPair$3(t,{priv:r,privEnc:n})};KeyPair$3.prototype.validate=function e(){var t=this.getPublic();if(t.isInfinity())return{result:false,reason:"Invalid public key"};if(!t.validate())return{result:false,reason:"Public key is not a point"};if(!t.mul(this.ec.curve.n).isInfinity())return{result:false,reason:"Public key * N != O"};return{result:true,reason:null}};KeyPair$3.prototype.getPublic=function e(t,r){if(typeof t==="string"){r=t;t=null}if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(!r)return this.pub;return this.pub.encode(r,t)};KeyPair$3.prototype.getPrivate=function e(t){if(t==="hex")return this.priv.toString(16,2);else return this.priv};KeyPair$3.prototype._importPrivate=function e(t,r){this.priv=new bn$3(t,r||16);this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$3.prototype._importPublic=function e(t,r){if(t.x||t.y){if(this.ec.curve.type==="mont"){assert$3$1(t.x,"Need x coordinate")}else if(this.ec.curve.type==="short"||this.ec.curve.type==="edwards"){assert$3$1(t.x&&t.y,"Need both x and y coordinate")}this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};KeyPair$3.prototype.derive=function e(t){if(!t.validate()){assert$3$1(t.validate(),"public point not validated")}return t.mul(this.priv).getX()};KeyPair$3.prototype.sign=function e(t,r,n){return this.ec.sign(t,this,r,n)};KeyPair$3.prototype.verify=function e(t,r){return this.ec.verify(t,r,this)};KeyPair$3.prototype.inspect=function e(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4$1=utils_1$1$1.assert;function Signature$4(e,t){if(e instanceof Signature$4)return e;if(this._importDER(e,t))return;assert$4$1(e.r&&e.s,"Signature without r or s");this.r=new bn$3(e.r,16);this.s=new bn$3(e.s,16);if(e.recoveryParam===undefined)this.recoveryParam=null;else this.recoveryParam=e.recoveryParam}var signature$3=Signature$4;function Position$2(){this.place=0}function getLength$2(e,t){var r=e[t.place++];if(!(r&128)){return r}var n=r&15;if(n===0||n>4){return false}var i=0;for(var s=0,f=t.place;s<n;s++,f++){i<<=8;i|=e[f];i>>>=0}if(i<=127){return false}t.place=f;return i}function rmPadding$2(e){var t=0;var r=e.length-1;while(!e[t]&&!(e[t+1]&128)&&t<r){t++}if(t===0){return e}return e.slice(t)}Signature$4.prototype._importDER=function e(t,r){t=utils_1$1$1.toArray(t,r);var n=new Position$2;if(t[n.place++]!==48){return false}var i=getLength$2(t,n);if(i===false){return false}if(i+n.place!==t.length){return false}if(t[n.place++]!==2){return false}var s=getLength$2(t,n);if(s===false){return false}var f=t.slice(n.place,s+n.place);n.place+=s;if(t[n.place++]!==2){return false}var a=getLength$2(t,n);if(a===false){return false}if(t.length!==a+n.place){return false}var o=t.slice(n.place,a+n.place);if(f[0]===0){if(f[1]&128){f=f.slice(1)}else{return false}}if(o[0]===0){if(o[1]&128){o=o.slice(1)}else{return false}}this.r=new bn$3(f);this.s=new bn$3(o);this.recoveryParam=null;return true};function constructLength$2(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);e.push(r|128);while(--r){e.push(t>>>(r<<3)&255)}e.push(t)}Signature$4.prototype.toDER=function e(t){var r=this.r.toArray();var n=this.s.toArray();if(r[0]&128)r=[0].concat(r);if(n[0]&128)n=[0].concat(n);r=rmPadding$2(r);n=rmPadding$2(n);while(!n[0]&&!(n[1]&128)){n=n.slice(1)}var i=[2];constructLength$2(i,r.length);i=i.concat(r);i.push(2);constructLength$2(i,n.length);var s=i.concat(n);var f=[48];constructLength$2(f,s.length);f=f.concat(s);return utils_1$1$1.encode(f,t)};var rand$1=function(){throw new Error("unsupported")};var assert$5$1=utils_1$1$1.assert;function EC$3(e){if(!(this instanceof EC$3))return new EC$3(e);if(typeof e==="string"){assert$5$1(Object.prototype.hasOwnProperty.call(curves_1$2,e),"Unknown curve "+e);e=curves_1$2[e]}if(e instanceof curves_1$2.PresetCurve)e={curve:e};this.curve=e.curve.curve;this.n=this.curve.n;this.nh=this.n.ushrn(1);this.g=this.curve.g;this.g=e.curve.g;this.g.precompute(e.curve.n.bitLength()+1);this.hash=e.hash||e.curve.hash}var ec$2=EC$3;EC$3.prototype.keyPair=function e(t){return new key$3(this,t)};EC$3.prototype.keyFromPrivate=function e(t,r){return key$3.fromPrivate(this,t,r)};EC$3.prototype.keyFromPublic=function e(t,r){return key$3.fromPublic(this,t,r)};EC$3.prototype.genKeyPair=function e(t){if(!t)t={};var r=new hmacDrbg$2({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||rand$1(),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()});var n=this.n.byteLength();var i=this.n.sub(new bn$3(2));for(;;){var s=new bn$3(r.generate(n));if(s.cmp(i)>0)continue;s.iaddn(1);return this.keyFromPrivate(s)}};EC$3.prototype._truncateToN=function e(t,r){var n=t.byteLength()*8-this.n.bitLength();if(n>0)t=t.ushrn(n);if(!r&&t.cmp(this.n)>=0)return t.sub(this.n);else return t};EC$3.prototype.sign=function e(t,r,n,i){if(typeof n==="object"){i=n;n=null}if(!i)i={};r=this.keyFromPrivate(r,n);t=this._truncateToN(new bn$3(t,16));var s=this.n.byteLength();var f=r.getPrivate().toArray("be",s);var a=t.toArray("be",s);var o=new hmacDrbg$2({hash:this.hash,entropy:f,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"});var c=this.n.sub(new bn$3(1));for(var u=0;;u++){var l=i.k?i.k(u):new bn$3(o.generate(this.n.byteLength()));l=this._truncateToN(l,true);if(l.cmpn(1)<=0||l.cmp(c)>=0)continue;var h=this.g.mul(l);if(h.isInfinity())continue;var d=h.getX();var p=d.umod(this.n);if(p.cmpn(0)===0)continue;var y=l.invm(this.n).mul(p.mul(r.getPrivate()).iadd(t));y=y.umod(this.n);if(y.cmpn(0)===0)continue;var b=(h.getY().isOdd()?1:0)|(d.cmp(p)!==0?2:0);if(i.canonical&&y.cmp(this.nh)>0){y=this.n.sub(y);b^=1}return new signature$3({r:p,s:y,recoveryParam:b})}};EC$3.prototype.verify=function e(t,r,n,i){t=this._truncateToN(new bn$3(t,16));n=this.keyFromPublic(n,i);r=new signature$3(r,"hex");var s=r.r;var f=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return false;if(f.cmpn(1)<0||f.cmp(this.n)>=0)return false;var a=f.invm(this.n);var o=a.mul(t).umod(this.n);var c=a.mul(s).umod(this.n);var u;if(!this.curve._maxwellTrick){u=this.g.mulAdd(o,n.getPublic(),c);if(u.isInfinity())return false;return u.getX().umod(this.n).cmp(s)===0}u=this.g.jmulAdd(o,n.getPublic(),c);if(u.isInfinity())return false;return u.eqXToP(s)};EC$3.prototype.recoverPubKey=function(e,t,r,n){assert$5$1((3&r)===r,"The recovery param is more than two bits");t=new signature$3(t,n);var i=this.n;var s=new bn$3(e);var f=t.r;var a=t.s;var o=r&1;var c=r>>1;if(f.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");if(c)f=this.curve.pointFromX(f.add(this.curve.n),o);else f=this.curve.pointFromX(f,o);var u=t.r.invm(i);var l=i.sub(s).mul(u).umod(i);var h=a.mul(u).umod(i);return this.g.mulAdd(l,f,h)};EC$3.prototype.getKeyRecoveryParam=function(e,t,r,n){t=new signature$3(t,n);if(t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var elliptic_1$2=createCommonjsModule$1((function(e,t){var r=t;r.version={version:"6.5.4"}.version;r.utils=utils_1$1$1;r.rand=function(){throw new Error("unsupported")};r.curve=curve_1$2;r.curves=curves_1$2;r.ec=ec$2;r.eddsa=null}));var EC$1$1=elliptic_1$2.ec;const version$E="signing-key/5.7.0";const logger$1b=new Logger$1(version$E);let _curve$1=null;function getCurve$1(){if(!_curve$1){_curve$1=new EC$1$1("secp256k1")}return _curve$1}class SigningKey$1{constructor(e){defineReadOnly$1(this,"curve","secp256k1");defineReadOnly$1(this,"privateKey",hexlify$1(e));if(hexDataLength$1(this.privateKey)!==32){logger$1b.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]")}const t=getCurve$1().keyFromPrivate(arrayify$2(this.privateKey));defineReadOnly$1(this,"publicKey","0x"+t.getPublic(false,"hex"));defineReadOnly$1(this,"compressedPublicKey","0x"+t.getPublic(true,"hex"));defineReadOnly$1(this,"_isSigningKey",true)}_addPoint(e){const t=getCurve$1().keyFromPublic(arrayify$2(this.publicKey));const r=getCurve$1().keyFromPublic(arrayify$2(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=getCurve$1().keyFromPrivate(arrayify$2(this.privateKey));const r=arrayify$2(e);if(r.length!==32){logger$1b.throwArgumentError("bad digest length","digest",e)}const n=t.sign(r,{canonical:true});return splitSignature$1({recoveryParam:n.recoveryParam,r:hexZeroPad$1("0x"+n.r.toString(16),32),s:hexZeroPad$1("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=getCurve$1().keyFromPrivate(arrayify$2(this.privateKey));const r=getCurve$1().keyFromPublic(arrayify$2(computePublicKey$1(e)));return hexZeroPad$1("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function recoverPublicKey$1(e,t){const r=splitSignature$1(t);const n={r:arrayify$2(r.r),s:arrayify$2(r.s)};return"0x"+getCurve$1().recoverPubKey(arrayify$2(e),n,r.recoveryParam).encode("hex",false)}function computePublicKey$1(e,t){const r=arrayify$2(e);if(r.length===32){const e=new SigningKey$1(r);if(t){return"0x"+getCurve$1().keyFromPrivate(r).getPublic(true,"hex")}return e.publicKey}else if(r.length===33){if(t){return hexlify$1(r)}return"0x"+getCurve$1().keyFromPublic(r).getPublic(false,"hex")}else if(r.length===65){if(!t){return hexlify$1(r)}return"0x"+getCurve$1().keyFromPublic(r).getPublic(true,"hex")}return logger$1b.throwArgumentError("invalid public or private key","key","[REDACTED]")}const lib_esm$b=Object.freeze({__proto__:null,SigningKey:SigningKey$1,recoverPublicKey:recoverPublicKey$1,computePublicKey:computePublicKey$1});const version$D="transactions/5.7.0";const logger$1a=new Logger$1(version$D);var TransactionTypes$1;(function(e){e[e["legacy"]=0]="legacy";e[e["eip2930"]=1]="eip2930";e[e["eip1559"]=2]="eip1559"})(TransactionTypes$1||(TransactionTypes$1={}));function handleAddress$1(e){if(e==="0x"){return null}return getAddress$1(e)}function handleNumber$1(e){if(e==="0x"){return Zero$4}return BigNumber$2.from(e)}const transactionFields$1=[{name:"nonce",maxLength:32,numeric:true},{name:"gasPrice",maxLength:32,numeric:true},{name:"gasLimit",maxLength:32,numeric:true},{name:"to",length:20},{name:"value",maxLength:32,numeric:true},{name:"data"}];const allowedTransactionKeys$6={chainId:true,data:true,gasLimit:true,gasPrice:true,nonce:true,to:true,type:true,value:true};function computeAddress$1(e){const t=computePublicKey$1(e);return getAddress$1(hexDataSlice$1(keccak256$3(hexDataSlice$1(t,1)),12))}function recoverAddress$1(e,t){return computeAddress$1(recoverPublicKey$1(arrayify$2(e),t))}function formatNumber$1(e,t){const r=stripZeros$1(BigNumber$2.from(e).toHexString());if(r.length>32){logger$1a.throwArgumentError("invalid length for "+t,"transaction:"+t,e)}return r}function accessSetify$1(e,t){return{address:getAddress$1(e),storageKeys:(t||[]).map(((t,r)=>{if(hexDataLength$1(t)!==32){logger$1a.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t)}return t.toLowerCase()}))}}function accessListify$1(e){if(Array.isArray(e)){return e.map(((e,t)=>{if(Array.isArray(e)){if(e.length>2){logger$1a.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e)}return accessSetify$1(e[0],e[1])}return accessSetify$1(e.address,e.storageKeys)}))}const t=Object.keys(e).map((t=>{const r=e[t].reduce(((e,t)=>{e[t]=true;return e}),{});return accessSetify$1(t,Object.keys(r).sort())}));t.sort(((e,t)=>e.address.localeCompare(t.address)));return t}function formatAccessList$1(e){return accessListify$1(e).map((e=>[e.address,e.storageKeys]))}function _serializeEip1559$1(e,t){if(e.gasPrice!=null){const t=BigNumber$2.from(e.gasPrice);const r=BigNumber$2.from(e.maxFeePerGas||0);if(!t.eq(r)){logger$1a.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}}const r=[formatNumber$1(e.chainId||0,"chainId"),formatNumber$1(e.nonce||0,"nonce"),formatNumber$1(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber$1(e.maxFeePerGas||0,"maxFeePerGas"),formatNumber$1(e.gasLimit||0,"gasLimit"),e.to!=null?getAddress$1(e.to):"0x",formatNumber$1(e.value||0,"value"),e.data||"0x",formatAccessList$1(e.accessList||[])];if(t){const e=splitSignature$1(t);r.push(formatNumber$1(e.recoveryParam,"recoveryParam"));r.push(stripZeros$1(e.r));r.push(stripZeros$1(e.s))}return hexConcat$1(["0x02",encode$b(r)])}function _serializeEip2930$1(e,t){const r=[formatNumber$1(e.chainId||0,"chainId"),formatNumber$1(e.nonce||0,"nonce"),formatNumber$1(e.gasPrice||0,"gasPrice"),formatNumber$1(e.gasLimit||0,"gasLimit"),e.to!=null?getAddress$1(e.to):"0x",formatNumber$1(e.value||0,"value"),e.data||"0x",formatAccessList$1(e.accessList||[])];if(t){const e=splitSignature$1(t);r.push(formatNumber$1(e.recoveryParam,"recoveryParam"));r.push(stripZeros$1(e.r));r.push(stripZeros$1(e.s))}return hexConcat$1(["0x01",encode$b(r)])}function _serialize$1(e,t){checkProperties$1(e,allowedTransactionKeys$6);const r=[];transactionFields$1.forEach((function(t){let n=e[t.name]||[];const i={};if(t.numeric){i.hexPad="left"}n=arrayify$2(hexlify$1(n,i));if(t.length&&n.length!==t.length&&n.length>0){logger$1a.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n)}if(t.maxLength){n=stripZeros$1(n);if(n.length>t.maxLength){logger$1a.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n)}}r.push(hexlify$1(n))}));let n=0;if(e.chainId!=null){n=e.chainId;if(typeof n!=="number"){logger$1a.throwArgumentError("invalid transaction.chainId","transaction",e)}}else if(t&&!isBytesLike$1(t)&&t.v>28){n=Math.floor((t.v-35)/2)}if(n!==0){r.push(hexlify$1(n));r.push("0x");r.push("0x")}if(!t){return encode$b(r)}const i=splitSignature$1(t);let s=27+i.recoveryParam;if(n!==0){r.pop();r.pop();r.pop();s+=n*2+8;if(i.v>28&&i.v!==s){logger$1a.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)}}else if(i.v!==s){logger$1a.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)}r.push(hexlify$1(s));r.push(stripZeros$1(arrayify$2(i.r)));r.push(stripZeros$1(arrayify$2(i.s)));return encode$b(r)}function serialize$5(e,t){if(e.type==null||e.type===0){if(e.accessList!=null){logger$1a.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e)}return _serialize$1(e,t)}switch(e.type){case 1:return _serializeEip2930$1(e,t);case 2:return _serializeEip1559$1(e,t)}return logger$1a.throwError(`unsupported transaction type: ${e.type}`,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function _parseEipSignature$1(e,t,r){try{const r=handleNumber$1(t[0]).toNumber();if(r!==0&&r!==1){throw new Error("bad recid")}e.v=r}catch(e){logger$1a.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=hexZeroPad$1(t[1],32);e.s=hexZeroPad$1(t[2],32);try{const t=keccak256$3(r(e));e.from=recoverAddress$1(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function _parseEip1559$1(e){const t=decode$a(e.slice(1));if(t.length!==9&&t.length!==12){logger$1a.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify$1(e))}const r=handleNumber$1(t[2]);const n=handleNumber$1(t[3]);const i={type:2,chainId:handleNumber$1(t[0]).toNumber(),nonce:handleNumber$1(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:handleNumber$1(t[4]),to:handleAddress$1(t[5]),value:handleNumber$1(t[6]),data:t[7],accessList:accessListify$1(t[8])};if(t.length===9){return i}i.hash=keccak256$3(e);_parseEipSignature$1(i,t.slice(9),_serializeEip1559$1);return i}function _parseEip2930$1(e){const t=decode$a(e.slice(1));if(t.length!==8&&t.length!==11){logger$1a.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify$1(e))}const r={type:1,chainId:handleNumber$1(t[0]).toNumber(),nonce:handleNumber$1(t[1]).toNumber(),gasPrice:handleNumber$1(t[2]),gasLimit:handleNumber$1(t[3]),to:handleAddress$1(t[4]),value:handleNumber$1(t[5]),data:t[6],accessList:accessListify$1(t[7])};if(t.length===8){return r}r.hash=keccak256$3(e);_parseEipSignature$1(r,t.slice(8),_serializeEip2930$1);return r}function _parse$1(e){const t=decode$a(e);if(t.length!==9&&t.length!==6){logger$1a.throwArgumentError("invalid raw transaction","rawTransaction",e)}const r={nonce:handleNumber$1(t[0]).toNumber(),gasPrice:handleNumber$1(t[1]),gasLimit:handleNumber$1(t[2]),to:handleAddress$1(t[3]),value:handleNumber$1(t[4]),data:t[5],chainId:0};if(t.length===6){return r}try{r.v=BigNumber$2.from(t[6]).toNumber()}catch(e){return r}r.r=hexZeroPad$1(t[7],32);r.s=hexZeroPad$1(t[8],32);if(BigNumber$2.from(r.r).isZero()&&BigNumber$2.from(r.s).isZero()){r.chainId=r.v;r.v=0}else{r.chainId=Math.floor((r.v-35)/2);if(r.chainId<0){r.chainId=0}let n=r.v-27;const i=t.slice(0,6);if(r.chainId!==0){i.push(hexlify$1(r.chainId));i.push("0x");i.push("0x");n-=r.chainId*2+8}const s=keccak256$3(encode$b(i));try{r.from=recoverAddress$1(s,{r:hexlify$1(r.r),s:hexlify$1(r.s),recoveryParam:n})}catch(e){}r.hash=keccak256$3(e)}r.type=null;return r}function parse$1(e){const t=arrayify$2(e);if(t[0]>127){return _parse$1(t)}switch(t[0]){case 1:return _parseEip2930$1(t);case 2:return _parseEip1559$1(t)}return logger$1a.throwError(`unsupported transaction type: ${t[0]}`,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}const lib_esm$a=Object.freeze({__proto__:null,get TransactionTypes(){return TransactionTypes$1},computeAddress:computeAddress$1,recoverAddress:recoverAddress$1,accessListify:accessListify$1,serialize:serialize$5,parse:parse$1});const version$C="contracts/5.7.0";var __awaiter$t=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$19=new Logger$1(version$C);const allowedTransactionKeys$5={chainId:true,data:true,from:true,gasLimit:true,gasPrice:true,nonce:true,to:true,value:true,type:true,accessList:true,maxFeePerGas:true,maxPriorityFeePerGas:true,customData:true,ccipReadEnabled:true};function resolveName$1(e,t){return __awaiter$t(this,void 0,void 0,(function*(){const r=yield t;if(typeof r!=="string"){logger$19.throwArgumentError("invalid address or ENS name","name",r)}try{return getAddress$1(r)}catch(e){}if(!e){logger$19.throwError("a provider or signer is needed to resolve ENS names",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"})}const n=yield e.resolveName(r);if(n==null){logger$19.throwArgumentError("resolver or addr is not configured for ENS name","name",r)}return n}))}function resolveAddresses$1(e,t,r){return __awaiter$t(this,void 0,void 0,(function*(){if(Array.isArray(r)){return yield Promise.all(r.map(((r,n)=>resolveAddresses$1(e,Array.isArray(t)?t[n]:t[r.name],r))))}if(r.type==="address"){return yield resolveName$1(e,t)}if(r.type==="tuple"){return yield resolveAddresses$1(e,t,r.components)}if(r.baseType==="array"){if(!Array.isArray(t)){return Promise.reject(logger$19.makeError("invalid value for array",Logger$1.errors.INVALID_ARGUMENT,{argument:"value",value:t}))}return yield Promise.all(t.map((t=>resolveAddresses$1(e,t,r.arrayChildren))))}return t}))}function populateTransaction$1(e,t,r){return __awaiter$t(this,void 0,void 0,(function*(){let n={};if(r.length===t.inputs.length+1&&typeof r[r.length-1]==="object"){n=shallowCopy$1(r.pop())}logger$19.checkArgumentCount(r.length,t.inputs.length,"passed to contract");if(e.signer){if(n.from){n.from=resolveProperties$1({override:resolveName$1(e.signer,n.from),signer:e.signer.getAddress()}).then((e=>__awaiter$t(this,void 0,void 0,(function*(){if(getAddress$1(e.signer)!==e.override){logger$19.throwError("Contract with a Signer cannot override from",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"})}return e.override}))))}else{n.from=e.signer.getAddress()}}else if(n.from){n.from=resolveName$1(e.provider,n.from)}const i=yield resolveProperties$1({args:resolveAddresses$1(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:resolveProperties$1(n)||{}});const s=e.interface.encodeFunctionData(t,i.args);const f={data:s,to:i.address};const a=i.overrides;if(a.nonce!=null){f.nonce=BigNumber$2.from(a.nonce).toNumber()}if(a.gasLimit!=null){f.gasLimit=BigNumber$2.from(a.gasLimit)}if(a.gasPrice!=null){f.gasPrice=BigNumber$2.from(a.gasPrice)}if(a.maxFeePerGas!=null){f.maxFeePerGas=BigNumber$2.from(a.maxFeePerGas)}if(a.maxPriorityFeePerGas!=null){f.maxPriorityFeePerGas=BigNumber$2.from(a.maxPriorityFeePerGas)}if(a.from!=null){f.from=a.from}if(a.type!=null){f.type=a.type}if(a.accessList!=null){f.accessList=accessListify$1(a.accessList)}if(f.gasLimit==null&&t.gas!=null){let e=21e3;const r=arrayify$2(s);for(let t=0;t<r.length;t++){e+=4;if(r[t]){e+=64}}f.gasLimit=BigNumber$2.from(t.gas).add(e)}if(a.value){const e=BigNumber$2.from(a.value);if(!e.isZero()&&!t.payable){logger$19.throwError("non-payable method cannot override value",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value})}f.value=e}if(a.customData){f.customData=shallowCopy$1(a.customData)}if(a.ccipReadEnabled){f.ccipReadEnabled=!!a.ccipReadEnabled}delete n.nonce;delete n.gasLimit;delete n.gasPrice;delete n.from;delete n.value;delete n.type;delete n.accessList;delete n.maxFeePerGas;delete n.maxPriorityFeePerGas;delete n.customData;delete n.ccipReadEnabled;const o=Object.keys(n).filter((e=>n[e]!=null));if(o.length){logger$19.throwError(`cannot override ${o.map((e=>JSON.stringify(e))).join(",")}`,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:o})}return f}))}function buildPopulate$1(e,t){return function(...r){return populateTransaction$1(e,t,r)}}function buildEstimate$1(e,t){const r=e.signer||e.provider;return function(...n){return __awaiter$t(this,void 0,void 0,(function*(){if(!r){logger$19.throwError("estimate require a provider or signer",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"})}const i=yield populateTransaction$1(e,t,n);return yield r.estimateGas(i)}))}}function addContractWait$1(e,t){const r=t.wait.bind(t);t.wait=t=>r(t).then((t=>{t.events=t.logs.map((r=>{let n=deepCopy$1(r);let i=null;try{i=e.interface.parseLog(r)}catch(e){}if(i){n.args=i.args;n.decode=(t,r)=>e.interface.decodeEventLog(i.eventFragment,t,r);n.event=i.name;n.eventSignature=i.signature}n.removeListener=()=>e.provider;n.getBlock=()=>e.provider.getBlock(t.blockHash);n.getTransaction=()=>e.provider.getTransaction(t.transactionHash);n.getTransactionReceipt=()=>Promise.resolve(t);return n}));return t}))}function buildCall$1(e,t,r){const n=e.signer||e.provider;return function(...i){return __awaiter$t(this,void 0,void 0,(function*(){let s=undefined;if(i.length===t.inputs.length+1&&typeof i[i.length-1]==="object"){const e=shallowCopy$1(i.pop());if(e.blockTag!=null){s=yield e.blockTag}delete e.blockTag;i.push(e)}if(e.deployTransaction!=null){yield e._deployed(s)}const f=yield populateTransaction$1(e,t,i);const a=yield n.call(f,s);try{let n=e.interface.decodeFunctionResult(t,a);if(r&&t.outputs.length===1){n=n[0]}return n}catch(t){if(t.code===Logger$1.errors.CALL_EXCEPTION){t.address=e.address;t.args=i;t.transaction=f}throw t}}))}}function buildSend$1(e,t){return function(...r){return __awaiter$t(this,void 0,void 0,(function*(){if(!e.signer){logger$19.throwError("sending a transaction requires a signer",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"})}if(e.deployTransaction!=null){yield e._deployed()}const n=yield populateTransaction$1(e,t,r);const i=yield e.signer.sendTransaction(n);addContractWait$1(e,i);return i}))}}function buildDefault$1(e,t,r){if(t.constant){return buildCall$1(e,t,r)}return buildSend$1(e,t)}function getEventTag$3(e){if(e.address&&(e.topics==null||e.topics.length===0)){return"*"}return(e.address||"*")+"@"+(e.topics?e.topics.map((e=>{if(Array.isArray(e)){return e.join("|")}return e})).join(":"):"")}class RunningEvent$1{constructor(e,t){defineReadOnly$1(this,"tag",e);defineReadOnly$1(this,"filter",t);this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=false;this._listeners=this._listeners.filter((r=>{if(t||r.listener!==e){return true}t=true;return false}))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((e=>e.listener))}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();this._listeners=this._listeners.filter((t=>{const r=e.slice();setTimeout((()=>{t.listener.apply(this,r)}),0);return!t.once}));return t}prepareEvent(e){}getEmit(e){return[e]}}class ErrorRunningEvent$1 extends RunningEvent$1{constructor(){super("error",null)}}class FragmentRunningEvent$1 extends RunningEvent$1{constructor(e,t,r,n){const i={address:e};let s=t.getEventTopic(r);if(n){if(s!==n[0]){logger$19.throwArgumentError("topic mismatch","topics",n)}i.topics=n.slice()}else{i.topics=[s]}super(getEventTag$3(i),i);defineReadOnly$1(this,"address",e);defineReadOnly$1(this,"interface",t);defineReadOnly$1(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e);e.event=this.fragment.name;e.eventSignature=this.fragment.format();e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null;e.decodeError=t}}getEmit(e){const t=checkResultErrors$1(e.args);if(t.length){throw t[0].error}const r=(e.args||[]).slice();r.push(e);return r}}class WildcardRunningEvent$1 extends RunningEvent$1{constructor(e,t){super("*",{address:e});defineReadOnly$1(this,"address",e);defineReadOnly$1(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name;e.eventSignature=t.signature;e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r);e.args=t.args}catch(e){}}}class BaseContract$1{constructor(e,t,r){defineReadOnly$1(this,"interface",getStatic$1(new.target,"getInterface")(t));if(r==null){defineReadOnly$1(this,"provider",null);defineReadOnly$1(this,"signer",null)}else if(Signer$1.isSigner(r)){defineReadOnly$1(this,"provider",r.provider||null);defineReadOnly$1(this,"signer",r)}else if(Provider$1.isProvider(r)){defineReadOnly$1(this,"provider",r);defineReadOnly$1(this,"signer",null)}else{logger$19.throwArgumentError("invalid signer or provider","signerOrProvider",r)}defineReadOnly$1(this,"callStatic",{});defineReadOnly$1(this,"estimateGas",{});defineReadOnly$1(this,"functions",{});defineReadOnly$1(this,"populateTransaction",{});defineReadOnly$1(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach((t=>{const r=this.interface.events[t];defineReadOnly$1(this.filters,t,((...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,e)})));if(!e[r.name]){e[r.name]=[]}e[r.name].push(t)}));Object.keys(e).forEach((t=>{const r=e[t];if(r.length===1){defineReadOnly$1(this.filters,t,this.filters[r[0]])}else{logger$19.warn(`Duplicate definition of ${t} (${r.join(", ")})`)}}))}defineReadOnly$1(this,"_runningEvents",{});defineReadOnly$1(this,"_wrappedEmits",{});if(e==null){logger$19.throwArgumentError("invalid contract address or ENS name","addressOrName",e)}defineReadOnly$1(this,"address",e);if(this.provider){defineReadOnly$1(this,"resolvedAddress",resolveName$1(this.provider,e))}else{try{defineReadOnly$1(this,"resolvedAddress",Promise.resolve(getAddress$1(e)))}catch(e){logger$19.throwError("provider is required to use ENS name as contract address",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}}this.resolvedAddress.catch((e=>{}));const n={};const i={};Object.keys(this.interface.functions).forEach((e=>{const t=this.interface.functions[e];if(i[e]){logger$19.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);return}i[e]=true;{const r=t.name;if(!n[`%${r}`]){n[`%${r}`]=[]}n[`%${r}`].push(e)}if(this[e]==null){defineReadOnly$1(this,e,buildDefault$1(this,t,true))}if(this.functions[e]==null){defineReadOnly$1(this.functions,e,buildDefault$1(this,t,false))}if(this.callStatic[e]==null){defineReadOnly$1(this.callStatic,e,buildCall$1(this,t,true))}if(this.populateTransaction[e]==null){defineReadOnly$1(this.populateTransaction,e,buildPopulate$1(this,t))}if(this.estimateGas[e]==null){defineReadOnly$1(this.estimateGas,e,buildEstimate$1(this,t))}}));Object.keys(n).forEach((e=>{const t=n[e];if(t.length>1){return}e=e.substring(1);const r=t[0];try{if(this[e]==null){defineReadOnly$1(this,e,this[r])}}catch(e){}if(this.functions[e]==null){defineReadOnly$1(this.functions,e,this.functions[r])}if(this.callStatic[e]==null){defineReadOnly$1(this.callStatic,e,this.callStatic[r])}if(this.populateTransaction[e]==null){defineReadOnly$1(this.populateTransaction,e,this.populateTransaction[r])}if(this.estimateGas[e]==null){defineReadOnly$1(this.estimateGas,e,this.estimateGas[r])}}))}static getContractAddress(e){return getContractAddress$1(e)}static getInterface(e){if(Interface$1.isInterface(e)){return e}return new Interface$1(e)}deployed(){return this._deployed()}_deployed(e){if(!this._deployedPromise){if(this.deployTransaction){this._deployedPromise=this.deployTransaction.wait().then((()=>this))}else{this._deployedPromise=this.provider.getCode(this.address,e).then((e=>{if(e==="0x"){logger$19.throwError("contract not deployed",Logger$1.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"})}return this}))}}return this._deployedPromise}fallback(e){if(!this.signer){logger$19.throwError("sending a transactions require a signer",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"})}const t=shallowCopy$1(e||{});["from","to"].forEach((function(e){if(t[e]==null){return}logger$19.throwError("cannot override "+e,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:e})}));t.to=this.resolvedAddress;return this.deployed().then((()=>this.signer.sendTransaction(t)))}connect(e){if(typeof e==="string"){e=new VoidSigner$1(e,this.provider)}const t=new this.constructor(this.address,this.interface,e);if(this.deployTransaction){defineReadOnly$1(t,"deployTransaction",this.deployTransaction)}return t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Indexed$1.isIndexed(e)}_normalizeRunningEvent(e){if(this._runningEvents[e.tag]){return this._runningEvents[e.tag]}return e}_getRunningEvent(e){if(typeof e==="string"){if(e==="error"){return this._normalizeRunningEvent(new ErrorRunningEvent$1)}if(e==="event"){return this._normalizeRunningEvent(new RunningEvent$1("event",null))}if(e==="*"){return this._normalizeRunningEvent(new WildcardRunningEvent$1(this.address,this.interface))}const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new FragmentRunningEvent$1(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const t=e.topics[0];if(typeof t!=="string"){throw new Error("invalid topic")}const r=this.interface.getEvent(t);return this._normalizeRunningEvent(new FragmentRunningEvent$1(this.address,this.interface,r,e.topics))}catch(e){}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new RunningEvent$1(getEventTag$3(t),t))}return this._normalizeRunningEvent(new WildcardRunningEvent$1(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];if(t&&e.filter){this.provider.off(e.filter,t);delete this._wrappedEmits[e.tag]}}}_wrapEvent(e,t,r){const n=deepCopy$1(t);n.removeListener=()=>{if(!r){return}e.removeListener(r);this._checkRunningEvents(e)};n.getBlock=()=>this.provider.getBlock(t.blockHash);n.getTransaction=()=>this.provider.getTransaction(t.transactionHash);n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash);e.prepareEvent(n);return n}_addEventListener(e,t,r){if(!this.provider){logger$19.throwError("events require a provider or a signer with a provider",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"once"})}e.addListener(t,r);this._runningEvents[e.tag]=e;if(!this._wrappedEmits[e.tag]){const r=r=>{let n=this._wrapEvent(e,r,t);if(n.decodeError==null){try{const t=e.getEmit(n);this.emit(e.filter,...t)}catch(e){n.decodeError=e.error}}if(e.filter!=null){this.emit("event",n)}if(n.decodeError!=null){this.emit("error",n.decodeError,n)}};this._wrappedEmits[e.tag]=r;if(e.filter!=null){this.provider.on(e.filter,r)}}}queryFilter(e,t,r){const n=this._getRunningEvent(e);const i=shallowCopy$1(n.filter);if(typeof t==="string"&&isHexString$1(t,32)){if(r!=null){logger$19.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r)}i.blockHash=t}else{i.fromBlock=t!=null?t:0;i.toBlock=r!=null?r:"latest"}return this.provider.getLogs(i).then((e=>e.map((e=>this._wrapEvent(n,e,null)))))}on(e,t){this._addEventListener(this._getRunningEvent(e),t,false);return this}once(e,t){this._addEventListener(this._getRunningEvent(e),t,true);return this}emit(e,...t){if(!this.provider){return false}const r=this._getRunningEvent(e);const n=r.run(t)>0;this._checkRunningEvents(r);return n}listenerCount(e){if(!this.provider){return 0}if(e==null){return Object.keys(this._runningEvents).reduce(((e,t)=>e+this._runningEvents[t].listenerCount()),0)}return this._getRunningEvent(e).listenerCount()}listeners(e){if(!this.provider){return[]}if(e==null){const e=[];for(let t in this._runningEvents){this._runningEvents[t].listeners().forEach((t=>{e.push(t)}))}return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider){return this}if(e==null){for(const e in this._runningEvents){const t=this._runningEvents[e];t.removeAllListeners();this._checkRunningEvents(t)}return this}const t=this._getRunningEvent(e);t.removeAllListeners();this._checkRunningEvents(t);return this}off(e,t){if(!this.provider){return this}const r=this._getRunningEvent(e);r.removeListener(t);this._checkRunningEvents(r);return this}removeListener(e,t){return this.off(e,t)}}class Contract$2 extends BaseContract$1{}class ContractFactory$1{constructor(e,t,r){let n=null;if(typeof t==="string"){n=t}else if(isBytes$1(t)){n=hexlify$1(t)}else if(t&&typeof t.object==="string"){n=t.object}else{n="!"}if(n.substring(0,2)!=="0x"){n="0x"+n}if(!isHexString$1(n)||n.length%2){logger$19.throwArgumentError("invalid bytecode","bytecode",t)}if(r&&!Signer$1.isSigner(r)){logger$19.throwArgumentError("invalid signer","signer",r)}defineReadOnly$1(this,"bytecode",n);defineReadOnly$1(this,"interface",getStatic$1(new.target,"getInterface")(e));defineReadOnly$1(this,"signer",r||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]==="object"){t=shallowCopy$1(e.pop());for(const e in t){if(!allowedTransactionKeys$5[e]){throw new Error("unknown transaction override "+e)}}}["data","from","to"].forEach((e=>{if(t[e]==null){return}logger$19.throwError("cannot override "+e,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:e})}));if(t.value){const e=BigNumber$2.from(t.value);if(!e.isZero()&&!this.interface.deploy.payable){logger$19.throwError("non-payable constructor cannot override value",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value})}}logger$19.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");t.data=hexlify$1(concat$5([this.bytecode,this.interface.encodeDeploy(e)]));return t}deploy(...e){return __awaiter$t(this,void 0,void 0,(function*(){let t={};if(e.length===this.interface.deploy.inputs.length+1){t=e.pop()}logger$19.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const r=yield resolveAddresses$1(this.signer,e,this.interface.deploy.inputs);r.push(t);const n=this.getDeployTransaction(...r);const i=yield this.signer.sendTransaction(n);const s=getStatic$1(this.constructor,"getContractAddress")(i);const f=getStatic$1(this.constructor,"getContract")(s,this.interface,this.signer);addContractWait$1(f,i);defineReadOnly$1(f,"deployTransaction",i);return f}))}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){if(e==null){logger$19.throwError("missing compiler output",Logger$1.errors.MISSING_ARGUMENT,{argument:"compilerOutput"})}if(typeof e==="string"){e=JSON.parse(e)}const r=e.abi;let n=null;if(e.bytecode){n=e.bytecode}else if(e.evm&&e.evm.bytecode){n=e.evm.bytecode}return new this(r,n,t)}static getInterface(e){return Contract$2.getInterface(e)}static getContractAddress(e){return getContractAddress$1(e)}static getContract(e,t,r){return new Contract$2(e,t,r)}}class BaseX$1{constructor(e){defineReadOnly$1(this,"alphabet",e);defineReadOnly$1(this,"base",e.length);defineReadOnly$1(this,"_alphabetMap",{});defineReadOnly$1(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++){this._alphabetMap[e.charAt(t)]=t}}encode(e){let t=arrayify$2(e);if(t.length===0){return""}let r=[0];for(let e=0;e<t.length;++e){let n=t[e];for(let e=0;e<r.length;++e){n+=r[e]<<8;r[e]=n%this.base;n=n/this.base|0}while(n>0){r.push(n%this.base);n=n/this.base|0}}let n="";for(let e=0;t[e]===0&&e<t.length-1;++e){n+=this._leader}for(let e=r.length-1;e>=0;--e){n+=this.alphabet[r[e]]}return n}decode(e){if(typeof e!=="string"){throw new TypeError("Expected String")}let t=[];if(e.length===0){return new Uint8Array(t)}t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(n===undefined){throw new Error("Non-base"+this.base+" character")}let i=n;for(let e=0;e<t.length;++e){i+=t[e]*this.base;t[e]=i&255;i>>=8}while(i>0){t.push(i&255);i>>=8}}for(let r=0;e[r]===this._leader&&r<e.length-1;++r){t.push(0)}return arrayify$2(new Uint8Array(t.reverse()))}}const Base32=new BaseX$1("abcdefghijklmnopqrstuvwxyz234567");const Base58$1=new BaseX$1("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");const lib_esm$9=Object.freeze({__proto__:null,BaseX:BaseX$1,Base32,Base58:Base58$1});var SupportedAlgorithm$1;(function(e){e["sha256"]="sha256";e["sha512"]="sha512"})(SupportedAlgorithm$1||(SupportedAlgorithm$1={}));const version$B="sha2/5.7.0";const logger$18=new Logger$1(version$B);function ripemd160$2(e){return"0x"+hash_1$2.ripemd160().update(arrayify$2(e)).digest("hex")}function sha256$4(e){return"0x"+hash_1$2.sha256().update(arrayify$2(e)).digest("hex")}function sha512$2(e){return"0x"+hash_1$2.sha512().update(arrayify$2(e)).digest("hex")}function computeHmac$1(e,t,r){if(!SupportedAlgorithm$1[e]){logger$18.throwError("unsupported algorithm "+e,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e})}return"0x"+hash_1$2.hmac(hash_1$2[e],arrayify$2(t)).update(arrayify$2(r)).digest("hex")}const lib_esm$8=Object.freeze({__proto__:null,computeHmac:computeHmac$1,ripemd160:ripemd160$2,sha256:sha256$4,sha512:sha512$2,get SupportedAlgorithm(){return SupportedAlgorithm$1}});function pbkdf2$3(e,t,r,n,i){e=arrayify$2(e);t=arrayify$2(t);let s;let f=1;const a=new Uint8Array(n);const o=new Uint8Array(t.length+4);o.set(t);let c;let u;for(let l=1;l<=f;l++){o[t.length]=l>>24&255;o[t.length+1]=l>>16&255;o[t.length+2]=l>>8&255;o[t.length+3]=l&255;let h=arrayify$2(computeHmac$1(i,e,o));if(!s){s=h.length;u=new Uint8Array(s);f=Math.ceil(n/s);c=n-(f-1)*s}u.set(h);for(let t=1;t<r;t++){h=arrayify$2(computeHmac$1(i,e,h));for(let e=0;e<s;e++)u[e]^=h[e]}const d=(l-1)*s;const p=l===f?c:s;a.set(arrayify$2(u).slice(0,p),d)}return hexlify$1(a)}const version$A="wordlists/5.7.0";const logger$17=new Logger$1(version$A);class Wordlist$1{constructor(e){logger$17.checkAbstract(new.target,Wordlist$1);defineReadOnly$1(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let r=0;r<2048;r++){const n=e.getWord(r);if(r!==e.getWordIndex(n)){return"0x"}t.push(n)}return id$1(t.join("\n")+"\n")}static register(e,t){}}const words$1="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let wordlist$1=null;function loadWords$1(e){if(wordlist$1!=null){return}wordlist$1=words$1.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" ");if(Wordlist$1.check(e)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"){wordlist$1=null;throw new Error("BIP39 Wordlist for en (English) FAILED")}}class LangEn$1 extends Wordlist$1{constructor(){super("en")}getWord(e){loadWords$1(this);return wordlist$1[e]}getWordIndex(e){loadWords$1(this);return wordlist$1.indexOf(e)}}const langEn$1=new LangEn$1;Wordlist$1.register(langEn$1);const wordlists$1={en:langEn$1};const version$z="hdnode/5.7.0";const logger$16=new Logger$1(version$z);const N$1=BigNumber$2.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");const MasterSecret$1=toUtf8Bytes$1("Bitcoin seed");const HardenedBit$1=2147483648;function getUpperMask$1(e){return(1<<e)-1<<8-e}function getLowerMask$1(e){return(1<<e)-1}function bytes32$1(e){return hexZeroPad$1(hexlify$1(e),32)}function base58check$1(e){return Base58$1.encode(concat$5([e,hexDataSlice$1(sha256$4(sha256$4(e)),0,4)]))}function getWordlist$1(e){if(e==null){return wordlists$1["en"]}if(typeof e==="string"){const t=wordlists$1[e];if(t==null){logger$16.throwArgumentError("unknown locale","wordlist",e)}return t}return e}const _constructorGuard$6={};const defaultPath$1="m/44'/60'/0'/0/0";class HDNode$1{constructor(e,t,r,n,i,s,f,a){if(e!==_constructorGuard$6){throw new Error("HDNode constructor cannot be called directly")}if(t){const e=new SigningKey$1(t);defineReadOnly$1(this,"privateKey",e.privateKey);defineReadOnly$1(this,"publicKey",e.compressedPublicKey)}else{defineReadOnly$1(this,"privateKey",null);defineReadOnly$1(this,"publicKey",hexlify$1(r))}defineReadOnly$1(this,"parentFingerprint",n);defineReadOnly$1(this,"fingerprint",hexDataSlice$1(ripemd160$2(sha256$4(this.publicKey)),0,4));defineReadOnly$1(this,"address",computeAddress$1(this.publicKey));defineReadOnly$1(this,"chainCode",i);defineReadOnly$1(this,"index",s);defineReadOnly$1(this,"depth",f);if(a==null){defineReadOnly$1(this,"mnemonic",null);defineReadOnly$1(this,"path",null)}else if(typeof a==="string"){defineReadOnly$1(this,"mnemonic",null);defineReadOnly$1(this,"path",a)}else{defineReadOnly$1(this,"mnemonic",a);defineReadOnly$1(this,"path",a.path)}}get extendedKey(){if(this.depth>=256){throw new Error("Depth too large!")}return base58check$1(concat$5([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",hexlify$1(this.depth),this.parentFingerprint,hexZeroPad$1(hexlify$1(this.index),4),this.chainCode,this.privateKey!=null?concat$5(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new HDNode$1(_constructorGuard$6,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295){throw new Error("invalid index - "+String(e))}let t=this.path;if(t){t+="/"+(e&~HardenedBit$1)}const r=new Uint8Array(37);if(e&HardenedBit$1){if(!this.privateKey){throw new Error("cannot derive child of neutered node")}r.set(arrayify$2(this.privateKey),1);if(t){t+="'"}}else{r.set(arrayify$2(this.publicKey))}for(let t=24;t>=0;t-=8){r[33+(t>>3)]=e>>24-t&255}const n=arrayify$2(computeHmac$1(SupportedAlgorithm$1.sha512,this.chainCode,r));const i=n.slice(0,32);const s=n.slice(32);let f=null;let a=null;if(this.privateKey){f=bytes32$1(BigNumber$2.from(i).add(this.privateKey).mod(N$1))}else{const e=new SigningKey$1(hexlify$1(i));a=e._addPoint(this.publicKey)}let o=t;const c=this.mnemonic;if(c){o=Object.freeze({phrase:c.phrase,path:t,locale:c.locale||"en"})}return new HDNode$1(_constructorGuard$6,f,a,this.fingerprint,bytes32$1(s),e,this.depth+1,o)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0){throw new Error("invalid path - "+e)}if(t[0]==="m"){t.shift()}let r=this;for(let e=0;e<t.length;e++){const n=t[e];if(n.match(/^[0-9]+'$/)){const e=parseInt(n.substring(0,n.length-1));if(e>=HardenedBit$1){throw new Error("invalid path index - "+n)}r=r._derive(HardenedBit$1+e)}else if(n.match(/^[0-9]+$/)){const e=parseInt(n);if(e>=HardenedBit$1){throw new Error("invalid path index - "+n)}r=r._derive(e)}else{throw new Error("invalid path component - "+n)}}return r}static _fromSeed(e,t){const r=arrayify$2(e);if(r.length<16||r.length>64){throw new Error("invalid seed")}const n=arrayify$2(computeHmac$1(SupportedAlgorithm$1.sha512,MasterSecret$1,r));return new HDNode$1(_constructorGuard$6,bytes32$1(n.slice(0,32)),null,"0x00000000",bytes32$1(n.slice(32)),0,0,t)}static fromMnemonic(e,t,r){r=getWordlist$1(r);e=entropyToMnemonic$1(mnemonicToEntropy$1(e,r),r);return HDNode$1._fromSeed(mnemonicToSeed$1(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return HDNode$1._fromSeed(e,null)}static fromExtendedKey(e){const t=Base58$1.decode(e);if(t.length!==82||base58check$1(t.slice(0,78))!==e){logger$16.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}const r=t[4];const n=hexlify$1(t.slice(5,9));const i=parseInt(hexlify$1(t.slice(9,13)).substring(2),16);const s=hexlify$1(t.slice(13,45));const f=t.slice(45,78);switch(hexlify$1(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new HDNode$1(_constructorGuard$6,null,hexlify$1(f),n,s,i,r,null);case"0x0488ade4":case"0x04358394 ":if(f[0]!==0){break}return new HDNode$1(_constructorGuard$6,hexlify$1(f.slice(1)),null,n,s,i,r,null)}return logger$16.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function mnemonicToSeed$1(e,t){if(!t){t=""}const r=toUtf8Bytes$1("mnemonic"+t,UnicodeNormalizationForm$1.NFKD);return pbkdf2$3(toUtf8Bytes$1(e,UnicodeNormalizationForm$1.NFKD),r,2048,64,"sha512")}function mnemonicToEntropy$1(e,t){t=getWordlist$1(t);logger$16.checkNormalize();const r=t.split(e);if(r.length%3!==0){throw new Error("invalid mnemonic")}const n=arrayify$2(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let e=0;e<r.length;e++){let s=t.getWordIndex(r[e].normalize("NFKD"));if(s===-1){throw new Error("invalid mnemonic")}for(let e=0;e<11;e++){if(s&1<<10-e){n[i>>3]|=1<<7-i%8}i++}}const s=32*r.length/3;const f=r.length/3;const a=getUpperMask$1(f);const o=arrayify$2(sha256$4(n.slice(0,s/8)))[0]&a;if(o!==(n[n.length-1]&a)){throw new Error("invalid checksum")}return hexlify$1(n.slice(0,s/8))}function entropyToMnemonic$1(e,t){t=getWordlist$1(t);e=arrayify$2(e);if(e.length%4!==0||e.length<16||e.length>32){throw new Error("invalid entropy")}const r=[0];let n=11;for(let t=0;t<e.length;t++){if(n>8){r[r.length-1]<<=8;r[r.length-1]|=e[t];n-=8}else{r[r.length-1]<<=n;r[r.length-1]|=e[t]>>8-n;r.push(e[t]&getLowerMask$1(8-n));n+=3}}const i=e.length/4;const s=arrayify$2(sha256$4(e))[0]&getUpperMask$1(i);r[r.length-1]<<=i;r[r.length-1]|=s>>8-i;return t.join(r.map((e=>t.getWord(e))))}function isValidMnemonic$1(e,t){try{mnemonicToEntropy$1(e,t);return true}catch(e){}return false}function getAccountPath$1(e){if(typeof e!=="number"||e<0||e>=HardenedBit$1||e%1){logger$16.throwArgumentError("invalid account index","index",e)}return`m/44'/60'/${e}'/0/0`}const lib_esm$7=Object.freeze({__proto__:null,defaultPath:defaultPath$1,HDNode:HDNode$1,mnemonicToSeed:mnemonicToSeed$1,mnemonicToEntropy:mnemonicToEntropy$1,entropyToMnemonic:entropyToMnemonic$1,isValidMnemonic:isValidMnemonic$1,getAccountPath:getAccountPath$1});const version$y="random/5.7.0";const logger$15=new Logger$1(version$y);function getGlobal$1(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw new Error("unable to locate global object")}const anyGlobal$1=getGlobal$1();let crypto$6=anyGlobal$1.crypto||anyGlobal$1.msCrypto;if(!crypto$6||!crypto$6.getRandomValues){logger$15.warn("WARNING: Missing strong random number source");crypto$6={getRandomValues:function(e){return logger$15.throwError("no secure random source avaialble",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}}}function randomBytes$1(e){if(e<=0||e>1024||e%1||e!=e){logger$15.throwArgumentError("invalid length","length",e)}const t=new Uint8Array(e);crypto$6.getRandomValues(t);return arrayify$2(t)}function shuffled$1(e){e=e.slice();for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));const n=e[t];e[t]=e[r];e[r]=n}return e}const lib_esm$6=Object.freeze({__proto__:null,randomBytes:randomBytes$1,shuffled:shuffled$1});var aesJs$1=createCommonjsModule$2((function(e,t){(function(t){function r(e){return parseInt(e)===e}function n(e){if(!r(e.length)){return false}for(var t=0;t<e.length;t++){if(!r(e[t])||e[t]<0||e[t]>255){return false}}return true}function i(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&e.name==="Uint8Array"){if(t){if(e.slice){e=e.slice()}else{e=Array.prototype.slice.call(e)}}return e}if(Array.isArray(e)){if(!n(e)){throw new Error("Array contains invalid value: "+e)}return new Uint8Array(e)}if(r(e.length)&&n(e)){return new Uint8Array(e)}throw new Error("unsupported array-like object")}function s(e){return new Uint8Array(e)}function f(e,t,r,n,i){if(n!=null||i!=null){if(e.slice){e=e.slice(n,i)}else{e=Array.prototype.slice.call(e,n,i)}}t.set(e,r)}var a=function(){function e(e){var t=[],r=0;e=encodeURI(e);while(r<e.length){var n=e.charCodeAt(r++);if(n===37){t.push(parseInt(e.substr(r,2),16));r+=2}else{t.push(n)}}return i(t)}function t(e){var t=[],r=0;while(r<e.length){var n=e[r];if(n<128){t.push(String.fromCharCode(n));r++}else if(n>191&&n<224){t.push(String.fromCharCode((n&31)<<6|e[r+1]&63));r+=2}else{t.push(String.fromCharCode((n&15)<<12|(e[r+1]&63)<<6|e[r+2]&63));r+=3}}return t.join("")}return{toBytes:e,fromBytes:t}}();var o=function(){function e(e){var t=[];for(var r=0;r<e.length;r+=2){t.push(parseInt(e.substr(r,2),16))}return t}var t="0123456789abcdef";function r(e){var r=[];for(var n=0;n<e.length;n++){var i=e[n];r.push(t[(i&240)>>4]+t[i&15])}return r.join("")}return{toBytes:e,fromBytes:r}}();var c={16:10,24:12,32:14};var u=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145];var l=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22];var h=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125];var d=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986];var p=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766];var y=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126];var b=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436];var m=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890];var g=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935];var v=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600];var w=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480];var A=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795];var $=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855];var _=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150];var E=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function S(e){var t=[];for(var r=0;r<e.length;r+=4){t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3])}return t}var T=function(e){if(!(this instanceof T)){throw Error("AES must be instanitated with `new`")}Object.defineProperty(this,"key",{value:i(e,true)});this._prepare()};T.prototype._prepare=function(){var e=c[this.key.length];if(e==null){throw new Error("invalid key size (must be 16, 24 or 32 bytes)")}this._Ke=[];this._Kd=[];for(var t=0;t<=e;t++){this._Ke.push([0,0,0,0]);this._Kd.push([0,0,0,0])}var r=(e+1)*4;var n=this.key.length/4;var i=S(this.key);var s;for(var t=0;t<n;t++){s=t>>2;this._Ke[s][t%4]=i[t];this._Kd[e-s][t%4]=i[t]}var f=0;var a=n,o;while(a<r){o=i[n-1];i[0]^=l[o>>16&255]<<24^l[o>>8&255]<<16^l[o&255]<<8^l[o>>24&255]^u[f]<<24;f+=1;if(n!=8){for(var t=1;t<n;t++){i[t]^=i[t-1]}}else{for(var t=1;t<n/2;t++){i[t]^=i[t-1]}o=i[n/2-1];i[n/2]^=l[o&255]^l[o>>8&255]<<8^l[o>>16&255]<<16^l[o>>24&255]<<24;for(var t=n/2+1;t<n;t++){i[t]^=i[t-1]}}var t=0,h,d;while(t<n&&a<r){h=a>>2;d=a%4;this._Ke[h][d]=i[t];this._Kd[e-h][d]=i[t++];a++}}for(var h=1;h<e;h++){for(var d=0;d<4;d++){o=this._Kd[h][d];this._Kd[h][d]=A[o>>24&255]^$[o>>16&255]^_[o>>8&255]^E[o&255]}}};T.prototype.encrypt=function(e){if(e.length!=16){throw new Error("invalid plaintext size (must be 16 bytes)")}var t=this._Ke.length-1;var r=[0,0,0,0];var n=S(e);for(var i=0;i<4;i++){n[i]^=this._Ke[0][i]}for(var f=1;f<t;f++){for(var i=0;i<4;i++){r[i]=d[n[i]>>24&255]^p[n[(i+1)%4]>>16&255]^y[n[(i+2)%4]>>8&255]^b[n[(i+3)%4]&255]^this._Ke[f][i]}n=r.slice()}var a=s(16),o;for(var i=0;i<4;i++){o=this._Ke[t][i];a[4*i]=(l[n[i]>>24&255]^o>>24)&255;a[4*i+1]=(l[n[(i+1)%4]>>16&255]^o>>16)&255;a[4*i+2]=(l[n[(i+2)%4]>>8&255]^o>>8)&255;a[4*i+3]=(l[n[(i+3)%4]&255]^o)&255}return a};T.prototype.decrypt=function(e){if(e.length!=16){throw new Error("invalid ciphertext size (must be 16 bytes)")}var t=this._Kd.length-1;var r=[0,0,0,0];var n=S(e);for(var i=0;i<4;i++){n[i]^=this._Kd[0][i]}for(var f=1;f<t;f++){for(var i=0;i<4;i++){r[i]=m[n[i]>>24&255]^g[n[(i+3)%4]>>16&255]^v[n[(i+2)%4]>>8&255]^w[n[(i+1)%4]&255]^this._Kd[f][i]}n=r.slice()}var a=s(16),o;for(var i=0;i<4;i++){o=this._Kd[t][i];a[4*i]=(h[n[i]>>24&255]^o>>24)&255;a[4*i+1]=(h[n[(i+3)%4]>>16&255]^o>>16)&255;a[4*i+2]=(h[n[(i+2)%4]>>8&255]^o>>8)&255;a[4*i+3]=(h[n[(i+1)%4]&255]^o)&255}return a};var C=function(e){if(!(this instanceof C)){throw Error("AES must be instanitated with `new`")}this.description="Electronic Code Block";this.name="ecb";this._aes=new T(e)};C.prototype.encrypt=function(e){e=i(e);if(e.length%16!==0){throw new Error("invalid plaintext size (must be multiple of 16 bytes)")}var t=s(e.length);var r=s(16);for(var n=0;n<e.length;n+=16){f(e,r,0,n,n+16);r=this._aes.encrypt(r);f(r,t,n)}return t};C.prototype.decrypt=function(e){e=i(e);if(e.length%16!==0){throw new Error("invalid ciphertext size (must be multiple of 16 bytes)")}var t=s(e.length);var r=s(16);for(var n=0;n<e.length;n+=16){f(e,r,0,n,n+16);r=this._aes.decrypt(r);f(r,t,n)}return t};var P=function(e,t){if(!(this instanceof P)){throw Error("AES must be instanitated with `new`")}this.description="Cipher Block Chaining";this.name="cbc";if(!t){t=s(16)}else if(t.length!=16){throw new Error("invalid initialation vector size (must be 16 bytes)")}this._lastCipherblock=i(t,true);this._aes=new T(e)};P.prototype.encrypt=function(e){e=i(e);if(e.length%16!==0){throw new Error("invalid plaintext size (must be multiple of 16 bytes)")}var t=s(e.length);var r=s(16);for(var n=0;n<e.length;n+=16){f(e,r,0,n,n+16);for(var a=0;a<16;a++){r[a]^=this._lastCipherblock[a]}this._lastCipherblock=this._aes.encrypt(r);f(this._lastCipherblock,t,n)}return t};P.prototype.decrypt=function(e){e=i(e);if(e.length%16!==0){throw new Error("invalid ciphertext size (must be multiple of 16 bytes)")}var t=s(e.length);var r=s(16);for(var n=0;n<e.length;n+=16){f(e,r,0,n,n+16);r=this._aes.decrypt(r);for(var a=0;a<16;a++){t[n+a]=r[a]^this._lastCipherblock[a]}f(e,this._lastCipherblock,0,n,n+16)}return t};var x=function(e,t,r){if(!(this instanceof x)){throw Error("AES must be instanitated with `new`")}this.description="Cipher Feedback";this.name="cfb";if(!t){t=s(16)}else if(t.length!=16){throw new Error("invalid initialation vector size (must be 16 size)")}if(!r){r=1}this.segmentSize=r;this._shiftRegister=i(t,true);this._aes=new T(e)};x.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0){throw new Error("invalid plaintext size (must be segmentSize bytes)")}var t=i(e,true);var r;for(var n=0;n<t.length;n+=this.segmentSize){r=this._aes.encrypt(this._shiftRegister);for(var s=0;s<this.segmentSize;s++){t[n+s]^=r[s]}f(this._shiftRegister,this._shiftRegister,0,this.segmentSize);f(t,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return t};x.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0){throw new Error("invalid ciphertext size (must be segmentSize bytes)")}var t=i(e,true);var r;for(var n=0;n<t.length;n+=this.segmentSize){r=this._aes.encrypt(this._shiftRegister);for(var s=0;s<this.segmentSize;s++){t[n+s]^=r[s]}f(this._shiftRegister,this._shiftRegister,0,this.segmentSize);f(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return t};var I=function(e,t){if(!(this instanceof I)){throw Error("AES must be instanitated with `new`")}this.description="Output Feedback";this.name="ofb";if(!t){t=s(16)}else if(t.length!=16){throw new Error("invalid initialation vector size (must be 16 bytes)")}this._lastPrecipher=i(t,true);this._lastPrecipherIndex=16;this._aes=new T(e)};I.prototype.encrypt=function(e){var t=i(e,true);for(var r=0;r<t.length;r++){if(this._lastPrecipherIndex===16){this._lastPrecipher=this._aes.encrypt(this._lastPrecipher);this._lastPrecipherIndex=0}t[r]^=this._lastPrecipher[this._lastPrecipherIndex++]}return t};I.prototype.decrypt=I.prototype.encrypt;var k=function(e){if(!(this instanceof k)){throw Error("Counter must be instanitated with `new`")}if(e!==0&&!e){e=1}if(typeof e==="number"){this._counter=s(16);this.setValue(e)}else{this.setBytes(e)}};k.prototype.setValue=function(e){if(typeof e!=="number"||parseInt(e)!=e){throw new Error("invalid counter value (must be an integer)")}for(var t=15;t>=0;--t){this._counter[t]=e%256;e=e>>8}};k.prototype.setBytes=function(e){e=i(e,true);if(e.length!=16){throw new Error("invalid counter bytes size (must be 16 bytes)")}this._counter=e};k.prototype.increment=function(){for(var e=15;e>=0;e--){if(this._counter[e]===255){this._counter[e]=0}else{this._counter[e]++;break}}};var M=function(e,t){if(!(this instanceof M)){throw Error("AES must be instanitated with `new`")}this.description="Counter";this.name="ctr";if(!(t instanceof k)){t=new k(t)}this._counter=t;this._remainingCounter=null;this._remainingCounterIndex=16;this._aes=new T(e)};M.prototype.encrypt=function(e){var t=i(e,true);for(var r=0;r<t.length;r++){if(this._remainingCounterIndex===16){this._remainingCounter=this._aes.encrypt(this._counter._counter);this._remainingCounterIndex=0;this._counter.increment()}t[r]^=this._remainingCounter[this._remainingCounterIndex++]}return t};M.prototype.decrypt=M.prototype.encrypt;function B(e){e=i(e,true);var t=16-e.length%16;var r=s(e.length+t);f(e,r);for(var n=e.length;n<r.length;n++){r[n]=t}return r}function R(e){e=i(e,true);if(e.length<16){throw new Error("PKCS#7 invalid length")}var t=e[e.length-1];if(t>16){throw new Error("PKCS#7 padding byte out of range")}var r=e.length-t;for(var n=0;n<t;n++){if(e[r+n]!==t){throw new Error("PKCS#7 invalid padding byte")}}var a=s(r);f(e,a,0,0,r);return a}var N={AES:T,Counter:k,ModeOfOperation:{ecb:C,cbc:P,cfb:x,ofb:I,ctr:M},utils:{hex:o,utf8:a},padding:{pkcs7:{pad:B,strip:R}},_arrayTest:{coerceArray:i,createArray:s,copyArray:f}};{e.exports=N}})()}));const version$x="json-wallets/5.7.0";function looseArrayify$1(e){if(typeof e==="string"&&e.substring(0,2)!=="0x"){e="0x"+e}return arrayify$2(e)}function zpad$1(e,t){e=String(e);while(e.length<t){e="0"+e}return e}function getPassword$1(e){if(typeof e==="string"){return toUtf8Bytes$1(e,UnicodeNormalizationForm$1.NFKC)}return arrayify$2(e)}function searchPath$1(e,t){let r=e;const n=t.toLowerCase().split("/");for(let e=0;e<n.length;e++){let t=null;for(const i in r){if(i.toLowerCase()===n[e]){t=r[i];break}}if(t===null){return null}r=t}return r}function uuidV4$1(e){const t=arrayify$2(e);t[6]=t[6]&15|64;t[8]=t[8]&63|128;const r=hexlify$1(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const logger$14=new Logger$1(version$x);class CrowdsaleAccount$1 extends Description$1{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function decrypt$3(e,t){const r=JSON.parse(e);t=getPassword$1(t);const n=getAddress$1(searchPath$1(r,"ethaddr"));const i=looseArrayify$1(searchPath$1(r,"encseed"));if(!i||i.length%16!==0){logger$14.throwArgumentError("invalid encseed","json",e)}const s=arrayify$2(pbkdf2$3(t,t,2e3,32,"sha256")).slice(0,16);const f=i.slice(0,16);const a=i.slice(16);const o=new aesJs$1.ModeOfOperation.cbc(s,f);const c=aesJs$1.padding.pkcs7.strip(arrayify$2(o.decrypt(a)));let u="";for(let e=0;e<c.length;e++){u+=String.fromCharCode(c[e])}const l=toUtf8Bytes$1(u);const h=keccak256$3(l);return new CrowdsaleAccount$1({_isCrowdsaleAccount:true,address:n,privateKey:h})}function isCrowdsaleWallet$1(e){let t=null;try{t=JSON.parse(e)}catch(e){return false}return t.encseed&&t.ethaddr}function isKeystoreWallet$1(e){let t=null;try{t=JSON.parse(e)}catch(e){return false}if(!t.version||parseInt(t.version)!==t.version||parseInt(t.version)!==3){return false}return true}function getJsonWalletAddress$1(e){if(isCrowdsaleWallet$1(e)){try{return getAddress$1(JSON.parse(e).ethaddr)}catch(e){return null}}if(isKeystoreWallet$1(e)){try{return getAddress$1(JSON.parse(e).address)}catch(e){return null}}return null}var scrypt$1=createCommonjsModule$2((function(e,t){(function(t){const r=2147483647;function n(e){const t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let r=1779033703,n=3144134277,i=1013904242,s=2773480762;let f=1359893119,a=2600822924,o=528734635,c=1541459225;const u=new Uint32Array(64);function l(e){let l=0,h=e.length;while(h>=64){let d=r,p=n,y=i,b=s,m=f,g=a,v=o,w=c,A,$,_,E,S;for($=0;$<16;$++){_=l+$*4;u[$]=(e[_]&255)<<24|(e[_+1]&255)<<16|(e[_+2]&255)<<8|e[_+3]&255}for($=16;$<64;$++){A=u[$-2];E=(A>>>17|A<<32-17)^(A>>>19|A<<32-19)^A>>>10;A=u[$-15];S=(A>>>7|A<<32-7)^(A>>>18|A<<32-18)^A>>>3;u[$]=(E+u[$-7]|0)+(S+u[$-16]|0)|0}for($=0;$<64;$++){E=(((m>>>6|m<<32-6)^(m>>>11|m<<32-11)^(m>>>25|m<<32-25))+(m&g^~m&v)|0)+(w+(t[$]+u[$]|0)|0)|0;S=((d>>>2|d<<32-2)^(d>>>13|d<<32-13)^(d>>>22|d<<32-22))+(d&p^d&y^p&y)|0;w=v;v=g;g=m;m=b+E|0;b=y;y=p;p=d;d=E+S|0}r=r+d|0;n=n+p|0;i=i+y|0;s=s+b|0;f=f+m|0;a=a+g|0;o=o+v|0;c=c+w|0;l+=64;h-=64}}l(e);let h,d=e.length%64,p=e.length/536870912|0,y=e.length<<3,b=d<56?56:120,m=e.slice(e.length-d,e.length);m.push(128);for(h=d+1;h<b;h++){m.push(0)}m.push(p>>>24&255);m.push(p>>>16&255);m.push(p>>>8&255);m.push(p>>>0&255);m.push(y>>>24&255);m.push(y>>>16&255);m.push(y>>>8&255);m.push(y>>>0&255);l(m);return[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,f>>>24&255,f>>>16&255,f>>>8&255,f>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255]}function i(e,t,r){e=e.length<=64?e:n(e);const i=64+t.length+4;const s=new Array(i);const f=new Array(64);let a;let o=[];for(a=0;a<64;a++){s[a]=54}for(a=0;a<e.length;a++){s[a]^=e[a]}for(a=0;a<t.length;a++){s[64+a]=t[a]}for(a=i-4;a<i;a++){s[a]=0}for(a=0;a<64;a++)f[a]=92;for(a=0;a<e.length;a++)f[a]^=e[a];function c(){for(let e=i-1;e>=i-4;e--){s[e]++;if(s[e]<=255)return;s[e]=0}}while(r>=32){c();o=o.concat(n(f.concat(n(s))));r-=32}if(r>0){c();o=o.concat(n(f.concat(n(s))).slice(0,r))}return o}function s(e,t,r,n,i){let s;c(e,(2*r-1)*16,i,0,16);for(s=0;s<2*r;s++){o(e,s*16,i,16);a(i,n);c(i,0,e,t+s*16,16)}for(s=0;s<r;s++){c(e,t+s*2*16,e,s*16,16)}for(s=0;s<r;s++){c(e,t+(s*2+1)*16,e,(s+r)*16,16)}}function f(e,t){return e<<t|e>>>32-t}function a(e,t){c(e,0,t,0,16);for(let e=8;e>0;e-=2){t[4]^=f(t[0]+t[12],7);t[8]^=f(t[4]+t[0],9);t[12]^=f(t[8]+t[4],13);t[0]^=f(t[12]+t[8],18);t[9]^=f(t[5]+t[1],7);t[13]^=f(t[9]+t[5],9);t[1]^=f(t[13]+t[9],13);t[5]^=f(t[1]+t[13],18);t[14]^=f(t[10]+t[6],7);t[2]^=f(t[14]+t[10],9);t[6]^=f(t[2]+t[14],13);t[10]^=f(t[6]+t[2],18);t[3]^=f(t[15]+t[11],7);t[7]^=f(t[3]+t[15],9);t[11]^=f(t[7]+t[3],13);t[15]^=f(t[11]+t[7],18);t[1]^=f(t[0]+t[3],7);t[2]^=f(t[1]+t[0],9);t[3]^=f(t[2]+t[1],13);t[0]^=f(t[3]+t[2],18);t[6]^=f(t[5]+t[4],7);t[7]^=f(t[6]+t[5],9);t[4]^=f(t[7]+t[6],13);t[5]^=f(t[4]+t[7],18);t[11]^=f(t[10]+t[9],7);t[8]^=f(t[11]+t[10],9);t[9]^=f(t[8]+t[11],13);t[10]^=f(t[9]+t[8],18);t[12]^=f(t[15]+t[14],7);t[13]^=f(t[12]+t[15],9);t[14]^=f(t[13]+t[12],13);t[15]^=f(t[14]+t[13],18)}for(let r=0;r<16;++r){e[r]+=t[r]}}function o(e,t,r,n){for(let i=0;i<n;i++){r[i]^=e[t+i]}}function c(e,t,r,n,i){while(i--){r[n++]=e[t++]}}function u(e){if(!e||typeof e.length!=="number"){return false}for(let t=0;t<e.length;t++){const r=e[t];if(typeof r!=="number"||r%1||r<0||r>=256){return false}}return true}function l(e,t){if(typeof e!=="number"||e%1){throw new Error("invalid "+t)}return e}function h(e,t,n,f,a,h,d){n=l(n,"N");f=l(f,"r");a=l(a,"p");h=l(h,"dkLen");if(n===0||(n&n-1)!==0){throw new Error("N must be power of 2")}if(n>r/128/f){throw new Error("N too large")}if(f>r/128/a){throw new Error("r too large")}if(!u(e)){throw new Error("password must be an array or buffer")}e=Array.prototype.slice.call(e);if(!u(t)){throw new Error("salt must be an array or buffer")}t=Array.prototype.slice.call(t);let p=i(e,t,a*128*f);const y=new Uint32Array(a*32*f);for(let e=0;e<y.length;e++){const t=e*4;y[e]=(p[t+3]&255)<<24|(p[t+2]&255)<<16|(p[t+1]&255)<<8|(p[t+0]&255)<<0}const b=new Uint32Array(64*f);const m=new Uint32Array(32*f*n);const g=32*f;const v=new Uint32Array(16);const w=new Uint32Array(16);const A=a*n*2;let $=0;let _=null;let E=false;let S=0;let T=0,C;let P;const x=d?parseInt(1e3/f):4294967295;const I=typeof setImmediate!=="undefined"?setImmediate:setTimeout;const k=function(){if(E){return d(new Error("cancelled"),$/A)}let t;switch(S){case 0:P=T*32*f;c(y,P,b,0,g);S=1;C=0;case 1:t=n-C;if(t>x){t=x}for(let e=0;e<t;e++){c(b,0,m,(C+e)*g,g);s(b,g,f,v,w)}C+=t;$+=t;if(d){const e=parseInt(1e3*$/A);if(e!==_){E=d(null,$/A);if(E){break}_=e}}if(C<n){break}C=0;S=2;case 2:t=n-C;if(t>x){t=x}for(let e=0;e<t;e++){const e=(2*f-1)*16;const t=b[e]&n-1;o(m,t*g,b,g);s(b,g,f,v,w)}C+=t;$+=t;if(d){const e=parseInt(1e3*$/A);if(e!==_){E=d(null,$/A);if(E){break}_=e}}if(C<n){break}c(b,0,y,P,g);T++;if(T<a){S=0;break}p=[];for(let e=0;e<y.length;e++){p.push(y[e]>>0&255);p.push(y[e]>>8&255);p.push(y[e]>>16&255);p.push(y[e]>>24&255)}const r=i(e,p,h);if(d){d(null,1,r)}return r}if(d){I(k)}};if(!d){while(true){const e=k();if(e!=undefined){return e}}}k()}const d={scrypt:function(e,t,r,n,i,s,f){return new Promise((function(a,o){let c=0;if(f){f(0)}h(e,t,r,n,i,s,(function(e,t,r){if(e){o(e)}else if(r){if(f&&c!==1){f(1)}a(new Uint8Array(r))}else if(f&&t!==c){c=t;return f(t)}}))}))},syncScrypt:function(e,t,r,n,i,s){return new Uint8Array(h(e,t,r,n,i,s))}};{e.exports=d}})()}));var __awaiter$s=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$13=new Logger$1(version$x);function hasMnemonic$3(e){return e!=null&&e.mnemonic&&e.mnemonic.phrase}class KeystoreAccount$1 extends Description$1{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function _decrypt$1(e,t,r){const n=searchPath$1(e,"crypto/cipher");if(n==="aes-128-ctr"){const n=looseArrayify$1(searchPath$1(e,"crypto/cipherparams/iv"));const i=new aesJs$1.Counter(n);const s=new aesJs$1.ModeOfOperation.ctr(t,i);return arrayify$2(s.decrypt(r))}return null}function _getAccount$1(e,t){const r=looseArrayify$1(searchPath$1(e,"crypto/ciphertext"));const n=hexlify$1(keccak256$3(concat$5([t.slice(16,32),r]))).substring(2);if(n!==searchPath$1(e,"crypto/mac").toLowerCase()){throw new Error("invalid password")}const i=_decrypt$1(e,t.slice(0,16),r);if(!i){logger$13.throwError("unsupported cipher",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"})}const s=t.slice(32,64);const f=computeAddress$1(i);if(e.address){let t=e.address.toLowerCase();if(t.substring(0,2)!=="0x"){t="0x"+t}if(getAddress$1(t)!==f){throw new Error("address mismatch")}}const a={_isKeystoreAccount:true,address:f,privateKey:hexlify$1(i)};if(searchPath$1(e,"x-ethers/version")==="0.1"){const t=looseArrayify$1(searchPath$1(e,"x-ethers/mnemonicCiphertext"));const r=looseArrayify$1(searchPath$1(e,"x-ethers/mnemonicCounter"));const n=new aesJs$1.Counter(r);const i=new aesJs$1.ModeOfOperation.ctr(s,n);const f=searchPath$1(e,"x-ethers/path")||defaultPath$1;const o=searchPath$1(e,"x-ethers/locale")||"en";const c=arrayify$2(i.decrypt(t));try{const e=entropyToMnemonic$1(c,o);const t=HDNode$1.fromMnemonic(e,null,o).derivePath(f);if(t.privateKey!=a.privateKey){throw new Error("mnemonic mismatch")}a.mnemonic=t.mnemonic}catch(e){if(e.code!==Logger$1.errors.INVALID_ARGUMENT||e.argument!=="wordlist"){throw e}}}return new KeystoreAccount$1(a)}function pbkdf2Sync$1(e,t,r,n,i){return arrayify$2(pbkdf2$3(e,t,r,n,i))}function pbkdf2$2(e,t,r,n,i){return Promise.resolve(pbkdf2Sync$1(e,t,r,n,i))}function _computeKdfKey$1(e,t,r,n,i){const s=getPassword$1(t);const f=searchPath$1(e,"crypto/kdf");if(f&&typeof f==="string"){const t=function(e,t){return logger$13.throwArgumentError("invalid key-derivation function parameters",e,t)};if(f.toLowerCase()==="scrypt"){const r=looseArrayify$1(searchPath$1(e,"crypto/kdfparams/salt"));const a=parseInt(searchPath$1(e,"crypto/kdfparams/n"));const o=parseInt(searchPath$1(e,"crypto/kdfparams/r"));const c=parseInt(searchPath$1(e,"crypto/kdfparams/p"));if(!a||!o||!c){t("kdf",f)}if((a&a-1)!==0){t("N",a)}const u=parseInt(searchPath$1(e,"crypto/kdfparams/dklen"));if(u!==32){t("dklen",u)}return n(s,r,a,o,c,64,i)}else if(f.toLowerCase()==="pbkdf2"){const n=looseArrayify$1(searchPath$1(e,"crypto/kdfparams/salt"));let i=null;const f=searchPath$1(e,"crypto/kdfparams/prf");if(f==="hmac-sha256"){i="sha256"}else if(f==="hmac-sha512"){i="sha512"}else{t("prf",f)}const a=parseInt(searchPath$1(e,"crypto/kdfparams/c"));const o=parseInt(searchPath$1(e,"crypto/kdfparams/dklen"));if(o!==32){t("dklen",o)}return r(s,n,a,o,i)}}return logger$13.throwArgumentError("unsupported key-derivation function","kdf",f)}function decryptSync$1(e,t){const r=JSON.parse(e);const n=_computeKdfKey$1(r,t,pbkdf2Sync$1,scrypt$1.syncScrypt);return _getAccount$1(r,n)}function decrypt$2(e,t,r){return __awaiter$s(this,void 0,void 0,(function*(){const n=JSON.parse(e);const i=yield _computeKdfKey$1(n,t,pbkdf2$2,scrypt$1.scrypt,r);return _getAccount$1(n,i)}))}function encrypt$1(e,t,r,n){try{if(getAddress$1(e.address)!==computeAddress$1(e.privateKey)){throw new Error("address/privateKey mismatch")}if(hasMnemonic$3(e)){const t=e.mnemonic;const r=HDNode$1.fromMnemonic(t.phrase,null,t.locale).derivePath(t.path||defaultPath$1);if(r.privateKey!=e.privateKey){throw new Error("mnemonic mismatch")}}}catch(e){return Promise.reject(e)}if(typeof r==="function"&&!n){n=r;r={}}if(!r){r={}}const i=arrayify$2(e.privateKey);const s=getPassword$1(t);let f=null;let a=null;let o=null;if(hasMnemonic$3(e)){const t=e.mnemonic;f=arrayify$2(mnemonicToEntropy$1(t.phrase,t.locale||"en"));a=t.path||defaultPath$1;o=t.locale||"en"}let c=r.client;if(!c){c="ethers.js"}let u=null;if(r.salt){u=arrayify$2(r.salt)}else{u=randomBytes$1(32)}let l=null;if(r.iv){l=arrayify$2(r.iv);if(l.length!==16){throw new Error("invalid iv")}}else{l=randomBytes$1(16)}let h=null;if(r.uuid){h=arrayify$2(r.uuid);if(h.length!==16){throw new Error("invalid uuid")}}else{h=randomBytes$1(16)}let d=1<<17,p=8,y=1;if(r.scrypt){if(r.scrypt.N){d=r.scrypt.N}if(r.scrypt.r){p=r.scrypt.r}if(r.scrypt.p){y=r.scrypt.p}}return scrypt$1.scrypt(s,u,d,p,y,64,n).then((t=>{t=arrayify$2(t);const r=t.slice(0,16);const n=t.slice(16,32);const s=t.slice(32,64);const b=new aesJs$1.Counter(l);const m=new aesJs$1.ModeOfOperation.ctr(r,b);const g=arrayify$2(m.encrypt(i));const v=keccak256$3(concat$5([n,g]));const w={address:e.address.substring(2).toLowerCase(),id:uuidV4$1(h),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:hexlify$1(l).substring(2)},ciphertext:hexlify$1(g).substring(2),kdf:"scrypt",kdfparams:{salt:hexlify$1(u).substring(2),n:d,dklen:32,p:y,r:p},mac:v.substring(2)}};if(f){const e=randomBytes$1(16);const t=new aesJs$1.Counter(e);const r=new aesJs$1.ModeOfOperation.ctr(s,t);const n=arrayify$2(r.encrypt(f));const i=new Date;const u=i.getUTCFullYear()+"-"+zpad$1(i.getUTCMonth()+1,2)+"-"+zpad$1(i.getUTCDate(),2)+"T"+zpad$1(i.getUTCHours(),2)+"-"+zpad$1(i.getUTCMinutes(),2)+"-"+zpad$1(i.getUTCSeconds(),2)+".0Z";w["x-ethers"]={client:c,gethFilename:"UTC--"+u+"--"+w.address,mnemonicCounter:hexlify$1(e).substring(2),mnemonicCiphertext:hexlify$1(n).substring(2),path:a,locale:o,version:"0.1"}}return JSON.stringify(w)}))}function decryptJsonWallet$1(e,t,r){if(isCrowdsaleWallet$1(e)){if(r){r(0)}const n=decrypt$3(e,t);if(r){r(1)}return Promise.resolve(n)}if(isKeystoreWallet$1(e)){return decrypt$2(e,t,r)}return Promise.reject(new Error("invalid JSON wallet"))}function decryptJsonWalletSync$1(e,t){if(isCrowdsaleWallet$1(e)){return decrypt$3(e,t)}if(isKeystoreWallet$1(e)){return decryptSync$1(e,t)}throw new Error("invalid JSON wallet")}const lib_esm$5=Object.freeze({__proto__:null,decryptCrowdsale:decrypt$3,decryptKeystore:decrypt$2,decryptKeystoreSync:decryptSync$1,encryptKeystore:encrypt$1,isCrowdsaleWallet:isCrowdsaleWallet$1,isKeystoreWallet:isKeystoreWallet$1,getJsonWalletAddress:getJsonWalletAddress$1,decryptJsonWallet:decryptJsonWallet$1,decryptJsonWalletSync:decryptJsonWalletSync$1});const version$w="wallet/5.7.0";var __awaiter$r=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$12=new Logger$1(version$w);function isAccount$1(e){return e!=null&&isHexString$1(e.privateKey,32)&&e.address!=null}function hasMnemonic$2(e){const t=e.mnemonic;return t&&t.phrase}class Wallet$1 extends Signer$1{constructor(e,t){super();if(isAccount$1(e)){const t=new SigningKey$1(e.privateKey);defineReadOnly$1(this,"_signingKey",(()=>t));defineReadOnly$1(this,"address",computeAddress$1(this.publicKey));if(this.address!==getAddress$1(e.address)){logger$12.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]")}if(hasMnemonic$2(e)){const t=e.mnemonic;defineReadOnly$1(this,"_mnemonic",(()=>({phrase:t.phrase,path:t.path||defaultPath$1,locale:t.locale||"en"})));const r=this.mnemonic;const n=HDNode$1.fromMnemonic(r.phrase,null,r.locale).derivePath(r.path);if(computeAddress$1(n.privateKey)!==this.address){logger$12.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}}else{defineReadOnly$1(this,"_mnemonic",(()=>null))}}else{if(SigningKey$1.isSigningKey(e)){if(e.curve!=="secp256k1"){logger$12.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]")}defineReadOnly$1(this,"_signingKey",(()=>e))}else{if(typeof e==="string"){if(e.match(/^[0-9a-f]*$/i)&&e.length===64){e="0x"+e}}const t=new SigningKey$1(e);defineReadOnly$1(this,"_signingKey",(()=>t))}defineReadOnly$1(this,"_mnemonic",(()=>null));defineReadOnly$1(this,"address",computeAddress$1(this.publicKey))}if(t&&!Provider$1.isProvider(t)){logger$12.throwArgumentError("invalid provider","provider",t)}defineReadOnly$1(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Wallet$1(this,e)}signTransaction(e){return resolveProperties$1(e).then((t=>{if(t.from!=null){if(getAddress$1(t.from)!==this.address){logger$12.throwArgumentError("transaction from address mismatch","transaction.from",e.from)}delete t.from}const r=this._signingKey().signDigest(keccak256$3(serialize$5(t)));return serialize$5(t,r)}))}signMessage(e){return __awaiter$r(this,void 0,void 0,(function*(){return joinSignature$1(this._signingKey().signDigest(hashMessage$1(e)))}))}_signTypedData(e,t,r){return __awaiter$r(this,void 0,void 0,(function*(){const n=yield TypedDataEncoder$1.resolveNames(e,t,r,(e=>{if(this.provider==null){logger$12.throwError("cannot resolve ENS names without a provider",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e})}return this.provider.resolveName(e)}));return joinSignature$1(this._signingKey().signDigest(TypedDataEncoder$1.hash(n.domain,t,n.value)))}))}encrypt(e,t,r){if(typeof t==="function"&&!r){r=t;t={}}if(r&&typeof r!=="function"){throw new Error("invalid callback")}if(!t){t={}}return encrypt$1(this,e,t,r)}static createRandom(e){let t=randomBytes$1(16);if(!e){e={}}if(e.extraEntropy){t=arrayify$2(hexDataSlice$1(keccak256$3(concat$5([t,e.extraEntropy])),0,16))}const r=entropyToMnemonic$1(t,e.locale);return Wallet$1.fromMnemonic(r,e.path,e.locale)}static fromEncryptedJson(e,t,r){return decryptJsonWallet$1(e,t,r).then((e=>new Wallet$1(e)))}static fromEncryptedJsonSync(e,t){return new Wallet$1(decryptJsonWalletSync$1(e,t))}static fromMnemonic(e,t,r){if(!t){t=defaultPath$1}return new Wallet$1(HDNode$1.fromMnemonic(e,null,r).derivePath(t))}}function verifyMessage$1(e,t){return recoverAddress$1(hashMessage$1(e),t)}function verifyTypedData$1(e,t,r,n){return recoverAddress$1(TypedDataEncoder$1.hash(e,t,r),n)}const lib_esm$4=Object.freeze({__proto__:null,Wallet:Wallet$1,verifyMessage:verifyMessage$1,verifyTypedData:verifyTypedData$1});const version$v="networks/5.7.1";const logger$11=new Logger$1(version$v);function isRenetworkable$1(e){return e&&typeof e.renetwork==="function"}function ethDefaultProvider$1(e){const t=function(t,r){if(r==null){r={}}const n=[];if(t.InfuraProvider&&r.infura!=="-"){try{n.push(new t.InfuraProvider(e,r.infura))}catch(e){}}if(t.EtherscanProvider&&r.etherscan!=="-"){try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(e){}}if(t.AlchemyProvider&&r.alchemy!=="-"){try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(e){}}if(t.PocketProvider&&r.pocket!=="-"){const i=["goerli","ropsten","rinkeby","sepolia"];try{const s=new t.PocketProvider(e,r.pocket);if(s.network&&i.indexOf(s.network.name)===-1){n.push(s)}}catch(e){}}if(t.CloudflareProvider&&r.cloudflare!=="-"){try{n.push(new t.CloudflareProvider(e))}catch(e){}}if(t.AnkrProvider&&r.ankr!=="-"){try{const i=["ropsten"];const s=new t.AnkrProvider(e,r.ankr);if(s.network&&i.indexOf(s.network.name)===-1){n.push(s)}}catch(e){}}if(n.length===0){return null}if(t.FallbackProvider){let i=1;if(r.quorum!=null){i=r.quorum}else if(e==="homestead"){i=2}return new t.FallbackProvider(n,i)}return n[0]};t.renetwork=function(e){return ethDefaultProvider$1(e)};return t}function etcDefaultProvider$1(e,t){const r=function(r,n){if(r.JsonRpcProvider){return new r.JsonRpcProvider(e,t)}return null};r.renetwork=function(t){return etcDefaultProvider$1(e,t)};return r}const homestead$1={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ethDefaultProvider$1("homestead")};const ropsten$1={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ethDefaultProvider$1("ropsten")};const classicMordor$1={chainId:63,name:"classicMordor",_defaultProvider:etcDefaultProvider$1("https://www.ethercluster.com/mordor","classicMordor")};const networks$1={unspecified:{chainId:0,name:"unspecified"},homestead:homestead$1,mainnet:homestead$1,morden:{chainId:2,name:"morden"},ropsten:ropsten$1,testnet:ropsten$1,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ethDefaultProvider$1("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ethDefaultProvider$1("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ethDefaultProvider$1("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:ethDefaultProvider$1("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:etcDefaultProvider$1("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:classicMordor$1,classicTestnet:classicMordor$1,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:etcDefaultProvider$1("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ethDefaultProvider$1("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ethDefaultProvider$1("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function getNetwork$1(e){if(e==null){return null}if(typeof e==="number"){for(const t in networks$1){const r=networks$1[t];if(r.chainId===e){return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}}return{chainId:e,name:"unknown"}}if(typeof e==="string"){const t=networks$1[e];if(t==null){return null}return{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}const t=networks$1[e.name];if(!t){if(typeof e.chainId!=="number"){logger$11.throwArgumentError("invalid network chainId","network",e)}return e}if(e.chainId!==0&&e.chainId!==t.chainId){logger$11.throwArgumentError("network chainId mismatch","network",e)}let r=e._defaultProvider||null;if(r==null&&t._defaultProvider){if(isRenetworkable$1(t._defaultProvider)){r=t._defaultProvider.renetwork(e)}else{r=t._defaultProvider}}return{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}const version$u="web/5.7.1";var __awaiter$q=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};function getUrl$1(e,t){return __awaiter$q(this,void 0,void 0,(function*(){if(t==null){t={}}const r={method:t.method||"GET",headers:t.headers||{},body:t.body||undefined};if(t.skipFetchSetup!==true){r.mode="cors";r.cache="no-cache";r.credentials="same-origin";r.redirect="follow";r.referrer="client"}if(t.fetchOptions!=null){const e=t.fetchOptions;if(e.mode){r.mode=e.mode}if(e.cache){r.cache=e.cache}if(e.credentials){r.credentials=e.credentials}if(e.redirect){r.redirect=e.redirect}if(e.referrer){r.referrer=e.referrer}}const n=yield fetch(e,r);const i=yield n.arrayBuffer();const s={};if(n.headers.forEach){n.headers.forEach(((e,t)=>{s[t.toLowerCase()]=e}))}else{n.headers.keys().forEach((e=>{s[e.toLowerCase()]=n.headers.get(e)}))}return{headers:s,statusCode:n.status,statusMessage:n.statusText,body:arrayify$2(new Uint8Array(i))}}))}var __awaiter$p=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$10=new Logger$1(version$u);function staller$1(e){return new Promise((t=>{setTimeout(t,e)}))}function bodyify$1(e,t){if(e==null){return null}if(typeof e==="string"){return e}if(isBytesLike$1(e)){if(t&&(t.split("/")[0]==="text"||t.split(";")[0].trim()==="application/json")){try{return toUtf8String$1(e)}catch(e){}}return hexlify$1(e)}return e}function unpercent$1(e){return toUtf8Bytes$1(e.replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16)))))}function _fetchData$1(e,t,r){const n=typeof e==="object"&&e.throttleLimit!=null?e.throttleLimit:12;logger$10.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof e==="object"?e.throttleCallback:null;const s=typeof e==="object"&&typeof e.throttleSlotInterval==="number"?e.throttleSlotInterval:100;logger$10.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const f=typeof e==="object"?!!e.errorPassThrough:false;const a={};let o=null;const c={method:"GET"};let u=false;let l=2*60*1e3;if(typeof e==="string"){o=e}else if(typeof e==="object"){if(e==null||e.url==null){logger$10.throwArgumentError("missing URL","connection.url",e)}o=e.url;if(typeof e.timeout==="number"&&e.timeout>0){l=e.timeout}if(e.headers){for(const t in e.headers){a[t.toLowerCase()]={key:t,value:String(e.headers[t])};if(["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0){u=true}}}c.allowGzip=!!e.allowGzip;if(e.user!=null&&e.password!=null){if(o.substring(0,6)!=="https:"&&e.allowInsecureAuthentication!==true){logger$10.throwError("basic authentication requires a secure https url",Logger$1.errors.INVALID_ARGUMENT,{argument:"url",url:o,user:e.user,password:"[REDACTED]"})}const t=e.user+":"+e.password;a["authorization"]={key:"Authorization",value:"Basic "+encode$a(toUtf8Bytes$1(t))}}if(e.skipFetchSetup!=null){c.skipFetchSetup=!!e.skipFetchSetup}if(e.fetchOptions!=null){c.fetchOptions=shallowCopy$1(e.fetchOptions)}}const h=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i");const d=o?o.match(h):null;if(d){try{const e={statusCode:200,statusMessage:"OK",headers:{"content-type":d[1]||"text/plain"},body:d[2]?decode$9(d[3]):unpercent$1(d[3])};let t=e.body;if(r){t=r(e.body,e)}return Promise.resolve(t)}catch(e){logger$10.throwError("processing response error",Logger$1.errors.SERVER_ERROR,{body:bodyify$1(d[1],d[2]),error:e,requestBody:null,requestMethod:"GET",url:o})}}if(t){c.method="POST";c.body=t;if(a["content-type"]==null){a["content-type"]={key:"Content-Type",value:"application/octet-stream"}}if(a["content-length"]==null){a["content-length"]={key:"Content-Length",value:String(t.length)}}}const p={};Object.keys(a).forEach((e=>{const t=a[e];p[t.key]=t.value}));c.headers=p;const y=function(){let e=null;const t=new Promise((function(t,r){if(l){e=setTimeout((()=>{if(e==null){return}e=null;r(logger$10.makeError("timeout",Logger$1.errors.TIMEOUT,{requestBody:bodyify$1(c.body,p["content-type"]),requestMethod:c.method,timeout:l,url:o}))}),l)}}));const r=function(){if(e==null){return}clearTimeout(e);e=null};return{promise:t,cancel:r}}();const b=function(){return __awaiter$p(this,void 0,void 0,(function*(){for(let e=0;e<n;e++){let t=null;try{t=yield getUrl$1(o,c);if(e<n){if(t.statusCode===301||t.statusCode===302){const e=t.headers.location||"";if(c.method==="GET"&&e.match(/^https:/)){o=t.headers.location;continue}}else if(t.statusCode===429){let r=true;if(i){r=yield i(e,o)}if(r){let r=0;const n=t.headers["retry-after"];if(typeof n==="string"&&n.match(/^[1-9][0-9]*$/)){r=parseInt(n)*1e3}else{r=s*parseInt(String(Math.random()*Math.pow(2,e)))}yield staller$1(r);continue}}}}catch(e){t=e.response;if(t==null){y.cancel();logger$10.throwError("missing response",Logger$1.errors.SERVER_ERROR,{requestBody:bodyify$1(c.body,p["content-type"]),requestMethod:c.method,serverError:e,url:o})}}let a=t.body;if(u&&t.statusCode===304){a=null}else if(!f&&(t.statusCode<200||t.statusCode>=300)){y.cancel();logger$10.throwError("bad response",Logger$1.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:bodyify$1(a,t.headers?t.headers["content-type"]:null),requestBody:bodyify$1(c.body,p["content-type"]),requestMethod:c.method,url:o})}if(r){try{const e=yield r(a,t);y.cancel();return e}catch(r){if(r.throttleRetry&&e<n){let t=true;if(i){t=yield i(e,o)}if(t){const t=s*parseInt(String(Math.random()*Math.pow(2,e)));yield staller$1(t);continue}}y.cancel();logger$10.throwError("processing response error",Logger$1.errors.SERVER_ERROR,{body:bodyify$1(a,t.headers?t.headers["content-type"]:null),error:r,requestBody:bodyify$1(c.body,p["content-type"]),requestMethod:c.method,url:o})}}y.cancel();return a}return logger$10.throwError("failed response",Logger$1.errors.SERVER_ERROR,{requestBody:bodyify$1(c.body,p["content-type"]),requestMethod:c.method,url:o})}))}();return Promise.race([y.promise,b])}function fetchJson$1(e,t,r){let n=(e,t)=>{let n=null;if(e!=null){try{n=JSON.parse(toUtf8String$1(e))}catch(t){logger$10.throwError("invalid JSON",Logger$1.errors.SERVER_ERROR,{body:e,error:t})}}if(r){n=r(n,t)}return n};let i=null;if(t!=null){i=toUtf8Bytes$1(t);const r=typeof e==="string"?{url:e}:shallowCopy$1(e);if(r.headers){const e=Object.keys(r.headers).filter((e=>e.toLowerCase()==="content-type")).length!==0;if(!e){r.headers=shallowCopy$1(r.headers);r.headers["content-type"]="application/json"}}else{r.headers={"content-type":"application/json"}}e=r}return _fetchData$1(e,i,n)}function poll$1(e,t){if(!t){t={}}t=shallowCopy$1(t);if(t.floor==null){t.floor=0}if(t.ceiling==null){t.ceiling=1e4}if(t.interval==null){t.interval=250}return new Promise((function(r,n){let i=null;let s=false;const f=()=>{if(s){return false}s=true;if(i){clearTimeout(i)}return true};if(t.timeout){i=setTimeout((()=>{if(f()){n(new Error("timeout"))}}),t.timeout)}const a=t.retryLimit;let o=0;function c(){return e().then((function(e){if(e!==undefined){if(f()){r(e)}}else if(t.oncePoll){t.oncePoll.once("poll",c)}else if(t.onceBlock){t.onceBlock.once("block",c)}else if(!s){o++;if(o>a){if(f()){n(new Error("retry limit reached"))}return}let e=t.interval*parseInt(String(Math.random()*Math.pow(2,o)));if(e<t.floor){e=t.floor}if(e>t.ceiling){e=t.ceiling}setTimeout(c,e)}return null}),(function(e){if(f()){n(e)}}))}c()}))}const lib_esm$3=Object.freeze({__proto__:null,_fetchData:_fetchData$1,fetchJson:fetchJson$1,poll:poll$1});var ALPHABET$1="qpzry9x8gf2tvdw0s3jn54khce6mua7l";var ALPHABET_MAP$1={};for(var z$1=0;z$1<ALPHABET$1.length;z$1++){var x$1=ALPHABET$1.charAt(z$1);if(ALPHABET_MAP$1[x$1]!==undefined)throw new TypeError(x$1+" is ambiguous");ALPHABET_MAP$1[x$1]=z$1}function polymodStep$1(e){var t=e>>25;return(e&33554431)<<5^-(t>>0&1)&996825010^-(t>>1&1)&642813549^-(t>>2&1)&513874426^-(t>>3&1)&1027748829^-(t>>4&1)&705979059}function prefixChk$1(e){var t=1;for(var r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=polymodStep$1(t)^n>>5}t=polymodStep$1(t);for(r=0;r<e.length;++r){var i=e.charCodeAt(r);t=polymodStep$1(t)^i&31}return t}function encode$9(e,t,r){r=r||90;if(e.length+7+t.length>r)throw new TypeError("Exceeds length limit");e=e.toLowerCase();var n=prefixChk$1(e);if(typeof n==="string")throw new Error(n);var i=e+"1";for(var s=0;s<t.length;++s){var f=t[s];if(f>>5!==0)throw new Error("Non 5-bit word");n=polymodStep$1(n)^f;i+=ALPHABET$1.charAt(f)}for(s=0;s<6;++s){n=polymodStep$1(n)}n^=1;for(s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=ALPHABET$1.charAt(a)}return i}function __decode$1(e,t){t=t||90;if(e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase();var n=e.toUpperCase();if(e!==r&&e!==n)return"Mixed-case string "+e;e=r;var i=e.lastIndexOf("1");if(i===-1)return"No separator character for "+e;if(i===0)return"Missing prefix for "+e;var s=e.slice(0,i);var f=e.slice(i+1);if(f.length<6)return"Data too short";var a=prefixChk$1(s);if(typeof a==="string")return a;var o=[];for(var c=0;c<f.length;++c){var u=f.charAt(c);var l=ALPHABET_MAP$1[u];if(l===undefined)return"Unknown character "+u;a=polymodStep$1(a)^l;if(c+6>=f.length)continue;o.push(l)}if(a!==1)return"Invalid checksum for "+e;return{prefix:s,words:o}}function decodeUnsafe$1(){var e=__decode$1.apply(null,arguments);if(typeof e==="object")return e}function decode$8(e){var t=__decode$1.apply(null,arguments);if(typeof t==="object")return t;throw new Error(t)}function convert$1(e,t,r,n){var i=0;var s=0;var f=(1<<r)-1;var a=[];for(var o=0;o<e.length;++o){i=i<<t|e[o];s+=t;while(s>=r){s-=r;a.push(i>>s&f)}}if(n){if(s>0){a.push(i<<r-s&f)}}else{if(s>=t)return"Excess padding";if(i<<r-s&f)return"Non-zero padding"}return a}function toWordsUnsafe$1(e){var t=convert$1(e,8,5,true);if(Array.isArray(t))return t}function toWords$1(e){var t=convert$1(e,8,5,true);if(Array.isArray(t))return t;throw new Error(t)}function fromWordsUnsafe$1(e){var t=convert$1(e,5,8,false);if(Array.isArray(t))return t}function fromWords$1(e){var t=convert$1(e,5,8,false);if(Array.isArray(t))return t;throw new Error(t)}var bech32$1={decodeUnsafe:decodeUnsafe$1,decode:decode$8,encode:encode$9,toWordsUnsafe:toWordsUnsafe$1,toWords:toWords$1,fromWordsUnsafe:fromWordsUnsafe$1,fromWords:fromWords$1};const version$t="providers/5.7.2";const logger$$=new Logger$1(version$t);class Formatter$1{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={};const t=this.address.bind(this);const r=this.bigNumber.bind(this);const n=this.blockTag.bind(this);const i=this.data.bind(this);const s=this.hash.bind(this);const f=this.hex.bind(this);const a=this.number.bind(this);const o=this.type.bind(this);const c=e=>this.data(e,true);e.transaction={hash:s,type:o,accessList:Formatter$1.allowNull(this.accessList.bind(this),null),blockHash:Formatter$1.allowNull(s,null),blockNumber:Formatter$1.allowNull(a,null),transactionIndex:Formatter$1.allowNull(a,null),confirmations:Formatter$1.allowNull(a,null),from:t,gasPrice:Formatter$1.allowNull(r),maxPriorityFeePerGas:Formatter$1.allowNull(r),maxFeePerGas:Formatter$1.allowNull(r),gasLimit:r,to:Formatter$1.allowNull(t,null),value:r,nonce:a,data:i,r:Formatter$1.allowNull(this.uint256),s:Formatter$1.allowNull(this.uint256),v:Formatter$1.allowNull(a),creates:Formatter$1.allowNull(t,null),raw:Formatter$1.allowNull(i)};e.transactionRequest={from:Formatter$1.allowNull(t),nonce:Formatter$1.allowNull(a),gasLimit:Formatter$1.allowNull(r),gasPrice:Formatter$1.allowNull(r),maxPriorityFeePerGas:Formatter$1.allowNull(r),maxFeePerGas:Formatter$1.allowNull(r),to:Formatter$1.allowNull(t),value:Formatter$1.allowNull(r),data:Formatter$1.allowNull(c),type:Formatter$1.allowNull(a),accessList:Formatter$1.allowNull(this.accessList.bind(this),null)};e.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:s,address:t,topics:Formatter$1.arrayOf(s),data:i,logIndex:a,blockHash:s};e.receipt={to:Formatter$1.allowNull(this.address,null),from:Formatter$1.allowNull(this.address,null),contractAddress:Formatter$1.allowNull(t,null),transactionIndex:a,root:Formatter$1.allowNull(f),gasUsed:r,logsBloom:Formatter$1.allowNull(i),blockHash:s,transactionHash:s,logs:Formatter$1.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:Formatter$1.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:Formatter$1.allowNull(r),status:Formatter$1.allowNull(a),type:o};e.block={hash:Formatter$1.allowNull(s),parentHash:s,number:a,timestamp:a,nonce:Formatter$1.allowNull(f),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:Formatter$1.allowNull(t),extraData:i,transactions:Formatter$1.allowNull(Formatter$1.arrayOf(s)),baseFeePerGas:Formatter$1.allowNull(r)};e.blockWithTransactions=shallowCopy$1(e.block);e.blockWithTransactions.transactions=Formatter$1.allowNull(Formatter$1.arrayOf(this.transactionResponse.bind(this)));e.filter={fromBlock:Formatter$1.allowNull(n,undefined),toBlock:Formatter$1.allowNull(n,undefined),blockHash:Formatter$1.allowNull(s,undefined),address:Formatter$1.allowNull(t,undefined),topics:Formatter$1.allowNull(this.topics.bind(this),undefined)};e.filterLog={blockNumber:Formatter$1.allowNull(a),blockHash:Formatter$1.allowNull(s),transactionIndex:a,removed:Formatter$1.allowNull(this.boolean.bind(this)),address:t,data:Formatter$1.allowFalsish(i,"0x"),topics:Formatter$1.arrayOf(s),transactionHash:s,logIndex:a};return e}accessList(e){return accessListify$1(e||[])}number(e){if(e==="0x"){return 0}return BigNumber$2.from(e).toNumber()}type(e){if(e==="0x"||e==null){return 0}return BigNumber$2.from(e).toNumber()}bigNumber(e){return BigNumber$2.from(e)}boolean(e){if(typeof e==="boolean"){return e}if(typeof e==="string"){e=e.toLowerCase();if(e==="true"){return true}if(e==="false"){return false}}throw new Error("invalid boolean - "+e)}hex(e,t){if(typeof e==="string"){if(!t&&e.substring(0,2)!=="0x"){e="0x"+e}if(isHexString$1(e)){return e.toLowerCase()}}return logger$$.throwArgumentError("invalid hash","value",e)}data(e,t){const r=this.hex(e,t);if(r.length%2!==0){throw new Error("invalid data; odd-length - "+e)}return r}address(e){return getAddress$1(e)}callAddress(e){if(!isHexString$1(e,32)){return null}const t=getAddress$1(hexDataSlice$1(e,12));return t===AddressZero$1?null:t}contractAddress(e){return getContractAddress$1(e)}blockTag(e){if(e==null){return"latest"}if(e==="earliest"){return"0x0"}switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e==="number"||isHexString$1(e)){return hexValue$1(e)}throw new Error("invalid blockTag")}hash(e,t){const r=this.hex(e,t);if(hexDataLength$1(r)!==32){return logger$$.throwArgumentError("invalid hash","value",e)}return r}difficulty(e){if(e==null){return null}const t=BigNumber$2.from(e);try{return t.toNumber()}catch(e){}return null}uint256(e){if(!isHexString$1(e)){throw new Error("invalid uint256")}return hexZeroPad$1(e,32)}_block(e,t){if(e.author!=null&&e.miner==null){e.miner=e.author}const r=e._difficulty!=null?e._difficulty:e.difficulty;const n=Formatter$1.check(t,e);n._difficulty=r==null?null:BigNumber$2.from(r);return n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Formatter$1.check(this.formats.transactionRequest,e)}transactionResponse(e){if(e.gas!=null&&e.gasLimit==null){e.gasLimit=e.gas}if(e.to&&BigNumber$2.from(e.to).isZero()){e.to="0x0000000000000000000000000000000000000000"}if(e.input!=null&&e.data==null){e.data=e.input}if(e.to==null&&e.creates==null){e.creates=this.contractAddress(e)}if((e.type===1||e.type===2)&&e.accessList==null){e.accessList=[]}const t=Formatter$1.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;if(isHexString$1(r)){r=BigNumber$2.from(r).toNumber()}t.chainId=r}else{let r=e.networkId;if(r==null&&t.v==null){r=e.chainId}if(isHexString$1(r)){r=BigNumber$2.from(r).toNumber()}if(typeof r!=="number"&&t.v!=null){r=(t.v-35)/2;if(r<0){r=0}r=parseInt(r)}if(typeof r!=="number"){r=0}t.chainId=r}if(t.blockHash&&t.blockHash.replace(/0/g,"")==="x"){t.blockHash=null}return t}transaction(e){return parse$1(e)}receiptLog(e){return Formatter$1.check(this.formats.receiptLog,e)}receipt(e){const t=Formatter$1.check(this.formats.receipt,e);if(t.root!=null){if(t.root.length<=4){const e=BigNumber$2.from(t.root).toNumber();if(e===0||e===1){if(t.status!=null&&t.status!==e){logger$$.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status})}t.status=e;delete t.root}else{logger$$.throwArgumentError("invalid alt-root-status","value.root",t.root)}}else if(t.root.length!==66){logger$$.throwArgumentError("invalid root hash","value.root",t.root)}}if(t.status!=null){t.byzantium=true}return t}topics(e){if(Array.isArray(e)){return e.map((e=>this.topics(e)))}else if(e!=null){return this.hash(e,true)}return null}filter(e){return Formatter$1.check(this.formats.filter,e)}filterLog(e){return Formatter$1.check(this.formats.filterLog,e)}static check(e,t){const r={};for(const n in e){try{const i=e[n](t[n]);if(i!==undefined){r[n]=i}}catch(e){e.checkKey=n;e.checkValue=t[n];throw e}}return r}static allowNull(e,t){return function(r){if(r==null){return t}return e(r)}}static allowFalsish(e,t){return function(r){if(!r){return t}return e(r)}}static arrayOf(e){return function(t){if(!Array.isArray(t)){throw new Error("not an array")}const r=[];t.forEach((function(t){r.push(e(t))}));return r}}}function isCommunityResourcable$1(e){return e&&typeof e.isCommunityResource==="function"}function isCommunityResource$1(e){return isCommunityResourcable$1(e)&&e.isCommunityResource()}let throttleMessage$1=false;function showThrottleMessage$1(){if(throttleMessage$1){return}throttleMessage$1=true;console.log("========= NOTICE =========");console.log("Request-Rate Exceeded  (this message will not be repeated)");console.log("");console.log("The default API keys for each service are provided as a highly-throttled,");console.log("community resource for low-traffic projects and early prototyping.");console.log("");console.log("While your application will continue to function, we highly recommended");console.log("signing up for your own API keys to improve performance, increase your");console.log("request rate/limit and enable other perks, such as metrics and advanced APIs.");console.log("");console.log("For more details: https://docs.ethers.io/api-keys/");console.log("==========================")}var __awaiter$o=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$_=new Logger$1(version$t);const MAX_CCIP_REDIRECTS$1=10;function checkTopic$1(e){if(e==null){return"null"}if(hexDataLength$1(e)!==32){logger$_.throwArgumentError("invalid topic","topic",e)}return e.toLowerCase()}function serializeTopics$1(e){e=e.slice();while(e.length>0&&e[e.length-1]==null){e.pop()}return e.map((e=>{if(Array.isArray(e)){const t={};e.forEach((e=>{t[checkTopic$1(e)]=true}));const r=Object.keys(t);r.sort();return r.join("|")}else{return checkTopic$1(e)}})).join("&")}function deserializeTopics$1(e){if(e===""){return[]}return e.split(/&/g).map((e=>{if(e===""){return[]}const t=e.split("|").map((e=>e==="null"?null:e));return t.length===1?t[0]:t}))}function getEventTag$2(e){if(typeof e==="string"){e=e.toLowerCase();if(hexDataLength$1(e)===32){return"tx:"+e}if(e.indexOf(":")===-1){return e}}else if(Array.isArray(e)){return"filter:*:"+serializeTopics$1(e)}else if(ForkEvent$1.isForkEvent(e)){logger$_.warn("not implemented");throw new Error("not implemented")}else if(e&&typeof e==="object"){return"filter:"+(e.address||"*")+":"+serializeTopics$1(e.topics||[])}throw new Error("invalid event - "+e)}function getTime$1(){return(new Date).getTime()}function stall$3(e){return new Promise((t=>{setTimeout(t,e)}))}const PollableEvents$1=["block","network","pending","poll"];class Event$1{constructor(e,t,r){defineReadOnly$1(this,"tag",e);defineReadOnly$1(this,"listener",t);defineReadOnly$1(this,"once",r);this._lastBlockNumber=-2;this._inflight=false}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");if(e[0]!=="tx"){return null}return e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter"){return null}const t=e[1];const r=deserializeTopics$1(e[2]);const n={};if(r.length>0){n.topics=r}if(t&&t!=="*"){n.address=t}return n}pollable(){return this.tag.indexOf(":")>=0||PollableEvents$1.indexOf(this.tag)>=0}}const coinInfos$1={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function bytes32ify$1(e){return hexZeroPad$1(BigNumber$2.from(e).toHexString(),32)}function base58Encode$1(e){return Base58$1.encode(concat$5([e,hexDataSlice$1(sha256$4(sha256$4(e)),0,4)]))}const matcherIpfs$1=new RegExp("^(ipfs)://(.*)$","i");const matchers$1=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),matcherIpfs$1,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function _parseString$1(e,t){try{return toUtf8String$1(_parseBytes$1(e,t))}catch(e){}return null}function _parseBytes$1(e,t){if(e==="0x"){return null}const r=BigNumber$2.from(hexDataSlice$1(e,t,t+32)).toNumber();const n=BigNumber$2.from(hexDataSlice$1(e,r,r+32)).toNumber();return hexDataSlice$1(e,r+32,r+32+n)}function getIpfsLink$1(e){if(e.match(/^ipfs:\/\/ipfs\//i)){e=e.substring(12)}else if(e.match(/^ipfs:\/\//i)){e=e.substring(7)}else{logger$_.throwArgumentError("unsupported IPFS format","link",e)}return`https://gateway.ipfs.io/ipfs/${e}`}function numPad$1(e){const t=arrayify$2(e);if(t.length>32){throw new Error("internal; should not happen")}const r=new Uint8Array(32);r.set(t,32-t.length);return r}function bytesPad$1(e){if(e.length%32===0){return e}const t=new Uint8Array(Math.ceil(e.length/32)*32);t.set(e);return t}function encodeBytes$1(e){const t=[];let r=0;for(let n=0;n<e.length;n++){t.push(null);r+=32}for(let n=0;n<e.length;n++){const i=arrayify$2(e[n]);t[n]=numPad$1(r);t.push(numPad$1(i.length));t.push(bytesPad$1(i));r+=32+Math.ceil(i.length/32)*32}return hexConcat$1(t)}class Resolver$1{constructor(e,t,r,n){defineReadOnly$1(this,"provider",e);defineReadOnly$1(this,"name",r);defineReadOnly$1(this,"address",e.formatter.address(t));defineReadOnly$1(this,"_resolvedAddress",n)}supportsWildcard(){if(!this._supportsEip2544){this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((e=>BigNumber$2.from(e).eq(1))).catch((e=>{if(e.code===Logger$1.errors.CALL_EXCEPTION){return false}this._supportsEip2544=null;throw e}))}return this._supportsEip2544}_fetch(e,t){return __awaiter$o(this,void 0,void 0,(function*(){const r={to:this.address,ccipReadEnabled:true,data:hexConcat$1([e,namehash$1(this.name),t||"0x"])};let n=false;if(yield this.supportsWildcard()){n=true;r.data=hexConcat$1(["0x9061b923",encodeBytes$1([dnsEncode$1(this.name),r.data])])}try{let e=yield this.provider.call(r);if(arrayify$2(e).length%32===4){logger$_.throwError("resolver threw error",Logger$1.errors.CALL_EXCEPTION,{transaction:r,data:e})}if(n){e=_parseBytes$1(e,0)}return e}catch(e){if(e.code===Logger$1.errors.CALL_EXCEPTION){return null}throw e}}))}_fetchBytes(e,t){return __awaiter$o(this,void 0,void 0,(function*(){const r=yield this._fetch(e,t);if(r!=null){return _parseBytes$1(r,0)}return null}))}_getAddress(e,t){const r=coinInfos$1[String(e)];if(r==null){logger$_.throwError(`unsupported coin type: ${e}`,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`})}if(r.ilk==="eth"){return this.provider.formatter.address(t)}const n=arrayify$2(t);if(r.p2pkh!=null){const e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){const t=parseInt(e[1],16);if(e[2].length===t*2&&t>=1&&t<=75){return base58Encode$1(concat$5([[r.p2pkh],"0x"+e[2]]))}}}if(r.p2sh!=null){const e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){const t=parseInt(e[1],16);if(e[2].length===t*2&&t>=1&&t<=75){return base58Encode$1(concat$5([[r.p2sh],"0x"+e[2]]))}}}if(r.prefix!=null){const e=n[1];let t=n[0];if(t===0){if(e!==20&&e!==32){t=-1}}else{t=-1}if(t>=0&&n.length===2+e&&e>=1&&e<=75){const e=bech32$1.toWords(n.slice(2));e.unshift(t);return bech32$1.encode(r.prefix,e)}}return null}getAddress(e){return __awaiter$o(this,void 0,void 0,(function*(){if(e==null){e=60}if(e===60){try{const e=yield this._fetch("0x3b3b57de");if(e==="0x"||e===HashZero$1){return null}return this.provider.formatter.callAddress(e)}catch(e){if(e.code===Logger$1.errors.CALL_EXCEPTION){return null}throw e}}const t=yield this._fetchBytes("0xf1cb7e06",bytes32ify$1(e));if(t==null||t==="0x"){return null}const r=this._getAddress(e,t);if(r==null){logger$_.throwError(`invalid or unsupported coin data`,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t})}return r}))}getAvatar(){return __awaiter$o(this,void 0,void 0,(function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null){return null}for(let r=0;r<matchers$1.length;r++){const n=t.match(matchers$1[r]);if(n==null){continue}const i=n[1].toLowerCase();switch(i){case"https":e.push({type:"url",content:t});return{linkage:e,url:t};case"data":e.push({type:"data",content:t});return{linkage:e,url:t};case"ipfs":e.push({type:"ipfs",content:t});return{linkage:e,url:getIpfsLink$1(t)};case"erc721":case"erc1155":{const r=i==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});const s=this._resolvedAddress||(yield this.getAddress());const f=(n[2]||"").split("/");if(f.length!==2){return null}const a=yield this.provider.formatter.address(f[0]);const o=hexZeroPad$1(BigNumber$2.from(f[1]).toHexString(),32);if(i==="erc721"){const t=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:hexConcat$1(["0x6352211e",o])}));if(s!==t){return null}e.push({type:"owner",content:t})}else if(i==="erc1155"){const t=BigNumber$2.from(yield this.provider.call({to:a,data:hexConcat$1(["0x00fdd58e",hexZeroPad$1(s,32),o])}));if(t.isZero()){return null}e.push({type:"balance",content:t.toString()})}const c={to:this.provider.formatter.address(f[0]),data:hexConcat$1([r,o])};let u=_parseString$1(yield this.provider.call(c),0);if(u==null){return null}e.push({type:"metadata-url-base",content:u});if(i==="erc1155"){u=u.replace("{id}",o.substring(2));e.push({type:"metadata-url-expanded",content:u})}if(u.match(/^ipfs:/i)){u=getIpfsLink$1(u)}e.push({type:"metadata-url",content:u});const l=yield fetchJson$1(u);if(!l){return null}e.push({type:"metadata",content:JSON.stringify(l)});let h=l.image;if(typeof h!=="string"){return null}if(h.match(/^(https:\/\/|data:)/i));else{const t=h.match(matcherIpfs$1);if(t==null){return null}e.push({type:"url-ipfs",content:h});h=getIpfsLink$1(h)}e.push({type:"url",content:h});return{linkage:e,url:h}}}}}catch(e){}return null}))}getContentHash(){return __awaiter$o(this,void 0,void 0,(function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x"){return null}const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e=parseInt(t[3],16);if(t[4].length===e*2){return"ipfs://"+Base58$1.encode("0x"+t[1])}}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const e=parseInt(r[3],16);if(r[4].length===e*2){return"ipns://"+Base58$1.encode("0x"+r[1])}}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n){if(n[1].length===32*2){return"bzz://"+n[1]}}const i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i){if(i[1].length===34*2){const e={"=":"","+":"-","/":"_"};const t=encode$a("0x"+i[1]).replace(/[=+\/]/g,(t=>e[t]));return"sia://"+t}}return logger$_.throwError(`invalid or unsupported content hash data`,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})}))}getText(e){return __awaiter$o(this,void 0,void 0,(function*(){let t=toUtf8Bytes$1(e);t=concat$5([bytes32ify$1(64),bytes32ify$1(t.length),t]);if(t.length%32!==0){t=concat$5([t,hexZeroPad$1("0x",32-e.length%32)])}const r=yield this._fetchBytes("0x59d1d43c",hexlify$1(t));if(r==null||r==="0x"){return null}return toUtf8String$1(r)}))}}let defaultFormatter$1=null;let nextPollId$1=1;class BaseProvider$1 extends Provider$1{constructor(e){super();this._events=[];this._emitted={block:-2};this.disableCcipRead=false;this.formatter=new.target.getFormatter();defineReadOnly$1(this,"anyNetwork",e==="any");if(this.anyNetwork){e=this.detectNetwork()}if(e instanceof Promise){this._networkPromise=e;e.catch((e=>{}));this._ready().catch((e=>{}))}else{const t=getStatic$1(new.target,"getNetwork")(e);if(t){defineReadOnly$1(this,"_network",t);this.emit("network",t,null)}else{logger$_.throwArgumentError("invalid network","network",e)}}this._maxInternalBlockNumber=-1024;this._lastBlockNumber=-2;this._maxFilterBlockRange=10;this._pollingInterval=4e3;this._fastQueryDate=0}_ready(){return __awaiter$o(this,void 0,void 0,(function*(){if(this._network==null){let e=null;if(this._networkPromise){try{e=yield this._networkPromise}catch(e){}}if(e==null){e=yield this.detectNetwork()}if(!e){logger$_.throwError("no network detected",Logger$1.errors.UNKNOWN_ERROR,{})}if(this._network==null){if(this.anyNetwork){this._network=e}else{defineReadOnly$1(this,"_network",e)}this.emit("network",e,null)}}return this._network}))}get ready(){return poll$1((()=>this._ready().then((e=>e),(e=>{if(e.code===Logger$1.errors.NETWORK_ERROR&&e.event==="noNetwork"){return undefined}throw e}))))}static getFormatter(){if(defaultFormatter$1==null){defaultFormatter$1=new Formatter$1}return defaultFormatter$1}static getNetwork(e){return getNetwork$1(e==null?"homestead":e)}ccipReadFetch(e,t,r){return __awaiter$o(this,void 0,void 0,(function*(){if(this.disableCcipRead||r.length===0){return null}const n=e.to.toLowerCase();const i=t.toLowerCase();const s=[];for(let e=0;e<r.length;e++){const t=r[e];const f=t.replace("{sender}",n).replace("{data}",i);const a=t.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n});const o=yield fetchJson$1({url:f,errorPassThrough:true},a,((e,t)=>{e.status=t.statusCode;return e}));if(o.data){return o.data}const c=o.message||"unknown error";if(o.status>=400&&o.status<500){return logger$_.throwError(`response not found during CCIP fetch: ${c}`,Logger$1.errors.SERVER_ERROR,{url:t,errorMessage:c})}s.push(c)}return logger$_.throwError(`error encountered during CCIP fetch: ${s.map((e=>JSON.stringify(e))).join(", ")}`,Logger$1.errors.SERVER_ERROR,{urls:r,errorMessages:s})}))}_getInternalBlockNumber(e){return __awaiter$o(this,void 0,void 0,(function*(){yield this._ready();if(e>0){while(this._internalBlockNumber){const t=this._internalBlockNumber;try{const r=yield t;if(getTime$1()-r.respTime<=e){return r.blockNumber}break}catch(e){if(this._internalBlockNumber===t){break}}}}const t=getTime$1();const r=resolveProperties$1({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((e=>null),(e=>e))}).then((({blockNumber:e,networkError:n})=>{if(n){if(this._internalBlockNumber===r){this._internalBlockNumber=null}throw n}const i=getTime$1();e=BigNumber$2.from(e).toNumber();if(e<this._maxInternalBlockNumber){e=this._maxInternalBlockNumber}this._maxInternalBlockNumber=e;this._setFastBlockNumber(e);return{blockNumber:e,reqTime:t,respTime:i}}));this._internalBlockNumber=r;r.catch((e=>{if(this._internalBlockNumber===r){this._internalBlockNumber=null}}));return(yield r).blockNumber}))}poll(){return __awaiter$o(this,void 0,void 0,(function*(){const e=nextPollId$1++;const t=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(e){this.emit("error",e);return}this._setFastBlockNumber(r);this.emit("poll",e,r);if(r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2){this._emitted.block=r-1}if(Math.abs(this._emitted.block-r)>1e3){logger$_.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`);this.emit("error",logger$_.makeError("network block skew detected",Logger$1.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block}));this.emit("block",r)}else{for(let e=this._emitted.block+1;e<=r;e++){this.emit("block",e)}}if(this._emitted.block!==r){this._emitted.block=r;Object.keys(this._emitted).forEach((e=>{if(e==="block"){return}const t=this._emitted[e];if(t==="pending"){return}if(r-t>12){delete this._emitted[e]}}))}if(this._lastBlockNumber===-2){this._lastBlockNumber=r-1}this._events.forEach((e=>{switch(e.type){case"tx":{const r=e.hash;let n=this.getTransactionReceipt(r).then((e=>{if(!e||e.blockNumber==null){return null}this._emitted["t:"+r]=e.blockNumber;this.emit(r,e);return null})).catch((e=>{this.emit("error",e)}));t.push(n);break}case"filter":{if(!e._inflight){e._inflight=true;if(e._lastBlockNumber===-2){e._lastBlockNumber=r-1}const n=e.filter;n.fromBlock=e._lastBlockNumber+1;n.toBlock=r;const i=n.toBlock-this._maxFilterBlockRange;if(i>n.fromBlock){n.fromBlock=i}if(n.fromBlock<0){n.fromBlock=0}const s=this.getLogs(n).then((t=>{e._inflight=false;if(t.length===0){return}t.forEach((t=>{if(t.blockNumber>e._lastBlockNumber){e._lastBlockNumber=t.blockNumber}this._emitted["b:"+t.blockHash]=t.blockNumber;this._emitted["t:"+t.transactionHash]=t.blockNumber;this.emit(n,t)}))})).catch((t=>{this.emit("error",t);e._inflight=false}));t.push(s)}break}}}));this._lastBlockNumber=r;Promise.all(t).then((()=>{this.emit("didPoll",e)})).catch((e=>{this.emit("error",e)}));return}))}resetEventsBlock(e){this._lastBlockNumber=e-1;if(this.polling){this.poll()}}get network(){return this._network}detectNetwork(){return __awaiter$o(this,void 0,void 0,(function*(){return logger$_.throwError("provider does not support network detection",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return __awaiter$o(this,void 0,void 0,(function*(){const e=yield this._ready();const t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork){this._network=t;this._lastBlockNumber=-2;this._fastBlockNumber=null;this._fastBlockNumberPromise=null;this._fastQueryDate=0;this._emitted.block=-2;this._maxInternalBlockNumber=-1024;this._internalBlockNumber=null;this.emit("network",t,e);yield stall$3(0);return this._network}const r=logger$_.makeError("underlying network changed",Logger$1.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});this.emit("error",r);throw r}return e}))}get blockNumber(){this._getInternalBlockNumber(100+this.pollingInterval/2).then((e=>{this._setFastBlockNumber(e)}),(e=>{}));return this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){if(e&&!this._poller){this._poller=setInterval((()=>{this.poll()}),this.pollingInterval);if(!this._bootstrapPoll){this._bootstrapPoll=setTimeout((()=>{this.poll();this._bootstrapPoll=setTimeout((()=>{if(!this._poller){this.poll()}this._bootstrapPoll=null}),this.pollingInterval)}),0)}}else if(!e&&this._poller){clearInterval(this._poller);this._poller=null}}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!=="number"||e<=0||parseInt(String(e))!=e){throw new Error("invalid polling interval")}this._pollingInterval=e;if(this._poller){clearInterval(this._poller);this._poller=setInterval((()=>{this.poll()}),this._pollingInterval)}}_getFastBlockNumber(){const e=getTime$1();if(e-this._fastQueryDate>2*this._pollingInterval){this._fastQueryDate=e;this._fastBlockNumberPromise=this.getBlockNumber().then((e=>{if(this._fastBlockNumber==null||e>this._fastBlockNumber){this._fastBlockNumber=e}return this._fastBlockNumber}))}return this._fastBlockNumberPromise}_setFastBlockNumber(e){if(this._fastBlockNumber!=null&&e<this._fastBlockNumber){return}this._fastQueryDate=getTime$1();if(this._fastBlockNumber==null||e>this._fastBlockNumber){this._fastBlockNumber=e;this._fastBlockNumberPromise=Promise.resolve(e)}}waitForTransaction(e,t,r){return __awaiter$o(this,void 0,void 0,(function*(){return this._waitForTransaction(e,t==null?1:t,r||0,null)}))}_waitForTransaction(e,t,r,n){return __awaiter$o(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(e);if((i?i.confirmations:0)>=t){return i}return new Promise(((i,s)=>{const f=[];let a=false;const o=function(){if(a){return true}a=true;f.forEach((e=>{e()}));return false};const c=e=>{if(e.confirmations<t){return}if(o()){return}i(e)};this.on(e,c);f.push((()=>{this.removeListener(e,c)}));if(n){let r=n.startBlock;let i=null;const c=f=>__awaiter$o(this,void 0,void 0,(function*(){if(a){return}yield stall$3(1e3);this.getTransactionCount(n.from).then((u=>__awaiter$o(this,void 0,void 0,(function*(){if(a){return}if(u<=n.nonce){r=f}else{{const t=yield this.getTransaction(e);if(t&&t.blockNumber!=null){return}}if(i==null){i=r-3;if(i<n.startBlock){i=n.startBlock}}while(i<=f){if(a){return}const r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){const f=r.transactions[i];if(f.hash===e){return}if(f.from===n.from&&f.nonce===n.nonce){if(a){return}const r=yield this.waitForTransaction(f.hash,t);if(o()){return}let i="replaced";if(f.data===n.data&&f.to===n.to&&f.value.eq(n.value)){i="repriced"}else if(f.data==="0x"&&f.from===f.to&&f.value.isZero()){i="cancelled"}s(logger$_.makeError("transaction was replaced",Logger$1.errors.TRANSACTION_REPLACED,{cancelled:i==="replaced"||i==="cancelled",reason:i,replacement:this._wrapTransaction(f),hash:e,receipt:r}));return}}i++}}if(a){return}this.once("block",c)}))),(e=>{if(a){return}this.once("block",c)}))}));if(a){return}this.once("block",c);f.push((()=>{this.removeListener("block",c)}))}if(typeof r==="number"&&r>0){const e=setTimeout((()=>{if(o()){return}s(logger$_.makeError("timeout exceeded",Logger$1.errors.TIMEOUT,{timeout:r}))}),r);if(e.unref){e.unref()}f.push((()=>{clearTimeout(e)}))}}))}))}getBlockNumber(){return __awaiter$o(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return __awaiter$o(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return BigNumber$2.from(e)}catch(t){return logger$_.throwError("bad result from backend",Logger$1.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}}))}getBalance(e,t){return __awaiter$o(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield resolveProperties$1({address:this._getAddress(e),blockTag:this._getBlockTag(t)});const n=yield this.perform("getBalance",r);try{return BigNumber$2.from(n)}catch(e){return logger$_.throwError("bad result from backend",Logger$1.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:e})}}))}getTransactionCount(e,t){return __awaiter$o(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield resolveProperties$1({address:this._getAddress(e),blockTag:this._getBlockTag(t)});const n=yield this.perform("getTransactionCount",r);try{return BigNumber$2.from(n).toNumber()}catch(e){return logger$_.throwError("bad result from backend",Logger$1.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:e})}}))}getCode(e,t){return __awaiter$o(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield resolveProperties$1({address:this._getAddress(e),blockTag:this._getBlockTag(t)});const n=yield this.perform("getCode",r);try{return hexlify$1(n)}catch(e){return logger$_.throwError("bad result from backend",Logger$1.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:e})}}))}getStorageAt(e,t,r){return __awaiter$o(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield resolveProperties$1({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then((e=>hexValue$1(e)))});const i=yield this.perform("getStorageAt",n);try{return hexlify$1(i)}catch(e){return logger$_.throwError("bad result from backend",Logger$1.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:e})}}))}_wrapTransaction(e,t,r){if(t!=null&&hexDataLength$1(t)!==32){throw new Error("invalid response - sendTransaction")}const n=e;if(t!=null&&e.hash!==t){logger$_.throwError("Transaction hash mismatch from Provider.sendTransaction.",Logger$1.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t})}n.wait=(t,n)=>__awaiter$o(this,void 0,void 0,(function*(){if(t==null){t=1}if(n==null){n=0}let i=undefined;if(t!==0&&r!=null){i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r}}const s=yield this._waitForTransaction(e.hash,t,n,i);if(s==null&&t===0){return null}this._emitted["t:"+e.hash]=s.blockNumber;if(s.status===0){logger$_.throwError("transaction failed",Logger$1.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:s})}return s}));return n}sendTransaction(e){return __awaiter$o(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then((e=>hexlify$1(e)));const r=this.formatter.transaction(e);if(r.confirmations==null){r.confirmations=0}const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,e,n)}catch(e){e.transaction=r;e.transactionHash=r.hash;throw e}}))}_getTransactionRequest(e){return __awaiter$o(this,void 0,void 0,(function*(){const t=yield e;const r={};["from","to"].forEach((e=>{if(t[e]==null){return}r[e]=Promise.resolve(t[e]).then((e=>e?this._getAddress(e):null))}));["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((e=>{if(t[e]==null){return}r[e]=Promise.resolve(t[e]).then((e=>e?BigNumber$2.from(e):null))}));["type"].forEach((e=>{if(t[e]==null){return}r[e]=Promise.resolve(t[e]).then((e=>e!=null?e:null))}));if(t.accessList){r.accessList=this.formatter.accessList(t.accessList)}["data"].forEach((e=>{if(t[e]==null){return}r[e]=Promise.resolve(t[e]).then((e=>e?hexlify$1(e):null))}));return this.formatter.transactionRequest(yield resolveProperties$1(r))}))}_getFilter(e){return __awaiter$o(this,void 0,void 0,(function*(){e=yield e;const t={};if(e.address!=null){t.address=this._getAddress(e.address)}["blockHash","topics"].forEach((r=>{if(e[r]==null){return}t[r]=e[r]}));["fromBlock","toBlock"].forEach((r=>{if(e[r]==null){return}t[r]=this._getBlockTag(e[r])}));return this.formatter.filter(yield resolveProperties$1(t))}))}_call(e,t,r){return __awaiter$o(this,void 0,void 0,(function*(){if(r>=MAX_CCIP_REDIRECTS$1){logger$_.throwError("CCIP read exceeded maximum redirections",Logger$1.errors.SERVER_ERROR,{redirects:r,transaction:e})}const n=e.to;const i=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&t==="latest"&&n!=null&&i.substring(0,10)==="0x556f1830"&&hexDataLength$1(i)%32===4){try{const s=hexDataSlice$1(i,4);const f=hexDataSlice$1(s,0,32);if(!BigNumber$2.from(f).eq(n)){logger$_.throwError("CCIP Read sender did not match",Logger$1.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i})}const a=[];const o=BigNumber$2.from(hexDataSlice$1(s,32,64)).toNumber();const c=BigNumber$2.from(hexDataSlice$1(s,o,o+32)).toNumber();const u=hexDataSlice$1(s,o+32);for(let t=0;t<c;t++){const r=_parseString$1(u,t*32);if(r==null){logger$_.throwError("CCIP Read contained corrupt URL string",Logger$1.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i})}a.push(r)}const l=_parseBytes$1(s,64);if(!BigNumber$2.from(hexDataSlice$1(s,100,128)).isZero()){logger$_.throwError("CCIP Read callback selector included junk",Logger$1.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i})}const h=hexDataSlice$1(s,96,100);const d=_parseBytes$1(s,128);const p=yield this.ccipReadFetch(e,l,a);if(p==null){logger$_.throwError("CCIP Read disabled or provided no URLs",Logger$1.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i})}const y={to:n,data:hexConcat$1([h,encodeBytes$1([p,d])])};return this._call(y,t,r+1)}catch(e){if(e.code===Logger$1.errors.SERVER_ERROR){throw e}}}try{return hexlify$1(i)}catch(r){return logger$_.throwError("bad result from backend",Logger$1.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:r})}}))}call(e,t){return __awaiter$o(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield resolveProperties$1({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)}))}estimateGas(e){return __awaiter$o(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield resolveProperties$1({transaction:this._getTransactionRequest(e)});const r=yield this.perform("estimateGas",t);try{return BigNumber$2.from(r)}catch(e){return logger$_.throwError("bad result from backend",Logger$1.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:e})}}))}_getAddress(e){return __awaiter$o(this,void 0,void 0,(function*(){e=yield e;if(typeof e!=="string"){logger$_.throwArgumentError("invalid address or ENS name","name",e)}const t=yield this.resolveName(e);if(t==null){logger$_.throwError("ENS name not configured",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`})}return t}))}_getBlock(e,t){return __awaiter$o(this,void 0,void 0,(function*(){yield this.getNetwork();e=yield e;let r=-128;const n={includeTransactions:!!t};if(isHexString$1(e,32)){n.blockHash=e}else{try{n.blockTag=yield this._getBlockTag(e);if(isHexString$1(n.blockTag)){r=parseInt(n.blockTag.substring(2),16)}}catch(t){logger$_.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}}return poll$1((()=>__awaiter$o(this,void 0,void 0,(function*(){const e=yield this.perform("getBlock",n);if(e==null){if(n.blockHash!=null){if(this._emitted["b:"+n.blockHash]==null){return null}}if(n.blockTag!=null){if(r>this._emitted.block){return null}}return undefined}if(t){let t=null;for(let r=0;r<e.transactions.length;r++){const n=e.transactions[r];if(n.blockNumber==null){n.confirmations=0}else if(n.confirmations==null){if(t==null){t=yield this._getInternalBlockNumber(100+2*this.pollingInterval)}let e=t-n.blockNumber+1;if(e<=0){e=1}n.confirmations=e}}const r=this.formatter.blockWithTransactions(e);r.transactions=r.transactions.map((e=>this._wrapTransaction(e)));return r}return this.formatter.block(e)}))),{oncePoll:this})}))}getBlock(e){return this._getBlock(e,false)}getBlockWithTransactions(e){return this._getBlock(e,true)}getTransaction(e){return __awaiter$o(this,void 0,void 0,(function*(){yield this.getNetwork();e=yield e;const t={transactionHash:this.formatter.hash(e,true)};return poll$1((()=>__awaiter$o(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",t);if(r==null){if(this._emitted["t:"+e]==null){return null}return undefined}const n=this.formatter.transactionResponse(r);if(n.blockNumber==null){n.confirmations=0}else if(n.confirmations==null){const e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);let t=e-n.blockNumber+1;if(t<=0){t=1}n.confirmations=t}return this._wrapTransaction(n)}))),{oncePoll:this})}))}getTransactionReceipt(e){return __awaiter$o(this,void 0,void 0,(function*(){yield this.getNetwork();e=yield e;const t={transactionHash:this.formatter.hash(e,true)};return poll$1((()=>__awaiter$o(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",t);if(r==null){if(this._emitted["t:"+e]==null){return null}return undefined}if(r.blockHash==null){return undefined}const n=this.formatter.receipt(r);if(n.blockNumber==null){n.confirmations=0}else if(n.confirmations==null){const e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);let t=e-n.blockNumber+1;if(t<=0){t=1}n.confirmations=t}return n}))),{oncePoll:this})}))}getLogs(e){return __awaiter$o(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield resolveProperties$1({filter:this._getFilter(e)});const r=yield this.perform("getLogs",t);r.forEach((e=>{if(e.removed==null){e.removed=false}}));return Formatter$1.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return __awaiter$o(this,void 0,void 0,(function*(){yield this.getNetwork();return this.perform("getEtherPrice",{})}))}_getBlockTag(e){return __awaiter$o(this,void 0,void 0,(function*(){e=yield e;if(typeof e==="number"&&e<0){if(e%1){logger$_.throwArgumentError("invalid BlockTag","blockTag",e)}let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);t+=e;if(t<0){t=0}return this.formatter.blockTag(t)}return this.formatter.blockTag(e)}))}getResolver(e){return __awaiter$o(this,void 0,void 0,(function*(){let t=e;while(true){if(t===""||t==="."){return null}if(e!=="eth"&&t==="eth"){return null}const r=yield this._getResolver(t,"getResolver");if(r!=null){const n=new Resolver$1(this,r,e);if(t!==e&&!(yield n.supportsWildcard())){return null}return n}t=t.split(".").slice(1).join(".")}}))}_getResolver(e,t){return __awaiter$o(this,void 0,void 0,(function*(){if(t==null){t="ENS"}const r=yield this.getNetwork();if(!r.ensAddress){logger$_.throwError("network does not support ENS",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name})}try{const t=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+namehash$1(e).substring(2)});return this.formatter.callAddress(t)}catch(e){}return null}))}resolveName(e){return __awaiter$o(this,void 0,void 0,(function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if(isHexString$1(e)){throw t}}if(typeof e!=="string"){logger$_.throwArgumentError("invalid ENS name","name",e)}const t=yield this.getResolver(e);if(!t){return null}return yield t.getAddress()}))}lookupAddress(e){return __awaiter$o(this,void 0,void 0,(function*(){e=yield e;e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse";const r=yield this._getResolver(t,"lookupAddress");if(r==null){return null}const n=_parseString$1(yield this.call({to:r,data:"0x691f3431"+namehash$1(t).substring(2)}),0);const i=yield this.resolveName(n);if(i!=e){return null}return n}))}getAvatar(e){return __awaiter$o(this,void 0,void 0,(function*(){let t=null;if(isHexString$1(e)){const r=this.formatter.address(e);const n=r.substring(2).toLowerCase()+".addr.reverse";const i=yield this._getResolver(n,"getAvatar");if(!i){return null}t=new Resolver$1(this,i,n);try{const e=yield t.getAvatar();if(e){return e.url}}catch(e){if(e.code!==Logger$1.errors.CALL_EXCEPTION){throw e}}try{const e=_parseString$1(yield this.call({to:i,data:"0x691f3431"+namehash$1(n).substring(2)}),0);t=yield this.getResolver(e)}catch(e){if(e.code!==Logger$1.errors.CALL_EXCEPTION){throw e}return null}}else{t=yield this.getResolver(e);if(!t){return null}}const r=yield t.getAvatar();if(r==null){return null}return r.url}))}perform(e,t){return logger$_.throwError(e+" not implemented",Logger$1.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_stopEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_addEventListener(e,t,r){const n=new Event$1(getEventTag$2(e),t,r);this._events.push(n);this._startEvent(n);return this}on(e,t){return this._addEventListener(e,t,false)}once(e,t){return this._addEventListener(e,t,true)}emit(e,...t){let r=false;let n=[];let i=getEventTag$2(e);this._events=this._events.filter((e=>{if(e.tag!==i){return true}setTimeout((()=>{e.listener.apply(this,t)}),0);r=true;if(e.once){n.push(e);return false}return true}));n.forEach((e=>{this._stopEvent(e)}));return r}listenerCount(e){if(!e){return this._events.length}let t=getEventTag$2(e);return this._events.filter((e=>e.tag===t)).length}listeners(e){if(e==null){return this._events.map((e=>e.listener))}let t=getEventTag$2(e);return this._events.filter((e=>e.tag===t)).map((e=>e.listener))}off(e,t){if(t==null){return this.removeAllListeners(e)}const r=[];let n=false;let i=getEventTag$2(e);this._events=this._events.filter((e=>{if(e.tag!==i||e.listener!=t){return true}if(n){return true}n=true;r.push(e);return false}));r.forEach((e=>{this._stopEvent(e)}));return this}removeAllListeners(e){let t=[];if(e==null){t=this._events;this._events=[]}else{const r=getEventTag$2(e);this._events=this._events.filter((e=>{if(e.tag!==r){return true}t.push(e);return false}))}t.forEach((e=>{this._stopEvent(e)}));return this}}var __awaiter$n=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$Z=new Logger$1(version$t);const errorGas$1=["call","estimateGas"];function spelunk$1(e,t){if(e==null){return null}if(typeof e.message==="string"&&e.message.match("reverted")){const r=isHexString$1(e.data)?e.data:null;if(!t||r){return{message:e.message,data:r}}}if(typeof e==="object"){for(const r in e){const n=spelunk$1(e[r],t);if(n){return n}}return null}if(typeof e==="string"){try{return spelunk$1(JSON.parse(e),t)}catch(e){}}return null}function checkError$3(e,t,r){const n=r.transaction||r.signedTransaction;if(e==="call"){const e=spelunk$1(t,true);if(e){return e.data}logger$Z.throwError("missing revert data in call exception; Transaction reverted without a reason string",Logger$1.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if(e==="estimateGas"){let r=spelunk$1(t.body,false);if(r==null){r=spelunk$1(t,false)}if(r){logger$Z.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger$1.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:e,transaction:n,error:t})}}let i=t.message;if(t.code===Logger$1.errors.SERVER_ERROR&&t.error&&typeof t.error.message==="string"){i=t.error.message}else if(typeof t.body==="string"){i=t.body}else if(typeof t.responseText==="string"){i=t.responseText}i=(i||"").toLowerCase();if(i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)){logger$Z.throwError("insufficient funds for intrinsic transaction cost",Logger$1.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n})}if(i.match(/nonce (is )?too low/i)){logger$Z.throwError("nonce has already been used",Logger$1.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n})}if(i.match(/replacement transaction underpriced|transaction gas price.*too low/i)){logger$Z.throwError("replacement fee too low",Logger$1.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n})}if(i.match(/only replay-protected/i)){logger$Z.throwError("legacy pre-eip-155 transactions not supported",Logger$1.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n})}if(errorGas$1.indexOf(e)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)){logger$Z.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger$1.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n})}throw t}function timer$1(e){return new Promise((function(t){setTimeout(t,e)}))}function getResult$3(e){if(e.error){const t=new Error(e.error.message);t.code=e.error.code;t.data=e.error.data;throw t}return e.result}function getLowerCase$1(e){if(e){return e.toLowerCase()}return e}const _constructorGuard$5={};class JsonRpcSigner$1 extends Signer$1{constructor(e,t,r){super();if(e!==_constructorGuard$5){throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner")}defineReadOnly$1(this,"provider",t);if(r==null){r=0}if(typeof r==="string"){defineReadOnly$1(this,"_address",this.provider.formatter.address(r));defineReadOnly$1(this,"_index",null)}else if(typeof r==="number"){defineReadOnly$1(this,"_index",r);defineReadOnly$1(this,"_address",null)}else{logger$Z.throwArgumentError("invalid address or index","addressOrIndex",r)}}connect(e){return logger$Z.throwError("cannot alter JSON-RPC Signer connection",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new UncheckedJsonRpcSigner$1(_constructorGuard$5,this.provider,this._address||this._index)}getAddress(){if(this._address){return Promise.resolve(this._address)}return this.provider.send("eth_accounts",[]).then((e=>{if(e.length<=this._index){logger$Z.throwError("unknown account #"+this._index,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"})}return this.provider.formatter.address(e[this._index])}))}sendUncheckedTransaction(e){e=shallowCopy$1(e);const t=this.getAddress().then((e=>{if(e){e=e.toLowerCase()}return e}));if(e.gasLimit==null){const r=shallowCopy$1(e);r.from=t;e.gasLimit=this.provider.estimateGas(r)}if(e.to!=null){e.to=Promise.resolve(e.to).then((e=>__awaiter$n(this,void 0,void 0,(function*(){if(e==null){return null}const t=yield this.provider.resolveName(e);if(t==null){logger$Z.throwArgumentError("provided ENS name resolves to null","tx.to",e)}return t}))))}return resolveProperties$1({tx:resolveProperties$1(e),sender:t}).then((({tx:t,sender:r})=>{if(t.from!=null){if(t.from.toLowerCase()!==r){logger$Z.throwArgumentError("from address mismatch","transaction",e)}}else{t.from=r}const n=this.provider.constructor.hexlifyTransaction(t,{from:true});return this.provider.send("eth_sendTransaction",[n]).then((e=>e),(e=>{if(typeof e.message==="string"&&e.message.match(/user denied/i)){logger$Z.throwError("user rejected transaction",Logger$1.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:t})}return checkError$3("sendTransaction",e,n)}))}))}signTransaction(e){return logger$Z.throwError("signing transactions is unsupported",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return __awaiter$n(this,void 0,void 0,(function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval);const r=yield this.sendUncheckedTransaction(e);try{return yield poll$1((()=>__awaiter$n(this,void 0,void 0,(function*(){const e=yield this.provider.getTransaction(r);if(e===null){return undefined}return this.provider._wrapTransaction(e,r,t)}))),{oncePoll:this.provider})}catch(e){e.transactionHash=r;throw e}}))}signMessage(e){return __awaiter$n(this,void 0,void 0,(function*(){const t=typeof e==="string"?toUtf8Bytes$1(e):e;const r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[hexlify$1(t),r.toLowerCase()])}catch(t){if(typeof t.message==="string"&&t.message.match(/user denied/i)){logger$Z.throwError("user rejected signing",Logger$1.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e})}throw t}}))}_legacySignMessage(e){return __awaiter$n(this,void 0,void 0,(function*(){const t=typeof e==="string"?toUtf8Bytes$1(e):e;const r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),hexlify$1(t)])}catch(t){if(typeof t.message==="string"&&t.message.match(/user denied/i)){logger$Z.throwError("user rejected signing",Logger$1.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e})}throw t}}))}_signTypedData(e,t,r){return __awaiter$n(this,void 0,void 0,(function*(){const n=yield TypedDataEncoder$1.resolveNames(e,t,r,(e=>this.provider.resolveName(e)));const i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(TypedDataEncoder$1.getPayload(n.domain,t,n.value))])}catch(e){if(typeof e.message==="string"&&e.message.match(/user denied/i)){logger$Z.throwError("user rejected signing",Logger$1.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,messageData:{domain:n.domain,types:t,value:n.value}})}throw e}}))}unlock(e){return __awaiter$n(this,void 0,void 0,(function*(){const t=this.provider;const r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])}))}}class UncheckedJsonRpcSigner$1 extends JsonRpcSigner$1{sendTransaction(e){return this.sendUncheckedTransaction(e).then((e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)})))}}const allowedTransactionKeys$4={chainId:true,data:true,gasLimit:true,gasPrice:true,nonce:true,to:true,value:true,type:true,accessList:true,maxFeePerGas:true,maxPriorityFeePerGas:true};class JsonRpcProvider$1 extends BaseProvider$1{constructor(e,t){let r=t;if(r==null){r=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then((t=>{e(t)}),(e=>{t(e)}))}),0)}))}super(r);if(!e){e=getStatic$1(this.constructor,"defaultUrl")()}if(typeof e==="string"){defineReadOnly$1(this,"connection",Object.freeze({url:e}))}else{defineReadOnly$1(this,"connection",Object.freeze(shallowCopy$1(e)))}this._nextId=42}get _cache(){if(this._eventLoopCache==null){this._eventLoopCache={}}return this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){if(!this._cache["detectNetwork"]){this._cache["detectNetwork"]=this._uncachedDetectNetwork();setTimeout((()=>{this._cache["detectNetwork"]=null}),0)}return this._cache["detectNetwork"]}_uncachedDetectNetwork(){return __awaiter$n(this,void 0,void 0,(function*(){yield timer$1(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(e!=null){const t=getStatic$1(this.constructor,"getNetwork");try{return t(BigNumber$2.from(e).toNumber())}catch(t){return logger$Z.throwError("could not detect network",Logger$1.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return logger$Z.throwError("could not detect network",Logger$1.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(e){return new JsonRpcSigner$1(_constructorGuard$5,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((e=>e.map((e=>this.formatter.address(e)))))}send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:deepCopy$1(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e]){return this._cache[e]}const i=fetchJson$1(this.connection,JSON.stringify(r),getResult$3).then((e=>{this.emit("debug",{action:"response",request:r,response:e,provider:this});return e}),(e=>{this.emit("debug",{action:"response",error:e,request:r,provider:this});throw e}));if(n){this._cache[e]=i;setTimeout((()=>{this._cache[e]=null}),0)}return i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[getLowerCase$1(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[getLowerCase$1(t.address),t.blockTag]];case"getCode":return["eth_getCode",[getLowerCase$1(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[getLowerCase$1(t.address),hexZeroPad$1(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":if(t.blockTag){return["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]}else if(t.blockHash){return["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]}return null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":{const e=getStatic$1(this.constructor,"hexlifyTransaction");return["eth_call",[e(t.transaction,{from:true}),t.blockTag]]}case"estimateGas":{const e=getStatic$1(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[e(t.transaction,{from:true})]]}case"getLogs":if(t.filter&&t.filter.address!=null){t.filter.address=getLowerCase$1(t.filter.address)}return["eth_getLogs",[t.filter]]}return null}perform(e,t){return __awaiter$n(this,void 0,void 0,(function*(){if(e==="call"||e==="estimateGas"){const e=t.transaction;if(e&&e.type!=null&&BigNumber$2.from(e.type).isZero()){if(e.maxFeePerGas==null&&e.maxPriorityFeePerGas==null){const r=yield this.getFeeData();if(r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){t=shallowCopy$1(t);t.transaction=shallowCopy$1(e);delete t.transaction.type}}}}const r=this.prepareRequest(e,t);if(r==null){logger$Z.throwError(e+" not implemented",Logger$1.errors.NOT_IMPLEMENTED,{operation:e})}try{return yield this.send(r[0],r[1])}catch(r){return checkError$3(e,r,t)}}))}_startEvent(e){if(e.tag==="pending"){this._startPending()}super._startEvent(e)}_startPending(){if(this._pendingFilter!=null){return}const e=this;const t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t;t.then((function(r){function n(){e.send("eth_getFilterChanges",[r]).then((function(r){if(e._pendingFilter!=t){return null}let n=Promise.resolve();r.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending";n=n.then((function(){return e.getTransaction(t).then((function(t){e.emit("pending",t);return null}))}))}));return n.then((function(){return timer$1(1e3)}))})).then((function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[r]);return}setTimeout((function(){n()}),0);return null})).catch((e=>{}))}n();return r})).catch((e=>{}))}_stopEvent(e){if(e.tag==="pending"&&this.listenerCount("pending")===0){this._pendingFilter=null}super._stopEvent(e)}static hexlifyTransaction(e,t){const r=shallowCopy$1(allowedTransactionKeys$4);if(t){for(const e in t){if(t[e]){r[e]=true}}}checkProperties$1(e,r);const n={};["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(t){if(e[t]==null){return}const r=hexValue$1(BigNumber$2.from(e[t]));if(t==="gasLimit"){t="gas"}n[t]=r}));["from","to","data"].forEach((function(t){if(e[t]==null){return}n[t]=hexlify$1(e[t])}));if(e.accessList){n["accessList"]=accessListify$1(e.accessList)}return n}}let WS$1=null;try{WS$1=WebSocket;if(WS$1==null){throw new Error("inject please")}}catch(e){const t=new Logger$1(version$t);WS$1=function(){t.throwError("WebSockets not supported in this environment",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var __awaiter$m=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$Y=new Logger$1(version$t);let NextId$1=1;class WebSocketProvider$1 extends JsonRpcProvider$1{constructor(e,t){if(t==="any"){logger$Y.throwError("WebSocketProvider does not support 'any' network yet",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"network:any"})}if(typeof e==="string"){super(e,t)}else{super("_websocket",t)}this._pollingInterval=-1;this._wsReady=false;if(typeof e==="string"){defineReadOnly$1(this,"_websocket",new WS$1(this.connection.url))}else{defineReadOnly$1(this,"_websocket",e)}defineReadOnly$1(this,"_requests",{});defineReadOnly$1(this,"_subs",{});defineReadOnly$1(this,"_subIds",{});defineReadOnly$1(this,"_detectNetwork",super.detectNetwork());this.websocket.onopen=()=>{this._wsReady=true;Object.keys(this._requests).forEach((e=>{this.websocket.send(this._requests[e].payload)}))};this.websocket.onmessage=e=>{const t=e.data;const r=JSON.parse(t);if(r.id!=null){const e=String(r.id);const n=this._requests[e];delete this._requests[e];if(r.result!==undefined){n.callback(null,r.result);this.emit("debug",{action:"response",request:JSON.parse(n.payload),response:r.result,provider:this})}else{let e=null;if(r.error){e=new Error(r.error.message||"unknown error");defineReadOnly$1(e,"code",r.error.code||null);defineReadOnly$1(e,"response",t)}else{e=new Error("unknown error")}n.callback(e,undefined);this.emit("debug",{action:"response",error:e,request:JSON.parse(n.payload),provider:this})}}else if(r.method==="eth_subscription"){const e=this._subs[r.params.subscription];if(e){e.processFunc(r.params.result)}}else{console.warn("this should not happen")}};const r=setInterval((()=>{this.emit("poll")}),1e3);if(r.unref){r.unref()}}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){logger$Y.throwError("cannot reset events block on WebSocketProvider",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){logger$Y.throwError("cannot set polling interval on WebSocketProvider",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return __awaiter$m(this,void 0,void 0,(function*(){return null}))}set polling(e){if(!e){return}logger$Y.throwError("cannot set polling on WebSocketProvider",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const r=NextId$1++;return new Promise(((n,i)=>{function s(e,t){if(e){return i(e)}return n(t)}const f=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(f),provider:this});this._requests[String(r)]={callback:s,payload:f};if(this._wsReady){this.websocket.send(f)}}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return __awaiter$m(this,void 0,void 0,(function*(){let n=this._subIds[e];if(n==null){n=Promise.all(t).then((e=>this.send("eth_subscribe",e)));this._subIds[e]=n}const i=yield n;this._subs[i]={tag:e,processFunc:r}}))}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],(e=>{const t=BigNumber$2.from(e.number).toNumber();this._emitted.block=t;this.emit("block",t)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(e=>{this.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(t=>{if(t.removed==null){t.removed=false}this.emit(e.filter,this.formatter.filterLog(t))}));break;case"tx":{const t=e=>{const t=e.hash;this.getTransactionReceipt(t).then((e=>{if(!e){return}this.emit(t,e)}))};t(e);this._subscribe("tx",["newHeads"],(e=>{this._events.filter((e=>e.type==="tx")).forEach(t)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let t=e.tag;if(e.type==="tx"){if(this._events.filter((e=>e.type==="tx")).length){return}t="tx"}else if(this.listenerCount(e.event)){return}const r=this._subIds[t];if(!r){return}delete this._subIds[t];r.then((e=>{if(!this._subs[e]){return}delete this._subs[e];this.send("eth_unsubscribe",[e])}))}destroy(){return __awaiter$m(this,void 0,void 0,(function*(){if(this.websocket.readyState===WS$1.CONNECTING){yield new Promise((e=>{this.websocket.onopen=function(){e(true)};this.websocket.onerror=function(){e(false)}}))}this.websocket.close(1e3)}))}}var __awaiter$l=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$X=new Logger$1(version$t);class StaticJsonRpcProvider$1 extends JsonRpcProvider$1{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return __awaiter$l(this,void 0,void 0,(function*(){let t=this.network;if(t==null){t=yield e.detectNetwork.call(this);if(!t){logger$X.throwError("no network detected",Logger$1.errors.UNKNOWN_ERROR,{})}if(this._network==null){defineReadOnly$1(this,"_network",t);this.emit("network",t,null)}}return t}))}}class UrlJsonRpcProvider$1 extends StaticJsonRpcProvider$1{constructor(e,t){logger$X.checkAbstract(new.target,UrlJsonRpcProvider$1);e=getStatic$1(new.target,"getNetwork")(e);t=getStatic$1(new.target,"getApiKey")(t);const r=getStatic$1(new.target,"getUrl")(e,t);super(r,e);if(typeof t==="string"){defineReadOnly$1(this,"apiKey",t)}else if(t!=null){Object.keys(t).forEach((e=>{defineReadOnly$1(this,e,t[e])}))}}_startPending(){logger$X.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return false}getSigner(e){return logger$X.throwError("API provider does not support signing",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return logger$X.throwError("not implemented; sub-classes must override getUrl",Logger$1.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const logger$W=new Logger$1(version$t);const defaultApiKey$5="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class AlchemyWebSocketProvider$1 extends WebSocketProvider$1{constructor(e,t){const r=new AlchemyProvider$1(e,t);const n=r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(n,r.network);defineReadOnly$1(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===defaultApiKey$5}}class AlchemyProvider$1 extends UrlJsonRpcProvider$1{static getWebSocketProvider(e,t){return new AlchemyWebSocketProvider$1(e,t)}static getApiKey(e){if(e==null){return defaultApiKey$5}if(e&&typeof e!=="string"){logger$W.throwArgumentError("invalid apiKey","apiKey",e)}return e}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.g.alchemy.com/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":r="arb-goerli.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":r="opt-goerli.g.alchemy.com/v2/";break;default:logger$W.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:true,url:"https:/"+"/"+r+t,throttleCallback:(e,r)=>{if(t===defaultApiKey$5){showThrottleMessage$1()}return Promise.resolve(true)}}}isCommunityResource(){return this.apiKey===defaultApiKey$5}}const logger$V=new Logger$1(version$t);const defaultApiKey$4="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function getHost$1(e){switch(e){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return logger$V.throwArgumentError("unsupported network","name",e)}class AnkrProvider$1 extends UrlJsonRpcProvider$1{isCommunityResource(){return this.apiKey===defaultApiKey$4}static getApiKey(e){if(e==null){return defaultApiKey$4}return e}static getUrl(e,t){if(t==null){t=defaultApiKey$4}const r={allowGzip:true,url:"https://"+getHost$1(e.name)+t,throttleCallback:(e,r)=>{if(t.apiKey===defaultApiKey$4){showThrottleMessage$1()}return Promise.resolve(true)}};if(t.projectSecret!=null){r.user="";r.password=t.projectSecret}return r}}var __awaiter$k=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$U=new Logger$1(version$t);class CloudflareProvider$1 extends UrlJsonRpcProvider$1{static getApiKey(e){if(e!=null){logger$U.throwArgumentError("apiKey not supported for cloudflare","apiKey",e)}return null}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="https://cloudflare-eth.com/";break;default:logger$U.throwArgumentError("unsupported network","network",arguments[0])}return r}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return __awaiter$k(this,void 0,void 0,(function*(){if(e==="getBlockNumber"){const e=yield r.perform.call(this,"getBlock",{blockTag:"latest"});return e.number}return r.perform.call(this,e,t)}))}}var __awaiter$j=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$T=new Logger$1(version$t);function getTransactionPostData$1(e){const t={};for(let r in e){if(e[r]==null){continue}let n=e[r];if(r==="type"&&n===0){continue}if({type:true,gasLimit:true,gasPrice:true,maxFeePerGs:true,maxPriorityFeePerGas:true,nonce:true,value:true}[r]){n=hexValue$1(hexlify$1(n))}else if(r==="accessList"){n="["+accessListify$1(n).map((e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`)).join(",")+"]"}else{n=hexlify$1(n)}t[r]=n}return t}function getResult$2(e){if(e.status==0&&(e.message==="No records found"||e.message==="No transactions found")){return e.result}if(e.status!=1||typeof e.message!=="string"||!e.message.match(/^OK/)){const t=new Error("invalid response");t.result=JSON.stringify(e);if((e.result||"").toLowerCase().indexOf("rate limit")>=0){t.throttleRetry=true}throw t}return e.result}function getJsonResult$1(e){if(e&&e.status==0&&e.message=="NOTOK"&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){const t=new Error("throttled response");t.result=JSON.stringify(e);t.throttleRetry=true;throw t}if(e.jsonrpc!="2.0"){const t=new Error("invalid response");t.result=JSON.stringify(e);throw t}if(e.error){const t=new Error(e.error.message||"unknown error");if(e.error.code){t.code=e.error.code}if(e.error.data){t.data=e.error.data}throw t}return e.result}function checkLogTag$1(e){if(e==="pending"){throw new Error("pending not supported")}if(e==="latest"){return e}return parseInt(e.substring(2),16)}function checkError$2(e,t,r){if(e==="call"&&t.code===Logger$1.errors.SERVER_ERROR){const e=t.error;if(e&&(e.message.match(/reverted/i)||e.message.match(/VM execution error/i))){let r=e.data;if(r){r="0x"+r.replace(/^.*0x/i,"")}if(isHexString$1(r)){return r}logger$T.throwError("missing revert data in call exception",Logger$1.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let n=t.message;if(t.code===Logger$1.errors.SERVER_ERROR){if(t.error&&typeof t.error.message==="string"){n=t.error.message}else if(typeof t.body==="string"){n=t.body}else if(typeof t.responseText==="string"){n=t.responseText}}n=(n||"").toLowerCase();if(n.match(/insufficient funds/)){logger$T.throwError("insufficient funds for intrinsic transaction cost",Logger$1.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r})}if(n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)){logger$T.throwError("nonce has already been used",Logger$1.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r})}if(n.match(/another transaction with same nonce/)){logger$T.throwError("replacement fee too low",Logger$1.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r})}if(n.match(/execution failed due to an exception|execution reverted/)){logger$T.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger$1.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r})}throw t}class EtherscanProvider$1 extends BaseProvider$1{constructor(e,t){super(e);defineReadOnly$1(this,"baseUrl",this.getBaseUrl());defineReadOnly$1(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return logger$T.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const r=Object.keys(t).reduce(((e,r)=>{const n=t[r];if(n!=null){e+=`&${r}=${n}`}return e}),"");const n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${n}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){t.module=e;t.apikey=this.apiKey;return t}fetch(e,t,r){return __awaiter$j(this,void 0,void 0,(function*(){const n=r?this.getPostUrl():this.getUrl(e,t);const i=r?this.getPostData(e,t):null;const s=e==="proxy"?getJsonResult$1:getResult$2;this.emit("debug",{action:"request",request:n,provider:this});const f={url:n,throttleSlotInterval:1e3,throttleCallback:(e,t)=>{if(this.isCommunityResource()){showThrottleMessage$1()}return Promise.resolve(true)}};let a=null;if(i){f.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"};a=Object.keys(i).map((e=>`${e}=${i[e]}`)).join("&")}const o=yield fetchJson$1(f,a,s||getJsonResult$1);this.emit("debug",{action:"response",request:n,response:deepCopy$1(o),provider:this});return o}))}detectNetwork(){return __awaiter$j(this,void 0,void 0,(function*(){return this.network}))}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return __awaiter$j(this,void 0,void 0,(function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},true).catch((e=>checkError$2("sendTransaction",e,t.signedTransaction)));case"getBlock":if(t.blockTag){return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"})}throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if(t.blockTag!=="latest"){throw new Error("EtherscanProvider does not support blockTag for call")}const e=getTransactionPostData$1(t.transaction);e.module="proxy";e.action="eth_call";try{return yield this.fetch("proxy",e,true)}catch(e){return checkError$2("call",e,t.transaction)}}case"estimateGas":{const e=getTransactionPostData$1(t.transaction);e.module="proxy";e.action="eth_estimateGas";try{return yield this.fetch("proxy",e,true)}catch(e){return checkError$2("estimateGas",e,t.transaction)}}case"getLogs":{const e={action:"getLogs"};if(t.filter.fromBlock){e.fromBlock=checkLogTag$1(t.filter.fromBlock)}if(t.filter.toBlock){e.toBlock=checkLogTag$1(t.filter.toBlock)}if(t.filter.address){e.address=t.filter.address}if(t.filter.topics&&t.filter.topics.length>0){if(t.filter.topics.length>1){logger$T.throwError("unsupported topic count",Logger$1.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics})}if(t.filter.topics.length===1){const r=t.filter.topics[0];if(typeof r!=="string"||r.length!==66){logger$T.throwError("unsupported topic format",Logger$1.errors.UNSUPPORTED_OPERATION,{topic0:r})}e.topic0=r}}const r=yield this.fetch("logs",e);let n={};for(let e=0;e<r.length;e++){const t=r[e];if(t.blockHash!=null){continue}if(n[t.blockNumber]==null){const e=yield this.getBlock(t.blockNumber);if(e){n[t.blockNumber]=e.hash}}t.blockHash=n[t.blockNumber]}return r}case"getEtherPrice":if(this.network.name!=="homestead"){return 0}return parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,t)}))}getHistory(e,t,r){return __awaiter$j(this,void 0,void 0,(function*(){const n={action:"txlist",address:yield this.resolveName(e),startblock:t==null?0:t,endblock:r==null?99999999:r,sort:"asc"};const i=yield this.fetch("account",n);return i.map((e=>{["contractAddress","to"].forEach((function(t){if(e[t]==""){delete e[t]}}));if(e.creates==null&&e.contractAddress!=null){e.creates=e.contractAddress}const t=this.formatter.transactionResponse(e);if(e.timeStamp){t.timestamp=parseInt(e.timeStamp)}return t}))}))}isCommunityResource(){return this.apiKey==null}}var __awaiter$i=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$S=new Logger$1(version$t);function now$1(){return(new Date).getTime()}function checkNetworks$1(e){let t=null;for(let r=0;r<e.length;r++){const n=e[r];if(n==null){return null}if(t){if(!(t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||t.ensAddress==null&&n.ensAddress==null))){logger$S.throwArgumentError("provider mismatch","networks",e)}}else{t=n}}return t}function median$1(e,t){e=e.slice().sort();const r=Math.floor(e.length/2);if(e.length%2){return e[r]}const n=e[r-1],i=e[r];if(t!=null&&Math.abs(n-i)>t){return null}return(n+i)/2}function serialize$4(e){if(e===null){return"null"}else if(typeof e==="number"||typeof e==="boolean"){return JSON.stringify(e)}else if(typeof e==="string"){return e}else if(BigNumber$2.isBigNumber(e)){return e.toString()}else if(Array.isArray(e)){return JSON.stringify(e.map((e=>serialize$4(e))))}else if(typeof e==="object"){const t=Object.keys(e);t.sort();return"{"+t.map((t=>{let r=e[t];if(typeof r==="function"){r="[function]"}else{r=serialize$4(r)}return JSON.stringify(t)+":"+r})).join(",")+"}"}throw new Error("unknown value type: "+typeof e)}let nextRid$1=1;function stall$2(e){let t=null;let r=null;let n=new Promise((n=>{t=function(){if(r){clearTimeout(r);r=null}n()};r=setTimeout(t,e)}));const i=e=>{n=n.then(e);return n};function s(){return n}return{cancel:t,getPromise:s,wait:i}}const ForwardErrors$1=[Logger$1.errors.CALL_EXCEPTION,Logger$1.errors.INSUFFICIENT_FUNDS,Logger$1.errors.NONCE_EXPIRED,Logger$1.errors.REPLACEMENT_UNDERPRICED,Logger$1.errors.UNPREDICTABLE_GAS_LIMIT];const ForwardProperties$1=["address","args","errorArgs","errorSignature","method","transaction"];function exposeDebugConfig$1(e,t){const r={weight:e.weight};Object.defineProperty(r,"provider",{get:()=>e.provider});if(e.start){r.start=e.start}if(t){r.duration=t-e.start}if(e.done){if(e.error){r.error=e.error}else{r.result=e.result||null}}return r}function normalizedTally$1(e,t){return function(r){const n={};r.forEach((t=>{const r=e(t.result);if(!n[r]){n[r]={count:0,result:t.result}}n[r].count++}));const i=Object.keys(n);for(let e=0;e<i.length;e++){const r=n[i[e]];if(r.count>=t){return r.result}}return undefined}}function getProcessFunc$1(e,t,r){let n=serialize$4;switch(t){case"getBlockNumber":return function(t){const r=t.map((e=>e.result));let n=median$1(t.map((e=>e.result)),2);if(n==null){return undefined}n=Math.ceil(n);if(r.indexOf(n+1)>=0){n++}if(n>=e._highestBlockNumber){e._highestBlockNumber=n}return e._highestBlockNumber};case"getGasPrice":return function(e){const t=e.map((e=>e.result));t.sort();return t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return median$1(e.map((e=>e.result)))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){if(e==null){return null}e=shallowCopy$1(e);e.confirmations=-1;return serialize$4(e)};break;case"getBlock":if(r.includeTransactions){n=function(e){if(e==null){return null}e=shallowCopy$1(e);e.transactions=e.transactions.map((e=>{e=shallowCopy$1(e);e.confirmations=-1;return e}));return serialize$4(e)}}else{n=function(e){if(e==null){return null}return serialize$4(e)}}break;default:throw new Error("unknown method: "+t)}return normalizedTally$1(n,e.quorum)}function waitForSync$1(e,t){return __awaiter$i(this,void 0,void 0,(function*(){const r=e.provider;if(r.blockNumber!=null&&r.blockNumber>=t||t===-1){return r}return poll$1((()=>new Promise(((n,i)=>{setTimeout((function(){if(r.blockNumber>=t){return n(r)}if(e.cancelled){return n(null)}return n(undefined)}),0)}))),{oncePoll:r})}))}function getRunner$1(e,t,r,n){return __awaiter$i(this,void 0,void 0,(function*(){let i=e.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice){return i.getEtherPrice()}break;case"getBalance":case"getTransactionCount":case"getCode":if(n.blockTag&&isHexString$1(n.blockTag)){i=yield waitForSync$1(e,t)}return i[r](n.address,n.blockTag||"latest");case"getStorageAt":if(n.blockTag&&isHexString$1(n.blockTag)){i=yield waitForSync$1(e,t)}return i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":if(n.blockTag&&isHexString$1(n.blockTag)){i=yield waitForSync$1(e,t)}return i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":if(n.blockTag&&isHexString$1(n.blockTag)){i=yield waitForSync$1(e,t)}if(r==="call"&&n.blockTag){return i[r](n.transaction,n.blockTag)}return i[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](n.transactionHash);case"getLogs":{let r=n.filter;if(r.fromBlock&&isHexString$1(r.fromBlock)||r.toBlock&&isHexString$1(r.toBlock)){i=yield waitForSync$1(e,t)}return i.getLogs(r)}}return logger$S.throwError("unknown method error",Logger$1.errors.UNKNOWN_ERROR,{method:r,params:n})}))}class FallbackProvider$1 extends BaseProvider$1{constructor(e,t){if(e.length===0){logger$S.throwArgumentError("missing providers","providers",e)}const r=e.map(((e,t)=>{if(Provider$1.isProvider(e)){const t=isCommunityResource$1(e)?2e3:750;const r=1;return Object.freeze({provider:e,weight:1,stallTimeout:t,priority:r})}const r=shallowCopy$1(e);if(r.priority==null){r.priority=1}if(r.stallTimeout==null){r.stallTimeout=isCommunityResource$1(e)?2e3:750}if(r.weight==null){r.weight=1}const n=r.weight;if(n%1||n>512||n<1){logger$S.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${t}].weight`,n)}return Object.freeze(r)}));const n=r.reduce(((e,t)=>e+t.weight),0);if(t==null){t=n/2}else if(t>n){logger$S.throwArgumentError("quorum will always fail; larger than total weight","quorum",t)}let i=checkNetworks$1(r.map((e=>e.provider.network)));if(i==null){i=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then(e,t)}),0)}))}super(i);defineReadOnly$1(this,"providerConfigs",Object.freeze(r));defineReadOnly$1(this,"quorum",t);this._highestBlockNumber=-1}detectNetwork(){return __awaiter$i(this,void 0,void 0,(function*(){const e=yield Promise.all(this.providerConfigs.map((e=>e.provider.getNetwork())));return checkNetworks$1(e)}))}perform(e,t){return __awaiter$i(this,void 0,void 0,(function*(){if(e==="sendTransaction"){const e=yield Promise.all(this.providerConfigs.map((e=>e.provider.sendTransaction(t.signedTransaction).then((e=>e.hash),(e=>e)))));for(let t=0;t<e.length;t++){const r=e[t];if(typeof r==="string"){return r}}throw e[0]}if(this._highestBlockNumber===-1&&e!=="getBlockNumber"){yield this.getBlockNumber()}const r=getProcessFunc$1(this,e,t);const n=shuffled$1(this.providerConfigs.map(shallowCopy$1));n.sort(((e,t)=>e.priority-t.priority));const i=this._highestBlockNumber;let s=0;let f=true;while(true){const a=now$1();let o=n.filter((e=>e.runner&&a-e.start<e.stallTimeout)).reduce(((e,t)=>e+t.weight),0);while(o<this.quorum&&s<n.length){const r=n[s++];const f=nextRid$1++;r.start=now$1();r.staller=stall$2(r.stallTimeout);r.staller.wait((()=>{r.staller=null}));r.runner=getRunner$1(r,i,e,t).then((n=>{r.done=true;r.result=n;if(this.listenerCount("debug")){this.emit("debug",{action:"request",rid:f,backend:exposeDebugConfig$1(r,now$1()),request:{method:e,params:deepCopy$1(t)},provider:this})}}),(n=>{r.done=true;r.error=n;if(this.listenerCount("debug")){this.emit("debug",{action:"request",rid:f,backend:exposeDebugConfig$1(r,now$1()),request:{method:e,params:deepCopy$1(t)},provider:this})}}));if(this.listenerCount("debug")){this.emit("debug",{action:"request",rid:f,backend:exposeDebugConfig$1(r,null),request:{method:e,params:deepCopy$1(t)},provider:this})}o+=r.weight}const c=[];n.forEach((e=>{if(e.done||!e.runner){return}c.push(e.runner);if(e.staller){c.push(e.staller.getPromise())}}));if(c.length){yield Promise.race(c)}const u=n.filter((e=>e.done&&e.error==null));if(u.length>=this.quorum){const e=r(u);if(e!==undefined){n.forEach((e=>{if(e.staller){e.staller.cancel()}e.cancelled=true}));return e}if(!f){yield stall$2(100).getPromise()}f=false}const l=n.reduce(((e,t)=>{if(!t.done||t.error==null){return e}const r=t.error.code;if(ForwardErrors$1.indexOf(r)>=0){if(!e[r]){e[r]={error:t.error,weight:0}}e[r].weight+=t.weight}return e}),{});Object.keys(l).forEach((e=>{const t=l[e];if(t.weight<this.quorum){return}n.forEach((e=>{if(e.staller){e.staller.cancel()}e.cancelled=true}));const r=t.error;const i={};ForwardProperties$1.forEach((e=>{if(r[e]==null){return}i[e]=r[e]}));logger$S.throwError(r.reason||r.message,e,i)}));if(n.filter((e=>!e.done)).length===0){break}}n.forEach((e=>{if(e.staller){e.staller.cancel()}e.cancelled=true}));return logger$S.throwError("failed to meet quorum",Logger$1.errors.SERVER_ERROR,{method:e,params:t,results:n.map((e=>exposeDebugConfig$1(e))),provider:this})}))}}const IpcProvider$1=null;const logger$R=new Logger$1(version$t);const defaultProjectId$1="84842078b09946638c03157f83405213";class InfuraWebSocketProvider$1 extends WebSocketProvider$1{constructor(e,t){const r=new InfuraProvider$1(e,t);const n=r.connection;if(n.password){logger$R.throwError("INFURA WebSocket project secrets unsupported",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"})}const i=n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(i,e);defineReadOnly$1(this,"apiKey",r.projectId);defineReadOnly$1(this,"projectId",r.projectId);defineReadOnly$1(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===defaultProjectId$1}}class InfuraProvider$1 extends UrlJsonRpcProvider$1{static getWebSocketProvider(e,t){return new InfuraWebSocketProvider$1(e,t)}static getApiKey(e){const t={apiKey:defaultProjectId$1,projectId:defaultProjectId$1,projectSecret:null};if(e==null){return t}if(typeof e==="string"){t.projectId=e}else if(e.projectSecret!=null){logger$R.assertArgument(typeof e.projectId==="string","projectSecret requires a projectId","projectId",e.projectId);logger$R.assertArgument(typeof e.projectSecret==="string","invalid projectSecret","projectSecret","[REDACTED]");t.projectId=e.projectId;t.projectSecret=e.projectSecret}else if(e.projectId){t.projectId=e.projectId}t.apiKey=t.projectId;return t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"goerli":r="goerli.infura.io";break;case"sepolia":r="sepolia.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-goerli":r="optimism-goerli.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":r="arbitrum-goerli.infura.io";break;default:logger$R.throwError("unsupported network",Logger$1.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n={allowGzip:true,url:"https:/"+"/"+r+"/v3/"+t.projectId,throttleCallback:(e,r)=>{if(t.projectId===defaultProjectId$1){showThrottleMessage$1()}return Promise.resolve(true)}};if(t.projectSecret!=null){n.user="";n.password=t.projectSecret}return n}isCommunityResource(){return this.projectId===defaultProjectId$1}}class JsonRpcBatchProvider$1 extends JsonRpcProvider$1{send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};if(this._pendingBatch==null){this._pendingBatch=[]}const n={request:r,resolve:null,reject:null};const i=new Promise(((e,t)=>{n.resolve=e;n.reject=t}));this._pendingBatch.push(n);if(!this._pendingBatchAggregator){this._pendingBatchAggregator=setTimeout((()=>{const e=this._pendingBatch;this._pendingBatch=null;this._pendingBatchAggregator=null;const t=e.map((e=>e.request));this.emit("debug",{action:"requestBatch",request:deepCopy$1(t),provider:this});return fetchJson$1(this.connection,JSON.stringify(t)).then((r=>{this.emit("debug",{action:"response",request:t,response:r,provider:this});e.forEach(((e,t)=>{const n=r[t];if(n.error){const t=new Error(n.error.message);t.code=n.error.code;t.data=n.error.data;e.reject(t)}else{e.resolve(n.result)}}))}),(r=>{this.emit("debug",{action:"response",error:r,request:t,provider:this});e.forEach((e=>{e.reject(r)}))}))}),10)}return i}}const logger$Q=new Logger$1(version$t);const defaultApiKey$3="ETHERS_JS_SHARED";class NodesmithProvider$1 extends UrlJsonRpcProvider$1{static getApiKey(e){if(e&&typeof e!=="string"){logger$Q.throwArgumentError("invalid apiKey","apiKey",e)}return e||defaultApiKey$3}static getUrl(e,t){logger$Q.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:logger$Q.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}const logger$P=new Logger$1(version$t);const defaultApplicationId$1="62e1ad51b37b8e00394bda3b";class PocketProvider$1 extends UrlJsonRpcProvider$1{static getApiKey(e){const t={applicationId:null,loadBalancer:true,applicationSecretKey:null};if(e==null){t.applicationId=defaultApplicationId$1}else if(typeof e==="string"){t.applicationId=e}else if(e.applicationSecretKey!=null){t.applicationId=e.applicationId;t.applicationSecretKey=e.applicationSecretKey}else if(e.applicationId){t.applicationId=e.applicationId}else{logger$P.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e)}return t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:logger$P.throwError("unsupported network",Logger$1.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n=`https://${r}/v1/lb/${t.applicationId}`;const i={headers:{},url:n};if(t.applicationSecretKey!=null){i.user="";i.password=t.applicationSecretKey}return i}isCommunityResource(){return this.applicationId===defaultApplicationId$1}}const logger$O=new Logger$1(version$t);let _nextId$1=1;function buildWeb3LegacyFetcher$1(e,t){const r="Web3LegacyFetcher";return function(e,n){const i={method:e,params:n,id:_nextId$1++,jsonrpc:"2.0"};return new Promise(((e,n)=>{this.emit("debug",{action:"request",fetcher:r,request:deepCopy$1(i),provider:this});t(i,((t,s)=>{if(t){this.emit("debug",{action:"response",fetcher:r,error:t,request:i,provider:this});return n(t)}this.emit("debug",{action:"response",fetcher:r,request:i,response:s,provider:this});if(s.error){const e=new Error(s.error.message);e.code=s.error.code;e.data=s.error.data;return n(e)}e(s.result)}))}))}}function buildEip1193Fetcher$1(e){return function(t,r){if(r==null){r=[]}const n={method:t,params:r};this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:deepCopy$1(n),provider:this});return e.request(n).then((e=>{this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:e,provider:this});return e}),(e=>{this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:e,provider:this});throw e}))}}class Web3Provider$1 extends JsonRpcProvider$1{constructor(e,t){if(e==null){logger$O.throwArgumentError("missing provider","provider",e)}let r=null;let n=null;let i=null;if(typeof e==="function"){r="unknown:";n=e}else{r=e.host||e.path||"";if(!r&&e.isMetaMask){r="metamask"}i=e;if(e.request){if(r===""){r="eip-1193:"}n=buildEip1193Fetcher$1(e)}else if(e.sendAsync){n=buildWeb3LegacyFetcher$1(e,e.sendAsync.bind(e))}else if(e.send){n=buildWeb3LegacyFetcher$1(e,e.send.bind(e))}else{logger$O.throwArgumentError("unsupported provider","provider",e)}if(!r){r="unknown:"}}super(r,t);defineReadOnly$1(this,"jsonRpcFetchFunc",n);defineReadOnly$1(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const logger$N=new Logger$1(version$t);function getDefaultProvider$1(e,t){if(e==null){e="homestead"}if(typeof e==="string"){const t=e.match(/^(ws|http)s?:/i);if(t){switch(t[1].toLowerCase()){case"http":case"https":return new JsonRpcProvider$1(e);case"ws":case"wss":return new WebSocketProvider$1(e);default:logger$N.throwArgumentError("unsupported URL scheme","network",e)}}}const r=getNetwork$1(e);if(!r||!r._defaultProvider){logger$N.throwError("unsupported getDefaultProvider network",Logger$1.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e})}return r._defaultProvider({FallbackProvider:FallbackProvider$1,AlchemyProvider:AlchemyProvider$1,AnkrProvider:AnkrProvider$1,CloudflareProvider:CloudflareProvider$1,EtherscanProvider:EtherscanProvider$1,InfuraProvider:InfuraProvider$1,JsonRpcProvider:JsonRpcProvider$1,NodesmithProvider:NodesmithProvider$1,PocketProvider:PocketProvider$1,Web3Provider:Web3Provider$1,IpcProvider:IpcProvider$1},t)}const index$4=Object.freeze({__proto__:null,Provider:Provider$1,BaseProvider:BaseProvider$1,Resolver:Resolver$1,UrlJsonRpcProvider:UrlJsonRpcProvider$1,FallbackProvider:FallbackProvider$1,AlchemyProvider:AlchemyProvider$1,AlchemyWebSocketProvider:AlchemyWebSocketProvider$1,AnkrProvider:AnkrProvider$1,CloudflareProvider:CloudflareProvider$1,EtherscanProvider:EtherscanProvider$1,InfuraProvider:InfuraProvider$1,InfuraWebSocketProvider:InfuraWebSocketProvider$1,JsonRpcProvider:JsonRpcProvider$1,JsonRpcBatchProvider:JsonRpcBatchProvider$1,NodesmithProvider:NodesmithProvider$1,PocketProvider:PocketProvider$1,StaticJsonRpcProvider:StaticJsonRpcProvider$1,Web3Provider:Web3Provider$1,WebSocketProvider:WebSocketProvider$1,IpcProvider:IpcProvider$1,JsonRpcSigner:JsonRpcSigner$1,getDefaultProvider:getDefaultProvider$1,getNetwork:getNetwork$1,isCommunityResource:isCommunityResource$1,isCommunityResourcable:isCommunityResourcable$1,showThrottleMessage:showThrottleMessage$1,Formatter:Formatter$1});const version$s="solidity/5.7.0";const regexBytes$1=new RegExp("^bytes([0-9]+)$");const regexNumber$1=new RegExp("^(u?int)([0-9]*)$");const regexArray$1=new RegExp("^(.*)\\[([0-9]*)\\]$");const Zeros$2="0000000000000000000000000000000000000000000000000000000000000000";const logger$M=new Logger$1(version$s);function _pack$1(e,t,r){switch(e){case"address":if(r){return zeroPad$1(t,32)}return arrayify$2(t);case"string":return toUtf8Bytes$1(t);case"bytes":return arrayify$2(t);case"bool":t=t?"0x01":"0x00";if(r){return zeroPad$1(t,32)}return arrayify$2(t)}let n=e.match(regexNumber$1);if(n){let i=parseInt(n[2]||"256");if(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256){logger$M.throwArgumentError("invalid number type","type",e)}if(r){i=256}t=BigNumber$2.from(t).toTwos(i);return zeroPad$1(t,i/8)}n=e.match(regexBytes$1);if(n){const i=parseInt(n[1]);if(String(i)!==n[1]||i===0||i>32){logger$M.throwArgumentError("invalid bytes type","type",e)}if(arrayify$2(t).byteLength!==i){logger$M.throwArgumentError(`invalid value for ${e}`,"value",t)}if(r){return arrayify$2((t+Zeros$2).substring(0,66))}return t}n=e.match(regexArray$1);if(n&&Array.isArray(t)){const r=n[1];const i=parseInt(n[2]||String(t.length));if(i!=t.length){logger$M.throwArgumentError(`invalid array length for ${e}`,"value",t)}const s=[];t.forEach((function(e){s.push(_pack$1(r,e,true))}));return concat$5(s)}return logger$M.throwArgumentError("invalid type","type",e)}function pack$2(e,t){if(e.length!=t.length){logger$M.throwArgumentError("wrong number of values; expected ${ types.length }","values",t)}const r=[];e.forEach((function(e,n){r.push(_pack$1(e,t[n]))}));return hexlify$1(concat$5(r))}function keccak256$2(e,t){return keccak256$3(pack$2(e,t))}function sha256$3(e,t){return sha256$4(pack$2(e,t))}const lib_esm$2=Object.freeze({__proto__:null,pack:pack$2,keccak256:keccak256$2,sha256:sha256$3});const version$r="units/5.7.0";const logger$L=new Logger$1(version$r);const names$5=["wei","kwei","mwei","gwei","szabo","finney","ether"];function commify$1(e){const t=String(e).split(".");if(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||e==="."||e==="-."){logger$L.throwArgumentError("invalid value","value",e)}let r=t[0];let n="";if(r.substring(0,1)==="-"){n="-";r=r.substring(1)}while(r.substring(0,1)==="0"){r=r.substring(1)}if(r===""){r="0"}let i="";if(t.length===2){i="."+(t[1]||"0")}while(i.length>2&&i[i.length-1]==="0"){i=i.substring(0,i.length-1)}const s=[];while(r.length){if(r.length<=3){s.unshift(r);break}else{const e=r.length-3;s.unshift(r.substring(e));r=r.substring(0,e)}}return n+s.join(",")+i}function formatUnits$1(e,t){if(typeof t==="string"){const e=names$5.indexOf(t);if(e!==-1){t=3*e}}return formatFixed$1(e,t!=null?t:18)}function parseUnits$1(e,t){if(typeof e!=="string"){logger$L.throwArgumentError("value must be a string","value",e)}if(typeof t==="string"){const e=names$5.indexOf(t);if(e!==-1){t=3*e}}return parseFixed$1(e,t!=null?t:18)}function formatEther$1(e){return formatUnits$1(e,18)}function parseEther$1(e){return parseUnits$1(e,18)}const lib_esm$1=Object.freeze({__proto__:null,commify:commify$1,formatUnits:formatUnits$1,parseUnits:parseUnits$1,formatEther:formatEther$1,parseEther:parseEther$1});const utils$7=Object.freeze({__proto__:null,AbiCoder:AbiCoder$1,defaultAbiCoder:defaultAbiCoder$1,Fragment:Fragment$1,ConstructorFragment:ConstructorFragment$1,ErrorFragment:ErrorFragment$1,EventFragment:EventFragment$1,FunctionFragment:FunctionFragment$1,ParamType:ParamType$1,FormatTypes:FormatTypes$1,checkResultErrors:checkResultErrors$1,Logger:Logger$1,RLP:lib_esm$h,_fetchData:_fetchData$1,fetchJson:fetchJson$1,poll:poll$1,checkProperties:checkProperties$1,deepCopy:deepCopy$1,defineReadOnly:defineReadOnly$1,getStatic:getStatic$1,resolveProperties:resolveProperties$1,shallowCopy:shallowCopy$1,arrayify:arrayify$2,concat:concat$5,stripZeros:stripZeros$1,zeroPad:zeroPad$1,isBytes:isBytes$1,isBytesLike:isBytesLike$1,defaultPath:defaultPath$1,HDNode:HDNode$1,SigningKey:SigningKey$1,Interface:Interface$1,LogDescription:LogDescription$1,TransactionDescription:TransactionDescription$1,base58:Base58$1,base64:lib_esm$e,hexlify:hexlify$1,isHexString:isHexString$1,hexConcat:hexConcat$1,hexStripZeros:hexStripZeros$1,hexValue:hexValue$1,hexZeroPad:hexZeroPad$1,hexDataLength:hexDataLength$1,hexDataSlice:hexDataSlice$1,nameprep:nameprep$1,_toEscapedUtf8String:_toEscapedUtf8String$1,toUtf8Bytes:toUtf8Bytes$1,toUtf8CodePoints:toUtf8CodePoints$1,toUtf8String:toUtf8String$1,Utf8ErrorFuncs:Utf8ErrorFuncs$1,formatBytes32String:formatBytes32String$1,parseBytes32String:parseBytes32String$1,dnsEncode:dnsEncode$1,hashMessage:hashMessage$1,namehash:namehash$1,isValidName:isValidName$1,id:id$1,_TypedDataEncoder:TypedDataEncoder$1,getAddress:getAddress$1,getIcapAddress:getIcapAddress$1,getContractAddress:getContractAddress$1,getCreate2Address:getCreate2Address$1,isAddress:isAddress$1,formatEther:formatEther$1,parseEther:parseEther$1,formatUnits:formatUnits$1,parseUnits:parseUnits$1,commify:commify$1,computeHmac:computeHmac$1,keccak256:keccak256$3,ripemd160:ripemd160$2,sha256:sha256$4,sha512:sha512$2,randomBytes:randomBytes$1,shuffled:shuffled$1,solidityPack:pack$2,solidityKeccak256:keccak256$2,soliditySha256:sha256$3,splitSignature:splitSignature$1,joinSignature:joinSignature$1,accessListify:accessListify$1,parseTransaction:parse$1,serializeTransaction:serialize$5,get TransactionTypes(){return TransactionTypes$1},getJsonWalletAddress:getJsonWalletAddress$1,computeAddress:computeAddress$1,recoverAddress:recoverAddress$1,computePublicKey:computePublicKey$1,recoverPublicKey:recoverPublicKey$1,verifyMessage:verifyMessage$1,verifyTypedData:verifyTypedData$1,getAccountPath:getAccountPath$1,mnemonicToEntropy:mnemonicToEntropy$1,entropyToMnemonic:entropyToMnemonic$1,isValidMnemonic:isValidMnemonic$1,mnemonicToSeed:mnemonicToSeed$1,get SupportedAlgorithm(){return SupportedAlgorithm$1},get UnicodeNormalizationForm(){return UnicodeNormalizationForm$1},get Utf8ErrorReason(){return Utf8ErrorReason$1},Indexed:Indexed$1});const version$q="ethers/5.7.2";const logger$K=new Logger$1(version$q);const ethers$1=Object.freeze({__proto__:null,Signer:Signer$1,Wallet:Wallet$1,VoidSigner:VoidSigner$1,getDefaultProvider:getDefaultProvider$1,providers:index$4,BaseContract:BaseContract$1,Contract:Contract$2,ContractFactory:ContractFactory$1,BigNumber:BigNumber$2,FixedNumber:FixedNumber$1,constants:index$5,get errors(){return ErrorCode$1},logger:logger$K,utils:utils$7,wordlists:wordlists$1,version:version$q,Wordlist:Wordlist$1});try{const e=window;if(e._ethers==null){e._ethers=ethers$1}}catch(e){}const lib_esm=Object.freeze({__proto__:null,ethers:ethers$1,Signer:Signer$1,Wallet:Wallet$1,VoidSigner:VoidSigner$1,getDefaultProvider:getDefaultProvider$1,providers:index$4,BaseContract:BaseContract$1,Contract:Contract$2,ContractFactory:ContractFactory$1,BigNumber:BigNumber$2,FixedNumber:FixedNumber$1,constants:index$5,get errors(){return ErrorCode$1},logger:logger$K,utils:utils$7,wordlists:wordlists$1,version:version$q,Wordlist:Wordlist$1});class EthUtils{static encodeTransactionParameter(e,t){switch(e){case"bool":if(typeof t!=="boolean")t=Boolean(t);return t;case"string":case"address":return t}if(EthUtils.isIntType(e)){if(typeof t==="string"){t=BigInt(t)}return t}if(e.indexOf("byte")===0){if(t&&(typeof t!=="string"||t.indexOf("0x")!==0))t=hexlify$1(t);return t}throw new Error("Ethereum argument encoding for type "+e+" is not defined")}static isIntType(e){const t=e.indexOf("int");return t===0||t===1}static tokenScriptOutputToEthers(e){switch(e){case"utf8":return"string"}return e}}class AbstractDependencyBranch{constructor(e,t){this.tokenScript=e;this.localAttrContext=t}async getValue(e){switch(this.ref){case"tokenId":if(!e)throw new Error("tokenId reference cannot be resolved as no token context is set.");if(e.selectedTokenId){const t=e.selectedTokenId;return BigInt(t)}else{throw new Error("tokenId reference is not accessible under the context of a fungible token")}case"ownerAddress":const t=await this.tokenScript.getEngine().getWalletAdapter();return await t.getCurrentWalletAddress();default:return await this.resolveValue(e)}}invalidateDependencies(e){if(!this.isStaticAttribute())return false;if(this.isSpecialRef()){return e.indexOf(this.ref)>-1}try{const t=this.getBackingAttribute();return t.invalidate(e)}catch(t){return e.indexOf(this.localRef)>-1}}isDependentOn(e){if(!this.isStaticAttribute())return false;if(this.isSpecialRef()){return e.indexOf(this.ref)>-1}try{const t=this.getBackingAttribute();return t.isDependentOn(e)}catch(t){return e.indexOf(this.localRef)>-1}}isStaticAttribute(){return!(!this.ref&&!this.localRef)}getBackingAttribute(){let e;if(this.localRef){if(!this.localAttrContext)throw new Error("Local ref cannot be resolve since this attribute is from the global attribute scope. ");e=this.localAttrContext.getAttribute(this.localRef)}else{if(this.localAttrContext&&this.localAttrContext.hasAttribute(this.ref)){e=this.localAttrContext.getAttribute(this.ref)}else{e=this.tokenScript.getAttributes().getAttribute(this.ref)}}return e}isSpecialRef(){return["tokenId","ownerAddress"].indexOf(this.ref)>-1}}class Argument extends AbstractDependencyBranch{constructor(e,t,r,n){super(e,n);this.type=r?r:t.tagName.split(":")[1];this.content=t.textContent;this.ref=t.getAttribute("ref");this.localRef=t.getAttribute("local-ref")}async resolveValue(e){let t;if(this.ref||this.localRef){let r;try{r=this.getBackingAttribute()}catch(e){t=this.tokenScript.getViewController().getUserEntryValue(this.localRef);if(!t){throw e}}if(r)t=await r.getValue(true,false,e)}else{t=this.content}return EthUtils.encodeTransactionParameter(this.type,t)}}class Arguments{constructor(e,t,r){this.tokenScript=e;this.parentElem=t;this.localAttrContext=r}getArguments(){if(!this.arguments){this.arguments=[];const e=this.parentElem.getElementsByTagName("ts:data");if(e.length===0)return[];const t=e[0].children;if(t.length===0)return[];for(let e in t){if(!t.hasOwnProperty(e))continue;const r=t[e];this.arguments.push(new Argument(this.tokenScript,r,null,this.localAttrContext))}}return this.arguments}[Symbol.iterator](){return this.getArguments().values()}}class Transaction$1{constructor(e,t,r){this.tokenScript=e;this.transactionDef=t;this.localAttrContext=r;const n=t.getElementsByTagName("ethereum:transaction");if(!n){return}const i=n[0].getAttribute("contract");let s=EthUtils.tokenScriptOutputToEthers(n[0].getAttribute("as"));this.transaction={as:s,contract:this.tokenScript.getContractByName(i),contractName:i,function:n[0].getAttribute("function"),args:new Arguments(this.tokenScript,n[0],this.localAttrContext).getArguments(),value:this.getValueArg(n[0])}}getValueArg(e){const t=e.getElementsByTagName("ethereum:value");if(t.length===0)return null;return new Argument(this.tokenScript,t[0],"uint256",this.localAttrContext)}getTransactionInfo(){return this.transaction}}var bignumber=createCommonjsModule$2((function(e){(function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,f="[BigNumber Error] ",a=f+"Number primitive has more than 15 significant digits: ",o=1e14,c=14,u=9007199254740991,l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,d=1e9;function p(e){var t,r,$,_=O.prototype={constructor:O,toString:null,valueOf:null},E=new O(1),S=20,T=4,C=-7,P=21,x=-1e7,I=1e7,k=false,M=1,B=0,R={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},N="0123456789abcdefghijklmnopqrstuvwxyz",D=true;function O(e,t){var i,f,o,l,h,d,p,y,b=this;if(!(b instanceof O))return new O(e,t);if(t==null){if(e&&e._isBigNumber===true){b.s=e.s;if(!e.c||e.e>I){b.c=b.e=null}else if(e.e<x){b.c=[b.e=0]}else{b.e=e.e;b.c=e.c.slice()}return}if((d=typeof e=="number")&&e*0==0){b.s=1/e<0?(e=-e,-1):1;if(e===~~e){for(l=0,h=e;h>=10;h/=10,l++);if(l>I){b.c=b.e=null}else{b.e=l;b.c=[e]}return}y=String(e)}else{if(!n.test(y=String(e)))return $(b,y,d);b.s=y.charCodeAt(0)==45?(y=y.slice(1),-1):1}if((l=y.indexOf("."))>-1)y=y.replace(".","");if((h=y.search(/e/i))>0){if(l<0)l=h;l+=+y.slice(h+1);y=y.substring(0,h)}else if(l<0){l=y.length}}else{g(t,2,N.length,"Base");if(t==10&&D){b=new O(e);return j(b,S+b.e+1,T)}y=String(e);if(d=typeof e=="number"){if(e*0!=0)return $(b,y,d,t);b.s=1/e<0?(y=y.slice(1),-1):1;if(O.DEBUG&&y.replace(/^0\.0*|\./,"").length>15){throw Error(a+e)}}else{b.s=y.charCodeAt(0)===45?(y=y.slice(1),-1):1}i=N.slice(0,t);l=h=0;for(p=y.length;h<p;h++){if(i.indexOf(f=y.charAt(h))<0){if(f=="."){if(h>l){l=p;continue}}else if(!o){if(y==y.toUpperCase()&&(y=y.toLowerCase())||y==y.toLowerCase()&&(y=y.toUpperCase())){o=true;h=-1;l=0;continue}}return $(b,String(e),d,t)}}d=false;y=r(y,t,10,b.s);if((l=y.indexOf("."))>-1)y=y.replace(".","");else l=y.length}for(h=0;y.charCodeAt(h)===48;h++);for(p=y.length;y.charCodeAt(--p)===48;);if(y=y.slice(h,++p)){p-=h;if(d&&O.DEBUG&&p>15&&(e>u||e!==s(e))){throw Error(a+b.s*e)}if((l=l-h-1)>I){b.c=b.e=null}else if(l<x){b.c=[b.e=0]}else{b.e=l;b.c=[];h=(l+1)%c;if(l<0)h+=c;if(h<p){if(h)b.c.push(+y.slice(0,h));for(p-=c;h<p;){b.c.push(+y.slice(h,h+=c))}h=c-(y=y.slice(h)).length}else{h-=p}for(;h--;y+="0");b.c.push(+y)}}else{b.c=[b.e=0]}}O.clone=p;O.ROUND_UP=0;O.ROUND_DOWN=1;O.ROUND_CEIL=2;O.ROUND_FLOOR=3;O.ROUND_HALF_UP=4;O.ROUND_HALF_DOWN=5;O.ROUND_HALF_EVEN=6;O.ROUND_HALF_CEIL=7;O.ROUND_HALF_FLOOR=8;O.EUCLID=9;O.config=O.set=function(e){var t,r;if(e!=null){if(typeof e=="object"){if(e.hasOwnProperty(t="DECIMAL_PLACES")){r=e[t];g(r,0,d,t);S=r}if(e.hasOwnProperty(t="ROUNDING_MODE")){r=e[t];g(r,0,8,t);T=r}if(e.hasOwnProperty(t="EXPONENTIAL_AT")){r=e[t];if(r&&r.pop){g(r[0],-d,0,t);g(r[1],0,d,t);C=r[0];P=r[1]}else{g(r,-d,d,t);C=-(P=r<0?-r:r)}}if(e.hasOwnProperty(t="RANGE")){r=e[t];if(r&&r.pop){g(r[0],-d,-1,t);g(r[1],1,d,t);x=r[0];I=r[1]}else{g(r,-d,d,t);if(r){x=-(I=r<0?-r:r)}else{throw Error(f+t+" cannot be zero: "+r)}}}if(e.hasOwnProperty(t="CRYPTO")){r=e[t];if(r===!!r){if(r){if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)){k=r}else{k=!r;throw Error(f+"crypto unavailable")}}else{k=r}}else{throw Error(f+t+" not true or false: "+r)}}if(e.hasOwnProperty(t="MODULO_MODE")){r=e[t];g(r,0,9,t);M=r}if(e.hasOwnProperty(t="POW_PRECISION")){r=e[t];g(r,0,d,t);B=r}if(e.hasOwnProperty(t="FORMAT")){r=e[t];if(typeof r=="object")R=r;else throw Error(f+t+" not an object: "+r)}if(e.hasOwnProperty(t="ALPHABET")){r=e[t];if(typeof r=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(r)){D=r.slice(0,10)=="0123456789";N=r}else{throw Error(f+t+" invalid: "+r)}}}else{throw Error(f+"Object expected: "+e)}}return{DECIMAL_PLACES:S,ROUNDING_MODE:T,EXPONENTIAL_AT:[C,P],RANGE:[x,I],CRYPTO:k,MODULO_MODE:M,POW_PRECISION:B,FORMAT:R,ALPHABET:N}};O.isBigNumber=function(e){if(!e||e._isBigNumber!==true)return false;if(!O.DEBUG)return true;var t,r,n=e.c,i=e.e,a=e.s;e:if({}.toString.call(n)=="[object Array]"){if((a===1||a===-1)&&i>=-d&&i<=d&&i===s(i)){if(n[0]===0){if(i===0&&n.length===1)return true;break e}t=(i+1)%c;if(t<1)t+=c;if(String(n[0]).length==t){for(t=0;t<n.length;t++){r=n[t];if(r<0||r>=o||r!==s(r))break e}if(r!==0)return true}}}else if(n===null&&i===null&&(a===null||a===1||a===-1)){return true}throw Error(f+"Invalid BigNumber: "+e)};O.maximum=O.max=function(){return F(arguments,_.lt)};O.minimum=O.min=function(){return F(arguments,_.gt)};O.random=function(){var e=9007199254740992;var t=Math.random()*e&2097151?function(){return s(Math.random()*e)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(e){var r,n,a,o,u,h=0,p=[],y=new O(E);if(e==null)e=S;else g(e,0,d);o=i(e/c);if(k){if(crypto.getRandomValues){r=crypto.getRandomValues(new Uint32Array(o*=2));for(;h<o;){u=r[h]*131072+(r[h+1]>>>11);if(u>=9e15){n=crypto.getRandomValues(new Uint32Array(2));r[h]=n[0];r[h+1]=n[1]}else{p.push(u%1e14);h+=2}}h=o/2}else if(crypto.randomBytes){r=crypto.randomBytes(o*=7);for(;h<o;){u=(r[h]&31)*281474976710656+r[h+1]*1099511627776+r[h+2]*4294967296+r[h+3]*16777216+(r[h+4]<<16)+(r[h+5]<<8)+r[h+6];if(u>=9e15){crypto.randomBytes(7).copy(r,h)}else{p.push(u%1e14);h+=7}}h=o/7}else{k=false;throw Error(f+"crypto unavailable")}}if(!k){for(;h<o;){u=t();if(u<9e15)p[h++]=u%1e14}}o=p[--h];e%=c;if(o&&e){u=l[c-e];p[h]=s(o/u)*u}for(;p[h]===0;p.pop(),h--);if(h<0){p=[a=0]}else{for(a=-1;p[0]===0;p.splice(0,1),a-=c);for(h=1,u=p[0];u>=10;u/=10,h++);if(h<c)a-=c-h}y.e=a;y.c=p;return y}}();O.sum=function(){var e=1,t=arguments,r=new O(t[0]);for(;e<t.length;)r=r.plus(t[e++]);return r};r=function(){var e="0123456789";function r(e,t,r,n){var i,s=[0],f,a=0,o=e.length;for(;a<o;){for(f=s.length;f--;s[f]*=t);s[0]+=n.indexOf(e.charAt(a++));for(i=0;i<s.length;i++){if(s[i]>r-1){if(s[i+1]==null)s[i+1]=0;s[i+1]+=s[i]/r|0;s[i]%=r}}}return s.reverse()}return function(n,i,s,f,a){var o,c,u,l,h,d,p,y,m=n.indexOf("."),g=S,v=T;if(m>=0){l=B;B=0;n=n.replace(".","");y=new O(i);d=y.pow(n.length-m);B=l;y.c=r(A(b(d.c),d.e,"0"),10,s,e);y.e=y.c.length}p=r(n,i,s,a?(o=N,e):(o=e,N));u=l=p.length;for(;p[--l]==0;p.pop());if(!p[0])return o.charAt(0);if(m<0){--u}else{d.c=p;d.e=u;d.s=f;d=t(d,y,g,v,s);p=d.c;h=d.r;u=d.e}c=u+g+1;m=p[c];l=s/2;h=h||c<0||p[c+1]!=null;h=v<4?(m!=null||h)&&(v==0||v==(d.s<0?3:2)):m>l||m==l&&(v==4||h||v==6&&p[c-1]&1||v==(d.s<0?8:7));if(c<1||!p[0]){n=h?A(o.charAt(1),-g,o.charAt(0)):o.charAt(0)}else{p.length=c;if(h){for(--s;++p[--c]>s;){p[c]=0;if(!c){++u;p=[1].concat(p)}}}for(l=p.length;!p[--l];);for(m=0,n="";m<=l;n+=o.charAt(p[m++]));n=A(n,u,o.charAt(0))}return n}}();t=function(){function e(e,t,r){var n,i,s,f,a=0,o=e.length,c=t%h,u=t/h|0;for(e=e.slice();o--;){s=e[o]%h;f=e[o]/h|0;n=u*s+f*c;i=c*s+n%h*h+a;a=(i/r|0)+(n/h|0)+u*f;e[o]=i%r}if(a)e=[a].concat(e);return e}function t(e,t,r,n){var i,s;if(r!=n){s=r>n?1:-1}else{for(i=s=0;i<r;i++){if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}}}return s}function r(e,t,r,n){var i=0;for(;r--;){e[r]-=i;i=e[r]<t[r]?1:0;e[r]=i*n+e[r]-t[r]}for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,f,a,u){var l,h,d,p,b,m,g,v,w,A,$,_,E,S,T,C,P,x=n.s==i.s?1:-1,I=n.c,k=i.c;if(!I||!I[0]||!k||!k[0]){return new O(!n.s||!i.s||(I?k&&I[0]==k[0]:!k)?NaN:I&&I[0]==0||!k?x*0:x/0)}v=new O(x);w=v.c=[];h=n.e-i.e;x=f+h+1;if(!u){u=o;h=y(n.e/c)-y(i.e/c);x=x/c|0}for(d=0;k[d]==(I[d]||0);d++);if(k[d]>(I[d]||0))h--;if(x<0){w.push(1);p=true}else{S=I.length;C=k.length;d=0;x+=2;b=s(u/(k[0]+1));if(b>1){k=e(k,b,u);I=e(I,b,u);C=k.length;S=I.length}E=C;A=I.slice(0,C);$=A.length;for(;$<C;A[$++]=0);P=k.slice();P=[0].concat(P);T=k[0];if(k[1]>=u/2)T++;do{b=0;l=t(k,A,C,$);if(l<0){_=A[0];if(C!=$)_=_*u+(A[1]||0);b=s(_/T);if(b>1){if(b>=u)b=u-1;m=e(k,b,u);g=m.length;$=A.length;while(t(m,A,g,$)==1){b--;r(m,C<g?P:k,g,u);g=m.length;l=1}}else{if(b==0){l=b=1}m=k.slice();g=m.length}if(g<$)m=[0].concat(m);r(A,m,$,u);$=A.length;if(l==-1){while(t(k,A,C,$)<1){b++;r(A,C<$?P:k,$,u);$=A.length}}}else if(l===0){b++;A=[0]}w[d++]=b;if(A[0]){A[$++]=I[E]||0}else{A=[I[E]];$=1}}while((E++<S||A[0]!=null)&&x--);p=A[0]!=null;if(!w[0])w.splice(0,1)}if(u==o){for(d=1,x=w[0];x>=10;x/=10,d++);j(v,f+(v.e=d+h*c-1)+1,a,p)}else{v.e=h;v.r=+p}return v}}();function U(e,t,r,n){var i,s,f,a,o;if(r==null)r=T;else g(r,0,8);if(!e.c)return e.toString();i=e.c[0];f=e.e;if(t==null){o=b(e.c);o=n==1||n==2&&(f<=C||f>=P)?w(o,f):A(o,f,"0")}else{e=j(new O(e),t,r);s=e.e;o=b(e.c);a=o.length;if(n==1||n==2&&(t<=s||s<=C)){for(;a<t;o+="0",a++);o=w(o,s)}else{t-=f;o=A(o,s,"0");if(s+1>a){if(--t>0)for(o+=".";t--;o+="0");}else{t+=s-a;if(t>0){if(s+1==a)o+=".";for(;t--;o+="0");}}}}return e.s<0&&i?"-"+o:o}function F(e,t){var r,n=1,i=new O(e[0]);for(;n<e.length;n++){r=new O(e[n]);if(!r.s){i=r;break}else if(t.call(i,r)){i=r}}return i}function L(e,t,r){var n=1,i=t.length;for(;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);if((r=n+r*c-1)>I){e.c=e.e=null}else if(r<x){e.c=[e.e=0]}else{e.e=r;e.c=t}return e}$=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,r=/^\.([^.]+)$/,n=/^-?(Infinity|NaN)$/,i=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(s,a,o,c){var u,l=o?a:a.replace(i,"");if(n.test(l)){s.s=isNaN(l)?null:l<0?-1:1}else{if(!o){l=l.replace(e,(function(e,t,r){u=(r=r.toLowerCase())=="x"?16:r=="b"?2:8;return!c||c==u?t:e}));if(c){u=c;l=l.replace(t,"$1").replace(r,"0.$1")}if(a!=l)return new O(l,u)}if(O.DEBUG){throw Error(f+"Not a"+(c?" base "+c:"")+" number: "+a)}s.s=null}s.c=s.e=null}}();function j(e,t,r,n){var f,a,u,h,d,p,y,b=e.c,m=l;if(b){e:{for(f=1,h=b[0];h>=10;h/=10,f++);a=t-f;if(a<0){a+=c;u=t;d=b[p=0];y=d/m[f-u-1]%10|0}else{p=i((a+1)/c);if(p>=b.length){if(n){for(;b.length<=p;b.push(0));d=y=0;f=1;a%=c;u=a-c+1}else{break e}}else{d=h=b[p];for(f=1;h>=10;h/=10,f++);a%=c;u=a-c+f;y=u<0?0:d/m[f-u-1]%10|0}}n=n||t<0||b[p+1]!=null||(u<0?d:d%m[f-u-1]);n=r<4?(y||n)&&(r==0||r==(e.s<0?3:2)):y>5||y==5&&(r==4||n||r==6&&(a>0?u>0?d/m[f-u]:0:b[p-1])%10&1||r==(e.s<0?8:7));if(t<1||!b[0]){b.length=0;if(n){t-=e.e+1;b[0]=m[(c-t%c)%c];e.e=-t||0}else{b[0]=e.e=0}return e}if(a==0){b.length=p;h=1;p--}else{b.length=p+1;h=m[c-a];b[p]=u>0?s(d/m[f-u]%m[u])*h:0}if(n){for(;;){if(p==0){for(a=1,u=b[0];u>=10;u/=10,a++);u=b[0]+=h;for(h=1;u>=10;u/=10,h++);if(a!=h){e.e++;if(b[0]==o)b[0]=1}break}else{b[p]+=h;if(b[p]!=o)break;b[p--]=0;h=1}}}for(a=b.length;b[--a]===0;b.pop());}if(e.e>I){e.c=e.e=null}else if(e.e<x){e.c=[e.e=0]}}return e}function H(e){var t,r=e.e;if(r===null)return e.toString();t=b(e.c);t=r<=C||r>=P?w(t,r):A(t,r,"0");return e.s<0?"-"+t:t}_.absoluteValue=_.abs=function(){var e=new O(this);if(e.s<0)e.s=1;return e};_.comparedTo=function(e,t){return m(this,new O(e,t))};_.decimalPlaces=_.dp=function(e,t){var r,n,i,s=this;if(e!=null){g(e,0,d);if(t==null)t=T;else g(t,0,8);return j(new O(s),e+s.e+1,t)}if(!(r=s.c))return null;n=((i=r.length-1)-y(this.e/c))*c;if(i=r[i])for(;i%10==0;i/=10,n--);if(n<0)n=0;return n};_.dividedBy=_.div=function(e,r){return t(this,new O(e,r),S,T)};_.dividedToIntegerBy=_.idiv=function(e,r){return t(this,new O(e,r),0,1)};_.exponentiatedBy=_.pow=function(e,t){var r,n,a,o,u,l,h,d,p,y=this;e=new O(e);if(e.c&&!e.isInteger()){throw Error(f+"Exponent not an integer: "+H(e))}if(t!=null)t=new O(t);l=e.e>14;if(!y.c||!y.c[0]||y.c[0]==1&&!y.e&&y.c.length==1||!e.c||!e.c[0]){p=new O(Math.pow(+H(y),l?e.s*(2-v(e)):+H(e)));return t?p.mod(t):p}h=e.s<0;if(t){if(t.c?!t.c[0]:!t.s)return new O(NaN);n=!h&&y.isInteger()&&t.isInteger();if(n)y=y.mod(t)}else if(e.e>9&&(y.e>0||y.e<-1||(y.e==0?y.c[0]>1||l&&y.c[1]>=24e7:y.c[0]<8e13||l&&y.c[0]<=9999975e7))){o=y.s<0&&v(e)?-0:0;if(y.e>-1)o=1/o;return new O(h?1/o:o)}else if(B){o=i(B/c+2)}if(l){r=new O(.5);if(h)e.s=1;d=v(e)}else{a=Math.abs(+H(e));d=a%2}p=new O(E);for(;;){if(d){p=p.times(y);if(!p.c)break;if(o){if(p.c.length>o)p.c.length=o}else if(n){p=p.mod(t)}}if(a){a=s(a/2);if(a===0)break;d=a%2}else{e=e.times(r);j(e,e.e+1,1);if(e.e>14){d=v(e)}else{a=+H(e);if(a===0)break;d=a%2}}y=y.times(y);if(o){if(y.c&&y.c.length>o)y.c.length=o}else if(n){y=y.mod(t)}}if(n)return p;if(h)p=E.div(p);return t?p.mod(t):o?j(p,B,T,u):p};_.integerValue=function(e){var t=new O(this);if(e==null)e=T;else g(e,0,8);return j(t,t.e+1,e)};_.isEqualTo=_.eq=function(e,t){return m(this,new O(e,t))===0};_.isFinite=function(){return!!this.c};_.isGreaterThan=_.gt=function(e,t){return m(this,new O(e,t))>0};_.isGreaterThanOrEqualTo=_.gte=function(e,t){return(t=m(this,new O(e,t)))===1||t===0};_.isInteger=function(){return!!this.c&&y(this.e/c)>this.c.length-2};_.isLessThan=_.lt=function(e,t){return m(this,new O(e,t))<0};_.isLessThanOrEqualTo=_.lte=function(e,t){return(t=m(this,new O(e,t)))===-1||t===0};_.isNaN=function(){return!this.s};_.isNegative=function(){return this.s<0};_.isPositive=function(){return this.s>0};_.isZero=function(){return!!this.c&&this.c[0]==0};_.minus=function(e,t){var r,n,i,s,f=this,a=f.s;e=new O(e,t);t=e.s;if(!a||!t)return new O(NaN);if(a!=t){e.s=-t;return f.plus(e)}var u=f.e/c,l=e.e/c,h=f.c,d=e.c;if(!u||!l){if(!h||!d)return h?(e.s=-t,e):new O(d?f:NaN);if(!h[0]||!d[0]){return d[0]?(e.s=-t,e):new O(h[0]?f:T==3?-0:0)}}u=y(u);l=y(l);h=h.slice();if(a=u-l){if(s=a<0){a=-a;i=h}else{l=u;i=d}i.reverse();for(t=a;t--;i.push(0));i.reverse()}else{n=(s=(a=h.length)<(t=d.length))?a:t;for(a=t=0;t<n;t++){if(h[t]!=d[t]){s=h[t]<d[t];break}}}if(s){i=h;h=d;d=i;e.s=-e.s}t=(n=d.length)-(r=h.length);if(t>0)for(;t--;h[r++]=0);t=o-1;for(;n>a;){if(h[--n]<d[n]){for(r=n;r&&!h[--r];h[r]=t);--h[r];h[n]+=o}h[n]-=d[n]}for(;h[0]==0;h.splice(0,1),--l);if(!h[0]){e.s=T==3?-1:1;e.c=[e.e=0];return e}return L(e,h,l)};_.modulo=_.mod=function(e,r){var n,i,s=this;e=new O(e,r);if(!s.c||!e.s||e.c&&!e.c[0]){return new O(NaN)}else if(!e.c||s.c&&!s.c[0]){return new O(s)}if(M==9){i=e.s;e.s=1;n=t(s,e,0,3);e.s=i;n.s*=i}else{n=t(s,e,0,M)}e=s.minus(n.times(e));if(!e.c[0]&&M==1)e.s=s.s;return e};_.multipliedBy=_.times=function(e,t){var r,n,i,s,f,a,u,l,d,p,b,m,g,v,w,A=this,$=A.c,_=(e=new O(e,t)).c;if(!$||!_||!$[0]||!_[0]){if(!A.s||!e.s||$&&!$[0]&&!_||_&&!_[0]&&!$){e.c=e.e=e.s=null}else{e.s*=A.s;if(!$||!_){e.c=e.e=null}else{e.c=[0];e.e=0}}return e}n=y(A.e/c)+y(e.e/c);e.s*=A.s;u=$.length;p=_.length;if(u<p){g=$;$=_;_=g;i=u;u=p;p=i}for(i=u+p,g=[];i--;g.push(0));v=o;w=h;for(i=p;--i>=0;){r=0;b=_[i]%w;m=_[i]/w|0;for(f=u,s=i+f;s>i;){l=$[--f]%w;d=$[f]/w|0;a=m*l+d*b;l=b*l+a%w*w+g[s]+r;r=(l/v|0)+(a/w|0)+m*d;g[s--]=l%v}g[s]=r}if(r){++n}else{g.splice(0,1)}return L(e,g,n)};_.negated=function(){var e=new O(this);e.s=-e.s||null;return e};_.plus=function(e,t){var r,n=this,i=n.s;e=new O(e,t);t=e.s;if(!i||!t)return new O(NaN);if(i!=t){e.s=-t;return n.minus(e)}var s=n.e/c,f=e.e/c,a=n.c,u=e.c;if(!s||!f){if(!a||!u)return new O(i/0);if(!a[0]||!u[0])return u[0]?e:new O(a[0]?n:i*0)}s=y(s);f=y(f);a=a.slice();if(i=s-f){if(i>0){f=s;r=u}else{i=-i;r=a}r.reverse();for(;i--;r.push(0));r.reverse()}i=a.length;t=u.length;if(i-t<0){r=u;u=a;a=r;t=i}for(i=0;t;){i=(a[--t]=a[t]+u[t]+i)/o|0;a[t]=o===a[t]?0:a[t]%o}if(i){a=[i].concat(a);++f}return L(e,a,f)};_.precision=_.sd=function(e,t){var r,n,i,s=this;if(e!=null&&e!==!!e){g(e,1,d);if(t==null)t=T;else g(t,0,8);return j(new O(s),e,t)}if(!(r=s.c))return null;i=r.length-1;n=i*c+1;if(i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}if(e&&s.e+1>n)n=s.e+1;return n};_.shiftedBy=function(e){g(e,-u,u);return this.times("1e"+e)};_.squareRoot=_.sqrt=function(){var e,r,n,i,s,f=this,a=f.c,o=f.s,c=f.e,u=S+4,l=new O("0.5");if(o!==1||!a||!a[0]){return new O(!o||o<0&&(!a||a[0])?NaN:a?f:1/0)}o=Math.sqrt(+H(f));if(o==0||o==1/0){r=b(a);if((r.length+c)%2==0)r+="0";o=Math.sqrt(+r);c=y((c+1)/2)-(c<0||c%2);if(o==1/0){r="5e"+c}else{r=o.toExponential();r=r.slice(0,r.indexOf("e")+1)+c}n=new O(r)}else{n=new O(o+"")}if(n.c[0]){c=n.e;o=c+u;if(o<3)o=0;for(;;){s=n;n=l.times(s.plus(t(f,s,u,1)));if(b(s.c).slice(0,o)===(r=b(n.c)).slice(0,o)){if(n.e<c)--o;r=r.slice(o-3,o+1);if(r=="9999"||!i&&r=="4999"){if(!i){j(s,s.e+S+2,0);if(s.times(s).eq(f)){n=s;break}}u+=4;o+=4;i=1}else{if(!+r||!+r.slice(1)&&r.charAt(0)=="5"){j(n,n.e+S+2,1);e=!n.times(n).eq(f)}break}}}}return j(n,n.e+S+1,T,e)};_.toExponential=function(e,t){if(e!=null){g(e,0,d);e++}return U(this,e,t,1)};_.toFixed=function(e,t){if(e!=null){g(e,0,d);e=e+this.e+1}return U(this,e,t)};_.toFormat=function(e,t,r){var n,i=this;if(r==null){if(e!=null&&t&&typeof t=="object"){r=t;t=null}else if(e&&typeof e=="object"){r=e;e=t=null}else{r=R}}else if(typeof r!="object"){throw Error(f+"Argument not an object: "+r)}n=i.toFixed(e,t);if(i.c){var s,a=n.split("."),o=+r.groupSize,c=+r.secondaryGroupSize,u=r.groupSeparator||"",l=a[0],h=a[1],d=i.s<0,p=d?l.slice(1):l,y=p.length;if(c){s=o;o=c;c=s;y-=s}if(o>0&&y>0){s=y%o||o;l=p.substr(0,s);for(;s<y;s+=o)l+=u+p.substr(s,o);if(c>0)l+=u+p.slice(s);if(d)l="-"+l}n=h?l+(r.decimalSeparator||"")+((c=+r.fractionGroupSize)?h.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):h):l}return(r.prefix||"")+n+(r.suffix||"")};_.toFraction=function(e){var r,n,i,s,a,o,u,h,d,p,y,m,g=this,v=g.c;if(e!=null){u=new O(e);if(!u.isInteger()&&(u.c||u.s!==1)||u.lt(E)){throw Error(f+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+H(u))}}if(!v)return new O(g);r=new O(E);d=n=new O(E);i=h=new O(E);m=b(v);a=r.e=m.length-g.e-1;r.c[0]=l[(o=a%c)<0?c+o:o];e=!e||u.comparedTo(r)>0?a>0?r:d:u;o=I;I=1/0;u=new O(m);h.c[0]=0;for(;;){p=t(u,r,0,1);s=n.plus(p.times(i));if(s.comparedTo(e)==1)break;n=i;i=s;d=h.plus(p.times(s=d));h=s;r=u.minus(p.times(s=r));u=s}s=t(e.minus(n),i,0,1);h=h.plus(s.times(d));n=n.plus(s.times(i));h.s=d.s=g.s;a=a*2;y=t(d,i,a,T).minus(g).abs().comparedTo(t(h,n,a,T).minus(g).abs())<1?[d,i]:[h,n];I=o;return y};_.toNumber=function(){return+H(this)};_.toPrecision=function(e,t){if(e!=null)g(e,1,d);return U(this,e,t,2)};_.toString=function(e){var t,n=this,i=n.s,s=n.e;if(s===null){if(i){t="Infinity";if(i<0)t="-"+t}else{t="NaN"}}else{if(e==null){t=s<=C||s>=P?w(b(n.c),s):A(b(n.c),s,"0")}else if(e===10&&D){n=j(new O(n),S+s+1,T);t=A(b(n.c),n.e,"0")}else{g(e,2,N.length,"Base");t=r(A(b(n.c),s,"0"),10,e,i,true)}if(i<0&&n.c[0])t="-"+t}return t};_.valueOf=_.toJSON=function(){return H(this)};_._isBigNumber=true;if(e!=null)O.set(e);return O}function y(e){var t=e|0;return e>0||e===t?t:t-1}function b(e){var t,r,n=1,i=e.length,s=e[0]+"";for(;n<i;){t=e[n++]+"";r=c-t.length;for(;r--;t="0"+t);s+=t}for(i=s.length;s.charCodeAt(--i)===48;);return s.slice(0,i+1||1)}function m(e,t){var r,n,i=e.c,s=t.c,f=e.s,a=t.s,o=e.e,c=t.e;if(!f||!a)return null;r=i&&!i[0];n=s&&!s[0];if(r||n)return r?n?0:-a:f;if(f!=a)return f;r=f<0;n=o==c;if(!i||!s)return n?0:!i^r?1:-1;if(!n)return o>c^r?1:-1;a=(o=i.length)<(c=s.length)?o:c;for(f=0;f<a;f++)if(i[f]!=s[f])return i[f]>s[f]^r?1:-1;return o==c?0:o>c^r?1:-1}function g(e,t,r,n){if(e<t||e>r||e!==s(e)){throw Error(f+(n||"Argument")+(typeof e=="number"?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}}function v(e){var t=e.c.length-1;return y(e.e/c)==t&&e.c[t]%2!=0}function w(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function A(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else{n=e.length;if(++t>n){for(i=r,t-=n;--t;i+=r);e+=i}else if(t<n){e=e.slice(0,t)+"."+e.slice(t)}}return e}r=p();r["default"]=r.BigNumber=r;if(e.exports){e.exports=r}else{if(!t){t=typeof self!="undefined"&&self?self:window}t.BigNumber=r}})(commonjsGlobal)}));class FilterValue extends AbstractDependencyBranch{constructor(e,t,r,n){super(e,n);this.type=r;this.ref=t}async resolveValue(e){const t=this.getBackingAttribute();const r=await t.getValue(true,false,false,e);return EthUtils.encodeTransactionParameter(this.type,r)}}class FilterQuery{constructor(e,t,r){this.tokenScript=e;this.localAttrContext=r;this.dynamicValues={};this.params=new URLSearchParams(t);for(let[t,n]of this.params.entries()){const i=n.match(/^\$\{(.*)\}/);if(i&&i[1])this.dynamicValues[t]=new FilterValue(e,i[1],null,r)}}has(e){return this.params.has(e)}async getValue(e,t){if(this.dynamicValues[e]){return await this.dynamicValues[e].getValue(t)}return this.params.get(e)}getDynamicFilterValues(){return Object.values(this.dynamicValues)}}class Attribute$4{constructor(e,t,r){this.tokenScript=e;this.attributeDef=t;this.localAttrContext=r;this.scopeValues={};this.dependsOnTokenId=undefined;this.resolveLocks={}}getName(){return this.attributeDef.getAttribute("name")}getOrigins(){return this.attributeDef.getElementsByTagName("ts:origins")[0].children}async getValue(e=false,t=false,r=false,n=this.tokenScript.getCurrentTokenContext()){const i=this.getValueScopeId(n);let s;if(this.getScopedValue(i)===undefined){const e=this.getOrigins();const f=e[0];this.asType=f.getAttribute("as");if(t&&f.tagName!=="ts:user-entry"){s=this.getScopedValue(i)}else{if(f.tagName==="ts:user-entry"){s=this.tokenScript.getViewController().getUserEntryValue(this.getName())}else{if(!r){if(!this.resolveLocks[i]){this.resolveLocks[i]=new Promise(((e,t)=>{this.resolveAttributeValue(f,i,n).then((t=>{e(t);delete this.resolveLocks[i]})).catch((e=>{t(e)}))}))}s=await this.resolveLocks[i]}else{s=await this.resolveAttributeValue(f,i,n)}}}}else{s=this.getScopedValue(i)}if(e&&s===undefined)throw new Error("Could not resolve attribute "+this.getName());return this.transformValue(s)}async getCurrentValue(){return this.getValue(false,true)}async transformValue(e){if(!this.asType)return e;switch(this.asType){case"bool":if(typeof e==="boolean")break;return Boolean(e);case"e2":case"e4":case"e6":case"e8":case"e18":if(!e)return 0;return BigInt(new bignumber.BigNumber(e).multipliedBy(Math.pow(10,parseInt(this.asType.substring(1)))).toString())}return e}async getJsonSafeValue(e){const t=await this.getValue(false,false,e);if(typeof t==="bigint")return t.toString();return t}async resolveAttributeValue(e,t,r){var n;let i;switch(e.tagName){case"ethereum:call":case"ethereum:event":console.log("Resolving attribute: "+this.getName()+" for token context "+(r===null||r===void 0?void 0:r.selectedTokenId));const t=this.tokenScript.getContractByName(e.getAttribute("contract"));const s=await this.tokenScript.getEngine().getWalletAdapter();const f=(n=r===null||r===void 0?void 0:r.chainId)!==null&&n!==void 0?n:await s.getChain();const a=t.getAddressByChain(f,true);let o;if(e.tagName==="ethereum:call"){const t=e.getAttribute("function");let n=EthUtils.tokenScriptOutputToEthers(this.asType);const i=new Arguments(this.tokenScript,e,this.localAttrContext);const f=[];for(let e of i){f.push({name:"0",type:e.type,internalType:e.type,value:await e.getValue(r)})}o=await s.call(a.chain,a.address,t,f,[n]);console.log("Call result: ",o)}else{const t=e.getAttribute("filter");const n=e.getAttribute("type");const i=e.getAttribute("select");const c=this.tokenScript.getAsnModuleDefinition(n);if(!c)throw new Error("Could not find ASN module with name ");const u=[];const l=c.querySelector("type sequence");const h=new FilterQuery(this.tokenScript,t,this.localAttrContext);for(let e of l.children){const t=e.getAttribute("name");const n=e.getAttribute("ethereum:type");u.push({name:t,type:n,internalType:n,indexed:e.getAttribute("ethereum:indexed"),value:h.has(t)?await h.getValue(t,r):null})}const d=await s.getEvents(f,a.address,n,u);if(d.length===0)break;o=d[0].args[i];console.log("Event result: ",o)}if(o instanceof Object){i=BigInt(o)}else{i=o}break;case"ts:data":const c=e.children;if(c.length>1){throw new Error("Attribute ts:data origin does not support more than one element")}i=c[0].textContent;break;default:throw new Error("Attribute origin type "+e.tagName+" is not implemented")}this.setScopedValue(i,t);return i}getScopedValue(e){var t;return(t=this.scopeValues)===null||t===void 0?void 0:t[e]}setScopedValue(e,t){this.scopeValues[t]=e}getValueScopeId(e){let t="-1";if(this.getDependsOnTokenId()){if(e===null||e===void 0?void 0:e.selectedTokenId)t=e.selectedTokenId}return t}getDependsOnTokenId(){if(this.dependsOnTokenId===undefined){this.dependsOnTokenId=this.isDependentOn(["tokenId"])}return this.dependsOnTokenId}invalidate(e){if(e){if(!this.invalidateDependencies(e)&&e.indexOf(this.getName())===-1){console.log("Attribute '"+this.getName()+"' is not dependent on '"+JSON.stringify(e)+"', skipping invalidation");return false}}console.log("Invalidating attribute: "+this.getName());this.resolveLocks={};this.scopeValues={};return true}isDependentOn(e){const t=this.getDependencies();if(t===false)return false;for(let r of t){if(r.isDependentOn(e))return true}return e.indexOf(this.getName())>-1}invalidateDependencies(e){const t=this.getDependencies();if(t===false)return false;let r=false;for(let n of t){r=n.invalidateDependencies(e)}return r}getDependencies(){const e=this.getOrigins();const t=e[0];if(Attribute$4.NO_DEPENDENCY_ORIGINS.indexOf(t.tagName)>-1)return false;let r=[];if(t.tagName==="ethereum:call"){r=new Arguments(this.tokenScript,t,this.localAttrContext).getArguments()}else if(t.tagName==="ethereum:event"){const e=t.getAttribute("filter");r=new FilterQuery(this.tokenScript,e,this.localAttrContext).getDynamicFilterValues()}return r}}Attribute$4.NO_DEPENDENCY_ORIGINS=["ts:user-entry","ts:data"];class Attributes$2{constructor(e,t,r=false){this.tokenScript=e;this.parentElem=t;this.isCardContext=r}getAttributes(){if(!this.attributes){this.attributes={};const e=Array.prototype.slice.call(this.parentElem.children).filter((e=>e.tagName==="ts:attribute"));if(e.length>0){for(let t in e){const r=new Attribute$4(this.tokenScript,e[t],this.isCardContext?this:null);this.attributes[r.getName()]=r}}}return this.attributes}getAttribute(e){if(!this.attributes)this.getAttributes();if(!this.attributes[e])throw new Error("Could not find attribute '"+e+"'");return this.attributes[e]}hasAttribute(e){if(!this.attributes)this.getAttributes();return this.attributes.hasOwnProperty(e)}invalidate(e){for(let t of this){t.invalidate(e)}}[Symbol.iterator](){return Object.values(this.getAttributes()).values()}}var ViewEvent;(function(e){e["TOKENS_UPDATED"]="tokensUpdated";e["GET_USER_INPUT"]="getUserInput";e["EXECUTE_CALLBACK"]="executeCallback";e["ON_CONFIRM"]="onConfirm"})(ViewEvent||(ViewEvent={}));var RequestFromView;(function(e){e["SIGN_PERSONAL_MESSAGE"]="signPersonalMessage";e["PUT_USER_INPUT"]="putUserInput"})(RequestFromView||(RequestFromView={}));class ViewController{constructor(e,t){this.tokenScript=e;this.viewAdapter=t;this.userEntryValues={}}async showCard(e){this.currentCard=e;this.viewAdapter.viewLoading();await this.viewAdapter.showTokenView(this.currentCard)}async unloadTokenCard(){this.currentCard=null;await this.viewAdapter.unloadTokenView()}getCurrentCard(){return this.currentCard}getUserEntryValue(e){if(!this.userEntryValues[e])return undefined;return this.userEntryValues[e]}async setUserEntryValues(e){const t=[];let r=false;for(let n in e){if(this.userEntryValues[n]&&this.userEntryValues[n]===e[n]){continue}if(!this.userEntryValues[n]&&e[n]==="")continue;const i=this.findAttribute(n);if(!i&&!r)r=true;console.log("User input '"+n+"' changed ("+this.userEntryValues[n]+" -> "+e[n]+")");t.push(n);this.userEntryValues[n]=e[n]}if(t.length>0){this.tokenScript.getAttributes().invalidate(t);if(this.currentCard)this.currentCard.getAttributes().invalidate(t);if(r)this.updateCardData()}}findAttribute(e){if(this.tokenScript.getAttributes().hasAttribute(e))return this.tokenScript.getAttributes().getAttribute(e);if(this.currentCard&&this.currentCard.getAttributes().hasAttribute(e))return this.currentCard.getAttributes().getAttribute(e);return null}dispatchViewEvent(e,t,r){return this.viewAdapter.dispatchViewEvent(e,t,r)}async updateCardData(){this.viewAdapter.viewLoading();this.viewAdapter.dispatchViewEvent(ViewEvent.TOKENS_UPDATED,await this.currentCard.tokenViewData.getCurrentTokenData(true),this.currentCard.tokenViewData.getViewDataId())}}class Label{constructor(e){this.parentElem=e;const t=Array.prototype.slice.call(this.parentElem.children).filter((e=>e.tagName==="ts:label"));if(t.length>0){const e=[].slice.call(t[0].children);const r=e.filter((e=>e.getAttribute("xml:lang")==="en"));if(r.length){if(r[0].tagName==="ts:plurals"&&r[0].children.length>0){this.label={};for(let e of r[0].children){const e=r[0].children[0];this.label[e.getAttribute("quantity")]=e.textContent}}else{this.label=r[0].textContent}}}}getValue(e){if(!this.label)return null;if(typeof this.label==="string")return this.label;if(e>1&&this.label["other"])return this.label["other"];return this.label["one"]}}class Card{constructor(e,t){this.tokenScript=e;this.cardDef=t;this.tokenViewData=new TokenViewData(this.tokenScript,this)}get label(){var e;if(!this._label)this._label=new Label(this.cardDef);return(e=this._label.getValue())!==null&&e!==void 0?e:"Unnamed Card"}get name(){return this.cardDef.getAttribute("name")}get type(){return this.cardDef.getAttribute("type")}get exclude(){return this.cardDef.getAttribute("exclude")}get origins(){const e=this.cardDef.getAttribute("origins");if(!e)return[];return e.split(" ")}get view(){return this.cardDef.getElementsByTagName("ts:view")[0]}get urlFragment(){return this.view.getAttribute("urlFragment")}get isUrlView(){return this.url}get url(){return this.view.getAttribute("url")}async renderViewHtml(){let e="";e+='<div id="'+this.tokenViewData.getViewDataId()+'" class="token-card"></div>'+'<script type="text/javascript">'+await this.tokenViewData.getTokenJavascript()+"<\/script>";const t=this.view.children;for(let r=0;r<t.length;r++){const n=t[r];if(n.nodeName=="#text")continue;if(n.nodeName==="ts:viewContent"){const t=n.getAttribute("name");const r=this.tokenScript.getViewContent(t);if(!r){console.error("Could not find viewContent element with "+t);continue}for(let t=0;t<r.length;t++){e=this.processTags(r[t],e)}continue}e=this.processTags(n,e)}return`\n\t\t\t<!DOCTYPE html>\n\t\t\t\t<html lang="en">\n\t\t\t\t<head>\n\t\t\t\t\t<title>TokenScript</title>\n\t\t\t\t\t<meta http-equiv="content-type" content="text/html; charset=utf-8" />\n\t\t\t\t</head>\n\t\t\t\t<body>\n\t\t\t\t\t${e}\n\t\t\t\t</body>\n\t\t\t</html>\n\t\t`}processTags(e,t){if(e.localName=="script"){let r;if(e.innerHTML.indexOf("<![CDATA[")===-1){const t=document.createElement("textarea");t.innerHTML=e.innerHTML;r=t.value}else{r=e.innerHTML}t+="<script "+(e.getAttribute("type")==="module"?'type="module" crossorigin=""':"text/javascript")+">"+r+"<\/script>"}else if(e.localName==="style"){t+="<style>"+e.innerHTML+"</style>"}else{if(e.outerHTML)t+=e.outerHTML}return t}getAttributes(){if(!this.attributes){this.attributes=new Attributes$2(this.tokenScript,this.cardDef,true)}return this.attributes}async isEnabledOrReason(e){if(!this.isAvailableForOrigin(e.originId))return false;if(!this.exclude)return true;const t=this.tokenScript.getSelections().getSelection(this.exclude);if(await t.isInSelection(e)){return t.getLabel()}return true}isAvailableForOrigin(e){return this.origins.length===0||this.origins.indexOf(e)>-1}getTransaction(){if(!this.transaction){const e=this.cardDef.getElementsByTagName("ts:transaction");if(e.length>0)this.transaction=new Transaction$1(this.tokenScript,e[0],this.getAttributes())}return this.transaction}async executeTransaction(e,t=true,r=true){var n;const i=this.getTransaction();await this.tokenScript.executeTransaction(i,e,t);this.getAttributes().invalidate();this.tokenScript.getAttributes().invalidate();await new Promise((e=>setTimeout(e,3e3)));const s=await this.tokenScript.getTokenMetadata(true,true);if(!this.tokenScript.hasViewBinding())return;const f=this.tokenScript.getCurrentTokenContext();if(((n=s[f.originId])===null||n===void 0?void 0:n[f.selectedTokenIndex])&&await this.isEnabledOrReason(f)){if(r)await this.tokenScript.getViewController().updateCardData()}else{await this.tokenScript.getViewController().unloadTokenCard()}}async signPersonalMessage(e,t){try{let r=await this.tokenScript.getEngine().signPersonalMessage(t);if(this.tokenScript.hasViewBinding())this.tokenScript.getViewController().dispatchViewEvent(ViewEvent.EXECUTE_CALLBACK,{error:null,result:r},e)}catch(t){if(this.tokenScript.hasViewBinding())this.tokenScript.getViewController().dispatchViewEvent(ViewEvent.EXECUTE_CALLBACK,{error:t.message,result:null},e)}}}class Contract$1{constructor(e){this.contractDef=e;this.addresses={};this.name=e.getAttribute("name");this.interface=e.getAttribute("interface");let t=e.getElementsByTagName("ts:address");for(let e in t){if(!t.hasOwnProperty(e))continue;const r=parseInt(t[e].getAttribute("network"));this.addresses[r]={address:t[e].innerHTML,chain:r}}}getName(){return this.name}getInterface(){return this.interface}getAddresses(){return this.addresses}getFirstAddress(){const e=Object.keys(this.addresses);if(e.length===0)throw new Error("Contract does not have any addresses");return this.addresses[e[0]]}getAddressByChain(e,t=false){if(!this.addresses[e]){if(t){if(Object.keys(this.addresses).length===0)throw new Error("Contract does not have any addresses");return this.getFirstAddress()}throw new Error("Contract does not have an address with chain ID "+e)}return this.addresses[e]}}const ELEMENT="element";const ATTRIBUTE="attribute";const CONTENT="content";const MAX=1e9;function assign$1$1(e,...t){const r=arguments[0];for(let e=1;e<arguments.length;e++){const t=arguments[e];for(const e in t){if(!t.hasOwnProperty(e)){continue}r[e]=t[e]}}return r}function XmlElement(e){return t=>{const r=t;r.localName=e.localName||r.name;r.namespaceURI=e.namespaceURI||r.namespaceURI||null;r.prefix=e.prefix||r.prefix||null;r.parser=e.parser||r.parser;if(r.target!==r){r.items=assign$1$1({},r.items)}r.target=t}}function XmlChildElement(e={}){return(t,r)=>{const n=t.constructor;const i=r;if(!n.items){n.items={}}if(n.target!==n){n.items=assign$1$1({},n.items)}n.target=t;if(e.parser){n.items[i]={parser:e.parser,required:e.required||false,maxOccurs:e.maxOccurs||MAX,minOccurs:e.minOccurs===void 0?0:e.minOccurs,noRoot:e.noRoot||false}}else{n.items[i]={namespaceURI:e.namespaceURI||null,required:e.required||false,prefix:e.prefix||null,defaultValue:e.defaultValue,converter:e.converter,noRoot:e.noRoot||false}}e.localName=e.localName||e.parser&&e.parser.localName||i;n.items[i].namespaceURI=e.namespaceURI||e.parser&&e.parser.namespaceURI||null;n.items[i].prefix=e.prefix||e.parser&&e.parser.prefix||null;n.items[i].localName=e.localName;n.items[i].type=ELEMENT;defineProperty$2(t,i,e)}}function XmlAttribute(e={required:false,namespaceURI:null}){return(t,r)=>{const n=t.constructor;const i=r;if(!e.localName){e.localName=r}if(!n.items){n.items={}}if(n.target!==n){n.items=assign$1$1({},n.items)}n.target=t;n.items[r]=e;n.items[r].type=ATTRIBUTE;defineProperty$2(t,i,e)}}function defineProperty$2(e,t,r){const n=`_${t}`;const i={set:function(e){if(this[n]!==e){this.element=null;this[n]=e}},get:function(){if(this[n]===void 0){let e=r.defaultValue;if(r.parser){e=new r.parser;e.localName=r.localName}this[n]=e}return this[n]}};Object.defineProperty(e,n,{writable:true,enumerable:false});Object.defineProperty(e,t,i)}class Collection$1{constructor(e){this.items=new Array;if(e){this.items=e}}get Count(){return this.items.length}Item(e){return this.items[e]||null}Add(e){this.items.push(e)}Pop(){return this.items.pop()}RemoveAt(e){this.items=this.items.filter(((t,r)=>r!==e))}Clear(){this.items=new Array}GetIterator(){return this.items}ForEach(e){this.GetIterator().forEach(e)}Map(e){return new Collection$1(this.GetIterator().map(e))}Filter(e){return new Collection$1(this.GetIterator().filter(e))}Sort(e){return new Collection$1(this.GetIterator().sort(e))}Every(e){return this.GetIterator().every(e)}Some(e){return this.GetIterator().some(e)}IsEmpty(){return this.Count===0}}function printf(e,...t){let r=e;const n=/[^%](%\d+)/g;let i=null;const s=[];while(i=n.exec(r)){s.push({arg:i[1],index:i.index})}for(let e=s.length-1;e>=0;e--){const t=s[e];const n=t.arg.substring(1);const i=t.index+1;r=r.substring(0,i)+arguments[+n]+r.substring(i+1+n.length)}r=r.replace("%%","%");return r}function padNum(e,t){let r=e+"";while(r.length<t){r="0"+r}return r}class XmlError{constructor(e,...t){this.prefix="XMLJS";this.code=e;this.name=this.constructor.name;arguments[0]=xes[e];const r=printf.apply(this,arguments);this.message=`${this.prefix}${padNum(e,4)}: ${r}`;this.stack=new Error(this.message).stack}}var XE;(function(e){e[e["NONE"]=0]="NONE";e[e["NULL_REFERENCE"]=1]="NULL_REFERENCE";e[e["NULL_PARAM"]=2]="NULL_PARAM";e[e["DECORATOR_NULL_PARAM"]=3]="DECORATOR_NULL_PARAM";e[e["COLLECTION_LIMIT"]=4]="COLLECTION_LIMIT";e[e["METHOD_NOT_IMPLEMENTED"]=5]="METHOD_NOT_IMPLEMENTED";e[e["METHOD_NOT_SUPPORTED"]=6]="METHOD_NOT_SUPPORTED";e[e["PARAM_REQUIRED"]=7]="PARAM_REQUIRED";e[e["CONVERTER_UNSUPPORTED"]=8]="CONVERTER_UNSUPPORTED";e[e["ELEMENT_MALFORMED"]=9]="ELEMENT_MALFORMED";e[e["ELEMENT_MISSING"]=10]="ELEMENT_MISSING";e[e["ATTRIBUTE_MISSING"]=11]="ATTRIBUTE_MISSING";e[e["CONTENT_MISSING"]=12]="CONTENT_MISSING";e[e["CRYPTOGRAPHIC"]=13]="CRYPTOGRAPHIC";e[e["CRYPTOGRAPHIC_NO_MODULE"]=14]="CRYPTOGRAPHIC_NO_MODULE";e[e["CRYPTOGRAPHIC_UNKNOWN_TRANSFORM"]=15]="CRYPTOGRAPHIC_UNKNOWN_TRANSFORM";e[e["ALGORITHM_NOT_SUPPORTED"]=16]="ALGORITHM_NOT_SUPPORTED";e[e["ALGORITHM_WRONG_NAME"]=17]="ALGORITHM_WRONG_NAME";e[e["XML_EXCEPTION"]=18]="XML_EXCEPTION"})(XE||(XE={}));const xes={};xes[XE.NONE]="No description";xes[XE.NULL_REFERENCE]="Null reference";xes[XE.NULL_PARAM]="'%1' has empty '%2' object";xes[XE.DECORATOR_NULL_PARAM]="Decorator '%1' has empty '%2' parameter";xes[XE.COLLECTION_LIMIT]="Collection of '%1' in element '%2' has wrong amount of items";xes[XE.METHOD_NOT_IMPLEMENTED]="Method is not implemented";xes[XE.METHOD_NOT_SUPPORTED]="Method is not supported";xes[XE.PARAM_REQUIRED]="Required parameter is missing '%1'";xes[XE.CONVERTER_UNSUPPORTED]="Converter is not supported";xes[XE.ELEMENT_MALFORMED]="Malformed element '%1'";xes[XE.ELEMENT_MISSING]="Element '%1' is missing in '%2'";xes[XE.ATTRIBUTE_MISSING]="Attribute '%1' is missing in '%2'";xes[XE.CONTENT_MISSING]="Content is missing in '%1'";xes[XE.CRYPTOGRAPHIC]="Cryptographic error: %1";xes[XE.CRYPTOGRAPHIC_NO_MODULE]="WebCrypto module is not found";xes[XE.CRYPTOGRAPHIC_UNKNOWN_TRANSFORM]="Unknown transform %1";xes[XE.ALGORITHM_NOT_SUPPORTED]="Algorithm is not supported '%1'";xes[XE.ALGORITHM_WRONG_NAME]="Algorithm wrong name in use '%1'";xes[XE.XML_EXCEPTION]="XML exception: %1";class Convert{static ToString(e,t="utf8"){const r=new Uint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);default:throw new XmlError(XE.CONVERTER_UNSUPPORTED)}}static FromString(e,t="utf8"){switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);default:throw new XmlError(XE.CONVERTER_UNSUPPORTED)}}static ToBase64(e){if(typeof btoa!=="undefined"){const t=this.ToString(e,"binary");return btoa(t)}else if(typeof Buffer!=="undefined"){return Buffer.from(e).toString("base64")}else{throw new XmlError(XE.CONVERTER_UNSUPPORTED)}}static FromBase64(e){e=e.replace(/\n/g,"").replace(/\r/g,"").replace(/\t/g,"").replace(/\s/g,"");if(typeof atob!=="undefined"){return this.FromBinary(atob(e))}else if(typeof Buffer!=="undefined"){return new Uint8Array(Buffer.from(e,"base64"))}else{throw new XmlError(XE.CONVERTER_UNSUPPORTED)}}static FromBase64Url(e){return this.FromBase64(this.Base64Padding(e.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e){const t=unescape(encodeURIComponent(e));const r=new Uint8Array(t.length);for(let e=0;e<t.length;e++){r[e]=t.charCodeAt(e)}return r}static ToUtf8String(e){const t=String.fromCharCode.apply(null,e);const r=decodeURIComponent(escape(t));return r}static FromBinary(e){const t=e.length;const r=new Uint8Array(t);for(let n=0;n<t;n++){r[n]=e.charCodeAt(n)}return r}static ToBinary(e){let t="";for(let r=0;r<e.length;r++){t=t+String.fromCharCode(e[r])}return t}static ToHex(e){const t="";const r=[];for(let t=0;t<e.length;t++){const n=e[t].toString(16);r.push(n.length===1?"0"+n:n)}return r.join(t)}static FromHex(e){const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r=r+2){const n=e.slice(r,r+2);t[r/2]=parseInt(n,16)}return t}static ToDateTime(e){return new Date(e)}static FromDateTime(e){const t=e.toISOString();return t}static Base64Padding(e){const t=4-e.length%4;if(t<4){for(let r=0;r<t;r++){e+="="}}return e}}const APPLICATION_XML="application/xml";var XmlNodeType;(function(e){e[e["None"]=0]="None";e[e["Element"]=1]="Element";e[e["Attribute"]=2]="Attribute";e[e["Text"]=3]="Text";e[e["CDATA"]=4]="CDATA";e[e["EntityReference"]=5]="EntityReference";e[e["Entity"]=6]="Entity";e[e["ProcessingInstruction"]=7]="ProcessingInstruction";e[e["Comment"]=8]="Comment";e[e["Document"]=9]="Document";e[e["DocumentType"]=10]="DocumentType";e[e["DocumentFragment"]=11]="DocumentFragment";e[e["Notation"]=12]="Notation";e[e["Whitespace"]=13]="Whitespace";e[e["SignificantWhitespace"]=14]="SignificantWhitespace";e[e["EndElement"]=15]="EndElement";e[e["EndEntity"]=16]="EndEntity";e[e["XmlDeclaration"]=17]="XmlDeclaration"})(XmlNodeType||(XmlNodeType={}));let xpath=(e,t)=>{throw new Error("Not implemented")};let sWindow;if(typeof self==="undefined"){sWindow=global;const e=require("@xmldom/xmldom");xpath=require("xpath.js");sWindow.XMLSerializer=e.XMLSerializer;sWindow.DOMParser=e.DOMParser;sWindow.DOMImplementation=e.DOMImplementation;sWindow.document=(new DOMImplementation).createDocument("http://www.w3.org/1999/xhtml","html",null)}else{sWindow=self}function SelectNodesEx(e,t){const r=e.ownerDocument==null?e:e.ownerDocument;const n=document.createNSResolver(e.ownerDocument==null?e.documentElement:e.ownerDocument.documentElement);const i=r.evaluate(t,e,n,XPathResult.ANY_TYPE,null);const s=[];let f;while(f=i.iterateNext()){s.push(f)}return s}const Select=typeof self!=="undefined"?SelectNodesEx:xpath;function Parse(e){e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return(new DOMParser).parseFromString(e,APPLICATION_XML)}function SelectSingleNode(e,t){const r=Select(e,t);if(r&&r.length>0){return r[0]}return null}function _SelectNamespaces(e,t={}){if(isElement(e)){if(e.namespaceURI&&e.namespaceURI!=="http://www.w3.org/XML/1998/namespace"&&!t[e.prefix||""]){t[e.prefix?e.prefix:""]=e.namespaceURI}for(let r=0;r<e.childNodes.length;r++){const n=e.childNodes.item(r);if(n&&n.nodeType===XmlNodeType.Element){_SelectNamespaces(n,t)}}}}function SelectNamespaces(e){const t={};_SelectNamespaces(e,t);return t}function assign$2(e,...t){const r=arguments[0];for(let e=1;e<arguments.length;e++){const t=arguments[e];for(const e in t){if(!t.hasOwnProperty(e)){continue}r[e]=t[e]}}return r}function isNodeType(e,t){return e&&e.nodeType===t}function isElement(e){return isNodeType(e,XmlNodeType.Element)}function isDocument(e){return isNodeType(e,XmlNodeType.Document)}const XmlBase64Converter={get:e=>{if(e){return Convert.ToBase64(e)}return void 0},set:e=>Convert.FromBase64(e)};const XmlNumberConverter={get:e=>{if(e){return e.toString()}return"0"},set:e=>Number(e)};const DEFAULT_ROOT_NAME="xml_root";class XmlObject{constructor(e={}){this.prefix=this.GetStatic().prefix||null;this.localName=this.GetStatic().localName;this.namespaceURI=this.GetStatic().namespaceURI;if(e){for(const[t,r]of Object.entries(e)){if(r!==undefined){this[t]=r}}}}static LoadXml(e){const t=new this;t.LoadXml(e);return t}static GetElement(e,t,r=true){const n=e.getElementsByTagName(t);if(r&&n.length===0){throw new XmlError(XE.ELEMENT_MISSING,t,e.localName)}return n[0]||null}static GetAttribute(e,t,r,n=true){if(e.hasAttribute(t)){return e.getAttribute(t)}else{if(n){throw new XmlError(XE.ATTRIBUTE_MISSING,t,e.localName)}return r}}static GetElementById(e,t){if(e==null||t==null){return null}let r=null;if(isDocument(e)){r=e.getElementById(t)}if(r==null){r=SelectSingleNode(e,`//*[@*[local-name()='Id']='${t}']`);if(r==null){r=SelectSingleNode(e,`//*[@*[local-name()='ID']='${t}']`);if(r==null){r=SelectSingleNode(e,`//*[@*[local-name()='id']='${t}']`)}}}return r}static CreateDocument(e=DEFAULT_ROOT_NAME,t=null,r=null){let n="";let i="";let s="";if(r){n=r+":";i=":"+r}if(t){s=` xmlns${i}="${t}"`}const f=`${n}${e}`;const a=(new DOMParser).parseFromString(`<${f}${s}></${f}>`,APPLICATION_XML);return a}static GetChildren(e,t,r){e=isDocument(e)?e.documentElement:e;const n=[];for(let i=0;i<e.childNodes.length;i++){const s=e.childNodes[i];if(isElement(s)&&s.localName===t&&(s.namespaceURI===r||!r)){n.push(s)}}return n}static GetFirstChild(e,t,r){e=isDocument(e)?e.documentElement:e;for(let n=0;n<e.childNodes.length;n++){const i=e.childNodes[n];if(isElement(i)&&i.localName===t&&(i.namespaceURI===r||!r)){return i}}return null}static GetChild(e,t,r,n=true){for(let n=0;n<e.childNodes.length;n++){const i=e.childNodes[n];if(isElement(i)&&i.localName===t&&(i.namespaceURI===r||!r)){return i}}if(n){throw new XmlError(XE.ELEMENT_MISSING,t,e.localName)}return null}get Element(){return this.element}get Prefix(){return this.prefix}set Prefix(e){this.prefix=e}get LocalName(){return this.localName}get NamespaceURI(){return this.namespaceURI||null}HasChanged(){const e=this.GetStatic();if(e.items){for(const t in e.items){if(!e.items.hasOwnProperty(t)){continue}const r=e.items[t];const n=this[t];if(r.parser&&n&&n.HasChanged()){return true}}}return this.element===null}GetXml(e){if(!(e||this.HasChanged())){return this.element||null}const t=this;const r=this.CreateDocument();const n=this.CreateElement();const i=this.GetStatic();const s=this.localName;if(i.items){for(const e in i.items){if(!i.items.hasOwnProperty(e)){continue}const f=t[e];const a=i.items[e];switch(a.type){case CONTENT:{const e=a;const t=e.converter?e.converter.get(f):f;if(e.required&&(t===null||t===void 0)){throw new XmlError(XE.CONTENT_MISSING,s)}if(e.defaultValue!==f||e.required){n.textContent=t}break}case ATTRIBUTE:{const e=a;const t=e.converter?e.converter.get(f):f;if(e.required&&(t===null||t===void 0)){throw new XmlError(XE.ATTRIBUTE_MISSING,e.localName,s)}if(e.defaultValue!==f||e.required){if(!e.namespaceURI){n.setAttribute(e.localName,t)}else{n.setAttributeNS(e.namespaceURI,e.localName,t)}}break}case ELEMENT:{const e=a;let t=null;if(e.parser){if(e.required&&!f||e.minOccurs&&!f.Count){throw new XmlError(XE.ELEMENT_MISSING,f.localName,s)}if(f){t=f.GetXml(f.element===void 0&&(e.required||f.Count))}}else{const n=e.converter?e.converter.get(f):f;if(e.required&&n===void 0){throw new XmlError(XE.ELEMENT_MISSING,e.localName,s)}if(f!==e.defaultValue||e.required){if(!e.namespaceURI){t=r.createElement(`${e.prefix?e.prefix+":":""}${e.localName}`)}else{t=r.createElementNS(e.namespaceURI,`${e.prefix?e.prefix+":":""}${e.localName}`)}if(Array.isArray(n)){for(const e of n){const r=e instanceof XmlObject?e.GetXml(true):e;if(r!==null){t.appendChild(r)}}}else if(n instanceof XmlObject){t.appendChild(n.GetXml(true))}else{t.textContent=n}}}if(t){if(e.noRoot){const r=[];for(let e=0;e<t.childNodes.length;e++){const n=t.childNodes.item(e);if(isElement(n)){r.push(n)}}if(r.length<e.minOccurs||r.length>e.maxOccurs){throw new XmlError(XE.COLLECTION_LIMIT,f.localName,i.localName)}r.forEach((e=>n.appendChild(e.cloneNode(true))))}else if(t.childNodes.length<e.minOccurs||t.childNodes.length>e.maxOccurs){throw new XmlError(XE.COLLECTION_LIMIT,f.localName,i.localName)}else{n.appendChild(t)}}break}}}}this.OnGetXml(n);this.element=n;return n}LoadXml(e){let t;const r=this;if(typeof e==="string"){const r=Parse(e);t=r.documentElement}else{t=e}if(!t){throw new XmlError(XE.PARAM_REQUIRED,"element")}const n=this.GetStatic();const i=this.localName;if(!(t.localName===i&&t.namespaceURI==this.NamespaceURI)){throw new XmlError(XE.ELEMENT_MALFORMED,i)}if(n.items){for(const e in n.items){if(!n.items.hasOwnProperty(e)){continue}const s=n.items[e];switch(s.type){case CONTENT:{const n=s;if(n.required&&!t.textContent){throw new XmlError(XE.CONTENT_MISSING,i)}if(!t.textContent){r[e]=n.defaultValue}else{const i=n.converter?n.converter.set(t.textContent):t.textContent;r[e]=i}break}case ATTRIBUTE:{const n=s;let f;let a;if(!n.localName){throw new XmlError(XE.PARAM_REQUIRED,"localName")}if(n.namespaceURI){f=t.hasAttributeNS.bind(t,n.namespaceURI,n.localName);a=t.getAttributeNS.bind(t,n.namespaceURI,n.localName)}else{f=t.hasAttribute.bind(t,n.localName);a=t.getAttribute.bind(t,n.localName)}if(n.required&&!f()){throw new XmlError(XE.ATTRIBUTE_MISSING,n.localName,i)}if(!f()){r[e]=n.defaultValue}else{const t=n.converter?n.converter.set(a()):a();r[e]=t}break}case ELEMENT:{const n=s;if(n.noRoot){if(!n.parser){throw new XmlError(XE.XML_EXCEPTION,`Schema for '${n.localName}' with flag noRoot must have 'parser'`)}const s=new n.parser;if(!(s instanceof XmlCollection)){throw new XmlError(XE.XML_EXCEPTION,`Schema for '${n.localName}' with flag noRoot must have 'parser' like instance of XmlCollection`)}s.OnLoadXml(t);delete s.element;if(s.Count<n.minOccurs||s.Count>n.maxOccurs){throw new XmlError(XE.COLLECTION_LIMIT,n.parser.localName,i)}r[e]=s;continue}let f=null;for(let e=0;e<t.childNodes.length;e++){const r=t.childNodes.item(e);if(!isElement(r)){continue}const i=r;if(i.localName===n.localName&&i.namespaceURI==n.namespaceURI){f=i;break}}if(n.required&&!f){throw new XmlError(XE.ELEMENT_MISSING,n.parser?n.parser.localName:n.localName,i)}if(!n.parser){if(!f){r[e]=n.defaultValue}else{const t=n.converter?n.converter.set(f.textContent):f.textContent;r[e]=t}}else{if(f){const t=new n.parser;t.localName=n.localName;t.namespaceURI=n.namespaceURI;r[e]=t;t.LoadXml(f)}}break}}}}this.OnLoadXml(t);this.prefix=t.prefix||"";this.element=t}toString(){const e=this.GetXml();return e?(new XMLSerializer).serializeToString(e):""}GetElement(e,t=true){if(!this.element){throw new XmlError(XE.NULL_PARAM,this.localName)}return XmlObject.GetElement(this.element,e,t)}GetChildren(e,t){if(!this.element){throw new XmlError(XE.NULL_PARAM,this.localName)}return XmlObject.GetChildren(this.element,e,t||this.NamespaceURI||undefined)}GetChild(e,t=true){if(!this.element){throw new XmlError(XE.NULL_PARAM,this.localName)}return XmlObject.GetChild(this.element,e,this.NamespaceURI||undefined,t)}GetFirstChild(e,t){if(!this.element){throw new XmlError(XE.NULL_PARAM,this.localName)}return XmlObject.GetFirstChild(this.element,e,t)}GetAttribute(e,t,r=true){if(!this.element){throw new XmlError(XE.NULL_PARAM,this.localName)}return XmlObject.GetAttribute(this.element,e,t,r)}IsEmpty(){return this.Element===void 0}OnLoadXml(e){}GetStatic(){return this.constructor}GetPrefix(){return this.Prefix?this.prefix+":":""}OnGetXml(e){}CreateElement(e,t,r=null,n=null){if(!e){e=this.CreateDocument()}t=t||this.localName;r=r||this.NamespaceURI;n=n||this.prefix;const i=(n?`${n}:`:"")+t;const s=r?e.createElementNS(r,i):e.createElement(i);e.importNode(s,true);return s}CreateDocument(){return XmlObject.CreateDocument(this.localName,this.NamespaceURI,this.Prefix)}}class XmlCollection extends XmlObject{constructor(){super(...arguments);this.MaxOccurs=Number.MAX_VALUE;this.MinOccurs=0;this.items=[]}HasChanged(){const e=super.HasChanged();const t=this.Some((e=>e.HasChanged()));return e||t}get Count(){return this.items.length}Item(e){return this.items[e]||null}Add(e){this.items.push(e);this.element=null}Pop(){this.element=null;return this.items.pop()}RemoveAt(e){this.items=this.items.filter(((t,r)=>r!==e));this.element=null}Clear(){this.items=new Array;this.element=null}GetIterator(){return this.items}ForEach(e){this.GetIterator().forEach(e)}Map(e){return new Collection$1(this.GetIterator().map(e))}Filter(e){return new Collection$1(this.GetIterator().filter(e))}Sort(e){return new Collection$1(this.GetIterator().sort(e))}Every(e){return this.GetIterator().every(e)}Some(e){return this.GetIterator().some(e)}IsEmpty(){return this.Count===0}OnGetXml(e){for(const t of this.GetIterator()){const r=t.GetXml();if(r){e.appendChild(r)}}}OnLoadXml(e){const t=this.GetStatic();if(!t.parser){throw new XmlError(XE.XML_EXCEPTION,`${t.localName} doesn't have required 'parser' in @XmlElement`)}for(let r=0;r<e.childNodes.length;r++){const n=e.childNodes.item(r);if(!(isElement(n)&&n.localName===t.parser.localName&&n.namespaceURI==t.namespaceURI)){continue}const i=n;const s=new t.parser;s.LoadXml(i);this.Add(s)}}}class NamespaceManager extends Collection$1{Add(e){e.prefix=e.prefix||"";e.namespace=e.namespace||"";super.Add(e)}GetPrefix(e,t=this.Count-1){const r=this.Count-1;e=e||"";if(t>r){t=r}for(let r=t;r>=0;r--){const t=this.items[r];if(t.prefix===e){return t}}return null}GetNamespace(e,t=this.Count-1){const r=this.Count-1;e=e||"";if(t>r){t=r}for(let r=t;r>=0;r--){const t=this.items[r];if(t.namespace===e){return t}}return null}}var build=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r="[object ArrayBuffer]";class n{static isArrayBuffer(e){return Object.prototype.toString.call(e)===r}static toArrayBuffer(e){if(this.isArrayBuffer(e)){return e}if(e.byteLength===e.buffer.byteLength){return e.buffer}return this.toUint8Array(e).slice().buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t){return e}if(this.isArrayBuffer(e)){return new t(e)}if(this.isArrayBufferView(e)){return new t(e.buffer,e.byteOffset,e.byteLength)}throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){const r=n.toUint8Array(e);const i=n.toUint8Array(t);if(r.length!==i.byteLength){return false}for(let e=0;e<r.length;e++){if(r[e]!==i[e]){return false}}return true}static concat(...e){if(Array.isArray(e[0])){const t=e[0];let r=0;for(const e of t){r+=e.byteLength}const n=new Uint8Array(r);let i=0;for(const e of t){const t=this.toUint8Array(e);n.set(t,i);i+=t.length}if(e[1]){return this.toView(n,e[1])}return n.buffer}else{return this.concat(e)}}}class i{static fromString(e){const t=unescape(encodeURIComponent(e));const r=new Uint8Array(t.length);for(let e=0;e<t.length;e++){r[e]=t.charCodeAt(e)}return r.buffer}static toString(e){const t=n.toUint8Array(e);let r="";for(let e=0;e<t.length;e++){r+=String.fromCharCode(t[e])}const i=decodeURIComponent(escape(r));return i}}class s{static toString(e,t=false){const r=n.toArrayBuffer(e);const i=new DataView(r);let s="";for(let e=0;e<r.byteLength;e+=2){const r=i.getUint16(e,t);s+=String.fromCharCode(r)}return s}static fromString(e,t=false){const r=new ArrayBuffer(e.length*2);const n=new DataView(r);for(let r=0;r<e.length;r++){n.setUint16(r*2,e.charCodeAt(r),t)}return r}}class f{static isHex(e){return typeof e==="string"&&/^[a-z0-9]+$/i.test(e)}static isBase64(e){return typeof e==="string"&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}static isBase64Url(e){return typeof e==="string"&&/^[a-zA-Z0-9-_]+$/i.test(e)}static ToString(e,t="utf8"){const r=n.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);case"utf16le":return s.toString(r,true);case"utf16":case"utf16be":return s.toString(r);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e){return new ArrayBuffer(0)}switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return s.fromString(e,true);case"utf16":case"utf16be":return s.fromString(e);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){const t=n.toUint8Array(e);if(typeof btoa!=="undefined"){const e=this.ToString(t,"binary");return btoa(e)}else{return Buffer.from(t).toString("base64")}}static FromBase64(e){const t=this.formatString(e);if(!t){return new ArrayBuffer(0)}if(!f.isBase64(t)){throw new TypeError("Argument 'base64Text' is not Base64 encoded")}if(typeof atob!=="undefined"){return this.FromBinary(atob(t))}else{return new Uint8Array(Buffer.from(t,"base64")).buffer}}static FromBase64Url(e){const t=this.formatString(e);if(!t){return new ArrayBuffer(0)}if(!f.isBase64Url(t)){throw new TypeError("Argument 'base64url' is not Base64Url encoded")}return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=f.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return i.fromString(e);case"utf16":case"utf16be":return s.fromString(e);case"utf16le":case"usc2":return s.fromString(e,true);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=f.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return i.toString(e);case"utf16":case"utf16be":return s.toString(e);case"utf16le":case"usc2":return s.toString(e,true);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){const t=e.length;const r=new Uint8Array(t);for(let n=0;n<t;n++){r[n]=e.charCodeAt(n)}return r.buffer}static ToBinary(e){const t=n.toUint8Array(e);let r="";for(let e=0;e<t.length;e++){r+=String.fromCharCode(t[e])}return r}static ToHex(e){const t=n.toUint8Array(e);const r="";const i=[];const s=t.length;for(let e=0;e<s;e++){const r=t[e].toString(16).padStart(2,"0");i.push(r)}return i.join(r)}static FromHex(e){let t=this.formatString(e);if(!t){return new ArrayBuffer(0)}if(!f.isHex(t)){throw new TypeError("Argument 'hexString' is not HEX encoded")}if(t.length%2){t=`0${t}`}const r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e=e+2){const n=t.slice(e,e+2);r[e/2]=parseInt(n,16)}return r.buffer}static ToUtf16String(e,t=false){return s.toString(e,t)}static FromUtf16String(e,t=false){return s.fromString(e,t)}static Base64Padding(e){const t=4-e.length%4;if(t<4){for(let r=0;r<t;r++){e+="="}}return e}static formatString(e){return(e===null||e===void 0?void 0:e.replace(/[\n\r\t ]/g,""))||""}}f.DEFAULT_UTF8_ENCODING="utf8";function a(e,...t){const r=arguments[0];for(let e=1;e<arguments.length;e++){const t=arguments[e];for(const e in t){r[e]=t[e]}}return r}function o(...e){const t=e.map((e=>e.byteLength)).reduce(((e,t)=>e+t));const r=new Uint8Array(t);let n=0;e.map((e=>new Uint8Array(e))).forEach((e=>{for(const t of e){r[n++]=t}}));return r.buffer}function c(e,t){if(!(e&&t)){return false}if(e.byteLength!==t.byteLength){return false}const r=new Uint8Array(e);const n=new Uint8Array(t);for(let t=0;t<e.byteLength;t++){if(r[t]!==n[t]){return false}}return true}t.BufferSourceConverter=n;t.Convert=f;t.assign=a;t.combine=o;t.isEqual=c}));
/*!
 Copyright (c) Peculiar Ventures, LLC
*/function getParametersValue(e,t,r){var n;if(e instanceof Object===false){return r}return(n=e[t])!==null&&n!==void 0?n:r}function bufferToHexCodes(e,t=0,r=e.byteLength-t,n=false){let i="";for(const s of new Uint8Array(e,t,r)){const e=s.toString(16).toUpperCase();if(e.length===1){i+="0"}i+=e;if(n){i+=" "}}return i.trim()}function utilFromBase(e,t){let r=0;if(e.length===1){return e[0]}for(let n=e.length-1;n>=0;n--){r+=e[e.length-1-n]*Math.pow(2,t*n)}return r}function utilToBase(e,t,r=-1){const n=r;let i=e;let s=0;let f=Math.pow(2,t);for(let r=1;r<8;r++){if(e<f){let e;if(n<0){e=new ArrayBuffer(r);s=r}else{if(n<r){return new ArrayBuffer(0)}e=new ArrayBuffer(n);s=n}const f=new Uint8Array(e);for(let e=r-1;e>=0;e--){const r=Math.pow(2,e*t);f[s-e-1]=Math.floor(i/r);i-=f[s-e-1]*r}return e}f*=Math.pow(2,t)}return new ArrayBuffer(0)}function utilConcatBuf(...e){let t=0;let r=0;for(const r of e){t+=r.byteLength}const n=new ArrayBuffer(t);const i=new Uint8Array(n);for(const t of e){i.set(new Uint8Array(t),r);r+=t.byteLength}return n}function utilConcatView(...e){let t=0;let r=0;for(const r of e){t+=r.length}const n=new ArrayBuffer(t);const i=new Uint8Array(n);for(const t of e){i.set(t,r);r+=t.length}return i}function utilDecodeTC(){const e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const t=e[0]===255&&e[1]&128;const r=e[0]===0&&(e[1]&128)===0;if(t||r){this.warnings.push("Needlessly long format")}}const t=new ArrayBuffer(this.valueHex.byteLength);const r=new Uint8Array(t);for(let e=0;e<this.valueHex.byteLength;e++){r[e]=0}r[0]=e[0]&128;const n=utilFromBase(r,8);const i=new ArrayBuffer(this.valueHex.byteLength);const s=new Uint8Array(i);for(let t=0;t<this.valueHex.byteLength;t++){s[t]=e[t]}s[0]&=127;const f=utilFromBase(s,8);return f-n}function utilEncodeTC(e){const t=e<0?e*-1:e;let r=128;for(let n=1;n<8;n++){if(t<=r){if(e<0){const e=r-t;const i=utilToBase(e,8,n);const s=new Uint8Array(i);s[0]|=128;return i}let i=utilToBase(t,8,n);let s=new Uint8Array(i);if(s[0]&128){const e=i.slice(0);const t=new Uint8Array(e);i=new ArrayBuffer(i.byteLength+1);s=new Uint8Array(i);for(let r=0;r<e.byteLength;r++){s[r+1]=t[r]}s[0]=0}return i}r*=Math.pow(2,8)}return new ArrayBuffer(0)}function isEqualBuffer(e,t){if(e.byteLength!==t.byteLength){return false}const r=new Uint8Array(e);const n=new Uint8Array(t);for(let e=0;e<r.length;e++){if(r[e]!==n[e]){return false}}return true}function padNumber(e,t){const r=e.toString(10);if(t<r.length){return""}const n=t-r.length;const i=new Array(n);for(let e=0;e<n;e++){i[e]="0"}const s=i.join("");return s.concat(r)}const base64Template="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";const base64UrlTemplate="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function toBase64(e,t=false,r=false,n=false){let i=0;let s=0;let f=0;let a="";const o=t?base64UrlTemplate:base64Template;if(n){let t=0;for(let r=0;r<e.length;r++){if(e.charCodeAt(r)!==0){t=r;break}}e=e.slice(t)}while(i<e.length){const t=e.charCodeAt(i++);if(i>=e.length){s=1}const n=e.charCodeAt(i++);if(i>=e.length){f=1}const c=e.charCodeAt(i++);const u=t>>2;const l=(t&3)<<4|n>>4;let h=(n&15)<<2|c>>6;let d=c&63;if(s===1){h=d=64}else{if(f===1){d=64}}if(r){if(h===64){a+=`${o.charAt(u)}${o.charAt(l)}`}else{if(d===64){a+=`${o.charAt(u)}${o.charAt(l)}${o.charAt(h)}`}else{a+=`${o.charAt(u)}${o.charAt(l)}${o.charAt(h)}${o.charAt(d)}`}}}else{a+=`${o.charAt(u)}${o.charAt(l)}${o.charAt(h)}${o.charAt(d)}`}}return a}function fromBase64(e,t=false,r=false){const n=t?base64UrlTemplate:base64Template;function i(e){for(let t=0;t<64;t++){if(n.charAt(t)===e)return t}return 64}function s(e){return e===64?0:e}let f=0;let a="";while(f<e.length){const t=i(e.charAt(f++));const r=f>=e.length?0:i(e.charAt(f++));const n=f>=e.length?0:i(e.charAt(f++));const o=f>=e.length?0:i(e.charAt(f++));const c=s(t)<<2|s(r)>>4;const u=(s(r)&15)<<4|s(n)>>2;const l=(s(n)&3)<<6|s(o);a+=String.fromCharCode(c);if(n!==64){a+=String.fromCharCode(u)}if(o!==64){a+=String.fromCharCode(l)}}if(r){const e=a.length;let t=-1;for(let r=e-1;r>=0;r--){if(a.charCodeAt(r)!==0){t=r;break}}if(t!==-1){a=a.slice(0,t+1)}else{a=""}}return a}function arrayBufferToString(e){let t="";const r=new Uint8Array(e);for(const e of r){t+=String.fromCharCode(e)}return t}function stringToArrayBuffer(e){const t=e.length;const r=new ArrayBuffer(t);const n=new Uint8Array(r);for(let r=0;r<t;r++){n[r]=e.charCodeAt(r)}return r}const log2=Math.log(2);function nearestPowerOf2(e){const t=Math.log(e)/log2;const r=Math.floor(t);const n=Math.round(t);return r===n?r:n}function clearProps(e,t){for(const r of t){delete e[r]}}
/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */function assertBigInt(){if(typeof BigInt==="undefined"){throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}}function concat$4(e){let t=0;let r=0;for(let r=0;r<e.length;r++){const n=e[r];t+=n.byteLength}const n=new Uint8Array(t);for(let t=0;t<e.length;t++){const i=e[t];n.set(new Uint8Array(i),r);r+=i.byteLength}return n.buffer}function checkBufferParams(e,t,r,n){if(!(t instanceof Uint8Array)){e.error="Wrong parameter: inputBuffer must be 'Uint8Array'";return false}if(!t.byteLength){e.error="Wrong parameter: inputBuffer has zero length";return false}if(r<0){e.error="Wrong parameter: inputOffset less than zero";return false}if(n<0){e.error="Wrong parameter: inputLength less than zero";return false}if(t.byteLength-r-n<0){e.error="End of input reached before message was fully decoded (inconsistent offset and length values)";return false}return true}class ViewWriter{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return concat$4(this.items)}}const powers2=[new Uint8Array([1])];const digitsString="0123456789";const NAME$2="name";const VALUE_HEX_VIEW="valueHexView";const IS_HEX_ONLY="isHexOnly";const ID_BLOCK="idBlock";const TAG_CLASS="tagClass";const TAG_NUMBER="tagNumber";const IS_CONSTRUCTED="isConstructed";const FROM_BER="fromBER";const TO_BER="toBER";const LOCAL="local";const EMPTY_STRING$1="";const EMPTY_BUFFER$1=new ArrayBuffer(0);const EMPTY_VIEW=new Uint8Array(0);const END_OF_CONTENT_NAME="EndOfContent";const OCTET_STRING_NAME="OCTET STRING";const BIT_STRING_NAME="BIT STRING";function HexBlock(e){var t;return t=class t extends e{constructor(...e){var t;super(...e);const r=e[0]||{};this.isHexOnly=(t=r.isHexOnly)!==null&&t!==void 0?t:false;this.valueHexView=r.valueHex?build.BufferSourceConverter.toUint8Array(r.valueHex):EMPTY_VIEW}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(e){this.valueHexView=new Uint8Array(e)}fromBER(e,t,r){const n=e instanceof ArrayBuffer?new Uint8Array(e):e;if(!checkBufferParams(this,n,t,r)){return-1}const i=t+r;this.valueHexView=n.subarray(t,i);if(!this.valueHexView.length){this.warnings.push("Zero buffer length");return t}this.blockLength=r;return i}toBER(e=false){if(!this.isHexOnly){this.error="Flag 'isHexOnly' is not set, abort";return EMPTY_BUFFER$1}if(e){return new ArrayBuffer(this.valueHexView.byteLength)}return this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:build.Convert.ToHex(this.valueHexView)}}},t.NAME="hexBlock",t}class LocalBaseBlock{constructor({blockLength:e=0,error:t=EMPTY_STRING$1,warnings:r=[],valueBeforeDecode:n=EMPTY_VIEW}={}){this.blockLength=e;this.error=t;this.warnings=r;this.valueBeforeDecodeView=build.BufferSourceConverter.toUint8Array(n)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:build.Convert.ToHex(this.valueBeforeDecodeView)}}}LocalBaseBlock.NAME="baseBlock";class ValueBlock extends LocalBaseBlock{fromBER(e,t,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}ValueBlock.NAME="valueBlock";class LocalIdentificationBlock extends(HexBlock(LocalBaseBlock)){constructor({idBlock:e={}}={}){var t,r,n,i;super();if(e){this.isHexOnly=(t=e.isHexOnly)!==null&&t!==void 0?t:false;this.valueHexView=e.valueHex?build.BufferSourceConverter.toUint8Array(e.valueHex):EMPTY_VIEW;this.tagClass=(r=e.tagClass)!==null&&r!==void 0?r:-1;this.tagNumber=(n=e.tagNumber)!==null&&n!==void 0?n:-1;this.isConstructed=(i=e.isConstructed)!==null&&i!==void 0?i:false}else{this.tagClass=-1;this.tagNumber=-1;this.isConstructed=false}}toBER(e=false){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:this.error="Unknown tag class";return EMPTY_BUFFER$1}if(this.isConstructed)t|=32;if(this.tagNumber<31&&!this.isHexOnly){const r=new Uint8Array(1);if(!e){let e=this.tagNumber;e&=31;t|=e;r[0]=t}return r.buffer}if(!this.isHexOnly){const r=utilToBase(this.tagNumber,7);const n=new Uint8Array(r);const i=r.byteLength;const s=new Uint8Array(i+1);s[0]=t|31;if(!e){for(let e=0;e<i-1;e++)s[e+1]=n[e]|128;s[i]=n[i-1]}return s.buffer}const r=new Uint8Array(this.valueHexView.byteLength+1);r[0]=t|31;if(!e){const e=this.valueHexView;for(let t=0;t<e.length-1;t++)r[t+1]=e[t]|128;r[this.valueHexView.byteLength]=e[e.length-1]}return r.buffer}fromBER(e,t,r){const n=build.BufferSourceConverter.toUint8Array(e);if(!checkBufferParams(this,n,t,r)){return-1}const i=n.subarray(t,t+r);if(i.length===0){this.error="Zero buffer length";return-1}const s=i[0]&192;switch(s){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:this.error="Unknown tag class";return-1}this.isConstructed=(i[0]&32)===32;this.isHexOnly=false;const f=i[0]&31;if(f!==31){this.tagNumber=f;this.blockLength=1}else{let e=1;let t=this.valueHexView=new Uint8Array(255);let r=255;while(i[e]&128){t[e-1]=i[e]&127;e++;if(e>=i.length){this.error="End of input reached before message was fully decoded";return-1}if(e===r){r+=255;const e=new Uint8Array(r);for(let r=0;r<t.length;r++)e[r]=t[r];t=this.valueHexView=new Uint8Array(r)}}this.blockLength=e+1;t[e-1]=i[e]&127;const n=new Uint8Array(e);for(let r=0;r<e;r++)n[r]=t[r];t=this.valueHexView=new Uint8Array(e);t.set(n);if(this.blockLength<=9)this.tagNumber=utilFromBase(t,7);else{this.isHexOnly=true;this.warnings.push("Tag too long, represented as hex-coded")}}if(this.tagClass===1&&this.isConstructed){switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:this.error="Constructed encoding used for primitive type";return-1}}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}LocalIdentificationBlock.NAME="identificationBlock";class LocalLengthBlock extends LocalBaseBlock{constructor({lenBlock:e={}}={}){var t,r,n;super();this.isIndefiniteForm=(t=e.isIndefiniteForm)!==null&&t!==void 0?t:false;this.longFormUsed=(r=e.longFormUsed)!==null&&r!==void 0?r:false;this.length=(n=e.length)!==null&&n!==void 0?n:0}fromBER(e,t,r){const n=build.BufferSourceConverter.toUint8Array(e);if(!checkBufferParams(this,n,t,r)){return-1}const i=n.subarray(t,t+r);if(i.length===0){this.error="Zero buffer length";return-1}if(i[0]===255){this.error="Length block 0xFF is reserved by standard";return-1}this.isIndefiniteForm=i[0]===128;if(this.isIndefiniteForm){this.blockLength=1;return t+this.blockLength}this.longFormUsed=!!(i[0]&128);if(this.longFormUsed===false){this.length=i[0];this.blockLength=1;return t+this.blockLength}const s=i[0]&127;if(s>8){this.error="Too big integer";return-1}if(s+1>i.length){this.error="End of input reached before message was fully decoded";return-1}const f=t+1;const a=n.subarray(f,f+s);if(a[s-1]===0)this.warnings.push("Needlessly long encoded length");this.length=utilFromBase(a,8);if(this.longFormUsed&&this.length<=127)this.warnings.push("Unnecessary usage of long length form");this.blockLength=s+1;return t+this.blockLength}toBER(e=false){let t;let r;if(this.length>127)this.longFormUsed=true;if(this.isIndefiniteForm){t=new ArrayBuffer(1);if(e===false){r=new Uint8Array(t);r[0]=128}return t}if(this.longFormUsed){const n=utilToBase(this.length,8);if(n.byteLength>127){this.error="Too big length";return EMPTY_BUFFER$1}t=new ArrayBuffer(n.byteLength+1);if(e)return t;const i=new Uint8Array(n);r=new Uint8Array(t);r[0]=n.byteLength|128;for(let e=0;e<n.byteLength;e++)r[e+1]=i[e];return t}t=new ArrayBuffer(1);if(e===false){r=new Uint8Array(t);r[0]=this.length}return t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}LocalLengthBlock.NAME="lengthBlock";const typeStore={};class BaseBlock extends LocalBaseBlock{constructor({name:e=EMPTY_STRING$1,optional:t=false,primitiveSchema:r,...n}={},i){super(n);this.name=e;this.optional=t;if(r){this.primitiveSchema=r}this.idBlock=new LocalIdentificationBlock(n);this.lenBlock=new LocalLengthBlock(n);this.valueBlock=i?new i(n):new ValueBlock(n)}fromBER(e,t,r){const n=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);if(n===-1){this.error=this.valueBlock.error;return n}if(!this.idBlock.error.length)this.blockLength+=this.idBlock.blockLength;if(!this.lenBlock.error.length)this.blockLength+=this.lenBlock.blockLength;if(!this.valueBlock.error.length)this.blockLength+=this.valueBlock.blockLength;return n}toBER(e,t){const r=t||new ViewWriter;if(!t){prepareIndefiniteForm(this)}const n=this.idBlock.toBER(e);r.write(n);if(this.lenBlock.isIndefiniteForm){r.write(new Uint8Array([128]).buffer);this.valueBlock.toBER(e,r);r.write(new ArrayBuffer(2))}else{const t=this.valueBlock.toBER(e);this.lenBlock.length=t.byteLength;const n=this.lenBlock.toBER(e);r.write(n);r.write(t)}if(!t){return r.final()}return EMPTY_BUFFER$1}toJSON(){const e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};if(this.primitiveSchema)e.primitiveSchema=this.primitiveSchema.toJSON();return e}toString(e="ascii"){if(e==="ascii"){return this.onAsciiEncoding()}return build.Convert.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${build.Convert.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(e){if(this===e){return true}if(!(e instanceof this.constructor)){return false}const t=this.toBER();const r=e.toBER();return isEqualBuffer(t,r)}}BaseBlock.NAME="BaseBlock";function prepareIndefiniteForm(e){if(e instanceof typeStore.Constructed){for(const t of e.valueBlock.value){if(prepareIndefiniteForm(t)){e.lenBlock.isIndefiniteForm=true}}}return!!e.lenBlock.isIndefiniteForm}class BaseStringBlock extends BaseBlock{constructor({value:e=EMPTY_STRING$1,...t}={},r){super(t,r);if(e){this.fromString(e)}}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}fromBER(e,t,r){const n=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);if(n===-1){this.error=this.valueBlock.error;return n}this.fromBuffer(this.valueBlock.valueHexView);if(!this.idBlock.error.length)this.blockLength+=this.idBlock.blockLength;if(!this.lenBlock.error.length)this.blockLength+=this.lenBlock.blockLength;if(!this.valueBlock.error.length)this.blockLength+=this.valueBlock.blockLength;return n}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}BaseStringBlock.NAME="BaseStringBlock";class LocalPrimitiveValueBlock extends(HexBlock(ValueBlock)){constructor({isHexOnly:e=true,...t}={}){super(t);this.isHexOnly=e}}LocalPrimitiveValueBlock.NAME="PrimitiveValueBlock";var _a$w;class Primitive extends BaseBlock{constructor(e={}){super(e,LocalPrimitiveValueBlock);this.idBlock.isConstructed=false}}_a$w=Primitive;(()=>{typeStore.Primitive=_a$w})();Primitive.NAME="PRIMITIVE";function localChangeType(e,t){if(e instanceof t){return e}const r=new t;r.idBlock=e.idBlock;r.lenBlock=e.lenBlock;r.warnings=e.warnings;r.valueBeforeDecodeView=e.valueBeforeDecodeView;return r}function localFromBER(e,t=0,r=e.length){const n=t;let i=new BaseBlock({},ValueBlock);const s=new LocalBaseBlock;if(!checkBufferParams(s,e,t,r)){i.error=s.error;return{offset:-1,result:i}}const f=e.subarray(t,t+r);if(!f.length){i.error="Zero buffer length";return{offset:-1,result:i}}let a=i.idBlock.fromBER(e,t,r);if(i.idBlock.warnings.length){i.warnings.concat(i.idBlock.warnings)}if(a===-1){i.error=i.idBlock.error;return{offset:-1,result:i}}t=a;r-=i.idBlock.blockLength;a=i.lenBlock.fromBER(e,t,r);if(i.lenBlock.warnings.length){i.warnings.concat(i.lenBlock.warnings)}if(a===-1){i.error=i.lenBlock.error;return{offset:-1,result:i}}t=a;r-=i.lenBlock.blockLength;if(!i.idBlock.isConstructed&&i.lenBlock.isIndefiniteForm){i.error="Indefinite length form used for primitive encoding form";return{offset:-1,result:i}}let o=BaseBlock;switch(i.idBlock.tagClass){case 1:if(i.idBlock.tagNumber>=37&&i.idBlock.isHexOnly===false){i.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard";return{offset:-1,result:i}}switch(i.idBlock.tagNumber){case 0:if(i.idBlock.isConstructed&&i.lenBlock.length>0){i.error="Type [UNIVERSAL 0] is reserved";return{offset:-1,result:i}}o=typeStore.EndOfContent;break;case 1:o=typeStore.Boolean;break;case 2:o=typeStore.Integer;break;case 3:o=typeStore.BitString;break;case 4:o=typeStore.OctetString;break;case 5:o=typeStore.Null;break;case 6:o=typeStore.ObjectIdentifier;break;case 10:o=typeStore.Enumerated;break;case 12:o=typeStore.Utf8String;break;case 13:o=typeStore.RelativeObjectIdentifier;break;case 14:o=typeStore.TIME;break;case 15:i.error="[UNIVERSAL 15] is reserved by ASN.1 standard";return{offset:-1,result:i};case 16:o=typeStore.Sequence;break;case 17:o=typeStore.Set;break;case 18:o=typeStore.NumericString;break;case 19:o=typeStore.PrintableString;break;case 20:o=typeStore.TeletexString;break;case 21:o=typeStore.VideotexString;break;case 22:o=typeStore.IA5String;break;case 23:o=typeStore.UTCTime;break;case 24:o=typeStore.GeneralizedTime;break;case 25:o=typeStore.GraphicString;break;case 26:o=typeStore.VisibleString;break;case 27:o=typeStore.GeneralString;break;case 28:o=typeStore.UniversalString;break;case 29:o=typeStore.CharacterString;break;case 30:o=typeStore.BmpString;break;case 31:o=typeStore.DATE;break;case 32:o=typeStore.TimeOfDay;break;case 33:o=typeStore.DateTime;break;case 34:o=typeStore.Duration;break;default:{const e=i.idBlock.isConstructed?new typeStore.Constructed:new typeStore.Primitive;e.idBlock=i.idBlock;e.lenBlock=i.lenBlock;e.warnings=i.warnings;i=e}}break;case 2:case 3:case 4:default:{o=i.idBlock.isConstructed?typeStore.Constructed:typeStore.Primitive}}i=localChangeType(i,o);a=i.fromBER(e,t,i.lenBlock.isIndefiniteForm?r:i.lenBlock.length);i.valueBeforeDecodeView=e.subarray(n,n+i.blockLength);return{offset:a,result:i}}function fromBER(e){if(!e.byteLength){const e=new BaseBlock({},ValueBlock);e.error="Input buffer has zero length";return{offset:-1,result:e}}return localFromBER(build.BufferSourceConverter.toUint8Array(e).slice(),0,e.byteLength)}function checkLen(e,t){if(e){return 1}return t}class LocalConstructedValueBlock extends ValueBlock{constructor({value:e=[],isIndefiniteForm:t=false,...r}={}){super(r);this.value=e;this.isIndefiniteForm=t}fromBER(e,t,r){const n=build.BufferSourceConverter.toUint8Array(e);if(!checkBufferParams(this,n,t,r)){return-1}this.valueBeforeDecodeView=n.subarray(t,t+r);if(this.valueBeforeDecodeView.length===0){this.warnings.push("Zero buffer length");return t}let i=t;while(checkLen(this.isIndefiniteForm,r)>0){const e=localFromBER(n,i,r);if(e.offset===-1){this.error=e.result.error;this.warnings.concat(e.result.warnings);return-1}i=e.offset;this.blockLength+=e.result.blockLength;r-=e.result.blockLength;this.value.push(e.result);if(this.isIndefiniteForm&&e.result.constructor.NAME===END_OF_CONTENT_NAME){break}}if(this.isIndefiniteForm){if(this.value[this.value.length-1].constructor.NAME===END_OF_CONTENT_NAME){this.value.pop()}else{this.warnings.push("No EndOfContent block encoded")}}return i}toBER(e,t){const r=t||new ViewWriter;for(let t=0;t<this.value.length;t++){this.value[t].toBER(e,r)}if(!t){return r.final()}return EMPTY_BUFFER$1}toJSON(){const e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const t of this.value){e.value.push(t.toJSON())}return e}}LocalConstructedValueBlock.NAME="ConstructedValueBlock";var _a$v;class Constructed extends BaseBlock{constructor(e={}){super(e,LocalConstructedValueBlock);this.idBlock.isConstructed=true}fromBER(e,t,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const n=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);if(n===-1){this.error=this.valueBlock.error;return n}if(!this.idBlock.error.length)this.blockLength+=this.idBlock.blockLength;if(!this.lenBlock.error.length)this.blockLength+=this.lenBlock.blockLength;if(!this.valueBlock.error.length)this.blockLength+=this.valueBlock.blockLength;return n}onAsciiEncoding(){const e=[];for(const t of this.valueBlock.value){e.push(t.toString("ascii").split("\n").map((e=>`  ${e}`)).join("\n"))}const t=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :\n${e.join("\n")}`:`${t} :`}}_a$v=Constructed;(()=>{typeStore.Constructed=_a$v})();Constructed.NAME="CONSTRUCTED";class LocalEndOfContentValueBlock extends ValueBlock{fromBER(e,t,r){return t}toBER(e){return EMPTY_BUFFER$1}}LocalEndOfContentValueBlock.override="EndOfContentValueBlock";var _a$u;class EndOfContent extends BaseBlock{constructor(e={}){super(e,LocalEndOfContentValueBlock);this.idBlock.tagClass=1;this.idBlock.tagNumber=0}}_a$u=EndOfContent;(()=>{typeStore.EndOfContent=_a$u})();EndOfContent.NAME=END_OF_CONTENT_NAME;var _a$t;class Null extends BaseBlock{constructor(e={}){super(e,ValueBlock);this.idBlock.tagClass=1;this.idBlock.tagNumber=5}fromBER(e,t,r){if(this.lenBlock.length>0)this.warnings.push("Non-zero length of value block for Null type");if(!this.idBlock.error.length)this.blockLength+=this.idBlock.blockLength;if(!this.lenBlock.error.length)this.blockLength+=this.lenBlock.blockLength;this.blockLength+=r;if(t+r>e.byteLength){this.error="End of input reached before message was fully decoded (inconsistent offset and length values)";return-1}return t+r}toBER(e,t){const r=new ArrayBuffer(2);if(!e){const e=new Uint8Array(r);e[0]=5;e[1]=0}if(t){t.write(r)}return r}onAsciiEncoding(){return`${this.constructor.NAME}`}}_a$t=Null;(()=>{typeStore.Null=_a$t})();Null.NAME="NULL";class LocalBooleanValueBlock extends(HexBlock(ValueBlock)){constructor({value:e,...t}={}){super(t);if(t.valueHex){this.valueHexView=build.BufferSourceConverter.toUint8Array(t.valueHex)}else{this.valueHexView=new Uint8Array(1)}if(e){this.value=e}}get value(){for(const e of this.valueHexView){if(e>0){return true}}return false}set value(e){this.valueHexView[0]=e?255:0}fromBER(e,t,r){const n=build.BufferSourceConverter.toUint8Array(e);if(!checkBufferParams(this,n,t,r)){return-1}this.valueHexView=n.subarray(t,t+r);if(r>1)this.warnings.push("Boolean value encoded in more then 1 octet");this.isHexOnly=true;utilDecodeTC.call(this);this.blockLength=r;return t+r}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}LocalBooleanValueBlock.NAME="BooleanValueBlock";var _a$s;class Boolean$1 extends BaseBlock{constructor(e={}){super(e,LocalBooleanValueBlock);this.idBlock.tagClass=1;this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}_a$s=Boolean$1;(()=>{typeStore.Boolean=_a$s})();Boolean$1.NAME="BOOLEAN";class LocalOctetStringValueBlock extends(HexBlock(LocalConstructedValueBlock)){constructor({isConstructed:e=false,...t}={}){super(t);this.isConstructed=e}fromBER(e,t,r){let n=0;if(this.isConstructed){this.isHexOnly=false;n=LocalConstructedValueBlock.prototype.fromBER.call(this,e,t,r);if(n===-1)return n;for(let e=0;e<this.value.length;e++){const t=this.value[e].constructor.NAME;if(t===END_OF_CONTENT_NAME){if(this.isIndefiniteForm)break;else{this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only";return-1}}if(t!==OCTET_STRING_NAME){this.error="OCTET STRING may consists of OCTET STRINGs only";return-1}}}else{this.isHexOnly=true;n=super.fromBER(e,t,r);this.blockLength=r}return n}toBER(e,t){if(this.isConstructed)return LocalConstructedValueBlock.prototype.toBER.call(this,e,t);return e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}LocalOctetStringValueBlock.NAME="OctetStringValueBlock";var _a$r;class OctetString$1 extends BaseBlock{constructor({idBlock:e={},lenBlock:t={},...r}={}){var n,i;(n=r.isConstructed)!==null&&n!==void 0?n:r.isConstructed=!!((i=r.value)===null||i===void 0?void 0:i.length);super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},LocalOctetStringValueBlock);this.idBlock.tagClass=1;this.idBlock.tagNumber=4}fromBER(e,t,r){this.valueBlock.isConstructed=this.idBlock.isConstructed;this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;if(r===0){if(this.idBlock.error.length===0)this.blockLength+=this.idBlock.blockLength;if(this.lenBlock.error.length===0)this.blockLength+=this.lenBlock.blockLength;return t}if(!this.valueBlock.isConstructed){const n=e instanceof ArrayBuffer?new Uint8Array(e):e;const i=n.subarray(t,t+r);try{if(i.byteLength){const e=localFromBER(i,0,i.byteLength);if(e.offset!==-1&&e.offset===r){this.valueBlock.value=[e.result]}}}catch(e){}}return super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length){return Constructed.prototype.onAsciiEncoding.call(this)}return`${this.constructor.NAME} : ${build.Convert.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed){return this.valueBlock.valueHexView.slice().buffer}const e=[];for(const t of this.valueBlock.value){if(t instanceof OctetString$1){e.push(t.valueBlock.valueHexView)}}return build.BufferSourceConverter.concat(e)}}_a$r=OctetString$1;(()=>{typeStore.OctetString=_a$r})();OctetString$1.NAME=OCTET_STRING_NAME;class LocalBitStringValueBlock extends(HexBlock(LocalConstructedValueBlock)){constructor({unusedBits:e=0,isConstructed:t=false,...r}={}){super(r);this.unusedBits=e;this.isConstructed=t;this.blockLength=this.valueHexView.byteLength}fromBER(e,t,r){if(!r){return t}let n=-1;if(this.isConstructed){n=LocalConstructedValueBlock.prototype.fromBER.call(this,e,t,r);if(n===-1)return n;for(const e of this.value){const t=e.constructor.NAME;if(t===END_OF_CONTENT_NAME){if(this.isIndefiniteForm)break;else{this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only";return-1}}if(t!==BIT_STRING_NAME){this.error="BIT STRING may consists of BIT STRINGs only";return-1}const r=e.valueBlock;if(this.unusedBits>0&&r.unusedBits>0){this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only';return-1}this.unusedBits=r.unusedBits}return n}const i=build.BufferSourceConverter.toUint8Array(e);if(!checkBufferParams(this,i,t,r)){return-1}const s=i.subarray(t,t+r);this.unusedBits=s[0];if(this.unusedBits>7){this.error="Unused bits for BitString must be in range 0-7";return-1}if(!this.unusedBits){const e=s.subarray(1);try{if(e.byteLength){const t=localFromBER(e,0,e.byteLength);if(t.offset!==-1&&t.offset===r-1){this.value=[t.result]}}}catch(e){}}this.valueHexView=s.subarray(1);this.blockLength=s.length;return t+r}toBER(e,t){if(this.isConstructed){return LocalConstructedValueBlock.prototype.toBER.call(this,e,t)}if(e){return new ArrayBuffer(this.valueHexView.byteLength+1)}if(!this.valueHexView.byteLength){return EMPTY_BUFFER$1}const r=new Uint8Array(this.valueHexView.length+1);r[0]=this.unusedBits;r.set(this.valueHexView,1);return r.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}LocalBitStringValueBlock.NAME="BitStringValueBlock";var _a$q;class BitString$1 extends BaseBlock{constructor({idBlock:e={},lenBlock:t={},...r}={}){var n,i;(n=r.isConstructed)!==null&&n!==void 0?n:r.isConstructed=!!((i=r.value)===null||i===void 0?void 0:i.length);super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},LocalBitStringValueBlock);this.idBlock.tagClass=1;this.idBlock.tagNumber=3}fromBER(e,t,r){this.valueBlock.isConstructed=this.idBlock.isConstructed;this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;return super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length){return Constructed.prototype.onAsciiEncoding.call(this)}else{const e=[];const t=this.valueBlock.valueHexView;for(const r of t){e.push(r.toString(2).padStart(8,"0"))}const r=e.join("");return`${this.constructor.NAME} : ${r.substring(0,r.length-this.valueBlock.unusedBits)}`}}}_a$q=BitString$1;(()=>{typeStore.BitString=_a$q})();BitString$1.NAME=BIT_STRING_NAME;var _a$p;function viewAdd(e,t){const r=new Uint8Array([0]);const n=new Uint8Array(e);const i=new Uint8Array(t);let s=n.slice(0);const f=s.length-1;const a=i.slice(0);const o=a.length-1;let c=0;const u=o<f?f:o;let l=0;for(let e=u;e>=0;e--,l++){switch(true){case l<a.length:c=s[f-l]+a[o-l]+r[0];break;default:c=s[f-l]+r[0]}r[0]=c/10;switch(true){case l>=s.length:s=utilConcatView(new Uint8Array([c%10]),s);break;default:s[f-l]=c%10}}if(r[0]>0)s=utilConcatView(r,s);return s}function power2(e){if(e>=powers2.length){for(let t=powers2.length;t<=e;t++){const e=new Uint8Array([0]);let r=powers2[t-1].slice(0);for(let t=r.length-1;t>=0;t--){const n=new Uint8Array([(r[t]<<1)+e[0]]);e[0]=n[0]/10;r[t]=n[0]%10}if(e[0]>0)r=utilConcatView(e,r);powers2.push(r)}}return powers2[e]}function viewSub(e,t){let r=0;const n=new Uint8Array(e);const i=new Uint8Array(t);const s=n.slice(0);const f=s.length-1;const a=i.slice(0);const o=a.length-1;let c;let u=0;for(let e=o;e>=0;e--,u++){c=s[f-u]-a[o-u]-r;switch(true){case c<0:r=1;s[f-u]=c+10;break;default:r=0;s[f-u]=c}}if(r>0){for(let e=f-o+1;e>=0;e--,u++){c=s[f-u]-r;if(c<0){r=1;s[f-u]=c+10}else{r=0;s[f-u]=c;break}}}return s.slice()}class LocalIntegerValueBlock extends(HexBlock(ValueBlock)){constructor({value:e,...t}={}){super(t);this._valueDec=0;if(t.valueHex){this.setValueHex()}if(e!==undefined){this.valueDec=e}}setValueHex(){if(this.valueHexView.length>=4){this.warnings.push("Too big Integer for decoding, hex only");this.isHexOnly=true;this._valueDec=0}else{this.isHexOnly=false;if(this.valueHexView.length>0){this._valueDec=utilDecodeTC.call(this)}}}set valueDec(e){this._valueDec=e;this.isHexOnly=false;this.valueHexView=new Uint8Array(utilEncodeTC(e))}get valueDec(){return this._valueDec}fromDER(e,t,r,n=0){const i=this.fromBER(e,t,r);if(i===-1)return i;const s=this.valueHexView;if(s[0]===0&&(s[1]&128)!==0){this.valueHexView=s.subarray(1)}else{if(n!==0){if(s.length<n){if(n-s.length>1)n=s.length+1;this.valueHexView=s.subarray(n-s.length)}}}return i}toDER(e=false){const t=this.valueHexView;switch(true){case(t[0]&128)!==0:{const e=new Uint8Array(this.valueHexView.length+1);e[0]=0;e.set(t,1);this.valueHexView=e}break;case t[0]===0&&(t[1]&128)===0:{this.valueHexView=this.valueHexView.subarray(1)}break}return this.toBER(e)}fromBER(e,t,r){const n=super.fromBER(e,t,r);if(n===-1){return n}this.setValueHex();return n}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const e=this.valueHexView.length*8-1;let t=new Uint8Array(this.valueHexView.length*8/3);let r=0;let n;const i=this.valueHexView;let s="";let f=false;for(let f=i.byteLength-1;f>=0;f--){n=i[f];for(let i=0;i<8;i++){if((n&1)===1){switch(r){case e:t=viewSub(power2(r),t);s="-";break;default:t=viewAdd(t,power2(r))}}r++;n>>=1}}for(let e=0;e<t.length;e++){if(t[e])f=true;if(f)s+=digitsString.charAt(t[e])}if(f===false)s+=digitsString.charAt(0);return s}}_a$p=LocalIntegerValueBlock;LocalIntegerValueBlock.NAME="IntegerValueBlock";(()=>{Object.defineProperty(_a$p.prototype,"valueHex",{set:function(e){this.valueHexView=new Uint8Array(e);this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}})})();var _a$o;class Integer extends BaseBlock{constructor(e={}){super(e,LocalIntegerValueBlock);this.idBlock.tagClass=1;this.idBlock.tagNumber=2}toBigInt(){assertBigInt();return BigInt(this.valueBlock.toString())}static fromBigInt(e){assertBigInt();const t=BigInt(e);const r=new ViewWriter;const n=t.toString(16).replace(/^-/,"");const i=new Uint8Array(build.Convert.FromHex(n));if(t<0){const e=new Uint8Array(i.length+(i[0]&128?1:0));e[0]|=128;const n=BigInt(`0x${build.Convert.ToHex(e)}`);const s=n+t;const f=build.BufferSourceConverter.toUint8Array(build.Convert.FromHex(s.toString(16)));f[0]|=128;r.write(f)}else{if(i[0]&128){r.write(new Uint8Array([0]))}r.write(i)}const s=new Integer({valueHex:r.final()});return s}convertToDER(){const e=new Integer({valueHex:this.valueBlock.valueHexView});e.valueBlock.toDER();return e}convertFromDER(){return new Integer({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}_a$o=Integer;(()=>{typeStore.Integer=_a$o})();Integer.NAME="INTEGER";var _a$n;class Enumerated extends Integer{constructor(e={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=10}}_a$n=Enumerated;(()=>{typeStore.Enumerated=_a$n})();Enumerated.NAME="ENUMERATED";class LocalSidValueBlock extends(HexBlock(ValueBlock)){constructor({valueDec:e=-1,isFirstSid:t=false,...r}={}){super(r);this.valueDec=e;this.isFirstSid=t}fromBER(e,t,r){if(!r){return t}const n=build.BufferSourceConverter.toUint8Array(e);if(!checkBufferParams(this,n,t,r)){return-1}const i=n.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r;e++){this.valueHexView[e]=i[e]&127;this.blockLength++;if((i[e]&128)===0)break}const s=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++){s[e]=this.valueHexView[e]}this.valueHexView=s;if((i[this.blockLength-1]&128)!==0){this.error="End of input reached before message was fully decoded";return-1}if(this.valueHexView[0]===0)this.warnings.push("Needlessly long format of SID encoding");if(this.blockLength<=8)this.valueDec=utilFromBase(this.valueHexView,7);else{this.isHexOnly=true;this.warnings.push("Too big SID for decoding, hex only")}return t+this.blockLength}set valueBigInt(e){assertBigInt();let t=BigInt(e).toString(2);while(t.length%7){t="0"+t}const r=new Uint8Array(t.length/7);for(let e=0;e<r.length;e++){r[e]=parseInt(t.slice(e*7,e*7+7),2)+(e+1<r.length?128:0)}this.fromBER(r.buffer,0,r.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const t=this.valueHexView;const r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=t[e]|128;r[this.blockLength-1]=t[this.blockLength-1];return r.buffer}const t=utilToBase(this.valueDec,7);if(t.byteLength===0){this.error="Error during encoding SID value";return EMPTY_BUFFER$1}const r=new Uint8Array(t.byteLength);if(!e){const e=new Uint8Array(t);const n=t.byteLength-1;for(let t=0;t<n;t++)r[t]=e[t]|128;r[n]=e[n]}return r}toString(){let e="";if(this.isHexOnly)e=build.Convert.ToHex(this.valueHexView);else{if(this.isFirstSid){let t=this.valueDec;if(this.valueDec<=39)e="0.";else{if(this.valueDec<=79){e="1.";t-=40}else{e="2.";t-=80}}e+=t.toString()}else e=this.valueDec.toString()}return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}LocalSidValueBlock.NAME="sidBlock";class LocalObjectIdentifierValueBlock extends ValueBlock{constructor({value:e=EMPTY_STRING$1,...t}={}){super(t);this.value=[];if(e){this.fromString(e)}}fromBER(e,t,r){let n=t;while(r>0){const t=new LocalSidValueBlock;n=t.fromBER(e,n,r);if(n===-1){this.blockLength=0;this.error=t.error;return n}if(this.value.length===0)t.isFirstSid=true;this.blockLength+=t.blockLength;r-=t.blockLength;this.value.push(t)}return n}toBER(e){const t=[];for(let r=0;r<this.value.length;r++){const n=this.value[r].toBER(e);if(n.byteLength===0){this.error=this.value[r].error;return EMPTY_BUFFER$1}t.push(n)}return concat$4(t)}fromString(e){this.value=[];let t=0;let r=0;let n="";let i=false;do{r=e.indexOf(".",t);if(r===-1)n=e.substring(t);else n=e.substring(t,r);t=r+1;if(i){const e=this.value[0];let t=0;switch(e.valueDec){case 0:break;case 1:t=40;break;case 2:t=80;break;default:this.value=[];return}const r=parseInt(n,10);if(isNaN(r))return;e.valueDec=r+t;i=false}else{const e=new LocalSidValueBlock;if(n>Number.MAX_SAFE_INTEGER){assertBigInt();const t=BigInt(n);e.valueBigInt=t}else{e.valueDec=parseInt(n,10);if(isNaN(e.valueDec))return}if(!this.value.length){e.isFirstSid=true;i=true}this.value.push(e)}}while(r!==-1)}toString(){let e="";let t=false;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let n=this.value[r].toString();if(r!==0)e=`${e}.`;if(t){n=`{${n}}`;if(this.value[r].isFirstSid)e=`2.{${n} - 80}`;else e+=n}else e+=n}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++){e.sidArray.push(this.value[t].toJSON())}return e}}LocalObjectIdentifierValueBlock.NAME="ObjectIdentifierValueBlock";var _a$m;class ObjectIdentifier$1 extends BaseBlock{constructor(e={}){super(e,LocalObjectIdentifierValueBlock);this.idBlock.tagClass=1;this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}_a$m=ObjectIdentifier$1;(()=>{typeStore.ObjectIdentifier=_a$m})();ObjectIdentifier$1.NAME="OBJECT IDENTIFIER";class LocalRelativeSidValueBlock extends(HexBlock(LocalBaseBlock)){constructor({valueDec:e=0,...t}={}){super(t);this.valueDec=e}fromBER(e,t,r){if(r===0)return t;const n=build.BufferSourceConverter.toUint8Array(e);if(!checkBufferParams(this,n,t,r))return-1;const i=n.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r;e++){this.valueHexView[e]=i[e]&127;this.blockLength++;if((i[e]&128)===0)break}const s=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)s[e]=this.valueHexView[e];this.valueHexView=s;if((i[this.blockLength-1]&128)!==0){this.error="End of input reached before message was fully decoded";return-1}if(this.valueHexView[0]===0)this.warnings.push("Needlessly long format of SID encoding");if(this.blockLength<=8)this.valueDec=utilFromBase(this.valueHexView,7);else{this.isHexOnly=true;this.warnings.push("Too big SID for decoding, hex only")}return t+this.blockLength}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const t=this.valueHexView;const r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=t[e]|128;r[this.blockLength-1]=t[this.blockLength-1];return r.buffer}const t=utilToBase(this.valueDec,7);if(t.byteLength===0){this.error="Error during encoding SID value";return EMPTY_BUFFER$1}const r=new Uint8Array(t.byteLength);if(!e){const e=new Uint8Array(t);const n=t.byteLength-1;for(let t=0;t<n;t++)r[t]=e[t]|128;r[n]=e[n]}return r.buffer}toString(){let e="";if(this.isHexOnly)e=build.Convert.ToHex(this.valueHexView);else{e=this.valueDec.toString()}return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}LocalRelativeSidValueBlock.NAME="relativeSidBlock";class LocalRelativeObjectIdentifierValueBlock extends ValueBlock{constructor({value:e=EMPTY_STRING$1,...t}={}){super(t);this.value=[];if(e){this.fromString(e)}}fromBER(e,t,r){let n=t;while(r>0){const t=new LocalRelativeSidValueBlock;n=t.fromBER(e,n,r);if(n===-1){this.blockLength=0;this.error=t.error;return n}this.blockLength+=t.blockLength;r-=t.blockLength;this.value.push(t)}return n}toBER(e,t){const r=[];for(let t=0;t<this.value.length;t++){const n=this.value[t].toBER(e);if(n.byteLength===0){this.error=this.value[t].error;return EMPTY_BUFFER$1}r.push(n)}return concat$4(r)}fromString(e){this.value=[];let t=0;let r=0;let n="";do{r=e.indexOf(".",t);if(r===-1)n=e.substring(t);else n=e.substring(t,r);t=r+1;const i=new LocalRelativeSidValueBlock;i.valueDec=parseInt(n,10);if(isNaN(i.valueDec))return true;this.value.push(i)}while(r!==-1);return true}toString(){let e="";let t=false;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let n=this.value[r].toString();if(r!==0)e=`${e}.`;if(t){n=`{${n}}`;e+=n}else e+=n}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}LocalRelativeObjectIdentifierValueBlock.NAME="RelativeObjectIdentifierValueBlock";var _a$l;class RelativeObjectIdentifier extends BaseBlock{constructor(e={}){super(e,LocalRelativeObjectIdentifierValueBlock);this.idBlock.tagClass=1;this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}_a$l=RelativeObjectIdentifier;(()=>{typeStore.RelativeObjectIdentifier=_a$l})();RelativeObjectIdentifier.NAME="RelativeObjectIdentifier";var _a$k;class Sequence extends Constructed{constructor(e={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=16}}_a$k=Sequence;(()=>{typeStore.Sequence=_a$k})();Sequence.NAME="SEQUENCE";var _a$j;class Set$1 extends Constructed{constructor(e={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=17}}_a$j=Set$1;(()=>{typeStore.Set=_a$j})();Set$1.NAME="SET";class LocalStringValueBlock extends(HexBlock(ValueBlock)){constructor({...e}={}){super(e);this.isHexOnly=true;this.value=EMPTY_STRING$1}toJSON(){return{...super.toJSON(),value:this.value}}}LocalStringValueBlock.NAME="StringValueBlock";class LocalSimpleStringValueBlock extends LocalStringValueBlock{}LocalSimpleStringValueBlock.NAME="SimpleStringValueBlock";class LocalSimpleStringBlock extends BaseStringBlock{constructor({...e}={}){super(e,LocalSimpleStringValueBlock)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,build.BufferSourceConverter.toUint8Array(e))}fromString(e){const t=e.length;const r=this.valueBlock.valueHexView=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);this.valueBlock.value=e}}LocalSimpleStringBlock.NAME="SIMPLE STRING";class LocalUtf8StringValueBlock extends LocalSimpleStringBlock{fromBuffer(e){this.valueBlock.valueHexView=build.BufferSourceConverter.toUint8Array(e);try{this.valueBlock.value=build.Convert.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`);this.valueBlock.value=build.Convert.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(build.Convert.FromUtf8String(e));this.valueBlock.value=e}}LocalUtf8StringValueBlock.NAME="Utf8StringValueBlock";var _a$i;class Utf8String extends LocalUtf8StringValueBlock{constructor(e={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=12}}_a$i=Utf8String;(()=>{typeStore.Utf8String=_a$i})();Utf8String.NAME="UTF8String";class LocalBmpStringValueBlock extends LocalSimpleStringBlock{fromBuffer(e){this.valueBlock.value=build.Convert.ToUtf16String(e);this.valueBlock.valueHexView=build.BufferSourceConverter.toUint8Array(e)}fromString(e){this.valueBlock.value=e;this.valueBlock.valueHexView=new Uint8Array(build.Convert.FromUtf16String(e))}}LocalBmpStringValueBlock.NAME="BmpStringValueBlock";var _a$h;class BmpString extends LocalBmpStringValueBlock{constructor({...e}={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=30}}_a$h=BmpString;(()=>{typeStore.BmpString=_a$h})();BmpString.NAME="BMPString";class LocalUniversalStringValueBlock extends LocalSimpleStringBlock{fromBuffer(e){const t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0);const r=new Uint8Array(t);for(let e=0;e<r.length;e+=4){r[e]=r[e+3];r[e+1]=r[e+2];r[e+2]=0;r[e+3]=0}this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){const t=e.length;const r=this.valueBlock.valueHexView=new Uint8Array(t*4);for(let n=0;n<t;n++){const t=utilToBase(e.charCodeAt(n),8);const i=new Uint8Array(t);if(i.length>4)continue;const s=4-i.length;for(let e=i.length-1;e>=0;e--)r[n*4+e+s]=i[e]}this.valueBlock.value=e}}LocalUniversalStringValueBlock.NAME="UniversalStringValueBlock";var _a$g;class UniversalString extends LocalUniversalStringValueBlock{constructor({...e}={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=28}}_a$g=UniversalString;(()=>{typeStore.UniversalString=_a$g})();UniversalString.NAME="UniversalString";var _a$f;class NumericString extends LocalSimpleStringBlock{constructor(e={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=18}}_a$f=NumericString;(()=>{typeStore.NumericString=_a$f})();NumericString.NAME="NumericString";var _a$e;class PrintableString extends LocalSimpleStringBlock{constructor(e={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=19}}_a$e=PrintableString;(()=>{typeStore.PrintableString=_a$e})();PrintableString.NAME="PrintableString";var _a$d;class TeletexString extends LocalSimpleStringBlock{constructor(e={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=20}}_a$d=TeletexString;(()=>{typeStore.TeletexString=_a$d})();TeletexString.NAME="TeletexString";var _a$c;class VideotexString extends LocalSimpleStringBlock{constructor(e={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=21}}_a$c=VideotexString;(()=>{typeStore.VideotexString=_a$c})();VideotexString.NAME="VideotexString";var _a$b;class IA5String extends LocalSimpleStringBlock{constructor(e={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=22}}_a$b=IA5String;(()=>{typeStore.IA5String=_a$b})();IA5String.NAME="IA5String";var _a$a;class GraphicString extends LocalSimpleStringBlock{constructor(e={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=25}}_a$a=GraphicString;(()=>{typeStore.GraphicString=_a$a})();GraphicString.NAME="GraphicString";var _a$9;class VisibleString extends LocalSimpleStringBlock{constructor(e={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=26}}_a$9=VisibleString;(()=>{typeStore.VisibleString=_a$9})();VisibleString.NAME="VisibleString";var _a$8;class GeneralString extends LocalSimpleStringBlock{constructor(e={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=27}}_a$8=GeneralString;(()=>{typeStore.GeneralString=_a$8})();GeneralString.NAME="GeneralString";var _a$7;class CharacterString extends LocalSimpleStringBlock{constructor(e={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=29}}_a$7=CharacterString;(()=>{typeStore.CharacterString=_a$7})();CharacterString.NAME="CharacterString";var _a$6;class UTCTime extends VisibleString{constructor({value:e,valueDate:t,...r}={}){super(r);this.year=0;this.month=0;this.day=0;this.hour=0;this.minute=0;this.second=0;if(e){this.fromString(e);this.valueBlock.valueHexView=new Uint8Array(e.length);for(let t=0;t<e.length;t++)this.valueBlock.valueHexView[t]=e.charCodeAt(t)}if(t){this.fromDate(t);this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())}this.idBlock.tagClass=1;this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,build.BufferSourceConverter.toUint8Array(e)))}toBuffer(){const e=this.toString();const t=new ArrayBuffer(e.length);const r=new Uint8Array(t);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return t}fromDate(e){this.year=e.getUTCFullYear();this.month=e.getUTCMonth()+1;this.day=e.getUTCDate();this.hour=e.getUTCHours();this.minute=e.getUTCMinutes();this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){const t=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi;const r=t.exec(e);if(r===null){this.error="Wrong input string for conversion";return}const n=parseInt(r[1],10);if(n>=50)this.year=1900+n;else this.year=2e3+n;this.month=parseInt(r[2],10);this.day=parseInt(r[3],10);this.hour=parseInt(r[4],10);this.minute=parseInt(r[5],10);this.second=parseInt(r[6],10)}toString(e="iso"){if(e==="iso"){const e=new Array(7);e[0]=padNumber(this.year<2e3?this.year-1900:this.year-2e3,2);e[1]=padNumber(this.month,2);e[2]=padNumber(this.day,2);e[3]=padNumber(this.hour,2);e[4]=padNumber(this.minute,2);e[5]=padNumber(this.second,2);e[6]="Z";return e.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}_a$6=UTCTime;(()=>{typeStore.UTCTime=_a$6})();UTCTime.NAME="UTCTime";var _a$5;class GeneralizedTime extends UTCTime{constructor(e={}){var t;super(e);(t=this.millisecond)!==null&&t!==void 0?t:this.millisecond=0;this.idBlock.tagClass=1;this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e);this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t=false;let r="";let n="";let i=0;let s;let f=0;let a=0;if(e[e.length-1]==="Z"){r=e.substring(0,e.length-1);t=true}else{const t=new Number(e[e.length-1]);if(isNaN(t.valueOf()))throw new Error("Wrong input string for conversion");r=e}if(t){if(r.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(r.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let e=1;let t=r.indexOf("+");let n="";if(t===-1){t=r.indexOf("-");e=-1}if(t!==-1){n=r.substring(t+1);r=r.substring(0,t);if(n.length!==2&&n.length!==4)throw new Error("Wrong input string for conversion");let i=parseInt(n.substring(0,2),10);if(isNaN(i.valueOf()))throw new Error("Wrong input string for conversion");f=e*i;if(n.length===4){i=parseInt(n.substring(2,4),10);if(isNaN(i.valueOf()))throw new Error("Wrong input string for conversion");a=e*i}}}let o=r.indexOf(".");if(o===-1)o=r.indexOf(",");if(o!==-1){const e=new Number(`0${r.substring(o)}`);if(isNaN(e.valueOf()))throw new Error("Wrong input string for conversion");i=e.valueOf();n=r.substring(0,o)}else n=r;switch(true){case n.length===8:s=/(\d{4})(\d{2})(\d{2})/gi;if(o!==-1)throw new Error("Wrong input string for conversion");break;case n.length===10:s=/(\d{4})(\d{2})(\d{2})(\d{2})/gi;if(o!==-1){let e=60*i;this.minute=Math.floor(e);e=60*(e-this.minute);this.second=Math.floor(e);e=1e3*(e-this.second);this.millisecond=Math.floor(e)}break;case n.length===12:s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi;if(o!==-1){let e=60*i;this.second=Math.floor(e);e=1e3*(e-this.second);this.millisecond=Math.floor(e)}break;case n.length===14:s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi;if(o!==-1){const e=1e3*i;this.millisecond=Math.floor(e)}break;default:throw new Error("Wrong input string for conversion")}const c=s.exec(n);if(c===null)throw new Error("Wrong input string for conversion");for(let e=1;e<c.length;e++){switch(e){case 1:this.year=parseInt(c[e],10);break;case 2:this.month=parseInt(c[e],10);break;case 3:this.day=parseInt(c[e],10);break;case 4:this.hour=parseInt(c[e],10)+f;break;case 5:this.minute=parseInt(c[e],10)+a;break;case 6:this.second=parseInt(c[e],10);break;default:throw new Error("Wrong input string for conversion")}}if(t===false){const e=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=e.getUTCFullYear();this.month=e.getUTCMonth();this.day=e.getUTCDay();this.hour=e.getUTCHours();this.minute=e.getUTCMinutes();this.second=e.getUTCSeconds();this.millisecond=e.getUTCMilliseconds()}}toString(e="iso"){if(e==="iso"){const e=[];e.push(padNumber(this.year,4));e.push(padNumber(this.month,2));e.push(padNumber(this.day,2));e.push(padNumber(this.hour,2));e.push(padNumber(this.minute,2));e.push(padNumber(this.second,2));if(this.millisecond!==0){e.push(".");e.push(padNumber(this.millisecond,3))}e.push("Z");return e.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}_a$5=GeneralizedTime;(()=>{typeStore.GeneralizedTime=_a$5})();GeneralizedTime.NAME="GeneralizedTime";var _a$4;class DATE extends Utf8String{constructor(e={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=31}}_a$4=DATE;(()=>{typeStore.DATE=_a$4})();DATE.NAME="DATE";var _a$3$1;class TimeOfDay extends Utf8String{constructor(e={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=32}}_a$3$1=TimeOfDay;(()=>{typeStore.TimeOfDay=_a$3$1})();TimeOfDay.NAME="TimeOfDay";var _a$2$1;class DateTime extends Utf8String{constructor(e={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=33}}_a$2$1=DateTime;(()=>{typeStore.DateTime=_a$2$1})();DateTime.NAME="DateTime";var _a$1$1;class Duration extends Utf8String{constructor(e={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=34}}_a$1$1=Duration;(()=>{typeStore.Duration=_a$1$1})();Duration.NAME="Duration";var _a$x;class TIME$1 extends Utf8String{constructor(e={}){super(e);this.idBlock.tagClass=1;this.idBlock.tagNumber=14}}_a$x=TIME$1;(()=>{typeStore.TIME=_a$x})();TIME$1.NAME="TIME";class Any{constructor({name:e=EMPTY_STRING$1,optional:t=false}={}){this.name=e;this.optional=t}}class Choice extends Any{constructor({value:e=[],...t}={}){super(t);this.value=e}}class Repeated extends Any{constructor({value:e=new Any,local:t=false,...r}={}){super(r);this.value=e;this.local=t}}class RawData{constructor({data:e=EMPTY_VIEW}={}){this.dataView=build.BufferSourceConverter.toUint8Array(e)}get data(){return this.dataView.slice().buffer}set data(e){this.dataView=build.BufferSourceConverter.toUint8Array(e)}fromBER(e,t,r){const n=t+r;this.dataView=build.BufferSourceConverter.toUint8Array(e).subarray(t,n);return n}toBER(e){return this.dataView.slice().buffer}}function compareSchema(e,t,r){if(r instanceof Choice){for(let n=0;n<r.value.length;n++){const i=compareSchema(e,t,r.value[n]);if(i.verified){return{verified:true,result:e}}}{const e={verified:false,result:{error:"Wrong values for Choice type"}};if(r.hasOwnProperty(NAME$2))e.name=r.name;return e}}if(r instanceof Any){if(r.hasOwnProperty(NAME$2))e[r.name]=t;return{verified:true,result:e}}if(e instanceof Object===false){return{verified:false,result:{error:"Wrong root object"}}}if(t instanceof Object===false){return{verified:false,result:{error:"Wrong ASN.1 data"}}}if(r instanceof Object===false){return{verified:false,result:{error:"Wrong ASN.1 schema"}}}if(ID_BLOCK in r===false){return{verified:false,result:{error:"Wrong ASN.1 schema"}}}if(FROM_BER in r.idBlock===false){return{verified:false,result:{error:"Wrong ASN.1 schema"}}}if(TO_BER in r.idBlock===false){return{verified:false,result:{error:"Wrong ASN.1 schema"}}}const n=r.idBlock.toBER(false);if(n.byteLength===0){return{verified:false,result:{error:"Error encoding idBlock for ASN.1 schema"}}}const i=r.idBlock.fromBER(n,0,n.byteLength);if(i===-1){return{verified:false,result:{error:"Error decoding idBlock for ASN.1 schema"}}}if(r.idBlock.hasOwnProperty(TAG_CLASS)===false){return{verified:false,result:{error:"Wrong ASN.1 schema"}}}if(r.idBlock.tagClass!==t.idBlock.tagClass){return{verified:false,result:e}}if(r.idBlock.hasOwnProperty(TAG_NUMBER)===false){return{verified:false,result:{error:"Wrong ASN.1 schema"}}}if(r.idBlock.tagNumber!==t.idBlock.tagNumber){return{verified:false,result:e}}if(r.idBlock.hasOwnProperty(IS_CONSTRUCTED)===false){return{verified:false,result:{error:"Wrong ASN.1 schema"}}}if(r.idBlock.isConstructed!==t.idBlock.isConstructed){return{verified:false,result:e}}if(!(IS_HEX_ONLY in r.idBlock)){return{verified:false,result:{error:"Wrong ASN.1 schema"}}}if(r.idBlock.isHexOnly!==t.idBlock.isHexOnly){return{verified:false,result:e}}if(r.idBlock.isHexOnly){if(VALUE_HEX_VIEW in r.idBlock===false){return{verified:false,result:{error:"Wrong ASN.1 schema"}}}const n=r.idBlock.valueHexView;const i=t.idBlock.valueHexView;if(n.length!==i.length){return{verified:false,result:e}}for(let t=0;t<n.length;t++){if(n[t]!==i[1]){return{verified:false,result:e}}}}if(r.name){r.name=r.name.replace(/^\s+|\s+$/g,EMPTY_STRING$1);if(r.name)e[r.name]=t}if(r instanceof typeStore.Constructed){let n=0;let i={verified:false,result:{error:"Unknown error"}};let s=r.valueBlock.value.length;if(s>0){if(r.valueBlock.value[0]instanceof Repeated){s=t.valueBlock.value.length}}if(s===0){return{verified:true,result:e}}if(t.valueBlock.value.length===0&&r.valueBlock.value.length!==0){let t=true;for(let e=0;e<r.valueBlock.value.length;e++)t=t&&(r.valueBlock.value[e].optional||false);if(t){return{verified:true,result:e}}if(r.name){r.name=r.name.replace(/^\s+|\s+$/g,EMPTY_STRING$1);if(r.name)delete e[r.name]}e.error="Inconsistent object length";return{verified:false,result:e}}for(let f=0;f<s;f++){if(f-n>=t.valueBlock.value.length){if(r.valueBlock.value[f].optional===false){const t={verified:false,result:e};e.error="Inconsistent length between ASN.1 data and schema";if(r.name){r.name=r.name.replace(/^\s+|\s+$/g,EMPTY_STRING$1);if(r.name){delete e[r.name];t.name=r.name}}return t}}else{if(r.valueBlock.value[0]instanceof Repeated){i=compareSchema(e,t.valueBlock.value[f],r.valueBlock.value[0].value);if(i.verified===false){if(r.valueBlock.value[0].optional)n++;else{if(r.name){r.name=r.name.replace(/^\s+|\s+$/g,EMPTY_STRING$1);if(r.name)delete e[r.name]}return i}}if(NAME$2 in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let n={};if(LOCAL in r.valueBlock.value[0]&&r.valueBlock.value[0].local)n=t;else n=e;if(typeof n[r.valueBlock.value[0].name]==="undefined")n[r.valueBlock.value[0].name]=[];n[r.valueBlock.value[0].name].push(t.valueBlock.value[f])}}else{i=compareSchema(e,t.valueBlock.value[f-n],r.valueBlock.value[f]);if(i.verified===false){if(r.valueBlock.value[f].optional)n++;else{if(r.name){r.name=r.name.replace(/^\s+|\s+$/g,EMPTY_STRING$1);if(r.name)delete e[r.name]}return i}}}}}if(i.verified===false){const t={verified:false,result:e};if(r.name){r.name=r.name.replace(/^\s+|\s+$/g,EMPTY_STRING$1);if(r.name){delete e[r.name];t.name=r.name}}return t}return{verified:true,result:e}}if(r.primitiveSchema&&VALUE_HEX_VIEW in t.valueBlock){const n=localFromBER(t.valueBlock.valueHexView);if(n.offset===-1){const t={verified:false,result:n.result};if(r.name){r.name=r.name.replace(/^\s+|\s+$/g,EMPTY_STRING$1);if(r.name){delete e[r.name];t.name=r.name}}return t}return compareSchema(e,n.result,r.primitiveSchema)}return{verified:true,result:e}}function verifySchema(e,t){if(t instanceof Object===false){return{verified:false,result:{error:"Wrong ASN.1 schema type"}}}const r=localFromBER(build.BufferSourceConverter.toUint8Array(e));if(r.offset===-1){return{verified:false,result:r.result}}return compareSchema(r.result,r.result,t)}const asn1js=Object.freeze({__proto__:null,Any,BaseBlock,BaseStringBlock,BitString:BitString$1,BmpString,Boolean:Boolean$1,CharacterString,Choice,Constructed,DATE,DateTime,Duration,EndOfContent,Enumerated,GeneralString,GeneralizedTime,GraphicString,HexBlock,IA5String,Integer,Null,NumericString,ObjectIdentifier:ObjectIdentifier$1,OctetString:OctetString$1,Primitive,PrintableString,RawData,RelativeObjectIdentifier,Repeated,Sequence,Set:Set$1,TIME:TIME$1,TeletexString,TimeOfDay,UTCTime,UniversalString,Utf8String,ValueBlock,VideotexString,ViewWriter,VisibleString,compareSchema,fromBER,verifySchema});class ByteStream{constructor(e={}){if("view"in e){this.fromUint8Array(e.view)}else if("buffer"in e){this.fromArrayBuffer(e.buffer)}else if("string"in e){this.fromString(e.string)}else if("hexstring"in e){this.fromHexString(e.hexstring)}else{if("length"in e&&e.length>0){this.length=e.length;if(e.stub){for(let t=0;t<this._view.length;t++){this._view[t]=e.stub}}}else{this.length=0}}}set buffer(e){this._buffer=e;this._view=new Uint8Array(this._buffer)}get buffer(){return this._buffer}set view(e){this._buffer=new ArrayBuffer(e.length);this._view=new Uint8Array(this._buffer);this._view.set(e)}get view(){return this._view}get length(){return this.view.byteLength}set length(e){this._buffer=new ArrayBuffer(e);this._view=new Uint8Array(this._buffer)}clear(){this._buffer=new ArrayBuffer(0);this._view=new Uint8Array(this._buffer)}fromArrayBuffer(e){this._buffer=e;this._view=new Uint8Array(this._buffer)}fromUint8Array(e){this.fromArrayBuffer(new Uint8Array(e).buffer)}fromString(e){const t=e.length;this.length=t;for(let r=0;r<t;r++)this.view[r]=e.charCodeAt(r)}toString(e=0,t=this.view.length-e){let r="";if(e>=this.view.length||e<0){e=0}if(t>=this.view.length||t<0){t=this.view.length-e}for(let n=e;n<e+t;n++)r+=String.fromCharCode(this.view[n]);return r}fromHexString(e){const t=e.length;this.buffer=new ArrayBuffer(t>>1);this.view=new Uint8Array(this.buffer);const r=new Map;r.set("0",0);r.set("1",1);r.set("2",2);r.set("3",3);r.set("4",4);r.set("5",5);r.set("6",6);r.set("7",7);r.set("8",8);r.set("9",9);r.set("A",10);r.set("a",10);r.set("B",11);r.set("b",11);r.set("C",12);r.set("c",12);r.set("D",13);r.set("d",13);r.set("E",14);r.set("e",14);r.set("F",15);r.set("f",15);let n=0;let i=0;for(let s=0;s<t;s++){if(!(s%2)){i=r.get(e.charAt(s))<<4}else{i|=r.get(e.charAt(s));this.view[n]=i;n++}}}toHexString(e=0,t=this.view.length-e){let r="";if(e>=this.view.length||e<0){e=0}if(t>=this.view.length||t<0){t=this.view.length-e}for(let n=e;n<e+t;n++){const e=this.view[n].toString(16).toUpperCase();r=r+(e.length==1?"0":"")+e}return r}copy(e=0,t=this.length-e){if(!e&&!this.length){return new ByteStream}if(e<0||e>this.length-1){throw new Error(`Wrong start position: ${e}`)}const r=new ByteStream({buffer:this._buffer.slice(e,e+t)});return r}slice(e=0,t=this.length){if(!e&&!this.length){return new ByteStream}if(e<0||e>this.length-1){throw new Error(`Wrong start position: ${e}`)}const r=new ByteStream({buffer:this._buffer.slice(e,t)});return r}realloc(e){const t=new ArrayBuffer(e);const r=new Uint8Array(t);if(e>this._view.length)r.set(this._view);else{r.set(new Uint8Array(this._buffer,0,e))}this._buffer=t;this._view=new Uint8Array(this._buffer)}append(e){const t=this.length;const r=e.length;const n=e._view.subarray();this.realloc(t+r);this._view.set(n,t)}insert(e,t=0,r=this.length-t){if(t>this.length-1)return false;if(r>this.length-t){r=this.length-t}if(r>e.length){r=e.length}if(r==e.length)this._view.set(e._view,t);else{this._view.set(e._view.subarray(0,r),t)}return true}isEqual(e){if(this.length!=e.length)return false;for(let t=0;t<e.length;t++){if(this.view[t]!=e.view[t])return false}return true}isEqualView(e){if(e.length!=this.view.length)return false;for(let t=0;t<e.length;t++){if(this.view[t]!=e[t])return false}return true}findPattern(e,t,r,n){const{start:i,length:s,backward:f}=this.prepareFindParameters(t,r,n);const a=e.length;if(a>s){return-1}const o=[];for(let t=0;t<a;t++)o.push(e.view[t]);for(let e=0;e<=s-a;e++){let t=true;const r=f?i-a-e:i+e;for(let e=0;e<a;e++){if(this.view[e+r]!=o[e]){t=false;break}}if(t){return f?i-a-e:i+a+e}}return-1}findFirstIn(e,t,r,n){const{start:i,length:s,backward:f}=this.prepareFindParameters(t,r,n);const a={id:-1,position:f?0:i+s,length:0};for(let t=0;t<e.length;t++){const r=this.findPattern(e[t],i,s,f);if(r!=-1){let n=false;const i=e[t].length;if(f){if(r-i>=a.position-a.length)n=true}else{if(r-i<=a.position-a.length)n=true}if(n){a.position=r;a.id=t;a.length=i}}}return a}findAllIn(e,t,r){let{start:n,length:i}=this.prepareFindParameters(t,r);const s=[];let f={id:-1,position:n};do{const t=f.position;f=this.findFirstIn(e,f.position,i);if(f.id==-1){break}i-=f.position-t;s.push({id:f.id,position:f.position})}while(true);return s}findAllPatternIn(e,t,r){const{start:n,length:i}=this.prepareFindParameters(t,r);const s=[];const f=e.length;if(f>i){return-1}const a=Array.from(e.view);for(let e=0;e<=i-f;e++){let t=true;const r=n+e;for(let e=0;e<f;e++){if(this.view[e+r]!=a[e]){t=false;break}}if(t){s.push(n+f+e);e+=f-1}}return s}findFirstNotIn(e,t,r,n){let{start:i,length:s,backward:f}=this.prepareFindParameters(t,r,n);const a={left:{id:-1,position:i},right:{id:-1,position:0},value:new ByteStream};let o=s;while(o>0){a.right=this.findFirstIn(e,f?i-s+o:i+s-o,o,f);if(a.right.id==-1){s=o;if(f){i-=s}else{i=a.left.position}a.value=new ByteStream({buffer:this._buffer.slice(i,i+s)});break}if(a.right.position!=(f?a.left.position-e[a.right.id].length:a.left.position+e[a.right.id].length)){if(f){i=a.right.position+e[a.right.id].length;s=a.left.position-a.right.position-e[a.right.id].length}else{i=a.left.position;s=a.right.position-a.left.position-e[a.right.id].length}a.value=new ByteStream({buffer:this._buffer.slice(i,i+s)});break}a.left=a.right;o-=e[a.right.id].length}if(f){const e=a.right;a.right=a.left;a.left=e}return a}findAllNotIn(e,t,r){let{start:n,length:i}=this.prepareFindParameters(t,r);const s=[];let f={left:{id:-1,position:n},right:{id:-1,position:n},value:new ByteStream};do{const t=f.right.position;f=this.findFirstNotIn(e,f.right.position,i);i-=f.right.position-t;s.push({left:{id:f.left.id,position:f.left.position},right:{id:f.right.id,position:f.right.position},value:f.value})}while(f.right.id!=-1);return s}findFirstSequence(e,t,r,n){let{start:i,length:s,backward:f}=this.prepareFindParameters(t,r,n);const a=this.skipNotPatterns(e,i,s,f);if(a==-1){return{position:-1,value:new ByteStream}}const o=this.skipPatterns(e,a,s-(f?i-a:a-i),f);if(f){i=o;s=a-o}else{i=a;s=o-a}const c=new ByteStream({buffer:this._buffer.slice(i,i+s)});return{position:o,value:c}}findAllSequences(e,t,r){let{start:n,length:i}=this.prepareFindParameters(t,r);const s=[];let f={position:n,value:new ByteStream};do{const t=f.position;f=this.findFirstSequence(e,f.position,i);if(f.position!=-1){i-=f.position-t;s.push({position:f.position,value:f.value})}}while(f.position!=-1);return s}findPairedPatterns(e,t,r,n){const i=[];if(e.isEqual(t))return i;const{start:s,length:f}=this.prepareFindParameters(r,n);let a=0;const o=this.findAllPatternIn(e,s,f);if(!Array.isArray(o)||o.length==0){return i}const c=this.findAllPatternIn(t,s,f);if(!Array.isArray(c)||c.length==0){return i}while(a<o.length){if(c.length==0){break}if(o[0]==c[0]){i.push({left:o[0],right:c[0]});o.splice(0,1);c.splice(0,1);continue}if(o[a]>c[0]){break}while(o[a]<c[0]){a++;if(a>=o.length){break}}i.push({left:o[a-1],right:c[0]});o.splice(a-1,1);c.splice(0,1);a=0}i.sort(((e,t)=>e.left-t.left));return i}findPairedArrays(e,t,r,n){const{start:i,length:s}=this.prepareFindParameters(r,n);const f=[];let a=0;const o=this.findAllIn(e,i,s);if(o.length==0)return f;const c=this.findAllIn(t,i,s);if(c.length==0)return f;while(a<o.length){if(c.length==0){break}if(o[0].position==c[0].position){f.push({left:o[0],right:c[0]});o.splice(0,1);c.splice(0,1);continue}if(o[a].position>c[0].position){break}while(o[a].position<c[0].position){a++;if(a>=o.length){break}}f.push({left:o[a-1],right:c[0]});o.splice(a-1,1);c.splice(0,1);a=0}f.sort(((e,t)=>e.left.position-t.left.position));return f}replacePattern(e,t,r,n,i=null){let s=[];let f;const a={status:-1,searchPatternPositions:[],replacePatternPositions:[]};const{start:o,length:c}=this.prepareFindParameters(r,n);if(i==null){s=this.findAllIn([e],o,c);if(s.length==0){return a}}else{s=i}a.searchPatternPositions.push(...Array.from(s,(e=>e.position)));const u=e.length-t.length;const l=new ArrayBuffer(this.view.length-s.length*u);const h=new Uint8Array(l);h.set(new Uint8Array(this.buffer,0,o));for(f=0;f<s.length;f++){const r=f==0?o:s[f-1].position;h.set(new Uint8Array(this.buffer,r,s[f].position-e.length-r),r-f*u);h.set(t.view,s[f].position-e.length-f*u);a.replacePatternPositions.push(s[f].position-e.length-f*u)}f--;h.set(new Uint8Array(this.buffer,s[f].position,this.length-s[f].position),s[f].position-e.length+t.length-f*u);this.buffer=l;this.view=new Uint8Array(this.buffer);a.status=1;return a}skipPatterns(e,t,r,n){const{start:i,length:s,backward:f}=this.prepareFindParameters(t,r,n);let a=i;for(let t=0;t<e.length;t++){const r=e[t].length;const n=f?a-r:a;let o=true;for(let i=0;i<r;i++){if(this.view[i+n]!=e[t].view[i]){o=false;break}}if(o){t=-1;if(f){a-=r;if(a<=0)return a}else{a+=r;if(a>=i+s)return a}}}return a}skipNotPatterns(e,t,r,n){const{start:i,length:s,backward:f}=this.prepareFindParameters(t,r,n);let a=-1;for(let t=0;t<s;t++){for(let r=0;r<e.length;r++){const n=e[r].length;const s=f?i-t-n:i+t;let o=true;for(let t=0;t<n;t++){if(this.view[t+s]!=e[r].view[t]){o=false;break}}if(o){a=f?i-t:i+t;break}}if(a!=-1){break}}return a}prepareFindParameters(e=null,t=null,r=false){if(e===null){e=r?this.length:0}if(e>this.length){e=this.length}if(r){if(t===null){t=e}if(t>e){t=e}}else{if(t===null){t=this.length-e}if(t>this.length-e){t=this.length-e}}return{start:e,length:t,backward:r}}}const pow2_24=16777216;class SeqStream{constructor(e={}){this._stream=new ByteStream;this._length=0;this._start=0;this.backward=false;this.appendBlock=0;this.prevLength=0;this.prevStart=0;if("view"in e){this.stream=new ByteStream({view:e.view})}else if("buffer"in e){this.stream=new ByteStream({buffer:e.buffer})}else if("string"in e){this.stream=new ByteStream({string:e.string})}else if("hexstring"in e){this.stream=new ByteStream({hexstring:e.hexstring})}else if("stream"in e){this.stream=e.stream.slice()}else{this.stream=new ByteStream}if("backward"in e&&e.backward){this.backward=e.backward;this._start=this.stream.length}if("length"in e&&e.length>0){this._length=e.length}if("start"in e&&e.start&&e.start>0){this._start=e.start}if("appendBlock"in e&&e.appendBlock&&e.appendBlock>0){this.appendBlock=e.appendBlock}}set stream(e){this._stream=e;this.prevLength=this._length;this._length=e.length;this.prevStart=this._start;this._start=0}get stream(){return this._stream}set length(e){this.prevLength=this._length;this._length=e}get length(){if(this.appendBlock){return this.start}return this._length}set start(e){if(e>this.stream.length)return;this.prevStart=this._start;this.prevLength=this._length;this._length-=this.backward?this._start-e:e-this._start;this._start=e}get start(){return this._start}get buffer(){return this._stream.buffer.slice(0,this._length)}resetPosition(){this._start=this.prevStart;this._length=this.prevLength}findPattern(e,t=null){if(t==null||t>this.length){t=this.length}const r=this.stream.findPattern(e,this.start,this.length,this.backward);if(r==-1)return r;if(this.backward){if(r<this.start-e.length-t){return-1}}else{if(r>this.start+e.length+t){return-1}}this.start=r;return r}findFirstIn(e,t=null){if(t==null||t>this.length){t=this.length}const r=this.stream.findFirstIn(e,this.start,this.length,this.backward);if(r.id==-1)return r;if(this.backward){if(r.position<this.start-e[r.id].length-t){return{id:-1,position:this.backward?0:this.start+this.length}}}else{if(r.position>this.start+e[r.id].length+t){return{id:-1,position:this.backward?0:this.start+this.length}}}this.start=r.position;return r}findAllIn(e){const t=this.backward?this.start-this.length:this.start;return this.stream.findAllIn(e,t,this.length)}findFirstNotIn(e,t=null){if(t==null||t>this._length){t=this._length}const r=this._stream.findFirstNotIn(e,this._start,this._length,this.backward);if(r.left.id==-1&&r.right.id==-1){return r}if(this.backward){if(r.right.id!=-1){if(r.right.position<this._start-e[r.right.id].length-t){return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new ByteStream}}}}else{if(r.left.id!=-1){if(r.left.position>this._start+e[r.left.id].length+t){return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new ByteStream}}}}if(this.backward){if(r.left.id==-1){this.start=0}else{this.start=r.left.position}}else{if(r.right.id==-1){this.start=this._start+this._length}else{this.start=r.right.position}}return r}findAllNotIn(e){const t=this.backward?this._start-this._length:this._start;return this._stream.findAllNotIn(e,t,this._length)}findFirstSequence(e,t=null,r=null){if(t==null||t>this._length){t=this._length}if(r==null||r>t){r=t}const n=this._stream.findFirstSequence(e,this._start,t,this.backward);if(n.value.length==0){return n}if(this.backward){if(n.position<this._start-n.value.length-r){return{position:-1,value:new ByteStream}}}else{if(n.position>this._start+n.value.length+r){return{position:-1,value:new ByteStream}}}this.start=n.position;return n}findAllSequences(e){const t=this.backward?this.start-this.length:this.start;return this.stream.findAllSequences(e,t,this.length)}findPairedPatterns(e,t,r=null){if(r==null||r>this.length){r=this.length}const n=this.backward?this.start-this.length:this.start;const i=this.stream.findPairedPatterns(e,t,n,this.length);if(i.length){if(this.backward){if(i[0].right<this.start-t.length-r){return[]}}else{if(i[0].left>this.start+e.length+r){return[]}}}return i}findPairedArrays(e,t,r=null){if(r==null||r>this.length){r=this.length}const n=this.backward?this.start-this.length:this.start;const i=this.stream.findPairedArrays(e,t,n,this.length);if(i.length){if(this.backward){if(i[0].right.position<this.start-t[i[0].right.id].length-r){return[]}}else{if(i[0].left.position>this.start+e[i[0].left.id].length+r){return[]}}}return i}replacePattern(e,t){const r=this.backward?this.start-this.length:this.start;return this.stream.replacePattern(e,t,r,this.length)}skipPatterns(e){const t=this.stream.skipPatterns(e,this.start,this.length,this.backward);this.start=t;return t}skipNotPatterns(e){const t=this.stream.skipNotPatterns(e,this.start,this.length,this.backward);if(t==-1)return-1;this.start=t;return t}append(e){this.beforeAppend(e.length);this._stream.view.set(e.view,this._start);this._length+=e.length*2;this.start=this._start+e.length;this.prevLength-=e.length*2}appendView(e){this.beforeAppend(e.length);this._stream.view.set(e,this._start);this._length+=e.length*2;this.start=this._start+e.length;this.prevLength-=e.length*2}appendChar(e){this.beforeAppend(1);this._stream.view[this._start]=e;this._length+=2;this.start=this._start+1;this.prevLength-=2}appendUint16(e){this.beforeAppend(2);const t=new Uint16Array([e]);const r=new Uint8Array(t.buffer);this.stream.view[this._start]=r[1];this._stream.view[this._start+1]=r[0];this._length+=4;this.start=this._start+2;this.prevLength-=4}appendUint24(e){this.beforeAppend(3);const t=new Uint32Array([e]);const r=new Uint8Array(t.buffer);this._stream.view[this._start]=r[2];this._stream.view[this._start+1]=r[1];this._stream.view[this._start+2]=r[0];this._length+=6;this.start=this._start+3;this.prevLength-=6}appendUint32(e){this.beforeAppend(4);const t=new Uint32Array([e]);const r=new Uint8Array(t.buffer);this._stream.view[this._start]=r[3];this._stream.view[this._start+1]=r[2];this._stream.view[this._start+2]=r[1];this._stream.view[this._start+3]=r[0];this._length+=8;this.start=this._start+4;this.prevLength-=8}appendInt16(e){this.beforeAppend(2);const t=new Int16Array([e]);const r=new Uint8Array(t.buffer);this._stream.view[this._start]=r[1];this._stream.view[this._start+1]=r[0];this._length+=4;this.start=this._start+2;this.prevLength-=4}appendInt32(e){this.beforeAppend(4);const t=new Int32Array([e]);const r=new Uint8Array(t.buffer);this._stream.view[this._start]=r[3];this._stream.view[this._start+1]=r[2];this._stream.view[this._start+2]=r[1];this._stream.view[this._start+3]=r[0];this._length+=8;this.start=this._start+4;this.prevLength-=8}getBlock(e,t=true){if(this._length<=0){return new Uint8Array(0)}if(this._length<e){e=this._length}let r;if(this.backward){const t=this._stream.view.subarray(this._length-e,this._length);r=new Uint8Array(e);for(let n=0;n<e;n++){r[e-1-n]=t[n]}}else{r=this._stream.view.subarray(this._start,this._start+e)}if(t){this.start+=this.backward?-1*e:e}return r}getUint16(e=true){const t=this.getBlock(2,e);if(t.length<2)return 0;return t[0]<<8|t[1]}getInt16(e=true){const t=this.getUint16(e);const r=32768;if(t&r){return-(r-(t^r))}return t}getUint24(e=true){const t=this.getBlock(4,e);if(t.length<3)return 0;return t[0]<<16|t[1]<<8|t[2]}getUint32(e=true){const t=this.getBlock(4,e);if(t.length<4)return 0;return t[0]*pow2_24+(t[1]<<16)+(t[2]<<8)+t[3]}getInt32(e=true){const t=this.getUint32(e);const r=2147483648;if(t&r){return-(r-(t^r))}return t}beforeAppend(e){if(this._start+e>this._stream.length){if(e>this.appendBlock){this.appendBlock=e+SeqStream.APPEND_BLOCK}this._stream.realloc(this._stream.length+this.appendBlock)}}}SeqStream.APPEND_BLOCK=1e3;
/*!
 * Copyright (c) 2014, GlobalSign
 * Copyright (c) 2015-2019, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the {organization} nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */const EMPTY_BUFFER=new ArrayBuffer(0);const EMPTY_STRING="";class ArgumentError extends TypeError{constructor(){super(...arguments);this.name=ArgumentError.NAME}static isType(e,t){if(typeof t==="string"){if(t==="Array"&&Array.isArray(e)){return true}else if(t==="ArrayBuffer"&&e instanceof ArrayBuffer){return true}else if(t==="ArrayBufferView"&&ArrayBuffer.isView(e)){return true}else if(typeof e===t){return true}}else if(e instanceof t){return true}return false}static assert(e,t,...r){for(const t of r){if(this.isType(e,t)){return}}const n=r.map((e=>e instanceof Function&&"name"in e?e.name:`${e}`));throw new ArgumentError(`Parameter '${t}' is not of type ${n.length>1?`(${n.join(" or ")})`:n[0]}`)}}ArgumentError.NAME="ArgumentError";class ParameterError extends TypeError{constructor(e,t=null,r){super();this.name=ParameterError.NAME;this.field=e;if(t){this.target=t}if(r){this.message=r}else{this.message=`Absent mandatory parameter '${e}' ${t?` in '${t}'`:EMPTY_STRING}`}}static assert(...e){let t=null;let r;let n;if(typeof e[0]==="string"){t=e[0];r=e[1];n=e.slice(2)}else{r=e[0];n=e.slice(1)}ArgumentError.assert(r,"parameters","object");for(const e of n){const n=r[e];if(n===undefined||n===null){throw new ParameterError(e,t)}}}static assertEmpty(e,t,r){if(e===undefined||e===null){throw new ParameterError(t,r)}}}ParameterError.NAME="ParameterError";class AsnError extends Error{static assertSchema(e,t){if(!e.verified){throw new Error(`Object's schema was not verified against input data for ${t}`)}}static assert(e,t){if(e.offset===-1){throw new AsnError(`Error during parsing of ASN.1 data. Data is not correct for '${t}'.`)}}constructor(e){super(e);this.name="AsnError"}}class PkiObject{static blockName(){return this.CLASS_NAME}static fromBER(e){const t=fromBER(e);AsnError.assert(t,this.name);try{return new this({schema:t.result})}catch(e){throw new AsnError(`Cannot create '${this.CLASS_NAME}' from ASN.1 object`)}}static defaultValues(e){throw new Error(`Invalid member name for ${this.CLASS_NAME} class: ${e}`)}static schema(e={}){throw new Error(`Method '${this.CLASS_NAME}.schema' should be overridden`)}get className(){return this.constructor.CLASS_NAME}toString(e="hex"){let t;try{t=this.toSchema()}catch{t=this.toSchema(true)}return build.Convert.ToString(t.toBER(),e)}}PkiObject.CLASS_NAME="PkiObject";function stringPrep(e){let t=false;let r=EMPTY_STRING;const n=e.trim();for(let e=0;e<n.length;e++){if(n.charCodeAt(e)===32){if(t===false)t=true}else{if(t){r+=" ";t=false}r+=n[e]}}return r.toLowerCase()}const TYPE$5="type";const VALUE$6="value";class AttributeTypeAndValue$1 extends PkiObject{constructor(e={}){super();this.type=getParametersValue(e,TYPE$5,AttributeTypeAndValue$1.defaultValues(TYPE$5));this.value=getParametersValue(e,VALUE$6,AttributeTypeAndValue$1.defaultValues(VALUE$6));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case TYPE$5:return EMPTY_STRING;case VALUE$6:return{};default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new ObjectIdentifier$1({name:t.type||EMPTY_STRING}),new Any({name:t.value||EMPTY_STRING})]})}fromSchema(e){clearProps(e,[TYPE$5,"typeValue"]);const t=compareSchema(e,e,AttributeTypeAndValue$1.schema({names:{type:TYPE$5,value:"typeValue"}}));AsnError.assertSchema(t,this.className);this.type=t.result.type.valueBlock.toString();this.value=t.result.typeValue}toSchema(){return new Sequence({value:[new ObjectIdentifier$1({value:this.type}),this.value]})}toJSON(){const e={type:this.type};if(Object.keys(this.value).length!==0){e.value=this.value.toJSON()}else{e.value=this.value}return e}isEqual(e){const t=[Utf8String.blockName(),BmpString.blockName(),UniversalString.blockName(),NumericString.blockName(),PrintableString.blockName(),TeletexString.blockName(),VideotexString.blockName(),IA5String.blockName(),GraphicString.blockName(),VisibleString.blockName(),GeneralString.blockName(),CharacterString.blockName()];if(e instanceof ArrayBuffer){return build.BufferSourceConverter.isEqual(this.value.valueBeforeDecodeView,e)}if(e.constructor.blockName()===AttributeTypeAndValue$1.blockName()){if(this.type!==e.type)return false;const r=[false,false];const n=this.value.constructor.blockName();for(const i of t){if(n===i){r[0]=true}if(e.value.constructor.blockName()===i){r[1]=true}}if(r[0]!==r[1]){return false}const i=r[0]&&r[1];if(i){const t=stringPrep(this.value.valueBlock.value);const r=stringPrep(e.value.valueBlock.value);if(t.localeCompare(r)!==0)return false}else{if(!build.BufferSourceConverter.isEqual(this.value.valueBeforeDecodeView,e.value.valueBeforeDecodeView))return false}return true}return false}}AttributeTypeAndValue$1.CLASS_NAME="AttributeTypeAndValue";const TYPE_AND_VALUES="typesAndValues";const VALUE_BEFORE_DECODE="valueBeforeDecode";const RDN="RDN";class RelativeDistinguishedNames extends PkiObject{constructor(e={}){super();this.typesAndValues=getParametersValue(e,TYPE_AND_VALUES,RelativeDistinguishedNames.defaultValues(TYPE_AND_VALUES));this.valueBeforeDecode=getParametersValue(e,VALUE_BEFORE_DECODE,RelativeDistinguishedNames.defaultValues(VALUE_BEFORE_DECODE));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case TYPE_AND_VALUES:return[];case VALUE_BEFORE_DECODE:return EMPTY_BUFFER;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case TYPE_AND_VALUES:return t.length===0;case VALUE_BEFORE_DECODE:return t.byteLength===0;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Repeated({name:t.repeatedSequence||EMPTY_STRING,value:new Set$1({value:[new Repeated({name:t.repeatedSet||EMPTY_STRING,value:AttributeTypeAndValue$1.schema(t.typeAndValue||{})})]})})]})}fromSchema(e){clearProps(e,[RDN,TYPE_AND_VALUES]);const t=compareSchema(e,e,RelativeDistinguishedNames.schema({names:{blockName:RDN,repeatedSet:TYPE_AND_VALUES}}));AsnError.assertSchema(t,this.className);if(TYPE_AND_VALUES in t.result){this.typesAndValues=Array.from(t.result.typesAndValues,(e=>new AttributeTypeAndValue$1({schema:e})))}this.valueBeforeDecode=t.result.RDN.valueBeforeDecodeView.slice().buffer}toSchema(){if(this.valueBeforeDecode.byteLength===0){return new Sequence({value:[new Set$1({value:Array.from(this.typesAndValues,(e=>e.toSchema()))})]})}const e=fromBER(this.valueBeforeDecode);AsnError.assert(e,"RelativeDistinguishedNames");if(!(e.result instanceof Sequence)){throw new Error("ASN.1 result should be SEQUENCE")}return e.result}toJSON(){return{typesAndValues:Array.from(this.typesAndValues,(e=>e.toJSON()))}}isEqual(e){if(e instanceof RelativeDistinguishedNames){if(this.typesAndValues.length!==e.typesAndValues.length)return false;for(const[t,r]of this.typesAndValues.entries()){if(r.isEqual(e.typesAndValues[t])===false)return false}return true}if(e instanceof ArrayBuffer){return isEqualBuffer(this.valueBeforeDecode,e)}return false}}RelativeDistinguishedNames.CLASS_NAME="RelativeDistinguishedNames";const TYPE$4="type";const VALUE$5="value";function builtInStandardAttributes(e={},t=false){const r=getParametersValue(e,"names",{});return new Sequence({optional:t,value:[new Constructed({optional:true,idBlock:{tagClass:2,tagNumber:1},name:r.country_name||EMPTY_STRING,value:[new Choice({value:[new NumericString,new PrintableString]})]}),new Constructed({optional:true,idBlock:{tagClass:2,tagNumber:2},name:r.administration_domain_name||EMPTY_STRING,value:[new Choice({value:[new NumericString,new PrintableString]})]}),new Primitive({optional:true,idBlock:{tagClass:3,tagNumber:0},name:r.network_address||EMPTY_STRING,isHexOnly:true}),new Primitive({optional:true,idBlock:{tagClass:3,tagNumber:1},name:r.terminal_identifier||EMPTY_STRING,isHexOnly:true}),new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:2},name:r.private_domain_name||EMPTY_STRING,value:[new Choice({value:[new NumericString,new PrintableString]})]}),new Primitive({optional:true,idBlock:{tagClass:3,tagNumber:3},name:r.organization_name||EMPTY_STRING,isHexOnly:true}),new Primitive({optional:true,name:r.numeric_user_identifier||EMPTY_STRING,idBlock:{tagClass:3,tagNumber:4},isHexOnly:true}),new Constructed({optional:true,name:r.personal_name||EMPTY_STRING,idBlock:{tagClass:3,tagNumber:5},value:[new Primitive({idBlock:{tagClass:3,tagNumber:0},isHexOnly:true}),new Primitive({optional:true,idBlock:{tagClass:3,tagNumber:1},isHexOnly:true}),new Primitive({optional:true,idBlock:{tagClass:3,tagNumber:2},isHexOnly:true}),new Primitive({optional:true,idBlock:{tagClass:3,tagNumber:3},isHexOnly:true})]}),new Constructed({optional:true,name:r.organizational_unit_names||EMPTY_STRING,idBlock:{tagClass:3,tagNumber:6},value:[new Repeated({value:new PrintableString})]})]})}function builtInDomainDefinedAttributes(e=false){return new Sequence({optional:e,value:[new PrintableString,new PrintableString]})}function extensionAttributes(e=false){return new Set$1({optional:e,value:[new Primitive({optional:true,idBlock:{tagClass:3,tagNumber:0},isHexOnly:true}),new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:1},value:[new Any]})]})}class GeneralName$2 extends PkiObject{constructor(e={}){super();this.type=getParametersValue(e,TYPE$4,GeneralName$2.defaultValues(TYPE$4));this.value=getParametersValue(e,VALUE$5,GeneralName$2.defaultValues(VALUE$5));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case TYPE$4:return 9;case VALUE$5:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case TYPE$4:return t===GeneralName$2.defaultValues(e);case VALUE$5:return Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Choice({value:[new Constructed({idBlock:{tagClass:3,tagNumber:0},name:t.blockName||EMPTY_STRING,value:[new ObjectIdentifier$1,new Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new Any]})]}),new Primitive({name:t.blockName||EMPTY_STRING,idBlock:{tagClass:3,tagNumber:1}}),new Primitive({name:t.blockName||EMPTY_STRING,idBlock:{tagClass:3,tagNumber:2}}),new Constructed({idBlock:{tagClass:3,tagNumber:3},name:t.blockName||EMPTY_STRING,value:[builtInStandardAttributes(t.builtInStandardAttributes||{},false),builtInDomainDefinedAttributes(true),extensionAttributes(true)]}),new Constructed({idBlock:{tagClass:3,tagNumber:4},name:t.blockName||EMPTY_STRING,value:[RelativeDistinguishedNames.schema(t.directoryName||{})]}),new Constructed({idBlock:{tagClass:3,tagNumber:5},name:t.blockName||EMPTY_STRING,value:[new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:0},value:[new Choice({value:[new TeletexString,new PrintableString,new UniversalString,new Utf8String,new BmpString]})]}),new Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new Choice({value:[new TeletexString,new PrintableString,new UniversalString,new Utf8String,new BmpString]})]})]}),new Primitive({name:t.blockName||EMPTY_STRING,idBlock:{tagClass:3,tagNumber:6}}),new Primitive({name:t.blockName||EMPTY_STRING,idBlock:{tagClass:3,tagNumber:7}}),new Primitive({name:t.blockName||EMPTY_STRING,idBlock:{tagClass:3,tagNumber:8}})]})}fromSchema(e){clearProps(e,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);const t=compareSchema(e,e,GeneralName$2.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));AsnError.assertSchema(t,this.className);this.type=t.result.blockName.idBlock.tagNumber;switch(this.type){case 0:this.value=t.result.blockName;break;case 1:case 2:case 6:{const e=t.result.blockName;e.idBlock.tagClass=1;e.idBlock.tagNumber=22;const r=e.toBER(false);const n=fromBER(r);AsnError.assert(n,"GeneralName value");this.value=n.result.valueBlock.value}break;case 3:this.value=t.result.blockName;break;case 4:this.value=new RelativeDistinguishedNames({schema:t.result.directoryName});break;case 5:this.value=t.result.ediPartyName;break;case 7:this.value=new OctetString$1({valueHex:t.result.blockName.valueBlock.valueHex});break;case 8:{const e=t.result.blockName;e.idBlock.tagClass=1;e.idBlock.tagNumber=6;const r=e.toBER(false);const n=fromBER(r);AsnError.assert(n,"GeneralName registeredID");this.value=n.result.valueBlock.toString()}break}}toSchema(){switch(this.type){case 0:case 3:case 5:return new Constructed({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:{const e=new IA5String({value:this.value});e.idBlock.tagClass=3;e.idBlock.tagNumber=this.type;return e}case 4:return new Constructed({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:{const e=this.value;e.idBlock.tagClass=3;e.idBlock.tagNumber=this.type;return e}case 8:{const e=new ObjectIdentifier$1({value:this.value});e.idBlock.tagClass=3;e.idBlock.tagNumber=this.type;return e}default:return GeneralName$2.schema()}}toJSON(){const e={type:this.type,value:EMPTY_STRING};if(typeof this.value==="string")e.value=this.value;else{try{e.value=this.value.toJSON()}catch(e){}}return e}}GeneralName$2.CLASS_NAME="GeneralName";const ACCESS_METHOD="accessMethod";const ACCESS_LOCATION="accessLocation";const CLEAR_PROPS$1v=[ACCESS_METHOD,ACCESS_LOCATION];class AccessDescription$1 extends PkiObject{constructor(e={}){super();this.accessMethod=getParametersValue(e,ACCESS_METHOD,AccessDescription$1.defaultValues(ACCESS_METHOD));this.accessLocation=getParametersValue(e,ACCESS_LOCATION,AccessDescription$1.defaultValues(ACCESS_LOCATION));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case ACCESS_METHOD:return EMPTY_STRING;case ACCESS_LOCATION:return new GeneralName$2;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new ObjectIdentifier$1({name:t.accessMethod||EMPTY_STRING}),GeneralName$2.schema(t.accessLocation||{})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1v);const t=compareSchema(e,e,AccessDescription$1.schema({names:{accessMethod:ACCESS_METHOD,accessLocation:{names:{blockName:ACCESS_LOCATION}}}}));AsnError.assertSchema(t,this.className);this.accessMethod=t.result.accessMethod.valueBlock.toString();this.accessLocation=new GeneralName$2({schema:t.result.accessLocation})}toSchema(){return new Sequence({value:[new ObjectIdentifier$1({value:this.accessMethod}),this.accessLocation.toSchema()]})}toJSON(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}}AccessDescription$1.CLASS_NAME="AccessDescription";const ALGORITHM_ID="algorithmId";const ALGORITHM_PARAMS="algorithmParams";const ALGORITHM$2="algorithm";const PARAMS="params";const CLEAR_PROPS$1u=[ALGORITHM$2,PARAMS];class AlgorithmIdentifier$2 extends PkiObject{constructor(e={}){super();this.algorithmId=getParametersValue(e,ALGORITHM_ID,AlgorithmIdentifier$2.defaultValues(ALGORITHM_ID));if(ALGORITHM_PARAMS in e){this.algorithmParams=getParametersValue(e,ALGORITHM_PARAMS,AlgorithmIdentifier$2.defaultValues(ALGORITHM_PARAMS))}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case ALGORITHM_ID:return EMPTY_STRING;case ALGORITHM_PARAMS:return new Any;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case ALGORITHM_ID:return t===EMPTY_STRING;case ALGORITHM_PARAMS:return t instanceof Any;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,optional:t.optional||false,value:[new ObjectIdentifier$1({name:t.algorithmIdentifier||EMPTY_STRING}),new Any({name:t.algorithmParams||EMPTY_STRING,optional:true})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1u);const t=compareSchema(e,e,AlgorithmIdentifier$2.schema({names:{algorithmIdentifier:ALGORITHM$2,algorithmParams:PARAMS}}));AsnError.assertSchema(t,this.className);this.algorithmId=t.result.algorithm.valueBlock.toString();if(PARAMS in t.result){this.algorithmParams=t.result.params}}toSchema(){const e=[];e.push(new ObjectIdentifier$1({value:this.algorithmId}));if(this.algorithmParams&&!(this.algorithmParams instanceof Any)){e.push(this.algorithmParams)}return new Sequence({value:e})}toJSON(){const e={algorithmId:this.algorithmId};if(this.algorithmParams&&!(this.algorithmParams instanceof Any)){e.algorithmParams=this.algorithmParams.toJSON()}return e}isEqual(e){if(!(e instanceof AlgorithmIdentifier$2)){return false}if(this.algorithmId!==e.algorithmId){return false}if(this.algorithmParams){if(e.algorithmParams){return JSON.stringify(this.algorithmParams)===JSON.stringify(e.algorithmParams)}return false}if(e.algorithmParams){return false}return true}}AlgorithmIdentifier$2.CLASS_NAME="AlgorithmIdentifier";const ALT_NAMES="altNames";const CLEAR_PROPS$1t=[ALT_NAMES];class AltName extends PkiObject{constructor(e={}){super();this.altNames=getParametersValue(e,ALT_NAMES,AltName.defaultValues(ALT_NAMES));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case ALT_NAMES:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Repeated({name:t.altNames||EMPTY_STRING,value:GeneralName$2.schema()})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1t);const t=compareSchema(e,e,AltName.schema({names:{altNames:ALT_NAMES}}));AsnError.assertSchema(t,this.className);if(ALT_NAMES in t.result){this.altNames=Array.from(t.result.altNames,(e=>new GeneralName$2({schema:e})))}}toSchema(){return new Sequence({value:Array.from(this.altNames,(e=>e.toSchema()))})}toJSON(){return{altNames:Array.from(this.altNames,(e=>e.toJSON()))}}}AltName.CLASS_NAME="AltName";const TYPE$3="type";const VALUES$1="values";const CLEAR_PROPS$1s=[TYPE$3,VALUES$1];class Attribute$3 extends PkiObject{constructor(e={}){super();this.type=getParametersValue(e,TYPE$3,Attribute$3.defaultValues(TYPE$3));this.values=getParametersValue(e,VALUES$1,Attribute$3.defaultValues(VALUES$1));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case TYPE$3:return EMPTY_STRING;case VALUES$1:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case TYPE$3:return t===EMPTY_STRING;case VALUES$1:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new ObjectIdentifier$1({name:t.type||EMPTY_STRING}),new Set$1({name:t.setName||EMPTY_STRING,value:[new Repeated({name:t.values||EMPTY_STRING,value:new Any})]})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1s);const t=compareSchema(e,e,Attribute$3.schema({names:{type:TYPE$3,values:VALUES$1}}));AsnError.assertSchema(t,this.className);this.type=t.result.type.valueBlock.toString();this.values=t.result.values}toSchema(){return new Sequence({value:[new ObjectIdentifier$1({value:this.type}),new Set$1({value:this.values})]})}toJSON(){return{type:this.type,values:Array.from(this.values,(e=>e.toJSON()))}}}Attribute$3.CLASS_NAME="Attribute";const NAMES="names";const GENERAL_NAMES="generalNames";class GeneralNames$2 extends PkiObject{constructor(e={}){super();this.names=getParametersValue(e,NAMES,GeneralNames$2.defaultValues(NAMES));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case"names":return[];default:return super.defaultValues(e)}}static schema(e={},t=false){const r=getParametersValue(e,NAMES,{});return new Sequence({optional:t,name:r.blockName||EMPTY_STRING,value:[new Repeated({name:r.generalNames||EMPTY_STRING,value:GeneralName$2.schema()})]})}fromSchema(e){clearProps(e,[NAMES,GENERAL_NAMES]);const t=compareSchema(e,e,GeneralNames$2.schema({names:{blockName:NAMES,generalNames:GENERAL_NAMES}}));AsnError.assertSchema(t,this.className);this.names=Array.from(t.result.generalNames,(e=>new GeneralName$2({schema:e})))}toSchema(){return new Sequence({value:Array.from(this.names,(e=>e.toSchema()))})}toJSON(){return{names:Array.from(this.names,(e=>e.toJSON()))}}}GeneralNames$2.CLASS_NAME="GeneralNames";const id_SubjectDirectoryAttributes="2.5.29.9";const id_PrivateKeyUsagePeriod="2.5.29.16";const id_SubjectAltName="2.5.29.17";const id_IssuerAltName="2.5.29.18";const id_BasicConstraints="2.5.29.19";const id_IssuingDistributionPoint="2.5.29.28";const id_CertificateIssuer="2.5.29.29";const id_NameConstraints="2.5.29.30";const id_CRLDistributionPoints="2.5.29.31";const id_FreshestCRL="2.5.29.46";const id_CertificatePolicies="2.5.29.32";const id_MicrosoftAppPolicies="1.3.6.1.4.1.311.21.10";const id_PolicyMappings="2.5.29.33";const id_AuthorityKeyIdentifier="2.5.29.35";const id_PolicyConstraints="2.5.29.36";const id_ExtKeyUsage="2.5.29.37";const id_AuthorityInfoAccess="1.3.6.1.5.5.7.1.1";const id_SubjectInfoAccess="1.3.6.1.5.5.7.1.11";const id_SignedCertificateTimestampList="1.3.6.1.4.1.11129.2.4.2";const id_MicrosoftCertTemplateV2="1.3.6.1.4.1.311.21.7";const id_MicrosoftCaVersion="1.3.6.1.4.1.311.21.1";const id_QCStatements="1.3.6.1.5.5.7.1.3";const KEY_IDENTIFIER$1="keyIdentifier";const AUTHORITY_CERT_ISSUER="authorityCertIssuer";const AUTHORITY_CERT_SERIAL_NUMBER="authorityCertSerialNumber";const CLEAR_PROPS$1q=[KEY_IDENTIFIER$1,AUTHORITY_CERT_ISSUER,AUTHORITY_CERT_SERIAL_NUMBER];class AuthorityKeyIdentifier$1 extends PkiObject{constructor(e={}){super();if(KEY_IDENTIFIER$1 in e){this.keyIdentifier=getParametersValue(e,KEY_IDENTIFIER$1,AuthorityKeyIdentifier$1.defaultValues(KEY_IDENTIFIER$1))}if(AUTHORITY_CERT_ISSUER in e){this.authorityCertIssuer=getParametersValue(e,AUTHORITY_CERT_ISSUER,AuthorityKeyIdentifier$1.defaultValues(AUTHORITY_CERT_ISSUER))}if(AUTHORITY_CERT_SERIAL_NUMBER in e){this.authorityCertSerialNumber=getParametersValue(e,AUTHORITY_CERT_SERIAL_NUMBER,AuthorityKeyIdentifier$1.defaultValues(AUTHORITY_CERT_SERIAL_NUMBER))}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case KEY_IDENTIFIER$1:return new OctetString$1;case AUTHORITY_CERT_ISSUER:return[];case AUTHORITY_CERT_SERIAL_NUMBER:return new Integer;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Primitive({name:t.keyIdentifier||EMPTY_STRING,optional:true,idBlock:{tagClass:3,tagNumber:0}}),new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:1},value:[new Repeated({name:t.authorityCertIssuer||EMPTY_STRING,value:GeneralName$2.schema()})]}),new Primitive({name:t.authorityCertSerialNumber||EMPTY_STRING,optional:true,idBlock:{tagClass:3,tagNumber:2}})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1q);const t=compareSchema(e,e,AuthorityKeyIdentifier$1.schema({names:{keyIdentifier:KEY_IDENTIFIER$1,authorityCertIssuer:AUTHORITY_CERT_ISSUER,authorityCertSerialNumber:AUTHORITY_CERT_SERIAL_NUMBER}}));AsnError.assertSchema(t,this.className);if(KEY_IDENTIFIER$1 in t.result)this.keyIdentifier=new OctetString$1({valueHex:t.result.keyIdentifier.valueBlock.valueHex});if(AUTHORITY_CERT_ISSUER in t.result)this.authorityCertIssuer=Array.from(t.result.authorityCertIssuer,(e=>new GeneralName$2({schema:e})));if(AUTHORITY_CERT_SERIAL_NUMBER in t.result)this.authorityCertSerialNumber=new Integer({valueHex:t.result.authorityCertSerialNumber.valueBlock.valueHex})}toSchema(){const e=[];if(this.keyIdentifier){e.push(new Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHexView}))}if(this.authorityCertIssuer){e.push(new Constructed({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,(e=>e.toSchema()))}))}if(this.authorityCertSerialNumber){e.push(new Primitive({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHexView}))}return new Sequence({value:e})}toJSON(){const e={};if(this.keyIdentifier){e.keyIdentifier=this.keyIdentifier.toJSON()}if(this.authorityCertIssuer){e.authorityCertIssuer=Array.from(this.authorityCertIssuer,(e=>e.toJSON()))}if(this.authorityCertSerialNumber){e.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()}return e}}AuthorityKeyIdentifier$1.CLASS_NAME="AuthorityKeyIdentifier";const PATH_LENGTH_CONSTRAINT="pathLenConstraint";const CA="cA";class BasicConstraints$1 extends PkiObject{constructor(e={}){super();this.cA=getParametersValue(e,CA,false);if(PATH_LENGTH_CONSTRAINT in e){this.pathLenConstraint=getParametersValue(e,PATH_LENGTH_CONSTRAINT,0)}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case CA:return false;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Boolean$1({optional:true,name:t.cA||EMPTY_STRING}),new Integer({optional:true,name:t.pathLenConstraint||EMPTY_STRING})]})}fromSchema(e){clearProps(e,[CA,PATH_LENGTH_CONSTRAINT]);const t=compareSchema(e,e,BasicConstraints$1.schema({names:{cA:CA,pathLenConstraint:PATH_LENGTH_CONSTRAINT}}));AsnError.assertSchema(t,this.className);if(CA in t.result){this.cA=t.result.cA.valueBlock.value}if(PATH_LENGTH_CONSTRAINT in t.result){if(t.result.pathLenConstraint.valueBlock.isHexOnly){this.pathLenConstraint=t.result.pathLenConstraint}else{this.pathLenConstraint=t.result.pathLenConstraint.valueBlock.valueDec}}}toSchema(){const e=[];if(this.cA!==BasicConstraints$1.defaultValues(CA))e.push(new Boolean$1({value:this.cA}));if(PATH_LENGTH_CONSTRAINT in this){if(this.pathLenConstraint instanceof Integer){e.push(this.pathLenConstraint)}else{e.push(new Integer({value:this.pathLenConstraint}))}}return new Sequence({value:e})}toJSON(){const e={};if(this.cA!==BasicConstraints$1.defaultValues(CA)){e.cA=this.cA}if(PATH_LENGTH_CONSTRAINT in this){if(this.pathLenConstraint instanceof Integer){e.pathLenConstraint=this.pathLenConstraint.toJSON()}else{e.pathLenConstraint=this.pathLenConstraint}}return e}}BasicConstraints$1.CLASS_NAME="BasicConstraints";const CERTIFICATE_INDEX="certificateIndex";const KEY_INDEX="keyIndex";class CAVersion extends PkiObject{constructor(e={}){super();this.certificateIndex=getParametersValue(e,CERTIFICATE_INDEX,CAVersion.defaultValues(CERTIFICATE_INDEX));this.keyIndex=getParametersValue(e,KEY_INDEX,CAVersion.defaultValues(KEY_INDEX));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case CERTIFICATE_INDEX:case KEY_INDEX:return 0;default:return super.defaultValues(e)}}static schema(){return new Integer}fromSchema(e){if(e.constructor.blockName()!==Integer.blockName()){throw new Error("Object's schema was not verified against input data for CAVersion")}let t=e.valueBlock.valueHex.slice(0);const r=new Uint8Array(t);switch(true){case t.byteLength<4:{const e=new ArrayBuffer(4);const n=new Uint8Array(e);n.set(r,4-t.byteLength);t=e.slice(0)}break;case t.byteLength>4:{const e=new ArrayBuffer(4);const n=new Uint8Array(e);n.set(r.slice(0,4));t=e.slice(0)}break}const n=t.slice(0,2);const i=new Uint8Array(n);let s=i[0];i[0]=i[1];i[1]=s;const f=new Uint16Array(n);this.keyIndex=f[0];const a=t.slice(2);const o=new Uint8Array(a);s=o[0];o[0]=o[1];o[1]=s;const c=new Uint16Array(a);this.certificateIndex=c[0]}toSchema(){const e=new ArrayBuffer(2);const t=new Uint16Array(e);t[0]=this.certificateIndex;const r=new Uint8Array(e);let n=r[0];r[0]=r[1];r[1]=n;const i=new ArrayBuffer(2);const s=new Uint16Array(i);s[0]=this.keyIndex;const f=new Uint8Array(i);n=f[0];f[0]=f[1];f[1]=n;return new Integer({valueHex:utilConcatBuf(i,e)})}toJSON(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}}CAVersion.CLASS_NAME="CAVersion";const POLICY_QUALIFIER_ID="policyQualifierId";const QUALIFIER="qualifier";const CLEAR_PROPS$1p=[POLICY_QUALIFIER_ID,QUALIFIER];class PolicyQualifierInfo$1 extends PkiObject{constructor(e={}){super();this.policyQualifierId=getParametersValue(e,POLICY_QUALIFIER_ID,PolicyQualifierInfo$1.defaultValues(POLICY_QUALIFIER_ID));this.qualifier=getParametersValue(e,QUALIFIER,PolicyQualifierInfo$1.defaultValues(QUALIFIER));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case POLICY_QUALIFIER_ID:return EMPTY_STRING;case QUALIFIER:return new Any;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new ObjectIdentifier$1({name:t.policyQualifierId||EMPTY_STRING}),new Any({name:t.qualifier||EMPTY_STRING})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1p);const t=compareSchema(e,e,PolicyQualifierInfo$1.schema({names:{policyQualifierId:POLICY_QUALIFIER_ID,qualifier:QUALIFIER}}));AsnError.assertSchema(t,this.className);this.policyQualifierId=t.result.policyQualifierId.valueBlock.toString();this.qualifier=t.result.qualifier}toSchema(){return new Sequence({value:[new ObjectIdentifier$1({value:this.policyQualifierId}),this.qualifier]})}toJSON(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}}PolicyQualifierInfo$1.CLASS_NAME="PolicyQualifierInfo";const POLICY_IDENTIFIER="policyIdentifier";const POLICY_QUALIFIERS="policyQualifiers";const CLEAR_PROPS$1o=[POLICY_IDENTIFIER,POLICY_QUALIFIERS];class PolicyInformation$1 extends PkiObject{constructor(e={}){super();this.policyIdentifier=getParametersValue(e,POLICY_IDENTIFIER,PolicyInformation$1.defaultValues(POLICY_IDENTIFIER));if(POLICY_QUALIFIERS in e){this.policyQualifiers=getParametersValue(e,POLICY_QUALIFIERS,PolicyInformation$1.defaultValues(POLICY_QUALIFIERS))}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case POLICY_IDENTIFIER:return EMPTY_STRING;case POLICY_QUALIFIERS:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new ObjectIdentifier$1({name:t.policyIdentifier||EMPTY_STRING}),new Sequence({optional:true,value:[new Repeated({name:t.policyQualifiers||EMPTY_STRING,value:PolicyQualifierInfo$1.schema()})]})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1o);const t=compareSchema(e,e,PolicyInformation$1.schema({names:{policyIdentifier:POLICY_IDENTIFIER,policyQualifiers:POLICY_QUALIFIERS}}));AsnError.assertSchema(t,this.className);this.policyIdentifier=t.result.policyIdentifier.valueBlock.toString();if(POLICY_QUALIFIERS in t.result){this.policyQualifiers=Array.from(t.result.policyQualifiers,(e=>new PolicyQualifierInfo$1({schema:e})))}}toSchema(){const e=[];e.push(new ObjectIdentifier$1({value:this.policyIdentifier}));if(this.policyQualifiers){e.push(new Sequence({value:Array.from(this.policyQualifiers,(e=>e.toSchema()))}))}return new Sequence({value:e})}toJSON(){const e={policyIdentifier:this.policyIdentifier};if(this.policyQualifiers)e.policyQualifiers=Array.from(this.policyQualifiers,(e=>e.toJSON()));return e}}PolicyInformation$1.CLASS_NAME="PolicyInformation";const CERTIFICATE_POLICIES="certificatePolicies";const CLEAR_PROPS$1n=[CERTIFICATE_POLICIES];class CertificatePolicies$1 extends PkiObject{constructor(e={}){super();this.certificatePolicies=getParametersValue(e,CERTIFICATE_POLICIES,CertificatePolicies$1.defaultValues(CERTIFICATE_POLICIES));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case CERTIFICATE_POLICIES:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Repeated({name:t.certificatePolicies||EMPTY_STRING,value:PolicyInformation$1.schema()})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1n);const t=compareSchema(e,e,CertificatePolicies$1.schema({names:{certificatePolicies:CERTIFICATE_POLICIES}}));AsnError.assertSchema(t,this.className);this.certificatePolicies=Array.from(t.result.certificatePolicies,(e=>new PolicyInformation$1({schema:e})))}toSchema(){return new Sequence({value:Array.from(this.certificatePolicies,(e=>e.toSchema()))})}toJSON(){return{certificatePolicies:Array.from(this.certificatePolicies,(e=>e.toJSON()))}}}CertificatePolicies$1.CLASS_NAME="CertificatePolicies";const TEMPLATE_ID="templateID";const TEMPLATE_MAJOR_VERSION="templateMajorVersion";const TEMPLATE_MINOR_VERSION="templateMinorVersion";const CLEAR_PROPS$1m=[TEMPLATE_ID,TEMPLATE_MAJOR_VERSION,TEMPLATE_MINOR_VERSION];class CertificateTemplate extends PkiObject{constructor(e={}){super();this.templateID=getParametersValue(e,TEMPLATE_ID,CertificateTemplate.defaultValues(TEMPLATE_ID));if(TEMPLATE_MAJOR_VERSION in e){this.templateMajorVersion=getParametersValue(e,TEMPLATE_MAJOR_VERSION,CertificateTemplate.defaultValues(TEMPLATE_MAJOR_VERSION))}if(TEMPLATE_MINOR_VERSION in e){this.templateMinorVersion=getParametersValue(e,TEMPLATE_MINOR_VERSION,CertificateTemplate.defaultValues(TEMPLATE_MINOR_VERSION))}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case TEMPLATE_ID:return EMPTY_STRING;case TEMPLATE_MAJOR_VERSION:case TEMPLATE_MINOR_VERSION:return 0;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new ObjectIdentifier$1({name:t.templateID||EMPTY_STRING}),new Integer({name:t.templateMajorVersion||EMPTY_STRING,optional:true}),new Integer({name:t.templateMinorVersion||EMPTY_STRING,optional:true})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1m);const t=compareSchema(e,e,CertificateTemplate.schema({names:{templateID:TEMPLATE_ID,templateMajorVersion:TEMPLATE_MAJOR_VERSION,templateMinorVersion:TEMPLATE_MINOR_VERSION}}));AsnError.assertSchema(t,this.className);this.templateID=t.result.templateID.valueBlock.toString();if(TEMPLATE_MAJOR_VERSION in t.result){this.templateMajorVersion=t.result.templateMajorVersion.valueBlock.valueDec}if(TEMPLATE_MINOR_VERSION in t.result){this.templateMinorVersion=t.result.templateMinorVersion.valueBlock.valueDec}}toSchema(){const e=[];e.push(new ObjectIdentifier$1({value:this.templateID}));if(TEMPLATE_MAJOR_VERSION in this){e.push(new Integer({value:this.templateMajorVersion}))}if(TEMPLATE_MINOR_VERSION in this){e.push(new Integer({value:this.templateMinorVersion}))}return new Sequence({value:e})}toJSON(){const e={templateID:this.templateID};if(TEMPLATE_MAJOR_VERSION in this)e.templateMajorVersion=this.templateMajorVersion;if(TEMPLATE_MINOR_VERSION in this)e.templateMinorVersion=this.templateMinorVersion;return e}}const DISTRIBUTION_POINT$1="distributionPoint";const DISTRIBUTION_POINT_NAMES$1="distributionPointNames";const REASONS="reasons";const CRL_ISSUER="cRLIssuer";const CRL_ISSUER_NAMES="cRLIssuerNames";const CLEAR_PROPS$1l=[DISTRIBUTION_POINT$1,DISTRIBUTION_POINT_NAMES$1,REASONS,CRL_ISSUER,CRL_ISSUER_NAMES];class DistributionPoint$1 extends PkiObject{constructor(e={}){super();if(DISTRIBUTION_POINT$1 in e){this.distributionPoint=getParametersValue(e,DISTRIBUTION_POINT$1,DistributionPoint$1.defaultValues(DISTRIBUTION_POINT$1))}if(REASONS in e){this.reasons=getParametersValue(e,REASONS,DistributionPoint$1.defaultValues(REASONS))}if(CRL_ISSUER in e){this.cRLIssuer=getParametersValue(e,CRL_ISSUER,DistributionPoint$1.defaultValues(CRL_ISSUER))}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case DISTRIBUTION_POINT$1:return[];case REASONS:return new BitString$1;case CRL_ISSUER:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:0},value:[new Choice({value:[new Constructed({name:t.distributionPoint||EMPTY_STRING,optional:true,idBlock:{tagClass:3,tagNumber:0},value:[new Repeated({name:t.distributionPointNames||EMPTY_STRING,value:GeneralName$2.schema()})]}),new Constructed({name:t.distributionPoint||EMPTY_STRING,optional:true,idBlock:{tagClass:3,tagNumber:1},value:RelativeDistinguishedNames.schema().valueBlock.value})]})]}),new Primitive({name:t.reasons||EMPTY_STRING,optional:true,idBlock:{tagClass:3,tagNumber:1}}),new Constructed({name:t.cRLIssuer||EMPTY_STRING,optional:true,idBlock:{tagClass:3,tagNumber:2},value:[new Repeated({name:t.cRLIssuerNames||EMPTY_STRING,value:GeneralName$2.schema()})]})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1l);const t=compareSchema(e,e,DistributionPoint$1.schema({names:{distributionPoint:DISTRIBUTION_POINT$1,distributionPointNames:DISTRIBUTION_POINT_NAMES$1,reasons:REASONS,cRLIssuer:CRL_ISSUER,cRLIssuerNames:CRL_ISSUER_NAMES}}));AsnError.assertSchema(t,this.className);if(DISTRIBUTION_POINT$1 in t.result){if(t.result.distributionPoint.idBlock.tagNumber===0){this.distributionPoint=Array.from(t.result.distributionPointNames,(e=>new GeneralName$2({schema:e})))}if(t.result.distributionPoint.idBlock.tagNumber===1){this.distributionPoint=new RelativeDistinguishedNames({schema:new Sequence({value:t.result.distributionPoint.valueBlock.value})})}}if(REASONS in t.result){this.reasons=new BitString$1({valueHex:t.result.reasons.valueBlock.valueHex})}if(CRL_ISSUER in t.result){this.cRLIssuer=Array.from(t.result.cRLIssuerNames,(e=>new GeneralName$2({schema:e})))}}toSchema(){const e=[];if(this.distributionPoint){let t;if(this.distributionPoint instanceof Array){t=new Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,(e=>e.toSchema()))})}else{t=new Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]})}e.push(new Constructed({idBlock:{tagClass:3,tagNumber:0},value:[t]}))}if(this.reasons){e.push(new Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHexView}))}if(this.cRLIssuer){e.push(new Constructed({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,(e=>e.toSchema()))}))}return new Sequence({value:e})}toJSON(){const e={};if(this.distributionPoint){if(this.distributionPoint instanceof Array){e.distributionPoint=Array.from(this.distributionPoint,(e=>e.toJSON()))}else{e.distributionPoint=this.distributionPoint.toJSON()}}if(this.reasons){e.reasons=this.reasons.toJSON()}if(this.cRLIssuer){e.cRLIssuer=Array.from(this.cRLIssuer,(e=>e.toJSON()))}return e}}DistributionPoint$1.CLASS_NAME="DistributionPoint";const DISTRIBUTION_POINTS="distributionPoints";const CLEAR_PROPS$1k=[DISTRIBUTION_POINTS];class CRLDistributionPoints$1 extends PkiObject{constructor(e={}){super();this.distributionPoints=getParametersValue(e,DISTRIBUTION_POINTS,CRLDistributionPoints$1.defaultValues(DISTRIBUTION_POINTS));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case DISTRIBUTION_POINTS:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Repeated({name:t.distributionPoints||EMPTY_STRING,value:DistributionPoint$1.schema()})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1k);const t=compareSchema(e,e,CRLDistributionPoints$1.schema({names:{distributionPoints:DISTRIBUTION_POINTS}}));AsnError.assertSchema(t,this.className);this.distributionPoints=Array.from(t.result.distributionPoints,(e=>new DistributionPoint$1({schema:e})))}toSchema(){return new Sequence({value:Array.from(this.distributionPoints,(e=>e.toSchema()))})}toJSON(){return{distributionPoints:Array.from(this.distributionPoints,(e=>e.toJSON()))}}}CRLDistributionPoints$1.CLASS_NAME="CRLDistributionPoints";const KEY_PURPOSES="keyPurposes";const CLEAR_PROPS$1j=[KEY_PURPOSES];class ExtKeyUsage extends PkiObject{constructor(e={}){super();this.keyPurposes=getParametersValue(e,KEY_PURPOSES,ExtKeyUsage.defaultValues(KEY_PURPOSES));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case KEY_PURPOSES:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Repeated({name:t.keyPurposes||EMPTY_STRING,value:new ObjectIdentifier$1})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1j);const t=compareSchema(e,e,ExtKeyUsage.schema({names:{keyPurposes:KEY_PURPOSES}}));AsnError.assertSchema(t,this.className);this.keyPurposes=Array.from(t.result.keyPurposes,(e=>e.valueBlock.toString()))}toSchema(){return new Sequence({value:Array.from(this.keyPurposes,(e=>new ObjectIdentifier$1({value:e})))})}toJSON(){return{keyPurposes:Array.from(this.keyPurposes)}}}ExtKeyUsage.CLASS_NAME="ExtKeyUsage";const ACCESS_DESCRIPTIONS="accessDescriptions";class InfoAccess extends PkiObject{constructor(e={}){super();this.accessDescriptions=getParametersValue(e,ACCESS_DESCRIPTIONS,InfoAccess.defaultValues(ACCESS_DESCRIPTIONS));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case ACCESS_DESCRIPTIONS:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Repeated({name:t.accessDescriptions||EMPTY_STRING,value:AccessDescription$1.schema()})]})}fromSchema(e){clearProps(e,[ACCESS_DESCRIPTIONS]);const t=compareSchema(e,e,InfoAccess.schema({names:{accessDescriptions:ACCESS_DESCRIPTIONS}}));AsnError.assertSchema(t,this.className);this.accessDescriptions=Array.from(t.result.accessDescriptions,(e=>new AccessDescription$1({schema:e})))}toSchema(){return new Sequence({value:Array.from(this.accessDescriptions,(e=>e.toSchema()))})}toJSON(){return{accessDescriptions:Array.from(this.accessDescriptions,(e=>e.toJSON()))}}}InfoAccess.CLASS_NAME="InfoAccess";const DISTRIBUTION_POINT="distributionPoint";const DISTRIBUTION_POINT_NAMES="distributionPointNames";const ONLY_CONTAINS_USER_CERTS="onlyContainsUserCerts";const ONLY_CONTAINS_CA_CERTS="onlyContainsCACerts";const ONLY_SOME_REASON="onlySomeReasons";const INDIRECT_CRL="indirectCRL";const ONLY_CONTAINS_ATTRIBUTE_CERTS="onlyContainsAttributeCerts";const CLEAR_PROPS$1i=[DISTRIBUTION_POINT,DISTRIBUTION_POINT_NAMES,ONLY_CONTAINS_USER_CERTS,ONLY_CONTAINS_CA_CERTS,ONLY_SOME_REASON,INDIRECT_CRL,ONLY_CONTAINS_ATTRIBUTE_CERTS];class IssuingDistributionPoint$1 extends PkiObject{constructor(e={}){super();if(DISTRIBUTION_POINT in e){this.distributionPoint=getParametersValue(e,DISTRIBUTION_POINT,IssuingDistributionPoint$1.defaultValues(DISTRIBUTION_POINT))}this.onlyContainsUserCerts=getParametersValue(e,ONLY_CONTAINS_USER_CERTS,IssuingDistributionPoint$1.defaultValues(ONLY_CONTAINS_USER_CERTS));this.onlyContainsCACerts=getParametersValue(e,ONLY_CONTAINS_CA_CERTS,IssuingDistributionPoint$1.defaultValues(ONLY_CONTAINS_CA_CERTS));if(ONLY_SOME_REASON in e){this.onlySomeReasons=getParametersValue(e,ONLY_SOME_REASON,IssuingDistributionPoint$1.defaultValues(ONLY_SOME_REASON))}this.indirectCRL=getParametersValue(e,INDIRECT_CRL,IssuingDistributionPoint$1.defaultValues(INDIRECT_CRL));this.onlyContainsAttributeCerts=getParametersValue(e,ONLY_CONTAINS_ATTRIBUTE_CERTS,IssuingDistributionPoint$1.defaultValues(ONLY_CONTAINS_ATTRIBUTE_CERTS));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case DISTRIBUTION_POINT:return[];case ONLY_CONTAINS_USER_CERTS:return false;case ONLY_CONTAINS_CA_CERTS:return false;case ONLY_SOME_REASON:return 0;case INDIRECT_CRL:return false;case ONLY_CONTAINS_ATTRIBUTE_CERTS:return false;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:0},value:[new Choice({value:[new Constructed({name:t.distributionPoint||EMPTY_STRING,idBlock:{tagClass:3,tagNumber:0},value:[new Repeated({name:t.distributionPointNames||EMPTY_STRING,value:GeneralName$2.schema()})]}),new Constructed({name:t.distributionPoint||EMPTY_STRING,idBlock:{tagClass:3,tagNumber:1},value:RelativeDistinguishedNames.schema().valueBlock.value})]})]}),new Primitive({name:t.onlyContainsUserCerts||EMPTY_STRING,optional:true,idBlock:{tagClass:3,tagNumber:1}}),new Primitive({name:t.onlyContainsCACerts||EMPTY_STRING,optional:true,idBlock:{tagClass:3,tagNumber:2}}),new Primitive({name:t.onlySomeReasons||EMPTY_STRING,optional:true,idBlock:{tagClass:3,tagNumber:3}}),new Primitive({name:t.indirectCRL||EMPTY_STRING,optional:true,idBlock:{tagClass:3,tagNumber:4}}),new Primitive({name:t.onlyContainsAttributeCerts||EMPTY_STRING,optional:true,idBlock:{tagClass:3,tagNumber:5}})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1i);const t=compareSchema(e,e,IssuingDistributionPoint$1.schema({names:{distributionPoint:DISTRIBUTION_POINT,distributionPointNames:DISTRIBUTION_POINT_NAMES,onlyContainsUserCerts:ONLY_CONTAINS_USER_CERTS,onlyContainsCACerts:ONLY_CONTAINS_CA_CERTS,onlySomeReasons:ONLY_SOME_REASON,indirectCRL:INDIRECT_CRL,onlyContainsAttributeCerts:ONLY_CONTAINS_ATTRIBUTE_CERTS}}));AsnError.assertSchema(t,this.className);if(DISTRIBUTION_POINT in t.result){switch(true){case t.result.distributionPoint.idBlock.tagNumber===0:this.distributionPoint=Array.from(t.result.distributionPointNames,(e=>new GeneralName$2({schema:e})));break;case t.result.distributionPoint.idBlock.tagNumber===1:{this.distributionPoint=new RelativeDistinguishedNames({schema:new Sequence({value:t.result.distributionPoint.valueBlock.value})})}break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}}if(ONLY_CONTAINS_USER_CERTS in t.result){const e=new Uint8Array(t.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=e[0]!==0}if(ONLY_CONTAINS_CA_CERTS in t.result){const e=new Uint8Array(t.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=e[0]!==0}if(ONLY_SOME_REASON in t.result){const e=new Uint8Array(t.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=e[0]}if(INDIRECT_CRL in t.result){const e=new Uint8Array(t.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=e[0]!==0}if(ONLY_CONTAINS_ATTRIBUTE_CERTS in t.result){const e=new Uint8Array(t.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=e[0]!==0}}toSchema(){const e=[];if(this.distributionPoint){let t;if(this.distributionPoint instanceof Array){t=new Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,(e=>e.toSchema()))})}else{t=this.distributionPoint.toSchema();t.idBlock.tagClass=3;t.idBlock.tagNumber=1}e.push(new Constructed({idBlock:{tagClass:3,tagNumber:0},value:[t]}))}if(this.onlyContainsUserCerts!==IssuingDistributionPoint$1.defaultValues(ONLY_CONTAINS_USER_CERTS)){e.push(new Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer}))}if(this.onlyContainsCACerts!==IssuingDistributionPoint$1.defaultValues(ONLY_CONTAINS_CA_CERTS)){e.push(new Primitive({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer}))}if(this.onlySomeReasons!==undefined){const t=new ArrayBuffer(1);const r=new Uint8Array(t);r[0]=this.onlySomeReasons;e.push(new Primitive({idBlock:{tagClass:3,tagNumber:3},valueHex:t}))}if(this.indirectCRL!==IssuingDistributionPoint$1.defaultValues(INDIRECT_CRL)){e.push(new Primitive({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer}))}if(this.onlyContainsAttributeCerts!==IssuingDistributionPoint$1.defaultValues(ONLY_CONTAINS_ATTRIBUTE_CERTS)){e.push(new Primitive({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer}))}return new Sequence({value:e})}toJSON(){const e={};if(this.distributionPoint){if(this.distributionPoint instanceof Array){e.distributionPoint=Array.from(this.distributionPoint,(e=>e.toJSON()))}else{e.distributionPoint=this.distributionPoint.toJSON()}}if(this.onlyContainsUserCerts!==IssuingDistributionPoint$1.defaultValues(ONLY_CONTAINS_USER_CERTS)){e.onlyContainsUserCerts=this.onlyContainsUserCerts}if(this.onlyContainsCACerts!==IssuingDistributionPoint$1.defaultValues(ONLY_CONTAINS_CA_CERTS)){e.onlyContainsCACerts=this.onlyContainsCACerts}if(ONLY_SOME_REASON in this){e.onlySomeReasons=this.onlySomeReasons}if(this.indirectCRL!==IssuingDistributionPoint$1.defaultValues(INDIRECT_CRL)){e.indirectCRL=this.indirectCRL}if(this.onlyContainsAttributeCerts!==IssuingDistributionPoint$1.defaultValues(ONLY_CONTAINS_ATTRIBUTE_CERTS)){e.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts}return e}}IssuingDistributionPoint$1.CLASS_NAME="IssuingDistributionPoint";const BASE="base";const MINIMUM="minimum";const MAXIMUM="maximum";const CLEAR_PROPS$1h=[BASE,MINIMUM,MAXIMUM];class GeneralSubtree$1 extends PkiObject{constructor(e={}){super();this.base=getParametersValue(e,BASE,GeneralSubtree$1.defaultValues(BASE));this.minimum=getParametersValue(e,MINIMUM,GeneralSubtree$1.defaultValues(MINIMUM));if(MAXIMUM in e){this.maximum=getParametersValue(e,MAXIMUM,GeneralSubtree$1.defaultValues(MAXIMUM))}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case BASE:return new GeneralName$2;case MINIMUM:return 0;case MAXIMUM:return 0;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[GeneralName$2.schema(t.base||{}),new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:0},value:[new Integer({name:t.minimum||EMPTY_STRING})]}),new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:1},value:[new Integer({name:t.maximum||EMPTY_STRING})]})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1h);const t=compareSchema(e,e,GeneralSubtree$1.schema({names:{base:{names:{blockName:BASE}},minimum:MINIMUM,maximum:MAXIMUM}}));AsnError.assertSchema(t,this.className);this.base=new GeneralName$2({schema:t.result.base});if(MINIMUM in t.result){if(t.result.minimum.valueBlock.isHexOnly)this.minimum=t.result.minimum;else this.minimum=t.result.minimum.valueBlock.valueDec}if(MAXIMUM in t.result){if(t.result.maximum.valueBlock.isHexOnly)this.maximum=t.result.maximum;else this.maximum=t.result.maximum.valueBlock.valueDec}}toSchema(){const e=[];e.push(this.base.toSchema());if(this.minimum!==0){let t=0;if(this.minimum instanceof Integer){t=this.minimum}else{t=new Integer({value:this.minimum})}e.push(new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:0},value:[t]}))}if(MAXIMUM in this){let t=0;if(this.maximum instanceof Integer){t=this.maximum}else{t=new Integer({value:this.maximum})}e.push(new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:1},value:[t]}))}return new Sequence({value:e})}toJSON(){const e={base:this.base.toJSON()};if(this.minimum!==0){if(typeof this.minimum==="number"){e.minimum=this.minimum}else{e.minimum=this.minimum.toJSON()}}if(this.maximum!==undefined){if(typeof this.maximum==="number"){e.maximum=this.maximum}else{e.maximum=this.maximum.toJSON()}}return e}}GeneralSubtree$1.CLASS_NAME="GeneralSubtree";const PERMITTED_SUBTREES="permittedSubtrees";const EXCLUDED_SUBTREES="excludedSubtrees";const CLEAR_PROPS$1g=[PERMITTED_SUBTREES,EXCLUDED_SUBTREES];class NameConstraints$1 extends PkiObject{constructor(e={}){super();if(PERMITTED_SUBTREES in e){this.permittedSubtrees=getParametersValue(e,PERMITTED_SUBTREES,NameConstraints$1.defaultValues(PERMITTED_SUBTREES))}if(EXCLUDED_SUBTREES in e){this.excludedSubtrees=getParametersValue(e,EXCLUDED_SUBTREES,NameConstraints$1.defaultValues(EXCLUDED_SUBTREES))}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case PERMITTED_SUBTREES:case EXCLUDED_SUBTREES:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:0},value:[new Repeated({name:t.permittedSubtrees||EMPTY_STRING,value:GeneralSubtree$1.schema()})]}),new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:1},value:[new Repeated({name:t.excludedSubtrees||EMPTY_STRING,value:GeneralSubtree$1.schema()})]})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1g);const t=compareSchema(e,e,NameConstraints$1.schema({names:{permittedSubtrees:PERMITTED_SUBTREES,excludedSubtrees:EXCLUDED_SUBTREES}}));AsnError.assertSchema(t,this.className);if(PERMITTED_SUBTREES in t.result)this.permittedSubtrees=Array.from(t.result.permittedSubtrees,(e=>new GeneralSubtree$1({schema:e})));if(EXCLUDED_SUBTREES in t.result)this.excludedSubtrees=Array.from(t.result.excludedSubtrees,(e=>new GeneralSubtree$1({schema:e})))}toSchema(){const e=[];if(this.permittedSubtrees){e.push(new Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,(e=>e.toSchema()))}))}if(this.excludedSubtrees){e.push(new Constructed({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,(e=>e.toSchema()))}))}return new Sequence({value:e})}toJSON(){const e={};if(this.permittedSubtrees){e.permittedSubtrees=Array.from(this.permittedSubtrees,(e=>e.toJSON()))}if(this.excludedSubtrees){e.excludedSubtrees=Array.from(this.excludedSubtrees,(e=>e.toJSON()))}return e}}NameConstraints$1.CLASS_NAME="NameConstraints";const REQUIRE_EXPLICIT_POLICY="requireExplicitPolicy";const INHIBIT_POLICY_MAPPING="inhibitPolicyMapping";const CLEAR_PROPS$1f=[REQUIRE_EXPLICIT_POLICY,INHIBIT_POLICY_MAPPING];class PolicyConstraints$1 extends PkiObject{constructor(e={}){super();if(REQUIRE_EXPLICIT_POLICY in e){this.requireExplicitPolicy=getParametersValue(e,REQUIRE_EXPLICIT_POLICY,PolicyConstraints$1.defaultValues(REQUIRE_EXPLICIT_POLICY))}if(INHIBIT_POLICY_MAPPING in e){this.inhibitPolicyMapping=getParametersValue(e,INHIBIT_POLICY_MAPPING,PolicyConstraints$1.defaultValues(INHIBIT_POLICY_MAPPING))}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case REQUIRE_EXPLICIT_POLICY:return 0;case INHIBIT_POLICY_MAPPING:return 0;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Primitive({name:t.requireExplicitPolicy||EMPTY_STRING,optional:true,idBlock:{tagClass:3,tagNumber:0}}),new Primitive({name:t.inhibitPolicyMapping||EMPTY_STRING,optional:true,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1f);const t=compareSchema(e,e,PolicyConstraints$1.schema({names:{requireExplicitPolicy:REQUIRE_EXPLICIT_POLICY,inhibitPolicyMapping:INHIBIT_POLICY_MAPPING}}));AsnError.assertSchema(t,this.className);if(REQUIRE_EXPLICIT_POLICY in t.result){const e=t.result.requireExplicitPolicy;e.idBlock.tagClass=1;e.idBlock.tagNumber=2;const r=e.toBER(false);const n=fromBER(r);AsnError.assert(n,"Integer");this.requireExplicitPolicy=n.result.valueBlock.valueDec}if(INHIBIT_POLICY_MAPPING in t.result){const e=t.result.inhibitPolicyMapping;e.idBlock.tagClass=1;e.idBlock.tagNumber=2;const r=e.toBER(false);const n=fromBER(r);AsnError.assert(n,"Integer");this.inhibitPolicyMapping=n.result.valueBlock.valueDec}}toSchema(){const e=[];if(REQUIRE_EXPLICIT_POLICY in this){const t=new Integer({value:this.requireExplicitPolicy});t.idBlock.tagClass=3;t.idBlock.tagNumber=0;e.push(t)}if(INHIBIT_POLICY_MAPPING in this){const t=new Integer({value:this.inhibitPolicyMapping});t.idBlock.tagClass=3;t.idBlock.tagNumber=1;e.push(t)}return new Sequence({value:e})}toJSON(){const e={};if(REQUIRE_EXPLICIT_POLICY in this){e.requireExplicitPolicy=this.requireExplicitPolicy}if(INHIBIT_POLICY_MAPPING in this){e.inhibitPolicyMapping=this.inhibitPolicyMapping}return e}}PolicyConstraints$1.CLASS_NAME="PolicyConstraints";const ISSUER_DOMAIN_POLICY="issuerDomainPolicy";const SUBJECT_DOMAIN_POLICY="subjectDomainPolicy";const CLEAR_PROPS$1e=[ISSUER_DOMAIN_POLICY,SUBJECT_DOMAIN_POLICY];class PolicyMapping$1 extends PkiObject{constructor(e={}){super();this.issuerDomainPolicy=getParametersValue(e,ISSUER_DOMAIN_POLICY,PolicyMapping$1.defaultValues(ISSUER_DOMAIN_POLICY));this.subjectDomainPolicy=getParametersValue(e,SUBJECT_DOMAIN_POLICY,PolicyMapping$1.defaultValues(SUBJECT_DOMAIN_POLICY));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case ISSUER_DOMAIN_POLICY:return EMPTY_STRING;case SUBJECT_DOMAIN_POLICY:return EMPTY_STRING;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new ObjectIdentifier$1({name:t.issuerDomainPolicy||EMPTY_STRING}),new ObjectIdentifier$1({name:t.subjectDomainPolicy||EMPTY_STRING})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1e);const t=compareSchema(e,e,PolicyMapping$1.schema({names:{issuerDomainPolicy:ISSUER_DOMAIN_POLICY,subjectDomainPolicy:SUBJECT_DOMAIN_POLICY}}));AsnError.assertSchema(t,this.className);this.issuerDomainPolicy=t.result.issuerDomainPolicy.valueBlock.toString();this.subjectDomainPolicy=t.result.subjectDomainPolicy.valueBlock.toString()}toSchema(){return new Sequence({value:[new ObjectIdentifier$1({value:this.issuerDomainPolicy}),new ObjectIdentifier$1({value:this.subjectDomainPolicy})]})}toJSON(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}}PolicyMapping$1.CLASS_NAME="PolicyMapping";const MAPPINGS="mappings";const CLEAR_PROPS$1d=[MAPPINGS];class PolicyMappings$1 extends PkiObject{constructor(e={}){super();this.mappings=getParametersValue(e,MAPPINGS,PolicyMappings$1.defaultValues(MAPPINGS));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case MAPPINGS:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Repeated({name:t.mappings||EMPTY_STRING,value:PolicyMapping$1.schema()})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1d);const t=compareSchema(e,e,PolicyMappings$1.schema({names:{mappings:MAPPINGS}}));AsnError.assertSchema(t,this.className);this.mappings=Array.from(t.result.mappings,(e=>new PolicyMapping$1({schema:e})))}toSchema(){return new Sequence({value:Array.from(this.mappings,(e=>e.toSchema()))})}toJSON(){return{mappings:Array.from(this.mappings,(e=>e.toJSON()))}}}PolicyMappings$1.CLASS_NAME="PolicyMappings";const NOT_BEFORE$1="notBefore";const NOT_AFTER$1="notAfter";const CLEAR_PROPS$1c=[NOT_BEFORE$1,NOT_AFTER$1];class PrivateKeyUsagePeriod$1 extends PkiObject{constructor(e={}){super();if(NOT_BEFORE$1 in e){this.notBefore=getParametersValue(e,NOT_BEFORE$1,PrivateKeyUsagePeriod$1.defaultValues(NOT_BEFORE$1))}if(NOT_AFTER$1 in e){this.notAfter=getParametersValue(e,NOT_AFTER$1,PrivateKeyUsagePeriod$1.defaultValues(NOT_AFTER$1))}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case NOT_BEFORE$1:return new Date;case NOT_AFTER$1:return new Date;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Primitive({name:t.notBefore||EMPTY_STRING,optional:true,idBlock:{tagClass:3,tagNumber:0}}),new Primitive({name:t.notAfter||EMPTY_STRING,optional:true,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1c);const t=compareSchema(e,e,PrivateKeyUsagePeriod$1.schema({names:{notBefore:NOT_BEFORE$1,notAfter:NOT_AFTER$1}}));AsnError.assertSchema(t,this.className);if(NOT_BEFORE$1 in t.result){const e=new GeneralizedTime;e.fromBuffer(t.result.notBefore.valueBlock.valueHex);this.notBefore=e.toDate()}if(NOT_AFTER$1 in t.result){const e=new GeneralizedTime({valueHex:t.result.notAfter.valueBlock.valueHex});e.fromBuffer(t.result.notAfter.valueBlock.valueHex);this.notAfter=e.toDate()}}toSchema(){const e=[];if(NOT_BEFORE$1 in this){e.push(new Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:new GeneralizedTime({valueDate:this.notBefore}).valueBlock.valueHexView}))}if(NOT_AFTER$1 in this){e.push(new Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:new GeneralizedTime({valueDate:this.notAfter}).valueBlock.valueHexView}))}return new Sequence({value:e})}toJSON(){const e={};if(this.notBefore){e.notBefore=this.notBefore}if(this.notAfter){e.notAfter=this.notAfter}return e}}PrivateKeyUsagePeriod$1.CLASS_NAME="PrivateKeyUsagePeriod";const ID="id";const TYPE$2="type";const VALUES="values";const QC_STATEMENT_CLEAR_PROPS=[ID,TYPE$2];const QC_STATEMENTS_CLEAR_PROPS=[VALUES];class QCStatement extends PkiObject{constructor(e={}){super();this.id=getParametersValue(e,ID,QCStatement.defaultValues(ID));if(TYPE$2 in e){this.type=getParametersValue(e,TYPE$2,QCStatement.defaultValues(TYPE$2))}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case ID:return EMPTY_STRING;case TYPE$2:return new Null;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case ID:return t===EMPTY_STRING;case TYPE$2:return t instanceof Null;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new ObjectIdentifier$1({name:t.id||EMPTY_STRING}),new Any({name:t.type||EMPTY_STRING,optional:true})]})}fromSchema(e){clearProps(e,QC_STATEMENT_CLEAR_PROPS);const t=compareSchema(e,e,QCStatement.schema({names:{id:ID,type:TYPE$2}}));AsnError.assertSchema(t,this.className);this.id=t.result.id.valueBlock.toString();if(TYPE$2 in t.result)this.type=t.result.type}toSchema(){const e=[new ObjectIdentifier$1({value:this.id})];if(TYPE$2 in this)e.push(this.type);return new Sequence({value:e})}toJSON(){const e={id:this.id};if(this.type){e.type=this.type.toJSON()}return e}}QCStatement.CLASS_NAME="QCStatement";class QCStatements extends PkiObject{constructor(e={}){super();this.values=getParametersValue(e,VALUES,QCStatements.defaultValues(VALUES));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case VALUES:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case VALUES:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Repeated({name:t.values||EMPTY_STRING,value:QCStatement.schema(t.value||{})})]})}fromSchema(e){clearProps(e,QC_STATEMENTS_CLEAR_PROPS);const t=compareSchema(e,e,QCStatements.schema({names:{values:VALUES}}));AsnError.assertSchema(t,this.className);this.values=Array.from(t.result.values,(e=>new QCStatement({schema:e})))}toSchema(){return new Sequence({value:Array.from(this.values,(e=>e.toSchema()))})}toJSON(){return{values:Array.from(this.values,(e=>e.toJSON()))}}}QCStatements.CLASS_NAME="QCStatements";var _a$3;class ECNamedCurves{static register(e,t,r){this.namedCurves[e.toLowerCase()]=this.namedCurves[t]={name:e,id:t,size:r}}static find(e){return this.namedCurves[e.toLowerCase()]||null}}_a$3=ECNamedCurves;ECNamedCurves.namedCurves={};(()=>{_a$3.register("P-256","1.2.840.10045.3.1.7",32);_a$3.register("P-384","1.3.132.0.34",48);_a$3.register("P-521","1.3.132.0.35",66);_a$3.register("K-256","1.3.132.0.10",32);_a$3.register("brainpoolP256r1","1.3.36.3.3.2.8.1.1.7",32);_a$3.register("brainpoolP384r1","1.3.36.3.3.2.8.1.1.11",48);_a$3.register("brainpoolP512r1","1.3.36.3.3.2.8.1.1.13",64)})();const X="x";const Y="y";const NAMED_CURVE$1="namedCurve";class ECPublicKey extends PkiObject{constructor(e={}){super();this.x=getParametersValue(e,X,ECPublicKey.defaultValues(X));this.y=getParametersValue(e,Y,ECPublicKey.defaultValues(Y));this.namedCurve=getParametersValue(e,NAMED_CURVE$1,ECPublicKey.defaultValues(NAMED_CURVE$1));if(e.json){this.fromJSON(e.json)}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case X:case Y:return EMPTY_BUFFER;case NAMED_CURVE$1:return EMPTY_STRING;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case X:case Y:return t instanceof ArrayBuffer&&isEqualBuffer(t,ECPublicKey.defaultValues(e));case NAMED_CURVE$1:return typeof t==="string"&&t===ECPublicKey.defaultValues(e);default:return super.defaultValues(e)}}static schema(){return new RawData}fromSchema(e){const t=build.BufferSourceConverter.toUint8Array(e);if(t[0]!==4){throw new Error("Object's schema was not verified against input data for ECPublicKey")}const r=ECNamedCurves.find(this.namedCurve);if(!r){throw new Error(`Incorrect curve OID: ${this.namedCurve}`)}const n=r.size;if(t.byteLength!==n*2+1){throw new Error("Object's schema was not verified against input data for ECPublicKey")}this.namedCurve=r.name;this.x=t.slice(1,n+1).buffer;this.y=t.slice(1+n,n*2+1).buffer}toSchema(){return new RawData({data:utilConcatBuf(new Uint8Array([4]).buffer,this.x,this.y)})}toJSON(){const e=ECNamedCurves.find(this.namedCurve);return{crv:e?e.name:this.namedCurve,x:toBase64(arrayBufferToString(this.x),true,true,false),y:toBase64(arrayBufferToString(this.y),true,true,false)}}fromJSON(e){ParameterError.assert("json",e,"crv","x","y");let t=0;const r=ECNamedCurves.find(e.crv);if(r){this.namedCurve=r.id;t=r.size}const n=stringToArrayBuffer(fromBase64(e.x,true));if(n.byteLength<t){this.x=new ArrayBuffer(t);const e=new Uint8Array(this.x);const r=new Uint8Array(n);e.set(r,1)}else{this.x=n.slice(0,t)}const i=stringToArrayBuffer(fromBase64(e.y,true));if(i.byteLength<t){this.y=new ArrayBuffer(t);const e=new Uint8Array(this.y);const r=new Uint8Array(i);e.set(r,1)}else{this.y=i.slice(0,t)}}}ECPublicKey.CLASS_NAME="ECPublicKey";const MODULUS$1="modulus";const PUBLIC_EXPONENT$1="publicExponent";const CLEAR_PROPS$1b=[MODULUS$1,PUBLIC_EXPONENT$1];class RSAPublicKey$1 extends PkiObject{constructor(e={}){super();this.modulus=getParametersValue(e,MODULUS$1,RSAPublicKey$1.defaultValues(MODULUS$1));this.publicExponent=getParametersValue(e,PUBLIC_EXPONENT$1,RSAPublicKey$1.defaultValues(PUBLIC_EXPONENT$1));if(e.json){this.fromJSON(e.json)}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case MODULUS$1:return new Integer;case PUBLIC_EXPONENT$1:return new Integer;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Integer({name:t.modulus||EMPTY_STRING}),new Integer({name:t.publicExponent||EMPTY_STRING})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1b);const t=compareSchema(e,e,RSAPublicKey$1.schema({names:{modulus:MODULUS$1,publicExponent:PUBLIC_EXPONENT$1}}));AsnError.assertSchema(t,this.className);this.modulus=t.result.modulus.convertFromDER(256);this.publicExponent=t.result.publicExponent}toSchema(){return new Sequence({value:[this.modulus.convertToDER(),this.publicExponent]})}toJSON(){return{n:build.Convert.ToBase64Url(this.modulus.valueBlock.valueHexView),e:build.Convert.ToBase64Url(this.publicExponent.valueBlock.valueHexView)}}fromJSON(e){ParameterError.assert("json",e,"n","e");const t=stringToArrayBuffer(fromBase64(e.n,true));this.modulus=new Integer({valueHex:t.slice(0,Math.pow(2,nearestPowerOf2(t.byteLength)))});this.publicExponent=new Integer({valueHex:stringToArrayBuffer(fromBase64(e.e,true)).slice(0,3)})}}RSAPublicKey$1.CLASS_NAME="RSAPublicKey";const ALGORITHM$1="algorithm";const SUBJECT_PUBLIC_KEY="subjectPublicKey";const CLEAR_PROPS$1a=[ALGORITHM$1,SUBJECT_PUBLIC_KEY];class PublicKeyInfo$1 extends PkiObject{constructor(e={}){super();this.algorithm=getParametersValue(e,ALGORITHM$1,PublicKeyInfo$1.defaultValues(ALGORITHM$1));this.subjectPublicKey=getParametersValue(e,SUBJECT_PUBLIC_KEY,PublicKeyInfo$1.defaultValues(SUBJECT_PUBLIC_KEY));const t=getParametersValue(e,"parsedKey",null);if(t){this.parsedKey=t}if(e.json){this.fromJSON(e.json)}if(e.schema){this.fromSchema(e.schema)}}get parsedKey(){if(this._parsedKey===undefined){switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm){if(this.algorithm.algorithmParams.constructor.blockName()===ObjectIdentifier$1.blockName()){try{this._parsedKey=new ECPublicKey({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHexView})}catch(e){console.warn(e)}}}break;case"1.2.840.113549.1.1.1":{const e=fromBER(this.subjectPublicKey.valueBlock.valueHexView);if(e.offset!==-1){try{this._parsedKey=new RSAPublicKey$1({schema:e.result})}catch(e){}}}break}this._parsedKey||(this._parsedKey=null)}return this._parsedKey||undefined}set parsedKey(e){this._parsedKey=e}static defaultValues(e){switch(e){case ALGORITHM$1:return new AlgorithmIdentifier$2;case SUBJECT_PUBLIC_KEY:return new BitString$1;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[AlgorithmIdentifier$2.schema(t.algorithm||{}),new BitString$1({name:t.subjectPublicKey||EMPTY_STRING})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$1a);const t=compareSchema(e,e,PublicKeyInfo$1.schema({names:{algorithm:{names:{blockName:ALGORITHM$1}},subjectPublicKey:SUBJECT_PUBLIC_KEY}}));AsnError.assertSchema(t,this.className);this.algorithm=new AlgorithmIdentifier$2({schema:t.result.algorithm});this.subjectPublicKey=t.result.subjectPublicKey}toSchema(){return new Sequence({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}toJSON(){if(!this.parsedKey){return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()}}const e={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":e.kty="EC";break;case"1.2.840.113549.1.1.1":e.kty="RSA";break}const t=this.parsedKey.toJSON();Object.assign(e,t);return e}fromJSON(e){if("kty"in e){switch(e.kty.toUpperCase()){case"EC":this.parsedKey=new ECPublicKey({json:e});this.algorithm=new AlgorithmIdentifier$2({algorithmId:"1.2.840.10045.2.1",algorithmParams:new ObjectIdentifier$1({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new RSAPublicKey$1({json:e});this.algorithm=new AlgorithmIdentifier$2({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Null});break;default:throw new Error(`Invalid value for "kty" parameter: ${e.kty}`)}this.subjectPublicKey=new BitString$1({valueHex:this.parsedKey.toSchema().toBER(false)})}}async importKey(e,t=getCrypto(true)){try{if(!e){throw new Error("Need to provide publicKey input parameter")}const r=await t.exportKey("spki",e);const n=fromBER(r);try{this.fromSchema(n.result)}catch(e){throw new Error("Error during initializing object from schema")}}catch(e){const t=e instanceof Error?e.message:`${e}`;throw new Error(`Error during exporting public key: ${t}`)}}}PublicKeyInfo$1.CLASS_NAME="PublicKeyInfo";const VERSION$l="version";const PRIVATE_KEY$1="privateKey";const NAMED_CURVE="namedCurve";const PUBLIC_KEY$1="publicKey";const CLEAR_PROPS$19=[VERSION$l,PRIVATE_KEY$1,NAMED_CURVE,PUBLIC_KEY$1];class ECPrivateKey$1 extends PkiObject{constructor(e={}){super();this.version=getParametersValue(e,VERSION$l,ECPrivateKey$1.defaultValues(VERSION$l));this.privateKey=getParametersValue(e,PRIVATE_KEY$1,ECPrivateKey$1.defaultValues(PRIVATE_KEY$1));if(NAMED_CURVE in e){this.namedCurve=getParametersValue(e,NAMED_CURVE,ECPrivateKey$1.defaultValues(NAMED_CURVE))}if(PUBLIC_KEY$1 in e){this.publicKey=getParametersValue(e,PUBLIC_KEY$1,ECPrivateKey$1.defaultValues(PUBLIC_KEY$1))}if(e.json){this.fromJSON(e.json)}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case VERSION$l:return 1;case PRIVATE_KEY$1:return new OctetString$1;case NAMED_CURVE:return EMPTY_STRING;case PUBLIC_KEY$1:return new ECPublicKey;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case VERSION$l:return t===ECPrivateKey$1.defaultValues(e);case PRIVATE_KEY$1:return t.isEqual(ECPrivateKey$1.defaultValues(e));case NAMED_CURVE:return t===EMPTY_STRING;case PUBLIC_KEY$1:return ECPublicKey.compareWithDefault(NAMED_CURVE,t.namedCurve)&&ECPublicKey.compareWithDefault("x",t.x)&&ECPublicKey.compareWithDefault("y",t.y);default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Integer({name:t.version||EMPTY_STRING}),new OctetString$1({name:t.privateKey||EMPTY_STRING}),new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:0},value:[new ObjectIdentifier$1({name:t.namedCurve||EMPTY_STRING})]}),new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:1},value:[new BitString$1({name:t.publicKey||EMPTY_STRING})]})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$19);const t=compareSchema(e,e,ECPrivateKey$1.schema({names:{version:VERSION$l,privateKey:PRIVATE_KEY$1,namedCurve:NAMED_CURVE,publicKey:PUBLIC_KEY$1}}));AsnError.assertSchema(t,this.className);this.version=t.result.version.valueBlock.valueDec;this.privateKey=t.result.privateKey;if(NAMED_CURVE in t.result){this.namedCurve=t.result.namedCurve.valueBlock.toString()}if(PUBLIC_KEY$1 in t.result){const e={schema:t.result.publicKey.valueBlock.valueHex};if(NAMED_CURVE in this){e.namedCurve=this.namedCurve}this.publicKey=new ECPublicKey(e)}}toSchema(){const e=[new Integer({value:this.version}),this.privateKey];if(this.namedCurve){e.push(new Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new ObjectIdentifier$1({value:this.namedCurve})]}))}if(this.publicKey){e.push(new Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new BitString$1({valueHex:this.publicKey.toSchema().toBER(false)})]}))}return new Sequence({value:e})}toJSON(){if(!this.namedCurve||ECPrivateKey$1.compareWithDefault(NAMED_CURVE,this.namedCurve)){throw new Error('Not enough information for making JSON: absent "namedCurve" value')}const e=ECNamedCurves.find(this.namedCurve);const t={crv:e?e.name:this.namedCurve,d:build.Convert.ToBase64Url(this.privateKey.valueBlock.valueHexView)};if(this.publicKey){const e=this.publicKey.toJSON();t.x=e.x;t.y=e.y}return t}fromJSON(e){ParameterError.assert("json",e,"crv","d");let t=0;const r=ECNamedCurves.find(e.crv);if(r){this.namedCurve=r.id;t=r.size}const n=build.Convert.FromBase64Url(e.d);if(n.byteLength<t){const e=new ArrayBuffer(t);const r=new Uint8Array(e);const i=new Uint8Array(n);r.set(i,1);this.privateKey=new OctetString$1({valueHex:e})}else{this.privateKey=new OctetString$1({valueHex:n.slice(0,t)})}if(e.x&&e.y){this.publicKey=new ECPublicKey({json:e})}}}ECPrivateKey$1.CLASS_NAME="ECPrivateKey";const PRIME="prime";const EXPONENT="exponent";const COEFFICIENT$1="coefficient";const CLEAR_PROPS$18=[PRIME,EXPONENT,COEFFICIENT$1];class OtherPrimeInfo$1 extends PkiObject{constructor(e={}){super();this.prime=getParametersValue(e,PRIME,OtherPrimeInfo$1.defaultValues(PRIME));this.exponent=getParametersValue(e,EXPONENT,OtherPrimeInfo$1.defaultValues(EXPONENT));this.coefficient=getParametersValue(e,COEFFICIENT$1,OtherPrimeInfo$1.defaultValues(COEFFICIENT$1));if(e.json){this.fromJSON(e.json)}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case PRIME:return new Integer;case EXPONENT:return new Integer;case COEFFICIENT$1:return new Integer;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Integer({name:t.prime||EMPTY_STRING}),new Integer({name:t.exponent||EMPTY_STRING}),new Integer({name:t.coefficient||EMPTY_STRING})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$18);const t=compareSchema(e,e,OtherPrimeInfo$1.schema({names:{prime:PRIME,exponent:EXPONENT,coefficient:COEFFICIENT$1}}));AsnError.assertSchema(t,this.className);this.prime=t.result.prime.convertFromDER();this.exponent=t.result.exponent.convertFromDER();this.coefficient=t.result.coefficient.convertFromDER()}toSchema(){return new Sequence({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}toJSON(){return{r:build.Convert.ToBase64Url(this.prime.valueBlock.valueHexView),d:build.Convert.ToBase64Url(this.exponent.valueBlock.valueHexView),t:build.Convert.ToBase64Url(this.coefficient.valueBlock.valueHexView)}}fromJSON(e){ParameterError.assert("json",e,"r","d","r");this.prime=new Integer({valueHex:build.Convert.FromBase64Url(e.r)});this.exponent=new Integer({valueHex:build.Convert.FromBase64Url(e.d)});this.coefficient=new Integer({valueHex:build.Convert.FromBase64Url(e.t)})}}OtherPrimeInfo$1.CLASS_NAME="OtherPrimeInfo";const VERSION$k="version";const MODULUS="modulus";const PUBLIC_EXPONENT="publicExponent";const PRIVATE_EXPONENT="privateExponent";const PRIME1="prime1";const PRIME2="prime2";const EXPONENT1="exponent1";const EXPONENT2="exponent2";const COEFFICIENT="coefficient";const OTHER_PRIME_INFOS="otherPrimeInfos";const CLEAR_PROPS$17=[VERSION$k,MODULUS,PUBLIC_EXPONENT,PRIVATE_EXPONENT,PRIME1,PRIME2,EXPONENT1,EXPONENT2,COEFFICIENT,OTHER_PRIME_INFOS];class RSAPrivateKey$1 extends PkiObject{constructor(e={}){super();this.version=getParametersValue(e,VERSION$k,RSAPrivateKey$1.defaultValues(VERSION$k));this.modulus=getParametersValue(e,MODULUS,RSAPrivateKey$1.defaultValues(MODULUS));this.publicExponent=getParametersValue(e,PUBLIC_EXPONENT,RSAPrivateKey$1.defaultValues(PUBLIC_EXPONENT));this.privateExponent=getParametersValue(e,PRIVATE_EXPONENT,RSAPrivateKey$1.defaultValues(PRIVATE_EXPONENT));this.prime1=getParametersValue(e,PRIME1,RSAPrivateKey$1.defaultValues(PRIME1));this.prime2=getParametersValue(e,PRIME2,RSAPrivateKey$1.defaultValues(PRIME2));this.exponent1=getParametersValue(e,EXPONENT1,RSAPrivateKey$1.defaultValues(EXPONENT1));this.exponent2=getParametersValue(e,EXPONENT2,RSAPrivateKey$1.defaultValues(EXPONENT2));this.coefficient=getParametersValue(e,COEFFICIENT,RSAPrivateKey$1.defaultValues(COEFFICIENT));if(OTHER_PRIME_INFOS in e){this.otherPrimeInfos=getParametersValue(e,OTHER_PRIME_INFOS,RSAPrivateKey$1.defaultValues(OTHER_PRIME_INFOS))}if(e.json){this.fromJSON(e.json)}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case VERSION$k:return 0;case MODULUS:return new Integer;case PUBLIC_EXPONENT:return new Integer;case PRIVATE_EXPONENT:return new Integer;case PRIME1:return new Integer;case PRIME2:return new Integer;case EXPONENT1:return new Integer;case EXPONENT2:return new Integer;case COEFFICIENT:return new Integer;case OTHER_PRIME_INFOS:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Integer({name:t.version||EMPTY_STRING}),new Integer({name:t.modulus||EMPTY_STRING}),new Integer({name:t.publicExponent||EMPTY_STRING}),new Integer({name:t.privateExponent||EMPTY_STRING}),new Integer({name:t.prime1||EMPTY_STRING}),new Integer({name:t.prime2||EMPTY_STRING}),new Integer({name:t.exponent1||EMPTY_STRING}),new Integer({name:t.exponent2||EMPTY_STRING}),new Integer({name:t.coefficient||EMPTY_STRING}),new Sequence({optional:true,value:[new Repeated({name:t.otherPrimeInfosName||EMPTY_STRING,value:OtherPrimeInfo$1.schema(t.otherPrimeInfo||{})})]})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$17);const t=compareSchema(e,e,RSAPrivateKey$1.schema({names:{version:VERSION$k,modulus:MODULUS,publicExponent:PUBLIC_EXPONENT,privateExponent:PRIVATE_EXPONENT,prime1:PRIME1,prime2:PRIME2,exponent1:EXPONENT1,exponent2:EXPONENT2,coefficient:COEFFICIENT,otherPrimeInfo:{names:{blockName:OTHER_PRIME_INFOS}}}}));AsnError.assertSchema(t,this.className);this.version=t.result.version.valueBlock.valueDec;this.modulus=t.result.modulus.convertFromDER(256);this.publicExponent=t.result.publicExponent;this.privateExponent=t.result.privateExponent.convertFromDER(256);this.prime1=t.result.prime1.convertFromDER(128);this.prime2=t.result.prime2.convertFromDER(128);this.exponent1=t.result.exponent1.convertFromDER(128);this.exponent2=t.result.exponent2.convertFromDER(128);this.coefficient=t.result.coefficient.convertFromDER(128);if(OTHER_PRIME_INFOS in t.result)this.otherPrimeInfos=Array.from(t.result.otherPrimeInfos,(e=>new OtherPrimeInfo$1({schema:e})))}toSchema(){const e=[];e.push(new Integer({value:this.version}));e.push(this.modulus.convertToDER());e.push(this.publicExponent);e.push(this.privateExponent.convertToDER());e.push(this.prime1.convertToDER());e.push(this.prime2.convertToDER());e.push(this.exponent1.convertToDER());e.push(this.exponent2.convertToDER());e.push(this.coefficient.convertToDER());if(this.otherPrimeInfos){e.push(new Sequence({value:Array.from(this.otherPrimeInfos,(e=>e.toSchema()))}))}return new Sequence({value:e})}toJSON(){const e={n:build.Convert.ToBase64Url(this.modulus.valueBlock.valueHexView),e:build.Convert.ToBase64Url(this.publicExponent.valueBlock.valueHexView),d:build.Convert.ToBase64Url(this.privateExponent.valueBlock.valueHexView),p:build.Convert.ToBase64Url(this.prime1.valueBlock.valueHexView),q:build.Convert.ToBase64Url(this.prime2.valueBlock.valueHexView),dp:build.Convert.ToBase64Url(this.exponent1.valueBlock.valueHexView),dq:build.Convert.ToBase64Url(this.exponent2.valueBlock.valueHexView),qi:build.Convert.ToBase64Url(this.coefficient.valueBlock.valueHexView)};if(this.otherPrimeInfos){e.oth=Array.from(this.otherPrimeInfos,(e=>e.toJSON()))}return e}fromJSON(e){ParameterError.assert("json",e,"n","e","d","p","q","dp","dq","qi");this.modulus=new Integer({valueHex:build.Convert.FromBase64Url(e.n)});this.publicExponent=new Integer({valueHex:build.Convert.FromBase64Url(e.e)});this.privateExponent=new Integer({valueHex:build.Convert.FromBase64Url(e.d)});this.prime1=new Integer({valueHex:build.Convert.FromBase64Url(e.p)});this.prime2=new Integer({valueHex:build.Convert.FromBase64Url(e.q)});this.exponent1=new Integer({valueHex:build.Convert.FromBase64Url(e.dp)});this.exponent2=new Integer({valueHex:build.Convert.FromBase64Url(e.dq)});this.coefficient=new Integer({valueHex:build.Convert.FromBase64Url(e.qi)});if(e.oth){this.otherPrimeInfos=Array.from(e.oth,(e=>new OtherPrimeInfo$1({json:e})))}}}RSAPrivateKey$1.CLASS_NAME="RSAPrivateKey";const VERSION$j="version";const PRIVATE_KEY_ALGORITHM="privateKeyAlgorithm";const PRIVATE_KEY="privateKey";const ATTRIBUTES$5="attributes";const PARSED_KEY="parsedKey";const CLEAR_PROPS$16=[VERSION$j,PRIVATE_KEY_ALGORITHM,PRIVATE_KEY,ATTRIBUTES$5];class PrivateKeyInfo$2 extends PkiObject{constructor(e={}){super();this.version=getParametersValue(e,VERSION$j,PrivateKeyInfo$2.defaultValues(VERSION$j));this.privateKeyAlgorithm=getParametersValue(e,PRIVATE_KEY_ALGORITHM,PrivateKeyInfo$2.defaultValues(PRIVATE_KEY_ALGORITHM));this.privateKey=getParametersValue(e,PRIVATE_KEY,PrivateKeyInfo$2.defaultValues(PRIVATE_KEY));if(ATTRIBUTES$5 in e){this.attributes=getParametersValue(e,ATTRIBUTES$5,PrivateKeyInfo$2.defaultValues(ATTRIBUTES$5))}if(PARSED_KEY in e){this.parsedKey=getParametersValue(e,PARSED_KEY,PrivateKeyInfo$2.defaultValues(PARSED_KEY))}if(e.json){this.fromJSON(e.json)}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case VERSION$j:return 0;case PRIVATE_KEY_ALGORITHM:return new AlgorithmIdentifier$2;case PRIVATE_KEY:return new OctetString$1;case ATTRIBUTES$5:return[];case PARSED_KEY:return{};default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Integer({name:t.version||EMPTY_STRING}),AlgorithmIdentifier$2.schema(t.privateKeyAlgorithm||{}),new OctetString$1({name:t.privateKey||EMPTY_STRING}),new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:0},value:[new Repeated({name:t.attributes||EMPTY_STRING,value:Attribute$3.schema()})]})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$16);const t=compareSchema(e,e,PrivateKeyInfo$2.schema({names:{version:VERSION$j,privateKeyAlgorithm:{names:{blockName:PRIVATE_KEY_ALGORITHM}},privateKey:PRIVATE_KEY,attributes:ATTRIBUTES$5}}));AsnError.assertSchema(t,this.className);this.version=t.result.version.valueBlock.valueDec;this.privateKeyAlgorithm=new AlgorithmIdentifier$2({schema:t.result.privateKeyAlgorithm});this.privateKey=t.result.privateKey;if(ATTRIBUTES$5 in t.result)this.attributes=Array.from(t.result.attributes,(e=>new Attribute$3({schema:e})));switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":{const e=fromBER(this.privateKey.valueBlock.valueHexView);if(e.offset!==-1)this.parsedKey=new RSAPrivateKey$1({schema:e.result})}break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm){if(this.privateKeyAlgorithm.algorithmParams instanceof ObjectIdentifier$1){const e=fromBER(this.privateKey.valueBlock.valueHexView);if(e.offset!==-1){this.parsedKey=new ECPrivateKey$1({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:e.result})}}}break}}toSchema(){const e=[new Integer({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];if(this.attributes){e.push(new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,(e=>e.toSchema()))}))}return new Sequence({value:e})}toJSON(){if(!this.parsedKey){const e={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};if(this.attributes){e.attributes=Array.from(this.attributes,(e=>e.toJSON()))}return e}const e={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":e.kty="EC";break;case"1.2.840.113549.1.1.1":e.kty="RSA";break}const t=this.parsedKey.toJSON();Object.assign(e,t);return e}fromJSON(e){if("kty"in e){switch(e.kty.toUpperCase()){case"EC":this.parsedKey=new ECPrivateKey$1({json:e});this.privateKeyAlgorithm=new AlgorithmIdentifier$2({algorithmId:"1.2.840.10045.2.1",algorithmParams:new ObjectIdentifier$1({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new RSAPrivateKey$1({json:e});this.privateKeyAlgorithm=new AlgorithmIdentifier$2({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Null});break;default:throw new Error(`Invalid value for "kty" parameter: ${e.kty}`)}this.privateKey=new OctetString$1({valueHex:this.parsedKey.toSchema().toBER(false)})}}}PrivateKeyInfo$2.CLASS_NAME="PrivateKeyInfo";const CONTENT_TYPE$1="contentType";const CONTENT_ENCRYPTION_ALGORITHM="contentEncryptionAlgorithm";const ENCRYPTED_CONTENT="encryptedContent";const CLEAR_PROPS$15=[CONTENT_TYPE$1,CONTENT_ENCRYPTION_ALGORITHM,ENCRYPTED_CONTENT];class EncryptedContentInfo$1 extends PkiObject{constructor(e={}){super();this.contentType=getParametersValue(e,CONTENT_TYPE$1,EncryptedContentInfo$1.defaultValues(CONTENT_TYPE$1));this.contentEncryptionAlgorithm=getParametersValue(e,CONTENT_ENCRYPTION_ALGORITHM,EncryptedContentInfo$1.defaultValues(CONTENT_ENCRYPTION_ALGORITHM));if(ENCRYPTED_CONTENT in e&&e.encryptedContent){this.encryptedContent=e.encryptedContent;if(this.encryptedContent.idBlock.tagClass===1&&this.encryptedContent.idBlock.tagNumber===4){if(this.encryptedContent.idBlock.isConstructed===false){const e=new OctetString$1({idBlock:{isConstructed:true},isConstructed:true});let t=0;const r=this.encryptedContent.valueBlock.valueHexView.slice().buffer;let n=r.byteLength;const i=1024;while(n>0){const s=new Uint8Array(r,t,t+i>r.byteLength?r.byteLength-t:i);const f=new ArrayBuffer(s.length);const a=new Uint8Array(f);for(let e=0;e<a.length;e++)a[e]=s[e];e.valueBlock.value.push(new OctetString$1({valueHex:f}));n-=s.length;t+=s.length}this.encryptedContent=e}}}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case CONTENT_TYPE$1:return EMPTY_STRING;case CONTENT_ENCRYPTION_ALGORITHM:return new AlgorithmIdentifier$2;case ENCRYPTED_CONTENT:return new OctetString$1;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case CONTENT_TYPE$1:return t===EMPTY_STRING;case CONTENT_ENCRYPTION_ALGORITHM:return t.algorithmId===EMPTY_STRING&&"algorithmParams"in t===false;case ENCRYPTED_CONTENT:return t.isEqual(EncryptedContentInfo$1.defaultValues(ENCRYPTED_CONTENT));default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new ObjectIdentifier$1({name:t.contentType||EMPTY_STRING}),AlgorithmIdentifier$2.schema(t.contentEncryptionAlgorithm||{}),new Choice({value:[new Constructed({name:t.encryptedContent||EMPTY_STRING,idBlock:{tagClass:3,tagNumber:0},value:[new Repeated({value:new OctetString$1})]}),new Primitive({name:t.encryptedContent||EMPTY_STRING,idBlock:{tagClass:3,tagNumber:0}})]})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$15);const t=compareSchema(e,e,EncryptedContentInfo$1.schema({names:{contentType:CONTENT_TYPE$1,contentEncryptionAlgorithm:{names:{blockName:CONTENT_ENCRYPTION_ALGORITHM}},encryptedContent:ENCRYPTED_CONTENT}}));AsnError.assertSchema(t,this.className);this.contentType=t.result.contentType.valueBlock.toString();this.contentEncryptionAlgorithm=new AlgorithmIdentifier$2({schema:t.result.contentEncryptionAlgorithm});if(ENCRYPTED_CONTENT in t.result){this.encryptedContent=t.result.encryptedContent;this.encryptedContent.idBlock.tagClass=1;this.encryptedContent.idBlock.tagNumber=4}}toSchema(){const e={isIndefiniteForm:false};const t=[];t.push(new ObjectIdentifier$1({value:this.contentType}));t.push(this.contentEncryptionAlgorithm.toSchema());if(this.encryptedContent){e.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;const r=this.encryptedContent;r.idBlock.tagClass=3;r.idBlock.tagNumber=0;r.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;t.push(r)}return new Sequence({lenBlock:e,value:t})}toJSON(){const e={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};if(this.encryptedContent){e.encryptedContent=this.encryptedContent.toJSON()}return e}getEncryptedContent(){if(!this.encryptedContent){throw new Error("Parameter 'encryptedContent' is undefined")}return OctetString$1.prototype.getValue.call(this.encryptedContent)}}EncryptedContentInfo$1.CLASS_NAME="EncryptedContentInfo";const HASH_ALGORITHM$4="hashAlgorithm";const MASK_GEN_ALGORITHM$1="maskGenAlgorithm";const SALT_LENGTH="saltLength";const TRAILER_FIELD="trailerField";const CLEAR_PROPS$14=[HASH_ALGORITHM$4,MASK_GEN_ALGORITHM$1,SALT_LENGTH,TRAILER_FIELD];class RSASSAPSSParams extends PkiObject{constructor(e={}){super();this.hashAlgorithm=getParametersValue(e,HASH_ALGORITHM$4,RSASSAPSSParams.defaultValues(HASH_ALGORITHM$4));this.maskGenAlgorithm=getParametersValue(e,MASK_GEN_ALGORITHM$1,RSASSAPSSParams.defaultValues(MASK_GEN_ALGORITHM$1));this.saltLength=getParametersValue(e,SALT_LENGTH,RSASSAPSSParams.defaultValues(SALT_LENGTH));this.trailerField=getParametersValue(e,TRAILER_FIELD,RSASSAPSSParams.defaultValues(TRAILER_FIELD));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case HASH_ALGORITHM$4:return new AlgorithmIdentifier$2({algorithmId:"1.3.14.3.2.26",algorithmParams:new Null});case MASK_GEN_ALGORITHM$1:return new AlgorithmIdentifier$2({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new AlgorithmIdentifier$2({algorithmId:"1.3.14.3.2.26",algorithmParams:new Null}).toSchema()});case SALT_LENGTH:return 20;case TRAILER_FIELD:return 1;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Constructed({idBlock:{tagClass:3,tagNumber:0},optional:true,value:[AlgorithmIdentifier$2.schema(t.hashAlgorithm||{})]}),new Constructed({idBlock:{tagClass:3,tagNumber:1},optional:true,value:[AlgorithmIdentifier$2.schema(t.maskGenAlgorithm||{})]}),new Constructed({idBlock:{tagClass:3,tagNumber:2},optional:true,value:[new Integer({name:t.saltLength||EMPTY_STRING})]}),new Constructed({idBlock:{tagClass:3,tagNumber:3},optional:true,value:[new Integer({name:t.trailerField||EMPTY_STRING})]})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$14);const t=compareSchema(e,e,RSASSAPSSParams.schema({names:{hashAlgorithm:{names:{blockName:HASH_ALGORITHM$4}},maskGenAlgorithm:{names:{blockName:MASK_GEN_ALGORITHM$1}},saltLength:SALT_LENGTH,trailerField:TRAILER_FIELD}}));AsnError.assertSchema(t,this.className);if(HASH_ALGORITHM$4 in t.result)this.hashAlgorithm=new AlgorithmIdentifier$2({schema:t.result.hashAlgorithm});if(MASK_GEN_ALGORITHM$1 in t.result)this.maskGenAlgorithm=new AlgorithmIdentifier$2({schema:t.result.maskGenAlgorithm});if(SALT_LENGTH in t.result)this.saltLength=t.result.saltLength.valueBlock.valueDec;if(TRAILER_FIELD in t.result)this.trailerField=t.result.trailerField.valueBlock.valueDec}toSchema(){const e=[];if(!this.hashAlgorithm.isEqual(RSASSAPSSParams.defaultValues(HASH_ALGORITHM$4))){e.push(new Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]}))}if(!this.maskGenAlgorithm.isEqual(RSASSAPSSParams.defaultValues(MASK_GEN_ALGORITHM$1))){e.push(new Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]}))}if(this.saltLength!==RSASSAPSSParams.defaultValues(SALT_LENGTH)){e.push(new Constructed({idBlock:{tagClass:3,tagNumber:2},value:[new Integer({value:this.saltLength})]}))}if(this.trailerField!==RSASSAPSSParams.defaultValues(TRAILER_FIELD)){e.push(new Constructed({idBlock:{tagClass:3,tagNumber:3},value:[new Integer({value:this.trailerField})]}))}return new Sequence({value:e})}toJSON(){const e={};if(!this.hashAlgorithm.isEqual(RSASSAPSSParams.defaultValues(HASH_ALGORITHM$4))){e.hashAlgorithm=this.hashAlgorithm.toJSON()}if(!this.maskGenAlgorithm.isEqual(RSASSAPSSParams.defaultValues(MASK_GEN_ALGORITHM$1))){e.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()}if(this.saltLength!==RSASSAPSSParams.defaultValues(SALT_LENGTH)){e.saltLength=this.saltLength}if(this.trailerField!==RSASSAPSSParams.defaultValues(TRAILER_FIELD)){e.trailerField=this.trailerField}return e}}RSASSAPSSParams.CLASS_NAME="RSASSAPSSParams";const SALT="salt";const ITERATION_COUNT="iterationCount";const KEY_LENGTH="keyLength";const PRF="prf";const CLEAR_PROPS$13=[SALT,ITERATION_COUNT,KEY_LENGTH,PRF];class PBKDF2Params extends PkiObject{constructor(e={}){super();this.salt=getParametersValue(e,SALT,PBKDF2Params.defaultValues(SALT));this.iterationCount=getParametersValue(e,ITERATION_COUNT,PBKDF2Params.defaultValues(ITERATION_COUNT));if(KEY_LENGTH in e){this.keyLength=getParametersValue(e,KEY_LENGTH,PBKDF2Params.defaultValues(KEY_LENGTH))}if(PRF in e){this.prf=getParametersValue(e,PRF,PBKDF2Params.defaultValues(PRF))}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case SALT:return{};case ITERATION_COUNT:return-1;case KEY_LENGTH:return 0;case PRF:return new AlgorithmIdentifier$2({algorithmId:"1.3.14.3.2.26",algorithmParams:new Null});default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Choice({value:[new OctetString$1({name:t.saltPrimitive||EMPTY_STRING}),AlgorithmIdentifier$2.schema(t.saltConstructed||{})]}),new Integer({name:t.iterationCount||EMPTY_STRING}),new Integer({name:t.keyLength||EMPTY_STRING,optional:true}),AlgorithmIdentifier$2.schema(t.prf||{names:{optional:true}})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$13);const t=compareSchema(e,e,PBKDF2Params.schema({names:{saltPrimitive:SALT,saltConstructed:{names:{blockName:SALT}},iterationCount:ITERATION_COUNT,keyLength:KEY_LENGTH,prf:{names:{blockName:PRF,optional:true}}}}));AsnError.assertSchema(t,this.className);this.salt=t.result.salt;this.iterationCount=t.result.iterationCount.valueBlock.valueDec;if(KEY_LENGTH in t.result)this.keyLength=t.result.keyLength.valueBlock.valueDec;if(PRF in t.result)this.prf=new AlgorithmIdentifier$2({schema:t.result.prf})}toSchema(){const e=[];e.push(this.salt);e.push(new Integer({value:this.iterationCount}));if(KEY_LENGTH in this){if(PBKDF2Params.defaultValues(KEY_LENGTH)!==this.keyLength)e.push(new Integer({value:this.keyLength}))}if(this.prf){if(PBKDF2Params.defaultValues(PRF).isEqual(this.prf)===false)e.push(this.prf.toSchema())}return new Sequence({value:e})}toJSON(){const e={salt:this.salt.toJSON(),iterationCount:this.iterationCount};if(KEY_LENGTH in this){if(PBKDF2Params.defaultValues(KEY_LENGTH)!==this.keyLength)e.keyLength=this.keyLength}if(this.prf){if(PBKDF2Params.defaultValues(PRF).isEqual(this.prf)===false)e.prf=this.prf.toJSON()}return e}}PBKDF2Params.CLASS_NAME="PBKDF2Params";const KEY_DERIVATION_FUNC="keyDerivationFunc";const ENCRYPTION_SCHEME="encryptionScheme";const CLEAR_PROPS$12=[KEY_DERIVATION_FUNC,ENCRYPTION_SCHEME];class PBES2Params extends PkiObject{constructor(e={}){super();this.keyDerivationFunc=getParametersValue(e,KEY_DERIVATION_FUNC,PBES2Params.defaultValues(KEY_DERIVATION_FUNC));this.encryptionScheme=getParametersValue(e,ENCRYPTION_SCHEME,PBES2Params.defaultValues(ENCRYPTION_SCHEME));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case KEY_DERIVATION_FUNC:return new AlgorithmIdentifier$2;case ENCRYPTION_SCHEME:return new AlgorithmIdentifier$2;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[AlgorithmIdentifier$2.schema(t.keyDerivationFunc||{}),AlgorithmIdentifier$2.schema(t.encryptionScheme||{})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$12);const t=compareSchema(e,e,PBES2Params.schema({names:{keyDerivationFunc:{names:{blockName:KEY_DERIVATION_FUNC}},encryptionScheme:{names:{blockName:ENCRYPTION_SCHEME}}}}));AsnError.assertSchema(t,this.className);this.keyDerivationFunc=new AlgorithmIdentifier$2({schema:t.result.keyDerivationFunc});this.encryptionScheme=new AlgorithmIdentifier$2({schema:t.result.encryptionScheme})}toSchema(){return new Sequence({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}toJSON(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}}PBES2Params.CLASS_NAME="PBES2Params";class AbstractCryptoEngine{constructor(e){this.crypto=e.crypto;this.subtle="webkitSubtle"in e.crypto?e.crypto.webkitSubtle:e.crypto.subtle;this.name=getParametersValue(e,"name",EMPTY_STRING)}async encrypt(...e){return this.subtle.encrypt(...e)}async decrypt(...e){return this.subtle.decrypt(...e)}sign(...e){return this.subtle.sign(...e)}async verify(...e){return this.subtle.verify(...e)}async digest(...e){return this.subtle.digest(...e)}async generateKey(...e){return this.subtle.generateKey(...e)}async deriveKey(...e){return this.subtle.deriveKey(...e)}async deriveBits(...e){return this.subtle.deriveBits(...e)}async wrapKey(...e){return this.subtle.wrapKey(...e)}async unwrapKey(...e){return this.subtle.unwrapKey(...e)}exportKey(...e){return this.subtle.exportKey(...e)}importKey(...e){return this.subtle.importKey(...e)}getRandomValues(e){return this.crypto.getRandomValues(e)}}async function makePKCS12B2Key(e,t,r,n,i,s){let f;let a;const o=[];switch(t.toUpperCase()){case"SHA-1":f=20;a=64;break;case"SHA-256":f=32;a=64;break;case"SHA-384":f=48;a=128;break;case"SHA-512":f=64;a=128;break;default:throw new Error("Unsupported hashing algorithm")}const c=new Uint8Array(n);const u=new ArrayBuffer(n.byteLength*2+2);const l=new Uint8Array(u);for(let e=0;e<c.length;e++){l[e*2]=0;l[e*2+1]=c[e]}l[l.length-2]=0;l[l.length-1]=0;n=u.slice(0);const h=new ArrayBuffer(a);const d=new Uint8Array(h);for(let e=0;e<h.byteLength;e++)d[e]=3;const p=i.byteLength;const y=a*Math.ceil(p/a);const b=new ArrayBuffer(y);const m=new Uint8Array(b);const g=new Uint8Array(i);for(let e=0;e<y;e++)m[e]=g[e%p];const v=n.byteLength;const w=a*Math.ceil(v/a);const A=new ArrayBuffer(w);const $=new Uint8Array(A);const _=new Uint8Array(n);for(let e=0;e<w;e++)$[e]=_[e%v];const E=b.byteLength+A.byteLength;let S=new ArrayBuffer(E);let T=new Uint8Array(S);T.set(m);T.set($,m.length);const C=Math.ceil((r>>3)/f);let P=Promise.resolve(S);for(let r=0;r<=C;r++){P=P.then((e=>{const t=new ArrayBuffer(h.byteLength+e.byteLength);const r=new Uint8Array(t);r.set(d);r.set(T,d.length);return t}));for(let r=0;r<s;r++)P=P.then((r=>e.digest({name:t},new Uint8Array(r))));P=P.then((e=>{const t=new ArrayBuffer(a);const r=new Uint8Array(t);for(let n=0;n<t.byteLength;n++)r[n]=e[n%e.byteLength];const n=Math.ceil(p/a)+Math.ceil(v/a);const i=[];let s=0;let f=a;for(let e=0;e<n;e++){const e=Array.from(new Uint8Array(S.slice(s,s+f)));s+=a;if(s+a>S.byteLength)f=S.byteLength-s;let n=511;for(let i=t.byteLength-1;i>=0;i--){n>>=8;n+=r[i]+e[i];e[i]=n&255}i.push(...e)}S=new ArrayBuffer(i.length);T=new Uint8Array(S);T.set(i);o.push(...new Uint8Array(e));return S}))}P=P.then((()=>{const e=new ArrayBuffer(r>>3);const t=new Uint8Array(e);t.set(new Uint8Array(o).slice(0,r>>3));return e}));return P}function prepareAlgorithm(e){const t=typeof e==="string"?{name:e}:e;if("hash"in t){return{...t,hash:prepareAlgorithm(t.hash)}}return t}class CryptoEngine extends AbstractCryptoEngine{async importKey(e,t,r,n,i){var s,f,a,o,c,u;let l={};const h=prepareAlgorithm(r);switch(e.toLowerCase()){case"raw":return this.subtle.importKey("raw",t,r,n,i);case"spki":{const e=fromBER(build.BufferSourceConverter.toArrayBuffer(t));AsnError.assert(e,"keyData");const r=new PublicKeyInfo$1;try{r.fromSchema(e.result)}catch{throw new ArgumentError("Incorrect keyData")}switch(h.name.toUpperCase()){case"RSA-PSS":{if(!h.hash){throw new ParameterError("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed")}switch(h.hash.name.toUpperCase()){case"SHA-1":l.alg="PS1";break;case"SHA-256":l.alg="PS256";break;case"SHA-384":l.alg="PS384";break;case"SHA-512":l.alg="PS512";break;default:throw new Error(`Incorrect hash algorithm: ${h.hash.name.toUpperCase()}`)}}case"RSASSA-PKCS1-V1_5":{i=["verify"];l.kty="RSA";l.ext=n;l.key_ops=i;if(r.algorithm.algorithmId!=="1.2.840.113549.1.1.1")throw new Error(`Incorrect public key algorithm: ${r.algorithm.algorithmId}`);if(!l.alg){if(!h.hash){throw new ParameterError("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed")}switch(h.hash.name.toUpperCase()){case"SHA-1":l.alg="RS1";break;case"SHA-256":l.alg="RS256";break;case"SHA-384":l.alg="RS384";break;case"SHA-512":l.alg="RS512";break;default:throw new Error(`Incorrect hash algorithm: ${h.hash.name.toUpperCase()}`)}}const e=r.toJSON();Object.assign(l,e)}break;case"ECDSA":i=["verify"];case"ECDH":{l={kty:"EC",ext:n,key_ops:i};if(r.algorithm.algorithmId!=="1.2.840.10045.2.1"){throw new Error(`Incorrect public key algorithm: ${r.algorithm.algorithmId}`)}const e=r.toJSON();Object.assign(l,e)}break;case"RSA-OAEP":{l.kty="RSA";l.ext=n;l.key_ops=i;if(this.name.toLowerCase()==="safari")l.alg="RSA-OAEP";else{if(!h.hash){throw new ParameterError("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed")}switch(h.hash.name.toUpperCase()){case"SHA-1":l.alg="RSA-OAEP";break;case"SHA-256":l.alg="RSA-OAEP-256";break;case"SHA-384":l.alg="RSA-OAEP-384";break;case"SHA-512":l.alg="RSA-OAEP-512";break;default:throw new Error(`Incorrect hash algorithm: ${h.hash.name.toUpperCase()}`)}}const e=r.toJSON();Object.assign(l,e)}break;case"RSAES-PKCS1-V1_5":{l.kty="RSA";l.ext=n;l.key_ops=i;l.alg="PS1";const e=r.toJSON();Object.assign(l,e)}break;default:throw new Error(`Incorrect algorithm name: ${h.name.toUpperCase()}`)}}break;case"pkcs8":{const e=new PrivateKeyInfo$2;const r=fromBER(build.BufferSourceConverter.toArrayBuffer(t));AsnError.assert(r,"keyData");try{e.fromSchema(r.result)}catch(e){throw new Error("Incorrect keyData")}if(!e.parsedKey)throw new Error("Incorrect keyData");switch(h.name.toUpperCase()){case"RSA-PSS":{switch((s=h.hash)===null||s===void 0?void 0:s.name.toUpperCase()){case"SHA-1":l.alg="PS1";break;case"SHA-256":l.alg="PS256";break;case"SHA-384":l.alg="PS384";break;case"SHA-512":l.alg="PS512";break;default:throw new Error(`Incorrect hash algorithm: ${(f=h.hash)===null||f===void 0?void 0:f.name.toUpperCase()}`)}}case"RSASSA-PKCS1-V1_5":{i=["sign"];l.kty="RSA";l.ext=n;l.key_ops=i;if(e.privateKeyAlgorithm.algorithmId!=="1.2.840.113549.1.1.1")throw new Error(`Incorrect private key algorithm: ${e.privateKeyAlgorithm.algorithmId}`);if("alg"in l===false){switch((a=h.hash)===null||a===void 0?void 0:a.name.toUpperCase()){case"SHA-1":l.alg="RS1";break;case"SHA-256":l.alg="RS256";break;case"SHA-384":l.alg="RS384";break;case"SHA-512":l.alg="RS512";break;default:throw new Error(`Incorrect hash algorithm: ${(o=h.hash)===null||o===void 0?void 0:o.name.toUpperCase()}`)}}const t=e.toJSON();Object.assign(l,t)}break;case"ECDSA":i=["sign"];case"ECDH":{l={kty:"EC",ext:n,key_ops:i};if(e.privateKeyAlgorithm.algorithmId!=="1.2.840.10045.2.1")throw new Error(`Incorrect algorithm: ${e.privateKeyAlgorithm.algorithmId}`);const t=e.toJSON();Object.assign(l,t)}break;case"RSA-OAEP":{l.kty="RSA";l.ext=n;l.key_ops=i;if(this.name.toLowerCase()==="safari")l.alg="RSA-OAEP";else{switch((c=h.hash)===null||c===void 0?void 0:c.name.toUpperCase()){case"SHA-1":l.alg="RSA-OAEP";break;case"SHA-256":l.alg="RSA-OAEP-256";break;case"SHA-384":l.alg="RSA-OAEP-384";break;case"SHA-512":l.alg="RSA-OAEP-512";break;default:throw new Error(`Incorrect hash algorithm: ${(u=h.hash)===null||u===void 0?void 0:u.name.toUpperCase()}`)}}const t=e.toJSON();Object.assign(l,t)}break;case"RSAES-PKCS1-V1_5":{i=["decrypt"];l.kty="RSA";l.ext=n;l.key_ops=i;l.alg="PS1";const t=e.toJSON();Object.assign(l,t)}break;default:throw new Error(`Incorrect algorithm name: ${h.name.toUpperCase()}`)}}break;case"jwk":l=t;break;default:throw new Error(`Incorrect format: ${e}`)}if(this.name.toLowerCase()==="safari"){try{return this.subtle.importKey("jwk",stringToArrayBuffer(JSON.stringify(l)),r,n,i)}catch{return this.subtle.importKey("jwk",l,r,n,i)}}return this.subtle.importKey("jwk",l,r,n,i)}async exportKey(e,t){let r=await this.subtle.exportKey("jwk",t);if(this.name.toLowerCase()==="safari"){if(r instanceof ArrayBuffer){r=JSON.parse(arrayBufferToString(r))}}switch(e.toLowerCase()){case"raw":return this.subtle.exportKey("raw",t);case"spki":{const e=new PublicKeyInfo$1;try{e.fromJSON(r)}catch(e){throw new Error("Incorrect key data")}return e.toSchema().toBER(false)}case"pkcs8":{const e=new PrivateKeyInfo$2;try{e.fromJSON(r)}catch(e){throw new Error("Incorrect key data")}return e.toSchema().toBER(false)}case"jwk":return r;default:throw new Error(`Incorrect format: ${e}`)}}async convert(e,t,r,n,i,s){if(e.toLowerCase()===t.toLowerCase()){return r}const f=await this.importKey(e,r,n,i,s);return this.exportKey(t,f)}getAlgorithmByOID(e,t=false,r){switch(e){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"};case"1.3.132.0.10":return{name:"K-256",hash:{name:"SHA-256"}}}if(t){throw new Error(`Unsupported algorithm identifier ${r?`for ${r} `:EMPTY_STRING}: ${e}`)}return{}}getOIDByAlgorithm(e,t=false,r){let n=EMPTY_STRING;switch(e.name.toUpperCase()){case"RSAES-PKCS1-V1_5":n="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(e.hash.name.toUpperCase()){case"SHA-1":n="1.2.840.113549.1.1.5";break;case"SHA-256":n="1.2.840.113549.1.1.11";break;case"SHA-384":n="1.2.840.113549.1.1.12";break;case"SHA-512":n="1.2.840.113549.1.1.13";break}break;case"RSA-PSS":n="1.2.840.113549.1.1.10";break;case"RSA-OAEP":n="1.2.840.113549.1.1.7";break;case"ECDSA":switch(e.hash.name.toUpperCase()){case"SHA-1":n="1.2.840.10045.4.1";break;case"SHA-256":n="1.2.840.10045.4.3.2";break;case"SHA-384":n="1.2.840.10045.4.3.3";break;case"SHA-512":n="1.2.840.10045.4.3.4";break}break;case"ECDH":switch(e.kdf.toUpperCase()){case"SHA-1":n="1.3.133.16.840.63.0.2";break;case"SHA-256":n="1.3.132.1.11.1";break;case"SHA-384":n="1.3.132.1.11.2";break;case"SHA-512":n="1.3.132.1.11.3";break}break;case"AES-CTR":break;case"AES-CBC":switch(e.length){case 128:n="2.16.840.1.101.3.4.1.2";break;case 192:n="2.16.840.1.101.3.4.1.22";break;case 256:n="2.16.840.1.101.3.4.1.42";break}break;case"AES-CMAC":break;case"AES-GCM":switch(e.length){case 128:n="2.16.840.1.101.3.4.1.6";break;case 192:n="2.16.840.1.101.3.4.1.26";break;case 256:n="2.16.840.1.101.3.4.1.46";break}break;case"AES-CFB":switch(e.length){case 128:n="2.16.840.1.101.3.4.1.4";break;case 192:n="2.16.840.1.101.3.4.1.24";break;case 256:n="2.16.840.1.101.3.4.1.44";break}break;case"AES-KW":switch(e.length){case 128:n="2.16.840.1.101.3.4.1.5";break;case 192:n="2.16.840.1.101.3.4.1.25";break;case 256:n="2.16.840.1.101.3.4.1.45";break}break;case"HMAC":switch(e.hash.name.toUpperCase()){case"SHA-1":n="1.2.840.113549.2.7";break;case"SHA-256":n="1.2.840.113549.2.9";break;case"SHA-384":n="1.2.840.113549.2.10";break;case"SHA-512":n="1.2.840.113549.2.11";break}break;case"DH":n="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":n="1.3.14.3.2.26";break;case"SHA-256":n="2.16.840.1.101.3.4.2.1";break;case"SHA-384":n="2.16.840.1.101.3.4.2.2";break;case"SHA-512":n="2.16.840.1.101.3.4.2.3";break;case"CONCAT":break;case"HKDF":break;case"PBKDF2":n="1.2.840.113549.1.5.12";break;case"P-256":n="1.2.840.10045.3.1.7";break;case"P-384":n="1.3.132.0.34";break;case"P-521":n="1.3.132.0.35";break;case"K-256":n="1.3.132.0.10";break}if(!n&&t){throw new Error(`Unsupported algorithm ${r?`for ${r} `:EMPTY_STRING}: ${e.name}`)}return n}getAlgorithmParameters(e,t){let r={algorithm:{},usages:[]};switch(e.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(t.toLowerCase()){case"generatekey":r={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":r={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;case"exportkey":default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(t.toLowerCase()){case"sign":case"verify":r={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":r={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":r={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;case"exportkey":default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(t.toLowerCase()){case"encrypt":case"decrypt":r={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":r={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":r={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;case"exportkey":default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(t.toLowerCase()){case"generatekey":r={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":r={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":r={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(t.toLowerCase()){case"exportkey":case"importkey":case"generatekey":r={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":r={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":r={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":r={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":r={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":r={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":r={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":r={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":r={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(t.toLowerCase()){case"sign":case"verify":r={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":r={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":switch(t.toLowerCase()){case"derivekey":r={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"HKDF"},usages:[]}}break;case"PBKDF2":switch(t.toLowerCase()){case"derivekey":r={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"PBKDF2"},usages:[]}}break}return r}getHashAlgorithm(e){let t=EMPTY_STRING;switch(e.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":t="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":t="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":t="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":t="SHA-512";break;case"1.2.840.113549.1.1.10":{try{const r=new RSASSAPSSParams({schema:e.algorithmParams});if(r.hashAlgorithm){const e=this.getAlgorithmByOID(r.hashAlgorithm.algorithmId);if("name"in e){t=e.name}else{return EMPTY_STRING}}else t="SHA-1"}catch{}}break}return t}async encryptEncryptedContentInfo(e){ParameterError.assert(e,"password","contentEncryptionAlgorithm","hmacHashAlgorithm","iterationCount","contentToEncrypt","contentToEncrypt","contentType");const t=this.getOIDByAlgorithm(e.contentEncryptionAlgorithm,true,"contentEncryptionAlgorithm");const r=this.getOIDByAlgorithm({name:"PBKDF2"},true,"PBKDF2");const n=this.getOIDByAlgorithm({name:"HMAC",hash:{name:e.hmacHashAlgorithm}},true,"hmacHashAlgorithm");const i=new ArrayBuffer(16);const s=new Uint8Array(i);this.getRandomValues(s);const f=new ArrayBuffer(64);const a=new Uint8Array(f);this.getRandomValues(a);const o=new Uint8Array(e.contentToEncrypt);const c=new PBKDF2Params({salt:new OctetString$1({valueHex:f}),iterationCount:e.iterationCount,prf:new AlgorithmIdentifier$2({algorithmId:n,algorithmParams:new Null})});const u=new Uint8Array(e.password);const l=await this.importKey("raw",u,"PBKDF2",false,["deriveKey"]);const h=await this.deriveKey({name:"PBKDF2",hash:{name:e.hmacHashAlgorithm},salt:a,iterations:e.iterationCount},l,e.contentEncryptionAlgorithm,false,["encrypt"]);const d=await this.encrypt({name:e.contentEncryptionAlgorithm.name,iv:s},h,o);const p=new PBES2Params({keyDerivationFunc:new AlgorithmIdentifier$2({algorithmId:r,algorithmParams:c.toSchema()}),encryptionScheme:new AlgorithmIdentifier$2({algorithmId:t,algorithmParams:new OctetString$1({valueHex:i})})});return new EncryptedContentInfo$1({contentType:e.contentType,contentEncryptionAlgorithm:new AlgorithmIdentifier$2({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:p.toSchema()}),encryptedContent:new OctetString$1({valueHex:d})})}async decryptEncryptedContentInfo(e){ParameterError.assert(e,"password","encryptedContentInfo");if(e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId!=="1.2.840.113549.1.5.13")throw new Error(`Unknown "contentEncryptionAlgorithm": ${e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);let t;try{t=new PBES2Params({schema:e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch(e){throw new Error('Incorrectly encoded "pbes2Parameters"')}let r;try{r=new PBKDF2Params({schema:t.keyDerivationFunc.algorithmParams})}catch(e){throw new Error('Incorrectly encoded "pbkdf2Params"')}const n=this.getAlgorithmByOID(t.encryptionScheme.algorithmId,true);const i=t.encryptionScheme.algorithmParams.valueBlock.valueHex;const s=new Uint8Array(i);const f=r.salt.valueBlock.valueHex;const a=new Uint8Array(f);const o=r.iterationCount;let c="SHA-1";if(r.prf){const e=this.getAlgorithmByOID(r.prf.algorithmId,true);c=e.hash.name}const u=await this.importKey("raw",e.password,"PBKDF2",false,["deriveKey"]);const l=await this.deriveKey({name:"PBKDF2",hash:{name:c},salt:a,iterations:o},u,n,false,["decrypt"]);const h=e.encryptedContentInfo.getEncryptedContent();return this.decrypt({name:n.name,iv:s},l,h)}async stampDataWithPassword(e){if(e instanceof Object===false)throw new Error('Parameters must have type "Object"');ParameterError.assert(e,"password","hashAlgorithm","iterationCount","salt","contentToStamp");let t;switch(e.hashAlgorithm.toLowerCase()){case"sha-1":t=160;break;case"sha-256":t=256;break;case"sha-384":t=384;break;case"sha-512":t=512;break;default:throw new Error(`Incorrect "parameters.hashAlgorithm" parameter: ${e.hashAlgorithm}`)}const r={name:"HMAC",length:t,hash:{name:e.hashAlgorithm}};const n=await makePKCS12B2Key(this,e.hashAlgorithm,t,e.password,e.salt,e.iterationCount);const i=await this.importKey("raw",new Uint8Array(n),r,false,["sign"]);return this.sign(r,i,new Uint8Array(e.contentToStamp))}async verifyDataStampedWithPassword(e){ParameterError.assert(e,"password","hashAlgorithm","salt","iterationCount","contentToVerify","signatureToVerify");let t=0;switch(e.hashAlgorithm.toLowerCase()){case"sha-1":t=160;break;case"sha-256":t=256;break;case"sha-384":t=384;break;case"sha-512":t=512;break;default:throw new Error(`Incorrect "parameters.hashAlgorithm" parameter: ${e.hashAlgorithm}`)}const r={name:"HMAC",length:t,hash:{name:e.hashAlgorithm}};const n=await makePKCS12B2Key(this,e.hashAlgorithm,t,e.password,e.salt,e.iterationCount);const i=await this.importKey("raw",new Uint8Array(n),r,false,["verify"]);return this.verify(r,i,new Uint8Array(e.signatureToVerify),new Uint8Array(e.contentToVerify))}async getSignatureParameters(e,t="SHA-1"){this.getOIDByAlgorithm({name:t},true,"hashAlgorithm");const r=new AlgorithmIdentifier$2;const n=this.getAlgorithmParameters(e.algorithm.name,"sign");if(!Object.keys(n.algorithm).length){throw new Error("Parameter 'algorithm' is empty")}const i=n.algorithm;i.hash.name=t;switch(e.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":r.algorithmId=this.getOIDByAlgorithm(i,true);break;case"RSA-PSS":{switch(t.toUpperCase()){case"SHA-256":i.saltLength=32;break;case"SHA-384":i.saltLength=48;break;case"SHA-512":i.saltLength=64;break}const e={};if(t.toUpperCase()!=="SHA-1"){const r=this.getOIDByAlgorithm({name:t},true,"hashAlgorithm");e.hashAlgorithm=new AlgorithmIdentifier$2({algorithmId:r,algorithmParams:new Null});e.maskGenAlgorithm=new AlgorithmIdentifier$2({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:e.hashAlgorithm.toSchema()})}if(i.saltLength!==20)e.saltLength=i.saltLength;const n=new RSASSAPSSParams(e);r.algorithmId="1.2.840.113549.1.1.10";r.algorithmParams=n.toSchema()}break;default:throw new Error(`Unsupported signature algorithm: ${e.algorithm.name}`)}return{signatureAlgorithm:r,parameters:n}}async signWithPrivateKey(e,t,r){const n=await this.sign(r.algorithm,t,e);if(r.algorithm.name==="ECDSA"){return createCMSECDSASignature(n)}return n}fillPublicKeyParameters(e,t){const r={};const n=this.getHashAlgorithm(t);if(n===EMPTY_STRING)throw new Error(`Unsupported signature algorithm: ${t.algorithmId}`);let i;if(t.algorithmId==="1.2.840.113549.1.1.10")i=t.algorithmId;else i=e.algorithm.algorithmId;const s=this.getAlgorithmByOID(i,true);r.algorithm=this.getAlgorithmParameters(s.name,"importKey");if("hash"in r.algorithm.algorithm)r.algorithm.algorithm.hash.name=n;if(s.name==="ECDSA"){const t=e.algorithm;if(!t.algorithmParams){throw new Error("Algorithm parameters for ECDSA public key are missed")}const n=t.algorithmParams;if("idBlock"in t.algorithmParams){if(!(n.idBlock.tagClass===1&&n.idBlock.tagNumber===6)){throw new Error("Incorrect type for ECDSA public key parameters")}}const i=this.getAlgorithmByOID(n.valueBlock.toString(),true);r.algorithm.algorithm.namedCurve=i.name}return r}async getPublicKey(e,t,r){if(!r){r=this.fillPublicKeyParameters(e,t)}const n=e.toSchema().toBER(false);return this.importKey("spki",n,r.algorithm.algorithm,true,r.algorithm.usages)}async verifyWithPublicKey(e,t,r,n,i){let s;if(!i){i=this.getHashAlgorithm(n);if(!i)throw new Error(`Unsupported signature algorithm: ${n.algorithmId}`);s=await this.getPublicKey(r,n)}else{const e={};let t;if(n.algorithmId==="1.2.840.113549.1.1.10")t=n.algorithmId;else t=r.algorithm.algorithmId;const f=this.getAlgorithmByOID(t,true);e.algorithm=this.getAlgorithmParameters(f.name,"importKey");if("hash"in e.algorithm.algorithm)e.algorithm.algorithm.hash.name=i;if(f.name==="ECDSA"){let t=false;if("algorithmParams"in r.algorithm===true){if("idBlock"in r.algorithm.algorithmParams){if(r.algorithm.algorithmParams.idBlock.tagClass===1&&r.algorithm.algorithmParams.idBlock.tagNumber===6)t=true}}if(t===false){throw new Error("Incorrect type for ECDSA public key parameters")}const n=this.getAlgorithmByOID(r.algorithm.algorithmParams.valueBlock.toString(),true);e.algorithm.algorithm.namedCurve=n.name}s=await this.getPublicKey(r,null,e)}const f=this.getAlgorithmParameters(s.algorithm.name,"verify");if("hash"in f.algorithm)f.algorithm.hash.name=i;let a=t.valueBlock.valueHexView;if(s.algorithm.name==="ECDSA"){const e=ECNamedCurves.find(s.algorithm.namedCurve);if(!e){throw new Error("Unsupported named curve in use")}const t=fromBER(a);AsnError.assert(t,"Signature value");a=createECDSASignatureFromCMS(t.result,e.size)}if(s.algorithm.name==="RSA-PSS"){const e=new RSASSAPSSParams({schema:n.algorithmParams});if("saltLength"in e)f.algorithm.saltLength=e.saltLength;else f.algorithm.saltLength=20;let t="SHA-1";if("hashAlgorithm"in e){const r=this.getAlgorithmByOID(e.hashAlgorithm.algorithmId,true);t=r.name}f.algorithm.hash.name=t}return this.verify(f.algorithm,s,a,e)}}let engine={name:"none",crypto:null};function isCryptoEngine(e){return e&&typeof e==="object"&&"crypto"in e?true:false}function setEngine(e,...t){let r=null;if(t.length<2){if(t.length){r=t[0]}else{r=typeof self!=="undefined"&&self.crypto?new CryptoEngine({name:"browser",crypto:self.crypto}):null}}else{const e=t[0];const n=t[1];if(isCryptoEngine(n)){r=n}else if(isCryptoEngine(e)){r=e}else if("subtle"in e&&"getRandomValues"in e){r=new CryptoEngine({crypto:e})}}if(typeof process!=="undefined"&&"pid"in process&&typeof global!=="undefined"&&typeof window==="undefined"){if(typeof global[process.pid]==="undefined"){global[process.pid]={}}else{if(typeof global[process.pid]!=="object"){throw new Error(`Name global.${process.pid} already exists and it is not an object`)}}if(typeof global[process.pid].pkijs==="undefined"){global[process.pid].pkijs={}}else{if(typeof global[process.pid].pkijs!=="object"){throw new Error(`Name global.${process.pid}.pkijs already exists and it is not an object`)}}global[process.pid].pkijs.engine={name:e,crypto:r}}else{engine={name:e,crypto:r}}}function getEngine(){if(typeof process!=="undefined"&&"pid"in process&&typeof global!=="undefined"&&typeof window==="undefined"){let e;try{e=global[process.pid].pkijs.engine}catch(e){throw new Error("Please call 'setEngine' before call to 'getEngine'")}return e}return engine}function getCrypto(e=false){const t=getEngine();if(!t.crypto&&e){throw new Error("Unable to create WebCrypto object")}return t.crypto}function createCMSECDSASignature(e){if(e.byteLength%2!==0)return EMPTY_BUFFER;const t=e.byteLength/2;const r=new ArrayBuffer(t);const n=new Uint8Array(r);n.set(new Uint8Array(e,0,t));const i=new Integer({valueHex:r});const s=new ArrayBuffer(t);const f=new Uint8Array(s);f.set(new Uint8Array(e,t,t));const a=new Integer({valueHex:s});return new Sequence({value:[i.convertToDER(),a.convertToDER()]}).toBER(false)}function createECDSASignatureFromCMS(e,t){if(!(e instanceof Sequence&&e.valueBlock.value.length===2&&e.valueBlock.value[0]instanceof Integer&&e.valueBlock.value[1]instanceof Integer))return EMPTY_BUFFER;const r=e.valueBlock.value[0].convertFromDER().valueBlock.valueHexView;const n=e.valueBlock.value[1].convertFromDER().valueBlock.valueHexView;const i=new Uint8Array(t*2);i.set(r,t-r.byteLength);i.set(n,2*t-n.byteLength);return i.buffer}const VERSION$i="version";const LOG_ID="logID";const EXTENSIONS$6="extensions";const TIMESTAMP="timestamp";const HASH_ALGORITHM$3="hashAlgorithm";const SIGNATURE_ALGORITHM$8="signatureAlgorithm";const SIGNATURE$7="signature";const NONE="none";const MD5="md5";const SHA1$2="sha1";const SHA224$1="sha224";const SHA256$2="sha256";const SHA384$2="sha384";const SHA512$2="sha512";const ANONYMOUS="anonymous";const RSA$1="rsa";const DSA="dsa";const ECDSA$2="ecdsa";class SignedCertificateTimestamp extends PkiObject{constructor(e={}){super();this.version=getParametersValue(e,VERSION$i,SignedCertificateTimestamp.defaultValues(VERSION$i));this.logID=getParametersValue(e,LOG_ID,SignedCertificateTimestamp.defaultValues(LOG_ID));this.timestamp=getParametersValue(e,TIMESTAMP,SignedCertificateTimestamp.defaultValues(TIMESTAMP));this.extensions=getParametersValue(e,EXTENSIONS$6,SignedCertificateTimestamp.defaultValues(EXTENSIONS$6));this.hashAlgorithm=getParametersValue(e,HASH_ALGORITHM$3,SignedCertificateTimestamp.defaultValues(HASH_ALGORITHM$3));this.signatureAlgorithm=getParametersValue(e,SIGNATURE_ALGORITHM$8,SignedCertificateTimestamp.defaultValues(SIGNATURE_ALGORITHM$8));this.signature=getParametersValue(e,SIGNATURE$7,SignedCertificateTimestamp.defaultValues(SIGNATURE$7));if("stream"in e&&e.stream){this.fromStream(e.stream)}if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case VERSION$i:return 0;case LOG_ID:case EXTENSIONS$6:return EMPTY_BUFFER;case TIMESTAMP:return new Date(0);case HASH_ALGORITHM$3:case SIGNATURE_ALGORITHM$8:return EMPTY_STRING;case SIGNATURE$7:return new Any;default:return super.defaultValues(e)}}fromSchema(e){if(e instanceof RawData===false)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");const t=new SeqStream({stream:new ByteStream({buffer:e.data})});this.fromStream(t)}fromStream(e){const t=e.getUint16();this.version=e.getBlock(1)[0];if(this.version===0){this.logID=new Uint8Array(e.getBlock(32)).buffer.slice(0);this.timestamp=new Date(utilFromBase(new Uint8Array(e.getBlock(8)),8));const r=e.getUint16();this.extensions=new Uint8Array(e.getBlock(r)).buffer.slice(0);switch(e.getBlock(1)[0]){case 0:this.hashAlgorithm=NONE;break;case 1:this.hashAlgorithm=MD5;break;case 2:this.hashAlgorithm=SHA1$2;break;case 3:this.hashAlgorithm=SHA224$1;break;case 4:this.hashAlgorithm=SHA256$2;break;case 5:this.hashAlgorithm=SHA384$2;break;case 6:this.hashAlgorithm=SHA512$2;break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(e.getBlock(1)[0]){case 0:this.signatureAlgorithm=ANONYMOUS;break;case 1:this.signatureAlgorithm=RSA$1;break;case 2:this.signatureAlgorithm=DSA;break;case 3:this.signatureAlgorithm=ECDSA$2;break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}const n=e.getUint16();const i=new Uint8Array(e.getBlock(n)).buffer.slice(0);const s=fromBER(i);AsnError.assert(s,"SignedCertificateTimestamp");this.signature=s.result;if(t!==47+r+n){throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}}toSchema(){const e=this.toStream();return new RawData({data:e.stream.buffer})}toStream(){const e=new SeqStream;e.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecodeView.byteLength);e.appendChar(this.version);e.appendView(new Uint8Array(this.logID));const t=new ArrayBuffer(8);const r=new Uint8Array(t);const n=utilToBase(this.timestamp.valueOf(),8);r.set(new Uint8Array(n),8-n.byteLength);e.appendView(r);e.appendUint16(this.extensions.byteLength);if(this.extensions.byteLength)e.appendView(new Uint8Array(this.extensions));let i;switch(this.hashAlgorithm.toLowerCase()){case NONE:i=0;break;case MD5:i=1;break;case SHA1$2:i=2;break;case SHA224$1:i=3;break;case SHA256$2:i=4;break;case SHA384$2:i=5;break;case SHA512$2:i=6;break;default:throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`)}e.appendChar(i);let s;switch(this.signatureAlgorithm.toLowerCase()){case ANONYMOUS:s=0;break;case RSA$1:s=1;break;case DSA:s=2;break;case ECDSA$2:s=3;break;default:throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`)}e.appendChar(s);const f=this.signature.toBER(false);e.appendUint16(f.byteLength);e.appendView(new Uint8Array(f));return e}toJSON(){return{version:this.version,logID:bufferToHexCodes(this.logID),timestamp:this.timestamp,extensions:bufferToHexCodes(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}async verify(e,t,r=0,n=getCrypto(true)){const i=toBase64(arrayBufferToString(this.logID));let s=null;const f=new SeqStream;for(const t of e){if(t.log_id===i){s=t.key;break}}if(!s){throw new Error(`Public key not found for CT with logId: ${i}`)}const a=stringToArrayBuffer(fromBase64(s));const o=PublicKeyInfo$1.fromBER(a);f.appendChar(0);f.appendChar(0);const c=new ArrayBuffer(8);const u=new Uint8Array(c);const l=utilToBase(this.timestamp.valueOf(),8);u.set(new Uint8Array(l),8-l.byteLength);f.appendView(u);f.appendUint16(r);if(r===0)f.appendUint24(t.byteLength);f.appendView(new Uint8Array(t));f.appendUint16(this.extensions.byteLength);if(this.extensions.byteLength!==0)f.appendView(new Uint8Array(this.extensions));return n.verifyWithPublicKey(f.buffer.slice(0,f.length),new OctetString$1({valueHex:this.signature.toBER(false)}),o,{algorithmId:EMPTY_STRING},"SHA-256")}}SignedCertificateTimestamp.CLASS_NAME="SignedCertificateTimestamp";const TIMESTAMPS="timestamps";class SignedCertificateTimestampList extends PkiObject{constructor(e={}){super();this.timestamps=getParametersValue(e,TIMESTAMPS,SignedCertificateTimestampList.defaultValues(TIMESTAMPS));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case TIMESTAMPS:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case TIMESTAMPS:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){var t;const r=getParametersValue(e,"names",{});(t=r.optional)!==null&&t!==void 0?t:r.optional=false;return new OctetString$1({name:r.blockName||"SignedCertificateTimestampList",optional:r.optional})}fromSchema(e){if(e instanceof OctetString$1===false){throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList")}const t=new SeqStream({stream:new ByteStream({buffer:e.valueBlock.valueHex})});const r=t.getUint16();if(r!==t.length){throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList")}while(t.length){this.timestamps.push(new SignedCertificateTimestamp({stream:t}))}}toSchema(){const e=new SeqStream;let t=0;const r=[];for(const e of this.timestamps){const n=e.toStream();r.push(n);t+=n.stream.buffer.byteLength}e.appendUint16(t);for(const t of r){e.appendView(t.stream.view)}return new OctetString$1({valueHex:e.stream.buffer.slice(0)})}toJSON(){return{timestamps:Array.from(this.timestamps,(e=>e.toJSON()))}}}SignedCertificateTimestampList.CLASS_NAME="SignedCertificateTimestampList";const ATTRIBUTES$4="attributes";const CLEAR_PROPS$11=[ATTRIBUTES$4];class SubjectDirectoryAttributes$1 extends PkiObject{constructor(e={}){super();this.attributes=getParametersValue(e,ATTRIBUTES$4,SubjectDirectoryAttributes$1.defaultValues(ATTRIBUTES$4));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case ATTRIBUTES$4:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new Repeated({name:t.attributes||EMPTY_STRING,value:Attribute$3.schema()})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$11);const t=compareSchema(e,e,SubjectDirectoryAttributes$1.schema({names:{attributes:ATTRIBUTES$4}}));AsnError.assertSchema(t,this.className);this.attributes=Array.from(t.result.attributes,(e=>new Attribute$3({schema:e})))}toSchema(){return new Sequence({value:Array.from(this.attributes,(e=>e.toSchema()))})}toJSON(){return{attributes:Array.from(this.attributes,(e=>e.toJSON()))}}}SubjectDirectoryAttributes$1.CLASS_NAME="SubjectDirectoryAttributes";class ExtensionValueFactory{static getItems(){if(!this.types){this.types={};ExtensionValueFactory.register(id_SubjectAltName,"SubjectAltName",AltName);ExtensionValueFactory.register(id_IssuerAltName,"IssuerAltName",AltName);ExtensionValueFactory.register(id_AuthorityKeyIdentifier,"AuthorityKeyIdentifier",AuthorityKeyIdentifier$1);ExtensionValueFactory.register(id_BasicConstraints,"BasicConstraints",BasicConstraints$1);ExtensionValueFactory.register(id_MicrosoftCaVersion,"MicrosoftCaVersion",CAVersion);ExtensionValueFactory.register(id_CertificatePolicies,"CertificatePolicies",CertificatePolicies$1);ExtensionValueFactory.register(id_MicrosoftAppPolicies,"CertificatePoliciesMicrosoft",CertificatePolicies$1);ExtensionValueFactory.register(id_MicrosoftCertTemplateV2,"MicrosoftCertTemplateV2",CertificateTemplate);ExtensionValueFactory.register(id_CRLDistributionPoints,"CRLDistributionPoints",CRLDistributionPoints$1);ExtensionValueFactory.register(id_FreshestCRL,"FreshestCRL",CRLDistributionPoints$1);ExtensionValueFactory.register(id_ExtKeyUsage,"ExtKeyUsage",ExtKeyUsage);ExtensionValueFactory.register(id_CertificateIssuer,"CertificateIssuer",GeneralNames$2);ExtensionValueFactory.register(id_AuthorityInfoAccess,"AuthorityInfoAccess",InfoAccess);ExtensionValueFactory.register(id_SubjectInfoAccess,"SubjectInfoAccess",InfoAccess);ExtensionValueFactory.register(id_IssuingDistributionPoint,"IssuingDistributionPoint",IssuingDistributionPoint$1);ExtensionValueFactory.register(id_NameConstraints,"NameConstraints",NameConstraints$1);ExtensionValueFactory.register(id_PolicyConstraints,"PolicyConstraints",PolicyConstraints$1);ExtensionValueFactory.register(id_PolicyMappings,"PolicyMappings",PolicyMappings$1);ExtensionValueFactory.register(id_PrivateKeyUsagePeriod,"PrivateKeyUsagePeriod",PrivateKeyUsagePeriod$1);ExtensionValueFactory.register(id_QCStatements,"QCStatements",QCStatements);ExtensionValueFactory.register(id_SignedCertificateTimestampList,"SignedCertificateTimestampList",SignedCertificateTimestampList);ExtensionValueFactory.register(id_SubjectDirectoryAttributes,"SubjectDirectoryAttributes",SubjectDirectoryAttributes$1)}return this.types}static fromBER(e,t){const r=fromBER(t);if(r.offset===-1){return null}const n=this.find(e);if(n){try{return new n.type({schema:r.result})}catch(t){const r=new n.type;r.parsingError=`Incorrectly formatted value of extension ${n.name} (${e})`;return r}}return r.result}static find(e){const t=this.getItems();return t[e]||null}static register(e,t,r){this.getItems()[e]={name:t,type:r}}}const EXTN_ID="extnID";const CRITICAL="critical";const EXTN_VALUE="extnValue";const PARSED_VALUE$5="parsedValue";const CLEAR_PROPS$10=[EXTN_ID,CRITICAL,EXTN_VALUE];class Extension$2 extends PkiObject{constructor(e={}){super();this.extnID=getParametersValue(e,EXTN_ID,Extension$2.defaultValues(EXTN_ID));this.critical=getParametersValue(e,CRITICAL,Extension$2.defaultValues(CRITICAL));if(EXTN_VALUE in e){this.extnValue=new OctetString$1({valueHex:e.extnValue})}else{this.extnValue=Extension$2.defaultValues(EXTN_VALUE)}if(PARSED_VALUE$5 in e){this.parsedValue=getParametersValue(e,PARSED_VALUE$5,Extension$2.defaultValues(PARSED_VALUE$5))}if(e.schema){this.fromSchema(e.schema)}}get parsedValue(){if(this._parsedValue===undefined){const e=ExtensionValueFactory.fromBER(this.extnID,this.extnValue.valueBlock.valueHexView);this._parsedValue=e}return this._parsedValue||undefined}set parsedValue(e){this._parsedValue=e}static defaultValues(e){switch(e){case EXTN_ID:return EMPTY_STRING;case CRITICAL:return false;case EXTN_VALUE:return new OctetString$1;case PARSED_VALUE$5:return{};default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[new ObjectIdentifier$1({name:t.extnID||EMPTY_STRING}),new Boolean$1({name:t.critical||EMPTY_STRING,optional:true}),new OctetString$1({name:t.extnValue||EMPTY_STRING})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$10);const t=compareSchema(e,e,Extension$2.schema({names:{extnID:EXTN_ID,critical:CRITICAL,extnValue:EXTN_VALUE}}));AsnError.assertSchema(t,this.className);this.extnID=t.result.extnID.valueBlock.toString();if(CRITICAL in t.result){this.critical=t.result.critical.valueBlock.value}this.extnValue=t.result.extnValue}toSchema(){const e=[];e.push(new ObjectIdentifier$1({value:this.extnID}));if(this.critical!==Extension$2.defaultValues(CRITICAL)){e.push(new Boolean$1({value:this.critical}))}e.push(this.extnValue);return new Sequence({value:e})}toJSON(){const e={extnID:this.extnID,extnValue:this.extnValue.toJSON()};if(this.critical!==Extension$2.defaultValues(CRITICAL)){e.critical=this.critical}if(this.parsedValue&&this.parsedValue.toJSON){e.parsedValue=this.parsedValue.toJSON()}return e}}Extension$2.CLASS_NAME="Extension";const EXTENSIONS$5="extensions";const CLEAR_PROPS$$=[EXTENSIONS$5];class Extensions$1 extends PkiObject{constructor(e={}){super();this.extensions=getParametersValue(e,EXTENSIONS$5,Extensions$1.defaultValues(EXTENSIONS$5));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case EXTENSIONS$5:return[];default:return super.defaultValues(e)}}static schema(e={},t=false){const r=getParametersValue(e,"names",{});return new Sequence({optional:t,name:r.blockName||EMPTY_STRING,value:[new Repeated({name:r.extensions||EMPTY_STRING,value:Extension$2.schema(r.extension||{})})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$$);const t=compareSchema(e,e,Extensions$1.schema({names:{extensions:EXTENSIONS$5}}));AsnError.assertSchema(t,this.className);this.extensions=Array.from(t.result.extensions,(e=>new Extension$2({schema:e})))}toSchema(){return new Sequence({value:Array.from(this.extensions,(e=>e.toSchema()))})}toJSON(){return{extensions:this.extensions.map((e=>e.toJSON()))}}}Extensions$1.CLASS_NAME="Extensions";const TYPE$1$1="type";const VALUE$4="value";const UTC_TIME_NAME="utcTimeName";const GENERAL_TIME_NAME="generalTimeName";const CLEAR_PROPS$R=[UTC_TIME_NAME,GENERAL_TIME_NAME];var TimeType;(function(e){e[e["UTCTime"]=0]="UTCTime";e[e["GeneralizedTime"]=1]="GeneralizedTime";e[e["empty"]=2]="empty"})(TimeType||(TimeType={}));class Time$1 extends PkiObject{constructor(e={}){super();this.type=getParametersValue(e,TYPE$1$1,Time$1.defaultValues(TYPE$1$1));this.value=getParametersValue(e,VALUE$4,Time$1.defaultValues(VALUE$4));if(e.schema){this.fromSchema(e.schema)}}static defaultValues(e){switch(e){case TYPE$1$1:return 0;case VALUE$4:return new Date(0,0,0);default:return super.defaultValues(e)}}static schema(e={},t=false){const r=getParametersValue(e,"names",{});return new Choice({optional:t,value:[new UTCTime({name:r.utcTimeName||EMPTY_STRING}),new GeneralizedTime({name:r.generalTimeName||EMPTY_STRING})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$R);const t=compareSchema(e,e,Time$1.schema({names:{utcTimeName:UTC_TIME_NAME,generalTimeName:GENERAL_TIME_NAME}}));AsnError.assertSchema(t,this.className);if(UTC_TIME_NAME in t.result){this.type=0;this.value=t.result.utcTimeName.toDate()}if(GENERAL_TIME_NAME in t.result){this.type=1;this.value=t.result.generalTimeName.toDate()}}toSchema(){if(this.type===0){return new UTCTime({valueDate:this.value})}else if(this.type===1){return new GeneralizedTime({valueDate:this.value})}return{}}toJSON(){return{type:this.type,value:this.value}}}Time$1.CLASS_NAME="Time";const TBS$4="tbs";const VERSION$f="version";const SERIAL_NUMBER$3="serialNumber";const SIGNATURE$4="signature";const ISSUER$2="issuer";const NOT_BEFORE="notBefore";const NOT_AFTER="notAfter";const SUBJECT$1="subject";const SUBJECT_PUBLIC_KEY_INFO="subjectPublicKeyInfo";const ISSUER_UNIQUE_ID="issuerUniqueID";const SUBJECT_UNIQUE_ID="subjectUniqueID";const EXTENSIONS$2="extensions";const SIGNATURE_ALGORITHM$5="signatureAlgorithm";const SIGNATURE_VALUE$2="signatureValue";const TBS_CERTIFICATE="tbsCertificate";const TBS_CERTIFICATE_VERSION=`${TBS_CERTIFICATE}.${VERSION$f}`;const TBS_CERTIFICATE_SERIAL_NUMBER=`${TBS_CERTIFICATE}.${SERIAL_NUMBER$3}`;const TBS_CERTIFICATE_SIGNATURE=`${TBS_CERTIFICATE}.${SIGNATURE$4}`;const TBS_CERTIFICATE_ISSUER=`${TBS_CERTIFICATE}.${ISSUER$2}`;const TBS_CERTIFICATE_NOT_BEFORE=`${TBS_CERTIFICATE}.${NOT_BEFORE}`;const TBS_CERTIFICATE_NOT_AFTER=`${TBS_CERTIFICATE}.${NOT_AFTER}`;const TBS_CERTIFICATE_SUBJECT=`${TBS_CERTIFICATE}.${SUBJECT$1}`;const TBS_CERTIFICATE_SUBJECT_PUBLIC_KEY=`${TBS_CERTIFICATE}.${SUBJECT_PUBLIC_KEY_INFO}`;const TBS_CERTIFICATE_ISSUER_UNIQUE_ID=`${TBS_CERTIFICATE}.${ISSUER_UNIQUE_ID}`;const TBS_CERTIFICATE_SUBJECT_UNIQUE_ID=`${TBS_CERTIFICATE}.${SUBJECT_UNIQUE_ID}`;const TBS_CERTIFICATE_EXTENSIONS=`${TBS_CERTIFICATE}.${EXTENSIONS$2}`;const CLEAR_PROPS$Q=[TBS_CERTIFICATE,TBS_CERTIFICATE_VERSION,TBS_CERTIFICATE_SERIAL_NUMBER,TBS_CERTIFICATE_SIGNATURE,TBS_CERTIFICATE_ISSUER,TBS_CERTIFICATE_NOT_BEFORE,TBS_CERTIFICATE_NOT_AFTER,TBS_CERTIFICATE_SUBJECT,TBS_CERTIFICATE_SUBJECT_PUBLIC_KEY,TBS_CERTIFICATE_ISSUER_UNIQUE_ID,TBS_CERTIFICATE_SUBJECT_UNIQUE_ID,TBS_CERTIFICATE_EXTENSIONS,SIGNATURE_ALGORITHM$5,SIGNATURE_VALUE$2];function tbsCertificate(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||TBS_CERTIFICATE,value:[new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:0},value:[new Integer({name:t.tbsCertificateVersion||TBS_CERTIFICATE_VERSION})]}),new Integer({name:t.tbsCertificateSerialNumber||TBS_CERTIFICATE_SERIAL_NUMBER}),AlgorithmIdentifier$2.schema(t.signature||{names:{blockName:TBS_CERTIFICATE_SIGNATURE}}),RelativeDistinguishedNames.schema(t.issuer||{names:{blockName:TBS_CERTIFICATE_ISSUER}}),new Sequence({name:t.tbsCertificateValidity||"tbsCertificate.validity",value:[Time$1.schema(t.notBefore||{names:{utcTimeName:TBS_CERTIFICATE_NOT_BEFORE,generalTimeName:TBS_CERTIFICATE_NOT_BEFORE}}),Time$1.schema(t.notAfter||{names:{utcTimeName:TBS_CERTIFICATE_NOT_AFTER,generalTimeName:TBS_CERTIFICATE_NOT_AFTER}})]}),RelativeDistinguishedNames.schema(t.subject||{names:{blockName:TBS_CERTIFICATE_SUBJECT}}),PublicKeyInfo$1.schema(t.subjectPublicKeyInfo||{names:{blockName:TBS_CERTIFICATE_SUBJECT_PUBLIC_KEY}}),new Primitive({name:t.tbsCertificateIssuerUniqueID||TBS_CERTIFICATE_ISSUER_UNIQUE_ID,optional:true,idBlock:{tagClass:3,tagNumber:1}}),new Primitive({name:t.tbsCertificateSubjectUniqueID||TBS_CERTIFICATE_SUBJECT_UNIQUE_ID,optional:true,idBlock:{tagClass:3,tagNumber:2}}),new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:3},value:[Extensions$1.schema(t.extensions||{names:{blockName:TBS_CERTIFICATE_EXTENSIONS}})]})]})}class Certificate$1 extends PkiObject{constructor(e={}){super();this.tbsView=new Uint8Array(getParametersValue(e,TBS$4,Certificate$1.defaultValues(TBS$4)));this.version=getParametersValue(e,VERSION$f,Certificate$1.defaultValues(VERSION$f));this.serialNumber=getParametersValue(e,SERIAL_NUMBER$3,Certificate$1.defaultValues(SERIAL_NUMBER$3));this.signature=getParametersValue(e,SIGNATURE$4,Certificate$1.defaultValues(SIGNATURE$4));this.issuer=getParametersValue(e,ISSUER$2,Certificate$1.defaultValues(ISSUER$2));this.notBefore=getParametersValue(e,NOT_BEFORE,Certificate$1.defaultValues(NOT_BEFORE));this.notAfter=getParametersValue(e,NOT_AFTER,Certificate$1.defaultValues(NOT_AFTER));this.subject=getParametersValue(e,SUBJECT$1,Certificate$1.defaultValues(SUBJECT$1));this.subjectPublicKeyInfo=getParametersValue(e,SUBJECT_PUBLIC_KEY_INFO,Certificate$1.defaultValues(SUBJECT_PUBLIC_KEY_INFO));if(ISSUER_UNIQUE_ID in e){this.issuerUniqueID=getParametersValue(e,ISSUER_UNIQUE_ID,Certificate$1.defaultValues(ISSUER_UNIQUE_ID))}if(SUBJECT_UNIQUE_ID in e){this.subjectUniqueID=getParametersValue(e,SUBJECT_UNIQUE_ID,Certificate$1.defaultValues(SUBJECT_UNIQUE_ID))}if(EXTENSIONS$2 in e){this.extensions=getParametersValue(e,EXTENSIONS$2,Certificate$1.defaultValues(EXTENSIONS$2))}this.signatureAlgorithm=getParametersValue(e,SIGNATURE_ALGORITHM$5,Certificate$1.defaultValues(SIGNATURE_ALGORITHM$5));this.signatureValue=getParametersValue(e,SIGNATURE_VALUE$2,Certificate$1.defaultValues(SIGNATURE_VALUE$2));if(e.schema){this.fromSchema(e.schema)}}get tbs(){return build.BufferSourceConverter.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case TBS$4:return EMPTY_BUFFER;case VERSION$f:return 0;case SERIAL_NUMBER$3:return new Integer;case SIGNATURE$4:return new AlgorithmIdentifier$2;case ISSUER$2:return new RelativeDistinguishedNames;case NOT_BEFORE:return new Time$1;case NOT_AFTER:return new Time$1;case SUBJECT$1:return new RelativeDistinguishedNames;case SUBJECT_PUBLIC_KEY_INFO:return new PublicKeyInfo$1;case ISSUER_UNIQUE_ID:return EMPTY_BUFFER;case SUBJECT_UNIQUE_ID:return EMPTY_BUFFER;case EXTENSIONS$2:return[];case SIGNATURE_ALGORITHM$5:return new AlgorithmIdentifier$2;case SIGNATURE_VALUE$2:return new BitString$1;default:return super.defaultValues(e)}}static schema(e={}){const t=getParametersValue(e,"names",{});return new Sequence({name:t.blockName||EMPTY_STRING,value:[tbsCertificate(t.tbsCertificate),AlgorithmIdentifier$2.schema(t.signatureAlgorithm||{names:{blockName:SIGNATURE_ALGORITHM$5}}),new BitString$1({name:t.signatureValue||SIGNATURE_VALUE$2})]})}fromSchema(e){clearProps(e,CLEAR_PROPS$Q);const t=compareSchema(e,e,Certificate$1.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:TBS_CERTIFICATE_EXTENSIONS}}}}}}));AsnError.assertSchema(t,this.className);this.tbsView=t.result.tbsCertificate.valueBeforeDecodeView;if(TBS_CERTIFICATE_VERSION in t.result)this.version=t.result[TBS_CERTIFICATE_VERSION].valueBlock.valueDec;this.serialNumber=t.result[TBS_CERTIFICATE_SERIAL_NUMBER];this.signature=new AlgorithmIdentifier$2({schema:t.result[TBS_CERTIFICATE_SIGNATURE]});this.issuer=new RelativeDistinguishedNames({schema:t.result[TBS_CERTIFICATE_ISSUER]});this.notBefore=new Time$1({schema:t.result[TBS_CERTIFICATE_NOT_BEFORE]});this.notAfter=new Time$1({schema:t.result[TBS_CERTIFICATE_NOT_AFTER]});this.subject=new RelativeDistinguishedNames({schema:t.result[TBS_CERTIFICATE_SUBJECT]});this.subjectPublicKeyInfo=new PublicKeyInfo$1({schema:t.result[TBS_CERTIFICATE_SUBJECT_PUBLIC_KEY]});if(TBS_CERTIFICATE_ISSUER_UNIQUE_ID in t.result)this.issuerUniqueID=t.result[TBS_CERTIFICATE_ISSUER_UNIQUE_ID].valueBlock.valueHex;if(TBS_CERTIFICATE_SUBJECT_UNIQUE_ID in t.result)this.subjectUniqueID=t.result[TBS_CERTIFICATE_SUBJECT_UNIQUE_ID].valueBlock.valueHex;if(TBS_CERTIFICATE_EXTENSIONS in t.result)this.extensions=Array.from(t.result[TBS_CERTIFICATE_EXTENSIONS],(e=>new Extension$2({schema:e})));this.signatureAlgorithm=new AlgorithmIdentifier$2({schema:t.result.signatureAlgorithm});this.signatureValue=t.result.signatureValue}encodeTBS(){const e=[];if(VERSION$f in this&&this.version!==Certificate$1.defaultValues(VERSION$f)){e.push(new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:0},value:[new Integer({value:this.version})]}))}e.push(this.serialNumber);e.push(this.signature.toSchema());e.push(this.issuer.toSchema());e.push(new Sequence({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]}));e.push(this.subject.toSchema());e.push(this.subjectPublicKeyInfo.toSchema());if(this.issuerUniqueID){e.push(new Primitive({optional:true,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID}))}if(this.subjectUniqueID){e.push(new Primitive({optional:true,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID}))}if(this.extensions){e.push(new Constructed({optional:true,idBlock:{tagClass:3,tagNumber:3},value:[new Sequence({value:Array.from(this.extensions,(e=>e.toSchema()))})]}))}return new Sequence({value:e})}toSchema(e=false){let t;if(e===false){if(!this.tbsView.byteLength){return Certificate$1.schema().value[0]}const e=fromBER(this.tbsView);AsnError.assert(e,"TBS Certificate");t=e.result}else{t=this.encodeTBS()}return new Sequence({value:[t,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const e={tbs:build.Convert.ToHex(this.tbsView),version:this.version,serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};if(VERSION$f in this&&this.version!==Certificate$1.defaultValues(VERSION$f)){e.version=this.version}if(this.issuerUniqueID){e.issuerUniqueID=build.Convert.ToHex(this.issuerUniqueID)}if(this.subjectUniqueID){e.subjectUniqueID=build.Convert.ToHex(this.subjectUniqueID)}if(this.extensions){e.extensions=Array.from(this.extensions,(e=>e.toJSON()))}return e}async getPublicKey(e,t=getCrypto(true)){return t.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,e)}async getKeyHash(e="SHA-1",t=getCrypto(true)){return t.digest({name:e},this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView)}async sign(e,t="SHA-1",r=getCrypto(true)){if(!e){throw new Error("Need to provide a private key for signing")}const n=await r.getSignatureParameters(e,t);const i=n.parameters;this.signature=n.signatureAlgorithm;this.signatureAlgorithm=n.signatureAlgorithm;this.tbsView=new Uint8Array(this.encodeTBS().toBER());const s=await r.signWithPrivateKey(this.tbsView,e,i);this.signatureValue=new BitString$1({valueHex:s})}async verify(e,t=getCrypto(true)){let r;if(e){r=e.subjectPublicKeyInfo}else if(this.issuer.isEqual(this.subject)){r=this.subjectPublicKeyInfo}if(!(r instanceof PublicKeyInfo$1)){throw new Error("Please provide issuer certificate as a parameter")}return t.verifyWithPublicKey(this.tbsView,this.signatureValue,r,this.signatureAlgorithm)}}Certificate$1.CLASS_NAME="Certificate";var ChainValidationCode;(function(e){e[e["unknown"]=-1]="unknown";e[e["success"]=0]="success";e[e["noRevocation"]=11]="noRevocation";e[e["noPath"]=60]="noPath";e[e["noValidPath"]=97]="noValidPath"})(ChainValidationCode||(ChainValidationCode={}));var PKIStatus;(function(e){e[e["granted"]=0]="granted";e[e["grantedWithMods"]=1]="grantedWithMods";e[e["rejection"]=2]="rejection";e[e["waiting"]=3]="waiting";e[e["revocationWarning"]=4]="revocationWarning";e[e["revocationNotification"]=5]="revocationNotification"})(PKIStatus||(PKIStatus={}));function initCryptoEngine(){if(typeof self!=="undefined"){if("crypto"in self){let e="webcrypto";if("webkitSubtle"in self.crypto){e="safari"}setEngine(e,new CryptoEngine({name:e,crypto}))}}else if(typeof crypto!=="undefined"&&"webcrypto"in crypto){const e="NodeJS ^15";const t=crypto.webcrypto;setEngine(e,new CryptoEngine({name:e,crypto:t}))}}initCryptoEngine();var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return extendStatics(e,t)};function __extends(e,t){if(typeof t!=="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");extendStatics(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var __assign$1=function(){__assign$1=Object.assign||function e(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s))t[s]=r[s]}return t};return __assign$1.apply(this,arguments)};function __rest(e,t){var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0)r[n]=e[n];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++){if(t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i]))r[n[i]]=e[n[i]]}return r}function __decorate(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,f;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)if(f=e[a])s=(i<3?f(s):i>3?f(t,r,s):f(t,r))||s;return i>3&&s&&Object.defineProperty(t,r,s),s}function __param(e,t){return function(r,n){t(r,n,e)}}function __metadata(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)}function __awaiter$h(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))}function __generator(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,f;return f={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(f[Symbol.iterator]=function(){return this}),f;function a(e){return function(t){return o([e,t])}}function o(a){if(n)throw new TypeError("Generator is already executing.");while(f&&(f=0,a[0]&&(r=0)),r)try{if(n=1,i&&(s=a[0]&2?i["return"]:a[0]?i["throw"]||((s=i["return"])&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;if(i=0,s)a=[a[0]&2,s.value];switch(a[0]){case 0:case 1:s=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(s=r.trys,s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(a[0]===6&&r.label<s[1]){r.label=s[1];s=a;break}if(s&&r.label<s[2]){r.label=s[2];r.ops.push(a);break}if(s[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];i=0}finally{n=s=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}}var __createBinding=Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]};function __exportStar(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))__createBinding(t,e,r)}function __values(e){var t=typeof Symbol==="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&n>=e.length)e=void 0;return{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],f;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)s.push(i.value)}catch(e){f={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(f)throw f.error}}return s}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}function __spreadArrays(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],f=0,a=s.length;f<a;f++,i++)n[i]=s[f];return n}function __spreadArray$1(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++){if(s||!(n in t)){if(!s)s=Array.prototype.slice.call(t,0,n);s[n]=t[n]}}return e.concat(s||Array.prototype.slice.call(t))}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},f("next"),f("throw"),f("return"),i[Symbol.asyncIterator]=function(){return this},i;function f(e){if(n[e])i[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||a(e,t)}))}}function a(e,t){try{o(n[e](t))}catch(e){l(s[0][3],e)}}function o(e){e.value instanceof __await?Promise.resolve(e.value.v).then(c,u):l(s[0][2],e)}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){if(e(t),s.shift(),s.length)a(s[0][0],s[0][1])}}function __asyncDelegator(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:__await(e[n](t)),done:n==="return"}:i?i(t):t}:i}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values==="function"?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(t){r[t]=e[t]&&function(r){return new Promise((function(n,s){r=e[t](r),i(n,s,r.done,r.value)}))}}function i(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}}function __makeTemplateObject(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e}var __setModuleDefault=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t};function __importStar(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r))__createBinding(t,e,r);__setModuleDefault(t,e);return t}function __importDefault(e){return e&&e.__esModule?e:{default:e}}function __classPrivateFieldGet(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t==="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function __classPrivateFieldSet(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t==="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function __classPrivateFieldIn(e,t){if(t===null||typeof t!=="object"&&typeof t!=="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e==="function"?t===e:e.has(t)}const tslib_es6=Object.freeze({__proto__:null,__extends,get __assign(){return __assign$1},__rest,__decorate,__param,__metadata,__awaiter:__awaiter$h,__generator,__createBinding,__exportStar,__values,__read,__spread,__spreadArrays,__spreadArray:__spreadArray$1,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn});let engineCrypto=null;class Application{static setEngine(e,t){engineCrypto=Object.assign(t,{name:e});setEngine(e,new CryptoEngine({name:e,crypto:t}))}static get crypto(){if(!engineCrypto){throw new XmlError(XE.CRYPTOGRAPHIC_NO_MODULE)}return engineCrypto}static isNodePlugin(){return typeof self==="undefined"&&typeof window==="undefined"}}function init(){if(!Application.isNodePlugin()){Application.setEngine("W3 WebCrypto module",self.crypto)}}init();class XmlAlgorithm{getAlgorithmName(){return this.namespaceURI}}class HashAlgorithm extends XmlAlgorithm{async Digest(e){let t;if(typeof e==="string"){t=Convert.FromString(e,"utf8")}else if(ArrayBuffer.isView(e)){t=new Uint8Array(e.buffer)}else if(e instanceof ArrayBuffer){t=new Uint8Array(e)}else{const r=(new XMLSerializer).serializeToString(e);t=Convert.FromString(r,"utf8")}const r=await Application.crypto.subtle.digest(this.algorithm,t);return new Uint8Array(r)}}class SignatureAlgorithm extends XmlAlgorithm{async Sign(e,t,r){const n=Convert.FromString(e,"utf8");return Application.crypto.subtle.sign(r,t,n)}async Verify(e,t,r,n){const i=Convert.FromString(e,"utf8");return Application.crypto.subtle.verify(n||this.algorithm,t,r,i)}}const SHA1$1="SHA-1";const SHA256$1="SHA-256";const SHA384$1="SHA-384";const SHA512$1="SHA-512";const SHA1_NAMESPACE="http://www.w3.org/2000/09/xmldsig#sha1";const SHA256_NAMESPACE="http://www.w3.org/2001/04/xmlenc#sha256";const SHA384_NAMESPACE="http://www.w3.org/2001/04/xmldsig-more#sha384";const SHA512_NAMESPACE="http://www.w3.org/2001/04/xmlenc#sha512";class Sha1$1 extends HashAlgorithm{constructor(){super(...arguments);this.algorithm={name:SHA1$1};this.namespaceURI=SHA1_NAMESPACE}}class Sha256$1 extends HashAlgorithm{constructor(){super(...arguments);this.algorithm={name:SHA256$1};this.namespaceURI=SHA256_NAMESPACE}}class Sha384 extends HashAlgorithm{constructor(){super(...arguments);this.algorithm={name:SHA384$1};this.namespaceURI=SHA384_NAMESPACE}}class Sha512$1 extends HashAlgorithm{constructor(){super(...arguments);this.algorithm={name:SHA512$1};this.namespaceURI=SHA512_NAMESPACE}}const ECDSA$1="ECDSA";const ECDSA_SHA1_NAMESPACE="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha1";const ECDSA_SHA256_NAMESPACE="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256";const ECDSA_SHA384_NAMESPACE="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha384";const ECDSA_SHA512_NAMESPACE="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha512";class EcdsaSha1 extends SignatureAlgorithm{constructor(){super(...arguments);this.algorithm={name:ECDSA$1,hash:{name:SHA1$1}};this.namespaceURI=ECDSA_SHA1_NAMESPACE}}class EcdsaSha256 extends SignatureAlgorithm{constructor(){super(...arguments);this.algorithm={name:ECDSA$1,hash:{name:SHA256$1}};this.namespaceURI=ECDSA_SHA256_NAMESPACE}}class EcdsaSha384 extends SignatureAlgorithm{constructor(){super(...arguments);this.algorithm={name:ECDSA$1,hash:{name:SHA384$1}};this.namespaceURI=ECDSA_SHA384_NAMESPACE}}class EcdsaSha512 extends SignatureAlgorithm{constructor(){super(...arguments);this.algorithm={name:ECDSA$1,hash:{name:SHA512$1}};this.namespaceURI=ECDSA_SHA512_NAMESPACE}}const HMAC="HMAC";const HMAC_SHA1_NAMESPACE="http://www.w3.org/2000/09/xmldsig#hmac-sha1";const HMAC_SHA256_NAMESPACE="http://www.w3.org/2001/04/xmldsig-more#hmac-sha256";const HMAC_SHA384_NAMESPACE="http://www.w3.org/2001/04/xmldsig-more#hmac-sha384";const HMAC_SHA512_NAMESPACE="http://www.w3.org/2001/04/xmldsig-more#hmac-sha512";class HmacSha1$1 extends SignatureAlgorithm{constructor(){super(...arguments);this.algorithm={name:HMAC,hash:{name:SHA1$1}};this.namespaceURI=HMAC_SHA1_NAMESPACE}}class HmacSha256$1 extends SignatureAlgorithm{constructor(){super(...arguments);this.algorithm={name:HMAC,hash:{name:SHA256$1}};this.namespaceURI=HMAC_SHA256_NAMESPACE}}class HmacSha384 extends SignatureAlgorithm{constructor(){super(...arguments);this.algorithm={name:HMAC,hash:{name:SHA384$1}};this.namespaceURI=HMAC_SHA384_NAMESPACE}}class HmacSha512$1 extends SignatureAlgorithm{constructor(){super(...arguments);this.algorithm={name:HMAC,hash:{name:SHA512$1}};this.namespaceURI=HMAC_SHA512_NAMESPACE}}const RSA_PKCS1="RSASSA-PKCS1-v1_5";const RSA_PKCS1_SHA1_NAMESPACE="http://www.w3.org/2000/09/xmldsig#rsa-sha1";const RSA_PKCS1_SHA256_NAMESPACE="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256";const RSA_PKCS1_SHA384_NAMESPACE="http://www.w3.org/2001/04/xmldsig-more#rsa-sha384";const RSA_PKCS1_SHA512_NAMESPACE="http://www.w3.org/2001/04/xmldsig-more#rsa-sha512";class RsaPkcs1Sha1 extends SignatureAlgorithm{constructor(){super(...arguments);this.algorithm={name:RSA_PKCS1,hash:{name:SHA1$1}};this.namespaceURI=RSA_PKCS1_SHA1_NAMESPACE}}class RsaPkcs1Sha256 extends SignatureAlgorithm{constructor(){super(...arguments);this.algorithm={name:RSA_PKCS1,hash:{name:SHA256$1}};this.namespaceURI=RSA_PKCS1_SHA256_NAMESPACE}}class RsaPkcs1Sha384 extends SignatureAlgorithm{constructor(){super(...arguments);this.algorithm={name:RSA_PKCS1,hash:{name:SHA384$1}};this.namespaceURI=RSA_PKCS1_SHA384_NAMESPACE}}class RsaPkcs1Sha512 extends SignatureAlgorithm{constructor(){super(...arguments);this.algorithm={name:RSA_PKCS1,hash:{name:SHA512$1}};this.namespaceURI=RSA_PKCS1_SHA512_NAMESPACE}}const RSA_PSS$1="RSA-PSS";const RSA_PSS_WITH_PARAMS_NAMESPACE="http://www.w3.org/2007/05/xmldsig-more#rsa-pss";class RsaPssBase extends SignatureAlgorithm{constructor(e){super();this.algorithm={name:RSA_PSS$1,hash:{name:SHA1$1}};this.namespaceURI=RSA_PSS_WITH_PARAMS_NAMESPACE;if(e){this.algorithm.saltLength=e}}}class RsaPssSha1 extends RsaPssBase{constructor(e){super(e);this.algorithm.hash.name=SHA1$1}}class RsaPssSha256 extends RsaPssBase{constructor(e){super(e);this.algorithm.hash.name=SHA256$1}}class RsaPssSha384 extends RsaPssBase{constructor(e){super(e);this.algorithm.hash.name=SHA384$1}}class RsaPssSha512 extends RsaPssBase{constructor(e){super(e);this.algorithm.hash.name=SHA512$1}}const RSA_PSS_SHA1_NAMESPACE="http://www.w3.org/2007/05/xmldsig-more#sha1-rsa-MGF1";const RSA_PSS_SHA256_NAMESPACE="http://www.w3.org/2007/05/xmldsig-more#sha256-rsa-MGF1";const RSA_PSS_SHA384_NAMESPACE="http://www.w3.org/2007/05/xmldsig-more#sha384-rsa-MGF1";const RSA_PSS_SHA512_NAMESPACE="http://www.w3.org/2007/05/xmldsig-more#sha512-rsa-MGF1";class RsaPssWithoutParamsBase extends SignatureAlgorithm{constructor(){super();this.algorithm={name:RSA_PSS$1,hash:{name:SHA1$1}};this.namespaceURI=RSA_PSS_SHA1_NAMESPACE}}class RsaPssWithoutParamsSha1 extends RsaPssWithoutParamsBase{constructor(){super();this.algorithm.hash.name=SHA1$1;this.algorithm.saltLength=20}}class RsaPssWithoutParamsSha256 extends RsaPssWithoutParamsBase{constructor(){super();this.algorithm.hash.name=SHA256$1;this.algorithm.saltLength=32}}class RsaPssWithoutParamsSha384 extends RsaPssWithoutParamsBase{constructor(){super();this.algorithm.hash.name=SHA384$1;this.algorithm.saltLength=48}}class RsaPssWithoutParamsSha512 extends RsaPssWithoutParamsBase{constructor(){super();this.algorithm.hash.name=SHA512$1;this.algorithm.saltLength=64}}var XmlCanonicalizerState;(function(e){e[e["BeforeDocElement"]=0]="BeforeDocElement";e[e["InsideDocElement"]=1]="InsideDocElement";e[e["AfterDocElement"]=2]="AfterDocElement"})(XmlCanonicalizerState||(XmlCanonicalizerState={}));class XmlCanonicalizer{constructor(e,t,r=new NamespaceManager){this.propagatedNamespaces=new NamespaceManager;this.result=[];this.visibleNamespaces=new NamespaceManager;this.inclusiveNamespacesPrefixList=[];this.state=XmlCanonicalizerState.BeforeDocElement;this.withComments=e;this.exclusive=t;this.propagatedNamespaces=r}get InclusiveNamespacesPrefixList(){return this.inclusiveNamespacesPrefixList.join(" ")}set InclusiveNamespacesPrefixList(e){this.inclusiveNamespacesPrefixList=e.split(" ")}Canonicalize(e){if(!e){throw new XmlError(XE.CRYPTOGRAPHIC,"Parameter 1 is not Node")}this.WriteNode(e);const t=this.result.join("");return t}WriteNode(e){switch(e.nodeType){case XmlNodeType.Document:case XmlNodeType.DocumentFragment:this.WriteDocumentNode(e);break;case XmlNodeType.Element:this.WriteElementNode(e);break;case XmlNodeType.CDATA:case XmlNodeType.SignificantWhitespace:case XmlNodeType.Text:if(!isDocument(e.parentNode)){this.WriteTextNode(e)}break;case XmlNodeType.Whitespace:if(this.state===XmlCanonicalizerState.InsideDocElement){this.WriteTextNode(e)}break;case XmlNodeType.Comment:this.WriteCommentNode(e);break;case XmlNodeType.ProcessingInstruction:this.WriteProcessingInstructionNode(e);break;case XmlNodeType.EntityReference:for(let t=0;t<e.childNodes.length;t++){this.WriteNode(e.childNodes[t])}break;case XmlNodeType.Attribute:throw new XmlError(XE.CRYPTOGRAPHIC,"Attribute node is impossible here");case XmlNodeType.EndElement:throw new XmlError(XE.CRYPTOGRAPHIC,"Attribute node is impossible here");case XmlNodeType.EndEntity:throw new XmlError(XE.CRYPTOGRAPHIC,"Attribute node is impossible here")}}WriteDocumentNode(e){this.state=XmlCanonicalizerState.BeforeDocElement;for(let t=e.firstChild;t!=null;t=t.nextSibling){this.WriteNode(t)}}WriteCommentNode(e){if(this.withComments){if(this.state===XmlCanonicalizerState.AfterDocElement){this.result.push(String.fromCharCode(10)+"\x3c!--")}else{this.result.push("\x3c!--")}this.result.push(this.NormalizeString(e.nodeValue,XmlNodeType.Comment));if(this.state===XmlCanonicalizerState.BeforeDocElement){this.result.push("--\x3e"+String.fromCharCode(10))}else{this.result.push("--\x3e")}}}WriteTextNode(e){this.result.push(this.NormalizeString(e.nodeValue,e.nodeType))}WriteProcessingInstructionNode(e){const t=e.nodeName||e.tagName;if(t==="xml"){return}if(this.state===XmlCanonicalizerState.AfterDocElement){this.result.push("\n<?")}else{this.result.push("<?")}this.result.push(t);if(e.nodeValue){this.result.push(" ");this.result.push(this.NormalizeString(e.nodeValue,XmlNodeType.ProcessingInstruction))}if(this.state===XmlCanonicalizerState.BeforeDocElement){this.result.push("?>\n")}else{this.result.push("?>")}}WriteElementNode(e){const t=this.state;if(this.state===XmlCanonicalizerState.BeforeDocElement){this.state=XmlCanonicalizerState.InsideDocElement}this.result.push("<");this.result.push(e.nodeName);let r=this.WriteNamespacesAxis(e);this.WriteAttributesAxis(e);this.result.push(">");for(let t=e.firstChild;t!=null;t=t.nextSibling){this.WriteNode(t)}this.result.push("</");this.result.push(e.nodeName);this.result.push(">");if(t===XmlCanonicalizerState.BeforeDocElement){this.state=XmlCanonicalizerState.AfterDocElement}while(r--){this.visibleNamespaces.Pop()}}WriteNamespacesAxis(e){const t=[];let r=0;for(let n=0;n<e.attributes.length;n++){const i=e.attributes[n];if(!IsNamespaceNode(i)){if(i.prefix&&!this.IsNamespaceRendered(i.prefix,i.namespaceURI)){const e={prefix:i.prefix,namespace:i.namespaceURI};t.push(e);this.visibleNamespaces.Add(e);r++}continue}if(i.localName==="xmlns"&&!i.prefix&&!i.nodeValue){const e={prefix:i.prefix,namespace:i.nodeValue};t.push(e);this.visibleNamespaces.Add(e);r++}let s=null;let f;if(f=/xmlns:([\w\.-]+)/.exec(i.nodeName)){s=f[1]}let a=true;if(this.exclusive&&!this.IsNamespaceInclusive(e,s)){const t=IsNamespaceUsed(e,s);if(t>1){a=false}else if(t===0){continue}}if(this.IsNamespaceRendered(s,i.nodeValue)){continue}if(a){const e={prefix:s,namespace:i.nodeValue};t.push(e);this.visibleNamespaces.Add(e);r++}}if(!this.IsNamespaceRendered(e.prefix,e.namespaceURI)&&e.namespaceURI!=="http://www.w3.org/2000/xmlns/"){const n={prefix:e.prefix,namespace:e.namespaceURI};t.push(n);this.visibleNamespaces.Add(n);r++}t.sort(XmlDsigC14NTransformNamespacesComparer);let n=null;t.forEach((e=>{if(e.prefix===n){return}n=e.prefix;this.result.push(" xmlns");if(e.prefix){this.result.push(":"+e.prefix)}this.result.push('="');this.result.push(e.namespace);this.result.push('"')}));return r}WriteAttributesAxis(e){const t=[];for(let r=0;r<e.attributes.length;r++){const n=e.attributes[r];if(!IsNamespaceNode(n)){t.push(n)}}t.sort(XmlDsigC14NTransformAttributesComparer);t.forEach((e=>{if(e!=null){this.result.push(" ");this.result.push(e.nodeName);this.result.push('="');this.result.push(this.NormalizeString(e.nodeValue,XmlNodeType.Attribute));this.result.push('"')}}))}NormalizeString(e,t){const r=[];if(e){for(let n=0;n<e.length;n++){const i=e[n];if(i==="<"&&(t===XmlNodeType.Attribute||this.IsTextNode(t))){r.push("&lt;")}else if(i===">"&&this.IsTextNode(t)){r.push("&gt;")}else if(i==="&"&&(t===XmlNodeType.Attribute||this.IsTextNode(t))){r.push("&amp;")}else if(i==='"'&&t===XmlNodeType.Attribute){r.push("&quot;")}else if(i==="\t"&&t===XmlNodeType.Attribute){r.push("&#x9;")}else if(i==="\n"&&t===XmlNodeType.Attribute){r.push("&#xA;")}else if(i==="\r"){r.push("&#xD;")}else{r.push(i)}}}return r.join("")}IsTextNode(e){switch(e){case XmlNodeType.Text:case XmlNodeType.CDATA:case XmlNodeType.SignificantWhitespace:case XmlNodeType.Whitespace:return true}return false}IsNamespaceInclusive(e,t){const r=t||null;if(e.prefix===r){return false}return this.inclusiveNamespacesPrefixList.indexOf(r||"")!==-1}IsNamespaceRendered(e,t){e=e||"";t=t||"";if(!e&&!t){return true}if(e==="xml"&&t==="http://www.w3.org/XML/1998/namespace"){return true}const r=this.visibleNamespaces.GetPrefix(e);if(r){return r.namespace===t}return false}}function XmlDsigC14NTransformNamespacesComparer(e,t){if(e==t){return 0}else if(!e){return-1}else if(!t){return 1}else if(!e.prefix){return-1}else if(!t.prefix){return 1}else if(e.prefix<t.prefix){return-1}else if(e.prefix>t.prefix){return 1}else{return 0}}function XmlDsigC14NTransformAttributesComparer(e,t){if(!e.namespaceURI&&t.namespaceURI){return-1}if(!t.namespaceURI&&e.namespaceURI){return 1}const r=e.namespaceURI+e.localName;const n=t.namespaceURI+t.localName;if(r===n){return 0}else if(r<n){return-1}else{return 1}}function IsNamespaceUsed(e,t,r=0){const n=t||null;if(e.prefix===n){return++r}if(e.attributes){for(let n=0;n<e.attributes.length;n++){const i=e.attributes[n];if(!IsNamespaceNode(i)&&t&&e.attributes[n].prefix===t){return++r}}}for(let n=e.firstChild;!!n;n=n.nextSibling){if(n.nodeType===XmlNodeType.Element){const e=n;const i=IsNamespaceUsed(e,t,r);if(n.nodeType===XmlNodeType.Element&&i){return++r+i}}}return r}function IsNamespaceNode(e){const t=/xmlns:/;if(e!==null&&e.nodeType===XmlNodeType.Attribute&&(e.nodeName==="xmlns"||t.test(e.nodeName))){return true}return false}const XmlSignature={DefaultCanonMethod:"http://www.w3.org/TR/2001/REC-xml-c14n-20010315",DefaultDigestMethod:"http://www.w3.org/2001/04/xmlenc#sha256",DefaultPrefix:"ds",ElementNames:{CanonicalizationMethod:"CanonicalizationMethod",DigestMethod:"DigestMethod",DigestValue:"DigestValue",DSAKeyValue:"DSAKeyValue",DomainParameters:"DomainParameters",EncryptedKey:"EncryptedKey",HMACOutputLength:"HMACOutputLength",RSAPSSParams:"RSAPSSParams",MaskGenerationFunction:"MaskGenerationFunction",SaltLength:"SaltLength",KeyInfo:"KeyInfo",KeyName:"KeyName",KeyValue:"KeyValue",Modulus:"Modulus",Exponent:"Exponent",Manifest:"Manifest",Object:"Object",Reference:"Reference",RetrievalMethod:"RetrievalMethod",RSAKeyValue:"RSAKeyValue",ECDSAKeyValue:"ECDSAKeyValue",NamedCurve:"NamedCurve",PublicKey:"PublicKey",Signature:"Signature",SignatureMethod:"SignatureMethod",SignatureValue:"SignatureValue",SignedInfo:"SignedInfo",Transform:"Transform",Transforms:"Transforms",X509Data:"X509Data",PGPData:"PGPData",SPKIData:"SPKIData",SPKIexp:"SPKIexp",MgmtData:"MgmtData",X509IssuerSerial:"X509IssuerSerial",X509IssuerName:"X509IssuerName",X509SerialNumber:"X509SerialNumber",X509SKI:"X509SKI",X509SubjectName:"X509SubjectName",X509Certificate:"X509Certificate",X509CRL:"X509CRL",XPath:"XPath",X:"X",Y:"Y"},AttributeNames:{Algorithm:"Algorithm",Encoding:"Encoding",Id:"Id",MimeType:"MimeType",Type:"Type",URI:"URI"},AlgorithmNamespaces:{XmlDsigBase64Transform:"http://www.w3.org/2000/09/xmldsig#base64",XmlDsigC14NTransform:"http://www.w3.org/TR/2001/REC-xml-c14n-20010315",XmlDsigC14NWithCommentsTransform:"http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments",XmlDsigEnvelopedSignatureTransform:"http://www.w3.org/2000/09/xmldsig#enveloped-signature",XmlDsigXPathTransform:"http://www.w3.org/TR/1999/REC-xpath-19991116",XmlDsigXsltTransform:"http://www.w3.org/TR/1999/REC-xslt-19991116",XmlDsigExcC14NTransform:"http://www.w3.org/2001/10/xml-exc-c14n#",XmlDsigExcC14NWithCommentsTransform:"http://www.w3.org/2001/10/xml-exc-c14n#WithComments",XmlDecryptionTransform:"http://www.w3.org/2002/07/decrypt#XML",XmlLicenseTransform:"urn:mpeg:mpeg21:2003:01-REL-R-NS:licenseTransform"},Uri:{Manifest:"http://www.w3.org/2000/09/xmldsig#Manifest"},NamespaceURI:"http://www.w3.org/2000/09/xmldsig#",NamespaceURIMore:"http://www.w3.org/2007/05/xmldsig-more#",NamespaceURIPss:"http://www.example.org/xmldsig-pss/#"};let XmlSignatureObject=class e extends XmlObject{};XmlSignatureObject=__decorate([XmlElement({localName:"xmldsig",namespaceURI:XmlSignature.NamespaceURI,prefix:XmlSignature.DefaultPrefix})],XmlSignatureObject);let XmlSignatureCollection=class e extends XmlCollection{};XmlSignatureCollection=__decorate([XmlElement({localName:"xmldsig_collection",namespaceURI:XmlSignature.NamespaceURI,prefix:XmlSignature.DefaultPrefix})],XmlSignatureCollection);class KeyInfoClause extends XmlSignatureObject{}let CanonicalizationMethod=class e extends XmlSignatureObject{};__decorate([XmlAttribute({localName:XmlSignature.AttributeNames.Algorithm,required:true,defaultValue:XmlSignature.DefaultCanonMethod})],CanonicalizationMethod.prototype,"Algorithm",void 0);CanonicalizationMethod=__decorate([XmlElement({localName:XmlSignature.ElementNames.CanonicalizationMethod})],CanonicalizationMethod);let DataObject=class e extends XmlSignatureObject{};__decorate([XmlAttribute({localName:XmlSignature.AttributeNames.Id,defaultValue:""})],DataObject.prototype,"Id",void 0);__decorate([XmlAttribute({localName:XmlSignature.AttributeNames.MimeType,defaultValue:""})],DataObject.prototype,"MimeType",void 0);__decorate([XmlAttribute({localName:XmlSignature.AttributeNames.Encoding,defaultValue:""})],DataObject.prototype,"Encoding",void 0);DataObject=__decorate([XmlElement({localName:XmlSignature.ElementNames.Object})],DataObject);let DataObjects=class e extends XmlSignatureCollection{};DataObjects=__decorate([XmlElement({localName:"xmldsig_objects",parser:DataObject})],DataObjects);let DigestMethod=class e extends XmlSignatureObject{constructor(e){super();if(e){this.Algorithm=e}}};__decorate([XmlAttribute({localName:XmlSignature.AttributeNames.Algorithm,required:true,defaultValue:XmlSignature.DefaultDigestMethod})],DigestMethod.prototype,"Algorithm",void 0);DigestMethod=__decorate([XmlElement({localName:XmlSignature.ElementNames.DigestMethod})],DigestMethod);let KeyInfo=class e extends XmlSignatureCollection{OnLoadXml(e){for(let t=0;t<e.childNodes.length;t++){const r=e.childNodes.item(t);if(r.nodeType!==XmlNodeType.Element){continue}let n=null;switch(r.localName){case XmlSignature.ElementNames.KeyValue:n=KeyValue;break;case XmlSignature.ElementNames.X509Data:n=KeyInfoX509Data;break;case XmlSignature.ElementNames.SPKIData:n=SPKIData;break}if(n){const e=new n;e.LoadXml(r);this.Add(e)}}}};__decorate([XmlAttribute({localName:XmlSignature.AttributeNames.Id,defaultValue:""})],KeyInfo.prototype,"Id",void 0);KeyInfo=__decorate([XmlElement({localName:XmlSignature.ElementNames.KeyInfo})],KeyInfo);let Transform=class e extends XmlSignatureObject{constructor(){super(...arguments);this.innerXml=null}GetOutput(){throw new XmlError(XE.METHOD_NOT_IMPLEMENTED)}LoadInnerXml(e){if(!e){throw new XmlError(XE.PARAM_REQUIRED,"node")}this.innerXml=e}GetInnerXml(){return this.innerXml}};__decorate([XmlAttribute({localName:XmlSignature.AttributeNames.Algorithm,defaultValue:""})],Transform.prototype,"Algorithm",void 0);__decorate([XmlChildElement({localName:XmlSignature.ElementNames.XPath,defaultValue:""})],Transform.prototype,"XPath",void 0);Transform=__decorate([XmlElement({localName:XmlSignature.ElementNames.Transform})],Transform);class XmlDsigBase64Transform extends Transform{constructor(){super(...arguments);this.Algorithm=XmlSignature.AlgorithmNamespaces.XmlDsigBase64Transform}GetOutput(){if(!this.innerXml){throw new XmlError(XE.PARAM_REQUIRED,"innerXml")}return Convert.FromString(this.innerXml.textContent||"","base64")}}class XmlDsigC14NTransform extends Transform{constructor(){super(...arguments);this.Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315";this.xmlCanonicalizer=new XmlCanonicalizer(false,false)}GetOutput(){if(!this.innerXml){throw new XmlError(XE.PARAM_REQUIRED,"innerXml")}return this.xmlCanonicalizer.Canonicalize(this.innerXml)}}class XmlDsigC14NWithCommentsTransform extends XmlDsigC14NTransform{constructor(){super(...arguments);this.Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments";this.xmlCanonicalizer=new XmlCanonicalizer(true,false)}}class XmlDsigEnvelopedSignatureTransform extends Transform{constructor(){super(...arguments);this.Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"}GetOutput(){var e;if(!this.innerXml){throw new XmlError(XE.PARAM_REQUIRED,"innerXml")}let t=this.innerXml.firstChild;const r=[];while(t){if(isElement(t)&&t.localName===XmlSignature.ElementNames.Signature&&t.namespaceURI===XmlSignature.NamespaceURI){r.push(t)}t=t.nextSibling}for(const t of r){(e=t.parentNode)===null||e===void 0?void 0:e.removeChild(t)}return this.innerXml}}class XmlDsigExcC14NTransform extends Transform{constructor(){super(...arguments);this.Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#";this.xmlCanonicalizer=new XmlCanonicalizer(false,true)}get InclusiveNamespacesPrefixList(){return this.xmlCanonicalizer.InclusiveNamespacesPrefixList}set InclusiveNamespacesPrefixList(e){this.xmlCanonicalizer.InclusiveNamespacesPrefixList=e}LoadXml(e){super.LoadXml(e);if(this.Element&&this.Element.childNodes){for(let e=0;e<this.Element.childNodes.length;e++){const t=this.Element.childNodes[e];if(t&&t.nodeType===1){switch(t.localName){case"InclusiveNamespaces":this.setInclusiveNamespacesElement(t);break}}}}}GetOutput(){if(!this.innerXml){throw new XmlError(XE.PARAM_REQUIRED,"innerXml")}return this.xmlCanonicalizer.Canonicalize(this.innerXml)}setInclusiveNamespacesElement(e){const t=e.getAttribute("PrefixList");if(t&&t.length>0){this.xmlCanonicalizer.InclusiveNamespacesPrefixList=t}}}class XmlDsigExcC14NWithCommentsTransform extends XmlDsigExcC14NTransform{constructor(){super(...arguments);this.Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#WithComments";this.xmlCanonicalizer=new XmlCanonicalizer(true,true)}}function lookupParentNode(e){return e.parentNode?lookupParentNode(e.parentNode):e}class XmlDsigXPathTransform extends Transform{constructor(){super(...arguments);this.Algorithm=XmlSignature.AlgorithmNamespaces.XmlDsigXPathTransform}GetOutput(){if(!this.innerXml){throw new XmlError(XE.PARAM_REQUIRED,"innerXml")}this.Filter(lookupParentNode(this.innerXml),this.XPath)}Filter(e,t){const r=e.childNodes;const n=[];for(let e=0;r&&e<r.length;e++){const t=r.item(e);n.push(t)}n.forEach((e=>{if(this.Evaluate(e,t)){if(e.parentNode){e.parentNode.removeChild(e)}}else{this.Filter(e,t)}}))}GetEvaluator(e){if(typeof self!=="undefined"){return e.ownerDocument==null?e:e.ownerDocument}else{return require("xpath")}}Evaluate(e,t){try{const r=this.GetEvaluator(e);const n=this.GetXml().firstChild;const i=`boolean(${t})`;const s=r.evaluate(i,e,{lookupNamespaceURI:e=>n.lookupNamespaceURI(e)},(typeof self==="undefined"?require("xpath"):self).XPathResult.ANY_TYPE,null);return!s.booleanValue}catch(e){return false}}}__decorate([XmlChildElement({localName:XmlSignature.ElementNames.XPath,namespaceURI:XmlSignature.NamespaceURI,prefix:XmlSignature.DefaultPrefix,required:true})],XmlDsigXPathTransform.prototype,"XPath",void 0);let Transforms=class e extends XmlSignatureCollection{OnLoadXml(e){super.OnLoadXml(e);this.items=this.GetIterator().map((e=>{switch(e.Algorithm){case XmlSignature.AlgorithmNamespaces.XmlDsigEnvelopedSignatureTransform:return ChangeTransform(e,XmlDsigEnvelopedSignatureTransform);case XmlSignature.AlgorithmNamespaces.XmlDsigC14NTransform:return ChangeTransform(e,XmlDsigC14NTransform);case XmlSignature.AlgorithmNamespaces.XmlDsigC14NWithCommentsTransform:return ChangeTransform(e,XmlDsigC14NWithCommentsTransform);case XmlSignature.AlgorithmNamespaces.XmlDsigExcC14NTransform:return ChangeTransform(e,XmlDsigExcC14NTransform);case XmlSignature.AlgorithmNamespaces.XmlDsigExcC14NWithCommentsTransform:return ChangeTransform(e,XmlDsigExcC14NWithCommentsTransform);case XmlSignature.AlgorithmNamespaces.XmlDsigBase64Transform:return ChangeTransform(e,XmlDsigBase64Transform);case XmlSignature.AlgorithmNamespaces.XmlDsigXPathTransform:return ChangeTransform(e,XmlDsigXPathTransform);default:throw new XmlError(XE.CRYPTOGRAPHIC_UNKNOWN_TRANSFORM,e.Algorithm)}}))}};Transforms=__decorate([XmlElement({localName:XmlSignature.ElementNames.Transforms,parser:Transform})],Transforms);function ChangeTransform(e,t){const r=new t;r.LoadXml(e.Element);return r}let Reference=class e extends XmlSignatureObject{constructor(e){super();this.DigestMethod=new DigestMethod;if(e){this.Uri=e}}};__decorate([XmlAttribute({defaultValue:""})],Reference.prototype,"Id",void 0);__decorate([XmlAttribute({localName:XmlSignature.AttributeNames.URI})],Reference.prototype,"Uri",void 0);__decorate([XmlAttribute({localName:XmlSignature.AttributeNames.Type,defaultValue:""})],Reference.prototype,"Type",void 0);__decorate([XmlChildElement({parser:Transforms})],Reference.prototype,"Transforms",void 0);__decorate([XmlChildElement({required:true,parser:DigestMethod})],Reference.prototype,"DigestMethod",void 0);__decorate([XmlChildElement({required:true,localName:XmlSignature.ElementNames.DigestValue,namespaceURI:XmlSignature.NamespaceURI,prefix:XmlSignature.DefaultPrefix,converter:XmlBase64Converter})],Reference.prototype,"DigestValue",void 0);Reference=__decorate([XmlElement({localName:XmlSignature.ElementNames.Reference})],Reference);let References=class e extends XmlSignatureCollection{};References=__decorate([XmlElement({localName:"References",parser:Reference})],References);let SignatureMethodOther=class e extends XmlSignatureCollection{OnLoadXml(e){for(let t=0;t<e.childNodes.length;t++){const r=e.childNodes.item(t);if(r.nodeType!==XmlNodeType.Element||r.nodeName===XmlSignature.ElementNames.HMACOutputLength){continue}let n;switch(r.localName){case XmlSignature.ElementNames.RSAPSSParams:n=PssAlgorithmParams;break}if(n){const e=new n;e.LoadXml(r);this.Add(e)}}}};SignatureMethodOther=__decorate([XmlElement({localName:"Other"})],SignatureMethodOther);let SignatureMethod=class e extends XmlSignatureObject{};__decorate([XmlAttribute({localName:XmlSignature.AttributeNames.Algorithm,required:true,defaultValue:""})],SignatureMethod.prototype,"Algorithm",void 0);__decorate([XmlChildElement({localName:XmlSignature.ElementNames.HMACOutputLength,namespaceURI:XmlSignature.NamespaceURI,prefix:XmlSignature.DefaultPrefix,converter:XmlNumberConverter})],SignatureMethod.prototype,"HMACOutputLength",void 0);__decorate([XmlChildElement({parser:SignatureMethodOther,noRoot:true,minOccurs:0})],SignatureMethod.prototype,"Any",void 0);SignatureMethod=__decorate([XmlElement({localName:XmlSignature.ElementNames.SignatureMethod})],SignatureMethod);let SignedInfo=class e extends XmlSignatureObject{};__decorate([XmlAttribute({localName:XmlSignature.AttributeNames.Id,defaultValue:""})],SignedInfo.prototype,"Id",void 0);__decorate([XmlChildElement({parser:CanonicalizationMethod,required:true})],SignedInfo.prototype,"CanonicalizationMethod",void 0);__decorate([XmlChildElement({parser:SignatureMethod,required:true})],SignedInfo.prototype,"SignatureMethod",void 0);__decorate([XmlChildElement({parser:References,minOccurs:1,noRoot:true})],SignedInfo.prototype,"References",void 0);SignedInfo=__decorate([XmlElement({localName:XmlSignature.ElementNames.SignedInfo})],SignedInfo);let Signature$3=class e extends XmlSignatureObject{};__decorate([XmlAttribute({localName:XmlSignature.AttributeNames.Id,defaultValue:""})],Signature$3.prototype,"Id",void 0);__decorate([XmlChildElement({parser:SignedInfo,required:true})],Signature$3.prototype,"SignedInfo",void 0);__decorate([XmlChildElement({localName:XmlSignature.ElementNames.SignatureValue,namespaceURI:XmlSignature.NamespaceURI,prefix:XmlSignature.DefaultPrefix,required:true,converter:XmlBase64Converter,defaultValue:null})],Signature$3.prototype,"SignatureValue",void 0);__decorate([XmlChildElement({parser:KeyInfo})],Signature$3.prototype,"KeyInfo",void 0);__decorate([XmlChildElement({parser:DataObjects,noRoot:true})],Signature$3.prototype,"ObjectList",void 0);Signature$3=__decorate([XmlElement({localName:XmlSignature.ElementNames.Signature})],Signature$3);const NAMESPACE_URI$1="http://www.w3.org/2001/04/xmldsig-more#";const PREFIX$1="ecdsa";let EcdsaPublicKey=class e extends XmlObject{};__decorate([XmlChildElement({localName:XmlSignature.ElementNames.X,namespaceURI:NAMESPACE_URI$1,prefix:PREFIX$1,required:true,converter:XmlBase64Converter})],EcdsaPublicKey.prototype,"X",void 0);__decorate([XmlChildElement({localName:XmlSignature.ElementNames.Y,namespaceURI:NAMESPACE_URI$1,prefix:PREFIX$1,required:true,converter:XmlBase64Converter})],EcdsaPublicKey.prototype,"Y",void 0);EcdsaPublicKey=__decorate([XmlElement({localName:XmlSignature.ElementNames.PublicKey,namespaceURI:NAMESPACE_URI$1,prefix:PREFIX$1})],EcdsaPublicKey);let NamedCurve=class e extends XmlObject{};__decorate([XmlAttribute({localName:XmlSignature.AttributeNames.URI,required:true})],NamedCurve.prototype,"Uri",void 0);NamedCurve=__decorate([XmlElement({localName:XmlSignature.ElementNames.NamedCurve,namespaceURI:NAMESPACE_URI$1,prefix:PREFIX$1})],NamedCurve);let DomainParameters=class e extends XmlObject{};__decorate([XmlChildElement({parser:NamedCurve})],DomainParameters.prototype,"NamedCurve",void 0);DomainParameters=__decorate([XmlElement({localName:XmlSignature.ElementNames.DomainParameters,namespaceURI:NAMESPACE_URI$1,prefix:PREFIX$1})],DomainParameters);let EcdsaKeyValue=class e extends KeyInfoClause{constructor(){super(...arguments);this.name=XmlSignature.ElementNames.ECDSAKeyValue;this.key=null;this.jwk=null;this.keyUsage=null}get NamedCurve(){return GetNamedCurveOid(this.DomainParameters.NamedCurve.Uri)}async importKey(e){if(e.algorithm.name.toUpperCase()!=="ECDSA"){throw new XmlError(XE.ALGORITHM_WRONG_NAME,e.algorithm.name)}const t=await Application.crypto.subtle.exportKey("jwk",e);this.key=e;this.jwk=t;this.PublicKey=new EcdsaPublicKey;this.PublicKey.X=Convert.FromString(t.x,"base64url");this.PublicKey.Y=Convert.FromString(t.y,"base64url");if(!this.DomainParameters){this.DomainParameters=new DomainParameters}if(!this.DomainParameters.NamedCurve){this.DomainParameters.NamedCurve=new NamedCurve}this.DomainParameters.NamedCurve.Uri=GetNamedCurveOid(t.crv);this.keyUsage=e.usages;return this}async exportKey(e){if(this.key){return this.key}const t=Convert.ToBase64Url(this.PublicKey.X);const r=Convert.ToBase64Url(this.PublicKey.Y);const n=GetNamedCurveFromOid(this.DomainParameters.NamedCurve.Uri);const i={kty:"EC",crv:n,x:t,y:r,ext:true};this.keyUsage=["verify"];const s=await Application.crypto.subtle.importKey("jwk",i,{name:"ECDSA",namedCurve:n},true,this.keyUsage);this.key=s;return this.key}};__decorate([XmlChildElement({parser:DomainParameters})],EcdsaKeyValue.prototype,"DomainParameters",void 0);__decorate([XmlChildElement({parser:EcdsaPublicKey,required:true})],EcdsaKeyValue.prototype,"PublicKey",void 0);EcdsaKeyValue=__decorate([XmlElement({localName:XmlSignature.ElementNames.ECDSAKeyValue,namespaceURI:NAMESPACE_URI$1,prefix:PREFIX$1})],EcdsaKeyValue);function GetNamedCurveOid(e){switch(e){case"K-256":return"urn:oid:1.3.132.0.10";case"P-256":return"urn:oid:1.2.840.10045.3.1.7";case"P-384":return"urn:oid:1.3.132.0.34";case"P-521":return"urn:oid:1.3.132.0.35"}throw new XmlError(XE.CRYPTOGRAPHIC,"Unknown NamedCurve")}function GetNamedCurveFromOid(e){switch(e){case"urn:oid:1.3.132.0.10":return"K-256";case"urn:oid:1.2.840.10045.3.1.7":return"P-256";case"urn:oid:1.3.132.0.34":return"P-384";case"urn:oid:1.3.132.0.35":return"P-521"}throw new XmlError(XE.CRYPTOGRAPHIC,"Unknown NamedCurve OID")}var PssAlgorithmParams_1;const DEFAULT_ALGORITHM={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};let RsaKeyValue=class e extends KeyInfoClause{constructor(){super(...arguments);this.key=null;this.jwk=null;this.keyUsage=[]}async importKey(e){const t=e.algorithm.name.toUpperCase();if(t!==RSA_PKCS1.toUpperCase()&&t!==RSA_PSS$1.toUpperCase()){throw new XmlError(XE.ALGORITHM_WRONG_NAME,e.algorithm.name)}this.key=e;const r=await Application.crypto.subtle.exportKey("jwk",e);this.jwk=r;this.Modulus=Convert.FromBase64Url(r.n);this.Exponent=Convert.FromBase64Url(r.e);this.keyUsage=e.usages;return this}async exportKey(e=DEFAULT_ALGORITHM){if(this.key){return this.key}if(!this.Modulus){throw new XmlError(XE.CRYPTOGRAPHIC,"RsaKeyValue has no Modulus")}const t=Convert.ToBase64Url(this.Modulus);if(!this.Exponent){throw new XmlError(XE.CRYPTOGRAPHIC,"RsaKeyValue has no Exponent")}const r=Convert.ToBase64Url(this.Exponent);let n;switch(e.name.toUpperCase()){case RSA_PKCS1.toUpperCase():n="R";break;case RSA_PSS$1.toUpperCase():n="P";break;default:throw new XmlError(XE.ALGORITHM_NOT_SUPPORTED,e.name)}switch(e.hash.name.toUpperCase()){case SHA1$1:n+="S1";break;case SHA256$1:n+="S256";break;case SHA384$1:n+="S384";break;case SHA512$1:n+="S512";break}const i={kty:"RSA",alg:n,n:t,e:r,ext:true};return Application.crypto.subtle.importKey("jwk",i,e,true,this.keyUsage)}LoadXml(e){super.LoadXml(e);this.keyUsage=["verify"]}};__decorate([XmlChildElement({localName:XmlSignature.ElementNames.Modulus,prefix:XmlSignature.DefaultPrefix,namespaceURI:XmlSignature.NamespaceURI,required:true,converter:XmlBase64Converter})],RsaKeyValue.prototype,"Modulus",void 0);__decorate([XmlChildElement({localName:XmlSignature.ElementNames.Exponent,prefix:XmlSignature.DefaultPrefix,namespaceURI:XmlSignature.NamespaceURI,required:true,converter:XmlBase64Converter})],RsaKeyValue.prototype,"Exponent",void 0);RsaKeyValue=__decorate([XmlElement({localName:XmlSignature.ElementNames.RSAKeyValue})],RsaKeyValue);const NAMESPACE_URI="http://www.w3.org/2007/05/xmldsig-more#";const PREFIX="pss";let MaskGenerationFunction=class e extends XmlObject{};__decorate([XmlChildElement({parser:DigestMethod})],MaskGenerationFunction.prototype,"DigestMethod",void 0);__decorate([XmlAttribute({localName:XmlSignature.AttributeNames.Algorithm,defaultValue:"http://www.w3.org/2007/05/xmldsig-more#MGF1"})],MaskGenerationFunction.prototype,"Algorithm",void 0);MaskGenerationFunction=__decorate([XmlElement({localName:XmlSignature.ElementNames.MaskGenerationFunction,prefix:PREFIX,namespaceURI:NAMESPACE_URI})],MaskGenerationFunction);let PssAlgorithmParams=PssAlgorithmParams_1=class e extends XmlObject{static FromAlgorithm(e){return new PssAlgorithmParams_1(e)}constructor(e){super();if(e){this.FromAlgorithm(e)}}FromAlgorithm(e){this.DigestMethod=new DigestMethod;const t=CryptoConfig.GetHashAlgorithm(e.hash);this.DigestMethod.Algorithm=t.namespaceURI;if(e.saltLength){this.SaltLength=e.saltLength}}};__decorate([XmlChildElement({parser:DigestMethod})],PssAlgorithmParams.prototype,"DigestMethod",void 0);__decorate([XmlChildElement({parser:MaskGenerationFunction})],PssAlgorithmParams.prototype,"MGF",void 0);__decorate([XmlChildElement({converter:XmlNumberConverter,prefix:PREFIX,namespaceURI:NAMESPACE_URI})],PssAlgorithmParams.prototype,"SaltLength",void 0);__decorate([XmlChildElement({converter:XmlNumberConverter})],PssAlgorithmParams.prototype,"TrailerField",void 0);PssAlgorithmParams=PssAlgorithmParams_1=__decorate([XmlElement({localName:XmlSignature.ElementNames.RSAPSSParams,prefix:PREFIX,namespaceURI:NAMESPACE_URI})],PssAlgorithmParams);let KeyValue=class e extends KeyInfoClause{set Value(e){this.element=null;this.value=e}get Value(){return this.value}constructor(e){super();if(e){this.Value=e}}async importKey(e){switch(e.algorithm.name.toUpperCase()){case RSA_PSS$1.toUpperCase():case RSA_PKCS1.toUpperCase():this.Value=new RsaKeyValue;await this.Value.importKey(e);break;case ECDSA$1.toUpperCase():this.Value=new EcdsaKeyValue;await this.Value.importKey(e);break;default:throw new XmlError(XE.ALGORITHM_NOT_SUPPORTED,e.algorithm.name)}return this}async exportKey(e){if(!this.Value){throw new XmlError(XE.NULL_REFERENCE)}return this.Value.exportKey(e)}OnGetXml(e){if(!this.Value){throw new XmlError(XE.CRYPTOGRAPHIC,"KeyValue has empty value")}const t=this.Value.GetXml();if(t){e.appendChild(t)}}OnLoadXml(e){const t=[RsaKeyValue,EcdsaKeyValue];for(const r of t){try{const t=new r;for(let r=0;r<e.childNodes.length;r++){const n=e.childNodes.item(r);if(!isElement(n)){continue}t.LoadXml(n);this.value=t;return}}catch(e){}}throw new XmlError(XE.CRYPTOGRAPHIC,"Unsupported KeyValue in use")}};KeyValue=__decorate([XmlElement({localName:XmlSignature.ElementNames.KeyValue})],KeyValue);const OID={"2.5.4.3":{short:"CN",long:"CommonName"},"2.5.4.6":{short:"C",long:"Country"},"2.5.4.5":{long:"DeviceSerialNumber"},"0.9.2342.19200300.100.1.25":{short:"DC",long:"DomainComponent"},"1.2.840.113549.1.9.1":{short:"E",long:"EMail"},"2.5.4.42":{short:"G",long:"GivenName"},"2.5.4.43":{short:"I",long:"Initials"},"2.5.4.7":{short:"L",long:"Locality"},"2.5.4.10":{short:"O",long:"Organization"},"2.5.4.11":{short:"OU",long:"OrganizationUnit"},"2.5.4.8":{short:"ST",long:"State"},"2.5.4.9":{short:"Street",long:"StreetAddress"},"2.5.4.4":{short:"SN",long:"SurName"},"2.5.4.12":{short:"T",long:"Title"},"1.2.840.113549.1.9.8":{long:"UnstructuredAddress"},"1.2.840.113549.1.9.2":{long:"UnstructuredName"}};class X509Certificate$1{constructor(e){this.publicKey=null;if(e){const t=new Uint8Array(e);this.LoadRaw(t);this.raw=t}}get SerialNumber(){return this.simpl.serialNumber.valueBlock.toString()}get Issuer(){return this.NameToString(this.simpl.issuer)}get Subject(){return this.NameToString(this.simpl.subject)}async Thumbprint(e="SHA-1"){return Application.crypto.subtle.digest(e,this.raw)}get PublicKey(){return this.publicKey}GetRaw(){return this.raw}async exportKey(e){if(e){const t={algorithm:e,usages:["verify"]};if(t.algorithm.name.toUpperCase()===ECDSA$1){const e=this.simpl.subjectPublicKeyInfo.toJSON();if("crv"in e&&e.crv){t.algorithm.namedCurve=e.crv}else{throw new Error("Cannot get Curved name from the ECDSA public key")}}if(this.isHashedAlgorithm(t.algorithm)){if(typeof t.algorithm.hash==="string"){t.algorithm.hash={name:t.algorithm.hash}}}const r=await this.simpl.getPublicKey({algorithm:t});this.publicKey=r;return r}if(this.simpl.subjectPublicKeyInfo.algorithm.algorithmId==="1.2.840.113549.1.1.1"){this.publicKey=await this.simpl.getPublicKey({algorithm:{algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]}})}else{this.publicKey=await this.simpl.getPublicKey()}return this.publicKey}NameToString(e,t=","){const r=[];e.typesAndValues.forEach((e=>{const t=e.type;const n=OID[t.toString()];const i=n?n.short:null;r.push(`${i?i:t}=${e.value.valueBlock.value}`)}));return r.join(t+" ")}LoadRaw(e){this.raw=new Uint8Array(e);const t=fromBER(this.raw.buffer);this.simpl=new Certificate$1({schema:t.result})}isHashedAlgorithm(e){return!!e["hash"]}}let X509IssuerSerial=class e extends XmlSignatureObject{};__decorate([XmlChildElement({localName:XmlSignature.ElementNames.X509IssuerName,namespaceURI:XmlSignature.NamespaceURI,prefix:XmlSignature.DefaultPrefix,required:true})],X509IssuerSerial.prototype,"X509IssuerName",void 0);__decorate([XmlChildElement({localName:XmlSignature.ElementNames.X509SerialNumber,namespaceURI:XmlSignature.NamespaceURI,prefix:XmlSignature.DefaultPrefix,required:true})],X509IssuerSerial.prototype,"X509SerialNumber",void 0);X509IssuerSerial=__decorate([XmlElement({localName:XmlSignature.ElementNames.X509IssuerSerial})],X509IssuerSerial);var X509IncludeOption;(function(e){e[e["None"]=0]="None";e[e["EndCertOnly"]=1]="EndCertOnly";e[e["ExcludeRoot"]=2]="ExcludeRoot";e[e["WholeChain"]=3]="WholeChain"})(X509IncludeOption||(X509IncludeOption={}));let KeyInfoX509Data=class e extends KeyInfoClause{constructor(e,t=X509IncludeOption.None){super();this.x509crl=null;this.SubjectKeyIdList=[];if(e){if(e instanceof Uint8Array){this.AddCertificate(new X509Certificate$1(e))}else if(e instanceof X509Certificate$1){switch(t){case X509IncludeOption.None:case X509IncludeOption.EndCertOnly:this.AddCertificate(e);break;case X509IncludeOption.ExcludeRoot:this.AddCertificatesChainFrom(e,false);break;case X509IncludeOption.WholeChain:this.AddCertificatesChainFrom(e,true);break}}}}async importKey(e){throw new XmlError(XE.METHOD_NOT_SUPPORTED)}async exportKey(e){if(!this.Certificates.length){throw new XmlError(XE.NULL_REFERENCE)}this.Key=await this.Certificates[0].exportKey(e);return this.Key}get Certificates(){return this.X509CertificateList}get CRL(){return this.x509crl}set CRL(e){this.x509crl=e}get IssuerSerials(){return this.IssuerSerialList}get SubjectKeyIds(){return this.SubjectKeyIdList}get SubjectNames(){return this.SubjectNameList}AddCertificate(e){if(!e){throw new XmlError(XE.PARAM_REQUIRED,"certificate")}if(!this.X509CertificateList){this.X509CertificateList=[]}this.X509CertificateList.push(e)}AddIssuerSerial(e,t){if(e==null){throw new XmlError(XE.PARAM_REQUIRED,"issuerName")}if(this.IssuerSerialList==null){this.IssuerSerialList=[]}const r={issuerName:e,serialNumber:t};this.IssuerSerialList.push(r)}AddSubjectKeyId(e){if(this.SubjectKeyIdList){this.SubjectKeyIdList=[]}if(typeof e==="string"){if(e!=null){let t;t=Convert.FromBase64(e);this.SubjectKeyIdList.push(t)}}else{this.SubjectKeyIdList.push(e)}}AddSubjectName(e){if(this.SubjectNameList==null){this.SubjectNameList=[]}this.SubjectNameList.push(e)}GetXml(){const e=this.CreateDocument();const t=this.CreateElement(e);const r=this.GetPrefix();if(this.IssuerSerialList!=null&&this.IssuerSerialList.length>0){this.IssuerSerialList.forEach((n=>{const i=e.createElementNS(XmlSignature.NamespaceURI,r+XmlSignature.ElementNames.X509IssuerSerial);const s=e.createElementNS(XmlSignature.NamespaceURI,r+XmlSignature.ElementNames.X509IssuerName);s.textContent=n.issuerName;i.appendChild(s);const f=e.createElementNS(XmlSignature.NamespaceURI,r+XmlSignature.ElementNames.X509SerialNumber);f.textContent=n.serialNumber;i.appendChild(f);t.appendChild(i)}))}if(this.SubjectKeyIdList!=null&&this.SubjectKeyIdList.length>0){this.SubjectKeyIdList.forEach((n=>{const i=e.createElementNS(XmlSignature.NamespaceURI,r+XmlSignature.ElementNames.X509SKI);i.textContent=Convert.ToBase64(n);t.appendChild(i)}))}if(this.SubjectNameList!=null&&this.SubjectNameList.length>0){this.SubjectNameList.forEach((n=>{const i=e.createElementNS(XmlSignature.NamespaceURI,r+XmlSignature.ElementNames.X509SubjectName);i.textContent=n;t.appendChild(i)}))}if(this.X509CertificateList!=null&&this.X509CertificateList.length>0){this.X509CertificateList.forEach((n=>{const i=e.createElementNS(XmlSignature.NamespaceURI,r+XmlSignature.ElementNames.X509Certificate);i.textContent=Convert.ToBase64(n.GetRaw());t.appendChild(i)}))}if(this.x509crl!=null){const n=e.createElementNS(XmlSignature.NamespaceURI,r+XmlSignature.ElementNames.X509CRL);n.textContent=Convert.ToBase64(this.x509crl);t.appendChild(n)}return t}LoadXml(e){super.LoadXml(e);if(this.IssuerSerialList){this.IssuerSerialList=[]}if(this.SubjectKeyIdList){this.SubjectKeyIdList=[]}if(this.SubjectNameList){this.SubjectNameList=[]}if(this.X509CertificateList){this.X509CertificateList=[]}this.x509crl=null;let t=this.GetChildren(XmlSignature.ElementNames.X509IssuerSerial);if(t){t.forEach((e=>{const t=XmlSignatureObject.GetChild(e,XmlSignature.ElementNames.X509IssuerName,XmlSignature.NamespaceURI,true);const r=XmlSignatureObject.GetChild(e,XmlSignature.ElementNames.X509SerialNumber,XmlSignature.NamespaceURI,true);if(t&&t.textContent&&r&&r.textContent){this.AddIssuerSerial(t.textContent,r.textContent)}}))}t=this.GetChildren(XmlSignature.ElementNames.X509SKI);if(t){t.forEach((e=>{if(e.textContent){const t=Convert.FromBase64(e.textContent);this.AddSubjectKeyId(t)}}))}t=this.GetChildren(XmlSignature.ElementNames.X509SubjectName);if(t!=null){t.forEach((e=>{if(e.textContent){this.AddSubjectName(e.textContent)}}))}t=this.GetChildren(XmlSignature.ElementNames.X509Certificate);if(t){t.forEach((e=>{if(e.textContent){const t=Convert.FromBase64(e.textContent);this.AddCertificate(new X509Certificate$1(t))}}))}const r=this.GetChild(XmlSignature.ElementNames.X509CRL,false);if(r&&r.textContent){this.x509crl=Convert.FromBase64(r.textContent)}}AddCertificatesChainFrom(e,t){throw new XmlError(XE.METHOD_NOT_IMPLEMENTED)}};KeyInfoX509Data=__decorate([XmlElement({localName:XmlSignature.ElementNames.X509Data})],KeyInfoX509Data);let SPKIData=class e extends KeyInfoClause{async importKey(e){const t=await Application.crypto.subtle.exportKey("spki",e);this.SPKIexp=new Uint8Array(t);this.Key=e;return this}async exportKey(e){const t=await Application.crypto.subtle.importKey("spki",this.SPKIexp,e,true,["verify"]);this.Key=t;return t}};__decorate([XmlChildElement({localName:XmlSignature.ElementNames.SPKIexp,namespaceURI:XmlSignature.NamespaceURI,prefix:XmlSignature.DefaultPrefix,required:true,converter:XmlBase64Converter})],SPKIData.prototype,"SPKIexp",void 0);SPKIData=__decorate([XmlElement({localName:XmlSignature.ElementNames.SPKIData})],SPKIData);const SignatureAlgorithms={};SignatureAlgorithms[RSA_PKCS1_SHA1_NAMESPACE]=RsaPkcs1Sha1;SignatureAlgorithms[RSA_PKCS1_SHA256_NAMESPACE]=RsaPkcs1Sha256;SignatureAlgorithms[RSA_PKCS1_SHA384_NAMESPACE]=RsaPkcs1Sha384;SignatureAlgorithms[RSA_PKCS1_SHA512_NAMESPACE]=RsaPkcs1Sha512;SignatureAlgorithms[ECDSA_SHA1_NAMESPACE]=EcdsaSha1;SignatureAlgorithms[ECDSA_SHA256_NAMESPACE]=EcdsaSha256;SignatureAlgorithms[ECDSA_SHA384_NAMESPACE]=EcdsaSha384;SignatureAlgorithms[ECDSA_SHA512_NAMESPACE]=EcdsaSha512;SignatureAlgorithms[HMAC_SHA1_NAMESPACE]=HmacSha1$1;SignatureAlgorithms[HMAC_SHA256_NAMESPACE]=HmacSha256$1;SignatureAlgorithms[HMAC_SHA384_NAMESPACE]=HmacSha384;SignatureAlgorithms[HMAC_SHA512_NAMESPACE]=HmacSha512$1;SignatureAlgorithms[RSA_PSS_SHA1_NAMESPACE]=RsaPssWithoutParamsSha1;SignatureAlgorithms[RSA_PSS_SHA256_NAMESPACE]=RsaPssWithoutParamsSha256;SignatureAlgorithms[RSA_PSS_SHA384_NAMESPACE]=RsaPssWithoutParamsSha384;SignatureAlgorithms[RSA_PSS_SHA512_NAMESPACE]=RsaPssWithoutParamsSha512;const HashAlgorithms={};HashAlgorithms[SHA1_NAMESPACE]=Sha1$1;HashAlgorithms[SHA256_NAMESPACE]=Sha256$1;HashAlgorithms[SHA384_NAMESPACE]=Sha384;HashAlgorithms[SHA512_NAMESPACE]=Sha512$1;class CryptoConfig{static CreateFromName(e){let t;switch(e){case XmlSignature.AlgorithmNamespaces.XmlDsigBase64Transform:t=new XmlDsigBase64Transform;break;case XmlSignature.AlgorithmNamespaces.XmlDsigC14NTransform:t=new XmlDsigC14NTransform;break;case XmlSignature.AlgorithmNamespaces.XmlDsigC14NWithCommentsTransform:t=new XmlDsigC14NWithCommentsTransform;break;case XmlSignature.AlgorithmNamespaces.XmlDsigEnvelopedSignatureTransform:t=new XmlDsigEnvelopedSignatureTransform;break;case XmlSignature.AlgorithmNamespaces.XmlDsigXPathTransform:throw new XmlError(XE.ALGORITHM_NOT_SUPPORTED,e);case XmlSignature.AlgorithmNamespaces.XmlDsigXsltTransform:throw new XmlError(XE.ALGORITHM_NOT_SUPPORTED,e);case XmlSignature.AlgorithmNamespaces.XmlDsigExcC14NTransform:t=new XmlDsigExcC14NTransform;break;case XmlSignature.AlgorithmNamespaces.XmlDsigExcC14NWithCommentsTransform:t=new XmlDsigExcC14NWithCommentsTransform;break;case XmlSignature.AlgorithmNamespaces.XmlDecryptionTransform:throw new XmlError(XE.ALGORITHM_NOT_SUPPORTED,e);default:throw new XmlError(XE.ALGORITHM_NOT_SUPPORTED,e)}return t}static CreateSignatureAlgorithm(e){const t=SignatureAlgorithms[e.Algorithm]||null;if(t){return new t}else if(e.Algorithm===RSA_PSS_WITH_PARAMS_NAMESPACE){let t;e.Any.Some((e=>{if(e instanceof PssAlgorithmParams){t=e}return!!t}));if(t){switch(t.DigestMethod.Algorithm){case SHA1_NAMESPACE:return new RsaPssSha1(t.SaltLength);case SHA256_NAMESPACE:return new RsaPssSha256(t.SaltLength);case SHA384_NAMESPACE:return new RsaPssSha384(t.SaltLength);case SHA512_NAMESPACE:return new RsaPssSha512(t.SaltLength)}}throw new XmlError(XE.CRYPTOGRAPHIC,`Cannot get params for RSA-PSS algoriithm`)}throw new Error(`signature algorithm '${e.Algorithm}' is not supported`)}static CreateHashAlgorithm(e){const t=HashAlgorithms[e];if(t){return new t}else{throw new Error("hash algorithm '"+e+"' is not supported")}}static GetHashAlgorithm(e){const t=typeof e==="string"?{name:e}:e;switch(t.name.toUpperCase()){case SHA1$1:return new Sha1$1;case SHA256$1:return new Sha256$1;case SHA384$1:return new Sha384;case SHA512$1:return new Sha512$1;default:throw new XmlError(XE.ALGORITHM_NOT_SUPPORTED,t.name)}}static GetSignatureAlgorithm(e){if(typeof e.hash==="string"){e.hash={name:e.hash}}const t=e.hash.name;if(!t){throw new Error("Signing algorithm doesn't have name for hash")}let r;switch(e.name.toUpperCase()){case RSA_PKCS1.toUpperCase():switch(t.toUpperCase()){case SHA1$1:r=new RsaPkcs1Sha1;break;case SHA256$1:r=new RsaPkcs1Sha256;break;case SHA384$1:r=new RsaPkcs1Sha384;break;case SHA512$1:r=new RsaPkcs1Sha512;break;default:throw new XmlError(XE.ALGORITHM_NOT_SUPPORTED,`${e.name}:${t}`)}break;case RSA_PSS$1.toUpperCase():const n=e.saltLength;switch(t.toUpperCase()){case SHA1$1:r=n?new RsaPssSha1(n):new RsaPssWithoutParamsSha1;break;case SHA256$1:r=n?new RsaPssSha256(n):new RsaPssWithoutParamsSha256;break;case SHA384$1:r=n?new RsaPssSha384(n):new RsaPssWithoutParamsSha384;break;case SHA512$1:r=n?new RsaPssSha512(n):new RsaPssWithoutParamsSha512;break;default:throw new XmlError(XE.ALGORITHM_NOT_SUPPORTED,`${e.name}:${t}`)}e.saltLength=r.algorithm.saltLength;break;case ECDSA$1:switch(t.toUpperCase()){case SHA1$1:r=new EcdsaSha1;break;case SHA256$1:r=new EcdsaSha256;break;case SHA384$1:r=new EcdsaSha384;break;case SHA512$1:r=new EcdsaSha512;break;default:throw new XmlError(XE.ALGORITHM_NOT_SUPPORTED,`${e.name}:${t}`)}break;case HMAC:switch(t.toUpperCase()){case SHA1$1:r=new HmacSha1$1;break;case SHA256$1:r=new HmacSha256$1;break;case SHA384$1:r=new HmacSha384;break;case SHA512$1:r=new HmacSha512$1;break;default:throw new XmlError(XE.ALGORITHM_NOT_SUPPORTED,`${e.name}:${t}`)}break;default:throw new XmlError(XE.ALGORITHM_NOT_SUPPORTED,e.name)}return r}}class SignedXml{get XmlSignature(){return this.signature}get Signature(){return this.XmlSignature.SignatureValue}constructor(e){this.signature=new Signature$3;if(e&&e.nodeType===XmlNodeType.Document){this.document=e}else if(e&&e.nodeType===XmlNodeType.Element){const t=(new XMLSerializer).serializeToString(e);this.document=(new DOMParser).parseFromString(t,APPLICATION_XML)}}async Sign(e,t,r,n={}){if(isDocument(r)){r=r.cloneNode(true).documentElement}else if(isElement(r)){r=r.cloneNode(true)}let i;let s;const f=assign$2({},e);if(t.algorithm["hash"]){f.hash=t.algorithm["hash"]}i=CryptoConfig.GetSignatureAlgorithm(f);await this.ApplySignOptions(this.XmlSignature,e,t,n);s=this.XmlSignature.SignedInfo;await this.DigestReferences(r);s.SignatureMethod.Algorithm=i.namespaceURI;if(i instanceof RsaPssBase){const e=assign$2({},t.algorithm,f);if(typeof e.hash==="string"){e.hash={name:e.hash}}const r=new PssAlgorithmParams(e);this.XmlSignature.SignedInfo.SignatureMethod.Any.Add(r)}else if(HMAC.toUpperCase()===e.name.toUpperCase()){let e=0;const r=t.algorithm;switch(r.hash.name.toUpperCase()){case SHA1$1:e=r.length||160;break;case SHA256$1:e=r.length||256;break;case SHA384$1:e=r.length||384;break;case SHA512$1:e=r.length||512;break}this.XmlSignature.SignedInfo.SignatureMethod.HMACOutputLength=e}const a=this.TransformSignedInfo(r);const o=await i.Sign(a,t,f);this.Key=t;this.XmlSignature.SignatureValue=new Uint8Array(o);if(isElement(r)){this.document=r.ownerDocument}return this.XmlSignature}async Verify(e){let t;let r;if(e){if("algorithm"in e&&"usages"in e&&"type"in e){r=e}else{r=e.key;t=e.content}}if(!t){const e=this.document;if(!(e&&e.documentElement)){throw new XmlError(XE.NULL_PARAM,"SignedXml","document")}t=e.documentElement}if(isDocument(t)||isElement(t)){t=t.cloneNode(true)}const n=await this.ValidateReferences(t);if(n){const e=r?[r]:await this.GetPublicKeys();return this.ValidateSignatureValue(e)}else{return false}}GetXml(){return this.signature.GetXml()}LoadXml(e){this.signature=Signature$3.LoadXml(e)}toString(){const e=this.XmlSignature;const t=e.SignedInfo.References&&e.SignedInfo.References.Some((e=>e.Transforms&&e.Transforms.Some((e=>e instanceof XmlDsigEnvelopedSignatureTransform))));if(t){const e=this.document.documentElement.cloneNode(true);const t=this.XmlSignature.GetXml();if(!t){throw new XmlError(XE.XML_EXCEPTION,"Cannot get Xml element from Signature")}const r=t.cloneNode(true);e.appendChild(r);return(new XMLSerializer).serializeToString(e)}return this.XmlSignature.toString()}async GetPublicKeys(){const e=[];const t=CryptoConfig.CreateSignatureAlgorithm(this.XmlSignature.SignedInfo.SignatureMethod);for(const t of this.XmlSignature.KeyInfo.GetIterator()){if(t instanceof KeyInfoX509Data){for(const r of t.Certificates){const t=await r.exportKey();e.push(t)}}else{const r=await t.exportKey();e.push(r)}}if(t.algorithm.name.startsWith("RSA")){for(let r=0;r<e.length;r++){const n=e[r];if(n.algorithm.name.startsWith("RSA")){const i=await Application.crypto.subtle.exportKey("spki",n);const s=await Application.crypto.subtle.importKey("spki",i,t.algorithm,true,["verify"]);e[r]=s}}}return e}GetSignatureNamespaces(){const e={};if(this.XmlSignature.NamespaceURI){e[this.XmlSignature.Prefix||""]=this.XmlSignature.NamespaceURI}return e}CopyNamespaces(e,t,r){this.InjectNamespaces(SelectRootNamespaces(e),t,r)}InjectNamespaces(e,t,r){for(const n in e){const i=e[n];if(r&&n===""){continue}t.setAttribute("xmlns"+(n?":"+n:""),i)}}async DigestReference(e,t,r){if(this.contentHandler){const r=await this.contentHandler(t,this);if(r){e=isDocument(r)?r.documentElement:r}}if(t.Uri){let r;if(!t.Uri.indexOf("#xpointer")){let e=t.Uri;e=e.substring(9).replace(/[\r\n\t\s]/g,"");if(e.length<2||e[0]!==`(`||e[e.length-1]!==`)`){e=""}else{e=e.substring(1,e.length-1)}if(e.length>6&&e.indexOf(`id(`)===0&&e[e.length-1]===`)`){r=e.substring(4,e.length-2)}}else if(t.Uri[0]===`#`){r=t.Uri.substring(1)}if(r){let t=null;const n=[this.XmlSignature.KeyInfo.GetXml()];this.XmlSignature.ObjectList.ForEach((e=>{n.push(e.GetXml())}));for(const i of n){if(i){t=findById(i,r);if(t){const r=t.cloneNode(true);if(isElement(e)){this.CopyNamespaces(e,r,false)}if(this.Parent){const e=this.Parent instanceof XmlObject?this.Parent.GetXml():this.Parent;this.CopyNamespaces(e,r,true)}this.CopyNamespaces(t,r,false);this.InjectNamespaces(this.GetSignatureNamespaces(),r,true);e=r;break}}}if(!t&&(e&&isElement(e))){t=XmlObject.GetElementById(e,r);if(t){const r=t.cloneNode(true);this.CopyNamespaces(t,r,false);this.CopyNamespaces(e,r,false);e=r}}if(t==null){throw new XmlError(XE.CRYPTOGRAPHIC,`Cannot get object by reference: ${r}`)}}}let n=null;if(t.Transforms&&t.Transforms.Count){if(build.BufferSourceConverter.isBufferSource(e)){throw new Error("Transformation for argument 'source' of type BufferSource is not implemented")}n=this.ApplyTransforms(t.Transforms,e)}else{if(t.Uri&&t.Uri[0]!==`#`){if(isElement(e)){if(!e.ownerDocument){throw new Error("Cannot get ownerDocument from the XML document")}n=(new XMLSerializer).serializeToString(e.ownerDocument)}else{n=build.BufferSourceConverter.toArrayBuffer(e)}}else{const t=new XmlDsigC14NTransform;if(build.BufferSourceConverter.isBufferSource(e)){e=Parse(build.Convert.ToUtf8String(e)).documentElement}t.LoadInnerXml(e);n=t.GetOutput()}}if(!t.DigestMethod.Algorithm){throw new XmlError(XE.NULL_PARAM,"Reference","DigestMethod")}const i=CryptoConfig.CreateHashAlgorithm(t.DigestMethod.Algorithm);return i.Digest(n)}async DigestReferences(e){for(const t of this.XmlSignature.SignedInfo.References.GetIterator()){if(t.DigestValue){continue}if(!t.DigestMethod.Algorithm){t.DigestMethod.Algorithm=(new Sha256$1).namespaceURI}const r=await this.DigestReference(e,t,false);t.DigestValue=r}}TransformSignedInfo(e){const t=CryptoConfig.CreateFromName(this.XmlSignature.SignedInfo.CanonicalizationMethod.Algorithm);const r=this.XmlSignature.SignedInfo.GetXml();if(!r){throw new XmlError(XE.XML_EXCEPTION,"Cannot get Xml element from SignedInfo")}const n=r.cloneNode(true);this.CopyNamespaces(r,n,false);if(e&&!build.BufferSourceConverter.isBufferSource(e)){if(e.nodeType===XmlNodeType.Document){this.CopyNamespaces(e.documentElement,n,false)}else{this.CopyNamespaces(e,n,false)}}if(this.Parent){const e=this.Parent instanceof XmlObject?this.Parent.GetXml():this.Parent;if(e){this.CopyNamespaces(e,n,false)}}const i=SelectNamespaces(r);for(const e in i){const t=i[e];if(e===n.prefix){continue}n.setAttribute("xmlns"+(e?":"+e:""),t)}t.LoadInnerXml(n);const s=t.GetOutput();return s}ResolveTransform(e){if(typeof e==="string"){switch(e){case"enveloped":return new XmlDsigEnvelopedSignatureTransform;case"c14n":return new XmlDsigC14NTransform;case"c14n-com":return new XmlDsigC14NWithCommentsTransform;case"exc-c14n":return new XmlDsigExcC14NTransform;case"exc-c14n-com":return new XmlDsigExcC14NWithCommentsTransform;case"base64":return new XmlDsigBase64Transform;default:throw new XmlError(XE.CRYPTOGRAPHIC_UNKNOWN_TRANSFORM,e)}}switch(e.name){case"xpath":{const t=new XmlDsigXPathTransform;t.XPath=e.selector;const r=t.GetXml();if(r&&e.namespaces){for(const[t,n]of Object.entries(e.namespaces)){r.firstChild.setAttributeNS("http://www.w3.org/2000/xmlns/",`xmlns:${t}`,n)}}return t}default:throw new XmlError(XE.CRYPTOGRAPHIC_UNKNOWN_TRANSFORM,e.name)}}ApplyTransforms(e,t){let r=null;e.Sort(((e,t)=>{const r=[XmlDsigC14NTransform,XmlDsigC14NWithCommentsTransform,XmlDsigExcC14NTransform,XmlDsigExcC14NWithCommentsTransform];if(r.some((t=>e instanceof t))){return 1}if(r.some((e=>t instanceof e))){return-1}return 0})).ForEach((e=>{e.LoadInnerXml(t);if(e instanceof XmlDsigXPathTransform){e.GetOutput()}else{r=e.GetOutput()}}));if(e.Count===1&&e.Item(0)instanceof XmlDsigEnvelopedSignatureTransform){const e=new XmlDsigC14NTransform;e.LoadInnerXml(t);r=e.GetOutput()}return r}async ApplySignOptions(e,t,r,n){if(n.id){this.XmlSignature.Id=n.id}if(n.keyValue&&r.algorithm.name.toUpperCase()!==HMAC){if(!e.KeyInfo){e.KeyInfo=new KeyInfo}const t=e.KeyInfo;const r=new KeyValue;t.Add(r);await r.importKey(n.keyValue)}if(n.x509){if(!e.KeyInfo){e.KeyInfo=new KeyInfo}const t=e.KeyInfo;n.x509.forEach((e=>{const r=Convert.FromBase64(e);const n=new KeyInfoX509Data(r);t.Add(n)}))}if(n.references){n.references.forEach((t=>{const r=new Reference;if(t.id){r.Id=t.id}if(t.uri!==null&&t.uri!==undefined){r.Uri=t.uri}if(t.type){r.Type=t.type}const n=CryptoConfig.GetHashAlgorithm(t.hash);r.DigestMethod.Algorithm=n.namespaceURI;if(t.transforms&&t.transforms.length){const e=new Transforms;t.transforms.forEach((t=>{e.Add(this.ResolveTransform(t))}));r.Transforms=e}if(!e.SignedInfo.References){e.SignedInfo.References=new References}e.SignedInfo.References.Add(r)}))}if(!e.SignedInfo.References.Count){const t=new Reference;e.SignedInfo.References.Add(t)}}async ValidateReferences(e){for(const t of this.XmlSignature.SignedInfo.References.GetIterator()){const r=await this.DigestReference(e,t,false);const n=Convert.ToBase64(r);const i=Convert.ToString(t.DigestValue,"base64");if(n!==i){const e=`Invalid digest for uri '${t.Uri}'. Calculated digest is ${n} but the xml to validate supplies digest ${i}`;throw new XmlError(XE.CRYPTOGRAPHIC,e)}}return true}async ValidateSignatureValue(e){let t;let r;r=this.TransformSignedInfo(this.document);t=CryptoConfig.CreateSignatureAlgorithm(this.XmlSignature.SignedInfo.SignatureMethod);for(const n of e){const e=await t.Verify(r,n,this.Signature);if(e){return true}}return false}}function findById(e,t){if(e.nodeType!==XmlNodeType.Element){return null}if(e.hasAttribute("Id")&&e.getAttribute("Id")===t){return e}if(e.childNodes&&e.childNodes.length){for(let r=0;r<e.childNodes.length;r++){const n=findById(e.childNodes[r],t);if(n){return n}}}return null}function addNamespace(e,t,r){if(!(t in e)){e[t]=r}}function _SelectRootNamespaces(e,t={}){if(isElement(e)){if(e.namespaceURI&&e.namespaceURI!=="http://www.w3.org/XML/1998/namespace"){addNamespace(t,e.prefix?e.prefix:"",e.namespaceURI)}for(let r=0;r<e.attributes.length;r++){const n=e.attributes.item(r);if(n&&n.prefix==="xmlns"){addNamespace(t,n.localName?n.localName:"",n.value)}}if(e.parentNode){_SelectRootNamespaces(e.parentNode,t)}}}function SelectRootNamespaces(e){const t={};_SelectRootNamespaces(e,t);return t}
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Reflect$1;(function(e){(function(t){var r=typeof commonjsGlobal==="object"?commonjsGlobal:typeof self==="object"?self:typeof this==="object"?this:Function("return this;")();var n=i(e);if(typeof r.Reflect==="undefined"){r.Reflect=e}else{n=i(r.Reflect,n)}t(n);function i(e,t){return function(r,n){if(typeof e[r]!=="function"){Object.defineProperty(e,r,{configurable:true,writable:true,value:n})}if(t)t(r,n)}}})((function(e){var t=Object.prototype.hasOwnProperty;var r=typeof Symbol==="function";var n=r&&typeof Symbol.toPrimitive!=="undefined"?Symbol.toPrimitive:"@@toPrimitive";var i=r&&typeof Symbol.iterator!=="undefined"?Symbol.iterator:"@@iterator";var s=typeof Object.create==="function";var f={__proto__:[]}instanceof Array;var a=!s&&!f;var o={create:s?function(){return ie(Object.create(null))}:f?function(){return ie({__proto__:null})}:function(){return ie({})},has:a?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:a?function(e,r){return t.call(e,r)?e[r]:undefined}:function(e,t){return e[t]}};var c=Object.getPrototypeOf(Function);var u=typeof process==="object"&&process.env&&process.env["REFLECT_METADATA_USE_MAP_POLYFILL"]==="true";var l=!u&&typeof Map==="function"&&typeof Map.prototype.entries==="function"?Map:te();var h=!u&&typeof Set==="function"&&typeof Set.prototype.entries==="function"?Set:re();var d=!u&&typeof WeakMap==="function"?WeakMap:ne();var p=new d;function y(e,t,r,n){if(!D(r)){if(!V(e))throw new TypeError;if(!F(t))throw new TypeError;if(!F(n)&&!D(n)&&!O(n))throw new TypeError;if(O(n))n=undefined;r=G(r);return T(e,t,r,n)}else{if(!V(e))throw new TypeError;if(!W(t))throw new TypeError;return S(e,t)}}e("decorate",y);function b(e,t){function r(r,n){if(!F(r))throw new TypeError;if(!D(n)&&!z(n))throw new TypeError;M(e,t,r,n)}return r}e("metadata",b);function m(e,t,r,n){if(!F(r))throw new TypeError;if(!D(n))n=G(n);return M(e,t,r,n)}e("defineMetadata",m);function g(e,t,r){if(!F(t))throw new TypeError;if(!D(r))r=G(r);return P(e,t,r)}e("hasMetadata",g);function v(e,t,r){if(!F(t))throw new TypeError;if(!D(r))r=G(r);return x(e,t,r)}e("hasOwnMetadata",v);function w(e,t,r){if(!F(t))throw new TypeError;if(!D(r))r=G(r);return I(e,t,r)}e("getMetadata",w);function A(e,t,r){if(!F(t))throw new TypeError;if(!D(r))r=G(r);return k(e,t,r)}e("getOwnMetadata",A);function $(e,t){if(!F(e))throw new TypeError;if(!D(t))t=G(t);return B(e,t)}e("getMetadataKeys",$);function _(e,t){if(!F(e))throw new TypeError;if(!D(t))t=G(t);return R(e,t)}e("getOwnMetadataKeys",_);function E(e,t,r){if(!F(t))throw new TypeError;if(!D(r))r=G(r);var n=C(t,r,false);if(D(n))return false;if(!n.delete(e))return false;if(n.size>0)return true;var i=p.get(t);i.delete(r);if(i.size>0)return true;p.delete(t);return true}e("deleteMetadata",E);function S(e,t){for(var r=e.length-1;r>=0;--r){var n=e[r];var i=n(t);if(!D(i)&&!O(i)){if(!W(i))throw new TypeError;t=i}}return t}function T(e,t,r,n){for(var i=e.length-1;i>=0;--i){var s=e[i];var f=s(t,r,n);if(!D(f)&&!O(f)){if(!F(f))throw new TypeError;n=f}}return n}function C(e,t,r){var n=p.get(e);if(D(n)){if(!r)return undefined;n=new l;p.set(e,n)}var i=n.get(t);if(D(i)){if(!r)return undefined;i=new l;n.set(t,i)}return i}function P(e,t,r){var n=x(e,t,r);if(n)return true;var i=ee(t);if(!O(i))return P(e,i,r);return false}function x(e,t,r){var n=C(t,r,false);if(D(n))return false;return H(n.has(e))}function I(e,t,r){var n=x(e,t,r);if(n)return k(e,t,r);var i=ee(t);if(!O(i))return I(e,i,r);return undefined}function k(e,t,r){var n=C(t,r,false);if(D(n))return undefined;return n.get(e)}function M(e,t,r,n){var i=C(r,n,true);i.set(e,t)}function B(e,t){var r=R(e,t);var n=ee(e);if(n===null)return r;var i=B(n,t);if(i.length<=0)return r;if(r.length<=0)return i;var s=new h;var f=[];for(var a=0,o=r;a<o.length;a++){var c=o[a];var u=s.has(c);if(!u){s.add(c);f.push(c)}}for(var l=0,d=i;l<d.length;l++){var c=d[l];var u=s.has(c);if(!u){s.add(c);f.push(c)}}return f}function R(e,t){var r=[];var n=C(e,t,false);if(D(n))return r;var i=n.keys();var s=J(i);var f=0;while(true){var a=Q(s);if(!a){r.length=f;return r}var o=q(a);try{r[f]=o}catch(e){try{Z(s)}finally{throw e}}f++}}function N(e){if(e===null)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return e===null?1:6;default:return 6}}function D(e){return e===undefined}function O(e){return e===null}function U(e){return typeof e==="symbol"}function F(e){return typeof e==="object"?e!==null:typeof e==="function"}function L(e,t){switch(N(e)){case 0:return e;case 1:return e;case 2:return e;case 3:return e;case 4:return e;case 5:return e}var r=t===3?"string":t===5?"number":"default";var i=Y(e,n);if(i!==undefined){var s=i.call(e,r);if(F(s))throw new TypeError;return s}return j(e,r==="default"?"number":r)}function j(e,t){if(t==="string"){var r=e.toString;if(X(r)){var n=r.call(e);if(!F(n))return n}var i=e.valueOf;if(X(i)){var n=i.call(e);if(!F(n))return n}}else{var i=e.valueOf;if(X(i)){var n=i.call(e);if(!F(n))return n}var s=e.toString;if(X(s)){var n=s.call(e);if(!F(n))return n}}throw new TypeError}function H(e){return!!e}function K(e){return""+e}function G(e){var t=L(e,3);if(U(t))return t;return K(t)}function V(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:Object.prototype.toString.call(e)==="[object Array]"}function X(e){return typeof e==="function"}function W(e){return typeof e==="function"}function z(e){switch(N(e)){case 3:return true;case 4:return true;default:return false}}function Y(e,t){var r=e[t];if(r===undefined||r===null)return undefined;if(!X(r))throw new TypeError;return r}function J(e){var t=Y(e,i);if(!X(t))throw new TypeError;var r=t.call(e);if(!F(r))throw new TypeError;return r}function q(e){return e.value}function Q(e){var t=e.next();return t.done?false:t}function Z(e){var t=e["return"];if(t)t.call(e)}function ee(e){var t=Object.getPrototypeOf(e);if(typeof e!=="function"||e===c)return t;if(t!==c)return t;var r=e.prototype;var n=r&&Object.getPrototypeOf(r);if(n==null||n===Object.prototype)return t;var i=n.constructor;if(typeof i!=="function")return t;if(i===e)return t;return i}function te(){var e={};var t=[];var r=function(){function e(e,t,r){this._index=0;this._keys=e;this._values=t;this._selector=r}e.prototype["@@iterator"]=function(){return this};e.prototype[i]=function(){return this};e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);if(e+1>=this._keys.length){this._index=-1;this._keys=t;this._values=t}else{this._index++}return{value:r,done:false}}return{value:undefined,done:true}};e.prototype.throw=function(e){if(this._index>=0){this._index=-1;this._keys=t;this._values=t}throw e};e.prototype.return=function(e){if(this._index>=0){this._index=-1;this._keys=t;this._values=t}return{value:e,done:true}};return e}();return function(){function t(){this._keys=[];this._values=[];this._cacheKey=e;this._cacheIndex=-2}Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:true,configurable:true});t.prototype.has=function(e){return this._find(e,false)>=0};t.prototype.get=function(e){var t=this._find(e,false);return t>=0?this._values[t]:undefined};t.prototype.set=function(e,t){var r=this._find(e,true);this._values[r]=t;return this};t.prototype.delete=function(t){var r=this._find(t,false);if(r>=0){var n=this._keys.length;for(var i=r+1;i<n;i++){this._keys[i-1]=this._keys[i];this._values[i-1]=this._values[i]}this._keys.length--;this._values.length--;if(t===this._cacheKey){this._cacheKey=e;this._cacheIndex=-2}return true}return false};t.prototype.clear=function(){this._keys.length=0;this._values.length=0;this._cacheKey=e;this._cacheIndex=-2};t.prototype.keys=function(){return new r(this._keys,this._values,n)};t.prototype.values=function(){return new r(this._keys,this._values,s)};t.prototype.entries=function(){return new r(this._keys,this._values,f)};t.prototype["@@iterator"]=function(){return this.entries()};t.prototype[i]=function(){return this.entries()};t.prototype._find=function(e,t){if(this._cacheKey!==e){this._cacheIndex=this._keys.indexOf(this._cacheKey=e)}if(this._cacheIndex<0&&t){this._cacheIndex=this._keys.length;this._keys.push(e);this._values.push(undefined)}return this._cacheIndex};return t}();function n(e,t){return e}function s(e,t){return t}function f(e,t){return[e,t]}}function re(){return function(){function e(){this._map=new l}Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:true,configurable:true});e.prototype.has=function(e){return this._map.has(e)};e.prototype.add=function(e){return this._map.set(e,e),this};e.prototype.delete=function(e){return this._map.delete(e)};e.prototype.clear=function(){this._map.clear()};e.prototype.keys=function(){return this._map.keys()};e.prototype.values=function(){return this._map.values()};e.prototype.entries=function(){return this._map.entries()};e.prototype["@@iterator"]=function(){return this.keys()};e.prototype[i]=function(){return this.keys()};return e}()}function ne(){var e=16;var r=o.create();var n=i();return function(){function e(){this._key=i()}e.prototype.has=function(e){var t=s(e,false);return t!==undefined?o.has(t,this._key):false};e.prototype.get=function(e){var t=s(e,false);return t!==undefined?o.get(t,this._key):undefined};e.prototype.set=function(e,t){var r=s(e,true);r[this._key]=t;return this};e.prototype.delete=function(e){var t=s(e,false);return t!==undefined?delete t[this._key]:false};e.prototype.clear=function(){this._key=i()};return e}();function i(){var e;do{e="@@WeakMap@@"+c()}while(o.has(r,e));r[e]=true;return e}function s(e,r){if(!t.call(e,n)){if(!r)return undefined;Object.defineProperty(e,n,{value:o.create()})}return e[n]}function f(e,t){for(var r=0;r<t;++r)e[r]=Math.random()*255|0;return e}function a(e){if(typeof Uint8Array==="function"){if(typeof crypto!=="undefined")return crypto.getRandomValues(new Uint8Array(e));if(typeof msCrypto!=="undefined")return msCrypto.getRandomValues(new Uint8Array(e));return f(new Uint8Array(e),e)}return f(new Array(e),e)}function c(){var t=a(e);t[6]=t[6]&79|64;t[8]=t[8]&191|128;var r="";for(var n=0;n<e;++n){var i=t[n];if(n===4||n===6||n===8)r+="-";if(i<16)r+="0";r+=i.toString(16).toLowerCase()}return r}}function ie(e){e.__=undefined;delete e.__;return e}}))})(Reflect$1||(Reflect$1={}));var AsnTypeTypes;(function(e){e[e["Sequence"]=0]="Sequence";e[e["Set"]=1]="Set";e[e["Choice"]=2]="Choice"})(AsnTypeTypes||(AsnTypeTypes={}));var AsnPropTypes;(function(e){e[e["Any"]=1]="Any";e[e["Boolean"]=2]="Boolean";e[e["OctetString"]=3]="OctetString";e[e["BitString"]=4]="BitString";e[e["Integer"]=5]="Integer";e[e["Enumerated"]=6]="Enumerated";e[e["ObjectIdentifier"]=7]="ObjectIdentifier";e[e["Utf8String"]=8]="Utf8String";e[e["BmpString"]=9]="BmpString";e[e["UniversalString"]=10]="UniversalString";e[e["NumericString"]=11]="NumericString";e[e["PrintableString"]=12]="PrintableString";e[e["TeletexString"]=13]="TeletexString";e[e["VideotexString"]=14]="VideotexString";e[e["IA5String"]=15]="IA5String";e[e["GraphicString"]=16]="GraphicString";e[e["VisibleString"]=17]="VisibleString";e[e["GeneralString"]=18]="GeneralString";e[e["CharacterString"]=19]="CharacterString";e[e["UTCTime"]=20]="UTCTime";e[e["GeneralizedTime"]=21]="GeneralizedTime";e[e["DATE"]=22]="DATE";e[e["TimeOfDay"]=23]="TimeOfDay";e[e["DateTime"]=24]="DateTime";e[e["Duration"]=25]="Duration";e[e["TIME"]=26]="TIME";e[e["Null"]=27]="Null"})(AsnPropTypes||(AsnPropTypes={}));class BitString{constructor(e,t=0){this.unusedBits=0;this.value=new ArrayBuffer(0);if(e){if(typeof e==="number"){this.fromNumber(e)}else if(build.BufferSourceConverter.isBufferSource(e)){this.unusedBits=t;this.value=build.BufferSourceConverter.toArrayBuffer(e)}else{throw TypeError("Unsupported type of 'params' argument for BitString")}}}fromASN(e){if(!(e instanceof BitString$1)){throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString")}this.unusedBits=e.valueBlock.unusedBits;this.value=e.valueBlock.valueHex;return this}toASN(){return new BitString$1({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new BitString$1({name:e})}toNumber(){let e="";const t=new Uint8Array(this.value);for(const r of t){e+=r.toString(2).padStart(8,"0")}e=e.split("").reverse().join("");if(this.unusedBits){e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")}return parseInt(e,2)}fromNumber(e){let t=e.toString(2);const r=t.length+7>>3;this.unusedBits=(r<<3)-t.length;const n=new Uint8Array(r);t=t.padStart(r<<3,"0").split("").reverse().join("");let i=0;while(i<r){n[i]=parseInt(t.slice(i<<3,(i<<3)+8),2);i++}this.value=n.buffer}}class OctetString{constructor(e){if(typeof e==="number"){this.buffer=new ArrayBuffer(e)}else{if(build.BufferSourceConverter.isBufferSource(e)){this.buffer=build.BufferSourceConverter.toArrayBuffer(e)}else if(Array.isArray(e)){this.buffer=new Uint8Array(e)}else{this.buffer=new ArrayBuffer(0)}}}get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}fromASN(e){if(!(e instanceof OctetString$1)){throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString")}this.buffer=e.valueBlock.valueHex;return this}toASN(){return new OctetString$1({valueHex:this.buffer})}toSchema(e){return new OctetString$1({name:e})}}const AsnAnyConverter={fromASN:e=>e instanceof Null?null:e.valueBeforeDecodeView,toASN:e=>{if(e===null){return new Null}const t=fromBER(e);if(t.result.error){throw new Error(t.result.error)}return t.result}};const AsnIntegerConverter={fromASN:e=>e.valueBlock.valueHexView.byteLength>=4?e.valueBlock.toString():e.valueBlock.valueDec,toASN:e=>new Integer({value:+e})};const AsnEnumeratedConverter={fromASN:e=>e.valueBlock.valueDec,toASN:e=>new Enumerated({value:e})};const AsnIntegerArrayBufferConverter$1={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new Integer({valueHex:e})};const AsnBitStringConverter={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new BitString$1({valueHex:e})};const AsnObjectIdentifierConverter={fromASN:e=>e.valueBlock.toString(),toASN:e=>new ObjectIdentifier$1({value:e})};const AsnBooleanConverter={fromASN:e=>e.valueBlock.value,toASN:e=>new Boolean$1({value:e})};const AsnOctetStringConverter={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new OctetString$1({valueHex:e})};const AsnConstructedOctetStringConverter={fromASN:e=>new OctetString(e.getValue()),toASN:e=>e.toASN()};function createStringConverter(e){return{fromASN:e=>e.valueBlock.value,toASN:t=>new e({value:t})}}const AsnUtf8StringConverter=createStringConverter(Utf8String);const AsnBmpStringConverter=createStringConverter(BmpString);const AsnUniversalStringConverter=createStringConverter(UniversalString);const AsnNumericStringConverter=createStringConverter(NumericString);const AsnPrintableStringConverter=createStringConverter(PrintableString);const AsnTeletexStringConverter=createStringConverter(TeletexString);const AsnVideotexStringConverter=createStringConverter(VideotexString);const AsnIA5StringConverter=createStringConverter(IA5String);const AsnGraphicStringConverter=createStringConverter(GraphicString);const AsnVisibleStringConverter=createStringConverter(VisibleString);const AsnGeneralStringConverter=createStringConverter(GeneralString);const AsnCharacterStringConverter=createStringConverter(CharacterString);const AsnUTCTimeConverter={fromASN:e=>e.toDate(),toASN:e=>new UTCTime({valueDate:e})};const AsnGeneralizedTimeConverter={fromASN:e=>e.toDate(),toASN:e=>new GeneralizedTime({valueDate:e})};const AsnNullConverter={fromASN:()=>null,toASN:()=>new Null};function defaultConverter(e){switch(e){case AsnPropTypes.Any:return AsnAnyConverter;case AsnPropTypes.BitString:return AsnBitStringConverter;case AsnPropTypes.BmpString:return AsnBmpStringConverter;case AsnPropTypes.Boolean:return AsnBooleanConverter;case AsnPropTypes.CharacterString:return AsnCharacterStringConverter;case AsnPropTypes.Enumerated:return AsnEnumeratedConverter;case AsnPropTypes.GeneralString:return AsnGeneralStringConverter;case AsnPropTypes.GeneralizedTime:return AsnGeneralizedTimeConverter;case AsnPropTypes.GraphicString:return AsnGraphicStringConverter;case AsnPropTypes.IA5String:return AsnIA5StringConverter;case AsnPropTypes.Integer:return AsnIntegerConverter;case AsnPropTypes.Null:return AsnNullConverter;case AsnPropTypes.NumericString:return AsnNumericStringConverter;case AsnPropTypes.ObjectIdentifier:return AsnObjectIdentifierConverter;case AsnPropTypes.OctetString:return AsnOctetStringConverter;case AsnPropTypes.PrintableString:return AsnPrintableStringConverter;case AsnPropTypes.TeletexString:return AsnTeletexStringConverter;case AsnPropTypes.UTCTime:return AsnUTCTimeConverter;case AsnPropTypes.UniversalString:return AsnUniversalStringConverter;case AsnPropTypes.Utf8String:return AsnUtf8StringConverter;case AsnPropTypes.VideotexString:return AsnVideotexStringConverter;case AsnPropTypes.VisibleString:return AsnVisibleStringConverter;default:return null}}function isConvertible$1(e){if(typeof e==="function"&&e.prototype){if(e.prototype.toASN&&e.prototype.fromASN){return true}else{return isConvertible$1(e.prototype)}}else{return!!(e&&typeof e==="object"&&"toASN"in e&&"fromASN"in e)}}function isTypeOfArray(e){var t;if(e){const r=Object.getPrototypeOf(e);if(((t=r===null||r===void 0?void 0:r.prototype)===null||t===void 0?void 0:t.constructor)===Array){return true}return isTypeOfArray(r)}return false}function isArrayEqual(e,t){if(!(e&&t)){return false}if(e.byteLength!==t.byteLength){return false}const r=new Uint8Array(e);const n=new Uint8Array(t);for(let t=0;t<e.byteLength;t++){if(r[t]!==n[t]){return false}}return true}class AsnSchemaStorage{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,t=false){const r=this.items.get(e);if(!r){throw new Error(`Cannot get schema for '${e.prototype.constructor.name}' target`)}if(t&&!r.schema){throw new Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`)}return r}cache(e){const t=this.get(e);if(!t.schema){t.schema=this.create(e,true)}}createDefault(e){const t={type:AsnTypeTypes.Sequence,items:{}};const r=this.findParentSchema(e);if(r){Object.assign(t,r);t.items=Object.assign({},t.items,r.items)}return t}create(e,t){const r=this.items.get(e)||this.createDefault(e);const n=[];for(const e in r.items){const i=r.items[e];const s=t?e:"";let f;if(typeof i.type==="number"){const e=AsnPropTypes[i.type];const t=asn1js[e];if(!t){throw new Error(`Cannot get ASN1 class by name '${e}'`)}f=new t({name:s})}else if(isConvertible$1(i.type)){const e=new i.type;f=e.toSchema(s)}else if(i.optional){const e=this.get(i.type);if(e.type===AsnTypeTypes.Choice){f=new Any({name:s})}else{f=this.create(i.type,false);f.name=s}}else{f=new Any({name:s})}const a=!!i.optional||i.defaultValue!==undefined;if(i.repeated){f.name="";const e=i.repeated==="set"?Set$1:Sequence;f=new e({name:"",value:[new Repeated({name:s,value:f})]})}if(i.context!==null&&i.context!==undefined){if(i.implicit){if(typeof i.type==="number"||isConvertible$1(i.type)){const e=i.repeated?Constructed:Primitive;n.push(new e({name:s,optional:a,idBlock:{tagClass:3,tagNumber:i.context}}))}else{this.cache(i.type);const e=!!i.repeated;let t=!e?this.get(i.type,true).schema:f;t="valueBlock"in t?t.valueBlock.value:t.value;n.push(new Constructed({name:!e?s:"",optional:a,idBlock:{tagClass:3,tagNumber:i.context},value:t}))}}else{n.push(new Constructed({optional:a,idBlock:{tagClass:3,tagNumber:i.context},value:[f]}))}}else{f.optional=a;n.push(f)}}switch(r.type){case AsnTypeTypes.Sequence:return new Sequence({value:n,name:""});case AsnTypeTypes.Set:return new Set$1({value:n,name:""});case AsnTypeTypes.Choice:return new Choice({value:n,name:""});default:throw new Error(`Unsupported ASN1 type in use`)}}set(e,t){this.items.set(e,t);return this}findParentSchema(e){const t=Object.getPrototypeOf(e);if(t){const e=this.items.get(t);return e||this.findParentSchema(t)}return null}}const schemaStorage$1=new AsnSchemaStorage;const AsnType=e=>t=>{let r;if(!schemaStorage$1.has(t)){r=schemaStorage$1.createDefault(t);schemaStorage$1.set(t,r)}else{r=schemaStorage$1.get(t)}Object.assign(r,e)};const AsnProp=e=>(t,r)=>{let n;if(!schemaStorage$1.has(t.constructor)){n=schemaStorage$1.createDefault(t.constructor);schemaStorage$1.set(t.constructor,n)}else{n=schemaStorage$1.get(t.constructor)}const i=Object.assign({},e);if(typeof i.type==="number"&&!i.converter){const n=defaultConverter(e.type);if(!n){throw new Error(`Cannot get default converter for property '${r}' of ${t.constructor.name}`)}i.converter=n}n.items[r]=i};class AsnSchemaValidationError extends Error{constructor(){super(...arguments);this.schemas=[]}}class AsnParser{static parse(e,t){const r=fromBER(e);if(r.result.error){throw new Error(r.result.error)}const n=this.fromASN(r.result,t);return n}static fromASN(e,t){var r;try{if(isConvertible$1(t)){const r=new t;return r.fromASN(e)}const n=schemaStorage$1.get(t);schemaStorage$1.cache(t);let i=n.schema;if(e.constructor===Constructed&&n.type!==AsnTypeTypes.Choice){i=new Constructed({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:n.schema.valueBlock.value});for(const t in n.items){delete e[t]}}const s=compareSchema({},e,i);if(!s.verified){throw new AsnSchemaValidationError(`Data does not match to ${t.name} ASN1 schema. ${s.result.error}`)}const f=new t;if(isTypeOfArray(t)){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value))){throw new Error(`Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.`)}const r=n.itemType;if(typeof r==="number"){const n=defaultConverter(r);if(!n){throw new Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`)}return t.from(e.valueBlock.value,(e=>n.fromASN(e)))}else{return t.from(e.valueBlock.value,(e=>this.fromASN(e,r)))}}for(const e in n.items){const t=s.result[e];if(!t){continue}const i=n.items[e];const a=i.type;if(typeof a==="number"||isConvertible$1(a)){const n=(r=i.converter)!==null&&r!==void 0?r:isConvertible$1(a)?new a:null;if(!n){throw new Error("Converter is empty")}if(i.repeated){if(i.implicit){const r=i.repeated==="sequence"?Sequence:Set$1;const s=new r;s.valueBlock=t.valueBlock;const a=fromBER(s.toBER(false));if(a.offset===-1){throw new Error(`Cannot parse the child item. ${a.result.error}`)}if(!("value"in a.result.valueBlock&&Array.isArray(a.result.valueBlock.value))){throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.")}const o=a.result.valueBlock.value;f[e]=Array.from(o,(e=>n.fromASN(e)))}else{f[e]=Array.from(t,(e=>n.fromASN(e)))}}else{let r=t;if(i.implicit){let e;if(isConvertible$1(a)){e=(new a).toSchema("")}else{const t=AsnPropTypes[a];const r=asn1js[t];if(!r){throw new Error(`Cannot get '${t}' class from asn1js module`)}e=new r}e.valueBlock=r.valueBlock;r=fromBER(e.toBER(false)).result}f[e]=n.fromASN(r)}}else{if(i.repeated){if(!Array.isArray(t)){throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.")}f[e]=Array.from(t,(e=>this.fromASN(e,a)))}else{f[e]=this.fromASN(t,a)}}}return f}catch(e){if(e instanceof AsnSchemaValidationError){e.schemas.push(t.name)}throw e}}}class AsnSerializer{static serialize(e){if(e instanceof BaseBlock){return e.toBER(false)}return this.toASN(e).toBER(false)}static toASN(e){if(e&&typeof e==="object"&&isConvertible$1(e)){return e.toASN()}if(!(e&&typeof e==="object")){throw new TypeError("Parameter 1 should be type of Object.")}const t=e.constructor;const r=schemaStorage$1.get(t);schemaStorage$1.cache(t);let n=[];if(r.itemType){if(!Array.isArray(e)){throw new TypeError("Parameter 1 should be type of Array.")}if(typeof r.itemType==="number"){const i=defaultConverter(r.itemType);if(!i){throw new Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`)}n=e.map((e=>i.toASN(e)))}else{n=e.map((e=>this.toAsnItem({type:r.itemType},"[]",t,e)))}}else{for(const i in r.items){const s=r.items[i];const f=e[i];if(f===undefined||s.defaultValue===f||typeof s.defaultValue==="object"&&typeof f==="object"&&isArrayEqual(this.serialize(s.defaultValue),this.serialize(f))){continue}const a=AsnSerializer.toAsnItem(s,i,t,f);if(typeof s.context==="number"){if(s.implicit){if(!s.repeated&&(typeof s.type==="number"||isConvertible$1(s.type))){const e={};e.valueHex=a instanceof Null?a.valueBeforeDecodeView:a.valueBlock.toBER();n.push(new Primitive({optional:s.optional,idBlock:{tagClass:3,tagNumber:s.context},...e}))}else{n.push(new Constructed({optional:s.optional,idBlock:{tagClass:3,tagNumber:s.context},value:a.valueBlock.value}))}}else{n.push(new Constructed({optional:s.optional,idBlock:{tagClass:3,tagNumber:s.context},value:[a]}))}}else if(s.repeated){n=n.concat(a)}else{n.push(a)}}}let i;switch(r.type){case AsnTypeTypes.Sequence:i=new Sequence({value:n});break;case AsnTypeTypes.Set:i=new Set$1({value:n});break;case AsnTypeTypes.Choice:if(!n[0]){throw new Error(`Schema '${t.name}' has wrong data. Choice cannot be empty.`)}i=n[0];break}return i}static toAsnItem(e,t,r,n){let i;if(typeof e.type==="number"){const s=e.converter;if(!s){throw new Error(`Property '${t}' doesn't have converter for type ${AsnPropTypes[e.type]} in schema '${r.name}'`)}if(e.repeated){if(!Array.isArray(n)){throw new TypeError("Parameter 'objProp' should be type of Array.")}const t=Array.from(n,(e=>s.toASN(e)));const r=e.repeated==="sequence"?Sequence:Set$1;i=new r({value:t})}else{i=s.toASN(n)}}else{if(e.repeated){if(!Array.isArray(n)){throw new TypeError("Parameter 'objProp' should be type of Array.")}const t=Array.from(n,(e=>this.toASN(e)));const r=e.repeated==="sequence"?Sequence:Set$1;i=new r({value:t})}else{i=this.toASN(n)}}return i}}class AsnArray extends Array{constructor(e=[]){if(typeof e==="number"){super(e)}else{super();for(const t of e){this.push(t)}}}}class AsnConvert{static serialize(e){return AsnSerializer.serialize(e)}static parse(e,t){return AsnParser.parse(e,t)}static toString(e){const t=build.BufferSourceConverter.isBufferSource(e)?build.BufferSourceConverter.toArrayBuffer(e):AsnConvert.serialize(e);const r=fromBER(t);if(r.offset===-1){throw new Error(`Cannot decode ASN.1 data. ${r.result.error}`)}return r.result.toString()}}var ipaddr=createCommonjsModule$2((function(e){(function(t){const r="(0?\\d+|0x[a-f0-9]+)";const n={fourOctet:new RegExp(`^${r}\\.${r}\\.${r}\\.${r}$`,"i"),threeOctet:new RegExp(`^${r}\\.${r}\\.${r}$`,"i"),twoOctet:new RegExp(`^${r}\\.${r}$`,"i"),longValue:new RegExp(`^${r}$`,"i")};const i=new RegExp(`^0[0-7]+$`,"i");const s=new RegExp(`^0x[a-f0-9]+$`,"i");const f="%[0-9a-z]{1,}";const a="(?:[0-9a-f]+::?)+";const o={zoneIndex:new RegExp(f,"i"),native:new RegExp(`^(::)?(${a})?([0-9a-f]+)?(::)?(${f})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${r}\\.${r}\\.${r}\\.${r}(${f})?)$`,"i"),transitional:new RegExp(`^((?:${a})|(?:::)(?:${a})?)${r}\\.${r}\\.${r}\\.${r}(${f})?$`,"i")};function c(e,t){if(e.indexOf("::")!==e.lastIndexOf("::")){return null}let r=0;let n=-1;let i=(e.match(o.zoneIndex)||[])[0];let s,f;if(i){i=i.substring(1);e=e.replace(/%.+$/,"")}while((n=e.indexOf(":",n+1))>=0){r++}if(e.substr(0,2)==="::"){r--}if(e.substr(-2,2)==="::"){r--}if(r>t){return null}f=t-r;s=":";while(f--){s+="0:"}e=e.replace("::",s);if(e[0]===":"){e=e.slice(1)}if(e[e.length-1]===":"){e=e.slice(0,-1)}t=function(){const t=e.split(":");const r=[];for(let e=0;e<t.length;e++){r.push(parseInt(t[e],16))}return r}();return{parts:t,zoneId:i}}function u(e,t,r,n){if(e.length!==t.length){throw new Error("ipaddr: cannot match CIDR for objects with different lengths")}let i=0;let s;while(n>0){s=r-n;if(s<0){s=0}if(e[i]>>s!==t[i]>>s){return false}n-=r;i+=1}return true}function l(e){if(s.test(e)){return parseInt(e,16)}if(e[0]==="0"&&!isNaN(parseInt(e[1],10))){if(i.test(e)){return parseInt(e,8)}throw new Error(`ipaddr: cannot parse ${e} as octal`)}return parseInt(e,10)}function h(e,t){while(e.length<t){e=`0${e}`}return e}const d={};d.IPv4=function(){function e(e){if(e.length!==4){throw new Error("ipaddr: ipv4 octet count should be 4")}let t,r;for(t=0;t<e.length;t++){r=e[t];if(!(0<=r&&r<=255)){throw new Error("ipaddr: ipv4 octet should fit in 8 bits")}}this.octets=e}e.prototype.SpecialRanges={unspecified:[[new e([0,0,0,0]),8]],broadcast:[[new e([255,255,255,255]),32]],multicast:[[new e([224,0,0,0]),4]],linkLocal:[[new e([169,254,0,0]),16]],loopback:[[new e([127,0,0,0]),8]],carrierGradeNat:[[new e([100,64,0,0]),10]],private:[[new e([10,0,0,0]),8],[new e([172,16,0,0]),12],[new e([192,168,0,0]),16]],reserved:[[new e([192,0,0,0]),24],[new e([192,0,2,0]),24],[new e([192,88,99,0]),24],[new e([198,51,100,0]),24],[new e([203,0,113,0]),24],[new e([240,0,0,0]),4]]};e.prototype.kind=function(){return"ipv4"};e.prototype.match=function(e,t){let r;if(t===undefined){r=e;e=r[0];t=r[1]}if(e.kind()!=="ipv4"){throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one")}return u(this.octets,e.octets,8,t)};e.prototype.prefixLengthFromSubnetMask=function(){let e=0;let t=false;const r={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let n,i,s;for(n=3;n>=0;n-=1){i=this.octets[n];if(i in r){s=r[i];if(t&&s!==0){return null}if(s!==8){t=true}e+=s}else{return null}}return 32-e};e.prototype.range=function(){return d.subnetMatch(this,this.SpecialRanges)};e.prototype.toByteArray=function(){return this.octets.slice(0)};e.prototype.toIPv4MappedAddress=function(){return d.IPv6.parse(`::ffff:${this.toString()}`)};e.prototype.toNormalizedString=function(){return this.toString()};e.prototype.toString=function(){return this.octets.join(".")};return e}();d.IPv4.broadcastAddressFromCIDR=function(e){try{const t=this.parseCIDR(e);const r=t[0].toByteArray();const n=this.subnetMaskFromPrefixLength(t[1]).toByteArray();const i=[];let s=0;while(s<4){i.push(parseInt(r[s],10)|parseInt(n[s],10)^255);s++}return new this(i)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}};d.IPv4.isIPv4=function(e){return this.parser(e)!==null};d.IPv4.isValid=function(e){try{new this(this.parser(e));return true}catch(e){return false}};d.IPv4.isValidFourPartDecimal=function(e){if(d.IPv4.isValid(e)&&e.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/)){return true}else{return false}};d.IPv4.networkAddressFromCIDR=function(e){let t,r,n,i,s;try{t=this.parseCIDR(e);n=t[0].toByteArray();s=this.subnetMaskFromPrefixLength(t[1]).toByteArray();i=[];r=0;while(r<4){i.push(parseInt(n[r],10)&parseInt(s[r],10));r++}return new this(i)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}};d.IPv4.parse=function(e){const t=this.parser(e);if(t===null){throw new Error("ipaddr: string is not formatted like an IPv4 Address")}return new this(t)};d.IPv4.parseCIDR=function(e){let t;if(t=e.match(/^(.+)\/(\d+)$/)){const e=parseInt(t[2]);if(e>=0&&e<=32){const r=[this.parse(t[1]),e];Object.defineProperty(r,"toString",{value:function(){return this.join("/")}});return r}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")};d.IPv4.parser=function(e){let t,r,i;if(t=e.match(n.fourOctet)){return function(){const e=t.slice(1,6);const n=[];for(let t=0;t<e.length;t++){r=e[t];n.push(l(r))}return n}()}else if(t=e.match(n.longValue)){i=l(t[1]);if(i>4294967295||i<0){throw new Error("ipaddr: address outside defined range")}return function(){const e=[];let t;for(t=0;t<=24;t+=8){e.push(i>>t&255)}return e}().reverse()}else if(t=e.match(n.twoOctet)){return function(){const e=t.slice(1,4);const r=[];i=l(e[1]);if(i>16777215||i<0){throw new Error("ipaddr: address outside defined range")}r.push(l(e[0]));r.push(i>>16&255);r.push(i>>8&255);r.push(i&255);return r}()}else if(t=e.match(n.threeOctet)){return function(){const e=t.slice(1,5);const r=[];i=l(e[2]);if(i>65535||i<0){throw new Error("ipaddr: address outside defined range")}r.push(l(e[0]));r.push(l(e[1]));r.push(i>>8&255);r.push(i&255);return r}()}else{return null}};d.IPv4.subnetMaskFromPrefixLength=function(e){e=parseInt(e);if(e<0||e>32){throw new Error("ipaddr: invalid IPv4 prefix length")}const t=[0,0,0,0];let r=0;const n=Math.floor(e/8);while(r<n){t[r]=255;r++}if(n<4){t[n]=Math.pow(2,e%8)-1<<8-e%8}return new this(t)};d.IPv6=function(){function e(e,t){let r,n;if(e.length===16){this.parts=[];for(r=0;r<=14;r+=2){this.parts.push(e[r]<<8|e[r+1])}}else if(e.length===8){this.parts=e}else{throw new Error("ipaddr: ipv6 part count should be 8 or 16")}for(r=0;r<this.parts.length;r++){n=this.parts[r];if(!(0<=n&&n<=65535)){throw new Error("ipaddr: ipv6 part should fit in 16 bits")}}if(t){this.zoneId=t}}e.prototype.SpecialRanges={unspecified:[new e([0,0,0,0,0,0,0,0]),128],linkLocal:[new e([65152,0,0,0,0,0,0,0]),10],multicast:[new e([65280,0,0,0,0,0,0,0]),8],loopback:[new e([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new e([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new e([0,0,0,0,0,65535,0,0]),96],rfc6145:[new e([0,0,0,0,65535,0,0,0]),96],rfc6052:[new e([100,65435,0,0,0,0,0,0]),96],"6to4":[new e([8194,0,0,0,0,0,0,0]),16],teredo:[new e([8193,0,0,0,0,0,0,0]),32],reserved:[[new e([8193,3512,0,0,0,0,0,0]),32]]};e.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"};e.prototype.kind=function(){return"ipv6"};e.prototype.match=function(e,t){let r;if(t===undefined){r=e;e=r[0];t=r[1]}if(e.kind()!=="ipv6"){throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one")}return u(this.parts,e.parts,16,t)};e.prototype.prefixLengthFromSubnetMask=function(){let e=0;let t=false;const r={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let n,i;for(let s=7;s>=0;s-=1){n=this.parts[s];if(n in r){i=r[n];if(t&&i!==0){return null}if(i!==16){t=true}e+=i}else{return null}}return 128-e};e.prototype.range=function(){return d.subnetMatch(this,this.SpecialRanges)};e.prototype.toByteArray=function(){let e;const t=[];const r=this.parts;for(let n=0;n<r.length;n++){e=r[n];t.push(e>>8);t.push(e&255)}return t};e.prototype.toFixedLengthString=function(){const e=function(){const e=[];for(let t=0;t<this.parts.length;t++){e.push(h(this.parts[t].toString(16),4))}return e}.call(this).join(":");let t="";if(this.zoneId){t=`%${this.zoneId}`}return e+t};e.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress()){throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4")}const e=this.parts.slice(-2);const t=e[0];const r=e[1];return new d.IPv4([t>>8,t&255,r>>8,r&255])};e.prototype.toNormalizedString=function(){const e=function(){const e=[];for(let t=0;t<this.parts.length;t++){e.push(this.parts[t].toString(16))}return e}.call(this).join(":");let t="";if(this.zoneId){t=`%${this.zoneId}`}return e+t};e.prototype.toRFC5952String=function(){const e=/((^|:)(0(:|$)){2,})/g;const t=this.toNormalizedString();let r=0;let n=-1;let i;while(i=e.exec(t)){if(i[0].length>n){r=i.index;n=i[0].length}}if(n<0){return t}return`${t.substring(0,r)}::${t.substring(r+n)}`};e.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")};return e}();d.IPv6.broadcastAddressFromCIDR=function(e){try{const t=this.parseCIDR(e);const r=t[0].toByteArray();const n=this.subnetMaskFromPrefixLength(t[1]).toByteArray();const i=[];let s=0;while(s<16){i.push(parseInt(r[s],10)|parseInt(n[s],10)^255);s++}return new this(i)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}};d.IPv6.isIPv6=function(e){return this.parser(e)!==null};d.IPv6.isValid=function(e){if(typeof e==="string"&&e.indexOf(":")===-1){return false}try{const t=this.parser(e);new this(t.parts,t.zoneId);return true}catch(e){return false}};d.IPv6.networkAddressFromCIDR=function(e){let t,r,n,i,s;try{t=this.parseCIDR(e);n=t[0].toByteArray();s=this.subnetMaskFromPrefixLength(t[1]).toByteArray();i=[];r=0;while(r<16){i.push(parseInt(n[r],10)&parseInt(s[r],10));r++}return new this(i)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}};d.IPv6.parse=function(e){const t=this.parser(e);if(t.parts===null){throw new Error("ipaddr: string is not formatted like an IPv6 Address")}return new this(t.parts,t.zoneId)};d.IPv6.parseCIDR=function(e){let t,r,n;if(r=e.match(/^(.+)\/(\d+)$/)){t=parseInt(r[2]);if(t>=0&&t<=128){n=[this.parse(r[1]),t];Object.defineProperty(n,"toString",{value:function(){return this.join("/")}});return n}}throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")};d.IPv6.parser=function(e){let t,r,n,i,s,f;if(n=e.match(o.deprecatedTransitional)){return this.parser(`::ffff:${n[1]}`)}if(o.native.test(e)){return c(e,8)}if(n=e.match(o.transitional)){f=n[6]||"";t=c(n[1].slice(0,-1)+f,6);if(t.parts){s=[parseInt(n[2]),parseInt(n[3]),parseInt(n[4]),parseInt(n[5])];for(r=0;r<s.length;r++){i=s[r];if(!(0<=i&&i<=255)){return null}}t.parts.push(s[0]<<8|s[1]);t.parts.push(s[2]<<8|s[3]);return{parts:t.parts,zoneId:t.zoneId}}}return null};d.IPv6.subnetMaskFromPrefixLength=function(e){e=parseInt(e);if(e<0||e>128){throw new Error("ipaddr: invalid IPv6 prefix length")}const t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let r=0;const n=Math.floor(e/8);while(r<n){t[r]=255;r++}if(n<16){t[n]=Math.pow(2,e%8)-1<<8-e%8}return new this(t)};d.fromByteArray=function(e){const t=e.length;if(t===4){return new d.IPv4(e)}else if(t===16){return new d.IPv6(e)}else{throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")}};d.isValid=function(e){return d.IPv6.isValid(e)||d.IPv4.isValid(e)};d.parse=function(e){if(d.IPv6.isValid(e)){return d.IPv6.parse(e)}else if(d.IPv4.isValid(e)){return d.IPv4.parse(e)}else{throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")}};d.parseCIDR=function(e){try{return d.IPv6.parseCIDR(e)}catch(t){try{return d.IPv4.parseCIDR(e)}catch(e){throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}};d.process=function(e){const t=this.parse(e);if(t.kind()==="ipv6"&&t.isIPv4MappedAddress()){return t.toIPv4Address()}else{return t}};d.subnetMatch=function(e,t,r){let n,i,s,f;if(r===undefined||r===null){r="unicast"}for(i in t){if(Object.prototype.hasOwnProperty.call(t,i)){s=t[i];if(s[0]&&!(s[0]instanceof Array)){s=[s]}for(n=0;n<s.length;n++){f=s[n];if(e.kind()===f[0].kind()&&e.match.apply(e,f)){return i}}}}return r};if(e.exports){e.exports=d}else{t.ipaddr=d}})(commonjsGlobal)}));class IpConverter{static decodeIP(e){if(e.length===64&&parseInt(e,16)===0){return"::/0"}if(e.length!==16){return e}const t=parseInt(e.slice(8),16).toString(2).split("").reduce(((e,t)=>e+ +t),0);let r=e.slice(0,8).replace(/(.{2})/g,(e=>`${parseInt(e,16)}.`));r=r.slice(0,-1);return`${r}/${t}`}static toString(e){if(e.byteLength===4||e.byteLength===16){const t=new Uint8Array(e);const r=ipaddr.fromByteArray(Array.from(t));return r.toString()}return this.decodeIP(build.Convert.ToHex(e))}static fromString(e){const t=ipaddr.parse(e);return new Uint8Array(t.toByteArray()).buffer}}var RelativeDistinguishedName_1,RDNSequence_1,Name_1;let DirectoryString=class e{constructor(e={}){Object.assign(this,e)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};__decorate([AsnProp({type:AsnPropTypes.TeletexString})],DirectoryString.prototype,"teletexString",void 0);__decorate([AsnProp({type:AsnPropTypes.PrintableString})],DirectoryString.prototype,"printableString",void 0);__decorate([AsnProp({type:AsnPropTypes.UniversalString})],DirectoryString.prototype,"universalString",void 0);__decorate([AsnProp({type:AsnPropTypes.Utf8String})],DirectoryString.prototype,"utf8String",void 0);__decorate([AsnProp({type:AsnPropTypes.BmpString})],DirectoryString.prototype,"bmpString",void 0);DirectoryString=__decorate([AsnType({type:AsnTypeTypes.Choice})],DirectoryString);let AttributeValue=class e extends DirectoryString{constructor(e={}){super(e);Object.assign(this,e)}toString(){return this.ia5String||(this.anyValue?build.Convert.ToHex(this.anyValue):super.toString())}};__decorate([AsnProp({type:AsnPropTypes.IA5String})],AttributeValue.prototype,"ia5String",void 0);__decorate([AsnProp({type:AsnPropTypes.Any})],AttributeValue.prototype,"anyValue",void 0);AttributeValue=__decorate([AsnType({type:AsnTypeTypes.Choice})],AttributeValue);class AttributeTypeAndValue{constructor(e={}){this.type="";this.value=new AttributeValue;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],AttributeTypeAndValue.prototype,"type",void 0);__decorate([AsnProp({type:AttributeValue})],AttributeTypeAndValue.prototype,"value",void 0);let RelativeDistinguishedName=RelativeDistinguishedName_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,RelativeDistinguishedName_1.prototype)}};RelativeDistinguishedName=RelativeDistinguishedName_1=__decorate([AsnType({type:AsnTypeTypes.Set,itemType:AttributeTypeAndValue})],RelativeDistinguishedName);let RDNSequence=RDNSequence_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,RDNSequence_1.prototype)}};RDNSequence=RDNSequence_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:RelativeDistinguishedName})],RDNSequence);let Name$1=Name_1=class e extends RDNSequence{constructor(e){super(e);Object.setPrototypeOf(this,Name_1.prototype)}};Name$1=Name_1=__decorate([AsnType({type:AsnTypeTypes.Sequence})],Name$1);const AsnIpConverter={fromASN:e=>IpConverter.toString(AsnOctetStringConverter.fromASN(e)),toASN:e=>AsnOctetStringConverter.toASN(IpConverter.fromString(e))};class OtherName{constructor(e={}){this.typeId="";this.value=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],OtherName.prototype,"typeId",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,context:0})],OtherName.prototype,"value",void 0);class EDIPartyName{constructor(e={}){this.partyName=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:DirectoryString,optional:true,context:0,implicit:true})],EDIPartyName.prototype,"nameAssigner",void 0);__decorate([AsnProp({type:DirectoryString,context:1,implicit:true})],EDIPartyName.prototype,"partyName",void 0);let GeneralName$1=class e{constructor(e={}){Object.assign(this,e)}};__decorate([AsnProp({type:OtherName,context:0,implicit:true})],GeneralName$1.prototype,"otherName",void 0);__decorate([AsnProp({type:AsnPropTypes.IA5String,context:1,implicit:true})],GeneralName$1.prototype,"rfc822Name",void 0);__decorate([AsnProp({type:AsnPropTypes.IA5String,context:2,implicit:true})],GeneralName$1.prototype,"dNSName",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,context:3,implicit:true})],GeneralName$1.prototype,"x400Address",void 0);__decorate([AsnProp({type:Name$1,context:4,implicit:false})],GeneralName$1.prototype,"directoryName",void 0);__decorate([AsnProp({type:EDIPartyName,context:5})],GeneralName$1.prototype,"ediPartyName",void 0);__decorate([AsnProp({type:AsnPropTypes.IA5String,context:6,implicit:true})],GeneralName$1.prototype,"uniformResourceIdentifier",void 0);__decorate([AsnProp({type:AsnPropTypes.OctetString,context:7,implicit:true,converter:AsnIpConverter})],GeneralName$1.prototype,"iPAddress",void 0);__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier,context:8,implicit:true})],GeneralName$1.prototype,"registeredID",void 0);GeneralName$1=__decorate([AsnType({type:AsnTypeTypes.Choice})],GeneralName$1);const id_pkix="1.3.6.1.5.5.7";const id_kp=`${id_pkix}.3`;const id_ce="2.5.29";var AuthorityInfoAccessSyntax_1;class AccessDescription{constructor(e={}){this.accessMethod="";this.accessLocation=new GeneralName$1;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],AccessDescription.prototype,"accessMethod",void 0);__decorate([AsnProp({type:GeneralName$1})],AccessDescription.prototype,"accessLocation",void 0);let AuthorityInfoAccessSyntax=AuthorityInfoAccessSyntax_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,AuthorityInfoAccessSyntax_1.prototype)}};AuthorityInfoAccessSyntax=AuthorityInfoAccessSyntax_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:AccessDescription})],AuthorityInfoAccessSyntax);const id_ce_authorityKeyIdentifier=`${id_ce}.35`;class KeyIdentifier extends OctetString{}class AuthorityKeyIdentifier{constructor(e={}){if(e){Object.assign(this,e)}}}__decorate([AsnProp({type:KeyIdentifier,context:0,optional:true,implicit:true})],AuthorityKeyIdentifier.prototype,"keyIdentifier",void 0);__decorate([AsnProp({type:GeneralName$1,context:1,optional:true,implicit:true,repeated:"sequence"})],AuthorityKeyIdentifier.prototype,"authorityCertIssuer",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,context:2,optional:true,implicit:true,converter:AsnIntegerArrayBufferConverter$1})],AuthorityKeyIdentifier.prototype,"authorityCertSerialNumber",void 0);const id_ce_basicConstraints=`${id_ce}.19`;class BasicConstraints{constructor(e={}){this.cA=false;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Boolean,defaultValue:false})],BasicConstraints.prototype,"cA",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,optional:true})],BasicConstraints.prototype,"pathLenConstraint",void 0);var GeneralNames_1;let GeneralNames$1=GeneralNames_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,GeneralNames_1.prototype)}};GeneralNames$1=GeneralNames_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:GeneralName$1})],GeneralNames$1);var CertificateIssuer_1;let CertificateIssuer=CertificateIssuer_1=class e extends GeneralNames$1{constructor(e){super(e);Object.setPrototypeOf(this,CertificateIssuer_1.prototype)}};CertificateIssuer=CertificateIssuer_1=__decorate([AsnType({type:AsnTypeTypes.Sequence})],CertificateIssuer);var CertificatePolicies_1;const id_ce_certificatePolicies=`${id_ce}.32`;let DisplayText=class e{constructor(e={}){Object.assign(this,e)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""}};__decorate([AsnProp({type:AsnPropTypes.IA5String})],DisplayText.prototype,"ia5String",void 0);__decorate([AsnProp({type:AsnPropTypes.VisibleString})],DisplayText.prototype,"visibleString",void 0);__decorate([AsnProp({type:AsnPropTypes.BmpString})],DisplayText.prototype,"bmpString",void 0);__decorate([AsnProp({type:AsnPropTypes.Utf8String})],DisplayText.prototype,"utf8String",void 0);DisplayText=__decorate([AsnType({type:AsnTypeTypes.Choice})],DisplayText);class NoticeReference{constructor(e={}){this.organization=new DisplayText;this.noticeNumbers=[];Object.assign(this,e)}}__decorate([AsnProp({type:DisplayText})],NoticeReference.prototype,"organization",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,repeated:"sequence"})],NoticeReference.prototype,"noticeNumbers",void 0);class UserNotice{constructor(e={}){Object.assign(this,e)}}__decorate([AsnProp({type:NoticeReference,optional:true})],UserNotice.prototype,"noticeRef",void 0);__decorate([AsnProp({type:DisplayText,optional:true})],UserNotice.prototype,"explicitText",void 0);let Qualifier=class e{constructor(e={}){Object.assign(this,e)}};__decorate([AsnProp({type:AsnPropTypes.IA5String})],Qualifier.prototype,"cPSuri",void 0);__decorate([AsnProp({type:UserNotice})],Qualifier.prototype,"userNotice",void 0);Qualifier=__decorate([AsnType({type:AsnTypeTypes.Choice})],Qualifier);class PolicyQualifierInfo{constructor(e={}){this.policyQualifierId="";this.qualifier=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],PolicyQualifierInfo.prototype,"policyQualifierId",void 0);__decorate([AsnProp({type:AsnPropTypes.Any})],PolicyQualifierInfo.prototype,"qualifier",void 0);class PolicyInformation{constructor(e={}){this.policyIdentifier="";Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],PolicyInformation.prototype,"policyIdentifier",void 0);__decorate([AsnProp({type:PolicyQualifierInfo,repeated:"sequence",optional:true})],PolicyInformation.prototype,"policyQualifiers",void 0);let CertificatePolicies=CertificatePolicies_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,CertificatePolicies_1.prototype)}};CertificatePolicies=CertificatePolicies_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:PolicyInformation})],CertificatePolicies);let CRLNumber=class e{constructor(e=0){this.value=e}};__decorate([AsnProp({type:AsnPropTypes.Integer})],CRLNumber.prototype,"value",void 0);CRLNumber=__decorate([AsnType({type:AsnTypeTypes.Choice})],CRLNumber);let BaseCRLNumber=class e extends CRLNumber{};BaseCRLNumber=__decorate([AsnType({type:AsnTypeTypes.Choice})],BaseCRLNumber);var CRLDistributionPoints_1;var ReasonFlags;(function(e){e[e["unused"]=1]="unused";e[e["keyCompromise"]=2]="keyCompromise";e[e["cACompromise"]=4]="cACompromise";e[e["affiliationChanged"]=8]="affiliationChanged";e[e["superseded"]=16]="superseded";e[e["cessationOfOperation"]=32]="cessationOfOperation";e[e["certificateHold"]=64]="certificateHold";e[e["privilegeWithdrawn"]=128]="privilegeWithdrawn";e[e["aACompromise"]=256]="aACompromise"})(ReasonFlags||(ReasonFlags={}));class Reason extends BitString{toJSON(){const e=[];const t=this.toNumber();if(t&ReasonFlags.aACompromise){e.push("aACompromise")}if(t&ReasonFlags.affiliationChanged){e.push("affiliationChanged")}if(t&ReasonFlags.cACompromise){e.push("cACompromise")}if(t&ReasonFlags.certificateHold){e.push("certificateHold")}if(t&ReasonFlags.cessationOfOperation){e.push("cessationOfOperation")}if(t&ReasonFlags.keyCompromise){e.push("keyCompromise")}if(t&ReasonFlags.privilegeWithdrawn){e.push("privilegeWithdrawn")}if(t&ReasonFlags.superseded){e.push("superseded")}if(t&ReasonFlags.unused){e.push("unused")}return e}toString(){return`[${this.toJSON().join(", ")}]`}}let DistributionPointName=class e{constructor(e={}){Object.assign(this,e)}};__decorate([AsnProp({type:GeneralName$1,context:0,repeated:"sequence",implicit:true})],DistributionPointName.prototype,"fullName",void 0);__decorate([AsnProp({type:RelativeDistinguishedName,context:1,implicit:true})],DistributionPointName.prototype,"nameRelativeToCRLIssuer",void 0);DistributionPointName=__decorate([AsnType({type:AsnTypeTypes.Choice})],DistributionPointName);class DistributionPoint{constructor(e={}){Object.assign(this,e)}}__decorate([AsnProp({type:DistributionPointName,context:0,optional:true})],DistributionPoint.prototype,"distributionPoint",void 0);__decorate([AsnProp({type:Reason,context:1,optional:true,implicit:true})],DistributionPoint.prototype,"reasons",void 0);__decorate([AsnProp({type:GeneralName$1,context:2,optional:true,repeated:"sequence",implicit:true})],DistributionPoint.prototype,"cRLIssuer",void 0);let CRLDistributionPoints=CRLDistributionPoints_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,CRLDistributionPoints_1.prototype)}};CRLDistributionPoints=CRLDistributionPoints_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:DistributionPoint})],CRLDistributionPoints);var FreshestCRL_1;let FreshestCRL=FreshestCRL_1=class e extends CRLDistributionPoints{constructor(e){super(e);Object.setPrototypeOf(this,FreshestCRL_1.prototype)}};FreshestCRL=FreshestCRL_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:DistributionPoint})],FreshestCRL);class IssuingDistributionPoint{constructor(e={}){this.onlyContainsUserCerts=IssuingDistributionPoint.ONLY;this.onlyContainsCACerts=IssuingDistributionPoint.ONLY;this.indirectCRL=IssuingDistributionPoint.ONLY;this.onlyContainsAttributeCerts=IssuingDistributionPoint.ONLY;Object.assign(this,e)}}IssuingDistributionPoint.ONLY=false;__decorate([AsnProp({type:DistributionPointName,context:0,optional:true})],IssuingDistributionPoint.prototype,"distributionPoint",void 0);__decorate([AsnProp({type:AsnPropTypes.Boolean,context:1,defaultValue:IssuingDistributionPoint.ONLY,implicit:true})],IssuingDistributionPoint.prototype,"onlyContainsUserCerts",void 0);__decorate([AsnProp({type:AsnPropTypes.Boolean,context:2,defaultValue:IssuingDistributionPoint.ONLY,implicit:true})],IssuingDistributionPoint.prototype,"onlyContainsCACerts",void 0);__decorate([AsnProp({type:Reason,context:3,optional:true,implicit:true})],IssuingDistributionPoint.prototype,"onlySomeReasons",void 0);__decorate([AsnProp({type:AsnPropTypes.Boolean,context:4,defaultValue:IssuingDistributionPoint.ONLY,implicit:true})],IssuingDistributionPoint.prototype,"indirectCRL",void 0);__decorate([AsnProp({type:AsnPropTypes.Boolean,context:5,defaultValue:IssuingDistributionPoint.ONLY,implicit:true})],IssuingDistributionPoint.prototype,"onlyContainsAttributeCerts",void 0);var CRLReasons;(function(e){e[e["unspecified"]=0]="unspecified";e[e["keyCompromise"]=1]="keyCompromise";e[e["cACompromise"]=2]="cACompromise";e[e["affiliationChanged"]=3]="affiliationChanged";e[e["superseded"]=4]="superseded";e[e["cessationOfOperation"]=5]="cessationOfOperation";e[e["certificateHold"]=6]="certificateHold";e[e["removeFromCRL"]=8]="removeFromCRL";e[e["privilegeWithdrawn"]=9]="privilegeWithdrawn";e[e["aACompromise"]=10]="aACompromise"})(CRLReasons||(CRLReasons={}));let CRLReason=class e{constructor(e=CRLReasons.unspecified){this.reason=CRLReasons.unspecified;this.reason=e}toJSON(){return CRLReasons[this.reason]}toString(){return this.toJSON()}};__decorate([AsnProp({type:AsnPropTypes.Enumerated})],CRLReason.prototype,"reason",void 0);CRLReason=__decorate([AsnType({type:AsnTypeTypes.Choice})],CRLReason);var ExtendedKeyUsage_1;const id_ce_extKeyUsage=`${id_ce}.37`;let ExtendedKeyUsage$1=ExtendedKeyUsage_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,ExtendedKeyUsage_1.prototype)}};ExtendedKeyUsage$1=ExtendedKeyUsage_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:AsnPropTypes.ObjectIdentifier})],ExtendedKeyUsage$1);const id_kp_serverAuth=`${id_kp}.1`;const id_kp_clientAuth=`${id_kp}.2`;const id_kp_codeSigning=`${id_kp}.3`;const id_kp_emailProtection=`${id_kp}.4`;const id_kp_timeStamping=`${id_kp}.8`;const id_kp_OCSPSigning=`${id_kp}.9`;let InhibitAnyPolicy=class e{constructor(e=new ArrayBuffer(0)){this.value=e}};__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],InhibitAnyPolicy.prototype,"value",void 0);InhibitAnyPolicy=__decorate([AsnType({type:AsnTypeTypes.Choice})],InhibitAnyPolicy);let InvalidityDate=class e{constructor(e){this.value=new Date;if(e){this.value=e}}};__decorate([AsnProp({type:AsnPropTypes.GeneralizedTime})],InvalidityDate.prototype,"value",void 0);InvalidityDate=__decorate([AsnType({type:AsnTypeTypes.Choice})],InvalidityDate);var IssueAlternativeName_1;let IssueAlternativeName=IssueAlternativeName_1=class e extends GeneralNames$1{constructor(e){super(e);Object.setPrototypeOf(this,IssueAlternativeName_1.prototype)}};IssueAlternativeName=IssueAlternativeName_1=__decorate([AsnType({type:AsnTypeTypes.Sequence})],IssueAlternativeName);const id_ce_keyUsage=`${id_ce}.15`;var KeyUsageFlags$1;(function(e){e[e["digitalSignature"]=1]="digitalSignature";e[e["nonRepudiation"]=2]="nonRepudiation";e[e["keyEncipherment"]=4]="keyEncipherment";e[e["dataEncipherment"]=8]="dataEncipherment";e[e["keyAgreement"]=16]="keyAgreement";e[e["keyCertSign"]=32]="keyCertSign";e[e["cRLSign"]=64]="cRLSign";e[e["encipherOnly"]=128]="encipherOnly";e[e["decipherOnly"]=256]="decipherOnly"})(KeyUsageFlags$1||(KeyUsageFlags$1={}));class KeyUsage extends BitString{toJSON(){const e=this.toNumber();const t=[];if(e&KeyUsageFlags$1.cRLSign){t.push("crlSign")}if(e&KeyUsageFlags$1.dataEncipherment){t.push("dataEncipherment")}if(e&KeyUsageFlags$1.decipherOnly){t.push("decipherOnly")}if(e&KeyUsageFlags$1.digitalSignature){t.push("digitalSignature")}if(e&KeyUsageFlags$1.encipherOnly){t.push("encipherOnly")}if(e&KeyUsageFlags$1.keyAgreement){t.push("keyAgreement")}if(e&KeyUsageFlags$1.keyCertSign){t.push("keyCertSign")}if(e&KeyUsageFlags$1.keyEncipherment){t.push("keyEncipherment")}if(e&KeyUsageFlags$1.nonRepudiation){t.push("nonRepudiation")}return t}toString(){return`[${this.toJSON().join(", ")}]`}}var GeneralSubtrees_1;class GeneralSubtree{constructor(e={}){this.base=new GeneralName$1;this.minimum=0;Object.assign(this,e)}}__decorate([AsnProp({type:GeneralName$1})],GeneralSubtree.prototype,"base",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,context:0,defaultValue:0,implicit:true})],GeneralSubtree.prototype,"minimum",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,context:1,optional:true,implicit:true})],GeneralSubtree.prototype,"maximum",void 0);let GeneralSubtrees=GeneralSubtrees_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,GeneralSubtrees_1.prototype)}};GeneralSubtrees=GeneralSubtrees_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:GeneralSubtree})],GeneralSubtrees);class NameConstraints{constructor(e={}){Object.assign(this,e)}}__decorate([AsnProp({type:GeneralSubtrees,context:0,optional:true,implicit:true})],NameConstraints.prototype,"permittedSubtrees",void 0);__decorate([AsnProp({type:GeneralSubtrees,context:1,optional:true,implicit:true})],NameConstraints.prototype,"excludedSubtrees",void 0);class PolicyConstraints{constructor(e={}){Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer,context:0,implicit:true,optional:true,converter:AsnIntegerArrayBufferConverter$1})],PolicyConstraints.prototype,"requireExplicitPolicy",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,context:1,implicit:true,optional:true,converter:AsnIntegerArrayBufferConverter$1})],PolicyConstraints.prototype,"inhibitPolicyMapping",void 0);var PolicyMappings_1;class PolicyMapping{constructor(e={}){this.issuerDomainPolicy="";this.subjectDomainPolicy="";Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],PolicyMapping.prototype,"issuerDomainPolicy",void 0);__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],PolicyMapping.prototype,"subjectDomainPolicy",void 0);let PolicyMappings=PolicyMappings_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,PolicyMappings_1.prototype)}};PolicyMappings=PolicyMappings_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:PolicyMapping})],PolicyMappings);var SubjectAlternativeName_1;const id_ce_subjectAltName=`${id_ce}.17`;let SubjectAlternativeName=SubjectAlternativeName_1=class e extends GeneralNames$1{constructor(e){super(e);Object.setPrototypeOf(this,SubjectAlternativeName_1.prototype)}};SubjectAlternativeName=SubjectAlternativeName_1=__decorate([AsnType({type:AsnTypeTypes.Sequence})],SubjectAlternativeName);class Attribute$2{constructor(e={}){this.type="";this.values=[];Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],Attribute$2.prototype,"type",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,repeated:"set"})],Attribute$2.prototype,"values",void 0);var SubjectDirectoryAttributes_1;let SubjectDirectoryAttributes=SubjectDirectoryAttributes_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,SubjectDirectoryAttributes_1.prototype)}};SubjectDirectoryAttributes=SubjectDirectoryAttributes_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:Attribute$2})],SubjectDirectoryAttributes);const id_ce_subjectKeyIdentifier=`${id_ce}.14`;class SubjectKeyIdentifier extends KeyIdentifier{}class PrivateKeyUsagePeriod{constructor(e={}){Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.GeneralizedTime,context:0,implicit:true,optional:true})],PrivateKeyUsagePeriod.prototype,"notBefore",void 0);__decorate([AsnProp({type:AsnPropTypes.GeneralizedTime,context:1,implicit:true,optional:true})],PrivateKeyUsagePeriod.prototype,"notAfter",void 0);var EntrustInfoFlags;(function(e){e[e["keyUpdateAllowed"]=1]="keyUpdateAllowed";e[e["newExtensions"]=2]="newExtensions";e[e["pKIXCertificate"]=4]="pKIXCertificate"})(EntrustInfoFlags||(EntrustInfoFlags={}));class EntrustInfo extends BitString{toJSON(){const e=[];const t=this.toNumber();if(t&EntrustInfoFlags.pKIXCertificate){e.push("pKIXCertificate")}if(t&EntrustInfoFlags.newExtensions){e.push("newExtensions")}if(t&EntrustInfoFlags.keyUpdateAllowed){e.push("keyUpdateAllowed")}return e}toString(){return`[${this.toJSON().join(", ")}]`}}class EntrustVersionInfo{constructor(e={}){this.entrustVers="";this.entrustInfoFlags=new EntrustInfo;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.GeneralString})],EntrustVersionInfo.prototype,"entrustVers",void 0);__decorate([AsnProp({type:EntrustInfo})],EntrustVersionInfo.prototype,"entrustInfoFlags",void 0);var SubjectInfoAccessSyntax_1;let SubjectInfoAccessSyntax=SubjectInfoAccessSyntax_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,SubjectInfoAccessSyntax_1.prototype)}};SubjectInfoAccessSyntax=SubjectInfoAccessSyntax_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:AccessDescription})],SubjectInfoAccessSyntax);class AlgorithmIdentifier$1{constructor(e={}){this.algorithm="";Object.assign(this,e)}isEqual(e){return e instanceof AlgorithmIdentifier$1&&e.algorithm==this.algorithm&&(e.parameters&&this.parameters&&build.isEqual(e.parameters,this.parameters)||e.parameters===this.parameters)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],AlgorithmIdentifier$1.prototype,"algorithm",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,optional:true})],AlgorithmIdentifier$1.prototype,"parameters",void 0);class SubjectPublicKeyInfo{constructor(e={}){this.algorithm=new AlgorithmIdentifier$1;this.subjectPublicKey=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AlgorithmIdentifier$1})],SubjectPublicKeyInfo.prototype,"algorithm",void 0);__decorate([AsnProp({type:AsnPropTypes.BitString})],SubjectPublicKeyInfo.prototype,"subjectPublicKey",void 0);let Time=class e{constructor(e){if(e){if(typeof e==="string"||typeof e==="number"||e instanceof Date){const t=new Date(e);if(t.getUTCFullYear()>2049){this.generalTime=t}else{this.utcTime=t}}else{Object.assign(this,e)}}}getTime(){const e=this.utcTime||this.generalTime;if(!e){throw new Error("Cannot get time from CHOICE object")}return e}};__decorate([AsnProp({type:AsnPropTypes.UTCTime})],Time.prototype,"utcTime",void 0);__decorate([AsnProp({type:AsnPropTypes.GeneralizedTime})],Time.prototype,"generalTime",void 0);Time=__decorate([AsnType({type:AsnTypeTypes.Choice})],Time);class Validity{constructor(e){this.notBefore=new Time(new Date);this.notAfter=new Time(new Date);if(e){this.notBefore=new Time(e.notBefore);this.notAfter=new Time(e.notAfter)}}}__decorate([AsnProp({type:Time})],Validity.prototype,"notBefore",void 0);__decorate([AsnProp({type:Time})],Validity.prototype,"notAfter",void 0);var Extensions_1;class Extension$1{constructor(e={}){this.extnID="";this.critical=Extension$1.CRITICAL;this.extnValue=new OctetString;Object.assign(this,e)}}Extension$1.CRITICAL=false;__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],Extension$1.prototype,"extnID",void 0);__decorate([AsnProp({type:AsnPropTypes.Boolean,defaultValue:Extension$1.CRITICAL})],Extension$1.prototype,"critical",void 0);__decorate([AsnProp({type:OctetString})],Extension$1.prototype,"extnValue",void 0);let Extensions=Extensions_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,Extensions_1.prototype)}};Extensions=Extensions_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:Extension$1})],Extensions);var Version$2;(function(e){e[e["v1"]=0]="v1";e[e["v2"]=1]="v2";e[e["v3"]=2]="v3"})(Version$2||(Version$2={}));class TBSCertificate{constructor(e={}){this.version=Version$2.v1;this.serialNumber=new ArrayBuffer(0);this.signature=new AlgorithmIdentifier$1;this.issuer=new Name$1;this.validity=new Validity;this.subject=new Name$1;this.subjectPublicKeyInfo=new SubjectPublicKeyInfo;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer,context:0,defaultValue:Version$2.v1})],TBSCertificate.prototype,"version",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],TBSCertificate.prototype,"serialNumber",void 0);__decorate([AsnProp({type:AlgorithmIdentifier$1})],TBSCertificate.prototype,"signature",void 0);__decorate([AsnProp({type:Name$1})],TBSCertificate.prototype,"issuer",void 0);__decorate([AsnProp({type:Validity})],TBSCertificate.prototype,"validity",void 0);__decorate([AsnProp({type:Name$1})],TBSCertificate.prototype,"subject",void 0);__decorate([AsnProp({type:SubjectPublicKeyInfo})],TBSCertificate.prototype,"subjectPublicKeyInfo",void 0);__decorate([AsnProp({type:AsnPropTypes.BitString,context:1,implicit:true,optional:true})],TBSCertificate.prototype,"issuerUniqueID",void 0);__decorate([AsnProp({type:AsnPropTypes.BitString,context:2,implicit:true,optional:true})],TBSCertificate.prototype,"subjectUniqueID",void 0);__decorate([AsnProp({type:Extensions,context:3,optional:true})],TBSCertificate.prototype,"extensions",void 0);class Certificate{constructor(e={}){this.tbsCertificate=new TBSCertificate;this.signatureAlgorithm=new AlgorithmIdentifier$1;this.signatureValue=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:TBSCertificate})],Certificate.prototype,"tbsCertificate",void 0);__decorate([AsnProp({type:AlgorithmIdentifier$1})],Certificate.prototype,"signatureAlgorithm",void 0);__decorate([AsnProp({type:AsnPropTypes.BitString})],Certificate.prototype,"signatureValue",void 0);class RevokedCertificate{constructor(e={}){this.userCertificate=new ArrayBuffer(0);this.revocationDate=new Time;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],RevokedCertificate.prototype,"userCertificate",void 0);__decorate([AsnProp({type:Time})],RevokedCertificate.prototype,"revocationDate",void 0);__decorate([AsnProp({type:Extension$1,optional:true,repeated:"sequence"})],RevokedCertificate.prototype,"crlEntryExtensions",void 0);class TBSCertList{constructor(e={}){this.signature=new AlgorithmIdentifier$1;this.issuer=new Name$1;this.thisUpdate=new Time;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer,optional:true})],TBSCertList.prototype,"version",void 0);__decorate([AsnProp({type:AlgorithmIdentifier$1})],TBSCertList.prototype,"signature",void 0);__decorate([AsnProp({type:Name$1})],TBSCertList.prototype,"issuer",void 0);__decorate([AsnProp({type:Time})],TBSCertList.prototype,"thisUpdate",void 0);__decorate([AsnProp({type:Time,optional:true})],TBSCertList.prototype,"nextUpdate",void 0);__decorate([AsnProp({type:RevokedCertificate,repeated:"sequence",optional:true})],TBSCertList.prototype,"revokedCertificates",void 0);__decorate([AsnProp({type:Extension$1,optional:true,context:0,repeated:"sequence"})],TBSCertList.prototype,"crlExtensions",void 0);class CertificateList{constructor(e={}){this.tbsCertList=new TBSCertList;this.signatureAlgorithm=new AlgorithmIdentifier$1;this.signature=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:TBSCertList})],CertificateList.prototype,"tbsCertList",void 0);__decorate([AsnProp({type:AlgorithmIdentifier$1})],CertificateList.prototype,"signatureAlgorithm",void 0);__decorate([AsnProp({type:AsnPropTypes.BitString})],CertificateList.prototype,"signature",void 0);class Attribute$1{constructor(e={}){this.attrType="";this.attrValues=[];Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],Attribute$1.prototype,"attrType",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,repeated:"set"})],Attribute$1.prototype,"attrValues",void 0);class ACClearAttrs{constructor(e={}){this.acIssuer=new GeneralName$1;this.acSerial=0;this.attrs=[];Object.assign(this,e)}}__decorate([AsnProp({type:GeneralName$1})],ACClearAttrs.prototype,"acIssuer",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer})],ACClearAttrs.prototype,"acSerial",void 0);__decorate([AsnProp({type:Attribute$2,repeated:"sequence"})],ACClearAttrs.prototype,"attrs",void 0);var AttrSpec_1;let AttrSpec=AttrSpec_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,AttrSpec_1.prototype)}};AttrSpec=AttrSpec_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:AsnPropTypes.ObjectIdentifier})],AttrSpec);class AAControls{constructor(e={}){this.permitUnSpecified=true;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer,optional:true})],AAControls.prototype,"pathLenConstraint",void 0);__decorate([AsnProp({type:AttrSpec,implicit:true,context:0,optional:true})],AAControls.prototype,"permittedAttrs",void 0);__decorate([AsnProp({type:AttrSpec,implicit:true,context:1,optional:true})],AAControls.prototype,"excludedAttrs",void 0);__decorate([AsnProp({type:AsnPropTypes.Boolean,defaultValue:true})],AAControls.prototype,"permitUnSpecified",void 0);class IssuerSerial{constructor(e={}){this.issuer=new GeneralNames$1;this.serial=new ArrayBuffer(0);this.issuerUID=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:GeneralNames$1})],IssuerSerial.prototype,"issuer",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],IssuerSerial.prototype,"serial",void 0);__decorate([AsnProp({type:AsnPropTypes.BitString,optional:true})],IssuerSerial.prototype,"issuerUID",void 0);var DigestedObjectType;(function(e){e[e["publicKey"]=0]="publicKey";e[e["publicKeyCert"]=1]="publicKeyCert";e[e["otherObjectTypes"]=2]="otherObjectTypes"})(DigestedObjectType||(DigestedObjectType={}));class ObjectDigestInfo{constructor(e={}){this.digestedObjectType=DigestedObjectType.publicKey;this.digestAlgorithm=new AlgorithmIdentifier$1;this.objectDigest=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Enumerated})],ObjectDigestInfo.prototype,"digestedObjectType",void 0);__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier,optional:true})],ObjectDigestInfo.prototype,"otherObjectTypeID",void 0);__decorate([AsnProp({type:AlgorithmIdentifier$1})],ObjectDigestInfo.prototype,"digestAlgorithm",void 0);__decorate([AsnProp({type:AsnPropTypes.BitString})],ObjectDigestInfo.prototype,"objectDigest",void 0);class V2Form{constructor(e={}){Object.assign(this,e)}}__decorate([AsnProp({type:GeneralNames$1,optional:true})],V2Form.prototype,"issuerName",void 0);__decorate([AsnProp({type:IssuerSerial,context:0,implicit:true,optional:true})],V2Form.prototype,"baseCertificateID",void 0);__decorate([AsnProp({type:ObjectDigestInfo,context:1,implicit:true,optional:true})],V2Form.prototype,"objectDigestInfo",void 0);let AttCertIssuer=class e{constructor(e={}){Object.assign(this,e)}};__decorate([AsnProp({type:GeneralName$1,repeated:"sequence"})],AttCertIssuer.prototype,"v1Form",void 0);__decorate([AsnProp({type:V2Form,context:0,implicit:true})],AttCertIssuer.prototype,"v2Form",void 0);AttCertIssuer=__decorate([AsnType({type:AsnTypeTypes.Choice})],AttCertIssuer);class AttCertValidityPeriod{constructor(e={}){this.notBeforeTime=new Date;this.notAfterTime=new Date;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.GeneralizedTime})],AttCertValidityPeriod.prototype,"notBeforeTime",void 0);__decorate([AsnProp({type:AsnPropTypes.GeneralizedTime})],AttCertValidityPeriod.prototype,"notAfterTime",void 0);class Holder{constructor(e={}){Object.assign(this,e)}}__decorate([AsnProp({type:IssuerSerial,implicit:true,context:0,optional:true})],Holder.prototype,"baseCertificateID",void 0);__decorate([AsnProp({type:GeneralNames$1,implicit:true,context:1,optional:true})],Holder.prototype,"entityName",void 0);__decorate([AsnProp({type:ObjectDigestInfo,implicit:true,context:2,optional:true})],Holder.prototype,"objectDigestInfo",void 0);var AttCertVersion;(function(e){e[e["v2"]=1]="v2"})(AttCertVersion||(AttCertVersion={}));class AttributeCertificateInfo{constructor(e={}){this.version=AttCertVersion.v2;this.holder=new Holder;this.issuer=new AttCertIssuer;this.signature=new AlgorithmIdentifier$1;this.serialNumber=new ArrayBuffer(0);this.attrCertValidityPeriod=new AttCertValidityPeriod;this.attributes=[];Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer})],AttributeCertificateInfo.prototype,"version",void 0);__decorate([AsnProp({type:Holder})],AttributeCertificateInfo.prototype,"holder",void 0);__decorate([AsnProp({type:AttCertIssuer})],AttributeCertificateInfo.prototype,"issuer",void 0);__decorate([AsnProp({type:AlgorithmIdentifier$1})],AttributeCertificateInfo.prototype,"signature",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],AttributeCertificateInfo.prototype,"serialNumber",void 0);__decorate([AsnProp({type:AttCertValidityPeriod})],AttributeCertificateInfo.prototype,"attrCertValidityPeriod",void 0);__decorate([AsnProp({type:Attribute$2,repeated:"sequence"})],AttributeCertificateInfo.prototype,"attributes",void 0);__decorate([AsnProp({type:AsnPropTypes.BitString,optional:true})],AttributeCertificateInfo.prototype,"issuerUniqueID",void 0);__decorate([AsnProp({type:Extensions,optional:true})],AttributeCertificateInfo.prototype,"extensions",void 0);class AttributeCertificate{constructor(e={}){this.acinfo=new AttributeCertificateInfo;this.signatureAlgorithm=new AlgorithmIdentifier$1;this.signatureValue=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AttributeCertificateInfo})],AttributeCertificate.prototype,"acinfo",void 0);__decorate([AsnProp({type:AlgorithmIdentifier$1})],AttributeCertificate.prototype,"signatureAlgorithm",void 0);__decorate([AsnProp({type:AsnPropTypes.BitString})],AttributeCertificate.prototype,"signatureValue",void 0);var ClassListFlags;(function(e){e[e["unmarked"]=1]="unmarked";e[e["unclassified"]=2]="unclassified";e[e["restricted"]=4]="restricted";e[e["confidential"]=8]="confidential";e[e["secret"]=16]="secret";e[e["topSecret"]=32]="topSecret"})(ClassListFlags||(ClassListFlags={}));class ClassList extends BitString{}class SecurityCategory{constructor(e={}){this.type="";this.value=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier,implicit:true,context:0})],SecurityCategory.prototype,"type",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,implicit:true,context:1})],SecurityCategory.prototype,"value",void 0);class Clearance{constructor(e={}){this.policyId="";this.classList=new ClassList(ClassListFlags.unclassified);Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],Clearance.prototype,"policyId",void 0);__decorate([AsnProp({type:ClassList,defaultValue:new ClassList(ClassListFlags.unclassified)})],Clearance.prototype,"classList",void 0);__decorate([AsnProp({type:SecurityCategory,repeated:"set"})],Clearance.prototype,"securityCategories",void 0);class IetfAttrSyntaxValueChoices{constructor(e={}){Object.assign(this,e)}}__decorate([AsnProp({type:OctetString})],IetfAttrSyntaxValueChoices.prototype,"cotets",void 0);__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],IetfAttrSyntaxValueChoices.prototype,"oid",void 0);__decorate([AsnProp({type:AsnPropTypes.Utf8String})],IetfAttrSyntaxValueChoices.prototype,"string",void 0);class IetfAttrSyntax{constructor(e={}){this.values=[];Object.assign(this,e)}}__decorate([AsnProp({type:GeneralNames$1,implicit:true,context:0,optional:true})],IetfAttrSyntax.prototype,"policyAuthority",void 0);__decorate([AsnProp({type:IetfAttrSyntaxValueChoices,repeated:"sequence"})],IetfAttrSyntax.prototype,"values",void 0);var Targets_1;class TargetCert{constructor(e={}){this.targetCertificate=new IssuerSerial;Object.assign(this,e)}}__decorate([AsnProp({type:IssuerSerial})],TargetCert.prototype,"targetCertificate",void 0);__decorate([AsnProp({type:GeneralName$1,optional:true})],TargetCert.prototype,"targetName",void 0);__decorate([AsnProp({type:ObjectDigestInfo,optional:true})],TargetCert.prototype,"certDigestInfo",void 0);let Target=class e{constructor(e={}){Object.assign(this,e)}};__decorate([AsnProp({type:GeneralName$1,context:0,implicit:true})],Target.prototype,"targetName",void 0);__decorate([AsnProp({type:GeneralName$1,context:1,implicit:true})],Target.prototype,"targetGroup",void 0);__decorate([AsnProp({type:TargetCert,context:2,implicit:true})],Target.prototype,"targetCert",void 0);Target=__decorate([AsnType({type:AsnTypeTypes.Choice})],Target);let Targets=Targets_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,Targets_1.prototype)}};Targets=Targets_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:Target})],Targets);var ProxyInfo_1;let ProxyInfo=ProxyInfo_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,ProxyInfo_1.prototype)}};ProxyInfo=ProxyInfo_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:Targets})],ProxyInfo);class RoleSyntax{constructor(e={}){Object.assign(this,e)}}__decorate([AsnProp({type:GeneralNames$1,implicit:true,context:0,optional:true})],RoleSyntax.prototype,"roleAuthority",void 0);__decorate([AsnProp({type:GeneralName$1,implicit:true,context:1})],RoleSyntax.prototype,"roleName",void 0);class SvceAuthInfo{constructor(e={}){this.service=new GeneralName$1;this.ident=new GeneralName$1;Object.assign(this,e)}}__decorate([AsnProp({type:GeneralName$1})],SvceAuthInfo.prototype,"service",void 0);__decorate([AsnProp({type:GeneralName$1})],SvceAuthInfo.prototype,"ident",void 0);__decorate([AsnProp({type:OctetString,optional:true})],SvceAuthInfo.prototype,"authInfo",void 0);var CertificateSet_1;class OtherCertificateFormat{constructor(e={}){this.otherCertFormat="";this.otherCert=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],OtherCertificateFormat.prototype,"otherCertFormat",void 0);__decorate([AsnProp({type:AsnPropTypes.Any})],OtherCertificateFormat.prototype,"otherCert",void 0);let CertificateChoices=class e{constructor(e={}){Object.assign(this,e)}};__decorate([AsnProp({type:Certificate})],CertificateChoices.prototype,"certificate",void 0);__decorate([AsnProp({type:AttributeCertificate,context:2,implicit:true})],CertificateChoices.prototype,"v2AttrCert",void 0);__decorate([AsnProp({type:OtherCertificateFormat,context:3,implicit:true})],CertificateChoices.prototype,"other",void 0);CertificateChoices=__decorate([AsnType({type:AsnTypeTypes.Choice})],CertificateChoices);let CertificateSet=CertificateSet_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,CertificateSet_1.prototype)}};CertificateSet=CertificateSet_1=__decorate([AsnType({type:AsnTypeTypes.Set,itemType:CertificateChoices})],CertificateSet);class ContentInfo{constructor(e={}){this.contentType="";this.content=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],ContentInfo.prototype,"contentType",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,context:0})],ContentInfo.prototype,"content",void 0);let EncapsulatedContent=class e{constructor(e={}){Object.assign(this,e)}};__decorate([AsnProp({type:OctetString})],EncapsulatedContent.prototype,"single",void 0);__decorate([AsnProp({type:AsnPropTypes.Any})],EncapsulatedContent.prototype,"any",void 0);EncapsulatedContent=__decorate([AsnType({type:AsnTypeTypes.Choice})],EncapsulatedContent);class EncapsulatedContentInfo{constructor(e={}){this.eContentType="";Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],EncapsulatedContentInfo.prototype,"eContentType",void 0);__decorate([AsnProp({type:EncapsulatedContent,context:0,optional:true})],EncapsulatedContentInfo.prototype,"eContent",void 0);var CMSVersion;(function(e){e[e["v0"]=0]="v0";e[e["v1"]=1]="v1";e[e["v2"]=2]="v2";e[e["v3"]=3]="v3";e[e["v4"]=4]="v4";e[e["v5"]=5]="v5"})(CMSVersion||(CMSVersion={}));let DigestAlgorithmIdentifier=class e extends AlgorithmIdentifier$1{};DigestAlgorithmIdentifier=__decorate([AsnType({type:AsnTypeTypes.Sequence})],DigestAlgorithmIdentifier);let SignatureAlgorithmIdentifier=class e extends AlgorithmIdentifier$1{};SignatureAlgorithmIdentifier=__decorate([AsnType({type:AsnTypeTypes.Sequence})],SignatureAlgorithmIdentifier);let KeyEncryptionAlgorithmIdentifier=class e extends AlgorithmIdentifier$1{};KeyEncryptionAlgorithmIdentifier=__decorate([AsnType({type:AsnTypeTypes.Sequence})],KeyEncryptionAlgorithmIdentifier);let ContentEncryptionAlgorithmIdentifier=class e extends AlgorithmIdentifier$1{};ContentEncryptionAlgorithmIdentifier=__decorate([AsnType({type:AsnTypeTypes.Sequence})],ContentEncryptionAlgorithmIdentifier);let MessageAuthenticationCodeAlgorithm=class e extends AlgorithmIdentifier$1{};MessageAuthenticationCodeAlgorithm=__decorate([AsnType({type:AsnTypeTypes.Sequence})],MessageAuthenticationCodeAlgorithm);let KeyDerivationAlgorithmIdentifier=class e extends AlgorithmIdentifier$1{};KeyDerivationAlgorithmIdentifier=__decorate([AsnType({type:AsnTypeTypes.Sequence})],KeyDerivationAlgorithmIdentifier);let EncryptedContent=class e{constructor(e={}){Object.assign(this,e)}};__decorate([AsnProp({type:OctetString,context:0,implicit:true,optional:true})],EncryptedContent.prototype,"value",void 0);__decorate([AsnProp({type:OctetString,converter:AsnConstructedOctetStringConverter,context:0,implicit:true,optional:true,repeated:"sequence"})],EncryptedContent.prototype,"constructedValue",void 0);EncryptedContent=__decorate([AsnType({type:AsnTypeTypes.Choice})],EncryptedContent);class EncryptedContentInfo{constructor(e={}){this.contentType="";this.contentEncryptionAlgorithm=new ContentEncryptionAlgorithmIdentifier;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],EncryptedContentInfo.prototype,"contentType",void 0);__decorate([AsnProp({type:ContentEncryptionAlgorithmIdentifier})],EncryptedContentInfo.prototype,"contentEncryptionAlgorithm",void 0);__decorate([AsnProp({type:EncryptedContent,optional:true})],EncryptedContentInfo.prototype,"encryptedContent",void 0);class IssuerAndSerialNumber{constructor(e={}){this.issuer=new Name$1;this.serialNumber=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:Name$1})],IssuerAndSerialNumber.prototype,"issuer",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],IssuerAndSerialNumber.prototype,"serialNumber",void 0);class OtherKeyAttribute{constructor(e={}){this.keyAttrId="";Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],OtherKeyAttribute.prototype,"keyAttrId",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,optional:true})],OtherKeyAttribute.prototype,"keyAttr",void 0);var RecipientEncryptedKeys_1;class RecipientKeyIdentifier{constructor(e={}){this.subjectKeyIdentifier=new SubjectKeyIdentifier;Object.assign(this,e)}}__decorate([AsnProp({type:SubjectKeyIdentifier})],RecipientKeyIdentifier.prototype,"subjectKeyIdentifier",void 0);__decorate([AsnProp({type:AsnPropTypes.GeneralizedTime,optional:true})],RecipientKeyIdentifier.prototype,"date",void 0);__decorate([AsnProp({type:OtherKeyAttribute,optional:true})],RecipientKeyIdentifier.prototype,"other",void 0);let KeyAgreeRecipientIdentifier=class e{constructor(e={}){Object.assign(this,e)}};__decorate([AsnProp({type:RecipientKeyIdentifier,context:0,implicit:true,optional:true})],KeyAgreeRecipientIdentifier.prototype,"rKeyId",void 0);__decorate([AsnProp({type:IssuerAndSerialNumber,optional:true})],KeyAgreeRecipientIdentifier.prototype,"issuerAndSerialNumber",void 0);KeyAgreeRecipientIdentifier=__decorate([AsnType({type:AsnTypeTypes.Choice})],KeyAgreeRecipientIdentifier);class RecipientEncryptedKey{constructor(e={}){this.rid=new KeyAgreeRecipientIdentifier;this.encryptedKey=new OctetString;Object.assign(this,e)}}__decorate([AsnProp({type:KeyAgreeRecipientIdentifier})],RecipientEncryptedKey.prototype,"rid",void 0);__decorate([AsnProp({type:OctetString})],RecipientEncryptedKey.prototype,"encryptedKey",void 0);let RecipientEncryptedKeys=RecipientEncryptedKeys_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,RecipientEncryptedKeys_1.prototype)}};RecipientEncryptedKeys=RecipientEncryptedKeys_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:RecipientEncryptedKey})],RecipientEncryptedKeys);class OriginatorPublicKey{constructor(e={}){this.algorithm=new AlgorithmIdentifier$1;this.publicKey=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AlgorithmIdentifier$1})],OriginatorPublicKey.prototype,"algorithm",void 0);__decorate([AsnProp({type:AsnPropTypes.BitString})],OriginatorPublicKey.prototype,"publicKey",void 0);let OriginatorIdentifierOrKey=class e{constructor(e={}){Object.assign(this,e)}};__decorate([AsnProp({type:SubjectKeyIdentifier,context:0,implicit:true,optional:true})],OriginatorIdentifierOrKey.prototype,"subjectKeyIdentifier",void 0);__decorate([AsnProp({type:OriginatorPublicKey,context:1,implicit:true,optional:true})],OriginatorIdentifierOrKey.prototype,"originatorKey",void 0);__decorate([AsnProp({type:IssuerAndSerialNumber,optional:true})],OriginatorIdentifierOrKey.prototype,"issuerAndSerialNumber",void 0);OriginatorIdentifierOrKey=__decorate([AsnType({type:AsnTypeTypes.Choice})],OriginatorIdentifierOrKey);class KeyAgreeRecipientInfo{constructor(e={}){this.version=CMSVersion.v3;this.originator=new OriginatorIdentifierOrKey;this.keyEncryptionAlgorithm=new KeyEncryptionAlgorithmIdentifier;this.recipientEncryptedKeys=new RecipientEncryptedKeys;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer})],KeyAgreeRecipientInfo.prototype,"version",void 0);__decorate([AsnProp({type:OriginatorIdentifierOrKey,context:0})],KeyAgreeRecipientInfo.prototype,"originator",void 0);__decorate([AsnProp({type:OctetString,context:1,optional:true})],KeyAgreeRecipientInfo.prototype,"ukm",void 0);__decorate([AsnProp({type:KeyEncryptionAlgorithmIdentifier})],KeyAgreeRecipientInfo.prototype,"keyEncryptionAlgorithm",void 0);__decorate([AsnProp({type:RecipientEncryptedKeys})],KeyAgreeRecipientInfo.prototype,"recipientEncryptedKeys",void 0);let RecipientIdentifier=class e{constructor(e={}){Object.assign(this,e)}};__decorate([AsnProp({type:SubjectKeyIdentifier,context:0,implicit:true})],RecipientIdentifier.prototype,"subjectKeyIdentifier",void 0);__decorate([AsnProp({type:IssuerAndSerialNumber})],RecipientIdentifier.prototype,"issuerAndSerialNumber",void 0);RecipientIdentifier=__decorate([AsnType({type:AsnTypeTypes.Choice})],RecipientIdentifier);class KeyTransRecipientInfo{constructor(e={}){this.version=CMSVersion.v0;this.rid=new RecipientIdentifier;this.keyEncryptionAlgorithm=new KeyEncryptionAlgorithmIdentifier;this.encryptedKey=new OctetString;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer})],KeyTransRecipientInfo.prototype,"version",void 0);__decorate([AsnProp({type:RecipientIdentifier})],KeyTransRecipientInfo.prototype,"rid",void 0);__decorate([AsnProp({type:KeyEncryptionAlgorithmIdentifier})],KeyTransRecipientInfo.prototype,"keyEncryptionAlgorithm",void 0);__decorate([AsnProp({type:OctetString})],KeyTransRecipientInfo.prototype,"encryptedKey",void 0);class KEKIdentifier{constructor(e={}){this.keyIdentifier=new OctetString;Object.assign(this,e)}}__decorate([AsnProp({type:OctetString})],KEKIdentifier.prototype,"keyIdentifier",void 0);__decorate([AsnProp({type:AsnPropTypes.GeneralizedTime,optional:true})],KEKIdentifier.prototype,"date",void 0);__decorate([AsnProp({type:OtherKeyAttribute,optional:true})],KEKIdentifier.prototype,"other",void 0);class KEKRecipientInfo{constructor(e={}){this.version=CMSVersion.v4;this.kekid=new KEKIdentifier;this.keyEncryptionAlgorithm=new KeyEncryptionAlgorithmIdentifier;this.encryptedKey=new OctetString;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer})],KEKRecipientInfo.prototype,"version",void 0);__decorate([AsnProp({type:KEKIdentifier})],KEKRecipientInfo.prototype,"kekid",void 0);__decorate([AsnProp({type:KeyEncryptionAlgorithmIdentifier})],KEKRecipientInfo.prototype,"keyEncryptionAlgorithm",void 0);__decorate([AsnProp({type:OctetString})],KEKRecipientInfo.prototype,"encryptedKey",void 0);class PasswordRecipientInfo{constructor(e={}){this.version=CMSVersion.v0;this.keyEncryptionAlgorithm=new KeyEncryptionAlgorithmIdentifier;this.encryptedKey=new OctetString;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer})],PasswordRecipientInfo.prototype,"version",void 0);__decorate([AsnProp({type:KeyDerivationAlgorithmIdentifier,context:0,optional:true})],PasswordRecipientInfo.prototype,"keyDerivationAlgorithm",void 0);__decorate([AsnProp({type:KeyEncryptionAlgorithmIdentifier})],PasswordRecipientInfo.prototype,"keyEncryptionAlgorithm",void 0);__decorate([AsnProp({type:OctetString})],PasswordRecipientInfo.prototype,"encryptedKey",void 0);class OtherRecipientInfo{constructor(e={}){this.oriType="";this.oriValue=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],OtherRecipientInfo.prototype,"oriType",void 0);__decorate([AsnProp({type:AsnPropTypes.Any})],OtherRecipientInfo.prototype,"oriValue",void 0);let RecipientInfo=class e{constructor(e={}){Object.assign(this,e)}};__decorate([AsnProp({type:KeyTransRecipientInfo,optional:true})],RecipientInfo.prototype,"ktri",void 0);__decorate([AsnProp({type:KeyAgreeRecipientInfo,context:1,implicit:true,optional:true})],RecipientInfo.prototype,"kari",void 0);__decorate([AsnProp({type:KEKRecipientInfo,context:2,implicit:true,optional:true})],RecipientInfo.prototype,"kekri",void 0);__decorate([AsnProp({type:PasswordRecipientInfo,context:3,implicit:true,optional:true})],RecipientInfo.prototype,"pwri",void 0);__decorate([AsnProp({type:OtherRecipientInfo,context:4,implicit:true,optional:true})],RecipientInfo.prototype,"ori",void 0);RecipientInfo=__decorate([AsnType({type:AsnTypeTypes.Choice})],RecipientInfo);var RecipientInfos_1;let RecipientInfos=RecipientInfos_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,RecipientInfos_1.prototype)}};RecipientInfos=RecipientInfos_1=__decorate([AsnType({type:AsnTypeTypes.Set,itemType:RecipientInfo})],RecipientInfos);var RevocationInfoChoices_1;class OtherRevocationInfoFormat{constructor(e={}){this.otherRevInfoFormat="";this.otherRevInfo=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],OtherRevocationInfoFormat.prototype,"otherRevInfoFormat",void 0);__decorate([AsnProp({type:AsnPropTypes.Any})],OtherRevocationInfoFormat.prototype,"otherRevInfo",void 0);let RevocationInfoChoice=class e{constructor(e={}){this.other=new OtherRevocationInfoFormat;Object.assign(this,e)}};__decorate([AsnProp({type:OtherRevocationInfoFormat,context:1,implicit:true})],RevocationInfoChoice.prototype,"other",void 0);RevocationInfoChoice=__decorate([AsnType({type:AsnTypeTypes.Choice})],RevocationInfoChoice);let RevocationInfoChoices=RevocationInfoChoices_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,RevocationInfoChoices_1.prototype)}};RevocationInfoChoices=RevocationInfoChoices_1=__decorate([AsnType({type:AsnTypeTypes.Set,itemType:RevocationInfoChoice})],RevocationInfoChoices);class OriginatorInfo{constructor(e={}){Object.assign(this,e)}}__decorate([AsnProp({type:CertificateSet,context:0,implicit:true,optional:true})],OriginatorInfo.prototype,"certs",void 0);__decorate([AsnProp({type:RevocationInfoChoices,context:1,implicit:true,optional:true})],OriginatorInfo.prototype,"crls",void 0);var UnprotectedAttributes_1;let UnprotectedAttributes=UnprotectedAttributes_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,UnprotectedAttributes_1.prototype)}};UnprotectedAttributes=UnprotectedAttributes_1=__decorate([AsnType({type:AsnTypeTypes.Set,itemType:Attribute$1})],UnprotectedAttributes);class EnvelopedData{constructor(e={}){this.version=CMSVersion.v0;this.recipientInfos=new RecipientInfos;this.encryptedContentInfo=new EncryptedContentInfo;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer})],EnvelopedData.prototype,"version",void 0);__decorate([AsnProp({type:OriginatorInfo,context:0,implicit:true,optional:true})],EnvelopedData.prototype,"originatorInfo",void 0);__decorate([AsnProp({type:RecipientInfos})],EnvelopedData.prototype,"recipientInfos",void 0);__decorate([AsnProp({type:EncryptedContentInfo})],EnvelopedData.prototype,"encryptedContentInfo",void 0);__decorate([AsnProp({type:UnprotectedAttributes,context:1,implicit:true,optional:true})],EnvelopedData.prototype,"unprotectedAttrs",void 0);const id_data="1.2.840.113549.1.7.1";const id_signedData="1.2.840.113549.1.7.2";let SignerIdentifier=class e{constructor(e={}){Object.assign(this,e)}};__decorate([AsnProp({type:SubjectKeyIdentifier,context:0,implicit:true})],SignerIdentifier.prototype,"subjectKeyIdentifier",void 0);__decorate([AsnProp({type:IssuerAndSerialNumber})],SignerIdentifier.prototype,"issuerAndSerialNumber",void 0);SignerIdentifier=__decorate([AsnType({type:AsnTypeTypes.Choice})],SignerIdentifier);var SignerInfos_1;class SignerInfo{constructor(e={}){this.version=CMSVersion.v0;this.sid=new SignerIdentifier;this.digestAlgorithm=new DigestAlgorithmIdentifier;this.signatureAlgorithm=new SignatureAlgorithmIdentifier;this.signature=new OctetString;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer})],SignerInfo.prototype,"version",void 0);__decorate([AsnProp({type:SignerIdentifier})],SignerInfo.prototype,"sid",void 0);__decorate([AsnProp({type:DigestAlgorithmIdentifier})],SignerInfo.prototype,"digestAlgorithm",void 0);__decorate([AsnProp({type:Attribute$1,repeated:"set",context:0,implicit:true,optional:true})],SignerInfo.prototype,"signedAttrs",void 0);__decorate([AsnProp({type:SignatureAlgorithmIdentifier})],SignerInfo.prototype,"signatureAlgorithm",void 0);__decorate([AsnProp({type:OctetString})],SignerInfo.prototype,"signature",void 0);__decorate([AsnProp({type:Attribute$1,repeated:"set",context:1,implicit:true,optional:true})],SignerInfo.prototype,"unsignedAttrs",void 0);let SignerInfos=SignerInfos_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,SignerInfos_1.prototype)}};SignerInfos=SignerInfos_1=__decorate([AsnType({type:AsnTypeTypes.Set,itemType:SignerInfo})],SignerInfos);var DigestAlgorithmIdentifiers_1;let DigestAlgorithmIdentifiers=DigestAlgorithmIdentifiers_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,DigestAlgorithmIdentifiers_1.prototype)}};DigestAlgorithmIdentifiers=DigestAlgorithmIdentifiers_1=__decorate([AsnType({type:AsnTypeTypes.Set,itemType:DigestAlgorithmIdentifier})],DigestAlgorithmIdentifiers);class SignedData{constructor(e={}){this.version=CMSVersion.v0;this.digestAlgorithms=new DigestAlgorithmIdentifiers;this.encapContentInfo=new EncapsulatedContentInfo;this.signerInfos=new SignerInfos;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer})],SignedData.prototype,"version",void 0);__decorate([AsnProp({type:DigestAlgorithmIdentifiers})],SignedData.prototype,"digestAlgorithms",void 0);__decorate([AsnProp({type:EncapsulatedContentInfo})],SignedData.prototype,"encapContentInfo",void 0);__decorate([AsnProp({type:CertificateSet,context:0,implicit:true,optional:true})],SignedData.prototype,"certificates",void 0);__decorate([AsnProp({type:RevocationInfoChoice,context:1,implicit:true,optional:true})],SignedData.prototype,"crls",void 0);__decorate([AsnProp({type:SignerInfos})],SignedData.prototype,"signerInfos",void 0);const id_ecPublicKey="1.2.840.10045.2.1";const id_ecdsaWithSHA1="1.2.840.10045.4.1";const id_ecdsaWithSHA224="1.2.840.10045.4.3.1";const id_ecdsaWithSHA256="1.2.840.10045.4.3.2";const id_ecdsaWithSHA384="1.2.840.10045.4.3.3";const id_ecdsaWithSHA512="1.2.840.10045.4.3.4";const id_secp256r1="1.2.840.10045.3.1.7";const id_secp384r1="1.3.132.0.34";const id_secp521r1="1.3.132.0.35";function create$5(e){return new AlgorithmIdentifier$1({algorithm:e})}const ecdsaWithSHA1=create$5(id_ecdsaWithSHA1);create$5(id_ecdsaWithSHA224);const ecdsaWithSHA256=create$5(id_ecdsaWithSHA256);const ecdsaWithSHA384=create$5(id_ecdsaWithSHA384);const ecdsaWithSHA512=create$5(id_ecdsaWithSHA512);let ECParameters=class e{constructor(e={}){Object.assign(this,e)}};__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],ECParameters.prototype,"namedCurve",void 0);ECParameters=__decorate([AsnType({type:AsnTypeTypes.Choice})],ECParameters);class ECPrivateKey{constructor(e={}){this.version=1;this.privateKey=new OctetString;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer})],ECPrivateKey.prototype,"version",void 0);__decorate([AsnProp({type:OctetString})],ECPrivateKey.prototype,"privateKey",void 0);__decorate([AsnProp({type:ECParameters,context:0,optional:true})],ECPrivateKey.prototype,"parameters",void 0);__decorate([AsnProp({type:AsnPropTypes.BitString,context:1,optional:true})],ECPrivateKey.prototype,"publicKey",void 0);class ECDSASigValue{constructor(e={}){this.r=new ArrayBuffer(0);this.s=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],ECDSASigValue.prototype,"r",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],ECDSASigValue.prototype,"s",void 0);const id_pkcs_1="1.2.840.113549.1.1";const id_rsaEncryption=`${id_pkcs_1}.1`;const id_RSAES_OAEP=`${id_pkcs_1}.7`;const id_pSpecified=`${id_pkcs_1}.9`;const id_RSASSA_PSS=`${id_pkcs_1}.10`;const id_md2WithRSAEncryption=`${id_pkcs_1}.2`;const id_md5WithRSAEncryption=`${id_pkcs_1}.4`;const id_sha1WithRSAEncryption=`${id_pkcs_1}.5`;const id_sha224WithRSAEncryption=`${id_pkcs_1}.14`;const id_sha256WithRSAEncryption=`${id_pkcs_1}.11`;const id_sha384WithRSAEncryption=`${id_pkcs_1}.12`;const id_sha512WithRSAEncryption=`${id_pkcs_1}.13`;const id_sha512_224WithRSAEncryption=`${id_pkcs_1}.15`;const id_sha512_256WithRSAEncryption=`${id_pkcs_1}.16`;const id_sha1="1.3.14.3.2.26";const id_sha224="2.16.840.1.101.3.4.2.4";const id_sha256="2.16.840.1.101.3.4.2.1";const id_sha384="2.16.840.1.101.3.4.2.2";const id_sha512="2.16.840.1.101.3.4.2.3";const id_sha512_224="2.16.840.1.101.3.4.2.5";const id_sha512_256="2.16.840.1.101.3.4.2.6";const id_md2="1.2.840.113549.2.2";const id_md5="1.2.840.113549.2.5";const id_mgf1=`${id_pkcs_1}.8`;function create$4(e){return new AlgorithmIdentifier$1({algorithm:e,parameters:null})}create$4(id_md2);create$4(id_md5);const sha1$1=create$4(id_sha1);create$4(id_sha224);create$4(id_sha256);create$4(id_sha384);create$4(id_sha512);create$4(id_sha512_224);create$4(id_sha512_256);const mgf1SHA1=new AlgorithmIdentifier$1({algorithm:id_mgf1,parameters:AsnConvert.serialize(sha1$1)});const pSpecifiedEmpty=new AlgorithmIdentifier$1({algorithm:id_pSpecified,parameters:AsnConvert.serialize(AsnOctetStringConverter.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))});create$4(id_rsaEncryption);create$4(id_md2WithRSAEncryption);create$4(id_md5WithRSAEncryption);create$4(id_sha1WithRSAEncryption);create$4(id_sha512_224WithRSAEncryption);create$4(id_sha512_256WithRSAEncryption);create$4(id_sha384WithRSAEncryption);create$4(id_sha512WithRSAEncryption);create$4(id_sha512_224WithRSAEncryption);create$4(id_sha512_256WithRSAEncryption);class RsaEsOaepParams{constructor(e={}){this.hashAlgorithm=new AlgorithmIdentifier$1(sha1$1);this.maskGenAlgorithm=new AlgorithmIdentifier$1({algorithm:id_mgf1,parameters:AsnConvert.serialize(sha1$1)});this.pSourceAlgorithm=new AlgorithmIdentifier$1(pSpecifiedEmpty);Object.assign(this,e)}}__decorate([AsnProp({type:AlgorithmIdentifier$1,context:0,defaultValue:sha1$1})],RsaEsOaepParams.prototype,"hashAlgorithm",void 0);__decorate([AsnProp({type:AlgorithmIdentifier$1,context:1,defaultValue:mgf1SHA1})],RsaEsOaepParams.prototype,"maskGenAlgorithm",void 0);__decorate([AsnProp({type:AlgorithmIdentifier$1,context:2,defaultValue:pSpecifiedEmpty})],RsaEsOaepParams.prototype,"pSourceAlgorithm",void 0);new AlgorithmIdentifier$1({algorithm:id_RSAES_OAEP,parameters:AsnConvert.serialize(new RsaEsOaepParams)});class RsaSaPssParams{constructor(e={}){this.hashAlgorithm=new AlgorithmIdentifier$1(sha1$1);this.maskGenAlgorithm=new AlgorithmIdentifier$1({algorithm:id_mgf1,parameters:AsnConvert.serialize(sha1$1)});this.saltLength=20;this.trailerField=1;Object.assign(this,e)}}__decorate([AsnProp({type:AlgorithmIdentifier$1,context:0,defaultValue:sha1$1})],RsaSaPssParams.prototype,"hashAlgorithm",void 0);__decorate([AsnProp({type:AlgorithmIdentifier$1,context:1,defaultValue:mgf1SHA1})],RsaSaPssParams.prototype,"maskGenAlgorithm",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,context:2,defaultValue:20})],RsaSaPssParams.prototype,"saltLength",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,context:3,defaultValue:1})],RsaSaPssParams.prototype,"trailerField",void 0);new AlgorithmIdentifier$1({algorithm:id_RSASSA_PSS,parameters:AsnConvert.serialize(new RsaSaPssParams)});class DigestInfo{constructor(e={}){this.digestAlgorithm=new AlgorithmIdentifier$1;this.digest=new OctetString;Object.assign(this,e)}}__decorate([AsnProp({type:AlgorithmIdentifier$1})],DigestInfo.prototype,"digestAlgorithm",void 0);__decorate([AsnProp({type:OctetString})],DigestInfo.prototype,"digest",void 0);var OtherPrimeInfos_1;class OtherPrimeInfo{constructor(e={}){this.prime=new ArrayBuffer(0);this.exponent=new ArrayBuffer(0);this.coefficient=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],OtherPrimeInfo.prototype,"prime",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],OtherPrimeInfo.prototype,"exponent",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],OtherPrimeInfo.prototype,"coefficient",void 0);let OtherPrimeInfos=OtherPrimeInfos_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,OtherPrimeInfos_1.prototype)}};OtherPrimeInfos=OtherPrimeInfos_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:OtherPrimeInfo})],OtherPrimeInfos);class RSAPrivateKey{constructor(e={}){this.version=0;this.modulus=new ArrayBuffer(0);this.publicExponent=new ArrayBuffer(0);this.privateExponent=new ArrayBuffer(0);this.prime1=new ArrayBuffer(0);this.prime2=new ArrayBuffer(0);this.exponent1=new ArrayBuffer(0);this.exponent2=new ArrayBuffer(0);this.coefficient=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer})],RSAPrivateKey.prototype,"version",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],RSAPrivateKey.prototype,"modulus",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],RSAPrivateKey.prototype,"publicExponent",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],RSAPrivateKey.prototype,"privateExponent",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],RSAPrivateKey.prototype,"prime1",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],RSAPrivateKey.prototype,"prime2",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],RSAPrivateKey.prototype,"exponent1",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],RSAPrivateKey.prototype,"exponent2",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],RSAPrivateKey.prototype,"coefficient",void 0);__decorate([AsnProp({type:OtherPrimeInfos,optional:true})],RSAPrivateKey.prototype,"otherPrimeInfos",void 0);class RSAPublicKey{constructor(e={}){this.modulus=new ArrayBuffer(0);this.publicExponent=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],RSAPublicKey.prototype,"modulus",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1})],RSAPublicKey.prototype,"publicExponent",void 0);var Lifecycle;(function(e){e[e["Transient"]=0]="Transient";e[e["Singleton"]=1]="Singleton";e[e["ResolutionScoped"]=2]="ResolutionScoped";e[e["ContainerScoped"]=3]="ContainerScoped"})(Lifecycle||(Lifecycle={}));const Lifecycle$1=Lifecycle;const INJECTION_TOKEN_METADATA_KEY="injectionTokens";function getParamInfo(e){const t=Reflect.getMetadata("design:paramtypes",e)||[];const r=Reflect.getOwnMetadata(INJECTION_TOKEN_METADATA_KEY,e)||{};Object.keys(r).forEach((e=>{t[+e]=r[e]}));return t}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __awaiter$g(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))}function isClassProvider(e){return!!e.useClass}function isFactoryProvider(e){return!!e.useFactory}class DelayedConstructor{constructor(e){this.wrap=e;this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}createProxy(e){const t={};let r=false;let n;const i=()=>{if(!r){n=e(this.wrap());r=true}return n};return new Proxy(t,this.createHandler(i))}createHandler(e){const t={};const r=r=>{t[r]=(...t)=>{t[0]=e();const n=Reflect[r];return n(...t)}};this.reflectMethods.forEach(r);return t}}function isNormalToken(e){return typeof e==="string"||typeof e==="symbol"}function isTokenDescriptor(e){return typeof e==="object"&&"token"in e&&"multiple"in e}function isTransformDescriptor(e){return typeof e==="object"&&"token"in e&&"transform"in e}function isConstructorToken(e){return typeof e==="function"||e instanceof DelayedConstructor}function isTokenProvider(e){return!!e.useToken}function isValueProvider(e){return e.useValue!=undefined}function isProvider(e){return isClassProvider(e)||isValueProvider(e)||isTokenProvider(e)||isFactoryProvider(e)}class RegistryBase{constructor(){this._registryMap=new Map}entries(){return this._registryMap.entries()}getAll(e){this.ensure(e);return this._registryMap.get(e)}get(e){this.ensure(e);const t=this._registryMap.get(e);return t[t.length-1]||null}set(e,t){this.ensure(e);this._registryMap.get(e).push(t)}setAll(e,t){this._registryMap.set(e,t)}has(e){this.ensure(e);return this._registryMap.get(e).length>0}clear(){this._registryMap.clear()}ensure(e){if(!this._registryMap.has(e)){this._registryMap.set(e,[])}}}class Registry extends RegistryBase{}class ResolutionContext{constructor(){this.scopedResolutions=new Map}}function formatDependency(e,t){if(e===null){return`at position #${t}`}const r=e.split(",")[t].trim();return`"${r}" at position #${t}`}function composeErrorMessage(e,t,r="    "){return[e,...t.message.split("\n").map((e=>r+e))].join("\n")}function formatErrorCtor(e,t,r){const[,n=null]=e.toString().match(/constructor\(([\w, ]+)\)/)||[];const i=formatDependency(n,t);return composeErrorMessage(`Cannot inject the dependency ${i} of "${e.name}" constructor. Reason:`,r)}function isDisposable(e){if(typeof e.dispose!=="function")return false;const t=e.dispose;if(t.length>0){return false}return true}class PreResolutionInterceptors extends RegistryBase{}class PostResolutionInterceptors extends RegistryBase{}class Interceptors{constructor(){this.preResolution=new PreResolutionInterceptors;this.postResolution=new PostResolutionInterceptors}}const typeInfo=new Map;class InternalDependencyContainer{constructor(e){this.parent=e;this._registry=new Registry;this.interceptors=new Interceptors;this.disposed=false;this.disposables=new Set}register(e,t,r={lifecycle:Lifecycle$1.Transient}){this.ensureNotDisposed();let n;if(!isProvider(t)){n={useClass:t}}else{n=t}if(isTokenProvider(n)){const t=[e];let r=n;while(r!=null){const e=r.useToken;if(t.includes(e)){throw new Error(`Token registration cycle detected! ${[...t,e].join(" -> ")}`)}t.push(e);const n=this._registry.get(e);if(n&&isTokenProvider(n.provider)){r=n.provider}else{r=null}}}if(r.lifecycle===Lifecycle$1.Singleton||r.lifecycle==Lifecycle$1.ContainerScoped||r.lifecycle==Lifecycle$1.ResolutionScoped){if(isValueProvider(n)||isFactoryProvider(n)){throw new Error(`Cannot use lifecycle "${Lifecycle$1[r.lifecycle]}" with ValueProviders or FactoryProviders`)}}this._registry.set(e,{provider:n,options:r});return this}registerType(e,t){this.ensureNotDisposed();if(isNormalToken(t)){return this.register(e,{useToken:t})}return this.register(e,{useClass:t})}registerInstance(e,t){this.ensureNotDisposed();return this.register(e,{useValue:t})}registerSingleton(e,t){this.ensureNotDisposed();if(isNormalToken(e)){if(isNormalToken(t)){return this.register(e,{useToken:t},{lifecycle:Lifecycle$1.Singleton})}else if(t){return this.register(e,{useClass:t},{lifecycle:Lifecycle$1.Singleton})}throw new Error('Cannot register a type name as a singleton without a "to" token')}let r=e;if(t&&!isNormalToken(t)){r=t}return this.register(e,{useClass:r},{lifecycle:Lifecycle$1.Singleton})}resolve(e,t=new ResolutionContext){this.ensureNotDisposed();const r=this.getRegistration(e);if(!r&&isNormalToken(e)){throw new Error(`Attempted to resolve unregistered dependency token: "${e.toString()}"`)}this.executePreResolutionInterceptor(e,"Single");if(r){const n=this.resolveRegistration(r,t);this.executePostResolutionInterceptor(e,n,"Single");return n}if(isConstructorToken(e)){const r=this.construct(e,t);this.executePostResolutionInterceptor(e,r,"Single");return r}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")}executePreResolutionInterceptor(e,t){if(this.interceptors.preResolution.has(e)){const r=[];for(const n of this.interceptors.preResolution.getAll(e)){if(n.options.frequency!="Once"){r.push(n)}n.callback(e,t)}this.interceptors.preResolution.setAll(e,r)}}executePostResolutionInterceptor(e,t,r){if(this.interceptors.postResolution.has(e)){const n=[];for(const i of this.interceptors.postResolution.getAll(e)){if(i.options.frequency!="Once"){n.push(i)}i.callback(e,t,r)}this.interceptors.postResolution.setAll(e,n)}}resolveRegistration(e,t){this.ensureNotDisposed();if(e.options.lifecycle===Lifecycle$1.ResolutionScoped&&t.scopedResolutions.has(e)){return t.scopedResolutions.get(e)}const r=e.options.lifecycle===Lifecycle$1.Singleton;const n=e.options.lifecycle===Lifecycle$1.ContainerScoped;const i=r||n;let s;if(isValueProvider(e.provider)){s=e.provider.useValue}else if(isTokenProvider(e.provider)){s=i?e.instance||(e.instance=this.resolve(e.provider.useToken,t)):this.resolve(e.provider.useToken,t)}else if(isClassProvider(e.provider)){s=i?e.instance||(e.instance=this.construct(e.provider.useClass,t)):this.construct(e.provider.useClass,t)}else if(isFactoryProvider(e.provider)){s=e.provider.useFactory(this)}else{s=this.construct(e.provider,t)}if(e.options.lifecycle===Lifecycle$1.ResolutionScoped){t.scopedResolutions.set(e,s)}return s}resolveAll(e,t=new ResolutionContext){this.ensureNotDisposed();const r=this.getAllRegistrations(e);if(!r&&isNormalToken(e)){throw new Error(`Attempted to resolve unregistered dependency token: "${e.toString()}"`)}this.executePreResolutionInterceptor(e,"All");if(r){const n=r.map((e=>this.resolveRegistration(e,t)));this.executePostResolutionInterceptor(e,n,"All");return n}const n=[this.construct(e,t)];this.executePostResolutionInterceptor(e,n,"All");return n}isRegistered(e,t=false){this.ensureNotDisposed();return this._registry.has(e)||t&&(this.parent||false)&&this.parent.isRegistered(e,true)}reset(){this.ensureNotDisposed();this._registry.clear();this.interceptors.preResolution.clear();this.interceptors.postResolution.clear()}clearInstances(){this.ensureNotDisposed();for(const[e,t]of this._registry.entries()){this._registry.setAll(e,t.filter((e=>!isValueProvider(e.provider))).map((e=>{e.instance=undefined;return e})))}}createChildContainer(){this.ensureNotDisposed();const e=new InternalDependencyContainer(this);for(const[t,r]of this._registry.entries()){if(r.some((({options:e})=>e.lifecycle===Lifecycle$1.ContainerScoped))){e._registry.setAll(t,r.map((e=>{if(e.options.lifecycle===Lifecycle$1.ContainerScoped){return{provider:e.provider,options:e.options}}return e})))}}return e}beforeResolution(e,t,r={frequency:"Always"}){this.interceptors.preResolution.set(e,{callback:t,options:r})}afterResolution(e,t,r={frequency:"Always"}){this.interceptors.postResolution.set(e,{callback:t,options:r})}dispose(){return __awaiter$g(this,void 0,void 0,(function*(){this.disposed=true;const e=[];this.disposables.forEach((t=>{const r=t.dispose();if(r){e.push(r)}}));yield Promise.all(e)}))}getRegistration(e){if(this.isRegistered(e)){return this._registry.get(e)}if(this.parent){return this.parent.getRegistration(e)}return null}getAllRegistrations(e){if(this.isRegistered(e)){return this._registry.getAll(e)}if(this.parent){return this.parent.getAllRegistrations(e)}return null}construct(e,t){if(e instanceof DelayedConstructor){return e.createProxy((e=>this.resolve(e,t)))}const r=(()=>{const r=typeInfo.get(e);if(!r||r.length===0){if(e.length===0){return new e}else{throw new Error(`TypeInfo not known for "${e.name}"`)}}const n=r.map(this.resolveParams(t,e));return new e(...n)})();if(isDisposable(r)){this.disposables.add(r)}return r}resolveParams(e,t){return(r,n)=>{try{if(isTokenDescriptor(r)){if(isTransformDescriptor(r)){return r.multiple?this.resolve(r.transform).transform(this.resolveAll(r.token),...r.transformArgs):this.resolve(r.transform).transform(this.resolve(r.token,e),...r.transformArgs)}else{return r.multiple?this.resolveAll(r.token):this.resolve(r.token,e)}}else if(isTransformDescriptor(r)){return this.resolve(r.transform,e).transform(this.resolve(r.token,e),...r.transformArgs)}return this.resolve(r,e)}catch(e){throw new Error(formatErrorCtor(t,n,e))}}}ensureNotDisposed(){if(this.disposed){throw new Error("This container has been disposed, you cannot interact with a disposed container")}}}const instance=new InternalDependencyContainer;function injectable(){return function(e){typeInfo.set(e,getParamInfo(e))}}if(typeof Reflect==="undefined"||!Reflect.getMetadata){throw new Error(`tsyringe requires a reflect polyfill. Please add 'import "reflect-metadata"' to the top of your entry point.`)}var PKCS12AttrSet_1;class PKCS12Attribute{constructor(e={}){this.attrId="";this.attrValues=[];Object.assign(e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],PKCS12Attribute.prototype,"attrId",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,repeated:"set"})],PKCS12Attribute.prototype,"attrValues",void 0);let PKCS12AttrSet=PKCS12AttrSet_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,PKCS12AttrSet_1.prototype)}};PKCS12AttrSet=PKCS12AttrSet_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:PKCS12Attribute})],PKCS12AttrSet);var AuthenticatedSafe_1;let AuthenticatedSafe=AuthenticatedSafe_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,AuthenticatedSafe_1.prototype)}};AuthenticatedSafe=AuthenticatedSafe_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:ContentInfo})],AuthenticatedSafe);class CertBag{constructor(e={}){this.certId="";this.certValue=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],CertBag.prototype,"certId",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,context:0})],CertBag.prototype,"certValue",void 0);class CRLBag{constructor(e={}){this.crlId="";this.crltValue=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],CRLBag.prototype,"crlId",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,context:0})],CRLBag.prototype,"crltValue",void 0);class EncryptedData extends OctetString{}class EncryptedPrivateKeyInfo$1{constructor(e={}){this.encryptionAlgorithm=new AlgorithmIdentifier$1;this.encryptedData=new EncryptedData;Object.assign(this,e)}}__decorate([AsnProp({type:AlgorithmIdentifier$1})],EncryptedPrivateKeyInfo$1.prototype,"encryptionAlgorithm",void 0);__decorate([AsnProp({type:EncryptedData})],EncryptedPrivateKeyInfo$1.prototype,"encryptedData",void 0);var Attributes_1$1;var Version$1;(function(e){e[e["v1"]=0]="v1"})(Version$1||(Version$1={}));class PrivateKey extends OctetString{}let Attributes$1=Attributes_1$1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,Attributes_1$1.prototype)}};Attributes$1=Attributes_1$1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:Attribute$2})],Attributes$1);class PrivateKeyInfo$1{constructor(e={}){this.version=Version$1.v1;this.privateKeyAlgorithm=new AlgorithmIdentifier$1;this.privateKey=new PrivateKey;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer})],PrivateKeyInfo$1.prototype,"version",void 0);__decorate([AsnProp({type:AlgorithmIdentifier$1})],PrivateKeyInfo$1.prototype,"privateKeyAlgorithm",void 0);__decorate([AsnProp({type:PrivateKey})],PrivateKeyInfo$1.prototype,"privateKey",void 0);__decorate([AsnProp({type:Attributes$1,implicit:true,context:0,optional:true})],PrivateKeyInfo$1.prototype,"attributes",void 0);let KeyBag=class e extends PrivateKeyInfo$1{};KeyBag=__decorate([AsnType({type:AsnTypeTypes.Sequence})],KeyBag);let PKCS8ShroudedKeyBag=class e extends EncryptedPrivateKeyInfo$1{};PKCS8ShroudedKeyBag=__decorate([AsnType({type:AsnTypeTypes.Sequence})],PKCS8ShroudedKeyBag);class SecretBag{constructor(e={}){this.secretTypeId="";this.secretValue=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],SecretBag.prototype,"secretTypeId",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,context:0})],SecretBag.prototype,"secretValue",void 0);class MacData{constructor(e={}){this.mac=new DigestInfo;this.macSalt=new OctetString;this.iterations=1;Object.assign(this,e)}}__decorate([AsnProp({type:DigestInfo})],MacData.prototype,"mac",void 0);__decorate([AsnProp({type:OctetString})],MacData.prototype,"macSalt",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,defaultValue:1})],MacData.prototype,"iterations",void 0);class PFX{constructor(e={}){this.version=3;this.authSafe=new ContentInfo;this.macData=new MacData;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer})],PFX.prototype,"version",void 0);__decorate([AsnProp({type:ContentInfo})],PFX.prototype,"authSafe",void 0);__decorate([AsnProp({type:MacData,optional:true})],PFX.prototype,"macData",void 0);var SafeContents_1;class SafeBag{constructor(e={}){this.bagId="";this.bagValue=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],SafeBag.prototype,"bagId",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,context:0})],SafeBag.prototype,"bagValue",void 0);__decorate([AsnProp({type:PKCS12Attribute,repeated:"set",optional:true})],SafeBag.prototype,"bagAttributes",void 0);let SafeContents=SafeContents_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,SafeContents_1.prototype)}};SafeContents=SafeContents_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:SafeBag})],SafeContents);var ExtensionRequest_1,ExtendedCertificateAttributes_1,SMIMECapabilities_1;const id_pkcs9="1.2.840.113549.1.9";const id_pkcs9_at_challengePassword=`${id_pkcs9}.7`;const id_pkcs9_at_extensionRequest=`${id_pkcs9}.14`;let PKCS9String=class e extends DirectoryString{constructor(e={}){super(e)}toString(){const e={};e.toString();return this.ia5String||super.toString()}};__decorate([AsnProp({type:AsnPropTypes.IA5String})],PKCS9String.prototype,"ia5String",void 0);PKCS9String=__decorate([AsnType({type:AsnTypeTypes.Choice})],PKCS9String);let Pkcs7PDU=class e extends ContentInfo{};Pkcs7PDU=__decorate([AsnType({type:AsnTypeTypes.Sequence})],Pkcs7PDU);let UserPKCS12=class e extends PFX{};UserPKCS12=__decorate([AsnType({type:AsnTypeTypes.Sequence})],UserPKCS12);let EncryptedPrivateKeyInfo=class e extends EncryptedPrivateKeyInfo$1{};EncryptedPrivateKeyInfo=__decorate([AsnType({type:AsnTypeTypes.Sequence})],EncryptedPrivateKeyInfo);let EmailAddress=class e{constructor(e=""){this.value=e}toString(){return this.value}};__decorate([AsnProp({type:AsnPropTypes.IA5String})],EmailAddress.prototype,"value",void 0);EmailAddress=__decorate([AsnType({type:AsnTypeTypes.Choice})],EmailAddress);let UnstructuredName=class e extends PKCS9String{};UnstructuredName=__decorate([AsnType({type:AsnTypeTypes.Choice})],UnstructuredName);let UnstructuredAddress=class e extends DirectoryString{};UnstructuredAddress=__decorate([AsnType({type:AsnTypeTypes.Choice})],UnstructuredAddress);let DateOfBirth=class e{constructor(e=new Date){this.value=e}};__decorate([AsnProp({type:AsnPropTypes.GeneralizedTime})],DateOfBirth.prototype,"value",void 0);DateOfBirth=__decorate([AsnType({type:AsnTypeTypes.Choice})],DateOfBirth);let PlaceOfBirth=class e extends DirectoryString{};PlaceOfBirth=__decorate([AsnType({type:AsnTypeTypes.Choice})],PlaceOfBirth);let Gender=class e{constructor(e="M"){this.value=e}toString(){return this.value}};__decorate([AsnProp({type:AsnPropTypes.PrintableString})],Gender.prototype,"value",void 0);Gender=__decorate([AsnType({type:AsnTypeTypes.Choice})],Gender);let CountryOfCitizenship=class e{constructor(e=""){this.value=e}toString(){return this.value}};__decorate([AsnProp({type:AsnPropTypes.PrintableString})],CountryOfCitizenship.prototype,"value",void 0);CountryOfCitizenship=__decorate([AsnType({type:AsnTypeTypes.Choice})],CountryOfCitizenship);let CountryOfResidence=class e extends CountryOfCitizenship{};CountryOfResidence=__decorate([AsnType({type:AsnTypeTypes.Choice})],CountryOfResidence);let Pseudonym=class e extends DirectoryString{};Pseudonym=__decorate([AsnType({type:AsnTypeTypes.Choice})],Pseudonym);let ContentType=class e{constructor(e=""){this.value=e}toString(){return this.value}};__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],ContentType.prototype,"value",void 0);ContentType=__decorate([AsnType({type:AsnTypeTypes.Choice})],ContentType);let SigningTime=class e extends Time{};SigningTime=__decorate([AsnType({type:AsnTypeTypes.Choice})],SigningTime);let SequenceNumber=class e{constructor(e=0){this.value=e}toString(){return this.value.toString()}};__decorate([AsnProp({type:AsnPropTypes.Integer})],SequenceNumber.prototype,"value",void 0);SequenceNumber=__decorate([AsnType({type:AsnTypeTypes.Choice})],SequenceNumber);let CounterSignature=class e extends SignerInfo{};CounterSignature=__decorate([AsnType({type:AsnTypeTypes.Sequence})],CounterSignature);let ChallengePassword=class e extends DirectoryString{};ChallengePassword=__decorate([AsnType({type:AsnTypeTypes.Choice})],ChallengePassword);let ExtensionRequest=ExtensionRequest_1=class e extends Extensions{constructor(e){super(e);Object.setPrototypeOf(this,ExtensionRequest_1.prototype)}};ExtensionRequest=ExtensionRequest_1=__decorate([AsnType({type:AsnTypeTypes.Sequence})],ExtensionRequest);let ExtendedCertificateAttributes=ExtendedCertificateAttributes_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,ExtendedCertificateAttributes_1.prototype)}};ExtendedCertificateAttributes=ExtendedCertificateAttributes_1=__decorate([AsnType({type:AsnTypeTypes.Set,itemType:Attribute$1})],ExtendedCertificateAttributes);let FriendlyName=class e{constructor(e=""){this.value=e}toString(){return this.value}};__decorate([AsnProp({type:AsnPropTypes.BmpString})],FriendlyName.prototype,"value",void 0);FriendlyName=__decorate([AsnType({type:AsnTypeTypes.Choice})],FriendlyName);let SMIMECapability=class e extends AlgorithmIdentifier$1{};SMIMECapability=__decorate([AsnType({type:AsnTypeTypes.Sequence})],SMIMECapability);let SMIMECapabilities=SMIMECapabilities_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,SMIMECapabilities_1.prototype)}};SMIMECapabilities=SMIMECapabilities_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:SMIMECapability})],SMIMECapabilities);var Attributes_1;let Attributes=Attributes_1=class e extends AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,Attributes_1.prototype)}};Attributes=Attributes_1=__decorate([AsnType({type:AsnTypeTypes.Sequence,itemType:Attribute$2})],Attributes);class CertificationRequestInfo{constructor(e={}){this.version=0;this.subject=new Name$1;this.subjectPKInfo=new SubjectPublicKeyInfo;this.attributes=new Attributes;Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.Integer})],CertificationRequestInfo.prototype,"version",void 0);__decorate([AsnProp({type:Name$1})],CertificationRequestInfo.prototype,"subject",void 0);__decorate([AsnProp({type:SubjectPublicKeyInfo})],CertificationRequestInfo.prototype,"subjectPKInfo",void 0);__decorate([AsnProp({type:Attributes,implicit:true,context:0})],CertificationRequestInfo.prototype,"attributes",void 0);class CertificationRequest{constructor(e={}){this.certificationRequestInfo=new CertificationRequestInfo;this.signatureAlgorithm=new AlgorithmIdentifier$1;this.signature=new ArrayBuffer(0);Object.assign(this,e)}}__decorate([AsnProp({type:CertificationRequestInfo})],CertificationRequest.prototype,"certificationRequestInfo",void 0);__decorate([AsnProp({type:AlgorithmIdentifier$1})],CertificationRequest.prototype,"signatureAlgorithm",void 0);__decorate([AsnProp({type:AsnPropTypes.BitString})],CertificationRequest.prototype,"signature",void 0);
/*!
 * MIT License
 * 
 * Copyright (c) Peculiar Ventures. All rights reserved.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const diAlgorithm="crypto.algorithm";class AlgorithmProvider{getAlgorithms(){return instance.resolveAll(diAlgorithm)}toAsnAlgorithm(e){for(const t of this.getAlgorithms()){const r=t.toAsnAlgorithm(e);if(r){return r}}if(/[0-9.]+/.test(e.name)){const t=new AlgorithmIdentifier$1({algorithm:e.name});if("parameters"in e){const r=e;t.parameters=r.parameters}return t}throw new Error("Cannot convert WebCrypto algorithm to ASN.1 algorithm")}toWebAlgorithm(e){for(const t of this.getAlgorithms()){const r=t.toWebAlgorithm(e);if(r){return r}}const t={name:e.algorithm,parameters:e.parameters};return t}}const diAlgorithmProvider="crypto.algorithmProvider";instance.registerSingleton(diAlgorithmProvider,AlgorithmProvider);var EcAlgorithm_1;const idVersionOne$1="1.3.36.3.3.2.8.1.1";const idBrainpoolP160r1$1=`${idVersionOne$1}.1`;const idBrainpoolP160t1$1=`${idVersionOne$1}.2`;const idBrainpoolP192r1$1=`${idVersionOne$1}.3`;const idBrainpoolP192t1$1=`${idVersionOne$1}.4`;const idBrainpoolP224r1$1=`${idVersionOne$1}.5`;const idBrainpoolP224t1$1=`${idVersionOne$1}.6`;const idBrainpoolP256r1$1=`${idVersionOne$1}.7`;const idBrainpoolP256t1$1=`${idVersionOne$1}.8`;const idBrainpoolP320r1$1=`${idVersionOne$1}.9`;const idBrainpoolP320t1$1=`${idVersionOne$1}.10`;const idBrainpoolP384r1$1=`${idVersionOne$1}.11`;const idBrainpoolP384t1$1=`${idVersionOne$1}.12`;const idBrainpoolP512r1$1=`${idVersionOne$1}.13`;const idBrainpoolP512t1$1=`${idVersionOne$1}.14`;const brainpoolP160r1="brainpoolP160r1";const brainpoolP160t1="brainpoolP160t1";const brainpoolP192r1="brainpoolP192r1";const brainpoolP192t1="brainpoolP192t1";const brainpoolP224r1="brainpoolP224r1";const brainpoolP224t1="brainpoolP224t1";const brainpoolP256r1="brainpoolP256r1";const brainpoolP256t1="brainpoolP256t1";const brainpoolP320r1="brainpoolP320r1";const brainpoolP320t1="brainpoolP320t1";const brainpoolP384r1="brainpoolP384r1";const brainpoolP384t1="brainpoolP384t1";const brainpoolP512r1="brainpoolP512r1";const brainpoolP512t1="brainpoolP512t1";const ECDSA="ECDSA";let EcAlgorithm=EcAlgorithm_1=class e{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case ECDSA.toLowerCase():if("hash"in e){const t=typeof e.hash==="string"?e.hash:e.hash.name;switch(t.toLowerCase()){case"sha-1":return ecdsaWithSHA1;case"sha-256":return ecdsaWithSHA256;case"sha-384":return ecdsaWithSHA384;case"sha-512":return ecdsaWithSHA512}}else if("namedCurve"in e){let t="";switch(e.namedCurve){case"P-256":t=id_secp256r1;break;case"K-256":t=EcAlgorithm_1.SECP256K1;break;case"P-384":t=id_secp384r1;break;case"P-521":t=id_secp521r1;break;case brainpoolP160r1:t=idBrainpoolP160r1$1;break;case brainpoolP160t1:t=idBrainpoolP160t1$1;break;case brainpoolP192r1:t=idBrainpoolP192r1$1;break;case brainpoolP192t1:t=idBrainpoolP192t1$1;break;case brainpoolP224r1:t=idBrainpoolP224r1$1;break;case brainpoolP224t1:t=idBrainpoolP224t1$1;break;case brainpoolP256r1:t=idBrainpoolP256r1$1;break;case brainpoolP256t1:t=idBrainpoolP256t1$1;break;case brainpoolP320r1:t=idBrainpoolP320r1$1;break;case brainpoolP320t1:t=idBrainpoolP320t1$1;break;case brainpoolP384r1:t=idBrainpoolP384r1$1;break;case brainpoolP384t1:t=idBrainpoolP384t1$1;break;case brainpoolP512r1:t=idBrainpoolP512r1$1;break;case brainpoolP512t1:t=idBrainpoolP512t1$1;break}if(t){return new AlgorithmIdentifier$1({algorithm:id_ecPublicKey,parameters:AsnConvert.serialize(new ECParameters({namedCurve:t}))})}}}return null}toWebAlgorithm(e){switch(e.algorithm){case id_ecdsaWithSHA1:return{name:ECDSA,hash:{name:"SHA-1"}};case id_ecdsaWithSHA256:return{name:ECDSA,hash:{name:"SHA-256"}};case id_ecdsaWithSHA384:return{name:ECDSA,hash:{name:"SHA-384"}};case id_ecdsaWithSHA512:return{name:ECDSA,hash:{name:"SHA-512"}};case id_ecPublicKey:{if(!e.parameters){throw new TypeError("Cannot get required parameters from EC algorithm")}const t=AsnConvert.parse(e.parameters,ECParameters);switch(t.namedCurve){case id_secp256r1:return{name:ECDSA,namedCurve:"P-256"};case EcAlgorithm_1.SECP256K1:return{name:ECDSA,namedCurve:"K-256"};case id_secp384r1:return{name:ECDSA,namedCurve:"P-384"};case id_secp521r1:return{name:ECDSA,namedCurve:"P-521"};case idBrainpoolP160r1$1:return{name:ECDSA,namedCurve:brainpoolP160r1};case idBrainpoolP160t1$1:return{name:ECDSA,namedCurve:brainpoolP160t1};case idBrainpoolP192r1$1:return{name:ECDSA,namedCurve:brainpoolP192r1};case idBrainpoolP192t1$1:return{name:ECDSA,namedCurve:brainpoolP192t1};case idBrainpoolP224r1$1:return{name:ECDSA,namedCurve:brainpoolP224r1};case idBrainpoolP224t1$1:return{name:ECDSA,namedCurve:brainpoolP224t1};case idBrainpoolP256r1$1:return{name:ECDSA,namedCurve:brainpoolP256r1};case idBrainpoolP256t1$1:return{name:ECDSA,namedCurve:brainpoolP256t1};case idBrainpoolP320r1$1:return{name:ECDSA,namedCurve:brainpoolP320r1};case idBrainpoolP320t1$1:return{name:ECDSA,namedCurve:brainpoolP320t1};case idBrainpoolP384r1$1:return{name:ECDSA,namedCurve:brainpoolP384r1};case idBrainpoolP384t1$1:return{name:ECDSA,namedCurve:brainpoolP384t1};case idBrainpoolP512r1$1:return{name:ECDSA,namedCurve:brainpoolP512r1};case idBrainpoolP512t1$1:return{name:ECDSA,namedCurve:brainpoolP512t1}}}}return null}};EcAlgorithm.SECP256K1="1.3.132.0.10";EcAlgorithm=EcAlgorithm_1=__decorate([injectable()],EcAlgorithm);instance.registerSingleton(diAlgorithm,EcAlgorithm);const NAME$1=Symbol("name");const VALUE=Symbol("value");class TextObject{constructor(e,t={},r=""){this[NAME$1]=e;this[VALUE]=r;for(const e in t){this[e]=t[e]}}}TextObject.NAME=NAME$1;TextObject.VALUE=VALUE;class DefaultAlgorithmSerializer{static toTextObject(e){const t=new TextObject("Algorithm Identifier",{},OidSerializer.toString(e.algorithm));if(e.parameters){switch(e.algorithm){case id_ecPublicKey:{const r=(new EcAlgorithm).toWebAlgorithm(e);if(r&&"namedCurve"in r){t["Named Curve"]=r.namedCurve}else{t["Parameters"]=e.parameters}break}default:t["Parameters"]=e.parameters}}return t}}class OidSerializer{static toString(e){const t=this.items[e];if(t){return t}return e}}OidSerializer.items={[id_sha1]:"sha1",[id_sha224]:"sha224",[id_sha256]:"sha256",[id_sha384]:"sha384",[id_sha512]:"sha512",[id_rsaEncryption]:"rsaEncryption",[id_sha1WithRSAEncryption]:"sha1WithRSAEncryption",[id_sha224WithRSAEncryption]:"sha224WithRSAEncryption",[id_sha256WithRSAEncryption]:"sha256WithRSAEncryption",[id_sha384WithRSAEncryption]:"sha384WithRSAEncryption",[id_sha512WithRSAEncryption]:"sha512WithRSAEncryption",[id_ecPublicKey]:"ecPublicKey",[id_ecdsaWithSHA1]:"ecdsaWithSHA1",[id_ecdsaWithSHA224]:"ecdsaWithSHA224",[id_ecdsaWithSHA256]:"ecdsaWithSHA256",[id_ecdsaWithSHA384]:"ecdsaWithSHA384",[id_ecdsaWithSHA512]:"ecdsaWithSHA512",[id_kp_serverAuth]:"TLS WWW server authentication",[id_kp_clientAuth]:"TLS WWW client authentication",[id_kp_codeSigning]:"Code Signing",[id_kp_emailProtection]:"E-mail Protection",[id_kp_timeStamping]:"Time Stamping",[id_kp_OCSPSigning]:"OCSP Signing",[id_signedData]:"Signed Data"};class TextConverter{static serialize(e){return this.serializeObj(e).join("\n")}static pad(e=0){return"".padStart(2*e," ")}static serializeObj(e,t=0){const r=[];let n=this.pad(t++);let i="";const s=e[TextObject.VALUE];if(s){i=` ${s}`}r.push(`${n}${e[TextObject.NAME]}:${i}`);n=this.pad(t);for(const i in e){if(typeof i==="symbol"){continue}const s=e[i];const f=i?`${i}: `:"";if(typeof s==="string"||typeof s==="number"||typeof s==="boolean"){r.push(`${n}${f}${s}`)}else if(s instanceof Date){r.push(`${n}${f}${s.toUTCString()}`)}else if(Array.isArray(s)){for(const e of s){e[TextObject.NAME]=i;r.push(...this.serializeObj(e,t))}}else if(s instanceof TextObject){s[TextObject.NAME]=i;r.push(...this.serializeObj(s,t))}else if(build.BufferSourceConverter.isBufferSource(s)){if(i){r.push(`${n}${f}`);r.push(...this.serializeBufferSource(s,t+1))}else{r.push(...this.serializeBufferSource(s,t))}}else if("toTextObject"in s){const e=s.toTextObject();e[TextObject.NAME]=i;r.push(...this.serializeObj(e,t))}else{throw new TypeError("Cannot serialize data in text format. Unsupported type.")}}return r}static serializeBufferSource(e,t=0){const r=this.pad(t);const n=build.BufferSourceConverter.toUint8Array(e);const i=[];for(let e=0;e<n.length;){const t=[];for(let r=0;r<16&&e<n.length;r++){if(r===8){t.push("")}const i=n[e++].toString(16).padStart(2,"0");t.push(i)}i.push(`${r}${t.join(" ")}`)}return i}static serializeAlgorithm(e){return this.algorithmSerializer.toTextObject(e)}}TextConverter.oidSerializer=OidSerializer;TextConverter.algorithmSerializer=DefaultAlgorithmSerializer;class AsnData{constructor(...e){if(e.length===1){const t=e[0];this.rawData=AsnConvert.serialize(t);this.onInit(t)}else{const t=AsnConvert.parse(e[0],e[1]);this.rawData=build.BufferSourceConverter.toArrayBuffer(e[0]);this.onInit(t)}}equal(e){if(e instanceof AsnData){return build.isEqual(e.rawData,this.rawData)}return false}toString(e="text"){switch(e){case"asn":return AsnConvert.toString(this.rawData);case"text":return TextConverter.serialize(this.toTextObject());case"hex":return build.Convert.ToHex(this.rawData);case"base64":return build.Convert.ToBase64(this.rawData);case"base64url":return build.Convert.ToBase64Url(this.rawData);default:throw TypeError("Argument 'format' is unsupported value")}}getTextName(){const e=this.constructor;return e.NAME}toTextObject(){const e=this.toTextObjectEmpty();e[""]=this.rawData;return e}toTextObjectEmpty(e){return new TextObject(this.getTextName(),{},e)}}AsnData.NAME="ASN";class Extension extends AsnData{constructor(...e){let t;if(build.BufferSourceConverter.isBufferSource(e[0])){t=build.BufferSourceConverter.toArrayBuffer(e[0])}else{t=AsnConvert.serialize(new Extension$1({extnID:e[0],critical:e[1],extnValue:new OctetString(build.BufferSourceConverter.toArrayBuffer(e[2]))}))}super(t,Extension$1)}onInit(e){this.type=e.extnID;this.critical=e.critical;this.value=e.extnValue.buffer}toTextObject(){const e=this.toTextObjectWithoutValue();e[""]=this.value;return e}toTextObjectWithoutValue(){const e=this.toTextObjectEmpty(this.critical?"critical":undefined);if(e[TextObject.NAME]===Extension.NAME){e[TextObject.NAME]=OidSerializer.toString(this.type)}return e}}var _a$2;class CryptoProvider{constructor(){this.items=new Map;this[_a$2]="CryptoProvider";if(typeof self!=="undefined"&&typeof crypto!=="undefined"){this.set(CryptoProvider.DEFAULT,crypto)}}static isCryptoKeyPair(e){return e&&e.privateKey&&e.publicKey}static isCryptoKey(e){return e&&e.usages&&e.type&&e.algorithm&&e.extractable!==undefined}clear(){this.items.clear()}delete(e){return this.items.delete(e)}forEach(e,t){return this.items.forEach(e,t)}has(e){return this.items.has(e)}get size(){return this.items.size}entries(){return this.items.entries()}keys(){return this.items.keys()}values(){return this.items.values()}[Symbol.iterator](){return this.items[Symbol.iterator]()}get(e=CryptoProvider.DEFAULT){const t=this.items.get(e.toLowerCase());if(!t){throw new Error(`Cannot get Crypto by name '${e}'`)}return t}set(e,t){if(typeof e==="string"){if(!t){throw new TypeError("Argument 'value' is required")}this.items.set(e.toLowerCase(),t)}else{this.items.set(CryptoProvider.DEFAULT,e)}return this}}_a$2=Symbol.toStringTag;CryptoProvider.DEFAULT="default";const cryptoProvider=new CryptoProvider;const OID_REGEX=/^[0-2](?:\.[1-9][0-9]*)+$/;function isOID(e){return new RegExp(OID_REGEX).test(e)}class NameIdentifier{constructor(e={}){this.items={};for(const t in e){this.register(t,e[t])}}get(e){return this.items[e]||null}findId(e){if(!isOID(e)){return this.get(e)}return e}register(e,t){this.items[e]=t;this.items[t]=e}}const names$4=new NameIdentifier;names$4.register("CN","2.5.4.3");names$4.register("L","2.5.4.7");names$4.register("ST","2.5.4.8");names$4.register("O","2.5.4.10");names$4.register("OU","2.5.4.11");names$4.register("C","2.5.4.6");names$4.register("DC","0.9.2342.19200300.100.1.25");names$4.register("E","1.2.840.113549.1.9.1");names$4.register("G","2.5.4.42");names$4.register("I","2.5.4.43");names$4.register("SN","2.5.4.4");names$4.register("T","2.5.4.12");function replaceUnknownCharacter(e,t){return`\\${build.Convert.ToHex(build.Convert.FromUtf8String(t)).toUpperCase()}`}function escape$1(e){return e.replace(/([,+"\\<>;])/g,"\\$1").replace(/^([ #])/,"\\$1").replace(/([ ]$)/,"\\$1").replace(/([\r\n\t])/,replaceUnknownCharacter)}class Name{constructor(e,t={}){this.extraNames=new NameIdentifier;this.asn=new Name$1;for(const e in t){if(Object.prototype.hasOwnProperty.call(t,e)){const r=t[e];this.extraNames.register(e,r)}}if(typeof e==="string"){this.asn=this.fromString(e)}else if(e instanceof Name$1){this.asn=e}else if(build.BufferSourceConverter.isBufferSource(e)){this.asn=AsnConvert.parse(e,Name$1)}else{this.asn=this.fromJSON(e)}}static isASCII(e){for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r>255){return false}}return true}getField(e){const t=this.extraNames.findId(e)||names$4.findId(e);const r=[];for(const e of this.asn){for(const n of e){if(n.type===t){r.push(n.value.toString())}}}return r}getName(e){return this.extraNames.get(e)||names$4.get(e)}toString(){return this.asn.map((e=>e.map((e=>{const t=this.getName(e.type)||e.type;const r=e.value.anyValue?`#${build.Convert.ToHex(e.value.anyValue)}`:escape$1(e.value.toString());return`${t}=${r}`})).join("+"))).join(", ")}toJSON(){var e;const t=[];for(const r of this.asn){const n={};for(const t of r){const r=this.getName(t.type)||t.type;(e=n[r])!==null&&e!==void 0?e:n[r]=[];n[r].push(t.value.anyValue?`#${build.Convert.ToHex(t.value.anyValue)}`:t.value.toString())}t.push(n)}return t}fromString(e){const t=new Name$1;const r=/(\d\.[\d.]*\d|[A-Za-z]+)=((?:"")|(?:".*?[^\\]")|(?:[^,+].*?(?:[^\\][,+]))|(?:))([,+])?/g;let n=null;let i=",";while(n=r.exec(`${e},`)){let[,e,r]=n;const s=r[r.length-1];if(s===","||s==="+"){r=r.slice(0,r.length-1);n[3]=s}const f=n[3];if(!/[\d.]+/.test(e)){e=this.getName(e)||""}if(!e){throw new Error(`Cannot get OID for name type '${e}'`)}const a=new AttributeTypeAndValue({type:e});if(r.charAt(0)==="#"){a.value.anyValue=build.Convert.FromHex(r.slice(1))}else{const t=/"(.*?[^\\])?"/.exec(r);if(t){r=t[1]}r=r.replace(/\\0a/gi,"\n").replace(/\\0d/gi,"\r").replace(/\\0g/gi,"\t").replace(/\\(.)/g,"$1");if(e===this.getName("E")||e===this.getName("DC")){a.value.ia5String=r}else{if(Name.isASCII(r)){a.value.printableString=r}else{a.value.utf8String=r}}}if(i==="+"){t[t.length-1].push(a)}else{t.push(new RelativeDistinguishedName([a]))}i=f}return t}fromJSON(e){const t=new Name$1;for(const r of e){const e=new RelativeDistinguishedName;for(const t in r){let n=t;if(!/[\d.]+/.test(t)){n=this.getName(t)||""}if(!n){throw new Error(`Cannot get OID for name type '${t}'`)}const i=r[t];for(const t of i){const r=new AttributeTypeAndValue({type:n});if(typeof t==="object"){for(const e in t){switch(e){case"ia5String":r.value.ia5String=t[e];break;case"utf8String":r.value.utf8String=t[e];break;case"universalString":r.value.universalString=t[e];break;case"bmpString":r.value.bmpString=t[e];break;case"printableString":r.value.printableString=t[e];break}}}else if(t[0]==="#"){r.value.anyValue=build.Convert.FromHex(t.slice(1))}else{if(n===this.getName("E")||n===this.getName("DC")){r.value.ia5String=t}else{r.value.printableString=t}}e.push(r)}}t.push(e)}return t}toArrayBuffer(){return AsnConvert.serialize(this.asn)}async getThumbprint(...e){var t;let r;let n="SHA-1";if(e.length>=1&&!((t=e[0])===null||t===void 0?void 0:t.subtle)){n=e[0]||n;r=e[1]||cryptoProvider.get()}else{r=e[0]||cryptoProvider.get()}return await r.subtle.digest(n,this.toArrayBuffer())}}const ERR_GN_CONSTRUCTOR="Cannot initialize GeneralName from ASN.1 data.";const ERR_GN_STRING_FORMAT=`${ERR_GN_CONSTRUCTOR} Unsupported string format in use.`;const ERR_GUID=`${ERR_GN_CONSTRUCTOR} Value doesn't match to GUID regular expression.`;const GUID_REGEX=/^([0-9a-f]{8})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{12})$/i;const id_GUID="1.3.6.1.4.1.311.25.1";const id_UPN="1.3.6.1.4.1.311.20.2.3";const DNS="dns";const DN="dn";const EMAIL="email";const IP="ip";const URL$1="url";const GUID="guid";const UPN="upn";const REGISTERED_ID="id";class GeneralName extends AsnData{constructor(...e){let t;if(e.length===2){switch(e[0]){case DN:{const r=new Name(e[1]).toArrayBuffer();const n=AsnConvert.parse(r,Name$1);t=new GeneralName$1({directoryName:n});break}case DNS:t=new GeneralName$1({dNSName:e[1]});break;case EMAIL:t=new GeneralName$1({rfc822Name:e[1]});break;case GUID:{const r=new RegExp(GUID_REGEX,"i").exec(e[1]);if(!r){throw new Error("Cannot parse GUID value. Value doesn't match to regular expression")}const n=r.slice(1).map(((e,t)=>{if(t<3){return build.Convert.ToHex(new Uint8Array(build.Convert.FromHex(e)).reverse())}return e})).join("");t=new GeneralName$1({otherName:new OtherName({typeId:id_GUID,value:AsnConvert.serialize(new OctetString(build.Convert.FromHex(n)))})});break}case IP:t=new GeneralName$1({iPAddress:e[1]});break;case REGISTERED_ID:t=new GeneralName$1({registeredID:e[1]});break;case UPN:{t=new GeneralName$1({otherName:new OtherName({typeId:id_UPN,value:AsnConvert.serialize(AsnUtf8StringConverter.toASN(e[1]))})});break}case URL$1:t=new GeneralName$1({uniformResourceIdentifier:e[1]});break;default:throw new Error("Cannot create GeneralName. Unsupported type of the name")}}else if(build.BufferSourceConverter.isBufferSource(e[0])){t=AsnConvert.parse(e[0],GeneralName$1)}else{t=e[0]}super(t)}onInit(e){if(e.dNSName!=undefined){this.type=DNS;this.value=e.dNSName}else if(e.rfc822Name!=undefined){this.type=EMAIL;this.value=e.rfc822Name}else if(e.iPAddress!=undefined){this.type=IP;this.value=e.iPAddress}else if(e.uniformResourceIdentifier!=undefined){this.type=URL$1;this.value=e.uniformResourceIdentifier}else if(e.registeredID!=undefined){this.type=REGISTERED_ID;this.value=e.registeredID}else if(e.directoryName!=undefined){this.type=DN;this.value=new Name(e.directoryName).toString()}else if(e.otherName!=undefined){if(e.otherName.typeId===id_GUID){this.type=GUID;const t=AsnConvert.parse(e.otherName.value,OctetString);const r=new RegExp(GUID_REGEX,"i").exec(build.Convert.ToHex(t));if(!r){throw new Error(ERR_GUID)}this.value=r.slice(1).map(((e,t)=>{if(t<3){return build.Convert.ToHex(new Uint8Array(build.Convert.FromHex(e)).reverse())}return e})).join("-")}else if(e.otherName.typeId===id_UPN){this.type=UPN;this.value=AsnConvert.parse(e.otherName.value,DirectoryString).toString()}else{throw new Error(ERR_GN_STRING_FORMAT)}}else{throw new Error(ERR_GN_STRING_FORMAT)}}toJSON(){return{type:this.type,value:this.value}}toTextObject(){let e;switch(this.type){case DN:case DNS:case GUID:case IP:case REGISTERED_ID:case UPN:case URL$1:e=this.type.toUpperCase();break;case EMAIL:e="Email";break;default:throw new Error("Unsupported GeneralName type")}let t=this.value;if(this.type===REGISTERED_ID){t=OidSerializer.toString(t)}return new TextObject(e,undefined,t)}}class GeneralNames extends AsnData{constructor(e){let t;if(e instanceof GeneralNames$1){t=e}else if(Array.isArray(e)){const r=[];for(const t of e){if(t instanceof GeneralName$1){r.push(t)}else{const e=AsnConvert.parse(new GeneralName(t.type,t.value).rawData,GeneralName$1);r.push(e)}}t=new GeneralNames$1(r)}else if(build.BufferSourceConverter.isBufferSource(e)){t=AsnConvert.parse(e,GeneralNames$1)}else{throw new Error("Cannot initialize GeneralNames. Incorrect incoming arguments")}super(t)}onInit(e){const t=[];for(const r of e){let e=null;try{e=new GeneralName(r)}catch{continue}t.push(e)}this.items=t}toJSON(){return this.items.map((e=>e.toJSON()))}toTextObject(){const e=super.toTextObjectEmpty();for(const t of this.items){const r=t.toTextObject();let n=e[r[TextObject.NAME]];if(!Array.isArray(n)){n=[];e[r[TextObject.NAME]]=n}n.push(r)}return e}}GeneralNames.NAME="GeneralNames";const rPaddingTag="-{5}";const rEolChars="\\n";const rNameTag=`[^${rEolChars}]+`;const rBeginTag=`${rPaddingTag}BEGIN (${rNameTag}(?=${rPaddingTag}))${rPaddingTag}`;const rEndTag=`${rPaddingTag}END \\1${rPaddingTag}`;const rEolGroup="\\n";const rHeaderKey=`[^:${rEolChars}]+`;const rHeaderValue=`(?:[^${rEolChars}]+${rEolGroup}(?: +[^${rEolChars}]+${rEolGroup})*)`;const rBase64Chars="[a-zA-Z0-9=+/]+";const rBase64=`(?:${rBase64Chars}${rEolGroup})+`;const rPem=`${rBeginTag}${rEolGroup}(?:((?:${rHeaderKey}: ${rHeaderValue})+))?${rEolGroup}?(${rBase64})${rEndTag}`;class PemConverter{static isPem(e){return typeof e==="string"&&new RegExp(rPem,"g").test(e)}static decodeWithHeaders(e){e=e.replace(/\r/g,"");const t=new RegExp(rPem,"g");const r=[];let n=null;while(n=t.exec(e)){const e=n[3].replace(new RegExp(`[${rEolChars}]+`,"g"),"");const t={type:n[1],headers:[],rawData:build.Convert.FromBase64(e)};const i=n[2];if(i){const e=i.split(new RegExp(rEolGroup,"g"));let r=null;for(const n of e){const[e,i]=n.split(/:(.*)/);if(i===undefined){if(!r){throw new Error("Cannot parse PEM string. Incorrect header value")}r.value+=e.trim()}else{if(r){t.headers.push(r)}r={key:e,value:i.trim()}}}if(r){t.headers.push(r)}}r.push(t)}return r}static decode(e){const t=this.decodeWithHeaders(e);return t.map((e=>e.rawData))}static decodeFirst(e){const t=this.decode(e);if(!t.length){throw new RangeError("PEM string doesn't contain any objects")}return t[0]}static encode(e,t){if(Array.isArray(e)){const r=new Array;if(t){e.forEach((e=>{if(!build.BufferSourceConverter.isBufferSource(e)){throw new TypeError("Cannot encode array of BufferSource in PEM format. Not all items of the array are BufferSource")}r.push(this.encodeStruct({type:t,rawData:build.BufferSourceConverter.toArrayBuffer(e)}))}))}else{e.forEach((e=>{if(!("type"in e)){throw new TypeError("Cannot encode array of PemStruct in PEM format. Not all items of the array are PemStrut")}r.push(this.encodeStruct(e))}))}return r.join("\n")}else{if(!t){throw new Error("Required argument 'tag' is missed")}return this.encodeStruct({type:t,rawData:build.BufferSourceConverter.toArrayBuffer(e)})}}static encodeStruct(e){var t;const r=e.type.toLocaleUpperCase();const n=[];n.push(`-----BEGIN ${r}-----`);if((t=e.headers)===null||t===void 0?void 0:t.length){for(const t of e.headers){n.push(`${t.key}: ${t.value}`)}n.push("")}const i=build.Convert.ToBase64(e.rawData);let s;let f=0;const a=Array();while(f<i.length){if(i.length-f<64){s=i.substring(f)}else{s=i.substring(f,f+64);f+=64}if(s.length!==0){a.push(s);if(s.length<64){break}}else{break}}n.push(...a);n.push(`-----END ${r}-----`);return n.join("\n")}}PemConverter.CertificateTag="CERTIFICATE";PemConverter.CrlTag="CRL";PemConverter.CertificateRequestTag="CERTIFICATE REQUEST";PemConverter.PublicKeyTag="PUBLIC KEY";PemConverter.PrivateKeyTag="PRIVATE KEY";class PemData extends AsnData{static isAsnEncoded(e){return build.BufferSourceConverter.isBufferSource(e)||typeof e==="string"}static toArrayBuffer(e){if(typeof e==="string"){if(PemConverter.isPem(e)){return PemConverter.decode(e)[0]}else if(build.Convert.isHex(e)){return build.Convert.FromHex(e)}else if(build.Convert.isBase64(e)){return build.Convert.FromBase64(e)}else if(build.Convert.isBase64Url(e)){return build.Convert.FromBase64Url(e)}else{throw new TypeError("Unsupported format of 'raw' argument. Must be one of DER, PEM, HEX, Base64, or Base4Url")}}else{const t=build.Convert.ToBinary(e);if(PemConverter.isPem(t)){return PemConverter.decode(t)[0]}else if(build.Convert.isHex(t)){return build.Convert.FromHex(t)}else if(build.Convert.isBase64(t)){return build.Convert.FromBase64(t)}else if(build.Convert.isBase64Url(t)){return build.Convert.FromBase64Url(t)}return build.BufferSourceConverter.toArrayBuffer(e)}}constructor(...e){if(PemData.isAsnEncoded(e[0])){super(PemData.toArrayBuffer(e[0]),e[1])}else{super(e[0])}}toString(e="pem"){switch(e){case"pem":return PemConverter.encode(this.rawData,this.tag);default:return super.toString(e)}}}class PublicKey extends PemData{constructor(e){if(PemData.isAsnEncoded(e)){super(e,SubjectPublicKeyInfo)}else{super(e)}this.tag=PemConverter.PublicKeyTag}async export(...e){let t;let r=["verify"];let n={hash:"SHA-256",...this.algorithm};if(e.length>1){n=e[0]||n;r=e[1]||r;t=e[2]||cryptoProvider.get()}else{t=e[0]||cryptoProvider.get()}return t.subtle.importKey("spki",this.rawData,n,true,r)}onInit(e){const t=instance.resolve(diAlgorithmProvider);const r=this.algorithm=t.toWebAlgorithm(e.algorithm);switch(e.algorithm.algorithm){case id_rsaEncryption:{const t=AsnConvert.parse(e.subjectPublicKey,RSAPublicKey);const n=build.BufferSourceConverter.toUint8Array(t.modulus);r.publicExponent=build.BufferSourceConverter.toUint8Array(t.publicExponent);r.modulusLength=(!n[0]?n.slice(1):n).byteLength<<3;break}}}async getThumbprint(...e){var t;let r;let n="SHA-1";if(e.length>=1&&!((t=e[0])===null||t===void 0?void 0:t.subtle)){n=e[0]||n;r=e[1]||cryptoProvider.get()}else{r=e[0]||cryptoProvider.get()}return await r.subtle.digest(n,this.rawData)}async getKeyIdentifier(e){if(!e){e=cryptoProvider.get()}const t=AsnConvert.parse(this.rawData,SubjectPublicKeyInfo);return await e.subtle.digest("SHA-1",t.subjectPublicKey)}toTextObject(){const e=this.toTextObjectEmpty();const t=AsnConvert.parse(this.rawData,SubjectPublicKeyInfo);e["Algorithm"]=TextConverter.serializeAlgorithm(t.algorithm);switch(t.algorithm.algorithm){case id_ecPublicKey:e["EC Point"]=t.subjectPublicKey;break;case id_rsaEncryption:default:e["Raw Data"]=t.subjectPublicKey}return e}}class ExtensionFactory{static register(e,t){this.items.set(e,t)}static create(e){const t=new Extension(e);const r=this.items.get(t.type);if(r){return new r(e)}return t}}ExtensionFactory.items=new Map;const diAsnSignatureFormatter="crypto.signatureFormatter";class AsnDefaultSignatureFormatter{toAsnSignature(e,t){return build.BufferSourceConverter.toArrayBuffer(t)}toWebSignature(e,t){return build.BufferSourceConverter.toArrayBuffer(t)}}class X509Certificate extends PemData{constructor(e){if(PemData.isAsnEncoded(e)){super(e,Certificate)}else{super(e)}this.tag=PemConverter.CertificateTag}onInit(e){const t=e.tbsCertificate;this.tbs=AsnConvert.serialize(t);this.serialNumber=build.Convert.ToHex(t.serialNumber);this.subjectName=new Name(t.subject);this.subject=new Name(t.subject).toString();this.issuerName=new Name(t.issuer);this.issuer=this.issuerName.toString();const r=instance.resolve(diAlgorithmProvider);this.signatureAlgorithm=r.toWebAlgorithm(e.signatureAlgorithm);this.signature=e.signatureValue;const n=t.validity.notBefore.utcTime||t.validity.notBefore.generalTime;if(!n){throw new Error("Cannot get 'notBefore' value")}this.notBefore=n;const i=t.validity.notAfter.utcTime||t.validity.notAfter.generalTime;if(!i){throw new Error("Cannot get 'notAfter' value")}this.notAfter=i;this.extensions=[];if(t.extensions){this.extensions=t.extensions.map((e=>ExtensionFactory.create(AsnConvert.serialize(e))))}this.publicKey=new PublicKey(t.subjectPublicKeyInfo)}getExtension(e){for(const t of this.extensions){if(typeof e==="string"){if(t.type===e){return t}}else{if(t instanceof e){return t}}}return null}getExtensions(e){return this.extensions.filter((t=>{if(typeof e==="string"){return t.type===e}else{return t instanceof e}}))}async verify(e={},t=cryptoProvider.get()){let r;let n;const i=e.publicKey;try{if(!i){r={...this.publicKey.algorithm,...this.signatureAlgorithm};n=await this.publicKey.export(r,["verify"],t)}else if("publicKey"in i){r={...i.publicKey.algorithm,...this.signatureAlgorithm};n=await i.publicKey.export(r,["verify"])}else if(i instanceof PublicKey){r={...i.algorithm,...this.signatureAlgorithm};n=await i.export(r,["verify"])}else if(build.BufferSourceConverter.isBufferSource(i)){const e=new PublicKey(i);r={...e.algorithm,...this.signatureAlgorithm};n=await e.export(r,["verify"])}else{r={...i.algorithm,...this.signatureAlgorithm};n=i}}catch(e){return false}const s=instance.resolveAll(diAsnSignatureFormatter).reverse();let f=null;for(const e of s){f=e.toWebSignature(r,this.signature);if(f){break}}if(!f){throw Error("Cannot convert ASN.1 signature value to WebCrypto format")}const a=await t.subtle.verify(this.signatureAlgorithm,n,f,this.tbs);if(e.signatureOnly){return a}else{const t=e.date||new Date;const r=t.getTime();return a&&this.notBefore.getTime()<r&&r<this.notAfter.getTime()}}async getThumbprint(...e){let t;let r="SHA-1";if(e[0]){if(!e[0].subtle){r=e[0]||r;t=e[1]}else{t=e[0]}}t!==null&&t!==void 0?t:t=cryptoProvider.get();return await t.subtle.digest(r,this.rawData)}async isSelfSigned(e=cryptoProvider.get()){return this.subject===this.issuer&&await this.verify({signatureOnly:true},e)}toTextObject(){const e=this.toTextObjectEmpty();const t=AsnConvert.parse(this.rawData,Certificate);const r=t.tbsCertificate;const n=new TextObject("",{Version:`${Version$2[r.version]} (${r.version})`,"Serial Number":r.serialNumber,"Signature Algorithm":TextConverter.serializeAlgorithm(r.signature),Issuer:this.issuer,Validity:new TextObject("",{"Not Before":r.validity.notBefore.getTime(),"Not After":r.validity.notAfter.getTime()}),Subject:this.subject,"Subject Public Key Info":this.publicKey});if(r.issuerUniqueID){n["Issuer Unique ID"]=r.issuerUniqueID}if(r.subjectUniqueID){n["Subject Unique ID"]=r.subjectUniqueID}if(this.extensions.length){const e=new TextObject("");for(const t of this.extensions){const r=t.toTextObject();e[r[TextObject.NAME]]=r}n["Extensions"]=e}e["Data"]=n;e["Signature"]=new TextObject("",{Algorithm:TextConverter.serializeAlgorithm(t.signatureAlgorithm),"":t.signatureValue});return e}}X509Certificate.NAME="Certificate";class AuthorityKeyIdentifierExtension extends Extension{constructor(...e){if(build.BufferSourceConverter.isBufferSource(e[0])){super(e[0])}else if(typeof e[0]==="string"){const t=new AuthorityKeyIdentifier({keyIdentifier:new KeyIdentifier(build.Convert.FromHex(e[0]))});super(id_ce_authorityKeyIdentifier,e[1],AsnConvert.serialize(t))}else{const t=e[0];const r=t.name instanceof GeneralNames?AsnConvert.parse(t.name.rawData,GeneralNames$1):t.name;const n=new AuthorityKeyIdentifier({authorityCertIssuer:r,authorityCertSerialNumber:build.Convert.FromHex(t.serialNumber)});super(id_ce_authorityKeyIdentifier,e[1],AsnConvert.serialize(n))}}static async create(e,t=false,r=cryptoProvider.get()){if(e instanceof X509Certificate||CryptoProvider.isCryptoKey(e)){const n=e instanceof X509Certificate?await e.publicKey.export(r):e;const i=await r.subtle.exportKey("spki",n);const s=new PublicKey(i);const f=await s.getKeyIdentifier(r);return new AuthorityKeyIdentifierExtension(build.Convert.ToHex(f),t)}else{return new AuthorityKeyIdentifierExtension(e,t)}}onInit(e){super.onInit(e);const t=AsnConvert.parse(e.extnValue,AuthorityKeyIdentifier);if(t.keyIdentifier){this.keyId=build.Convert.ToHex(t.keyIdentifier)}if(t.authorityCertIssuer&&t.authorityCertSerialNumber){this.certId={name:t.authorityCertIssuer,serialNumber:build.Convert.ToHex(t.authorityCertSerialNumber)}}}toTextObject(){const e=this.toTextObjectWithoutValue();const t=AsnConvert.parse(this.value,AuthorityKeyIdentifier);if(t.authorityCertIssuer){e["Authority Issuer"]=new GeneralNames(t.authorityCertIssuer).toTextObject()}if(t.authorityCertSerialNumber){e["Authority Serial Number"]=t.authorityCertSerialNumber}if(t.keyIdentifier){e[""]=t.keyIdentifier}return e}}AuthorityKeyIdentifierExtension.NAME="Authority Key Identifier";class BasicConstraintsExtension extends Extension{constructor(...e){if(build.BufferSourceConverter.isBufferSource(e[0])){super(e[0]);const t=AsnConvert.parse(this.value,BasicConstraints);this.ca=t.cA;this.pathLength=t.pathLenConstraint}else{const t=new BasicConstraints({cA:e[0],pathLenConstraint:e[1]});super(id_ce_basicConstraints,e[2],AsnConvert.serialize(t));this.ca=e[0];this.pathLength=e[1]}}toTextObject(){const e=this.toTextObjectWithoutValue();if(this.ca){e["CA"]=this.ca}if(this.pathLength!==undefined){e["Path Length"]=this.pathLength}return e}}BasicConstraintsExtension.NAME="Basic Constraints";var ExtendedKeyUsage;(function(e){e["serverAuth"]="1.3.6.1.5.5.7.3.1";e["clientAuth"]="1.3.6.1.5.5.7.3.2";e["codeSigning"]="1.3.6.1.5.5.7.3.3";e["emailProtection"]="1.3.6.1.5.5.7.3.4";e["timeStamping"]="1.3.6.1.5.5.7.3.8";e["ocspSigning"]="1.3.6.1.5.5.7.3.9"})(ExtendedKeyUsage||(ExtendedKeyUsage={}));class ExtendedKeyUsageExtension extends Extension{constructor(...e){if(build.BufferSourceConverter.isBufferSource(e[0])){super(e[0]);const t=AsnConvert.parse(this.value,ExtendedKeyUsage$1);this.usages=t.map((e=>e))}else{const t=new ExtendedKeyUsage$1(e[0]);super(id_ce_extKeyUsage,e[1],AsnConvert.serialize(t));this.usages=e[0]}}toTextObject(){const e=this.toTextObjectWithoutValue();e[""]=this.usages.map((e=>OidSerializer.toString(e))).join(", ");return e}}ExtendedKeyUsageExtension.NAME="Extended Key Usages";var KeyUsageFlags;(function(e){e[e["digitalSignature"]=1]="digitalSignature";e[e["nonRepudiation"]=2]="nonRepudiation";e[e["keyEncipherment"]=4]="keyEncipherment";e[e["dataEncipherment"]=8]="dataEncipherment";e[e["keyAgreement"]=16]="keyAgreement";e[e["keyCertSign"]=32]="keyCertSign";e[e["cRLSign"]=64]="cRLSign";e[e["encipherOnly"]=128]="encipherOnly";e[e["decipherOnly"]=256]="decipherOnly"})(KeyUsageFlags||(KeyUsageFlags={}));class KeyUsagesExtension extends Extension{constructor(...e){if(build.BufferSourceConverter.isBufferSource(e[0])){super(e[0]);const t=AsnConvert.parse(this.value,KeyUsage);this.usages=t.toNumber()}else{const t=new KeyUsage(e[0]);super(id_ce_keyUsage,e[1],AsnConvert.serialize(t));this.usages=e[0]}}toTextObject(){const e=this.toTextObjectWithoutValue();const t=AsnConvert.parse(this.value,KeyUsage);e[""]=t.toJSON().join(", ");return e}}KeyUsagesExtension.NAME="Key Usages";class SubjectKeyIdentifierExtension extends Extension{constructor(...e){if(build.BufferSourceConverter.isBufferSource(e[0])){super(e[0]);const t=AsnConvert.parse(this.value,SubjectKeyIdentifier);this.keyId=build.Convert.ToHex(t)}else{const t=typeof e[0]==="string"?build.Convert.FromHex(e[0]):e[0];const r=new SubjectKeyIdentifier(t);super(id_ce_subjectKeyIdentifier,e[1],AsnConvert.serialize(r));this.keyId=build.Convert.ToHex(t)}}static async create(e,t=false,r=cryptoProvider.get()){let n;if(e instanceof PublicKey){n=e.rawData}else if("publicKey"in e){n=e.publicKey.rawData}else if(build.BufferSourceConverter.isBufferSource(e)){n=e}else{n=await r.subtle.exportKey("spki",e)}const i=new PublicKey(n);const s=await i.getKeyIdentifier(r);return new SubjectKeyIdentifierExtension(build.Convert.ToHex(s),t)}toTextObject(){const e=this.toTextObjectWithoutValue();const t=AsnConvert.parse(this.value,SubjectKeyIdentifier);e[""]=t;return e}}SubjectKeyIdentifierExtension.NAME="Subject Key Identifier";class SubjectAlternativeNameExtension extends Extension{constructor(...e){if(build.BufferSourceConverter.isBufferSource(e[0])){super(e[0])}else{super(id_ce_subjectAltName,e[1],new GeneralNames(e[0]||[]).rawData)}}onInit(e){super.onInit(e);const t=AsnConvert.parse(e.extnValue,SubjectAlternativeName);this.names=new GeneralNames(t)}toTextObject(){const e=this.toTextObjectWithoutValue();const t=this.names.toTextObject();for(const r in t){e[r]=t[r]}return e}}SubjectAlternativeNameExtension.NAME="Subject Alternative Name";class CertificatePolicyExtension extends Extension{constructor(...e){var t;if(build.BufferSourceConverter.isBufferSource(e[0])){super(e[0]);const t=AsnConvert.parse(this.value,CertificatePolicies);this.policies=t.map((e=>e.policyIdentifier))}else{const r=e[0];const n=(t=e[1])!==null&&t!==void 0?t:false;const i=new CertificatePolicies(r.map((e=>new PolicyInformation({policyIdentifier:e}))));super(id_ce_certificatePolicies,n,AsnConvert.serialize(i));this.policies=r}}toTextObject(){const e=this.toTextObjectWithoutValue();e["Policy"]=this.policies.map((e=>new TextObject("",{},OidSerializer.toString(e))));return e}}CertificatePolicyExtension.NAME="Certificate Policies";ExtensionFactory.register(id_ce_certificatePolicies,CertificatePolicyExtension);class Attribute extends AsnData{constructor(...e){let t;if(build.BufferSourceConverter.isBufferSource(e[0])){t=build.BufferSourceConverter.toArrayBuffer(e[0])}else{const r=e[0];const n=Array.isArray(e[1])?e[1].map((e=>build.BufferSourceConverter.toArrayBuffer(e))):[];t=AsnConvert.serialize(new Attribute$2({type:r,values:n}))}super(t,Attribute$2)}onInit(e){this.type=e.type;this.values=e.values}toTextObject(){const e=this.toTextObjectWithoutValue();e["Value"]=this.values.map((e=>new TextObject("",{"":e})));return e}toTextObjectWithoutValue(){const e=this.toTextObjectEmpty();if(e[TextObject.NAME]===Attribute.NAME){e[TextObject.NAME]=OidSerializer.toString(this.type)}return e}}Attribute.NAME="Attribute";class ChallengePasswordAttribute extends Attribute{constructor(...e){var t;if(build.BufferSourceConverter.isBufferSource(e[0])){super(e[0])}else{const t=new ChallengePassword({printableString:e[0]});super(id_pkcs9_at_challengePassword,[AsnConvert.serialize(t)])}(t=this.password)!==null&&t!==void 0?t:this.password=""}onInit(e){super.onInit(e);if(this.values[0]){const e=AsnConvert.parse(this.values[0],ChallengePassword);this.password=e.toString()}}toTextObject(){const e=this.toTextObjectWithoutValue();e[TextObject.VALUE]=this.password;return e}}ChallengePasswordAttribute.NAME="Challenge Password";class ExtensionsAttribute extends Attribute{constructor(...e){var t;if(build.BufferSourceConverter.isBufferSource(e[0])){super(e[0])}else{const t=e[0];const r=new Extensions;for(const e of t){r.push(AsnConvert.parse(e.rawData,Extension$1))}super(id_pkcs9_at_extensionRequest,[AsnConvert.serialize(r)])}(t=this.items)!==null&&t!==void 0?t:this.items=[]}onInit(e){super.onInit(e);if(this.values[0]){const e=AsnConvert.parse(this.values[0],Extensions);this.items=e.map((e=>ExtensionFactory.create(AsnConvert.serialize(e))))}}toTextObject(){const e=this.toTextObjectWithoutValue();const t=this.items.map((e=>e.toTextObject()));for(const r of t){e[r[TextObject.NAME]]=r}return e}}ExtensionsAttribute.NAME="Extensions";class AttributeFactory{static register(e,t){this.items.set(e,t)}static create(e){const t=new Attribute(e);const r=this.items.get(t.type);if(r){return new r(e)}return t}}AttributeFactory.items=new Map;let RsaAlgorithm=class e{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"rsassa-pkcs1-v1_5":if(e.hash){switch(e.hash.name.toLowerCase()){case"sha-1":return new AlgorithmIdentifier$1({algorithm:id_sha1WithRSAEncryption,parameters:null});case"sha-256":return new AlgorithmIdentifier$1({algorithm:id_sha256WithRSAEncryption,parameters:null});case"sha-384":return new AlgorithmIdentifier$1({algorithm:id_sha384WithRSAEncryption,parameters:null});case"sha-512":return new AlgorithmIdentifier$1({algorithm:id_sha512WithRSAEncryption,parameters:null})}}else{return new AlgorithmIdentifier$1({algorithm:id_rsaEncryption,parameters:null})}}return null}toWebAlgorithm(e){switch(e.algorithm){case id_rsaEncryption:return{name:"RSASSA-PKCS1-v1_5"};case id_sha1WithRSAEncryption:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case id_sha256WithRSAEncryption:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case id_sha384WithRSAEncryption:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case id_sha512WithRSAEncryption:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}}}return null}};RsaAlgorithm=__decorate([injectable()],RsaAlgorithm);instance.registerSingleton(diAlgorithm,RsaAlgorithm);class AsnEcSignatureFormatter{addPadding(e,t){const r=build.BufferSourceConverter.toUint8Array(t);const n=new Uint8Array(e);n.set(r,e-r.length);return n}removePadding(e,t=false){let r=build.BufferSourceConverter.toUint8Array(e);for(let e=0;e<r.length;e++){if(!r[e]){continue}r=r.slice(e);break}if(t&&r[0]>127){const e=new Uint8Array(r.length+1);e.set(r,1);return e.buffer}return r.buffer}toAsnSignature(e,t){if(e.name==="ECDSA"){const r=e.namedCurve;const n=AsnEcSignatureFormatter.namedCurveSize.get(r)||AsnEcSignatureFormatter.defaultNamedCurveSize;const i=new ECDSASigValue;const s=build.BufferSourceConverter.toUint8Array(t);i.r=this.removePadding(s.slice(0,n),true);i.s=this.removePadding(s.slice(n,n+n),true);return AsnConvert.serialize(i)}return null}toWebSignature(e,t){if(e.name==="ECDSA"){const r=AsnConvert.parse(t,ECDSASigValue);const n=e.namedCurve;const i=AsnEcSignatureFormatter.namedCurveSize.get(n)||AsnEcSignatureFormatter.defaultNamedCurveSize;const s=this.addPadding(i,this.removePadding(r.r));const f=this.addPadding(i,this.removePadding(r.s));return build.combine(s,f)}return null}}AsnEcSignatureFormatter.namedCurveSize=new Map;AsnEcSignatureFormatter.defaultNamedCurveSize=32;const idX25519$1="1.3.101.110";const idX448$1="1.3.101.111";const idEd25519$1="1.3.101.112";const idEd448$1="1.3.101.113";let EdAlgorithm=class e{toAsnAlgorithm(e){let t=null;switch(e.name.toLowerCase()){case"eddsa":switch(e.namedCurve.toLowerCase()){case"ed25519":t=idEd25519$1;break;case"ed448":t=idEd448$1;break}break;case"ecdh-es":switch(e.namedCurve.toLowerCase()){case"x25519":t=idX25519$1;break;case"x448":t=idX448$1;break}}if(t){return new AlgorithmIdentifier$1({algorithm:t})}return null}toWebAlgorithm(e){switch(e.algorithm){case idEd25519$1:return{name:"EdDSA",namedCurve:"Ed25519"};case idEd448$1:return{name:"EdDSA",namedCurve:"Ed448"};case idX25519$1:return{name:"ECDH-ES",namedCurve:"X25519"};case idX448$1:return{name:"ECDH-ES",namedCurve:"X448"}}return null}};EdAlgorithm=__decorate([injectable()],EdAlgorithm);instance.registerSingleton(diAlgorithm,EdAlgorithm);class X509Certificates extends Array{constructor(e){super();if(PemData.isAsnEncoded(e)){this.import(e)}else if(e instanceof X509Certificate){this.push(e)}else if(Array.isArray(e)){for(const t of e){this.push(t)}}}export(e){const t=new SignedData;t.version=1;t.encapContentInfo.eContentType=id_data;t.encapContentInfo.eContent=new EncapsulatedContent({single:new OctetString});t.certificates=new CertificateSet(this.map((e=>new CertificateChoices({certificate:AsnConvert.parse(e.rawData,Certificate)}))));const r=new ContentInfo({contentType:id_signedData,content:AsnConvert.serialize(t)});const n=AsnConvert.serialize(r);if(e==="raw"){return n}return this.toString(e)}import(e){const t=PemData.toArrayBuffer(e);const r=AsnConvert.parse(t,ContentInfo);if(r.contentType!==id_signedData){throw new TypeError("Cannot parse CMS package. Incoming data is not a SignedData object.")}const n=AsnConvert.parse(r.content,SignedData);this.clear();for(const e of n.certificates||[]){if(e.certificate){this.push(new X509Certificate(e.certificate))}}}clear(){while(this.pop()){}}toString(e="pem"){const t=this.export("raw");switch(e){case"pem":return PemConverter.encode(t,"CMS");case"pem-chain":return this.map((e=>e.toString("pem"))).join("\n");case"asn":return AsnConvert.toString(t);case"hex":return build.Convert.ToHex(t);case"base64":return build.Convert.ToBase64(t);case"base64url":return build.Convert.ToBase64Url(t);case"text":return TextConverter.serialize(this.toTextObject());default:throw TypeError("Argument 'format' is unsupported value")}}toTextObject(){const e=AsnConvert.parse(this.export("raw"),ContentInfo);const t=AsnConvert.parse(e.content,SignedData);const r=new TextObject("X509Certificates",{"Content Type":OidSerializer.toString(e.contentType),Content:new TextObject("",{Version:`${CMSVersion[t.version]} (${t.version})`,Certificates:new TextObject("",{Certificate:this.map((e=>e.toTextObject()))})})});return r}}class X509ChainBuilder{constructor(e={}){this.certificates=[];if(e.certificates){this.certificates=e.certificates}}async build(e,t=cryptoProvider.get()){const r=new X509Certificates(e);let n=e;while(n=await this.findIssuer(n,t)){const e=await n.getThumbprint(t);for(const n of r){const r=await n.getThumbprint(t);if(build.isEqual(e,r)){throw new Error("Cannot build a certificate chain. Circular dependency.")}}r.push(n)}return r}async findIssuer(e,t=cryptoProvider.get()){if(!await e.isSelfSigned(t)){const r=e.getExtension(id_ce_authorityKeyIdentifier);for(const n of this.certificates){if(n.subject!==e.issuer){continue}if(r){if(r.keyId){const e=n.getExtension(id_ce_subjectKeyIdentifier);if(e&&e.keyId!==r.keyId){continue}}else if(r.certId){const e=n.getExtension(id_ce_subjectAltName);if(e&&!(r.certId.serialNumber===n.serialNumber&&build.isEqual(AsnConvert.serialize(r.certId.name),AsnConvert.serialize(e)))){continue}}}if(!await e.verify({publicKey:await n.publicKey.export(t),signatureOnly:true},t)){continue}return n}}return null}}var X509CrlReason;(function(e){e[e["unspecified"]=0]="unspecified";e[e["keyCompromise"]=1]="keyCompromise";e[e["cACompromise"]=2]="cACompromise";e[e["affiliationChanged"]=3]="affiliationChanged";e[e["superseded"]=4]="superseded";e[e["cessationOfOperation"]=5]="cessationOfOperation";e[e["certificateHold"]=6]="certificateHold";e[e["removeFromCRL"]=8]="removeFromCRL";e[e["privilegeWithdrawn"]=9]="privilegeWithdrawn";e[e["aACompromise"]=10]="aACompromise"})(X509CrlReason||(X509CrlReason={}));ExtensionFactory.register(id_ce_basicConstraints,BasicConstraintsExtension);ExtensionFactory.register(id_ce_extKeyUsage,ExtendedKeyUsageExtension);ExtensionFactory.register(id_ce_keyUsage,KeyUsagesExtension);ExtensionFactory.register(id_ce_subjectKeyIdentifier,SubjectKeyIdentifierExtension);ExtensionFactory.register(id_ce_authorityKeyIdentifier,AuthorityKeyIdentifierExtension);ExtensionFactory.register(id_ce_subjectAltName,SubjectAlternativeNameExtension);AttributeFactory.register(id_pkcs9_at_challengePassword,ChallengePasswordAttribute);AttributeFactory.register(id_pkcs9_at_extensionRequest,ExtensionsAttribute);instance.registerSingleton(diAsnSignatureFormatter,AsnDefaultSignatureFormatter);instance.registerSingleton(diAsnSignatureFormatter,AsnEcSignatureFormatter);AsnEcSignatureFormatter.namedCurveSize.set("P-256",32);AsnEcSignatureFormatter.namedCurveSize.set("K-256",32);AsnEcSignatureFormatter.namedCurveSize.set("P-384",48);AsnEcSignatureFormatter.namedCurveSize.set("P-521",66);class PubkeyResolver{constructor(e){this.tokenScript=e}async resolvePublicKey(){const e=await this.tokenScript.getEngine().getWalletAdapter();const t=Object.values(this.tokenScript.getContracts(true))[0];const r=t.getFirstAddress();for(let t of PubkeyResolver.KEY_SOURCES){try{if(t.type==="contractCall"){t.value=await e.call(r.chain,r.address,t.value,[],[t.valueType==="ethAddress"?"address":"bytes"]);return t}throw new Error("Key source type "+t.type+" is not implemented")}catch(e){console.error(e)}}throw new Error("Owner or Pubkey for "+r.address+" was not found")}}PubkeyResolver.KEY_SOURCES=[{type:"contractCall",valueType:"ethAddress",value:"owner"}];class JsonError extends Error{constructor(e,t){super(t?`${e}. See the inner exception for more details.`:e);this.message=e;this.innerError=t}}class TransformError extends JsonError{constructor(e,t,r){super(t,r);this.schema=e}}class ParserError extends TransformError{constructor(e,t,r){super(e,`JSON doesn't match to '${e.target.name}' schema. ${t}`,r)}}class ValidationError extends JsonError{}class SerializerError extends JsonError{constructor(e,t,r){super(`Cannot serialize by '${e}' schema. ${t}`,r);this.schemaName=e}}class KeyError extends ParserError{constructor(e,t,r={}){super(e,"Some keys doesn't match to schema");this.keys=t;this.errors=r}}var JsonPropTypes;(function(e){e[e["Any"]=0]="Any";e[e["Boolean"]=1]="Boolean";e[e["Number"]=2]="Number";e[e["String"]=3]="String"})(JsonPropTypes||(JsonPropTypes={}));function checkType(e,t){switch(t){case JsonPropTypes.Boolean:return typeof e==="boolean";case JsonPropTypes.Number:return typeof e==="number";case JsonPropTypes.String:return typeof e==="string"}return true}function throwIfTypeIsWrong(e,t){if(!checkType(e,t)){throw new TypeError(`Value must be ${JsonPropTypes[t]}`)}}function isConvertible(e){if(e&&e.prototype){if(e.prototype.toJSON&&e.prototype.fromJSON){return true}else{return isConvertible(e.prototype)}}else{return!!(e&&e.toJSON&&e.fromJSON)}}class JsonSchemaStorage{constructor(){this.items=new Map}has(e){return this.items.has(e)||!!this.findParentSchema(e)}get(e){const t=this.items.get(e)||this.findParentSchema(e);if(!t){throw new Error("Cannot get schema for current target")}return t}create(e){const t={names:{}};const r=this.findParentSchema(e);if(r){Object.assign(t,r);t.names={};for(const e in r.names){t.names[e]=Object.assign({},r.names[e])}}t.target=e;return t}set(e,t){this.items.set(e,t);return this}findParentSchema(e){const t=e.__proto__;if(t){const e=this.items.get(t);return e||this.findParentSchema(t)}return null}}const DEFAULT_SCHEMA="default";const schemaStorage=new JsonSchemaStorage;class PatternValidation{constructor(e){this.pattern=new RegExp(e)}validate(e){const t=new RegExp(this.pattern.source,this.pattern.flags);if(typeof e!=="string"){throw new ValidationError("Incoming value must be string")}if(!t.exec(e)){throw new ValidationError(`Value doesn't match to pattern '${t.toString()}'`)}}}class InclusiveValidation{constructor(e=Number.MIN_VALUE,t=Number.MAX_VALUE){this.min=e;this.max=t}validate(e){throwIfTypeIsWrong(e,JsonPropTypes.Number);if(!(this.min<=e&&e<=this.max)){const e=this.min===Number.MIN_VALUE?"MIN":this.min;const t=this.max===Number.MAX_VALUE?"MAX":this.max;throw new ValidationError(`Value doesn't match to diapason [${e},${t}]`)}}}class ExclusiveValidation{constructor(e=Number.MIN_VALUE,t=Number.MAX_VALUE){this.min=e;this.max=t}validate(e){throwIfTypeIsWrong(e,JsonPropTypes.Number);if(!(this.min<e&&e<this.max)){const e=this.min===Number.MIN_VALUE?"MIN":this.min;const t=this.max===Number.MAX_VALUE?"MAX":this.max;throw new ValidationError(`Value doesn't match to diapason (${e},${t})`)}}}class LengthValidation{constructor(e,t,r){this.length=e;this.minLength=t;this.maxLength=r}validate(e){if(this.length!==undefined){if(e.length!==this.length){throw new ValidationError(`Value length must be exactly ${this.length}.`)}return}if(this.minLength!==undefined){if(e.length<this.minLength){throw new ValidationError(`Value length must be more than ${this.minLength}.`)}}if(this.maxLength!==undefined){if(e.length>this.maxLength){throw new ValidationError(`Value length must be less than ${this.maxLength}.`)}}}}class EnumerationValidation{constructor(e){this.enumeration=e}validate(e){throwIfTypeIsWrong(e,JsonPropTypes.String);if(!this.enumeration.includes(e)){throw new ValidationError(`Value must be one of ${this.enumeration.map((e=>`'${e}'`)).join(", ")}`)}}}class JsonTransform{static checkValues(e,t){const r=Array.isArray(e)?e:[e];for(const n of r){for(const r of t.validations){if(r instanceof LengthValidation&&t.repeated){r.validate(e)}else{r.validate(n)}}}}static checkTypes(e,t){if(t.repeated&&!Array.isArray(e)){throw new TypeError("Value must be Array")}if(typeof t.type==="number"){const r=Array.isArray(e)?e:[e];for(const e of r){throwIfTypeIsWrong(e,t.type)}}}static getSchemaByName(e,t=DEFAULT_SCHEMA){return{...e.names[DEFAULT_SCHEMA],...e.names[t]}}}class JsonSerializer extends JsonTransform{static serialize(e,t,r,n){const i=this.toJSON(e,t);return JSON.stringify(i,r,n)}static toJSON(e,t={}){let r;let n=t.targetSchema;const i=t.schemaName||DEFAULT_SCHEMA;if(isConvertible(e)){return e.toJSON()}if(Array.isArray(e)){r=[];for(const n of e){r.push(this.toJSON(n,t))}}else if(typeof e==="object"){if(n&&!schemaStorage.has(n)){throw new JsonError("Cannot get schema for `targetSchema` param")}n=n||e.constructor;if(schemaStorage.has(n)){const t=schemaStorage.get(n);r={};const s=this.getSchemaByName(t,i);for(const f in s){try{const t=s[f];const a=e[f];let o;if(t.optional&&a===undefined||t.defaultValue!==undefined&&a===t.defaultValue){continue}if(!t.optional&&a===undefined){throw new SerializerError(n.name,`Property '${f}' is required.`)}if(typeof t.type==="number"){if(t.converter){if(t.repeated){o=a.map((r=>t.converter.toJSON(r,e)))}else{o=t.converter.toJSON(a,e)}}else{o=a}}else{if(t.repeated){o=a.map((e=>this.toJSON(e,{schemaName:i})))}else{o=this.toJSON(a,{schemaName:i})}}this.checkTypes(o,t);this.checkValues(o,t);r[t.name||f]=o}catch(e){if(e instanceof SerializerError){throw e}else{throw new SerializerError(t.target.name,`Property '${f}' is wrong. ${e.message}`,e)}}}}else{r={};for(const t in e){r[t]=this.toJSON(e[t],{schemaName:i})}}}else{r=e}return r}}class JsonParser extends JsonTransform{static parse(e,t){const r=JSON.parse(e);return this.fromJSON(r,t)}static fromJSON(e,t){const r=t.targetSchema;const n=t.schemaName||DEFAULT_SCHEMA;const i=new r;if(isConvertible(i)){return i.fromJSON(e)}const s=schemaStorage.get(r);const f=this.getSchemaByName(s,n);const a={};if(t.strictProperty&&!Array.isArray(e)){JsonParser.checkStrictProperty(e,f,s)}for(const r in f){try{const a=f[r];const o=a.name||r;const c=e[o];if(c===undefined&&(a.optional||a.defaultValue!==undefined)){continue}if(!a.optional&&c===undefined){throw new ParserError(s,`Property '${o}' is required.`)}this.checkTypes(c,a);this.checkValues(c,a);if(typeof a.type==="number"){if(a.converter){if(a.repeated){i[r]=c.map((e=>a.converter.fromJSON(e,i)))}else{i[r]=a.converter.fromJSON(c,i)}}else{i[r]=c}}else{const e={...t,targetSchema:a.type,schemaName:n};if(a.repeated){i[r]=c.map((t=>this.fromJSON(t,e)))}else{i[r]=this.fromJSON(c,e)}}}catch(e){if(!(e instanceof ParserError)){e=new ParserError(s,`Property '${r}' is wrong. ${e.message}`,e)}if(t.strictAllKeys){a[r]=e}else{throw e}}}const o=Object.keys(a);if(o.length){throw new KeyError(s,o,a)}return i}static checkStrictProperty(e,t,r){const n=Object.keys(e);const i=Object.keys(t);const s=[];for(const e of n){if(i.indexOf(e)===-1){s.push(e)}}if(s.length){throw new KeyError(r,s)}}}function getValidations(e){const t=[];if(e.pattern){t.push(new PatternValidation(e.pattern))}if(e.type===JsonPropTypes.Number||e.type===JsonPropTypes.Any){if(e.minInclusive!==undefined||e.maxInclusive!==undefined){t.push(new InclusiveValidation(e.minInclusive,e.maxInclusive))}if(e.minExclusive!==undefined||e.maxExclusive!==undefined){t.push(new ExclusiveValidation(e.minExclusive,e.maxExclusive))}if(e.enumeration!==undefined){t.push(new EnumerationValidation(e.enumeration))}}if(e.type===JsonPropTypes.String||e.repeated||e.type===JsonPropTypes.Any){if(e.length!==undefined||e.minLength!==undefined||e.maxLength!==undefined){t.push(new LengthValidation(e.length,e.minLength,e.maxLength))}}return t}const JsonProp=(e={})=>(t,r)=>{const n=`Cannot set type for ${r} property of ${t.constructor.name} schema`;let i;if(!schemaStorage.has(t.constructor)){i=schemaStorage.create(t.constructor);schemaStorage.set(t.constructor,i)}else{i=schemaStorage.get(t.constructor);if(i.target!==t.constructor){i=schemaStorage.create(t.constructor);schemaStorage.set(t.constructor,i)}}const s={type:JsonPropTypes.Any,validations:[]};const f=Object.assign(s,e);f.validations=getValidations(f);if(typeof f.type!=="number"){if(!schemaStorage.has(f.type)&&!isConvertible(f.type)){throw new Error(`${n}. Assigning type doesn't have schema.`)}}let a;if(Array.isArray(e.schema)){a=e.schema}else{a=[e.schema||DEFAULT_SCHEMA]}for(const e of a){if(!i.names[e]){i.names[e]={}}const t=i.names[e];t[r]=f}}
/*!
 Copyright (c) Peculiar Ventures, LLC
*/;class CryptoError extends Error{}class AlgorithmError extends CryptoError{}class UnsupportedOperationError extends CryptoError{constructor(e){super(`Unsupported operation: ${e?`${e}`:""}`)}}class OperationError extends CryptoError{}class RequiredPropertyError extends CryptoError{constructor(e){super(`${e}: Missing required property`)}}function isJWK(e){return typeof e==="object"&&"kty"in e}class ProviderCrypto{async digest(...e){this.checkDigest.apply(this,e);return this.onDigest.apply(this,e)}checkDigest(e,t){this.checkAlgorithmName(e)}async onDigest(e,t){throw new UnsupportedOperationError("digest")}async generateKey(...e){this.checkGenerateKey.apply(this,e);return this.onGenerateKey.apply(this,e)}checkGenerateKey(e,t,r,...n){this.checkAlgorithmName(e);this.checkGenerateKeyParams(e);if(!(r&&r.length)){throw new TypeError(`Usages cannot be empty when creating a key.`)}let i;if(Array.isArray(this.usages)){i=this.usages}else{i=this.usages.privateKey.concat(this.usages.publicKey)}this.checkKeyUsages(r,i)}checkGenerateKeyParams(e){}async onGenerateKey(e,t,r,...n){throw new UnsupportedOperationError("generateKey")}async sign(...e){this.checkSign.apply(this,e);return this.onSign.apply(this,e)}checkSign(e,t,r,...n){this.checkAlgorithmName(e);this.checkAlgorithmParams(e);this.checkCryptoKey(t,"sign")}async onSign(e,t,r,...n){throw new UnsupportedOperationError("sign")}async verify(...e){this.checkVerify.apply(this,e);return this.onVerify.apply(this,e)}checkVerify(e,t,r,n,...i){this.checkAlgorithmName(e);this.checkAlgorithmParams(e);this.checkCryptoKey(t,"verify")}async onVerify(e,t,r,n,...i){throw new UnsupportedOperationError("verify")}async encrypt(...e){this.checkEncrypt.apply(this,e);return this.onEncrypt.apply(this,e)}checkEncrypt(e,t,r,n={},...i){this.checkAlgorithmName(e);this.checkAlgorithmParams(e);this.checkCryptoKey(t,n.keyUsage?"encrypt":void 0)}async onEncrypt(e,t,r,...n){throw new UnsupportedOperationError("encrypt")}async decrypt(...e){this.checkDecrypt.apply(this,e);return this.onDecrypt.apply(this,e)}checkDecrypt(e,t,r,n={},...i){this.checkAlgorithmName(e);this.checkAlgorithmParams(e);this.checkCryptoKey(t,n.keyUsage?"decrypt":void 0)}async onDecrypt(e,t,r,...n){throw new UnsupportedOperationError("decrypt")}async deriveBits(...e){this.checkDeriveBits.apply(this,e);return this.onDeriveBits.apply(this,e)}checkDeriveBits(e,t,r,n={},...i){this.checkAlgorithmName(e);this.checkAlgorithmParams(e);this.checkCryptoKey(t,n.keyUsage?"deriveBits":void 0);if(r%8!==0){throw new OperationError("length: Is not multiple of 8")}}async onDeriveBits(e,t,r,...n){throw new UnsupportedOperationError("deriveBits")}async exportKey(...e){this.checkExportKey.apply(this,e);return this.onExportKey.apply(this,e)}checkExportKey(e,t,...r){this.checkKeyFormat(e);this.checkCryptoKey(t);if(!t.extractable){throw new CryptoError("key: Is not extractable")}}async onExportKey(e,t,...r){throw new UnsupportedOperationError("exportKey")}async importKey(...e){this.checkImportKey.apply(this,e);return this.onImportKey.apply(this,e)}checkImportKey(e,t,r,n,i,...s){this.checkKeyFormat(e);this.checkKeyData(e,t);this.checkAlgorithmName(r);this.checkImportParams(r);if(Array.isArray(this.usages)){this.checkKeyUsages(i,this.usages)}}async onImportKey(e,t,r,n,i,...s){throw new UnsupportedOperationError("importKey")}checkAlgorithmName(e){if(e.name.toLowerCase()!==this.name.toLowerCase()){throw new AlgorithmError("Unrecognized name")}}checkAlgorithmParams(e){}checkDerivedKeyParams(e){}checkKeyUsages(e,t){for(const r of e){if(t.indexOf(r)===-1){throw new TypeError("Cannot create a key using the specified key usages")}}}checkCryptoKey(e,t){this.checkAlgorithmName(e.algorithm);if(t&&e.usages.indexOf(t)===-1){throw new CryptoError(`key does not match that of operation`)}}checkRequiredProperty(e,t){if(!(t in e)){throw new RequiredPropertyError(t)}}checkHashAlgorithm(e,t){for(const r of t){if(r.toLowerCase()===e.name.toLowerCase()){return}}throw new OperationError(`hash: Must be one of ${t.join(", ")}`)}checkImportParams(e){}checkKeyFormat(e){switch(e){case"raw":case"pkcs8":case"spki":case"jwk":break;default:throw new TypeError("format: Is invalid value. Must be 'jwk', 'raw', 'spki', or 'pkcs8'")}}checkKeyData(e,t){if(!t){throw new TypeError("keyData: Cannot be empty on empty on key importing")}if(e==="jwk"){if(!isJWK(t)){throw new TypeError("keyData: Is not JsonWebToken")}}else if(!build.BufferSourceConverter.isBufferSource(t)){throw new TypeError("keyData: Is not ArrayBufferView or ArrayBuffer")}}prepareData(e){return build.BufferSourceConverter.toArrayBuffer(e)}}class AesProvider extends ProviderCrypto{checkGenerateKeyParams(e){this.checkRequiredProperty(e,"length");if(typeof e.length!=="number"){throw new TypeError("length: Is not of type Number")}switch(e.length){case 128:case 192:case 256:break;default:throw new TypeError("length: Must be 128, 192, or 256")}}checkDerivedKeyParams(e){this.checkGenerateKeyParams(e)}}class AesCbcProvider$1 extends AesProvider{constructor(){super(...arguments);this.name="AES-CBC";this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){this.checkRequiredProperty(e,"iv");if(!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv))){throw new TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'")}if(e.iv.byteLength!==16){throw new TypeError("iv: Must have length 16 bytes")}}}class AesCtrProvider$1 extends AesProvider{constructor(){super(...arguments);this.name="AES-CTR";this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){this.checkRequiredProperty(e,"counter");if(!(e.counter instanceof ArrayBuffer||ArrayBuffer.isView(e.counter))){throw new TypeError("counter: Is not of type '(ArrayBuffer or ArrayBufferView)'")}if(e.counter.byteLength!==16){throw new TypeError("iv: Must have length 16 bytes")}this.checkRequiredProperty(e,"length");if(typeof e.length!=="number"){throw new TypeError("length: Is not a Number")}if(e.length<1){throw new OperationError("length: Must be more than 0")}}}class AesEcbProvider$1 extends AesProvider{constructor(){super(...arguments);this.name="AES-ECB";this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}}class AesGcmProvider$1 extends AesProvider{constructor(){super(...arguments);this.name="AES-GCM";this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){this.checkRequiredProperty(e,"iv");if(!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv))){throw new TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'")}if(e.iv.byteLength<1){throw new OperationError("iv: Must have length more than 0 and less than 2^64 - 1")}if(!("tagLength"in e)){e.tagLength=128}switch(e.tagLength){case 32:case 64:case 96:case 104:case 112:case 120:case 128:break;default:throw new OperationError("tagLength: Must be one of 32, 64, 96, 104, 112, 120 or 128")}}}class AesKwProvider$1 extends AesProvider{constructor(){super(...arguments);this.name="AES-KW";this.usages=["wrapKey","unwrapKey"]}}class DesProvider extends ProviderCrypto{constructor(){super(...arguments);this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.ivSize){this.checkRequiredProperty(e,"iv");if(!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv))){throw new TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'")}if(e.iv.byteLength!==this.ivSize){throw new TypeError(`iv: Must have length ${this.ivSize} bytes`)}}}checkGenerateKeyParams(e){this.checkRequiredProperty(e,"length");if(typeof e.length!=="number"){throw new TypeError("length: Is not of type Number")}if(e.length!==this.keySizeBits){throw new OperationError(`algorithm.length: Must be ${this.keySizeBits}`)}}checkDerivedKeyParams(e){this.checkGenerateKeyParams(e)}}class RsaProvider extends ProviderCrypto{constructor(){super(...arguments);this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"]}checkGenerateKeyParams(e){this.checkRequiredProperty(e,"hash");this.checkHashAlgorithm(e.hash,this.hashAlgorithms);this.checkRequiredProperty(e,"publicExponent");if(!(e.publicExponent&&e.publicExponent instanceof Uint8Array)){throw new TypeError("publicExponent: Missing or not a Uint8Array")}const t=build.Convert.ToBase64(e.publicExponent);if(!(t==="Aw=="||t==="AQAB")){throw new TypeError("publicExponent: Must be [3] or [1,0,1]")}this.checkRequiredProperty(e,"modulusLength");if(e.modulusLength%8||e.modulusLength<256||e.modulusLength>16384){throw new TypeError("The modulus length must be a multiple of 8 bits and >= 256 and <= 16384")}}checkImportParams(e){this.checkRequiredProperty(e,"hash");this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}class RsaSsaProvider$1 extends RsaProvider{constructor(){super(...arguments);this.name="RSASSA-PKCS1-v1_5";this.usages={privateKey:["sign"],publicKey:["verify"]}}}class RsaPssProvider$1 extends RsaProvider{constructor(){super(...arguments);this.name="RSA-PSS";this.usages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmParams(e){this.checkRequiredProperty(e,"saltLength");if(typeof e.saltLength!=="number"){throw new TypeError("saltLength: Is not a Number")}if(e.saltLength<0){throw new RangeError("saltLength: Must be positive number")}}}class RsaOaepProvider$1 extends RsaProvider{constructor(){super(...arguments);this.name="RSA-OAEP";this.usages={privateKey:["decrypt","unwrapKey"],publicKey:["encrypt","wrapKey"]}}checkAlgorithmParams(e){if(e.label&&!(e.label instanceof ArrayBuffer||ArrayBuffer.isView(e.label))){throw new TypeError("label: Is not of type '(ArrayBuffer or ArrayBufferView)'")}}}class EllipticProvider extends ProviderCrypto{checkGenerateKeyParams(e){this.checkRequiredProperty(e,"namedCurve");this.checkNamedCurve(e.namedCurve)}checkNamedCurve(e){for(const t of this.namedCurves){if(t.toLowerCase()===e.toLowerCase()){return}}throw new OperationError(`namedCurve: Must be one of ${this.namedCurves.join(", ")}`)}}class EcdsaProvider$1 extends EllipticProvider{constructor(){super(...arguments);this.name="ECDSA";this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"];this.usages={privateKey:["sign"],publicKey:["verify"]};this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(e){this.checkRequiredProperty(e,"hash");this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}const KEY_TYPES=["secret","private","public"];class CryptoKey$1{static create(e,t,r,n){const i=new this;i.algorithm=e;i.type=t;i.extractable=r;i.usages=n;return i}static isKeyType(e){return KEY_TYPES.indexOf(e)!==-1}get[Symbol.toStringTag](){return"CryptoKey"}}class EcdhProvider$1 extends EllipticProvider{constructor(){super(...arguments);this.name="ECDH";this.usages={privateKey:["deriveBits","deriveKey"],publicKey:[]};this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(e){this.checkRequiredProperty(e,"public");if(!(e.public instanceof CryptoKey$1)){throw new TypeError("public: Is not a CryptoKey")}if(e.public.type!=="public"){throw new OperationError("public: Is not a public key")}if(e.public.algorithm.name!==this.name){throw new OperationError(`public: Is not ${this.name} key`)}}}class EcdhEsProvider$1 extends EcdhProvider$1{constructor(){super(...arguments);this.name="ECDH-ES";this.namedCurves=["X25519","X448"]}}class EdDsaProvider$1 extends EllipticProvider{constructor(){super(...arguments);this.name="EdDSA";this.usages={privateKey:["sign"],publicKey:["verify"]};this.namedCurves=["Ed25519","Ed448"]}}let ObjectIdentifier=class e{constructor(e){if(e){this.value=e}}};__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],ObjectIdentifier.prototype,"value",void 0);ObjectIdentifier=__decorate([AsnType({type:AsnTypeTypes.Choice})],ObjectIdentifier);class AlgorithmIdentifier{constructor(e){Object.assign(this,e)}}__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],AlgorithmIdentifier.prototype,"algorithm",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,optional:true})],AlgorithmIdentifier.prototype,"parameters",void 0);class PrivateKeyInfo{constructor(){this.version=0;this.privateKeyAlgorithm=new AlgorithmIdentifier;this.privateKey=new ArrayBuffer(0)}}__decorate([AsnProp({type:AsnPropTypes.Integer})],PrivateKeyInfo.prototype,"version",void 0);__decorate([AsnProp({type:AlgorithmIdentifier})],PrivateKeyInfo.prototype,"privateKeyAlgorithm",void 0);__decorate([AsnProp({type:AsnPropTypes.OctetString})],PrivateKeyInfo.prototype,"privateKey",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,optional:true})],PrivateKeyInfo.prototype,"attributes",void 0);class PublicKeyInfo{constructor(){this.publicKeyAlgorithm=new AlgorithmIdentifier;this.publicKey=new ArrayBuffer(0)}}__decorate([AsnProp({type:AlgorithmIdentifier})],PublicKeyInfo.prototype,"publicKeyAlgorithm",void 0);__decorate([AsnProp({type:AsnPropTypes.BitString})],PublicKeyInfo.prototype,"publicKey",void 0);const JsonBase64UrlArrayBufferConverter={fromJSON:e=>build.Convert.FromBase64Url(e),toJSON:e=>build.Convert.ToBase64Url(new Uint8Array(e))};const AsnIntegerArrayBufferConverter={fromASN:e=>{const t=e.valueBlock.valueHex;return!new Uint8Array(t)[0]?e.valueBlock.valueHex.slice(1):e.valueBlock.valueHex},toASN:e=>{const t=new Uint8Array(e)[0]>127?build.combine(new Uint8Array([0]).buffer,e):e;return new Integer({valueHex:t})}};class RsaPrivateKey{constructor(){this.version=0;this.modulus=new ArrayBuffer(0);this.publicExponent=new ArrayBuffer(0);this.privateExponent=new ArrayBuffer(0);this.prime1=new ArrayBuffer(0);this.prime2=new ArrayBuffer(0);this.exponent1=new ArrayBuffer(0);this.exponent2=new ArrayBuffer(0);this.coefficient=new ArrayBuffer(0)}}__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerConverter})],RsaPrivateKey.prototype,"version",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter}),JsonProp({name:"n",converter:JsonBase64UrlArrayBufferConverter})],RsaPrivateKey.prototype,"modulus",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter}),JsonProp({name:"e",converter:JsonBase64UrlArrayBufferConverter})],RsaPrivateKey.prototype,"publicExponent",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter}),JsonProp({name:"d",converter:JsonBase64UrlArrayBufferConverter})],RsaPrivateKey.prototype,"privateExponent",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter}),JsonProp({name:"p",converter:JsonBase64UrlArrayBufferConverter})],RsaPrivateKey.prototype,"prime1",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter}),JsonProp({name:"q",converter:JsonBase64UrlArrayBufferConverter})],RsaPrivateKey.prototype,"prime2",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter}),JsonProp({name:"dp",converter:JsonBase64UrlArrayBufferConverter})],RsaPrivateKey.prototype,"exponent1",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter}),JsonProp({name:"dq",converter:JsonBase64UrlArrayBufferConverter})],RsaPrivateKey.prototype,"exponent2",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter}),JsonProp({name:"qi",converter:JsonBase64UrlArrayBufferConverter})],RsaPrivateKey.prototype,"coefficient",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,optional:true})],RsaPrivateKey.prototype,"otherPrimeInfos",void 0);class RsaPublicKey{constructor(){this.modulus=new ArrayBuffer(0);this.publicExponent=new ArrayBuffer(0)}}__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter}),JsonProp({name:"n",converter:JsonBase64UrlArrayBufferConverter})],RsaPublicKey.prototype,"modulus",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter}),JsonProp({name:"e",converter:JsonBase64UrlArrayBufferConverter})],RsaPublicKey.prototype,"publicExponent",void 0);let EcPublicKey=class e{constructor(e){this.value=new ArrayBuffer(0);if(e){this.value=e}}toJSON(){let e=new Uint8Array(this.value);if(e[0]!==4){throw new CryptoError("Wrong ECPoint. Current version supports only Uncompressed (0x04) point")}e=new Uint8Array(this.value.slice(1));const t=e.length/2;const r=0;const n={x:build.Convert.ToBase64Url(e.buffer.slice(r,r+t)),y:build.Convert.ToBase64Url(e.buffer.slice(r+t,r+t+t))};return n}fromJSON(e){if(!("x"in e)){throw new Error("x: Missing required property")}if(!("y"in e)){throw new Error("y: Missing required property")}const t=build.Convert.FromBase64Url(e.x);const r=build.Convert.FromBase64Url(e.y);const n=build.combine(new Uint8Array([4]).buffer,t,r);this.value=new Uint8Array(n).buffer;return this}};__decorate([AsnProp({type:AsnPropTypes.OctetString})],EcPublicKey.prototype,"value",void 0);EcPublicKey=__decorate([AsnType({type:AsnTypeTypes.Choice})],EcPublicKey);class EcPrivateKey{constructor(){this.version=1;this.privateKey=new ArrayBuffer(0)}fromJSON(e){if(!("d"in e)){throw new Error("d: Missing required property")}this.privateKey=build.Convert.FromBase64Url(e.d);if("x"in e){const t=new EcPublicKey;t.fromJSON(e);this.publicKey=AsnSerializer.toASN(t).valueBlock.valueHex}return this}toJSON(){const e={};e.d=build.Convert.ToBase64Url(this.privateKey);if(this.publicKey){Object.assign(e,new EcPublicKey(this.publicKey).toJSON())}return e}}__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerConverter})],EcPrivateKey.prototype,"version",void 0);__decorate([AsnProp({type:AsnPropTypes.OctetString})],EcPrivateKey.prototype,"privateKey",void 0);__decorate([AsnProp({context:0,type:AsnPropTypes.Any,optional:true})],EcPrivateKey.prototype,"parameters",void 0);__decorate([AsnProp({context:1,type:AsnPropTypes.BitString,optional:true})],EcPrivateKey.prototype,"publicKey",void 0);const AsnIntegerWithoutPaddingConverter={fromASN:e=>{const t=new Uint8Array(e.valueBlock.valueHex);return t[0]===0?t.buffer.slice(1):t.buffer},toASN:e=>{const t=new Uint8Array(e);if(t[0]>127){const e=new Uint8Array(t.length+1);e.set(t,1);return new Integer({valueHex:e.buffer})}return new Integer({valueHex:e})}};var index$2$1=Object.freeze({__proto__:null,AsnIntegerWithoutPaddingConverter});class EcUtils{static decodePoint(e,t){const r=build.BufferSourceConverter.toUint8Array(e);if(r.length===0||r[0]!==4){throw new Error("Only uncompressed point format supported")}const n=(r.length-1)/2;if(n!==Math.ceil(t/8)){throw new Error("Point does not match field size")}const i=r.slice(1,n+1);const s=r.slice(n+1,n+1+n);return{x:i,y:s}}static encodePoint(e,t){const r=Math.ceil(t/8);if(e.x.byteLength!==r||e.y.byteLength!==r){throw new Error("X,Y coordinates don't match point size criteria")}const n=build.BufferSourceConverter.toUint8Array(e.x);const i=build.BufferSourceConverter.toUint8Array(e.y);const s=new Uint8Array(r*2+1);s[0]=4;s.set(n,1);s.set(i,r+1);return s}static getSize(e){return Math.ceil(e/8)}static encodeSignature(e,t){const r=this.getSize(t);const n=build.BufferSourceConverter.toUint8Array(e.r);const i=build.BufferSourceConverter.toUint8Array(e.s);const s=new Uint8Array(r*2);s.set(this.padStart(n,r));s.set(this.padStart(i,r),r);return s}static decodeSignature(e,t){const r=this.getSize(t);const n=build.BufferSourceConverter.toUint8Array(e);if(n.length!==r*2){throw new Error("Incorrect size of the signature")}const i=n.slice(0,r);const s=n.slice(r);return{r:this.trimStart(i),s:this.trimStart(s)}}static trimStart(e){let t=0;while(t<e.length-1&&e[t]===0){t++}if(t===0){return e}return e.slice(t,e.length)}static padStart(e,t){if(t===e.length){return e}const r=new Uint8Array(t);r.set(e,t-e.length);return r}}class EcDsaSignature{constructor(){this.r=new ArrayBuffer(0);this.s=new ArrayBuffer(0)}static fromWebCryptoSignature(e){const t=e.byteLength/2;const r=EcUtils.decodeSignature(e,t*8);const n=new EcDsaSignature;n.r=build.BufferSourceConverter.toArrayBuffer(r.r);n.s=build.BufferSourceConverter.toArrayBuffer(r.s);return n}toWebCryptoSignature(e){e!==null&&e!==void 0?e:e=Math.max(this.r.byteLength,this.s.byteLength)*8;const t=EcUtils.encodeSignature(this,e);return t.buffer}}__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerWithoutPaddingConverter})],EcDsaSignature.prototype,"r",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerWithoutPaddingConverter})],EcDsaSignature.prototype,"s",void 0);class OneAsymmetricKey extends PrivateKeyInfo{}__decorate([AsnProp({context:1,implicit:true,type:AsnPropTypes.BitString,optional:true})],OneAsymmetricKey.prototype,"publicKey",void 0);let EdPrivateKey$1=class e{constructor(){this.value=new ArrayBuffer(0)}fromJSON(e){if(!e.d){throw new Error("d: Missing required property")}this.value=build.Convert.FromBase64Url(e.d);return this}toJSON(){const e={d:build.Convert.ToBase64Url(this.value)};return e}};__decorate([AsnProp({type:AsnPropTypes.OctetString})],EdPrivateKey$1.prototype,"value",void 0);EdPrivateKey$1=__decorate([AsnType({type:AsnTypeTypes.Choice})],EdPrivateKey$1);let EdPublicKey$1=class e{constructor(e){this.value=new ArrayBuffer(0);if(e){this.value=e}}toJSON(){const e={x:build.Convert.ToBase64Url(this.value)};return e}fromJSON(e){if(!("x"in e)){throw new Error("x: Missing required property")}this.value=build.Convert.FromBase64Url(e.x);return this}};__decorate([AsnProp({type:AsnPropTypes.BitString})],EdPublicKey$1.prototype,"value",void 0);EdPublicKey$1=__decorate([AsnType({type:AsnTypeTypes.Choice})],EdPublicKey$1);let CurvePrivateKey=class e{};__decorate([AsnProp({type:AsnPropTypes.OctetString}),JsonProp({type:JsonPropTypes.String,converter:JsonBase64UrlArrayBufferConverter})],CurvePrivateKey.prototype,"d",void 0);CurvePrivateKey=__decorate([AsnType({type:AsnTypeTypes.Choice})],CurvePrivateKey);const idSecp256r1="1.2.840.10045.3.1.7";const idEllipticCurve="1.3.132.0";const idSecp384r1=`${idEllipticCurve}.34`;const idSecp521r1=`${idEllipticCurve}.35`;const idSecp256k1=`${idEllipticCurve}.10`;const idVersionOne="1.3.36.3.3.2.8.1.1";const idBrainpoolP160r1=`${idVersionOne}.1`;const idBrainpoolP160t1=`${idVersionOne}.2`;const idBrainpoolP192r1=`${idVersionOne}.3`;const idBrainpoolP192t1=`${idVersionOne}.4`;const idBrainpoolP224r1=`${idVersionOne}.5`;const idBrainpoolP224t1=`${idVersionOne}.6`;const idBrainpoolP256r1=`${idVersionOne}.7`;const idBrainpoolP256t1=`${idVersionOne}.8`;const idBrainpoolP320r1=`${idVersionOne}.9`;const idBrainpoolP320t1=`${idVersionOne}.10`;const idBrainpoolP384r1=`${idVersionOne}.11`;const idBrainpoolP384t1=`${idVersionOne}.12`;const idBrainpoolP512r1=`${idVersionOne}.13`;const idBrainpoolP512t1=`${idVersionOne}.14`;const idX25519="1.3.101.110";const idX448="1.3.101.111";const idEd25519="1.3.101.112";const idEd448="1.3.101.113";var index$1$1=Object.freeze({__proto__:null,converters:index$2$1,get ObjectIdentifier(){return ObjectIdentifier},AlgorithmIdentifier,PrivateKeyInfo,PublicKeyInfo,RsaPrivateKey,RsaPublicKey,EcPrivateKey,get EcPublicKey(){return EcPublicKey},EcDsaSignature,OneAsymmetricKey,get EdPrivateKey(){return EdPrivateKey$1},get EdPublicKey(){return EdPublicKey$1},get CurvePrivateKey(){return CurvePrivateKey},idSecp256r1,idEllipticCurve,idSecp384r1,idSecp521r1,idSecp256k1,idVersionOne,idBrainpoolP160r1,idBrainpoolP160t1,idBrainpoolP192r1,idBrainpoolP192t1,idBrainpoolP224r1,idBrainpoolP224t1,idBrainpoolP256r1,idBrainpoolP256t1,idBrainpoolP320r1,idBrainpoolP320t1,idBrainpoolP384r1,idBrainpoolP384t1,idBrainpoolP512r1,idBrainpoolP512t1,idX25519,idX448,idEd25519,idEd448});class EcCurves{constructor(){}static register(e){const t=new ObjectIdentifier;t.value=e.id;const r=AsnConvert.serialize(t);this.items.push({...e,raw:r});this.names.push(e.name)}static find(e){e=e.toUpperCase();for(const t of this.items){if(t.name.toUpperCase()===e||t.id.toUpperCase()===e){return t}}return null}static get(e){const t=this.find(e);if(!t){throw new Error(`Unsupported EC named curve '${e}'`)}return t}}EcCurves.items=[];EcCurves.names=[];EcCurves.register({name:"P-256",id:idSecp256r1,size:256});EcCurves.register({name:"P-384",id:idSecp384r1,size:384});EcCurves.register({name:"P-521",id:idSecp521r1,size:521});EcCurves.register({name:"K-256",id:idSecp256k1,size:256});EcCurves.register({name:"brainpoolP160r1",id:idBrainpoolP160r1,size:160});EcCurves.register({name:"brainpoolP160t1",id:idBrainpoolP160t1,size:160});EcCurves.register({name:"brainpoolP192r1",id:idBrainpoolP192r1,size:192});EcCurves.register({name:"brainpoolP192t1",id:idBrainpoolP192t1,size:192});EcCurves.register({name:"brainpoolP224r1",id:idBrainpoolP224r1,size:224});EcCurves.register({name:"brainpoolP224t1",id:idBrainpoolP224t1,size:224});EcCurves.register({name:"brainpoolP256r1",id:idBrainpoolP256r1,size:256});EcCurves.register({name:"brainpoolP256t1",id:idBrainpoolP256t1,size:256});EcCurves.register({name:"brainpoolP320r1",id:idBrainpoolP320r1,size:320});EcCurves.register({name:"brainpoolP320t1",id:idBrainpoolP320t1,size:320});EcCurves.register({name:"brainpoolP384r1",id:idBrainpoolP384r1,size:384});EcCurves.register({name:"brainpoolP384t1",id:idBrainpoolP384t1,size:384});EcCurves.register({name:"brainpoolP512r1",id:idBrainpoolP512r1,size:512});EcCurves.register({name:"brainpoolP512t1",id:idBrainpoolP512t1,size:512});class HmacProvider$1 extends ProviderCrypto{constructor(){super(...arguments);this.name="HMAC";this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"];this.usages=["sign","verify"]}getDefaultLength(e){switch(e.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":return 512;default:throw new Error(`Unknown algorithm name '${e}'`)}}checkGenerateKeyParams(e){this.checkRequiredProperty(e,"hash");this.checkHashAlgorithm(e.hash,this.hashAlgorithms);if("length"in e){if(typeof e.length!=="number"){throw new TypeError("length: Is not a Number")}if(e.length<1){throw new RangeError("length: Number is out of range")}}}checkImportParams(e){this.checkRequiredProperty(e,"hash");this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}class Pbkdf2Provider$1 extends ProviderCrypto{constructor(){super(...arguments);this.name="PBKDF2";this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"];this.usages=["deriveBits","deriveKey"]}checkAlgorithmParams(e){this.checkRequiredProperty(e,"hash");this.checkHashAlgorithm(e.hash,this.hashAlgorithms);this.checkRequiredProperty(e,"salt");if(!(e.salt instanceof ArrayBuffer||ArrayBuffer.isView(e.salt))){throw new TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'")}this.checkRequiredProperty(e,"iterations");if(typeof e.iterations!=="number"){throw new TypeError("iterations: Is not a Number")}if(e.iterations<1){throw new TypeError("iterations: Is less than 1")}}checkImportKey(e,t,r,n,i,...s){super.checkImportKey(e,t,r,n,i);if(n){throw new SyntaxError("extractable: Must be 'false'")}}}class ShakeProvider extends ProviderCrypto{constructor(){super(...arguments);this.usages=[];this.defaultLength=0}digest(...e){e[0]={length:this.defaultLength,...e[0]};return super.digest.apply(this,e)}checkDigest(e,t){super.checkDigest(e,t);const r=e.length||0;if(typeof r!=="number"){throw new TypeError("length: Is not a Number")}if(r<0){throw new TypeError("length: Is negative")}}}class Shake128Provider$1 extends ShakeProvider{constructor(){super(...arguments);this.name="shake128";this.defaultLength=16}}class Shake256Provider$1 extends ShakeProvider{constructor(){super(...arguments);this.name="shake256";this.defaultLength=32}}class Crypto$1{get[Symbol.toStringTag](){return"Crypto"}randomUUID(){const e=this.getRandomValues(new Uint8Array(16));e[6]=e[6]&15|64;e[8]=e[8]&63|128;const t=build.Convert.ToHex(e).toLowerCase();return`${t.substring(0,8)}-${t.substring(8,12)}-${t.substring(12,16)}-${t.substring(16)}`}}class ProviderStorage{constructor(){this.items={}}get(e){return this.items[e.toLowerCase()]||null}set(e){this.items[e.name.toLowerCase()]=e}removeAt(e){const t=this.get(e.toLowerCase());if(t){delete this.items[e]}return t}has(e){return!!this.get(e)}get length(){return Object.keys(this.items).length}get algorithms(){const e=[];for(const t in this.items){const r=this.items[t];e.push(r.name)}return e.sort()}}class SubtleCrypto$1{constructor(){this.providers=new ProviderStorage}static isHashedAlgorithm(e){return e&&typeof e==="object"&&"name"in e&&"hash"in e?true:false}get[Symbol.toStringTag](){return"SubtleCrypto"}async digest(...e){this.checkRequiredArguments(e,2,"digest");const[t,r,...n]=e;const i=this.prepareAlgorithm(t);const s=build.BufferSourceConverter.toArrayBuffer(r);const f=this.getProvider(i.name);const a=await f.digest(i,s,...n);return a}async generateKey(...e){this.checkRequiredArguments(e,3,"generateKey");const[t,r,n,...i]=e;const s=this.prepareAlgorithm(t);const f=this.getProvider(s.name);const a=await f.generateKey({...s,name:f.name},r,n,...i);return a}async sign(...e){this.checkRequiredArguments(e,3,"sign");const[t,r,n,...i]=e;this.checkCryptoKey(r);const s=this.prepareAlgorithm(t);const f=build.BufferSourceConverter.toArrayBuffer(n);const a=this.getProvider(s.name);const o=await a.sign({...s,name:a.name},r,f,...i);return o}async verify(...e){this.checkRequiredArguments(e,4,"verify");const[t,r,n,i,...s]=e;this.checkCryptoKey(r);const f=this.prepareAlgorithm(t);const a=build.BufferSourceConverter.toArrayBuffer(i);const o=build.BufferSourceConverter.toArrayBuffer(n);const c=this.getProvider(f.name);const u=await c.verify({...f,name:c.name},r,o,a,...s);return u}async encrypt(...e){this.checkRequiredArguments(e,3,"encrypt");const[t,r,n,...i]=e;this.checkCryptoKey(r);const s=this.prepareAlgorithm(t);const f=build.BufferSourceConverter.toArrayBuffer(n);const a=this.getProvider(s.name);const o=await a.encrypt({...s,name:a.name},r,f,{keyUsage:true},...i);return o}async decrypt(...e){this.checkRequiredArguments(e,3,"decrypt");const[t,r,n,...i]=e;this.checkCryptoKey(r);const s=this.prepareAlgorithm(t);const f=build.BufferSourceConverter.toArrayBuffer(n);const a=this.getProvider(s.name);const o=await a.decrypt({...s,name:a.name},r,f,{keyUsage:true},...i);return o}async deriveBits(...e){this.checkRequiredArguments(e,3,"deriveBits");const[t,r,n,...i]=e;this.checkCryptoKey(r);const s=this.prepareAlgorithm(t);const f=this.getProvider(s.name);const a=await f.deriveBits({...s,name:f.name},r,n,{keyUsage:true},...i);return a}async deriveKey(...e){this.checkRequiredArguments(e,5,"deriveKey");const[t,r,n,i,s,...f]=e;const a=this.prepareAlgorithm(n);const o=this.getProvider(a.name);o.checkDerivedKeyParams(a);const c=this.prepareAlgorithm(t);const u=this.getProvider(c.name);u.checkCryptoKey(r,"deriveKey");const l=await u.deriveBits({...c,name:u.name},r,n.length||512,{keyUsage:false},...f);return this.importKey("raw",l,n,i,s,...f)}async exportKey(...e){this.checkRequiredArguments(e,2,"exportKey");const[t,r,...n]=e;this.checkCryptoKey(r);const i=this.getProvider(r.algorithm.name);const s=await i.exportKey(t,r,...n);return s}async importKey(...e){this.checkRequiredArguments(e,5,"importKey");const[t,r,n,i,s,...f]=e;const a=this.prepareAlgorithm(n);const o=this.getProvider(a.name);if(["pkcs8","spki","raw"].indexOf(t)!==-1){const e=build.BufferSourceConverter.toArrayBuffer(r);return o.importKey(t,e,{...a,name:o.name},i,s,...f)}else{if(!r.kty){throw new TypeError("keyData: Is not JSON")}}return o.importKey(t,r,{...a,name:o.name},i,s,...f)}async wrapKey(e,t,r,n,...i){let s=await this.exportKey(e,t,...i);if(e==="jwk"){const e=JSON.stringify(s);s=build.Convert.FromUtf8String(e)}const f=this.prepareAlgorithm(n);const a=build.BufferSourceConverter.toArrayBuffer(s);const o=this.getProvider(f.name);return o.encrypt({...f,name:o.name},r,a,{keyUsage:false},...i)}async unwrapKey(e,t,r,n,i,s,f,...a){const o=this.prepareAlgorithm(n);const c=build.BufferSourceConverter.toArrayBuffer(t);const u=this.getProvider(o.name);let l=await u.decrypt({...o,name:u.name},r,c,{keyUsage:false},...a);if(e==="jwk"){try{l=JSON.parse(build.Convert.ToUtf8String(l))}catch(e){const t=new TypeError("wrappedKey: Is not a JSON");t.internal=e;throw t}}return this.importKey(e,l,i,s,f,...a)}checkRequiredArguments(e,t,r){if(e.length<t){throw new TypeError(`Failed to execute '${r}' on 'SubtleCrypto': ${t} arguments required, but only ${e.length} present`)}}prepareAlgorithm(e){if(typeof e==="string"){return{name:e}}if(SubtleCrypto$1.isHashedAlgorithm(e)){const t={...e};t.hash=this.prepareAlgorithm(e.hash);return t}return{...e}}getProvider(e){const t=this.providers.get(e);if(!t){throw new AlgorithmError("Unrecognized name")}return t}checkCryptoKey(e){if(!(e instanceof CryptoKey$1)){throw new TypeError(`Key is not of type 'CryptoKey'`)}}}function string_to_bytes(e,t=false){var r=e.length,n=new Uint8Array(t?4*r:r);for(var i=0,s=0;i<r;i++){var f=e.charCodeAt(i);if(t&&55296<=f&&f<=56319){if(++i>=r)throw new Error("Malformed string, low surrogate expected at position "+i);f=(f^55296)<<10|65536|e.charCodeAt(i)^56320}else if(!t&&f>>>8){throw new Error("Wide characters are not allowed.")}if(!t||f<=127){n[s++]=f}else if(f<=2047){n[s++]=192|f>>6;n[s++]=128|f&63}else if(f<=65535){n[s++]=224|f>>12;n[s++]=128|f>>6&63;n[s++]=128|f&63}else{n[s++]=240|f>>18;n[s++]=128|f>>12&63;n[s++]=128|f>>6&63;n[s++]=128|f&63}}return n.subarray(0,s)}function is_bytes(e){return e instanceof Uint8Array}function _heap_init(e,t){const r=e?e.byteLength:t||65536;if(r&4095||r<=0)throw new Error("heap size must be a positive integer and a multiple of 4096");e=e||new Uint8Array(new ArrayBuffer(r));return e}function _heap_write(e,t,r,n,i){const s=e.length-t;const f=s<i?s:i;e.set(r.subarray(n,n+f),t);return f}function joinBytes(...e){const t=e.reduce(((e,t)=>e+t.length),0);const r=new Uint8Array(t);let n=0;for(let t=0;t<e.length;t++){r.set(e[t],n);n+=e[t].length}return r}class IllegalStateError extends Error{constructor(...e){super(...e)}}class IllegalArgumentError extends Error{constructor(...e){super(...e)}}class SecurityError extends Error{constructor(...e){super(...e)}}
/**
 * @file {@link http://asmjs.org Asm.js} implementation of the {@link https://en.wikipedia.org/wiki/Advanced_Encryption_Standard Advanced Encryption Standard}.
 * @author Artem S Vybornov <vybornov@gmail.com>
 * @license MIT
 */var AES_asm=function(){var e=false;var t,r;function n(){t=[],r=[];var n=1,i,s;for(i=0;i<255;i++){t[i]=n;s=n&128,n<<=1,n&=255;if(s===128)n^=27;n^=t[i];r[t[i]]=i}t[255]=t[0];r[0]=0;e=true}function i(e,n){var i=t[(r[e]+r[n])%255];if(e===0||n===0)i=0;return i}function s(e){var n=t[255-r[e]];if(e===0)n=0;return n}var f=false;var a;var o;var c;var u;function l(){if(!e)n();function t(e){var t,r,n;r=n=s(e);for(t=0;t<4;t++){r=(r<<1|r>>>7)&255;n^=r}n^=99;return n}a=[],o=[],c=[[],[],[],[]],u=[[],[],[],[]];for(var r=0;r<256;r++){var l=t(r);a[r]=l;o[l]=r;c[0][r]=i(2,l)<<24|l<<16|l<<8|i(3,l);u[0][l]=i(14,r)<<24|i(9,r)<<16|i(13,r)<<8|i(11,r);for(var h=1;h<4;h++){c[h][r]=c[h-1][r]>>>8|c[h-1][r]<<24;u[h][l]=u[h-1][l]>>>8|u[h-1][l]<<24}}f=true}var h=function(e,t){if(!f)l();var r=new Uint32Array(t);r.set(a,2048>>2);r.set(o,3072>>2);for(var n=0;n<4;n++){r.set(c[n],4096+1024*n>>2);r.set(u[n],8192+1024*n>>2)}function i(e,t,n,i,s,f,o,c,l){var d=r.subarray(0,60),p=r.subarray(256,256+60);d.set([t,n,i,s,f,o,c,l]);for(var y=e,b=1;y<4*e+28;y++){var m=d[y-1];if(y%e===0||e===8&&y%e===4){m=a[m>>>24]<<24^a[m>>>16&255]<<16^a[m>>>8&255]<<8^a[m&255]}if(y%e===0){m=m<<8^m>>>24^b<<24;b=b<<1^(b&128?27:0)}d[y]=d[y-e]^m}for(var g=0;g<y;g+=4){for(var v=0;v<4;v++){var m=d[y-(4+g)+(4-v)%4];if(g<4||g>=y-4){p[g+v]=m}else{p[g+v]=u[0][a[m>>>24]]^u[1][a[m>>>16&255]]^u[2][a[m>>>8&255]]^u[3][a[m&255]]}}}h.set_rounds(e+5)}var s={Uint8Array,Uint32Array};var h=function(e,t,r){"use asm";var n=0,i=0,s=0,f=0,a=0,o=0,c=0,u=0,l=0,h=0,d=0,p=0,y=0,b=0,m=0,g=0,v=0,w=0,A=0,$=0,_=0;var E=new e.Uint32Array(r),S=new e.Uint8Array(r);function T(e,t,r,a,o,c,u,l){e=e|0;t=t|0;r=r|0;a=a|0;o=o|0;c=c|0;u=u|0;l=l|0;var h=0,d=0,p=0,y=0,b=0,m=0,g=0,v=0;h=r|0x400,d=r|0x800,p=r|0xc00;o=o^E[(e|0)>>2],c=c^E[(e|4)>>2],u=u^E[(e|8)>>2],l=l^E[(e|12)>>2];for(v=16;(v|0)<=a<<4;v=v+16|0){y=E[(r|o>>22&1020)>>2]^E[(h|c>>14&1020)>>2]^E[(d|u>>6&1020)>>2]^E[(p|l<<2&1020)>>2]^E[(e|v|0)>>2],b=E[(r|c>>22&1020)>>2]^E[(h|u>>14&1020)>>2]^E[(d|l>>6&1020)>>2]^E[(p|o<<2&1020)>>2]^E[(e|v|4)>>2],m=E[(r|u>>22&1020)>>2]^E[(h|l>>14&1020)>>2]^E[(d|o>>6&1020)>>2]^E[(p|c<<2&1020)>>2]^E[(e|v|8)>>2],g=E[(r|l>>22&1020)>>2]^E[(h|o>>14&1020)>>2]^E[(d|c>>6&1020)>>2]^E[(p|u<<2&1020)>>2]^E[(e|v|12)>>2];o=y,c=b,u=m,l=g}n=E[(t|o>>22&1020)>>2]<<24^E[(t|c>>14&1020)>>2]<<16^E[(t|u>>6&1020)>>2]<<8^E[(t|l<<2&1020)>>2]^E[(e|v|0)>>2],i=E[(t|c>>22&1020)>>2]<<24^E[(t|u>>14&1020)>>2]<<16^E[(t|l>>6&1020)>>2]<<8^E[(t|o<<2&1020)>>2]^E[(e|v|4)>>2],s=E[(t|u>>22&1020)>>2]<<24^E[(t|l>>14&1020)>>2]<<16^E[(t|o>>6&1020)>>2]<<8^E[(t|c<<2&1020)>>2]^E[(e|v|8)>>2],f=E[(t|l>>22&1020)>>2]<<24^E[(t|o>>14&1020)>>2]<<16^E[(t|c>>6&1020)>>2]<<8^E[(t|u<<2&1020)>>2]^E[(e|v|12)>>2]}function C(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;T(0x0000,0x0800,0x1000,_,e,t,r,n)}function P(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var s=0;T(0x0400,0x0c00,0x2000,_,e,n,r,t);s=i,i=f,f=s}function x(e,t,r,l){e=e|0;t=t|0;r=r|0;l=l|0;T(0x0000,0x0800,0x1000,_,a^e,o^t,c^r,u^l);a=n,o=i,c=s,u=f}function I(e,t,r,l){e=e|0;t=t|0;r=r|0;l=l|0;var h=0;T(0x0400,0x0c00,0x2000,_,e,l,r,t);h=i,i=f,f=h;n=n^a,i=i^o,s=s^c,f=f^u;a=e,o=t,c=r,u=l}function k(e,t,r,l){e=e|0;t=t|0;r=r|0;l=l|0;T(0x0000,0x0800,0x1000,_,a,o,c,u);a=n=n^e,o=i=i^t,c=s=s^r,u=f=f^l}function M(e,t,r,l){e=e|0;t=t|0;r=r|0;l=l|0;T(0x0000,0x0800,0x1000,_,a,o,c,u);n=n^e,i=i^t,s=s^r,f=f^l;a=e,o=t,c=r,u=l}function B(e,t,r,l){e=e|0;t=t|0;r=r|0;l=l|0;T(0x0000,0x0800,0x1000,_,a,o,c,u);a=n,o=i,c=s,u=f;n=n^e,i=i^t,s=s^r,f=f^l}function R(e,t,r,a){e=e|0;t=t|0;r=r|0;a=a|0;T(0x0000,0x0800,0x1000,_,l,h,d,p);p=~g&p|g&p+1;d=~m&d|m&d+((p|0)==0);h=~b&h|b&h+((d|0)==0);l=~y&l|y&l+((h|0)==0);n=n^e;i=i^t;s=s^r;f=f^a}function N(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0,s=0,f=0,l=0,h=0,d=0,p=0,y=0,b=0,m=0;e=e^a,t=t^o,r=r^c,n=n^u;i=v|0,s=w|0,f=A|0,l=$|0;for(;(b|0)<128;b=b+1|0){if(i>>>31){h=h^e,d=d^t,p=p^r,y=y^n}i=i<<1|s>>>31,s=s<<1|f>>>31,f=f<<1|l>>>31,l=l<<1;m=n&1;n=n>>>1|r<<31,r=r>>>1|t<<31,t=t>>>1|e<<31,e=e>>>1;if(m)e=e^0xe1000000}a=h,o=d,c=p,u=y}function D(e){e=e|0;_=e}function O(e,t,r,a){e=e|0;t=t|0;r=r|0;a=a|0;n=e,i=t,s=r,f=a}function U(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;a=e,o=t,c=r,u=n}function F(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;l=e,h=t,d=r,p=n}function L(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;y=e,b=t,m=r,g=n}function j(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;p=~g&p|g&n,d=~m&d|m&r,h=~b&h|b&t,l=~y&l|y&e}function H(e){e=e|0;if(e&15)return-1;S[e|0]=n>>>24,S[e|1]=n>>>16&255,S[e|2]=n>>>8&255,S[e|3]=n&255,S[e|4]=i>>>24,S[e|5]=i>>>16&255,S[e|6]=i>>>8&255,S[e|7]=i&255,S[e|8]=s>>>24,S[e|9]=s>>>16&255,S[e|10]=s>>>8&255,S[e|11]=s&255,S[e|12]=f>>>24,S[e|13]=f>>>16&255,S[e|14]=f>>>8&255,S[e|15]=f&255;return 16}function K(e){e=e|0;if(e&15)return-1;S[e|0]=a>>>24,S[e|1]=a>>>16&255,S[e|2]=a>>>8&255,S[e|3]=a&255,S[e|4]=o>>>24,S[e|5]=o>>>16&255,S[e|6]=o>>>8&255,S[e|7]=o&255,S[e|8]=c>>>24,S[e|9]=c>>>16&255,S[e|10]=c>>>8&255,S[e|11]=c&255,S[e|12]=u>>>24,S[e|13]=u>>>16&255,S[e|14]=u>>>8&255,S[e|15]=u&255;return 16}function G(){C(0,0,0,0);v=n,w=i,A=s,$=f}function V(e,t,r){e=e|0;t=t|0;r=r|0;var a=0;if(t&15)return-1;while((r|0)>=16){W[e&7](S[t|0]<<24|S[t|1]<<16|S[t|2]<<8|S[t|3],S[t|4]<<24|S[t|5]<<16|S[t|6]<<8|S[t|7],S[t|8]<<24|S[t|9]<<16|S[t|10]<<8|S[t|11],S[t|12]<<24|S[t|13]<<16|S[t|14]<<8|S[t|15]);S[t|0]=n>>>24,S[t|1]=n>>>16&255,S[t|2]=n>>>8&255,S[t|3]=n&255,S[t|4]=i>>>24,S[t|5]=i>>>16&255,S[t|6]=i>>>8&255,S[t|7]=i&255,S[t|8]=s>>>24,S[t|9]=s>>>16&255,S[t|10]=s>>>8&255,S[t|11]=s&255,S[t|12]=f>>>24,S[t|13]=f>>>16&255,S[t|14]=f>>>8&255,S[t|15]=f&255;a=a+16|0,t=t+16|0,r=r-16|0}return a|0}function X(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;if(t&15)return-1;while((r|0)>=16){z[e&1](S[t|0]<<24|S[t|1]<<16|S[t|2]<<8|S[t|3],S[t|4]<<24|S[t|5]<<16|S[t|6]<<8|S[t|7],S[t|8]<<24|S[t|9]<<16|S[t|10]<<8|S[t|11],S[t|12]<<24|S[t|13]<<16|S[t|14]<<8|S[t|15]);n=n+16|0,t=t+16|0,r=r-16|0}return n|0}var W=[C,P,x,I,k,M,B,R];var z=[x,N];return{set_rounds:D,set_state:O,set_iv:U,set_nonce:F,set_mask:L,set_counter:j,get_state:H,get_iv:K,gcm_init:G,cipher:V,mac:X}}(s,e,t);h.set_key=i;return h};h.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},h.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},h.MAC={CBC:0,GCM:1};h.HEAP_DATA=16384;return h}();class AES{constructor(e,t,r=true,n){this.pos=0;this.len=0;this.mode=n;this.heap=_heap_init().subarray(AES_asm.HEAP_DATA);this.asm=new AES_asm(null,this.heap.buffer);this.pos=0;this.len=0;const i=e.length;if(i!==16&&i!==24&&i!==32)throw new IllegalArgumentError("illegal key size");const s=new DataView(e.buffer,e.byteOffset,e.byteLength);this.asm.set_key(i>>2,s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12),i>16?s.getUint32(16):0,i>16?s.getUint32(20):0,i>24?s.getUint32(24):0,i>24?s.getUint32(28):0);if(t!==undefined){if(t.length!==16)throw new IllegalArgumentError("illegal iv size");let e=new DataView(t.buffer,t.byteOffset,t.byteLength);this.asm.set_iv(e.getUint32(0),e.getUint32(4),e.getUint32(8),e.getUint32(12))}else{this.asm.set_iv(0,0,0,0)}this.padding=r}AES_Encrypt_process(e){if(!is_bytes(e))throw new TypeError("data isn't of expected type");let t=this.asm;let r=this.heap;let n=AES_asm.ENC[this.mode];let i=AES_asm.HEAP_DATA;let s=this.pos;let f=this.len;let a=0;let o=e.length||0;let c=0;let u=f+o&-16;let l=0;let h=new Uint8Array(u);while(o>0){l=_heap_write(r,s+f,e,a,o);f+=l;a+=l;o-=l;l=t.cipher(n,i+s,f);if(l)h.set(r.subarray(s,s+l),c);c+=l;if(l<f){s+=l;f-=l}else{s=0;f=0}}this.pos=s;this.len=f;return h}AES_Encrypt_finish(){let e=this.asm;let t=this.heap;let r=AES_asm.ENC[this.mode];let n=AES_asm.HEAP_DATA;let i=this.pos;let s=this.len;let f=16-s%16;let a=s;if(this.hasOwnProperty("padding")){if(this.padding){for(let e=0;e<f;++e){t[i+s+e]=f}s+=f;a=s}else if(s%16){throw new IllegalArgumentError("data length must be a multiple of the block size")}}else{s+=f}const o=new Uint8Array(a);if(s)e.cipher(r,n+i,s);if(a)o.set(t.subarray(i,i+a));this.pos=0;this.len=0;return o}AES_Decrypt_process(e){if(!is_bytes(e))throw new TypeError("data isn't of expected type");let t=this.asm;let r=this.heap;let n=AES_asm.DEC[this.mode];let i=AES_asm.HEAP_DATA;let s=this.pos;let f=this.len;let a=0;let o=e.length||0;let c=0;let u=f+o&-16;let l=0;let h=0;if(this.padding){l=f+o-u||16;u-=l}const d=new Uint8Array(u);while(o>0){h=_heap_write(r,s+f,e,a,o);f+=h;a+=h;o-=h;h=t.cipher(n,i+s,f-(!o?l:0));if(h)d.set(r.subarray(s,s+h),c);c+=h;if(h<f){s+=h;f-=h}else{s=0;f=0}}this.pos=s;this.len=f;return d}AES_Decrypt_finish(){let e=this.asm;let t=this.heap;let r=AES_asm.DEC[this.mode];let n=AES_asm.HEAP_DATA;let i=this.pos;let s=this.len;let f=s;if(s>0){if(s%16){if(this.hasOwnProperty("padding")){throw new IllegalArgumentError("data length must be a multiple of the block size")}else{s+=16-s%16}}e.cipher(r,n+i,s);if(this.hasOwnProperty("padding")&&this.padding){let e=t[i+f-1];if(e<1||e>16||e>f)throw new SecurityError("bad padding");let r=0;for(let n=e;n>1;n--)r|=e^t[i+f-n];if(r)throw new SecurityError("bad padding");f-=e}}const a=new Uint8Array(f);if(f>0){a.set(t.subarray(i,i+f))}this.pos=0;this.len=0;return a}}class AES_CBC extends AES{static encrypt(e,t,r=true,n){return new AES_CBC(t,n,r).encrypt(e)}static decrypt(e,t,r=true,n){return new AES_CBC(t,n,r).decrypt(e)}constructor(e,t,r=true){super(e,t,r,"CBC")}encrypt(e){const t=this.AES_Encrypt_process(e);const r=this.AES_Encrypt_finish();return joinBytes(t,r)}decrypt(e){const t=this.AES_Decrypt_process(e);const r=this.AES_Decrypt_finish();return joinBytes(t,r)}}class AES_ECB extends AES{static encrypt(e,t,r=false){return new AES_ECB(t,r).encrypt(e)}static decrypt(e,t,r=false){return new AES_ECB(t,r).decrypt(e)}constructor(e,t=false){super(e,undefined,t,"ECB")}encrypt(e){const t=this.AES_Encrypt_process(e);const r=this.AES_Encrypt_finish();return joinBytes(t,r)}decrypt(e){const t=this.AES_Decrypt_process(e);const r=this.AES_Decrypt_finish();return joinBytes(t,r)}}class AES_CTR extends AES{static encrypt(e,t,r){return new AES_CTR(t,r).encrypt(e)}static decrypt(e,t,r){return new AES_CTR(t,r).encrypt(e)}constructor(e,t){super(e,undefined,false,"CTR");delete this.padding;this.AES_CTR_set_options(t)}encrypt(e){const t=this.AES_Encrypt_process(e);const r=this.AES_Encrypt_finish();return joinBytes(t,r)}decrypt(e){const t=this.AES_Encrypt_process(e);const r=this.AES_Encrypt_finish();return joinBytes(t,r)}AES_CTR_set_options(e,t,r){if(r!==undefined){if(r<8||r>48)throw new IllegalArgumentError("illegal counter size");let e=Math.pow(2,r)-1;this.asm.set_mask(0,0,e/4294967296|0,e|0)}else{r=48;this.asm.set_mask(0,0,65535,4294967295)}if(e!==undefined){let t=e.length;if(!t||t>16)throw new IllegalArgumentError("illegal nonce size");let r=new DataView(new ArrayBuffer(16));new Uint8Array(r.buffer).set(e);this.asm.set_nonce(r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12))}else{throw new Error("nonce is required")}if(t!==undefined){if(t<0||t>=Math.pow(2,r))throw new IllegalArgumentError("illegal counter value");this.asm.set_counter(0,0,t/4294967296|0,t|0)}}}const _AES_GCM_data_maxLength=68719476704;class AES_GCM extends AES{constructor(e,t,r,n=16){super(e,undefined,false,"CTR");this.tagSize=n;this.gamma0=0;this.counter=1;this.asm.gcm_init();if(this.tagSize<4||this.tagSize>16)throw new IllegalArgumentError("illegal tagSize value");const i=t.length||0;const s=new Uint8Array(16);if(i!==12){this._gcm_mac_process(t);this.heap[0]=0;this.heap[1]=0;this.heap[2]=0;this.heap[3]=0;this.heap[4]=0;this.heap[5]=0;this.heap[6]=0;this.heap[7]=0;this.heap[8]=0;this.heap[9]=0;this.heap[10]=0;this.heap[11]=i>>>29;this.heap[12]=i>>>21&255;this.heap[13]=i>>>13&255;this.heap[14]=i>>>5&255;this.heap[15]=i<<3&255;this.asm.mac(AES_asm.MAC.GCM,AES_asm.HEAP_DATA,16);this.asm.get_iv(AES_asm.HEAP_DATA);this.asm.set_iv(0,0,0,0);s.set(this.heap.subarray(0,16))}else{s.set(t);s[15]=1}const f=new DataView(s.buffer);this.gamma0=f.getUint32(12);this.asm.set_nonce(f.getUint32(0),f.getUint32(4),f.getUint32(8),0);this.asm.set_mask(0,0,0,4294967295);if(r!==undefined){if(r.length>_AES_GCM_data_maxLength)throw new IllegalArgumentError("illegal adata length");if(r.length){this.adata=r;this._gcm_mac_process(r)}else{this.adata=undefined}}else{this.adata=undefined}if(this.counter<1||this.counter>4294967295)throw new RangeError("counter must be a positive 32-bit integer");this.asm.set_counter(0,0,0,this.gamma0+this.counter|0)}static encrypt(e,t,r,n,i){return new AES_GCM(t,r,n,i).encrypt(e)}static decrypt(e,t,r,n,i){return new AES_GCM(t,r,n,i).decrypt(e)}encrypt(e){return this.AES_GCM_encrypt(e)}decrypt(e){return this.AES_GCM_decrypt(e)}AES_GCM_Encrypt_process(e){let t=0;let r=e.length||0;let n=this.asm;let i=this.heap;let s=this.counter;let f=this.pos;let a=this.len;let o=0;let c=a+r&-16;let u=0;if((s-1<<4)+a+r>_AES_GCM_data_maxLength)throw new RangeError("counter overflow");const l=new Uint8Array(c);while(r>0){u=_heap_write(i,f+a,e,t,r);a+=u;t+=u;r-=u;u=n.cipher(AES_asm.ENC.CTR,AES_asm.HEAP_DATA+f,a);u=n.mac(AES_asm.MAC.GCM,AES_asm.HEAP_DATA+f,u);if(u)l.set(i.subarray(f,f+u),o);s+=u>>>4;o+=u;if(u<a){f+=u;a-=u}else{f=0;a=0}}this.counter=s;this.pos=f;this.len=a;return l}AES_GCM_Encrypt_finish(){let e=this.asm;let t=this.heap;let r=this.counter;let n=this.tagSize;let i=this.adata;let s=this.pos;let f=this.len;const a=new Uint8Array(f+n);e.cipher(AES_asm.ENC.CTR,AES_asm.HEAP_DATA+s,f+15&-16);if(f)a.set(t.subarray(s,s+f));let o=f;for(;o&15;o++)t[s+o]=0;e.mac(AES_asm.MAC.GCM,AES_asm.HEAP_DATA+s,o);const c=i!==undefined?i.length:0;const u=(r-1<<4)+f;t[0]=0;t[1]=0;t[2]=0;t[3]=c>>>29;t[4]=c>>>21;t[5]=c>>>13&255;t[6]=c>>>5&255;t[7]=c<<3&255;t[8]=t[9]=t[10]=0;t[11]=u>>>29;t[12]=u>>>21&255;t[13]=u>>>13&255;t[14]=u>>>5&255;t[15]=u<<3&255;e.mac(AES_asm.MAC.GCM,AES_asm.HEAP_DATA,16);e.get_iv(AES_asm.HEAP_DATA);e.set_counter(0,0,0,this.gamma0);e.cipher(AES_asm.ENC.CTR,AES_asm.HEAP_DATA,16);a.set(t.subarray(0,n),f);this.counter=1;this.pos=0;this.len=0;return a}AES_GCM_Decrypt_process(e){let t=0;let r=e.length||0;let n=this.asm;let i=this.heap;let s=this.counter;let f=this.tagSize;let a=this.pos;let o=this.len;let c=0;let u=o+r>f?o+r-f&-16:0;let l=o+r-u;let h=0;if((s-1<<4)+o+r>_AES_GCM_data_maxLength)throw new RangeError("counter overflow");const d=new Uint8Array(u);while(r>l){h=_heap_write(i,a+o,e,t,r-l);o+=h;t+=h;r-=h;h=n.mac(AES_asm.MAC.GCM,AES_asm.HEAP_DATA+a,h);h=n.cipher(AES_asm.DEC.CTR,AES_asm.HEAP_DATA+a,h);if(h)d.set(i.subarray(a,a+h),c);s+=h>>>4;c+=h;a=0;o=0}if(r>0){o+=_heap_write(i,0,e,t,r)}this.counter=s;this.pos=a;this.len=o;return d}AES_GCM_Decrypt_finish(){let e=this.asm;let t=this.heap;let r=this.tagSize;let n=this.adata;let i=this.counter;let s=this.pos;let f=this.len;let a=f-r;if(f<r)throw new IllegalStateError("authentication tag not found");const o=new Uint8Array(a);const c=new Uint8Array(t.subarray(s+a,s+f));let u=a;for(;u&15;u++)t[s+u]=0;e.mac(AES_asm.MAC.GCM,AES_asm.HEAP_DATA+s,u);e.cipher(AES_asm.DEC.CTR,AES_asm.HEAP_DATA+s,u);if(a)o.set(t.subarray(s,s+a));const l=n!==undefined?n.length:0;const h=(i-1<<4)+f-r;t[0]=0;t[1]=0;t[2]=0;t[3]=l>>>29;t[4]=l>>>21;t[5]=l>>>13&255;t[6]=l>>>5&255;t[7]=l<<3&255;t[8]=t[9]=t[10]=0;t[11]=h>>>29;t[12]=h>>>21&255;t[13]=h>>>13&255;t[14]=h>>>5&255;t[15]=h<<3&255;e.mac(AES_asm.MAC.GCM,AES_asm.HEAP_DATA,16);e.get_iv(AES_asm.HEAP_DATA);e.set_counter(0,0,0,this.gamma0);e.cipher(AES_asm.ENC.CTR,AES_asm.HEAP_DATA,16);let d=0;for(let e=0;e<r;++e)d|=c[e]^t[e];if(d)throw new SecurityError("data integrity check failed");this.counter=1;this.pos=0;this.len=0;return o}AES_GCM_decrypt(e){const t=this.AES_GCM_Decrypt_process(e);const r=this.AES_GCM_Decrypt_finish();const n=new Uint8Array(t.length+r.length);if(t.length)n.set(t);if(r.length)n.set(r,t.length);return n}AES_GCM_encrypt(e){const t=this.AES_GCM_Encrypt_process(e);const r=this.AES_GCM_Encrypt_finish();const n=new Uint8Array(t.length+r.length);if(t.length)n.set(t);if(r.length)n.set(r,t.length);return n}_gcm_mac_process(e){const t=this.heap;const r=this.asm;let n=0;let i=e.length||0;let s=0;while(i>0){s=_heap_write(t,0,e,n,i);n+=s;i-=s;while(s&15)t[s++]=0;r.mac(AES_asm.MAC.GCM,AES_asm.HEAP_DATA,s)}}}var bigint_asm=function(e,t,r){"use asm";var n=0;var i=new e.Uint32Array(r);var s=e.Math.imul;function f(e){e=e|0;n=e=e+31&-32;return e|0}function a(e){e=e|0;var t=0;t=n;n=t+(e+31&-32)|0;return t|0}function o(e){e=e|0;n=n-(e+31&-32)|0}function c(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;if((t|0)>(r|0)){for(;(n|0)<(e|0);n=n+4|0){i[r+n>>2]=i[t+n>>2]}}else{for(n=e-4|0;(n|0)>=0;n=n-4|0){i[r+n>>2]=i[t+n>>2]}}}function u(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;for(;(n|0)<(e|0);n=n+4|0){i[r+n>>2]=t}}function l(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var s=0,f=0,a=0,o=0,c=0;if((n|0)<=0)n=t;if((n|0)<(t|0))t=n;f=1;for(;(c|0)<(t|0);c=c+4|0){s=~i[e+c>>2];a=(s&0xffff)+f|0;o=(s>>>16)+(a>>>16)|0;i[r+c>>2]=o<<16|a&0xffff;f=o>>>16}for(;(c|0)<(n|0);c=c+4|0){i[r+c>>2]=f-1|0}return f|0}function h(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var s=0,f=0,a=0;if((t|0)>(n|0)){for(a=t-4|0;(a|0)>=(n|0);a=a-4|0){if(i[e+a>>2]|0)return 1}}else{for(a=n-4|0;(a|0)>=(t|0);a=a-4|0){if(i[r+a>>2]|0)return-1}}for(;(a|0)>=0;a=a-4|0){s=i[e+a>>2]|0,f=i[r+a>>2]|0;if(s>>>0<f>>>0)return-1;if(s>>>0>f>>>0)return 1}return 0}function d(e,t){e=e|0;t=t|0;var r=0;for(r=t-4|0;(r|0)>=0;r=r-4|0){if(i[e+r>>2]|0)return r+4|0}return 0}function p(e,t,r,n,s,f){e=e|0;t=t|0;r=r|0;n=n|0;s=s|0;f=f|0;var a=0,o=0,c=0,u=0,l=0,h=0;if((t|0)<(n|0)){u=e,e=r,r=u;u=t,t=n,n=u}if((f|0)<=0)f=t+4|0;if((f|0)<(n|0))t=n=f;for(;(h|0)<(n|0);h=h+4|0){a=i[e+h>>2]|0;o=i[r+h>>2]|0;u=((a&0xffff)+(o&0xffff)|0)+c|0;l=((a>>>16)+(o>>>16)|0)+(u>>>16)|0;i[s+h>>2]=u&0xffff|l<<16;c=l>>>16}for(;(h|0)<(t|0);h=h+4|0){a=i[e+h>>2]|0;u=(a&0xffff)+c|0;l=(a>>>16)+(u>>>16)|0;i[s+h>>2]=u&0xffff|l<<16;c=l>>>16}for(;(h|0)<(f|0);h=h+4|0){i[s+h>>2]=c|0;c=0}return c|0}function y(e,t,r,n,s,f){e=e|0;t=t|0;r=r|0;n=n|0;s=s|0;f=f|0;var a=0,o=0,c=0,u=0,l=0,h=0;if((f|0)<=0)f=(t|0)>(n|0)?t+4|0:n+4|0;if((f|0)<(t|0))t=f;if((f|0)<(n|0))n=f;if((t|0)<(n|0)){for(;(h|0)<(t|0);h=h+4|0){a=i[e+h>>2]|0;o=i[r+h>>2]|0;u=((a&0xffff)-(o&0xffff)|0)+c|0;l=((a>>>16)-(o>>>16)|0)+(u>>16)|0;i[s+h>>2]=u&0xffff|l<<16;c=l>>16}for(;(h|0)<(n|0);h=h+4|0){o=i[r+h>>2]|0;u=c-(o&0xffff)|0;l=(u>>16)-(o>>>16)|0;i[s+h>>2]=u&0xffff|l<<16;c=l>>16}}else{for(;(h|0)<(n|0);h=h+4|0){a=i[e+h>>2]|0;o=i[r+h>>2]|0;u=((a&0xffff)-(o&0xffff)|0)+c|0;l=((a>>>16)-(o>>>16)|0)+(u>>16)|0;i[s+h>>2]=u&0xffff|l<<16;c=l>>16}for(;(h|0)<(t|0);h=h+4|0){a=i[e+h>>2]|0;u=(a&0xffff)+c|0;l=(a>>>16)+(u>>16)|0;i[s+h>>2]=u&0xffff|l<<16;c=l>>16}}for(;(h|0)<(f|0);h=h+4|0){i[s+h>>2]=c|0}return c|0}function b(e,t,r,n,f,a){e=e|0;t=t|0;r=r|0;n=n|0;f=f|0;a=a|0;var o=0,c=0,u=0,l=0,h=0,d=0,p=0,y=0,b=0,m=0,g=0,v=0,w=0,A=0,$=0,_=0,E=0,S=0,T=0,C=0,P=0,x=0,I=0,k=0,M=0,B=0,R=0,N=0,D=0,O=0,U=0,F=0,L=0,j=0,H=0,K=0,G=0,V=0,X=0,W=0,z=0,Y=0,J=0,q=0,Q=0,Z=0,ee=0,te=0,re=0,ne=0,ie=0,se=0,fe=0,ae=0,oe=0,ce=0,ue=0;if((t|0)>(n|0)){re=e,ne=t;e=r,t=n;r=re,n=ne}se=t+n|0;if((a|0)>(se|0)|(a|0)<=0)a=se;if((a|0)<(t|0))t=a;if((a|0)<(n|0))n=a;for(;(fe|0)<(t|0);fe=fe+32|0){ae=e+fe|0;b=i[(ae|0)>>2]|0,m=i[(ae|4)>>2]|0,g=i[(ae|8)>>2]|0,v=i[(ae|12)>>2]|0,w=i[(ae|16)>>2]|0,A=i[(ae|20)>>2]|0,$=i[(ae|24)>>2]|0,_=i[(ae|28)>>2]|0,o=b&0xffff,c=m&0xffff,u=g&0xffff,l=v&0xffff,h=w&0xffff,d=A&0xffff,p=$&0xffff,y=_&0xffff,b=b>>>16,m=m>>>16,g=g>>>16,v=v>>>16,w=w>>>16,A=A>>>16,$=$>>>16,_=_>>>16;z=Y=J=q=Q=Z=ee=te=0;for(oe=0;(oe|0)<(n|0);oe=oe+32|0){ce=r+oe|0;ue=f+(fe+oe|0)|0;M=i[(ce|0)>>2]|0,B=i[(ce|4)>>2]|0,R=i[(ce|8)>>2]|0,N=i[(ce|12)>>2]|0,D=i[(ce|16)>>2]|0,O=i[(ce|20)>>2]|0,U=i[(ce|24)>>2]|0,F=i[(ce|28)>>2]|0,E=M&0xffff,S=B&0xffff,T=R&0xffff,C=N&0xffff,P=D&0xffff,x=O&0xffff,I=U&0xffff,k=F&0xffff,M=M>>>16,B=B>>>16,R=R>>>16,N=N>>>16,D=D>>>16,O=O>>>16,U=U>>>16,F=F>>>16;L=i[(ue|0)>>2]|0,j=i[(ue|4)>>2]|0,H=i[(ue|8)>>2]|0,K=i[(ue|12)>>2]|0,G=i[(ue|16)>>2]|0,V=i[(ue|20)>>2]|0,X=i[(ue|24)>>2]|0,W=i[(ue|28)>>2]|0;re=((s(o,E)|0)+(z&0xffff)|0)+(L&0xffff)|0;ne=((s(b,E)|0)+(z>>>16)|0)+(L>>>16)|0;ie=((s(o,M)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(b,M)|0)+(ne>>>16)|0)+(ie>>>16)|0;L=ie<<16|re&0xffff;re=((s(o,S)|0)+(se&0xffff)|0)+(j&0xffff)|0;ne=((s(b,S)|0)+(se>>>16)|0)+(j>>>16)|0;ie=((s(o,B)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(b,B)|0)+(ne>>>16)|0)+(ie>>>16)|0;j=ie<<16|re&0xffff;re=((s(o,T)|0)+(se&0xffff)|0)+(H&0xffff)|0;ne=((s(b,T)|0)+(se>>>16)|0)+(H>>>16)|0;ie=((s(o,R)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(b,R)|0)+(ne>>>16)|0)+(ie>>>16)|0;H=ie<<16|re&0xffff;re=((s(o,C)|0)+(se&0xffff)|0)+(K&0xffff)|0;ne=((s(b,C)|0)+(se>>>16)|0)+(K>>>16)|0;ie=((s(o,N)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(b,N)|0)+(ne>>>16)|0)+(ie>>>16)|0;K=ie<<16|re&0xffff;re=((s(o,P)|0)+(se&0xffff)|0)+(G&0xffff)|0;ne=((s(b,P)|0)+(se>>>16)|0)+(G>>>16)|0;ie=((s(o,D)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(b,D)|0)+(ne>>>16)|0)+(ie>>>16)|0;G=ie<<16|re&0xffff;re=((s(o,x)|0)+(se&0xffff)|0)+(V&0xffff)|0;ne=((s(b,x)|0)+(se>>>16)|0)+(V>>>16)|0;ie=((s(o,O)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(b,O)|0)+(ne>>>16)|0)+(ie>>>16)|0;V=ie<<16|re&0xffff;re=((s(o,I)|0)+(se&0xffff)|0)+(X&0xffff)|0;ne=((s(b,I)|0)+(se>>>16)|0)+(X>>>16)|0;ie=((s(o,U)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(b,U)|0)+(ne>>>16)|0)+(ie>>>16)|0;X=ie<<16|re&0xffff;re=((s(o,k)|0)+(se&0xffff)|0)+(W&0xffff)|0;ne=((s(b,k)|0)+(se>>>16)|0)+(W>>>16)|0;ie=((s(o,F)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(b,F)|0)+(ne>>>16)|0)+(ie>>>16)|0;W=ie<<16|re&0xffff;z=se;re=((s(c,E)|0)+(Y&0xffff)|0)+(j&0xffff)|0;ne=((s(m,E)|0)+(Y>>>16)|0)+(j>>>16)|0;ie=((s(c,M)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(m,M)|0)+(ne>>>16)|0)+(ie>>>16)|0;j=ie<<16|re&0xffff;re=((s(c,S)|0)+(se&0xffff)|0)+(H&0xffff)|0;ne=((s(m,S)|0)+(se>>>16)|0)+(H>>>16)|0;ie=((s(c,B)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(m,B)|0)+(ne>>>16)|0)+(ie>>>16)|0;H=ie<<16|re&0xffff;re=((s(c,T)|0)+(se&0xffff)|0)+(K&0xffff)|0;ne=((s(m,T)|0)+(se>>>16)|0)+(K>>>16)|0;ie=((s(c,R)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(m,R)|0)+(ne>>>16)|0)+(ie>>>16)|0;K=ie<<16|re&0xffff;re=((s(c,C)|0)+(se&0xffff)|0)+(G&0xffff)|0;ne=((s(m,C)|0)+(se>>>16)|0)+(G>>>16)|0;ie=((s(c,N)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(m,N)|0)+(ne>>>16)|0)+(ie>>>16)|0;G=ie<<16|re&0xffff;re=((s(c,P)|0)+(se&0xffff)|0)+(V&0xffff)|0;ne=((s(m,P)|0)+(se>>>16)|0)+(V>>>16)|0;ie=((s(c,D)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(m,D)|0)+(ne>>>16)|0)+(ie>>>16)|0;V=ie<<16|re&0xffff;re=((s(c,x)|0)+(se&0xffff)|0)+(X&0xffff)|0;ne=((s(m,x)|0)+(se>>>16)|0)+(X>>>16)|0;ie=((s(c,O)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(m,O)|0)+(ne>>>16)|0)+(ie>>>16)|0;X=ie<<16|re&0xffff;re=((s(c,I)|0)+(se&0xffff)|0)+(W&0xffff)|0;ne=((s(m,I)|0)+(se>>>16)|0)+(W>>>16)|0;ie=((s(c,U)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(m,U)|0)+(ne>>>16)|0)+(ie>>>16)|0;W=ie<<16|re&0xffff;re=((s(c,k)|0)+(se&0xffff)|0)+(z&0xffff)|0;ne=((s(m,k)|0)+(se>>>16)|0)+(z>>>16)|0;ie=((s(c,F)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(m,F)|0)+(ne>>>16)|0)+(ie>>>16)|0;z=ie<<16|re&0xffff;Y=se;re=((s(u,E)|0)+(J&0xffff)|0)+(H&0xffff)|0;ne=((s(g,E)|0)+(J>>>16)|0)+(H>>>16)|0;ie=((s(u,M)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(g,M)|0)+(ne>>>16)|0)+(ie>>>16)|0;H=ie<<16|re&0xffff;re=((s(u,S)|0)+(se&0xffff)|0)+(K&0xffff)|0;ne=((s(g,S)|0)+(se>>>16)|0)+(K>>>16)|0;ie=((s(u,B)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(g,B)|0)+(ne>>>16)|0)+(ie>>>16)|0;K=ie<<16|re&0xffff;re=((s(u,T)|0)+(se&0xffff)|0)+(G&0xffff)|0;ne=((s(g,T)|0)+(se>>>16)|0)+(G>>>16)|0;ie=((s(u,R)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(g,R)|0)+(ne>>>16)|0)+(ie>>>16)|0;G=ie<<16|re&0xffff;re=((s(u,C)|0)+(se&0xffff)|0)+(V&0xffff)|0;ne=((s(g,C)|0)+(se>>>16)|0)+(V>>>16)|0;ie=((s(u,N)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(g,N)|0)+(ne>>>16)|0)+(ie>>>16)|0;V=ie<<16|re&0xffff;re=((s(u,P)|0)+(se&0xffff)|0)+(X&0xffff)|0;ne=((s(g,P)|0)+(se>>>16)|0)+(X>>>16)|0;ie=((s(u,D)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(g,D)|0)+(ne>>>16)|0)+(ie>>>16)|0;X=ie<<16|re&0xffff;re=((s(u,x)|0)+(se&0xffff)|0)+(W&0xffff)|0;ne=((s(g,x)|0)+(se>>>16)|0)+(W>>>16)|0;ie=((s(u,O)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(g,O)|0)+(ne>>>16)|0)+(ie>>>16)|0;W=ie<<16|re&0xffff;re=((s(u,I)|0)+(se&0xffff)|0)+(z&0xffff)|0;ne=((s(g,I)|0)+(se>>>16)|0)+(z>>>16)|0;ie=((s(u,U)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(g,U)|0)+(ne>>>16)|0)+(ie>>>16)|0;z=ie<<16|re&0xffff;re=((s(u,k)|0)+(se&0xffff)|0)+(Y&0xffff)|0;ne=((s(g,k)|0)+(se>>>16)|0)+(Y>>>16)|0;ie=((s(u,F)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(g,F)|0)+(ne>>>16)|0)+(ie>>>16)|0;Y=ie<<16|re&0xffff;J=se;re=((s(l,E)|0)+(q&0xffff)|0)+(K&0xffff)|0;ne=((s(v,E)|0)+(q>>>16)|0)+(K>>>16)|0;ie=((s(l,M)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(v,M)|0)+(ne>>>16)|0)+(ie>>>16)|0;K=ie<<16|re&0xffff;re=((s(l,S)|0)+(se&0xffff)|0)+(G&0xffff)|0;ne=((s(v,S)|0)+(se>>>16)|0)+(G>>>16)|0;ie=((s(l,B)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(v,B)|0)+(ne>>>16)|0)+(ie>>>16)|0;G=ie<<16|re&0xffff;re=((s(l,T)|0)+(se&0xffff)|0)+(V&0xffff)|0;ne=((s(v,T)|0)+(se>>>16)|0)+(V>>>16)|0;ie=((s(l,R)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(v,R)|0)+(ne>>>16)|0)+(ie>>>16)|0;V=ie<<16|re&0xffff;re=((s(l,C)|0)+(se&0xffff)|0)+(X&0xffff)|0;ne=((s(v,C)|0)+(se>>>16)|0)+(X>>>16)|0;ie=((s(l,N)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(v,N)|0)+(ne>>>16)|0)+(ie>>>16)|0;X=ie<<16|re&0xffff;re=((s(l,P)|0)+(se&0xffff)|0)+(W&0xffff)|0;ne=((s(v,P)|0)+(se>>>16)|0)+(W>>>16)|0;ie=((s(l,D)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(v,D)|0)+(ne>>>16)|0)+(ie>>>16)|0;W=ie<<16|re&0xffff;re=((s(l,x)|0)+(se&0xffff)|0)+(z&0xffff)|0;ne=((s(v,x)|0)+(se>>>16)|0)+(z>>>16)|0;ie=((s(l,O)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(v,O)|0)+(ne>>>16)|0)+(ie>>>16)|0;z=ie<<16|re&0xffff;re=((s(l,I)|0)+(se&0xffff)|0)+(Y&0xffff)|0;ne=((s(v,I)|0)+(se>>>16)|0)+(Y>>>16)|0;ie=((s(l,U)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(v,U)|0)+(ne>>>16)|0)+(ie>>>16)|0;Y=ie<<16|re&0xffff;re=((s(l,k)|0)+(se&0xffff)|0)+(J&0xffff)|0;ne=((s(v,k)|0)+(se>>>16)|0)+(J>>>16)|0;ie=((s(l,F)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(v,F)|0)+(ne>>>16)|0)+(ie>>>16)|0;J=ie<<16|re&0xffff;q=se;re=((s(h,E)|0)+(Q&0xffff)|0)+(G&0xffff)|0;ne=((s(w,E)|0)+(Q>>>16)|0)+(G>>>16)|0;ie=((s(h,M)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(w,M)|0)+(ne>>>16)|0)+(ie>>>16)|0;G=ie<<16|re&0xffff;re=((s(h,S)|0)+(se&0xffff)|0)+(V&0xffff)|0;ne=((s(w,S)|0)+(se>>>16)|0)+(V>>>16)|0;ie=((s(h,B)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(w,B)|0)+(ne>>>16)|0)+(ie>>>16)|0;V=ie<<16|re&0xffff;re=((s(h,T)|0)+(se&0xffff)|0)+(X&0xffff)|0;ne=((s(w,T)|0)+(se>>>16)|0)+(X>>>16)|0;ie=((s(h,R)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(w,R)|0)+(ne>>>16)|0)+(ie>>>16)|0;X=ie<<16|re&0xffff;re=((s(h,C)|0)+(se&0xffff)|0)+(W&0xffff)|0;ne=((s(w,C)|0)+(se>>>16)|0)+(W>>>16)|0;ie=((s(h,N)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(w,N)|0)+(ne>>>16)|0)+(ie>>>16)|0;W=ie<<16|re&0xffff;re=((s(h,P)|0)+(se&0xffff)|0)+(z&0xffff)|0;ne=((s(w,P)|0)+(se>>>16)|0)+(z>>>16)|0;ie=((s(h,D)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(w,D)|0)+(ne>>>16)|0)+(ie>>>16)|0;z=ie<<16|re&0xffff;re=((s(h,x)|0)+(se&0xffff)|0)+(Y&0xffff)|0;ne=((s(w,x)|0)+(se>>>16)|0)+(Y>>>16)|0;ie=((s(h,O)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(w,O)|0)+(ne>>>16)|0)+(ie>>>16)|0;Y=ie<<16|re&0xffff;re=((s(h,I)|0)+(se&0xffff)|0)+(J&0xffff)|0;ne=((s(w,I)|0)+(se>>>16)|0)+(J>>>16)|0;ie=((s(h,U)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(w,U)|0)+(ne>>>16)|0)+(ie>>>16)|0;J=ie<<16|re&0xffff;re=((s(h,k)|0)+(se&0xffff)|0)+(q&0xffff)|0;ne=((s(w,k)|0)+(se>>>16)|0)+(q>>>16)|0;ie=((s(h,F)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(w,F)|0)+(ne>>>16)|0)+(ie>>>16)|0;q=ie<<16|re&0xffff;Q=se;re=((s(d,E)|0)+(Z&0xffff)|0)+(V&0xffff)|0;ne=((s(A,E)|0)+(Z>>>16)|0)+(V>>>16)|0;ie=((s(d,M)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(A,M)|0)+(ne>>>16)|0)+(ie>>>16)|0;V=ie<<16|re&0xffff;re=((s(d,S)|0)+(se&0xffff)|0)+(X&0xffff)|0;ne=((s(A,S)|0)+(se>>>16)|0)+(X>>>16)|0;ie=((s(d,B)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(A,B)|0)+(ne>>>16)|0)+(ie>>>16)|0;X=ie<<16|re&0xffff;re=((s(d,T)|0)+(se&0xffff)|0)+(W&0xffff)|0;ne=((s(A,T)|0)+(se>>>16)|0)+(W>>>16)|0;ie=((s(d,R)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(A,R)|0)+(ne>>>16)|0)+(ie>>>16)|0;W=ie<<16|re&0xffff;re=((s(d,C)|0)+(se&0xffff)|0)+(z&0xffff)|0;ne=((s(A,C)|0)+(se>>>16)|0)+(z>>>16)|0;ie=((s(d,N)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(A,N)|0)+(ne>>>16)|0)+(ie>>>16)|0;z=ie<<16|re&0xffff;re=((s(d,P)|0)+(se&0xffff)|0)+(Y&0xffff)|0;ne=((s(A,P)|0)+(se>>>16)|0)+(Y>>>16)|0;ie=((s(d,D)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(A,D)|0)+(ne>>>16)|0)+(ie>>>16)|0;Y=ie<<16|re&0xffff;re=((s(d,x)|0)+(se&0xffff)|0)+(J&0xffff)|0;ne=((s(A,x)|0)+(se>>>16)|0)+(J>>>16)|0;ie=((s(d,O)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(A,O)|0)+(ne>>>16)|0)+(ie>>>16)|0;J=ie<<16|re&0xffff;re=((s(d,I)|0)+(se&0xffff)|0)+(q&0xffff)|0;ne=((s(A,I)|0)+(se>>>16)|0)+(q>>>16)|0;ie=((s(d,U)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(A,U)|0)+(ne>>>16)|0)+(ie>>>16)|0;q=ie<<16|re&0xffff;re=((s(d,k)|0)+(se&0xffff)|0)+(Q&0xffff)|0;ne=((s(A,k)|0)+(se>>>16)|0)+(Q>>>16)|0;ie=((s(d,F)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(A,F)|0)+(ne>>>16)|0)+(ie>>>16)|0;Q=ie<<16|re&0xffff;Z=se;re=((s(p,E)|0)+(ee&0xffff)|0)+(X&0xffff)|0;ne=((s($,E)|0)+(ee>>>16)|0)+(X>>>16)|0;ie=((s(p,M)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s($,M)|0)+(ne>>>16)|0)+(ie>>>16)|0;X=ie<<16|re&0xffff;re=((s(p,S)|0)+(se&0xffff)|0)+(W&0xffff)|0;ne=((s($,S)|0)+(se>>>16)|0)+(W>>>16)|0;ie=((s(p,B)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s($,B)|0)+(ne>>>16)|0)+(ie>>>16)|0;W=ie<<16|re&0xffff;re=((s(p,T)|0)+(se&0xffff)|0)+(z&0xffff)|0;ne=((s($,T)|0)+(se>>>16)|0)+(z>>>16)|0;ie=((s(p,R)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s($,R)|0)+(ne>>>16)|0)+(ie>>>16)|0;z=ie<<16|re&0xffff;re=((s(p,C)|0)+(se&0xffff)|0)+(Y&0xffff)|0;ne=((s($,C)|0)+(se>>>16)|0)+(Y>>>16)|0;ie=((s(p,N)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s($,N)|0)+(ne>>>16)|0)+(ie>>>16)|0;Y=ie<<16|re&0xffff;re=((s(p,P)|0)+(se&0xffff)|0)+(J&0xffff)|0;ne=((s($,P)|0)+(se>>>16)|0)+(J>>>16)|0;ie=((s(p,D)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s($,D)|0)+(ne>>>16)|0)+(ie>>>16)|0;J=ie<<16|re&0xffff;re=((s(p,x)|0)+(se&0xffff)|0)+(q&0xffff)|0;ne=((s($,x)|0)+(se>>>16)|0)+(q>>>16)|0;ie=((s(p,O)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s($,O)|0)+(ne>>>16)|0)+(ie>>>16)|0;q=ie<<16|re&0xffff;re=((s(p,I)|0)+(se&0xffff)|0)+(Q&0xffff)|0;ne=((s($,I)|0)+(se>>>16)|0)+(Q>>>16)|0;ie=((s(p,U)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s($,U)|0)+(ne>>>16)|0)+(ie>>>16)|0;Q=ie<<16|re&0xffff;re=((s(p,k)|0)+(se&0xffff)|0)+(Z&0xffff)|0;ne=((s($,k)|0)+(se>>>16)|0)+(Z>>>16)|0;ie=((s(p,F)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s($,F)|0)+(ne>>>16)|0)+(ie>>>16)|0;Z=ie<<16|re&0xffff;ee=se;re=((s(y,E)|0)+(te&0xffff)|0)+(W&0xffff)|0;ne=((s(_,E)|0)+(te>>>16)|0)+(W>>>16)|0;ie=((s(y,M)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(_,M)|0)+(ne>>>16)|0)+(ie>>>16)|0;W=ie<<16|re&0xffff;re=((s(y,S)|0)+(se&0xffff)|0)+(z&0xffff)|0;ne=((s(_,S)|0)+(se>>>16)|0)+(z>>>16)|0;ie=((s(y,B)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(_,B)|0)+(ne>>>16)|0)+(ie>>>16)|0;z=ie<<16|re&0xffff;re=((s(y,T)|0)+(se&0xffff)|0)+(Y&0xffff)|0;ne=((s(_,T)|0)+(se>>>16)|0)+(Y>>>16)|0;ie=((s(y,R)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(_,R)|0)+(ne>>>16)|0)+(ie>>>16)|0;Y=ie<<16|re&0xffff;re=((s(y,C)|0)+(se&0xffff)|0)+(J&0xffff)|0;ne=((s(_,C)|0)+(se>>>16)|0)+(J>>>16)|0;ie=((s(y,N)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(_,N)|0)+(ne>>>16)|0)+(ie>>>16)|0;J=ie<<16|re&0xffff;re=((s(y,P)|0)+(se&0xffff)|0)+(q&0xffff)|0;ne=((s(_,P)|0)+(se>>>16)|0)+(q>>>16)|0;ie=((s(y,D)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(_,D)|0)+(ne>>>16)|0)+(ie>>>16)|0;q=ie<<16|re&0xffff;re=((s(y,x)|0)+(se&0xffff)|0)+(Q&0xffff)|0;ne=((s(_,x)|0)+(se>>>16)|0)+(Q>>>16)|0;ie=((s(y,O)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(_,O)|0)+(ne>>>16)|0)+(ie>>>16)|0;Q=ie<<16|re&0xffff;re=((s(y,I)|0)+(se&0xffff)|0)+(Z&0xffff)|0;ne=((s(_,I)|0)+(se>>>16)|0)+(Z>>>16)|0;ie=((s(y,U)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(_,U)|0)+(ne>>>16)|0)+(ie>>>16)|0;Z=ie<<16|re&0xffff;re=((s(y,k)|0)+(se&0xffff)|0)+(ee&0xffff)|0;ne=((s(_,k)|0)+(se>>>16)|0)+(ee>>>16)|0;ie=((s(y,F)|0)+(ne&0xffff)|0)+(re>>>16)|0;se=((s(_,F)|0)+(ne>>>16)|0)+(ie>>>16)|0;ee=ie<<16|re&0xffff;te=se;i[(ue|0)>>2]=L,i[(ue|4)>>2]=j,i[(ue|8)>>2]=H,i[(ue|12)>>2]=K,i[(ue|16)>>2]=G,i[(ue|20)>>2]=V,i[(ue|24)>>2]=X,i[(ue|28)>>2]=W}ue=f+(fe+oe|0)|0;i[(ue|0)>>2]=z,i[(ue|4)>>2]=Y,i[(ue|8)>>2]=J,i[(ue|12)>>2]=q,i[(ue|16)>>2]=Q,i[(ue|20)>>2]=Z,i[(ue|24)>>2]=ee,i[(ue|28)>>2]=te}}function m(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,f=0,a=0,o=0,c=0,u=0,l=0,h=0,d=0,p=0,y=0,b=0,m=0,g=0,v=0,w=0,A=0,$=0,_=0,E=0,S=0,T=0,C=0,P=0,x=0,I=0,k=0,M=0,B=0,R=0,N=0,D=0,O=0,U=0,F=0,L=0,j=0,H=0,K=0,G=0,V=0,X=0,W=0,z=0,Y=0,J=0,q=0,Q=0,Z=0,ee=0,te=0,re=0,ne=0,ie=0,se=0,fe=0,ae=0,oe=0,ce=0,ue=0,le=0,he=0,de=0,pe=0;for(;(ce|0)<(t|0);ce=ce+4|0){pe=r+(ce<<1)|0;d=i[e+ce>>2]|0,n=d&0xffff,d=d>>>16;Z=s(n,n)|0;ee=(s(n,d)|0)+(Z>>>17)|0;te=(s(d,d)|0)+(ee>>>15)|0;i[pe>>2]=ee<<17|Z&0x1ffff;i[(pe|4)>>2]=te}for(oe=0;(oe|0)<(t|0);oe=oe+8|0){he=e+oe|0,pe=r+(oe<<1)|0;d=i[he>>2]|0,n=d&0xffff,d=d>>>16;x=i[(he|4)>>2]|0,A=x&0xffff,x=x>>>16;Z=s(n,A)|0;ee=(s(n,x)|0)+(Z>>>16)|0;te=(s(d,A)|0)+(ee&0xffff)|0;ie=((s(d,x)|0)+(ee>>>16)|0)+(te>>>16)|0;se=i[(pe|4)>>2]|0;Z=(se&0xffff)+((Z&0xffff)<<1)|0;te=((se>>>16)+((te&0xffff)<<1)|0)+(Z>>>16)|0;i[(pe|4)>>2]=te<<16|Z&0xffff;re=te>>>16;se=i[(pe|8)>>2]|0;Z=((se&0xffff)+((ie&0xffff)<<1)|0)+re|0;te=((se>>>16)+(ie>>>16<<1)|0)+(Z>>>16)|0;i[(pe|8)>>2]=te<<16|Z&0xffff;re=te>>>16;if(re){se=i[(pe|12)>>2]|0;Z=(se&0xffff)+re|0;te=(se>>>16)+(Z>>>16)|0;i[(pe|12)>>2]=te<<16|Z&0xffff}}for(oe=0;(oe|0)<(t|0);oe=oe+16|0){he=e+oe|0,pe=r+(oe<<1)|0;d=i[he>>2]|0,n=d&0xffff,d=d>>>16,p=i[(he|4)>>2]|0,f=p&0xffff,p=p>>>16;x=i[(he|8)>>2]|0,A=x&0xffff,x=x>>>16,I=i[(he|12)>>2]|0,$=I&0xffff,I=I>>>16;Z=s(n,A)|0;ee=s(d,A)|0;te=((s(n,x)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(d,x)|0)+(ee>>>16)|0)+(te>>>16)|0;O=te<<16|Z&0xffff;Z=(s(n,$)|0)+(ie&0xffff)|0;ee=(s(d,$)|0)+(ie>>>16)|0;te=((s(n,I)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(d,I)|0)+(ee>>>16)|0)+(te>>>16)|0;U=te<<16|Z&0xffff;F=ie;Z=(s(f,A)|0)+(U&0xffff)|0;ee=(s(p,A)|0)+(U>>>16)|0;te=((s(f,x)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(p,x)|0)+(ee>>>16)|0)+(te>>>16)|0;U=te<<16|Z&0xffff;Z=((s(f,$)|0)+(F&0xffff)|0)+(ie&0xffff)|0;ee=((s(p,$)|0)+(F>>>16)|0)+(ie>>>16)|0;te=((s(f,I)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(p,I)|0)+(ee>>>16)|0)+(te>>>16)|0;F=te<<16|Z&0xffff;L=ie;se=i[(pe|8)>>2]|0;Z=(se&0xffff)+((O&0xffff)<<1)|0;te=((se>>>16)+(O>>>16<<1)|0)+(Z>>>16)|0;i[(pe|8)>>2]=te<<16|Z&0xffff;re=te>>>16;se=i[(pe|12)>>2]|0;Z=((se&0xffff)+((U&0xffff)<<1)|0)+re|0;te=((se>>>16)+(U>>>16<<1)|0)+(Z>>>16)|0;i[(pe|12)>>2]=te<<16|Z&0xffff;re=te>>>16;se=i[(pe|16)>>2]|0;Z=((se&0xffff)+((F&0xffff)<<1)|0)+re|0;te=((se>>>16)+(F>>>16<<1)|0)+(Z>>>16)|0;i[(pe|16)>>2]=te<<16|Z&0xffff;re=te>>>16;se=i[(pe|20)>>2]|0;Z=((se&0xffff)+((L&0xffff)<<1)|0)+re|0;te=((se>>>16)+(L>>>16<<1)|0)+(Z>>>16)|0;i[(pe|20)>>2]=te<<16|Z&0xffff;re=te>>>16;for(le=24;!!re&(le|0)<32;le=le+4|0){se=i[(pe|le)>>2]|0;Z=(se&0xffff)+re|0;te=(se>>>16)+(Z>>>16)|0;i[(pe|le)>>2]=te<<16|Z&0xffff;re=te>>>16}}for(oe=0;(oe|0)<(t|0);oe=oe+32|0){he=e+oe|0,pe=r+(oe<<1)|0;d=i[he>>2]|0,n=d&0xffff,d=d>>>16,p=i[(he|4)>>2]|0,f=p&0xffff,p=p>>>16,y=i[(he|8)>>2]|0,a=y&0xffff,y=y>>>16,b=i[(he|12)>>2]|0,o=b&0xffff,b=b>>>16;x=i[(he|16)>>2]|0,A=x&0xffff,x=x>>>16,I=i[(he|20)>>2]|0,$=I&0xffff,I=I>>>16,k=i[(he|24)>>2]|0,_=k&0xffff,k=k>>>16,M=i[(he|28)>>2]|0,E=M&0xffff,M=M>>>16;Z=s(n,A)|0;ee=s(d,A)|0;te=((s(n,x)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(d,x)|0)+(ee>>>16)|0)+(te>>>16)|0;O=te<<16|Z&0xffff;Z=(s(n,$)|0)+(ie&0xffff)|0;ee=(s(d,$)|0)+(ie>>>16)|0;te=((s(n,I)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(d,I)|0)+(ee>>>16)|0)+(te>>>16)|0;U=te<<16|Z&0xffff;Z=(s(n,_)|0)+(ie&0xffff)|0;ee=(s(d,_)|0)+(ie>>>16)|0;te=((s(n,k)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(d,k)|0)+(ee>>>16)|0)+(te>>>16)|0;F=te<<16|Z&0xffff;Z=(s(n,E)|0)+(ie&0xffff)|0;ee=(s(d,E)|0)+(ie>>>16)|0;te=((s(n,M)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(d,M)|0)+(ee>>>16)|0)+(te>>>16)|0;L=te<<16|Z&0xffff;j=ie;Z=(s(f,A)|0)+(U&0xffff)|0;ee=(s(p,A)|0)+(U>>>16)|0;te=((s(f,x)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(p,x)|0)+(ee>>>16)|0)+(te>>>16)|0;U=te<<16|Z&0xffff;Z=((s(f,$)|0)+(F&0xffff)|0)+(ie&0xffff)|0;ee=((s(p,$)|0)+(F>>>16)|0)+(ie>>>16)|0;te=((s(f,I)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(p,I)|0)+(ee>>>16)|0)+(te>>>16)|0;F=te<<16|Z&0xffff;Z=((s(f,_)|0)+(L&0xffff)|0)+(ie&0xffff)|0;ee=((s(p,_)|0)+(L>>>16)|0)+(ie>>>16)|0;te=((s(f,k)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(p,k)|0)+(ee>>>16)|0)+(te>>>16)|0;L=te<<16|Z&0xffff;Z=((s(f,E)|0)+(j&0xffff)|0)+(ie&0xffff)|0;ee=((s(p,E)|0)+(j>>>16)|0)+(ie>>>16)|0;te=((s(f,M)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(p,M)|0)+(ee>>>16)|0)+(te>>>16)|0;j=te<<16|Z&0xffff;H=ie;Z=(s(a,A)|0)+(F&0xffff)|0;ee=(s(y,A)|0)+(F>>>16)|0;te=((s(a,x)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(y,x)|0)+(ee>>>16)|0)+(te>>>16)|0;F=te<<16|Z&0xffff;Z=((s(a,$)|0)+(L&0xffff)|0)+(ie&0xffff)|0;ee=((s(y,$)|0)+(L>>>16)|0)+(ie>>>16)|0;te=((s(a,I)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(y,I)|0)+(ee>>>16)|0)+(te>>>16)|0;L=te<<16|Z&0xffff;Z=((s(a,_)|0)+(j&0xffff)|0)+(ie&0xffff)|0;ee=((s(y,_)|0)+(j>>>16)|0)+(ie>>>16)|0;te=((s(a,k)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(y,k)|0)+(ee>>>16)|0)+(te>>>16)|0;j=te<<16|Z&0xffff;Z=((s(a,E)|0)+(H&0xffff)|0)+(ie&0xffff)|0;ee=((s(y,E)|0)+(H>>>16)|0)+(ie>>>16)|0;te=((s(a,M)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(y,M)|0)+(ee>>>16)|0)+(te>>>16)|0;H=te<<16|Z&0xffff;K=ie;Z=(s(o,A)|0)+(L&0xffff)|0;ee=(s(b,A)|0)+(L>>>16)|0;te=((s(o,x)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(b,x)|0)+(ee>>>16)|0)+(te>>>16)|0;L=te<<16|Z&0xffff;Z=((s(o,$)|0)+(j&0xffff)|0)+(ie&0xffff)|0;ee=((s(b,$)|0)+(j>>>16)|0)+(ie>>>16)|0;te=((s(o,I)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(b,I)|0)+(ee>>>16)|0)+(te>>>16)|0;j=te<<16|Z&0xffff;Z=((s(o,_)|0)+(H&0xffff)|0)+(ie&0xffff)|0;ee=((s(b,_)|0)+(H>>>16)|0)+(ie>>>16)|0;te=((s(o,k)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(b,k)|0)+(ee>>>16)|0)+(te>>>16)|0;H=te<<16|Z&0xffff;Z=((s(o,E)|0)+(K&0xffff)|0)+(ie&0xffff)|0;ee=((s(b,E)|0)+(K>>>16)|0)+(ie>>>16)|0;te=((s(o,M)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(b,M)|0)+(ee>>>16)|0)+(te>>>16)|0;K=te<<16|Z&0xffff;G=ie;se=i[(pe|16)>>2]|0;Z=(se&0xffff)+((O&0xffff)<<1)|0;te=((se>>>16)+(O>>>16<<1)|0)+(Z>>>16)|0;i[(pe|16)>>2]=te<<16|Z&0xffff;re=te>>>16;se=i[(pe|20)>>2]|0;Z=((se&0xffff)+((U&0xffff)<<1)|0)+re|0;te=((se>>>16)+(U>>>16<<1)|0)+(Z>>>16)|0;i[(pe|20)>>2]=te<<16|Z&0xffff;re=te>>>16;se=i[(pe|24)>>2]|0;Z=((se&0xffff)+((F&0xffff)<<1)|0)+re|0;te=((se>>>16)+(F>>>16<<1)|0)+(Z>>>16)|0;i[(pe|24)>>2]=te<<16|Z&0xffff;re=te>>>16;se=i[(pe|28)>>2]|0;Z=((se&0xffff)+((L&0xffff)<<1)|0)+re|0;te=((se>>>16)+(L>>>16<<1)|0)+(Z>>>16)|0;i[(pe|28)>>2]=te<<16|Z&0xffff;re=te>>>16;se=i[pe+32>>2]|0;Z=((se&0xffff)+((j&0xffff)<<1)|0)+re|0;te=((se>>>16)+(j>>>16<<1)|0)+(Z>>>16)|0;i[pe+32>>2]=te<<16|Z&0xffff;re=te>>>16;se=i[pe+36>>2]|0;Z=((se&0xffff)+((H&0xffff)<<1)|0)+re|0;te=((se>>>16)+(H>>>16<<1)|0)+(Z>>>16)|0;i[pe+36>>2]=te<<16|Z&0xffff;re=te>>>16;se=i[pe+40>>2]|0;Z=((se&0xffff)+((K&0xffff)<<1)|0)+re|0;te=((se>>>16)+(K>>>16<<1)|0)+(Z>>>16)|0;i[pe+40>>2]=te<<16|Z&0xffff;re=te>>>16;se=i[pe+44>>2]|0;Z=((se&0xffff)+((G&0xffff)<<1)|0)+re|0;te=((se>>>16)+(G>>>16<<1)|0)+(Z>>>16)|0;i[pe+44>>2]=te<<16|Z&0xffff;re=te>>>16;for(le=48;!!re&(le|0)<64;le=le+4|0){se=i[pe+le>>2]|0;Z=(se&0xffff)+re|0;te=(se>>>16)+(Z>>>16)|0;i[pe+le>>2]=te<<16|Z&0xffff;re=te>>>16}}for(fe=32;(fe|0)<(t|0);fe=fe<<1){ae=fe<<1;for(oe=0;(oe|0)<(t|0);oe=oe+ae|0){pe=r+(oe<<1)|0;ne=0;for(ce=0;(ce|0)<(fe|0);ce=ce+32|0){he=(e+oe|0)+ce|0;d=i[he>>2]|0,n=d&0xffff,d=d>>>16,p=i[(he|4)>>2]|0,f=p&0xffff,p=p>>>16,y=i[(he|8)>>2]|0,a=y&0xffff,y=y>>>16,b=i[(he|12)>>2]|0,o=b&0xffff,b=b>>>16,m=i[(he|16)>>2]|0,c=m&0xffff,m=m>>>16,g=i[(he|20)>>2]|0,u=g&0xffff,g=g>>>16,v=i[(he|24)>>2]|0,l=v&0xffff,v=v>>>16,w=i[(he|28)>>2]|0,h=w&0xffff,w=w>>>16;V=X=W=z=Y=J=q=Q=re=0;for(ue=0;(ue|0)<(fe|0);ue=ue+32|0){de=((e+oe|0)+fe|0)+ue|0;x=i[de>>2]|0,A=x&0xffff,x=x>>>16,I=i[(de|4)>>2]|0,$=I&0xffff,I=I>>>16,k=i[(de|8)>>2]|0,_=k&0xffff,k=k>>>16,M=i[(de|12)>>2]|0,E=M&0xffff,M=M>>>16,B=i[(de|16)>>2]|0,S=B&0xffff,B=B>>>16,R=i[(de|20)>>2]|0,T=R&0xffff,R=R>>>16,N=i[(de|24)>>2]|0,C=N&0xffff,N=N>>>16,D=i[(de|28)>>2]|0,P=D&0xffff,D=D>>>16;O=U=F=L=j=H=K=G=0;Z=((s(n,A)|0)+(O&0xffff)|0)+(V&0xffff)|0;ee=((s(d,A)|0)+(O>>>16)|0)+(V>>>16)|0;te=((s(n,x)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(d,x)|0)+(ee>>>16)|0)+(te>>>16)|0;O=te<<16|Z&0xffff;Z=((s(n,$)|0)+(U&0xffff)|0)+(ie&0xffff)|0;ee=((s(d,$)|0)+(U>>>16)|0)+(ie>>>16)|0;te=((s(n,I)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(d,I)|0)+(ee>>>16)|0)+(te>>>16)|0;U=te<<16|Z&0xffff;Z=((s(n,_)|0)+(F&0xffff)|0)+(ie&0xffff)|0;ee=((s(d,_)|0)+(F>>>16)|0)+(ie>>>16)|0;te=((s(n,k)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(d,k)|0)+(ee>>>16)|0)+(te>>>16)|0;F=te<<16|Z&0xffff;Z=((s(n,E)|0)+(L&0xffff)|0)+(ie&0xffff)|0;ee=((s(d,E)|0)+(L>>>16)|0)+(ie>>>16)|0;te=((s(n,M)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(d,M)|0)+(ee>>>16)|0)+(te>>>16)|0;L=te<<16|Z&0xffff;Z=((s(n,S)|0)+(j&0xffff)|0)+(ie&0xffff)|0;ee=((s(d,S)|0)+(j>>>16)|0)+(ie>>>16)|0;te=((s(n,B)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(d,B)|0)+(ee>>>16)|0)+(te>>>16)|0;j=te<<16|Z&0xffff;Z=((s(n,T)|0)+(H&0xffff)|0)+(ie&0xffff)|0;ee=((s(d,T)|0)+(H>>>16)|0)+(ie>>>16)|0;te=((s(n,R)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(d,R)|0)+(ee>>>16)|0)+(te>>>16)|0;H=te<<16|Z&0xffff;Z=((s(n,C)|0)+(K&0xffff)|0)+(ie&0xffff)|0;ee=((s(d,C)|0)+(K>>>16)|0)+(ie>>>16)|0;te=((s(n,N)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(d,N)|0)+(ee>>>16)|0)+(te>>>16)|0;K=te<<16|Z&0xffff;Z=((s(n,P)|0)+(G&0xffff)|0)+(ie&0xffff)|0;ee=((s(d,P)|0)+(G>>>16)|0)+(ie>>>16)|0;te=((s(n,D)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(d,D)|0)+(ee>>>16)|0)+(te>>>16)|0;G=te<<16|Z&0xffff;V=ie;Z=((s(f,A)|0)+(U&0xffff)|0)+(X&0xffff)|0;ee=((s(p,A)|0)+(U>>>16)|0)+(X>>>16)|0;te=((s(f,x)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(p,x)|0)+(ee>>>16)|0)+(te>>>16)|0;U=te<<16|Z&0xffff;Z=((s(f,$)|0)+(F&0xffff)|0)+(ie&0xffff)|0;ee=((s(p,$)|0)+(F>>>16)|0)+(ie>>>16)|0;te=((s(f,I)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(p,I)|0)+(ee>>>16)|0)+(te>>>16)|0;F=te<<16|Z&0xffff;Z=((s(f,_)|0)+(L&0xffff)|0)+(ie&0xffff)|0;ee=((s(p,_)|0)+(L>>>16)|0)+(ie>>>16)|0;te=((s(f,k)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(p,k)|0)+(ee>>>16)|0)+(te>>>16)|0;L=te<<16|Z&0xffff;Z=((s(f,E)|0)+(j&0xffff)|0)+(ie&0xffff)|0;ee=((s(p,E)|0)+(j>>>16)|0)+(ie>>>16)|0;te=((s(f,M)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(p,M)|0)+(ee>>>16)|0)+(te>>>16)|0;j=te<<16|Z&0xffff;Z=((s(f,S)|0)+(H&0xffff)|0)+(ie&0xffff)|0;ee=((s(p,S)|0)+(H>>>16)|0)+(ie>>>16)|0;te=((s(f,B)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(p,B)|0)+(ee>>>16)|0)+(te>>>16)|0;H=te<<16|Z&0xffff;Z=((s(f,T)|0)+(K&0xffff)|0)+(ie&0xffff)|0;ee=((s(p,T)|0)+(K>>>16)|0)+(ie>>>16)|0;te=((s(f,R)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(p,R)|0)+(ee>>>16)|0)+(te>>>16)|0;K=te<<16|Z&0xffff;Z=((s(f,C)|0)+(G&0xffff)|0)+(ie&0xffff)|0;ee=((s(p,C)|0)+(G>>>16)|0)+(ie>>>16)|0;te=((s(f,N)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(p,N)|0)+(ee>>>16)|0)+(te>>>16)|0;G=te<<16|Z&0xffff;Z=((s(f,P)|0)+(V&0xffff)|0)+(ie&0xffff)|0;ee=((s(p,P)|0)+(V>>>16)|0)+(ie>>>16)|0;te=((s(f,D)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(p,D)|0)+(ee>>>16)|0)+(te>>>16)|0;V=te<<16|Z&0xffff;X=ie;Z=((s(a,A)|0)+(F&0xffff)|0)+(W&0xffff)|0;ee=((s(y,A)|0)+(F>>>16)|0)+(W>>>16)|0;te=((s(a,x)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(y,x)|0)+(ee>>>16)|0)+(te>>>16)|0;F=te<<16|Z&0xffff;Z=((s(a,$)|0)+(L&0xffff)|0)+(ie&0xffff)|0;ee=((s(y,$)|0)+(L>>>16)|0)+(ie>>>16)|0;te=((s(a,I)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(y,I)|0)+(ee>>>16)|0)+(te>>>16)|0;L=te<<16|Z&0xffff;Z=((s(a,_)|0)+(j&0xffff)|0)+(ie&0xffff)|0;ee=((s(y,_)|0)+(j>>>16)|0)+(ie>>>16)|0;te=((s(a,k)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(y,k)|0)+(ee>>>16)|0)+(te>>>16)|0;j=te<<16|Z&0xffff;Z=((s(a,E)|0)+(H&0xffff)|0)+(ie&0xffff)|0;ee=((s(y,E)|0)+(H>>>16)|0)+(ie>>>16)|0;te=((s(a,M)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(y,M)|0)+(ee>>>16)|0)+(te>>>16)|0;H=te<<16|Z&0xffff;Z=((s(a,S)|0)+(K&0xffff)|0)+(ie&0xffff)|0;ee=((s(y,S)|0)+(K>>>16)|0)+(ie>>>16)|0;te=((s(a,B)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(y,B)|0)+(ee>>>16)|0)+(te>>>16)|0;K=te<<16|Z&0xffff;Z=((s(a,T)|0)+(G&0xffff)|0)+(ie&0xffff)|0;ee=((s(y,T)|0)+(G>>>16)|0)+(ie>>>16)|0;te=((s(a,R)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(y,R)|0)+(ee>>>16)|0)+(te>>>16)|0;G=te<<16|Z&0xffff;Z=((s(a,C)|0)+(V&0xffff)|0)+(ie&0xffff)|0;ee=((s(y,C)|0)+(V>>>16)|0)+(ie>>>16)|0;te=((s(a,N)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(y,N)|0)+(ee>>>16)|0)+(te>>>16)|0;V=te<<16|Z&0xffff;Z=((s(a,P)|0)+(X&0xffff)|0)+(ie&0xffff)|0;ee=((s(y,P)|0)+(X>>>16)|0)+(ie>>>16)|0;te=((s(a,D)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(y,D)|0)+(ee>>>16)|0)+(te>>>16)|0;X=te<<16|Z&0xffff;W=ie;Z=((s(o,A)|0)+(L&0xffff)|0)+(z&0xffff)|0;ee=((s(b,A)|0)+(L>>>16)|0)+(z>>>16)|0;te=((s(o,x)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(b,x)|0)+(ee>>>16)|0)+(te>>>16)|0;L=te<<16|Z&0xffff;Z=((s(o,$)|0)+(j&0xffff)|0)+(ie&0xffff)|0;ee=((s(b,$)|0)+(j>>>16)|0)+(ie>>>16)|0;te=((s(o,I)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(b,I)|0)+(ee>>>16)|0)+(te>>>16)|0;j=te<<16|Z&0xffff;Z=((s(o,_)|0)+(H&0xffff)|0)+(ie&0xffff)|0;ee=((s(b,_)|0)+(H>>>16)|0)+(ie>>>16)|0;te=((s(o,k)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(b,k)|0)+(ee>>>16)|0)+(te>>>16)|0;H=te<<16|Z&0xffff;Z=((s(o,E)|0)+(K&0xffff)|0)+(ie&0xffff)|0;ee=((s(b,E)|0)+(K>>>16)|0)+(ie>>>16)|0;te=((s(o,M)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(b,M)|0)+(ee>>>16)|0)+(te>>>16)|0;K=te<<16|Z&0xffff;Z=((s(o,S)|0)+(G&0xffff)|0)+(ie&0xffff)|0;ee=((s(b,S)|0)+(G>>>16)|0)+(ie>>>16)|0;te=((s(o,B)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(b,B)|0)+(ee>>>16)|0)+(te>>>16)|0;G=te<<16|Z&0xffff;Z=((s(o,T)|0)+(V&0xffff)|0)+(ie&0xffff)|0;ee=((s(b,T)|0)+(V>>>16)|0)+(ie>>>16)|0;te=((s(o,R)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(b,R)|0)+(ee>>>16)|0)+(te>>>16)|0;V=te<<16|Z&0xffff;Z=((s(o,C)|0)+(X&0xffff)|0)+(ie&0xffff)|0;ee=((s(b,C)|0)+(X>>>16)|0)+(ie>>>16)|0;te=((s(o,N)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(b,N)|0)+(ee>>>16)|0)+(te>>>16)|0;X=te<<16|Z&0xffff;Z=((s(o,P)|0)+(W&0xffff)|0)+(ie&0xffff)|0;ee=((s(b,P)|0)+(W>>>16)|0)+(ie>>>16)|0;te=((s(o,D)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(b,D)|0)+(ee>>>16)|0)+(te>>>16)|0;W=te<<16|Z&0xffff;z=ie;Z=((s(c,A)|0)+(j&0xffff)|0)+(Y&0xffff)|0;ee=((s(m,A)|0)+(j>>>16)|0)+(Y>>>16)|0;te=((s(c,x)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(m,x)|0)+(ee>>>16)|0)+(te>>>16)|0;j=te<<16|Z&0xffff;Z=((s(c,$)|0)+(H&0xffff)|0)+(ie&0xffff)|0;ee=((s(m,$)|0)+(H>>>16)|0)+(ie>>>16)|0;te=((s(c,I)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(m,I)|0)+(ee>>>16)|0)+(te>>>16)|0;H=te<<16|Z&0xffff;Z=((s(c,_)|0)+(K&0xffff)|0)+(ie&0xffff)|0;ee=((s(m,_)|0)+(K>>>16)|0)+(ie>>>16)|0;te=((s(c,k)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(m,k)|0)+(ee>>>16)|0)+(te>>>16)|0;K=te<<16|Z&0xffff;Z=((s(c,E)|0)+(G&0xffff)|0)+(ie&0xffff)|0;ee=((s(m,E)|0)+(G>>>16)|0)+(ie>>>16)|0;te=((s(c,M)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(m,M)|0)+(ee>>>16)|0)+(te>>>16)|0;G=te<<16|Z&0xffff;Z=((s(c,S)|0)+(V&0xffff)|0)+(ie&0xffff)|0;ee=((s(m,S)|0)+(V>>>16)|0)+(ie>>>16)|0;te=((s(c,B)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(m,B)|0)+(ee>>>16)|0)+(te>>>16)|0;V=te<<16|Z&0xffff;Z=((s(c,T)|0)+(X&0xffff)|0)+(ie&0xffff)|0;ee=((s(m,T)|0)+(X>>>16)|0)+(ie>>>16)|0;te=((s(c,R)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(m,R)|0)+(ee>>>16)|0)+(te>>>16)|0;X=te<<16|Z&0xffff;Z=((s(c,C)|0)+(W&0xffff)|0)+(ie&0xffff)|0;ee=((s(m,C)|0)+(W>>>16)|0)+(ie>>>16)|0;te=((s(c,N)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(m,N)|0)+(ee>>>16)|0)+(te>>>16)|0;W=te<<16|Z&0xffff;Z=((s(c,P)|0)+(z&0xffff)|0)+(ie&0xffff)|0;ee=((s(m,P)|0)+(z>>>16)|0)+(ie>>>16)|0;te=((s(c,D)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(m,D)|0)+(ee>>>16)|0)+(te>>>16)|0;z=te<<16|Z&0xffff;Y=ie;Z=((s(u,A)|0)+(H&0xffff)|0)+(J&0xffff)|0;ee=((s(g,A)|0)+(H>>>16)|0)+(J>>>16)|0;te=((s(u,x)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(g,x)|0)+(ee>>>16)|0)+(te>>>16)|0;H=te<<16|Z&0xffff;Z=((s(u,$)|0)+(K&0xffff)|0)+(ie&0xffff)|0;ee=((s(g,$)|0)+(K>>>16)|0)+(ie>>>16)|0;te=((s(u,I)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(g,I)|0)+(ee>>>16)|0)+(te>>>16)|0;K=te<<16|Z&0xffff;Z=((s(u,_)|0)+(G&0xffff)|0)+(ie&0xffff)|0;ee=((s(g,_)|0)+(G>>>16)|0)+(ie>>>16)|0;te=((s(u,k)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(g,k)|0)+(ee>>>16)|0)+(te>>>16)|0;G=te<<16|Z&0xffff;Z=((s(u,E)|0)+(V&0xffff)|0)+(ie&0xffff)|0;ee=((s(g,E)|0)+(V>>>16)|0)+(ie>>>16)|0;te=((s(u,M)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(g,M)|0)+(ee>>>16)|0)+(te>>>16)|0;V=te<<16|Z&0xffff;Z=((s(u,S)|0)+(X&0xffff)|0)+(ie&0xffff)|0;ee=((s(g,S)|0)+(X>>>16)|0)+(ie>>>16)|0;te=((s(u,B)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(g,B)|0)+(ee>>>16)|0)+(te>>>16)|0;X=te<<16|Z&0xffff;Z=((s(u,T)|0)+(W&0xffff)|0)+(ie&0xffff)|0;ee=((s(g,T)|0)+(W>>>16)|0)+(ie>>>16)|0;te=((s(u,R)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(g,R)|0)+(ee>>>16)|0)+(te>>>16)|0;W=te<<16|Z&0xffff;Z=((s(u,C)|0)+(z&0xffff)|0)+(ie&0xffff)|0;ee=((s(g,C)|0)+(z>>>16)|0)+(ie>>>16)|0;te=((s(u,N)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(g,N)|0)+(ee>>>16)|0)+(te>>>16)|0;z=te<<16|Z&0xffff;Z=((s(u,P)|0)+(Y&0xffff)|0)+(ie&0xffff)|0;ee=((s(g,P)|0)+(Y>>>16)|0)+(ie>>>16)|0;te=((s(u,D)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(g,D)|0)+(ee>>>16)|0)+(te>>>16)|0;Y=te<<16|Z&0xffff;J=ie;Z=((s(l,A)|0)+(K&0xffff)|0)+(q&0xffff)|0;ee=((s(v,A)|0)+(K>>>16)|0)+(q>>>16)|0;te=((s(l,x)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(v,x)|0)+(ee>>>16)|0)+(te>>>16)|0;K=te<<16|Z&0xffff;Z=((s(l,$)|0)+(G&0xffff)|0)+(ie&0xffff)|0;ee=((s(v,$)|0)+(G>>>16)|0)+(ie>>>16)|0;te=((s(l,I)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(v,I)|0)+(ee>>>16)|0)+(te>>>16)|0;G=te<<16|Z&0xffff;Z=((s(l,_)|0)+(V&0xffff)|0)+(ie&0xffff)|0;ee=((s(v,_)|0)+(V>>>16)|0)+(ie>>>16)|0;te=((s(l,k)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(v,k)|0)+(ee>>>16)|0)+(te>>>16)|0;V=te<<16|Z&0xffff;Z=((s(l,E)|0)+(X&0xffff)|0)+(ie&0xffff)|0;ee=((s(v,E)|0)+(X>>>16)|0)+(ie>>>16)|0;te=((s(l,M)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(v,M)|0)+(ee>>>16)|0)+(te>>>16)|0;X=te<<16|Z&0xffff;Z=((s(l,S)|0)+(W&0xffff)|0)+(ie&0xffff)|0;ee=((s(v,S)|0)+(W>>>16)|0)+(ie>>>16)|0;te=((s(l,B)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(v,B)|0)+(ee>>>16)|0)+(te>>>16)|0;W=te<<16|Z&0xffff;Z=((s(l,T)|0)+(z&0xffff)|0)+(ie&0xffff)|0;ee=((s(v,T)|0)+(z>>>16)|0)+(ie>>>16)|0;te=((s(l,R)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(v,R)|0)+(ee>>>16)|0)+(te>>>16)|0;z=te<<16|Z&0xffff;Z=((s(l,C)|0)+(Y&0xffff)|0)+(ie&0xffff)|0;ee=((s(v,C)|0)+(Y>>>16)|0)+(ie>>>16)|0;te=((s(l,N)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(v,N)|0)+(ee>>>16)|0)+(te>>>16)|0;Y=te<<16|Z&0xffff;Z=((s(l,P)|0)+(J&0xffff)|0)+(ie&0xffff)|0;ee=((s(v,P)|0)+(J>>>16)|0)+(ie>>>16)|0;te=((s(l,D)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(v,D)|0)+(ee>>>16)|0)+(te>>>16)|0;J=te<<16|Z&0xffff;q=ie;Z=((s(h,A)|0)+(G&0xffff)|0)+(Q&0xffff)|0;ee=((s(w,A)|0)+(G>>>16)|0)+(Q>>>16)|0;te=((s(h,x)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(w,x)|0)+(ee>>>16)|0)+(te>>>16)|0;G=te<<16|Z&0xffff;Z=((s(h,$)|0)+(V&0xffff)|0)+(ie&0xffff)|0;ee=((s(w,$)|0)+(V>>>16)|0)+(ie>>>16)|0;te=((s(h,I)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(w,I)|0)+(ee>>>16)|0)+(te>>>16)|0;V=te<<16|Z&0xffff;Z=((s(h,_)|0)+(X&0xffff)|0)+(ie&0xffff)|0;ee=((s(w,_)|0)+(X>>>16)|0)+(ie>>>16)|0;te=((s(h,k)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(w,k)|0)+(ee>>>16)|0)+(te>>>16)|0;X=te<<16|Z&0xffff;Z=((s(h,E)|0)+(W&0xffff)|0)+(ie&0xffff)|0;ee=((s(w,E)|0)+(W>>>16)|0)+(ie>>>16)|0;te=((s(h,M)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(w,M)|0)+(ee>>>16)|0)+(te>>>16)|0;W=te<<16|Z&0xffff;Z=((s(h,S)|0)+(z&0xffff)|0)+(ie&0xffff)|0;ee=((s(w,S)|0)+(z>>>16)|0)+(ie>>>16)|0;te=((s(h,B)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(w,B)|0)+(ee>>>16)|0)+(te>>>16)|0;z=te<<16|Z&0xffff;Z=((s(h,T)|0)+(Y&0xffff)|0)+(ie&0xffff)|0;ee=((s(w,T)|0)+(Y>>>16)|0)+(ie>>>16)|0;te=((s(h,R)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(w,R)|0)+(ee>>>16)|0)+(te>>>16)|0;Y=te<<16|Z&0xffff;Z=((s(h,C)|0)+(J&0xffff)|0)+(ie&0xffff)|0;ee=((s(w,C)|0)+(J>>>16)|0)+(ie>>>16)|0;te=((s(h,N)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(w,N)|0)+(ee>>>16)|0)+(te>>>16)|0;J=te<<16|Z&0xffff;Z=((s(h,P)|0)+(q&0xffff)|0)+(ie&0xffff)|0;ee=((s(w,P)|0)+(q>>>16)|0)+(ie>>>16)|0;te=((s(h,D)|0)+(ee&0xffff)|0)+(Z>>>16)|0;ie=((s(w,D)|0)+(ee>>>16)|0)+(te>>>16)|0;q=te<<16|Z&0xffff;Q=ie;le=fe+(ce+ue|0)|0;se=i[pe+le>>2]|0;Z=((se&0xffff)+((O&0xffff)<<1)|0)+re|0;te=((se>>>16)+(O>>>16<<1)|0)+(Z>>>16)|0;i[pe+le>>2]=te<<16|Z&0xffff;re=te>>>16;le=le+4|0;se=i[pe+le>>2]|0;Z=((se&0xffff)+((U&0xffff)<<1)|0)+re|0;te=((se>>>16)+(U>>>16<<1)|0)+(Z>>>16)|0;i[pe+le>>2]=te<<16|Z&0xffff;re=te>>>16;le=le+4|0;se=i[pe+le>>2]|0;Z=((se&0xffff)+((F&0xffff)<<1)|0)+re|0;te=((se>>>16)+(F>>>16<<1)|0)+(Z>>>16)|0;i[pe+le>>2]=te<<16|Z&0xffff;re=te>>>16;le=le+4|0;se=i[pe+le>>2]|0;Z=((se&0xffff)+((L&0xffff)<<1)|0)+re|0;te=((se>>>16)+(L>>>16<<1)|0)+(Z>>>16)|0;i[pe+le>>2]=te<<16|Z&0xffff;re=te>>>16;le=le+4|0;se=i[pe+le>>2]|0;Z=((se&0xffff)+((j&0xffff)<<1)|0)+re|0;te=((se>>>16)+(j>>>16<<1)|0)+(Z>>>16)|0;i[pe+le>>2]=te<<16|Z&0xffff;re=te>>>16;le=le+4|0;se=i[pe+le>>2]|0;Z=((se&0xffff)+((H&0xffff)<<1)|0)+re|0;te=((se>>>16)+(H>>>16<<1)|0)+(Z>>>16)|0;i[pe+le>>2]=te<<16|Z&0xffff;re=te>>>16;le=le+4|0;se=i[pe+le>>2]|0;Z=((se&0xffff)+((K&0xffff)<<1)|0)+re|0;te=((se>>>16)+(K>>>16<<1)|0)+(Z>>>16)|0;i[pe+le>>2]=te<<16|Z&0xffff;re=te>>>16;le=le+4|0;se=i[pe+le>>2]|0;Z=((se&0xffff)+((G&0xffff)<<1)|0)+re|0;te=((se>>>16)+(G>>>16<<1)|0)+(Z>>>16)|0;i[pe+le>>2]=te<<16|Z&0xffff;re=te>>>16}le=fe+(ce+ue|0)|0;se=i[pe+le>>2]|0;Z=(((se&0xffff)+((V&0xffff)<<1)|0)+re|0)+ne|0;te=((se>>>16)+(V>>>16<<1)|0)+(Z>>>16)|0;i[pe+le>>2]=te<<16|Z&0xffff;re=te>>>16;le=le+4|0;se=i[pe+le>>2]|0;Z=((se&0xffff)+((X&0xffff)<<1)|0)+re|0;te=((se>>>16)+(X>>>16<<1)|0)+(Z>>>16)|0;i[pe+le>>2]=te<<16|Z&0xffff;re=te>>>16;le=le+4|0;se=i[pe+le>>2]|0;Z=((se&0xffff)+((W&0xffff)<<1)|0)+re|0;te=((se>>>16)+(W>>>16<<1)|0)+(Z>>>16)|0;i[pe+le>>2]=te<<16|Z&0xffff;re=te>>>16;le=le+4|0;se=i[pe+le>>2]|0;Z=((se&0xffff)+((z&0xffff)<<1)|0)+re|0;te=((se>>>16)+(z>>>16<<1)|0)+(Z>>>16)|0;i[pe+le>>2]=te<<16|Z&0xffff;re=te>>>16;le=le+4|0;se=i[pe+le>>2]|0;Z=((se&0xffff)+((Y&0xffff)<<1)|0)+re|0;te=((se>>>16)+(Y>>>16<<1)|0)+(Z>>>16)|0;i[pe+le>>2]=te<<16|Z&0xffff;re=te>>>16;le=le+4|0;se=i[pe+le>>2]|0;Z=((se&0xffff)+((J&0xffff)<<1)|0)+re|0;te=((se>>>16)+(J>>>16<<1)|0)+(Z>>>16)|0;i[pe+le>>2]=te<<16|Z&0xffff;re=te>>>16;le=le+4|0;se=i[pe+le>>2]|0;Z=((se&0xffff)+((q&0xffff)<<1)|0)+re|0;te=((se>>>16)+(q>>>16<<1)|0)+(Z>>>16)|0;i[pe+le>>2]=te<<16|Z&0xffff;re=te>>>16;le=le+4|0;se=i[pe+le>>2]|0;Z=((se&0xffff)+((Q&0xffff)<<1)|0)+re|0;te=((se>>>16)+(Q>>>16<<1)|0)+(Z>>>16)|0;i[pe+le>>2]=te<<16|Z&0xffff;ne=te>>>16}for(le=le+4|0;!!ne&(le|0)<ae<<1;le=le+4|0){se=i[pe+le>>2]|0;Z=(se&0xffff)+ne|0;te=(se>>>16)+(Z>>>16)|0;i[pe+le>>2]=te<<16|Z&0xffff;ne=te>>>16}}}}function g(e,t,r,n,f){e=e|0;t=t|0;r=r|0;n=n|0;f=f|0;var a=0,o=0,c=0,u=0,l=0,h=0,d=0,p=0,y=0,b=0,m=0,g=0,v=0,w=0,A=0,$=0,_=0,E=0,S=0;for(_=t-1&-4;(_|0)>=0;_=_-4|0){a=i[e+_>>2]|0;if(a){t=_;break}}for(_=n-1&-4;(_|0)>=0;_=_-4|0){o=i[r+_>>2]|0;if(o){n=_;break}}while((o&0x80000000)==0){o=o<<1;c=c+1|0}l=i[e+t>>2]|0;if(c){u=l>>>(32-c|0);for(_=t-4|0;(_|0)>=0;_=_-4|0){a=i[e+_>>2]|0;i[e+_+4>>2]=l<<c|(c?a>>>(32-c|0):0);l=a}i[e>>2]=l<<c}if(c){h=i[r+n>>2]|0;for(_=n-4|0;(_|0)>=0;_=_-4|0){o=i[r+_>>2]|0;i[r+_+4>>2]=h<<c|o>>>(32-c|0);h=o}i[r>>2]=h<<c}h=i[r+n>>2]|0;d=h>>>16,p=h&0xffff;for(_=t;(_|0)>=(n|0);_=_-4|0){E=_-n|0;l=i[e+_>>2]|0;y=(u>>>0)/(d>>>0)|0,m=(u>>>0)%(d>>>0)|0,v=s(y,p)|0;while((y|0)==0x10000|v>>>0>(m<<16|l>>>16)>>>0){y=y-1|0,m=m+d|0,v=v-p|0;if((m|0)>=0x10000)break}A=0,$=0;for(S=0;(S|0)<=(n|0);S=S+4|0){o=i[r+S>>2]|0;v=(s(y,o&0xffff)|0)+(A>>>16)|0;w=(s(y,o>>>16)|0)+(v>>>16)|0;o=A&0xffff|v<<16;A=w;a=i[e+E+S>>2]|0;v=((a&0xffff)-(o&0xffff)|0)+$|0;w=((a>>>16)-(o>>>16)|0)+(v>>16)|0;i[e+E+S>>2]=w<<16|v&0xffff;$=w>>16}v=((u&0xffff)-(A&0xffff)|0)+$|0;w=((u>>>16)-(A>>>16)|0)+(v>>16)|0;u=w<<16|v&0xffff;$=w>>16;if($){y=y-1|0;$=0;for(S=0;(S|0)<=(n|0);S=S+4|0){o=i[r+S>>2]|0;a=i[e+E+S>>2]|0;v=(a&0xffff)+$|0;w=(a>>>16)+o+(v>>>16)|0;i[e+E+S>>2]=w<<16|v&0xffff;$=w>>>16}u=u+$|0}l=i[e+_>>2]|0;a=u<<16|l>>>16;b=(a>>>0)/(d>>>0)|0,g=(a>>>0)%(d>>>0)|0,v=s(b,p)|0;while((b|0)==0x10000|v>>>0>(g<<16|l&0xffff)>>>0){b=b-1|0,g=g+d|0,v=v-p|0;if((g|0)>=0x10000)break}A=0,$=0;for(S=0;(S|0)<=(n|0);S=S+4|0){o=i[r+S>>2]|0;v=(s(b,o&0xffff)|0)+(A&0xffff)|0;w=((s(b,o>>>16)|0)+(v>>>16)|0)+(A>>>16)|0;o=v&0xffff|w<<16;A=w>>>16;a=i[e+E+S>>2]|0;v=((a&0xffff)-(o&0xffff)|0)+$|0;w=((a>>>16)-(o>>>16)|0)+(v>>16)|0;$=w>>16;i[e+E+S>>2]=w<<16|v&0xffff}v=((u&0xffff)-(A&0xffff)|0)+$|0;w=((u>>>16)-(A>>>16)|0)+(v>>16)|0;$=w>>16;if($){b=b-1|0;$=0;for(S=0;(S|0)<=(n|0);S=S+4|0){o=i[r+S>>2]|0;a=i[e+E+S>>2]|0;v=((a&0xffff)+(o&0xffff)|0)+$|0;w=((a>>>16)+(o>>>16)|0)+(v>>>16)|0;$=w>>>16;i[e+E+S>>2]=v&0xffff|w<<16}}i[f+E>>2]=y<<16|b;u=i[e+_>>2]|0}if(c){l=i[e>>2]|0;for(_=4;(_|0)<=(n|0);_=_+4|0){a=i[e+_>>2]|0;i[e+_-4>>2]=a<<(32-c|0)|l>>>c;l=a}i[e+n>>2]=l>>>c}}function v(e,t,r,n,f,l){e=e|0;t=t|0;r=r|0;n=n|0;f=f|0;l=l|0;var d=0,p=0,b=0,m=0,g=0,v=0,w=0,A=0,$=0,_=0,E=0,S=0,T=0,C=0;d=a(n<<1)|0;u(n<<1,0,d);c(t,e,d);for(S=0;(S|0)<(n|0);S=S+4|0){b=i[d+S>>2]|0,m=b&0xffff,b=b>>>16;v=f>>>16,g=f&0xffff;w=s(m,g)|0,A=((s(m,v)|0)+(s(b,g)|0)|0)+(w>>>16)|0;m=w&0xffff,b=A&0xffff;E=0;for(T=0;(T|0)<(n|0);T=T+4|0){C=S+T|0;v=i[r+T>>2]|0,g=v&0xffff,v=v>>>16;_=i[d+C>>2]|0;w=((s(m,g)|0)+(E&0xffff)|0)+(_&0xffff)|0;A=((s(m,v)|0)+(E>>>16)|0)+(_>>>16)|0;$=((s(b,g)|0)+(A&0xffff)|0)+(w>>>16)|0;E=((s(b,v)|0)+($>>>16)|0)+(A>>>16)|0;_=$<<16|w&0xffff;i[d+C>>2]=_}C=S+T|0;_=i[d+C>>2]|0;w=((_&0xffff)+(E&0xffff)|0)+p|0;A=((_>>>16)+(E>>>16)|0)+(w>>>16)|0;i[d+C>>2]=A<<16|w&0xffff;p=A>>>16}c(n,d+n|0,l);o(n<<1);if(p|(h(r,n,l,n)|0)<=0){y(l,n,r,n,l,n)|0}}return{sreset:f,salloc:a,sfree:o,z:u,tst:d,neg:l,cmp:h,add:p,sub:y,mul:b,sqr:m,div:g,mredc:v}};function Number_extGCD(e,t){var r=e<0?-1:1,n=t<0?-1:1,i=1,s=0,f=0,a=1,o,c,u,l;e*=r;t*=n;l=e<t;if(l){u=e;e=t,t=u;u=r;r=n;n=u}c=Math.floor(e/t),o=e-c*t;while(o){u=i-c*s,i=s,s=u;u=f-c*a,f=a,a=u;e=t,t=o;c=Math.floor(e/t),o=e-c*t}s*=r;a*=n;if(l){u=s;s=a,a=u}return{gcd:t,x:s,y:a}}function BigNumber_extGCD(e,t){let r=e.sign;let n=t.sign;if(r<0)e=e.negate();if(n<0)t=t.negate();const i=e.compare(t);if(i<0){let i=e;e=t,t=i;let s=r;r=n;n=s}var s=BigNumber$1.ONE,f=BigNumber$1.ZERO,a=t.bitLength,o=BigNumber$1.ZERO,c=BigNumber$1.ONE,u=e.bitLength,l,h,d;l=e.divide(t);while((h=l.remainder)!==BigNumber$1.ZERO){d=l.quotient;l=s.subtract(d.multiply(f).clamp(a)).clamp(a),s=f,f=l;l=o.subtract(d.multiply(c).clamp(u)).clamp(u),o=c,c=l;e=t,t=h;l=e.divide(t)}if(r<0)f=f.negate();if(n<0)c=c.negate();if(i<0){let e=f;f=c,c=e}return{gcd:t,x:f,y:c}}function getRandomValues(e){if(typeof process!=="undefined"){const t=require("crypto");const r=t.randomBytes(e.length);e.set(r);return}if(window.crypto&&window.crypto.getRandomValues){window.crypto.getRandomValues(e);return}if(self.crypto&&self.crypto.getRandomValues){self.crypto.getRandomValues(e);return}if(window.msCrypto&&window.msCrypto.getRandomValues){window.msCrypto.getRandomValues(e);return}throw new Error("No secure random number generator available.")}const _bigint_stdlib={Uint32Array,Math};const _bigint_heap=new Uint32Array(1048576);let _bigint_asm;function _half_imul(e,t){return e*t|0}if(_bigint_stdlib.Math.imul===undefined){_bigint_stdlib.Math.imul=_half_imul;_bigint_asm=bigint_asm(_bigint_stdlib,null,_bigint_heap.buffer);delete _bigint_stdlib.Math.imul}else{_bigint_asm=bigint_asm(_bigint_stdlib,null,_bigint_heap.buffer)}const _BigNumber_ZERO_limbs=new Uint32Array(0);class BigNumber$1{constructor(e){let t=_BigNumber_ZERO_limbs;let r=0;let n=0;if(e===undefined);else{for(var i=0;!e[i];i++);r=(e.length-i)*8;if(!r)return BigNumber$1.ZERO;t=new Uint32Array(r+31>>5);for(var s=e.length-4;s>=i;s-=4){t[e.length-4-s>>2]=e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]}if(i-s===3){t[t.length-1]=e[i]}else if(i-s===2){t[t.length-1]=e[i]<<8|e[i+1]}else if(i-s===1){t[t.length-1]=e[i]<<16|e[i+1]<<8|e[i+2]}n=1}this.limbs=t;this.bitLength=r;this.sign=n}static fromString(e){const t=string_to_bytes(e);return new BigNumber$1(t)}static fromNumber(e){let t=_BigNumber_ZERO_limbs;let r=0;let n=0;var i=Math.abs(e);if(i>4294967295){t=new Uint32Array(2);t[0]=i|0;t[1]=i/4294967296|0;r=52}else if(i>0){t=new Uint32Array(1);t[0]=i;r=32}else{t=_BigNumber_ZERO_limbs;r=0}n=e<0?-1:1;return BigNumber$1.fromConfig({limbs:t,bitLength:r,sign:n})}static fromArrayBuffer(e){return new BigNumber$1(new Uint8Array(e))}static fromConfig(e){const t=new BigNumber$1;t.limbs=new Uint32Array(e.limbs);t.bitLength=e.bitLength;t.sign=e.sign;return t}toString(e){e=e||16;const t=this.limbs;const r=this.bitLength;let n="";if(e===16){for(var i=(r+31>>5)-1;i>=0;i--){var s=t[i].toString(16);n+="00000000".substr(s.length);n+=s}n=n.replace(/^0+/,"");if(!n.length)n="0"}else{throw new IllegalArgumentError("bad radix")}if(this.sign<0)n="-"+n;return n}toBytes(){const e=this.bitLength;const t=this.limbs;if(e===0)return new Uint8Array(0);const r=e+7>>3;const n=new Uint8Array(r);for(let e=0;e<r;e++){let i=r-e-1;n[e]=t[i>>2]>>((i&3)<<3)}return n}valueOf(){const e=this.limbs;const t=this.bitLength;const r=this.sign;if(!r)return 0;if(t<=32)return r*(e[0]>>>0);if(t<=52)return r*(4294967296*(e[1]>>>0)+(e[0]>>>0));let n,i,s=0;for(n=e.length-1;n>=0;n--){if((i=e[n])===0)continue;while((i<<s&2147483648)===0)s++;break}if(n===0)return r*(e[0]>>>0);return r*(1048576*((e[n]<<s|(s?e[n-1]>>>32-s:0))>>>0)+((e[n-1]<<s|(s&&n>1?e[n-2]>>>32-s:0))>>>12))*Math.pow(2,32*n-s-52)}clamp(e){const t=this.limbs;const r=this.bitLength;if(e>=r)return this;const n=new BigNumber$1;let i=e+31>>5;let s=e%32;n.limbs=new Uint32Array(t.subarray(0,i));n.bitLength=e;n.sign=this.sign;if(s)n.limbs[i-1]&=-1>>>32-s;return n}slice(e,t){const r=this.limbs;const n=this.bitLength;if(e<0)throw new RangeError("TODO");if(e>=n)return BigNumber$1.ZERO;if(t===undefined||t>n-e)t=n-e;const i=new BigNumber$1;let s=e>>5;let f=e+t+31>>5;let a=t+31>>5;let o=e%32;let c=t%32;const u=new Uint32Array(a);if(o){for(var l=0;l<f-s-1;l++){u[l]=r[s+l]>>>o|r[s+l+1]<<32-o}u[l]=r[s+l]>>>o}else{u.set(r.subarray(s,f))}if(c){u[a-1]&=-1>>>32-c}i.limbs=u;i.bitLength=t;i.sign=this.sign;return i}negate(){const e=new BigNumber$1;e.limbs=this.limbs;e.bitLength=this.bitLength;e.sign=-1*this.sign;return e}compare(e){var t=this.limbs,r=t.length,n=e.limbs,i=n.length,s=0;if(this.sign<e.sign)return-1;if(this.sign>e.sign)return 1;_bigint_heap.set(t,0);_bigint_heap.set(n,r);s=_bigint_asm.cmp(0,r<<2,r<<2,i<<2);return s*this.sign}add(e){if(!this.sign)return e;if(!e.sign)return this;var t=this.bitLength,r=this.limbs,n=r.length,i=this.sign,s=e.bitLength,f=e.limbs,a=f.length,o=e.sign,c,u,l,h,d=new BigNumber$1;c=(t>s?t:s)+(i*o>0?1:0);u=c+31>>5;_bigint_asm.sreset();var p=_bigint_asm.salloc(n<<2),y=_bigint_asm.salloc(a<<2),b=_bigint_asm.salloc(u<<2);_bigint_asm.z(b-p+(u<<2),0,p);_bigint_heap.set(r,p>>2);_bigint_heap.set(f,y>>2);if(i*o>0){_bigint_asm.add(p,n<<2,y,a<<2,b,u<<2);l=i}else if(i>o){h=_bigint_asm.sub(p,n<<2,y,a<<2,b,u<<2);l=h?o:i}else{h=_bigint_asm.sub(y,a<<2,p,n<<2,b,u<<2);l=h?i:o}if(h)_bigint_asm.neg(b,u<<2,b,u<<2);if(_bigint_asm.tst(b,u<<2)===0)return BigNumber$1.ZERO;d.limbs=new Uint32Array(_bigint_heap.subarray(b>>2,(b>>2)+u));d.bitLength=c;d.sign=l;return d}subtract(e){return this.add(e.negate())}square(){if(!this.sign)return BigNumber$1.ZERO;var e=this.bitLength,t=this.limbs,r=t.length,n,i,s=new BigNumber$1;n=e<<1;i=n+31>>5;_bigint_asm.sreset();var f=_bigint_asm.salloc(r<<2),a=_bigint_asm.salloc(i<<2);_bigint_asm.z(a-f+(i<<2),0,f);_bigint_heap.set(t,f>>2);_bigint_asm.sqr(f,r<<2,a);s.limbs=new Uint32Array(_bigint_heap.subarray(a>>2,(a>>2)+i));s.bitLength=n;s.sign=1;return s}divide(e){var t=this.bitLength,r=this.limbs,n=r.length,i=e.bitLength,s=e.limbs,f=s.length,a,o,c=BigNumber$1.ZERO,u=BigNumber$1.ZERO;_bigint_asm.sreset();var l=_bigint_asm.salloc(n<<2),h=_bigint_asm.salloc(f<<2),d=_bigint_asm.salloc(n<<2);_bigint_asm.z(d-l+(n<<2),0,l);_bigint_heap.set(r,l>>2);_bigint_heap.set(s,h>>2);_bigint_asm.div(l,n<<2,h,f<<2,d);a=_bigint_asm.tst(d,n<<2)>>2;if(a){c=new BigNumber$1;c.limbs=new Uint32Array(_bigint_heap.subarray(d>>2,(d>>2)+a));c.bitLength=t<a<<5?t:a<<5;c.sign=this.sign*e.sign}o=_bigint_asm.tst(l,f<<2)>>2;if(o){u=new BigNumber$1;u.limbs=new Uint32Array(_bigint_heap.subarray(l>>2,(l>>2)+o));u.bitLength=i<o<<5?i:o<<5;u.sign=this.sign}return{quotient:c,remainder:u}}multiply(e){if(!this.sign||!e.sign)return BigNumber$1.ZERO;var t=this.bitLength,r=this.limbs,n=r.length,i=e.bitLength,s=e.limbs,f=s.length,a,o,c=new BigNumber$1;a=t+i;o=a+31>>5;_bigint_asm.sreset();var u=_bigint_asm.salloc(n<<2),l=_bigint_asm.salloc(f<<2),h=_bigint_asm.salloc(o<<2);_bigint_asm.z(h-u+(o<<2),0,u);_bigint_heap.set(r,u>>2);_bigint_heap.set(s,l>>2);_bigint_asm.mul(u,n<<2,l,f<<2,h,o<<2);c.limbs=new Uint32Array(_bigint_heap.subarray(h>>2,(h>>2)+o));c.sign=this.sign*e.sign;c.bitLength=a;return c}isMillerRabinProbablePrime(e){var t=BigNumber$1.fromConfig(this),r=0;t.limbs[0]-=1;while(t.limbs[r>>5]===0)r+=32;while((t.limbs[r>>5]>>(r&31)&1)===0)r++;t=t.slice(r);var n=new Modulus(this),i=this.subtract(BigNumber$1.ONE),s=BigNumber$1.fromConfig(this),f=this.limbs.length-1;while(s.limbs[f]===0)f--;while(--e>=0){getRandomValues(s.limbs);if(s.limbs[0]<2)s.limbs[0]+=2;while(s.compare(i)>=0)s.limbs[f]>>>=1;var a=n.power(s,t);if(a.compare(BigNumber$1.ONE)===0)continue;if(a.compare(i)===0)continue;var o=r;while(--o>0){a=a.square().divide(n).remainder;if(a.compare(BigNumber$1.ONE)===0)return false;if(a.compare(i)===0)break}if(o===0)return false}return true}isProbablePrime(e=80){var t=this.limbs;var r=0;if((t[0]&1)===0)return false;if(e<=1)return true;var n=0,i=0,s=0;for(r=0;r<t.length;r++){var f=t[r];while(f){n+=f&3;f>>>=2}var a=t[r];while(a){i+=a&3;a>>>=2;i-=a&3;a>>>=2}var o=t[r];while(o){s+=o&15;o>>>=4;s-=o&15;o>>>=4}}if(!(n%3)||!(i%5)||!(s%17))return false;if(e<=2)return true;return this.isMillerRabinProbablePrime(e>>>1)}}BigNumber$1.extGCD=BigNumber_extGCD;BigNumber$1.ZERO=BigNumber$1.fromNumber(0);BigNumber$1.ONE=BigNumber$1.fromNumber(1);class Modulus extends BigNumber$1{constructor(e){super();this.limbs=e.limbs;this.bitLength=e.bitLength;this.sign=e.sign;if(this.valueOf()<1)throw new RangeError;if(this.bitLength<=32)return;let t;if(this.limbs[0]&1){const e=(this.bitLength+31&-32)+1;const r=new Uint32Array(e+31>>5);r[r.length-1]=1;t=new BigNumber$1;t.sign=1;t.bitLength=e;t.limbs=r;const n=Number_extGCD(4294967296,this.limbs[0]).y;this.coefficient=n<0?-n:4294967296-n}else{return}this.comodulus=t;this.comodulusRemainder=t.divide(this).remainder;this.comodulusRemainderSquare=t.square().divide(this).remainder}reduce(e){if(e.bitLength<=32&&this.bitLength<=32)return BigNumber$1.fromNumber(e.valueOf()%this.valueOf());if(e.compare(this)<0)return e;return e.divide(this).remainder}inverse(e){e=this.reduce(e);const t=BigNumber_extGCD(this,e);if(t.gcd.valueOf()!==1)throw new Error("GCD is not 1");if(t.y.sign<0)return t.y.add(this).clamp(this.bitLength);return t.y}power(e,t){let r=0;for(let e=0;e<t.limbs.length;e++){let n=t.limbs[e];while(n){if(n&1)r++;n>>>=1}}let n=8;if(t.bitLength<=4536)n=7;if(t.bitLength<=1736)n=6;if(t.bitLength<=630)n=5;if(t.bitLength<=210)n=4;if(t.bitLength<=60)n=3;if(t.bitLength<=12)n=2;if(r<=1<<n-1)n=1;e=Modulus._Montgomery_reduce(this.reduce(e).multiply(this.comodulusRemainderSquare),this);const i=Modulus._Montgomery_reduce(e.square(),this),s=new Array(1<<n-1);s[0]=e;s[1]=Modulus._Montgomery_reduce(e.multiply(i),this);for(let e=2;e<1<<n-1;e++){s[e]=Modulus._Montgomery_reduce(s[e-1].multiply(i),this)}const f=this.comodulusRemainder;let a=f;for(let e=t.limbs.length-1;e>=0;e--){let r=t.limbs[e];for(let e=32;e>0;){if(r&2147483648){let t=r>>>32-n,i=n;while((t&1)===0){t>>>=1;i--}var o=s[t>>>1];while(t){t>>>=1;if(a!==f)a=Modulus._Montgomery_reduce(a.square(),this)}a=a!==f?Modulus._Montgomery_reduce(a.multiply(o),this):o;r<<=i,e-=i}else{if(a!==f)a=Modulus._Montgomery_reduce(a.square(),this);r<<=1,e--}}}return Modulus._Montgomery_reduce(a,this)}static _Montgomery_reduce(e,t){const r=e.limbs;const n=r.length;const i=t.limbs;const s=i.length;const f=t.coefficient;_bigint_asm.sreset();const a=_bigint_asm.salloc(n<<2),o=_bigint_asm.salloc(s<<2),c=_bigint_asm.salloc(s<<2);_bigint_asm.z(c-a+(s<<2),0,a);_bigint_heap.set(r,a>>2);_bigint_heap.set(i,o>>2);_bigint_asm.mredc(a,n<<2,o,s<<2,f,c);const u=new BigNumber$1;u.limbs=new Uint32Array(_bigint_heap.subarray(c>>2,(c>>2)+s));u.bitLength=t.bitLength;u.sign=1;return u}}var sha1_asm=function(e,t,r){"use asm";var n=0,i=0,s=0,f=0,a=0,o=0,c=0;var u=0,l=0,h=0,d=0,p=0,y=0,b=0,m=0,g=0,v=0;var w=new e.Uint8Array(r);function A(e,t,r,o,c,u,l,h,d,p,y,b,m,g,v,w){e=e|0;t=t|0;r=r|0;o=o|0;c=c|0;u=u|0;l=l|0;h=h|0;d=d|0;p=p|0;y=y|0;b=b|0;m=m|0;g=g|0;v=v|0;w=w|0;var A=0,$=0,_=0,E=0,S=0,T=0,C=0,P=0,x=0,I=0,k=0,M=0,B=0,R=0,N=0,D=0,O=0,U=0,F=0,L=0,j=0,H=0,K=0,G=0,V=0,X=0,W=0,z=0,Y=0,J=0,q=0,Q=0,Z=0,ee=0,te=0,re=0,ne=0,ie=0,se=0,fe=0,ae=0,oe=0,ce=0,ue=0,le=0,he=0,de=0,pe=0,ye=0,be=0,me=0,ge=0,ve=0,we=0,Ae=0,$e=0,_e=0,Ee=0,Se=0,Te=0,Ce=0,Pe=0,xe=0,Ie=0,ke=0,Me=0,Be=0,Re=0,Ne=0,De=0,Oe=0;A=n;$=i;_=s;E=f;S=a;C=e+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;C=t+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;C=r+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;C=o+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;C=c+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;C=u+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;C=l+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;C=h+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;C=d+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;C=p+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;C=y+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;C=b+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;C=m+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;C=g+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;C=v+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;C=w+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=g^d^r^e;P=T<<1|T>>>31;C=P+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=v^p^o^t;x=T<<1|T>>>31;C=x+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=w^y^c^r;I=T<<1|T>>>31;C=I+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=P^b^u^o;k=T<<1|T>>>31;C=k+(A<<5|A>>>27)+S+($&_|~$&E)+0x5a827999|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=x^m^l^c;M=T<<1|T>>>31;C=M+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=I^g^h^u;B=T<<1|T>>>31;C=B+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=k^v^d^l;R=T<<1|T>>>31;C=R+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=M^w^p^h;N=T<<1|T>>>31;C=N+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=B^P^y^d;D=T<<1|T>>>31;C=D+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=R^x^b^p;O=T<<1|T>>>31;C=O+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=N^I^m^y;U=T<<1|T>>>31;C=U+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=D^k^g^b;F=T<<1|T>>>31;C=F+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=O^M^v^m;L=T<<1|T>>>31;C=L+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=U^B^w^g;j=T<<1|T>>>31;C=j+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=F^R^P^v;H=T<<1|T>>>31;C=H+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=L^N^x^w;K=T<<1|T>>>31;C=K+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=j^D^I^P;G=T<<1|T>>>31;C=G+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=H^O^k^x;V=T<<1|T>>>31;C=V+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=K^U^M^I;X=T<<1|T>>>31;C=X+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=G^F^B^k;W=T<<1|T>>>31;C=W+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=V^L^R^M;z=T<<1|T>>>31;C=z+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=X^j^N^B;Y=T<<1|T>>>31;C=Y+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=W^H^D^R;J=T<<1|T>>>31;C=J+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=z^K^O^N;q=T<<1|T>>>31;C=q+(A<<5|A>>>27)+S+($^_^E)+0x6ed9eba1|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=Y^G^U^D;Q=T<<1|T>>>31;C=Q+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=J^V^F^O;Z=T<<1|T>>>31;C=Z+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=q^X^L^U;ee=T<<1|T>>>31;C=ee+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=Q^W^j^F;te=T<<1|T>>>31;C=te+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=Z^z^H^L;re=T<<1|T>>>31;C=re+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=ee^Y^K^j;ne=T<<1|T>>>31;C=ne+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=te^J^G^H;ie=T<<1|T>>>31;C=ie+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=re^q^V^K;se=T<<1|T>>>31;C=se+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=ne^Q^X^G;fe=T<<1|T>>>31;C=fe+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=ie^Z^W^V;ae=T<<1|T>>>31;C=ae+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=se^ee^z^X;oe=T<<1|T>>>31;C=oe+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=fe^te^Y^W;ce=T<<1|T>>>31;C=ce+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=ae^re^J^z;ue=T<<1|T>>>31;C=ue+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=oe^ne^q^Y;le=T<<1|T>>>31;C=le+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=ce^ie^Q^J;he=T<<1|T>>>31;C=he+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=ue^se^Z^q;de=T<<1|T>>>31;C=de+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=le^fe^ee^Q;pe=T<<1|T>>>31;C=pe+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=he^ae^te^Z;ye=T<<1|T>>>31;C=ye+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=de^oe^re^ee;be=T<<1|T>>>31;C=be+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=pe^ce^ne^te;me=T<<1|T>>>31;C=me+(A<<5|A>>>27)+S+($&_|$&E|_&E)-0x70e44324|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=ye^ue^ie^re;ge=T<<1|T>>>31;C=ge+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=be^le^se^ne;ve=T<<1|T>>>31;C=ve+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=me^he^fe^ie;we=T<<1|T>>>31;C=we+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=ge^de^ae^se;Ae=T<<1|T>>>31;C=Ae+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=ve^pe^oe^fe;$e=T<<1|T>>>31;C=$e+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=we^ye^ce^ae;_e=T<<1|T>>>31;C=_e+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=Ae^be^ue^oe;Ee=T<<1|T>>>31;C=Ee+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=$e^me^le^ce;Se=T<<1|T>>>31;C=Se+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=_e^ge^he^ue;Te=T<<1|T>>>31;C=Te+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=Ee^ve^de^le;Ce=T<<1|T>>>31;C=Ce+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=Se^we^pe^he;Pe=T<<1|T>>>31;C=Pe+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=Te^Ae^ye^de;xe=T<<1|T>>>31;C=xe+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=Ce^$e^be^pe;Ie=T<<1|T>>>31;C=Ie+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=Pe^_e^me^ye;ke=T<<1|T>>>31;C=ke+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=xe^Ee^ge^be;Me=T<<1|T>>>31;C=Me+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=Ie^Se^ve^me;Be=T<<1|T>>>31;C=Be+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=ke^Te^we^ge;Re=T<<1|T>>>31;C=Re+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=Me^Ce^Ae^ve;Ne=T<<1|T>>>31;C=Ne+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=Be^Pe^$e^we;De=T<<1|T>>>31;C=De+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;T=Re^xe^_e^Ae;Oe=T<<1|T>>>31;C=Oe+(A<<5|A>>>27)+S+($^_^E)-0x359d3e2a|0;S=E;E=_;_=$<<30|$>>>2;$=A;A=C;n=n+A|0;i=i+$|0;s=s+_|0;f=f+E|0;a=a+S|0}function $(e){e=e|0;A(w[e|0]<<24|w[e|1]<<16|w[e|2]<<8|w[e|3],w[e|4]<<24|w[e|5]<<16|w[e|6]<<8|w[e|7],w[e|8]<<24|w[e|9]<<16|w[e|10]<<8|w[e|11],w[e|12]<<24|w[e|13]<<16|w[e|14]<<8|w[e|15],w[e|16]<<24|w[e|17]<<16|w[e|18]<<8|w[e|19],w[e|20]<<24|w[e|21]<<16|w[e|22]<<8|w[e|23],w[e|24]<<24|w[e|25]<<16|w[e|26]<<8|w[e|27],w[e|28]<<24|w[e|29]<<16|w[e|30]<<8|w[e|31],w[e|32]<<24|w[e|33]<<16|w[e|34]<<8|w[e|35],w[e|36]<<24|w[e|37]<<16|w[e|38]<<8|w[e|39],w[e|40]<<24|w[e|41]<<16|w[e|42]<<8|w[e|43],w[e|44]<<24|w[e|45]<<16|w[e|46]<<8|w[e|47],w[e|48]<<24|w[e|49]<<16|w[e|50]<<8|w[e|51],w[e|52]<<24|w[e|53]<<16|w[e|54]<<8|w[e|55],w[e|56]<<24|w[e|57]<<16|w[e|58]<<8|w[e|59],w[e|60]<<24|w[e|61]<<16|w[e|62]<<8|w[e|63])}function _(e){e=e|0;w[e|0]=n>>>24;w[e|1]=n>>>16&255;w[e|2]=n>>>8&255;w[e|3]=n&255;w[e|4]=i>>>24;w[e|5]=i>>>16&255;w[e|6]=i>>>8&255;w[e|7]=i&255;w[e|8]=s>>>24;w[e|9]=s>>>16&255;w[e|10]=s>>>8&255;w[e|11]=s&255;w[e|12]=f>>>24;w[e|13]=f>>>16&255;w[e|14]=f>>>8&255;w[e|15]=f&255;w[e|16]=a>>>24;w[e|17]=a>>>16&255;w[e|18]=a>>>8&255;w[e|19]=a&255}function E(){n=0x67452301;i=0xefcdab89;s=0x98badcfe;f=0x10325476;a=0xc3d2e1f0;o=c=0}function S(e,t,r,u,l,h,d){e=e|0;t=t|0;r=r|0;u=u|0;l=l|0;h=h|0;d=d|0;n=e;i=t;s=r;f=u;a=l;o=h;c=d}function T(e,t){e=e|0;t=t|0;var r=0;if(e&63)return-1;while((t|0)>=64){$(e);e=e+64|0;t=t-64|0;r=r+64|0}o=o+r|0;if(o>>>0<r>>>0)c=c+1|0;return r|0}function C(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0;if(e&63)return-1;if(~r)if(r&31)return-1;if((t|0)>=64){n=T(e,t)|0;if((n|0)==-1)return-1;e=e+n|0;t=t-n|0}n=n+t|0;o=o+t|0;if(o>>>0<t>>>0)c=c+1|0;w[e|t]=0x80;if((t|0)>=56){for(i=t+1|0;(i|0)<64;i=i+1|0)w[e|i]=0x00;$(e);t=0;w[e|0]=0}for(i=t+1|0;(i|0)<59;i=i+1|0)w[e|i]=0;w[e|56]=c>>>21&255;w[e|57]=c>>>13&255;w[e|58]=c>>>5&255;w[e|59]=c<<3&255|o>>>29;w[e|60]=o>>>21&255;w[e|61]=o>>>13&255;w[e|62]=o>>>5&255;w[e|63]=o<<3&255;$(e);if(~r)_(r);return n|0}function P(){n=u;i=l;s=h;f=d;a=p;o=64;c=0}function x(){n=y;i=b;s=m;f=g;a=v;o=64;c=0}function I(e,t,r,w,$,_,S,T,C,P,x,I,k,M,B,R){e=e|0;t=t|0;r=r|0;w=w|0;$=$|0;_=_|0;S=S|0;T=T|0;C=C|0;P=P|0;x=x|0;I=I|0;k=k|0;M=M|0;B=B|0;R=R|0;E();A(e^0x5c5c5c5c,t^0x5c5c5c5c,r^0x5c5c5c5c,w^0x5c5c5c5c,$^0x5c5c5c5c,_^0x5c5c5c5c,S^0x5c5c5c5c,T^0x5c5c5c5c,C^0x5c5c5c5c,P^0x5c5c5c5c,x^0x5c5c5c5c,I^0x5c5c5c5c,k^0x5c5c5c5c,M^0x5c5c5c5c,B^0x5c5c5c5c,R^0x5c5c5c5c);y=n;b=i;m=s;g=f;v=a;E();A(e^0x36363636,t^0x36363636,r^0x36363636,w^0x36363636,$^0x36363636,_^0x36363636,S^0x36363636,T^0x36363636,C^0x36363636,P^0x36363636,x^0x36363636,I^0x36363636,k^0x36363636,M^0x36363636,B^0x36363636,R^0x36363636);u=n;l=i;h=s;d=f;p=a;o=64;c=0}function k(e,t,r){e=e|0;t=t|0;r=r|0;var o=0,c=0,u=0,l=0,h=0,d=0;if(e&63)return-1;if(~r)if(r&31)return-1;d=C(e,t,-1)|0;o=n,c=i,u=s,l=f,h=a;x();A(o,c,u,l,h,0x80000000,0,0,0,0,0,0,0,0,0,672);if(~r)_(r);return d|0}function M(e,t,r,o,c){e=e|0;t=t|0;r=r|0;o=o|0;c=c|0;var u=0,l=0,h=0,d=0,p=0,y=0,b=0,m=0,g=0,v=0;if(e&63)return-1;if(~c)if(c&31)return-1;w[e+t|0]=r>>>24;w[e+t+1|0]=r>>>16&255;w[e+t+2|0]=r>>>8&255;w[e+t+3|0]=r&255;k(e,t+4|0,-1)|0;u=y=n,l=b=i,h=m=s,d=g=f,p=v=a;o=o-1|0;while((o|0)>0){P();A(y,b,m,g,v,0x80000000,0,0,0,0,0,0,0,0,0,672);y=n,b=i,m=s,g=f,v=a;x();A(y,b,m,g,v,0x80000000,0,0,0,0,0,0,0,0,0,672);y=n,b=i,m=s,g=f,v=a;u=u^n;l=l^i;h=h^s;d=d^f;p=p^a;o=o-1|0}n=u;i=l;s=h;f=d;a=p;if(~c)_(c);return 0}return{reset:E,init:S,process:T,finish:C,hmac_reset:P,hmac_init:I,hmac_finish:k,pbkdf2_generate_block:M}};class Hash{constructor(){this.pos=0;this.len=0}reset(){this.result=null;this.pos=0;this.len=0;this.asm.reset();return this}process(e){if(this.result!==null)throw new IllegalStateError("state must be reset before processing new data");let t=this.asm;let r=this.heap;let n=this.pos;let i=this.len;let s=0;let f=e.length;let a=0;while(f>0){a=_heap_write(r,n+i,e,s,f);i+=a;s+=a;f-=a;a=t.process(n,i);n+=a;i-=a;if(!i)n=0}this.pos=n;this.len=i;return this}finish(){if(this.result!==null)throw new IllegalStateError("state must be reset before processing new data");this.asm.finish(this.pos,this.len,0);this.result=new Uint8Array(this.HASH_SIZE);this.result.set(this.heap.subarray(0,this.HASH_SIZE));this.pos=0;this.len=0;return this}}const _sha1_block_size=64;const _sha1_hash_size=20;class Sha1 extends Hash{constructor(){super();this.NAME="sha1";this.BLOCK_SIZE=_sha1_block_size;this.HASH_SIZE=_sha1_hash_size;this.heap=_heap_init();this.asm=sha1_asm({Uint8Array},null,this.heap.buffer);this.reset()}}Sha1.NAME="sha1";var sha256_asm=function(e,t,r){"use asm";var n=0,i=0,s=0,f=0,a=0,o=0,c=0,u=0,l=0,h=0;var d=0,p=0,y=0,b=0,m=0,g=0,v=0,w=0,A=0,$=0,_=0,E=0,S=0,T=0,C=0,P=0;var x=new e.Uint8Array(r);function I(e,t,r,l,h,d,p,y,b,m,g,v,w,A,$,_){e=e|0;t=t|0;r=r|0;l=l|0;h=h|0;d=d|0;p=p|0;y=y|0;b=b|0;m=m|0;g=g|0;v=v|0;w=w|0;A=A|0;$=$|0;_=_|0;var E=0,S=0,T=0,C=0,P=0,x=0,I=0,k=0;E=n;S=i;T=s;C=f;P=a;x=o;I=c;k=u;k=e+k+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(I^P&(x^I))+0x428a2f98|0;C=C+k|0;k=k+(E&S^T&(E^S))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;I=t+I+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(x^C&(P^x))+0x71374491|0;T=T+I|0;I=I+(k&E^S&(k^E))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;x=r+x+(T>>>6^T>>>11^T>>>25^T<<26^T<<21^T<<7)+(P^T&(C^P))+0xb5c0fbcf|0;S=S+x|0;x=x+(I&k^E&(I^k))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0;P=l+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(C^S&(T^C))+0xe9b5dba5|0;E=E+P|0;P=P+(x&I^k&(x^I))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;C=h+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(T^E&(S^T))+0x3956c25b|0;k=k+C|0;C=C+(P&x^I&(P^x))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;T=d+T+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(S^k&(E^S))+0x59f111f1|0;I=I+T|0;T=T+(C&P^x&(C^P))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;S=p+S+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(E^I&(k^E))+0x923f82a4|0;x=x+S|0;S=S+(T&C^P&(T^C))+(T>>>2^T>>>13^T>>>22^T<<30^T<<19^T<<10)|0;E=y+E+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(k^x&(I^k))+0xab1c5ed5|0;P=P+E|0;E=E+(S&T^C&(S^T))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;k=b+k+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(I^P&(x^I))+0xd807aa98|0;C=C+k|0;k=k+(E&S^T&(E^S))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;I=m+I+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(x^C&(P^x))+0x12835b01|0;T=T+I|0;I=I+(k&E^S&(k^E))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;x=g+x+(T>>>6^T>>>11^T>>>25^T<<26^T<<21^T<<7)+(P^T&(C^P))+0x243185be|0;S=S+x|0;x=x+(I&k^E&(I^k))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0;P=v+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(C^S&(T^C))+0x550c7dc3|0;E=E+P|0;P=P+(x&I^k&(x^I))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;C=w+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(T^E&(S^T))+0x72be5d74|0;k=k+C|0;C=C+(P&x^I&(P^x))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;T=A+T+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(S^k&(E^S))+0x80deb1fe|0;I=I+T|0;T=T+(C&P^x&(C^P))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;S=$+S+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(E^I&(k^E))+0x9bdc06a7|0;x=x+S|0;S=S+(T&C^P&(T^C))+(T>>>2^T>>>13^T>>>22^T<<30^T<<19^T<<10)|0;E=_+E+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(k^x&(I^k))+0xc19bf174|0;P=P+E|0;E=E+(S&T^C&(S^T))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+($>>>17^$>>>19^$>>>10^$<<15^$<<13)+e+m|0;k=e+k+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(I^P&(x^I))+0xe49b69c1|0;C=C+k|0;k=k+(E&S^T&(E^S))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+t+g|0;I=t+I+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(x^C&(P^x))+0xefbe4786|0;T=T+I|0;I=I+(k&E^S&(k^E))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;r=(l>>>7^l>>>18^l>>>3^l<<25^l<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+v|0;x=r+x+(T>>>6^T>>>11^T>>>25^T<<26^T<<21^T<<7)+(P^T&(C^P))+0x0fc19dc6|0;S=S+x|0;x=x+(I&k^E&(I^k))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0;l=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+l+w|0;P=l+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(C^S&(T^C))+0x240ca1cc|0;E=E+P|0;P=P+(x&I^k&(x^I))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;h=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+h+A|0;C=h+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(T^E&(S^T))+0x2de92c6f|0;k=k+C|0;C=C+(P&x^I&(P^x))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;d=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(l>>>17^l>>>19^l>>>10^l<<15^l<<13)+d+$|0;T=d+T+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(S^k&(E^S))+0x4a7484aa|0;I=I+T|0;T=T+(C&P^x&(C^P))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;p=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+p+_|0;S=p+S+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(E^I&(k^E))+0x5cb0a9dc|0;x=x+S|0;S=S+(T&C^P&(T^C))+(T>>>2^T>>>13^T>>>22^T<<30^T<<19^T<<10)|0;y=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+y+e|0;E=y+E+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(k^x&(I^k))+0x76f988da|0;P=P+E|0;E=E+(S&T^C&(S^T))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;b=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+b+t|0;k=b+k+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(I^P&(x^I))+0x983e5152|0;C=C+k|0;k=k+(E&S^T&(E^S))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;m=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+m+r|0;I=m+I+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(x^C&(P^x))+0xa831c66d|0;T=T+I|0;I=I+(k&E^S&(k^E))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;g=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+g+l|0;x=g+x+(T>>>6^T>>>11^T>>>25^T<<26^T<<21^T<<7)+(P^T&(C^P))+0xb00327c8|0;S=S+x|0;x=x+(I&k^E&(I^k))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0;v=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+v+h|0;P=v+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(C^S&(T^C))+0xbf597fc7|0;E=E+P|0;P=P+(x&I^k&(x^I))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;w=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+w+d|0;C=w+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(T^E&(S^T))+0xc6e00bf3|0;k=k+C|0;C=C+(P&x^I&(P^x))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;A=($>>>7^$>>>18^$>>>3^$<<25^$<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+A+p|0;T=A+T+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(S^k&(E^S))+0xd5a79147|0;I=I+T|0;T=T+(C&P^x&(C^P))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;$=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+$+y|0;S=$+S+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(E^I&(k^E))+0x06ca6351|0;x=x+S|0;S=S+(T&C^P&(T^C))+(T>>>2^T>>>13^T>>>22^T<<30^T<<19^T<<10)|0;_=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+_+b|0;E=_+E+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(k^x&(I^k))+0x14292967|0;P=P+E|0;E=E+(S&T^C&(S^T))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+($>>>17^$>>>19^$>>>10^$<<15^$<<13)+e+m|0;k=e+k+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(I^P&(x^I))+0x27b70a85|0;C=C+k|0;k=k+(E&S^T&(E^S))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+t+g|0;I=t+I+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(x^C&(P^x))+0x2e1b2138|0;T=T+I|0;I=I+(k&E^S&(k^E))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;r=(l>>>7^l>>>18^l>>>3^l<<25^l<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+v|0;x=r+x+(T>>>6^T>>>11^T>>>25^T<<26^T<<21^T<<7)+(P^T&(C^P))+0x4d2c6dfc|0;S=S+x|0;x=x+(I&k^E&(I^k))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0;l=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+l+w|0;P=l+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(C^S&(T^C))+0x53380d13|0;E=E+P|0;P=P+(x&I^k&(x^I))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;h=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+h+A|0;C=h+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(T^E&(S^T))+0x650a7354|0;k=k+C|0;C=C+(P&x^I&(P^x))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;d=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(l>>>17^l>>>19^l>>>10^l<<15^l<<13)+d+$|0;T=d+T+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(S^k&(E^S))+0x766a0abb|0;I=I+T|0;T=T+(C&P^x&(C^P))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;p=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+p+_|0;S=p+S+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(E^I&(k^E))+0x81c2c92e|0;x=x+S|0;S=S+(T&C^P&(T^C))+(T>>>2^T>>>13^T>>>22^T<<30^T<<19^T<<10)|0;y=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+y+e|0;E=y+E+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(k^x&(I^k))+0x92722c85|0;P=P+E|0;E=E+(S&T^C&(S^T))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;b=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+b+t|0;k=b+k+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(I^P&(x^I))+0xa2bfe8a1|0;C=C+k|0;k=k+(E&S^T&(E^S))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;m=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+m+r|0;I=m+I+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(x^C&(P^x))+0xa81a664b|0;T=T+I|0;I=I+(k&E^S&(k^E))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;g=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+g+l|0;x=g+x+(T>>>6^T>>>11^T>>>25^T<<26^T<<21^T<<7)+(P^T&(C^P))+0xc24b8b70|0;S=S+x|0;x=x+(I&k^E&(I^k))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0;v=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+v+h|0;P=v+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(C^S&(T^C))+0xc76c51a3|0;E=E+P|0;P=P+(x&I^k&(x^I))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;w=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+w+d|0;C=w+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(T^E&(S^T))+0xd192e819|0;k=k+C|0;C=C+(P&x^I&(P^x))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;A=($>>>7^$>>>18^$>>>3^$<<25^$<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+A+p|0;T=A+T+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(S^k&(E^S))+0xd6990624|0;I=I+T|0;T=T+(C&P^x&(C^P))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;$=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+$+y|0;S=$+S+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(E^I&(k^E))+0xf40e3585|0;x=x+S|0;S=S+(T&C^P&(T^C))+(T>>>2^T>>>13^T>>>22^T<<30^T<<19^T<<10)|0;_=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+_+b|0;E=_+E+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(k^x&(I^k))+0x106aa070|0;P=P+E|0;E=E+(S&T^C&(S^T))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+($>>>17^$>>>19^$>>>10^$<<15^$<<13)+e+m|0;k=e+k+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(I^P&(x^I))+0x19a4c116|0;C=C+k|0;k=k+(E&S^T&(E^S))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+t+g|0;I=t+I+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(x^C&(P^x))+0x1e376c08|0;T=T+I|0;I=I+(k&E^S&(k^E))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;r=(l>>>7^l>>>18^l>>>3^l<<25^l<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+v|0;x=r+x+(T>>>6^T>>>11^T>>>25^T<<26^T<<21^T<<7)+(P^T&(C^P))+0x2748774c|0;S=S+x|0;x=x+(I&k^E&(I^k))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0;l=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+l+w|0;P=l+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(C^S&(T^C))+0x34b0bcb5|0;E=E+P|0;P=P+(x&I^k&(x^I))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;h=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+h+A|0;C=h+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(T^E&(S^T))+0x391c0cb3|0;k=k+C|0;C=C+(P&x^I&(P^x))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;d=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(l>>>17^l>>>19^l>>>10^l<<15^l<<13)+d+$|0;T=d+T+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(S^k&(E^S))+0x4ed8aa4a|0;I=I+T|0;T=T+(C&P^x&(C^P))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;p=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+p+_|0;S=p+S+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(E^I&(k^E))+0x5b9cca4f|0;x=x+S|0;S=S+(T&C^P&(T^C))+(T>>>2^T>>>13^T>>>22^T<<30^T<<19^T<<10)|0;y=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+y+e|0;E=y+E+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(k^x&(I^k))+0x682e6ff3|0;P=P+E|0;E=E+(S&T^C&(S^T))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;b=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+b+t|0;k=b+k+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(I^P&(x^I))+0x748f82ee|0;C=C+k|0;k=k+(E&S^T&(E^S))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;m=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+m+r|0;I=m+I+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(x^C&(P^x))+0x78a5636f|0;T=T+I|0;I=I+(k&E^S&(k^E))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;g=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+g+l|0;x=g+x+(T>>>6^T>>>11^T>>>25^T<<26^T<<21^T<<7)+(P^T&(C^P))+0x84c87814|0;S=S+x|0;x=x+(I&k^E&(I^k))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0;v=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+v+h|0;P=v+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(C^S&(T^C))+0x8cc70208|0;E=E+P|0;P=P+(x&I^k&(x^I))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;w=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+w+d|0;C=w+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(T^E&(S^T))+0x90befffa|0;k=k+C|0;C=C+(P&x^I&(P^x))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;A=($>>>7^$>>>18^$>>>3^$<<25^$<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+A+p|0;T=A+T+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(S^k&(E^S))+0xa4506ceb|0;I=I+T|0;T=T+(C&P^x&(C^P))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;$=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+$+y|0;S=$+S+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(E^I&(k^E))+0xbef9a3f7|0;x=x+S|0;S=S+(T&C^P&(T^C))+(T>>>2^T>>>13^T>>>22^T<<30^T<<19^T<<10)|0;_=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+_+b|0;E=_+E+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(k^x&(I^k))+0xc67178f2|0;P=P+E|0;E=E+(S&T^C&(S^T))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;n=n+E|0;i=i+S|0;s=s+T|0;f=f+C|0;a=a+P|0;o=o+x|0;c=c+I|0;u=u+k|0}function k(e){e=e|0;I(x[e|0]<<24|x[e|1]<<16|x[e|2]<<8|x[e|3],x[e|4]<<24|x[e|5]<<16|x[e|6]<<8|x[e|7],x[e|8]<<24|x[e|9]<<16|x[e|10]<<8|x[e|11],x[e|12]<<24|x[e|13]<<16|x[e|14]<<8|x[e|15],x[e|16]<<24|x[e|17]<<16|x[e|18]<<8|x[e|19],x[e|20]<<24|x[e|21]<<16|x[e|22]<<8|x[e|23],x[e|24]<<24|x[e|25]<<16|x[e|26]<<8|x[e|27],x[e|28]<<24|x[e|29]<<16|x[e|30]<<8|x[e|31],x[e|32]<<24|x[e|33]<<16|x[e|34]<<8|x[e|35],x[e|36]<<24|x[e|37]<<16|x[e|38]<<8|x[e|39],x[e|40]<<24|x[e|41]<<16|x[e|42]<<8|x[e|43],x[e|44]<<24|x[e|45]<<16|x[e|46]<<8|x[e|47],x[e|48]<<24|x[e|49]<<16|x[e|50]<<8|x[e|51],x[e|52]<<24|x[e|53]<<16|x[e|54]<<8|x[e|55],x[e|56]<<24|x[e|57]<<16|x[e|58]<<8|x[e|59],x[e|60]<<24|x[e|61]<<16|x[e|62]<<8|x[e|63])}function M(e){e=e|0;x[e|0]=n>>>24;x[e|1]=n>>>16&255;x[e|2]=n>>>8&255;x[e|3]=n&255;x[e|4]=i>>>24;x[e|5]=i>>>16&255;x[e|6]=i>>>8&255;x[e|7]=i&255;x[e|8]=s>>>24;x[e|9]=s>>>16&255;x[e|10]=s>>>8&255;x[e|11]=s&255;x[e|12]=f>>>24;x[e|13]=f>>>16&255;x[e|14]=f>>>8&255;x[e|15]=f&255;x[e|16]=a>>>24;x[e|17]=a>>>16&255;x[e|18]=a>>>8&255;x[e|19]=a&255;x[e|20]=o>>>24;x[e|21]=o>>>16&255;x[e|22]=o>>>8&255;x[e|23]=o&255;x[e|24]=c>>>24;x[e|25]=c>>>16&255;x[e|26]=c>>>8&255;x[e|27]=c&255;x[e|28]=u>>>24;x[e|29]=u>>>16&255;x[e|30]=u>>>8&255;x[e|31]=u&255}function B(){n=0x6a09e667;i=0xbb67ae85;s=0x3c6ef372;f=0xa54ff53a;a=0x510e527f;o=0x9b05688c;c=0x1f83d9ab;u=0x5be0cd19;l=h=0}function R(e,t,r,d,p,y,b,m,g,v){e=e|0;t=t|0;r=r|0;d=d|0;p=p|0;y=y|0;b=b|0;m=m|0;g=g|0;v=v|0;n=e;i=t;s=r;f=d;a=p;o=y;c=b;u=m;l=g;h=v}function N(e,t){e=e|0;t=t|0;var r=0;if(e&63)return-1;while((t|0)>=64){k(e);e=e+64|0;t=t-64|0;r=r+64|0}l=l+r|0;if(l>>>0<r>>>0)h=h+1|0;return r|0}function D(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0;if(e&63)return-1;if(~r)if(r&31)return-1;if((t|0)>=64){n=N(e,t)|0;if((n|0)==-1)return-1;e=e+n|0;t=t-n|0}n=n+t|0;l=l+t|0;if(l>>>0<t>>>0)h=h+1|0;x[e|t]=0x80;if((t|0)>=56){for(i=t+1|0;(i|0)<64;i=i+1|0)x[e|i]=0x00;k(e);t=0;x[e|0]=0}for(i=t+1|0;(i|0)<59;i=i+1|0)x[e|i]=0;x[e|56]=h>>>21&255;x[e|57]=h>>>13&255;x[e|58]=h>>>5&255;x[e|59]=h<<3&255|l>>>29;x[e|60]=l>>>21&255;x[e|61]=l>>>13&255;x[e|62]=l>>>5&255;x[e|63]=l<<3&255;k(e);if(~r)M(r);return n|0}function O(){n=d;i=p;s=y;f=b;a=m;o=g;c=v;u=w;l=64;h=0}function U(){n=A;i=$;s=_;f=E;a=S;o=T;c=C;u=P;l=64;h=0}function F(e,t,r,x,k,M,R,N,D,O,U,F,L,j,H,K){e=e|0;t=t|0;r=r|0;x=x|0;k=k|0;M=M|0;R=R|0;N=N|0;D=D|0;O=O|0;U=U|0;F=F|0;L=L|0;j=j|0;H=H|0;K=K|0;B();I(e^0x5c5c5c5c,t^0x5c5c5c5c,r^0x5c5c5c5c,x^0x5c5c5c5c,k^0x5c5c5c5c,M^0x5c5c5c5c,R^0x5c5c5c5c,N^0x5c5c5c5c,D^0x5c5c5c5c,O^0x5c5c5c5c,U^0x5c5c5c5c,F^0x5c5c5c5c,L^0x5c5c5c5c,j^0x5c5c5c5c,H^0x5c5c5c5c,K^0x5c5c5c5c);A=n;$=i;_=s;E=f;S=a;T=o;C=c;P=u;B();I(e^0x36363636,t^0x36363636,r^0x36363636,x^0x36363636,k^0x36363636,M^0x36363636,R^0x36363636,N^0x36363636,D^0x36363636,O^0x36363636,U^0x36363636,F^0x36363636,L^0x36363636,j^0x36363636,H^0x36363636,K^0x36363636);d=n;p=i;y=s;b=f;m=a;g=o;v=c;w=u;l=64;h=0}function L(e,t,r){e=e|0;t=t|0;r=r|0;var l=0,h=0,d=0,p=0,y=0,b=0,m=0,g=0,v=0;if(e&63)return-1;if(~r)if(r&31)return-1;v=D(e,t,-1)|0;l=n,h=i,d=s,p=f,y=a,b=o,m=c,g=u;U();I(l,h,d,p,y,b,m,g,0x80000000,0,0,0,0,0,0,768);if(~r)M(r);return v|0}function j(e,t,r,l,h){e=e|0;t=t|0;r=r|0;l=l|0;h=h|0;var d=0,p=0,y=0,b=0,m=0,g=0,v=0,w=0,A=0,$=0,_=0,E=0,S=0,T=0,C=0,P=0;if(e&63)return-1;if(~h)if(h&31)return-1;x[e+t|0]=r>>>24;x[e+t+1|0]=r>>>16&255;x[e+t+2|0]=r>>>8&255;x[e+t+3|0]=r&255;L(e,t+4|0,-1)|0;d=A=n,p=$=i,y=_=s,b=E=f,m=S=a,g=T=o,v=C=c,w=P=u;l=l-1|0;while((l|0)>0){O();I(A,$,_,E,S,T,C,P,0x80000000,0,0,0,0,0,0,768);A=n,$=i,_=s,E=f,S=a,T=o,C=c,P=u;U();I(A,$,_,E,S,T,C,P,0x80000000,0,0,0,0,0,0,768);A=n,$=i,_=s,E=f,S=a,T=o,C=c,P=u;d=d^n;p=p^i;y=y^s;b=b^f;m=m^a;g=g^o;v=v^c;w=w^u;l=l-1|0}n=d;i=p;s=y;f=b;a=m;o=g;c=v;u=w;if(~h)M(h);return 0}return{reset:B,init:R,process:N,finish:D,hmac_reset:O,hmac_init:F,hmac_finish:L,pbkdf2_generate_block:j}};const _sha256_block_size=64;const _sha256_hash_size=32;class Sha256 extends Hash{constructor(){super();this.NAME="sha256";this.BLOCK_SIZE=_sha256_block_size;this.HASH_SIZE=_sha256_hash_size;this.heap=_heap_init();this.asm=sha256_asm({Uint8Array},null,this.heap.buffer);this.reset()}}Sha256.NAME="sha256";var sha512_asm=function(e,t,r){"use asm";var n=0,i=0,s=0,f=0,a=0,o=0,c=0,u=0,l=0,h=0,d=0,p=0,y=0,b=0,m=0,g=0,v=0,w=0;var A=0,$=0,_=0,E=0,S=0,T=0,C=0,P=0,x=0,I=0,k=0,M=0,B=0,R=0,N=0,D=0,O=0,U=0,F=0,L=0,j=0,H=0,K=0,G=0,V=0,X=0,W=0,z=0,Y=0,J=0,q=0,Q=0;var Z=new e.Uint8Array(r);function ee(e,t,r,v,w,A,$,_,E,S,T,C,P,x,I,k,M,B,R,N,D,O,U,F,L,j,H,K,G,V,X,W){e=e|0;t=t|0;r=r|0;v=v|0;w=w|0;A=A|0;$=$|0;_=_|0;E=E|0;S=S|0;T=T|0;C=C|0;P=P|0;x=x|0;I=I|0;k=k|0;M=M|0;B=B|0;R=R|0;N=N|0;D=D|0;O=O|0;U=U|0;F=F|0;L=L|0;j=j|0;H=H|0;K=K|0;G=G|0;V=V|0;X=X|0;W=W|0;var z=0,Y=0,J=0,q=0,Q=0,Z=0,ee=0,te=0,re=0,ne=0,ie=0,se=0,fe=0,ae=0,oe=0,ce=0,ue=0,le=0,he=0;z=n;Y=i;J=s;q=f;Q=a;Z=o;ee=c;te=u;re=l;ne=h;ie=d;se=p;fe=y;ae=b;oe=m;ce=g;le=0xd728ae22+t|0;ue=0x428a2f98+e+(le>>>0<t>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;le=0x23ef65cd+v|0;ue=0x71374491+r+(le>>>0<v>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;le=0xec4d3b2f+A|0;ue=0xb5c0fbcf+w+(le>>>0<A>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;le=0x8189dbbc+_|0;ue=0xe9b5dba5+$+(le>>>0<_>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;le=0xf348b538+S|0;ue=0x3956c25b+E+(le>>>0<S>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;le=0xb605d019+C|0;ue=0x59f111f1+T+(le>>>0<C>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;le=0xaf194f9b+x|0;ue=0x923f82a4+P+(le>>>0<x>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;le=0xda6d8118+k|0;ue=0xab1c5ed5+I+(le>>>0<k>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;le=0xa3030242+B|0;ue=0xd807aa98+M+(le>>>0<B>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;le=0x45706fbe+N|0;ue=0x12835b01+R+(le>>>0<N>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;le=0x4ee4b28c+O|0;ue=0x243185be+D+(le>>>0<O>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;le=0xd5ffb4e2+F|0;ue=0x550c7dc3+U+(le>>>0<F>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;le=0xf27b896f+j|0;ue=0x72be5d74+L+(le>>>0<j>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;le=0x3b1696b1+K|0;ue=0x80deb1fe+H+(le>>>0<K>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;le=0x25c71235+V|0;ue=0x9bdc06a7+G+(le>>>0<V>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;le=0xcf692694+W|0;ue=0xc19bf174+X+(le>>>0<W>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;t=t+N|0;e=e+R+(t>>>0<N>>>0?1:0)|0;he=(v>>>1|r<<31)^(v>>>8|r<<24)^(v>>>7|r<<25)|0;t=t+he|0;e=e+((r>>>1|v<<31)^(r>>>8|v<<24)^r>>>7)+(t>>>0<he>>>0?1:0)|0;he=(V>>>19|G<<13)^(V<<3|G>>>29)^(V>>>6|G<<26)|0;t=t+he|0;e=e+((G>>>19|V<<13)^(G<<3|V>>>29)^G>>>6)+(t>>>0<he>>>0?1:0)|0;le=0x9ef14ad2+t|0;ue=0xe49b69c1+e+(le>>>0<t>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;v=v+O|0;r=r+D+(v>>>0<O>>>0?1:0)|0;he=(A>>>1|w<<31)^(A>>>8|w<<24)^(A>>>7|w<<25)|0;v=v+he|0;r=r+((w>>>1|A<<31)^(w>>>8|A<<24)^w>>>7)+(v>>>0<he>>>0?1:0)|0;he=(W>>>19|X<<13)^(W<<3|X>>>29)^(W>>>6|X<<26)|0;v=v+he|0;r=r+((X>>>19|W<<13)^(X<<3|W>>>29)^X>>>6)+(v>>>0<he>>>0?1:0)|0;le=0x384f25e3+v|0;ue=0xefbe4786+r+(le>>>0<v>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;A=A+F|0;w=w+U+(A>>>0<F>>>0?1:0)|0;he=(_>>>1|$<<31)^(_>>>8|$<<24)^(_>>>7|$<<25)|0;A=A+he|0;w=w+(($>>>1|_<<31)^($>>>8|_<<24)^$>>>7)+(A>>>0<he>>>0?1:0)|0;he=(t>>>19|e<<13)^(t<<3|e>>>29)^(t>>>6|e<<26)|0;A=A+he|0;w=w+((e>>>19|t<<13)^(e<<3|t>>>29)^e>>>6)+(A>>>0<he>>>0?1:0)|0;le=0x8b8cd5b5+A|0;ue=0xfc19dc6+w+(le>>>0<A>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;_=_+j|0;$=$+L+(_>>>0<j>>>0?1:0)|0;he=(S>>>1|E<<31)^(S>>>8|E<<24)^(S>>>7|E<<25)|0;_=_+he|0;$=$+((E>>>1|S<<31)^(E>>>8|S<<24)^E>>>7)+(_>>>0<he>>>0?1:0)|0;he=(v>>>19|r<<13)^(v<<3|r>>>29)^(v>>>6|r<<26)|0;_=_+he|0;$=$+((r>>>19|v<<13)^(r<<3|v>>>29)^r>>>6)+(_>>>0<he>>>0?1:0)|0;le=0x77ac9c65+_|0;ue=0x240ca1cc+$+(le>>>0<_>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;S=S+K|0;E=E+H+(S>>>0<K>>>0?1:0)|0;he=(C>>>1|T<<31)^(C>>>8|T<<24)^(C>>>7|T<<25)|0;S=S+he|0;E=E+((T>>>1|C<<31)^(T>>>8|C<<24)^T>>>7)+(S>>>0<he>>>0?1:0)|0;he=(A>>>19|w<<13)^(A<<3|w>>>29)^(A>>>6|w<<26)|0;S=S+he|0;E=E+((w>>>19|A<<13)^(w<<3|A>>>29)^w>>>6)+(S>>>0<he>>>0?1:0)|0;le=0x592b0275+S|0;ue=0x2de92c6f+E+(le>>>0<S>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;C=C+V|0;T=T+G+(C>>>0<V>>>0?1:0)|0;he=(x>>>1|P<<31)^(x>>>8|P<<24)^(x>>>7|P<<25)|0;C=C+he|0;T=T+((P>>>1|x<<31)^(P>>>8|x<<24)^P>>>7)+(C>>>0<he>>>0?1:0)|0;he=(_>>>19|$<<13)^(_<<3|$>>>29)^(_>>>6|$<<26)|0;C=C+he|0;T=T+(($>>>19|_<<13)^($<<3|_>>>29)^$>>>6)+(C>>>0<he>>>0?1:0)|0;le=0x6ea6e483+C|0;ue=0x4a7484aa+T+(le>>>0<C>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;x=x+W|0;P=P+X+(x>>>0<W>>>0?1:0)|0;he=(k>>>1|I<<31)^(k>>>8|I<<24)^(k>>>7|I<<25)|0;x=x+he|0;P=P+((I>>>1|k<<31)^(I>>>8|k<<24)^I>>>7)+(x>>>0<he>>>0?1:0)|0;he=(S>>>19|E<<13)^(S<<3|E>>>29)^(S>>>6|E<<26)|0;x=x+he|0;P=P+((E>>>19|S<<13)^(E<<3|S>>>29)^E>>>6)+(x>>>0<he>>>0?1:0)|0;le=0xbd41fbd4+x|0;ue=0x5cb0a9dc+P+(le>>>0<x>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;k=k+t|0;I=I+e+(k>>>0<t>>>0?1:0)|0;he=(B>>>1|M<<31)^(B>>>8|M<<24)^(B>>>7|M<<25)|0;k=k+he|0;I=I+((M>>>1|B<<31)^(M>>>8|B<<24)^M>>>7)+(k>>>0<he>>>0?1:0)|0;he=(C>>>19|T<<13)^(C<<3|T>>>29)^(C>>>6|T<<26)|0;k=k+he|0;I=I+((T>>>19|C<<13)^(T<<3|C>>>29)^T>>>6)+(k>>>0<he>>>0?1:0)|0;le=0x831153b5+k|0;ue=0x76f988da+I+(le>>>0<k>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;B=B+v|0;M=M+r+(B>>>0<v>>>0?1:0)|0;he=(N>>>1|R<<31)^(N>>>8|R<<24)^(N>>>7|R<<25)|0;B=B+he|0;M=M+((R>>>1|N<<31)^(R>>>8|N<<24)^R>>>7)+(B>>>0<he>>>0?1:0)|0;he=(x>>>19|P<<13)^(x<<3|P>>>29)^(x>>>6|P<<26)|0;B=B+he|0;M=M+((P>>>19|x<<13)^(P<<3|x>>>29)^P>>>6)+(B>>>0<he>>>0?1:0)|0;le=0xee66dfab+B|0;ue=0x983e5152+M+(le>>>0<B>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;N=N+A|0;R=R+w+(N>>>0<A>>>0?1:0)|0;he=(O>>>1|D<<31)^(O>>>8|D<<24)^(O>>>7|D<<25)|0;N=N+he|0;R=R+((D>>>1|O<<31)^(D>>>8|O<<24)^D>>>7)+(N>>>0<he>>>0?1:0)|0;he=(k>>>19|I<<13)^(k<<3|I>>>29)^(k>>>6|I<<26)|0;N=N+he|0;R=R+((I>>>19|k<<13)^(I<<3|k>>>29)^I>>>6)+(N>>>0<he>>>0?1:0)|0;le=0x2db43210+N|0;ue=0xa831c66d+R+(le>>>0<N>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;O=O+_|0;D=D+$+(O>>>0<_>>>0?1:0)|0;he=(F>>>1|U<<31)^(F>>>8|U<<24)^(F>>>7|U<<25)|0;O=O+he|0;D=D+((U>>>1|F<<31)^(U>>>8|F<<24)^U>>>7)+(O>>>0<he>>>0?1:0)|0;he=(B>>>19|M<<13)^(B<<3|M>>>29)^(B>>>6|M<<26)|0;O=O+he|0;D=D+((M>>>19|B<<13)^(M<<3|B>>>29)^M>>>6)+(O>>>0<he>>>0?1:0)|0;le=0x98fb213f+O|0;ue=0xb00327c8+D+(le>>>0<O>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;F=F+S|0;U=U+E+(F>>>0<S>>>0?1:0)|0;he=(j>>>1|L<<31)^(j>>>8|L<<24)^(j>>>7|L<<25)|0;F=F+he|0;U=U+((L>>>1|j<<31)^(L>>>8|j<<24)^L>>>7)+(F>>>0<he>>>0?1:0)|0;he=(N>>>19|R<<13)^(N<<3|R>>>29)^(N>>>6|R<<26)|0;F=F+he|0;U=U+((R>>>19|N<<13)^(R<<3|N>>>29)^R>>>6)+(F>>>0<he>>>0?1:0)|0;le=0xbeef0ee4+F|0;ue=0xbf597fc7+U+(le>>>0<F>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;j=j+C|0;L=L+T+(j>>>0<C>>>0?1:0)|0;he=(K>>>1|H<<31)^(K>>>8|H<<24)^(K>>>7|H<<25)|0;j=j+he|0;L=L+((H>>>1|K<<31)^(H>>>8|K<<24)^H>>>7)+(j>>>0<he>>>0?1:0)|0;he=(O>>>19|D<<13)^(O<<3|D>>>29)^(O>>>6|D<<26)|0;j=j+he|0;L=L+((D>>>19|O<<13)^(D<<3|O>>>29)^D>>>6)+(j>>>0<he>>>0?1:0)|0;le=0x3da88fc2+j|0;ue=0xc6e00bf3+L+(le>>>0<j>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;K=K+x|0;H=H+P+(K>>>0<x>>>0?1:0)|0;he=(V>>>1|G<<31)^(V>>>8|G<<24)^(V>>>7|G<<25)|0;K=K+he|0;H=H+((G>>>1|V<<31)^(G>>>8|V<<24)^G>>>7)+(K>>>0<he>>>0?1:0)|0;he=(F>>>19|U<<13)^(F<<3|U>>>29)^(F>>>6|U<<26)|0;K=K+he|0;H=H+((U>>>19|F<<13)^(U<<3|F>>>29)^U>>>6)+(K>>>0<he>>>0?1:0)|0;le=0x930aa725+K|0;ue=0xd5a79147+H+(le>>>0<K>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;V=V+k|0;G=G+I+(V>>>0<k>>>0?1:0)|0;he=(W>>>1|X<<31)^(W>>>8|X<<24)^(W>>>7|X<<25)|0;V=V+he|0;G=G+((X>>>1|W<<31)^(X>>>8|W<<24)^X>>>7)+(V>>>0<he>>>0?1:0)|0;he=(j>>>19|L<<13)^(j<<3|L>>>29)^(j>>>6|L<<26)|0;V=V+he|0;G=G+((L>>>19|j<<13)^(L<<3|j>>>29)^L>>>6)+(V>>>0<he>>>0?1:0)|0;le=0xe003826f+V|0;ue=0x6ca6351+G+(le>>>0<V>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;W=W+B|0;X=X+M+(W>>>0<B>>>0?1:0)|0;he=(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)|0;W=W+he|0;X=X+((e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7)+(W>>>0<he>>>0?1:0)|0;he=(K>>>19|H<<13)^(K<<3|H>>>29)^(K>>>6|H<<26)|0;W=W+he|0;X=X+((H>>>19|K<<13)^(H<<3|K>>>29)^H>>>6)+(W>>>0<he>>>0?1:0)|0;le=0xa0e6e70+W|0;ue=0x14292967+X+(le>>>0<W>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;t=t+N|0;e=e+R+(t>>>0<N>>>0?1:0)|0;he=(v>>>1|r<<31)^(v>>>8|r<<24)^(v>>>7|r<<25)|0;t=t+he|0;e=e+((r>>>1|v<<31)^(r>>>8|v<<24)^r>>>7)+(t>>>0<he>>>0?1:0)|0;he=(V>>>19|G<<13)^(V<<3|G>>>29)^(V>>>6|G<<26)|0;t=t+he|0;e=e+((G>>>19|V<<13)^(G<<3|V>>>29)^G>>>6)+(t>>>0<he>>>0?1:0)|0;le=0x46d22ffc+t|0;ue=0x27b70a85+e+(le>>>0<t>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;v=v+O|0;r=r+D+(v>>>0<O>>>0?1:0)|0;he=(A>>>1|w<<31)^(A>>>8|w<<24)^(A>>>7|w<<25)|0;v=v+he|0;r=r+((w>>>1|A<<31)^(w>>>8|A<<24)^w>>>7)+(v>>>0<he>>>0?1:0)|0;he=(W>>>19|X<<13)^(W<<3|X>>>29)^(W>>>6|X<<26)|0;v=v+he|0;r=r+((X>>>19|W<<13)^(X<<3|W>>>29)^X>>>6)+(v>>>0<he>>>0?1:0)|0;le=0x5c26c926+v|0;ue=0x2e1b2138+r+(le>>>0<v>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;A=A+F|0;w=w+U+(A>>>0<F>>>0?1:0)|0;he=(_>>>1|$<<31)^(_>>>8|$<<24)^(_>>>7|$<<25)|0;A=A+he|0;w=w+(($>>>1|_<<31)^($>>>8|_<<24)^$>>>7)+(A>>>0<he>>>0?1:0)|0;he=(t>>>19|e<<13)^(t<<3|e>>>29)^(t>>>6|e<<26)|0;A=A+he|0;w=w+((e>>>19|t<<13)^(e<<3|t>>>29)^e>>>6)+(A>>>0<he>>>0?1:0)|0;le=0x5ac42aed+A|0;ue=0x4d2c6dfc+w+(le>>>0<A>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;_=_+j|0;$=$+L+(_>>>0<j>>>0?1:0)|0;he=(S>>>1|E<<31)^(S>>>8|E<<24)^(S>>>7|E<<25)|0;_=_+he|0;$=$+((E>>>1|S<<31)^(E>>>8|S<<24)^E>>>7)+(_>>>0<he>>>0?1:0)|0;he=(v>>>19|r<<13)^(v<<3|r>>>29)^(v>>>6|r<<26)|0;_=_+he|0;$=$+((r>>>19|v<<13)^(r<<3|v>>>29)^r>>>6)+(_>>>0<he>>>0?1:0)|0;le=0x9d95b3df+_|0;ue=0x53380d13+$+(le>>>0<_>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;S=S+K|0;E=E+H+(S>>>0<K>>>0?1:0)|0;he=(C>>>1|T<<31)^(C>>>8|T<<24)^(C>>>7|T<<25)|0;S=S+he|0;E=E+((T>>>1|C<<31)^(T>>>8|C<<24)^T>>>7)+(S>>>0<he>>>0?1:0)|0;he=(A>>>19|w<<13)^(A<<3|w>>>29)^(A>>>6|w<<26)|0;S=S+he|0;E=E+((w>>>19|A<<13)^(w<<3|A>>>29)^w>>>6)+(S>>>0<he>>>0?1:0)|0;le=0x8baf63de+S|0;ue=0x650a7354+E+(le>>>0<S>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;C=C+V|0;T=T+G+(C>>>0<V>>>0?1:0)|0;he=(x>>>1|P<<31)^(x>>>8|P<<24)^(x>>>7|P<<25)|0;C=C+he|0;T=T+((P>>>1|x<<31)^(P>>>8|x<<24)^P>>>7)+(C>>>0<he>>>0?1:0)|0;he=(_>>>19|$<<13)^(_<<3|$>>>29)^(_>>>6|$<<26)|0;C=C+he|0;T=T+(($>>>19|_<<13)^($<<3|_>>>29)^$>>>6)+(C>>>0<he>>>0?1:0)|0;le=0x3c77b2a8+C|0;ue=0x766a0abb+T+(le>>>0<C>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;x=x+W|0;P=P+X+(x>>>0<W>>>0?1:0)|0;he=(k>>>1|I<<31)^(k>>>8|I<<24)^(k>>>7|I<<25)|0;x=x+he|0;P=P+((I>>>1|k<<31)^(I>>>8|k<<24)^I>>>7)+(x>>>0<he>>>0?1:0)|0;he=(S>>>19|E<<13)^(S<<3|E>>>29)^(S>>>6|E<<26)|0;x=x+he|0;P=P+((E>>>19|S<<13)^(E<<3|S>>>29)^E>>>6)+(x>>>0<he>>>0?1:0)|0;le=0x47edaee6+x|0;ue=0x81c2c92e+P+(le>>>0<x>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;k=k+t|0;I=I+e+(k>>>0<t>>>0?1:0)|0;he=(B>>>1|M<<31)^(B>>>8|M<<24)^(B>>>7|M<<25)|0;k=k+he|0;I=I+((M>>>1|B<<31)^(M>>>8|B<<24)^M>>>7)+(k>>>0<he>>>0?1:0)|0;he=(C>>>19|T<<13)^(C<<3|T>>>29)^(C>>>6|T<<26)|0;k=k+he|0;I=I+((T>>>19|C<<13)^(T<<3|C>>>29)^T>>>6)+(k>>>0<he>>>0?1:0)|0;le=0x1482353b+k|0;ue=0x92722c85+I+(le>>>0<k>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;B=B+v|0;M=M+r+(B>>>0<v>>>0?1:0)|0;he=(N>>>1|R<<31)^(N>>>8|R<<24)^(N>>>7|R<<25)|0;B=B+he|0;M=M+((R>>>1|N<<31)^(R>>>8|N<<24)^R>>>7)+(B>>>0<he>>>0?1:0)|0;he=(x>>>19|P<<13)^(x<<3|P>>>29)^(x>>>6|P<<26)|0;B=B+he|0;M=M+((P>>>19|x<<13)^(P<<3|x>>>29)^P>>>6)+(B>>>0<he>>>0?1:0)|0;le=0x4cf10364+B|0;ue=0xa2bfe8a1+M+(le>>>0<B>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;N=N+A|0;R=R+w+(N>>>0<A>>>0?1:0)|0;he=(O>>>1|D<<31)^(O>>>8|D<<24)^(O>>>7|D<<25)|0;N=N+he|0;R=R+((D>>>1|O<<31)^(D>>>8|O<<24)^D>>>7)+(N>>>0<he>>>0?1:0)|0;he=(k>>>19|I<<13)^(k<<3|I>>>29)^(k>>>6|I<<26)|0;N=N+he|0;R=R+((I>>>19|k<<13)^(I<<3|k>>>29)^I>>>6)+(N>>>0<he>>>0?1:0)|0;le=0xbc423001+N|0;ue=0xa81a664b+R+(le>>>0<N>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;O=O+_|0;D=D+$+(O>>>0<_>>>0?1:0)|0;he=(F>>>1|U<<31)^(F>>>8|U<<24)^(F>>>7|U<<25)|0;O=O+he|0;D=D+((U>>>1|F<<31)^(U>>>8|F<<24)^U>>>7)+(O>>>0<he>>>0?1:0)|0;he=(B>>>19|M<<13)^(B<<3|M>>>29)^(B>>>6|M<<26)|0;O=O+he|0;D=D+((M>>>19|B<<13)^(M<<3|B>>>29)^M>>>6)+(O>>>0<he>>>0?1:0)|0;le=0xd0f89791+O|0;ue=0xc24b8b70+D+(le>>>0<O>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;F=F+S|0;U=U+E+(F>>>0<S>>>0?1:0)|0;he=(j>>>1|L<<31)^(j>>>8|L<<24)^(j>>>7|L<<25)|0;F=F+he|0;U=U+((L>>>1|j<<31)^(L>>>8|j<<24)^L>>>7)+(F>>>0<he>>>0?1:0)|0;he=(N>>>19|R<<13)^(N<<3|R>>>29)^(N>>>6|R<<26)|0;F=F+he|0;U=U+((R>>>19|N<<13)^(R<<3|N>>>29)^R>>>6)+(F>>>0<he>>>0?1:0)|0;le=0x654be30+F|0;ue=0xc76c51a3+U+(le>>>0<F>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;j=j+C|0;L=L+T+(j>>>0<C>>>0?1:0)|0;he=(K>>>1|H<<31)^(K>>>8|H<<24)^(K>>>7|H<<25)|0;j=j+he|0;L=L+((H>>>1|K<<31)^(H>>>8|K<<24)^H>>>7)+(j>>>0<he>>>0?1:0)|0;he=(O>>>19|D<<13)^(O<<3|D>>>29)^(O>>>6|D<<26)|0;j=j+he|0;L=L+((D>>>19|O<<13)^(D<<3|O>>>29)^D>>>6)+(j>>>0<he>>>0?1:0)|0;le=0xd6ef5218+j|0;ue=0xd192e819+L+(le>>>0<j>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;K=K+x|0;H=H+P+(K>>>0<x>>>0?1:0)|0;he=(V>>>1|G<<31)^(V>>>8|G<<24)^(V>>>7|G<<25)|0;K=K+he|0;H=H+((G>>>1|V<<31)^(G>>>8|V<<24)^G>>>7)+(K>>>0<he>>>0?1:0)|0;he=(F>>>19|U<<13)^(F<<3|U>>>29)^(F>>>6|U<<26)|0;K=K+he|0;H=H+((U>>>19|F<<13)^(U<<3|F>>>29)^U>>>6)+(K>>>0<he>>>0?1:0)|0;le=0x5565a910+K|0;ue=0xd6990624+H+(le>>>0<K>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;V=V+k|0;G=G+I+(V>>>0<k>>>0?1:0)|0;he=(W>>>1|X<<31)^(W>>>8|X<<24)^(W>>>7|X<<25)|0;V=V+he|0;G=G+((X>>>1|W<<31)^(X>>>8|W<<24)^X>>>7)+(V>>>0<he>>>0?1:0)|0;he=(j>>>19|L<<13)^(j<<3|L>>>29)^(j>>>6|L<<26)|0;V=V+he|0;G=G+((L>>>19|j<<13)^(L<<3|j>>>29)^L>>>6)+(V>>>0<he>>>0?1:0)|0;le=0x5771202a+V|0;ue=0xf40e3585+G+(le>>>0<V>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;W=W+B|0;X=X+M+(W>>>0<B>>>0?1:0)|0;he=(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)|0;W=W+he|0;X=X+((e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7)+(W>>>0<he>>>0?1:0)|0;he=(K>>>19|H<<13)^(K<<3|H>>>29)^(K>>>6|H<<26)|0;W=W+he|0;X=X+((H>>>19|K<<13)^(H<<3|K>>>29)^H>>>6)+(W>>>0<he>>>0?1:0)|0;le=0x32bbd1b8+W|0;ue=0x106aa070+X+(le>>>0<W>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;t=t+N|0;e=e+R+(t>>>0<N>>>0?1:0)|0;he=(v>>>1|r<<31)^(v>>>8|r<<24)^(v>>>7|r<<25)|0;t=t+he|0;e=e+((r>>>1|v<<31)^(r>>>8|v<<24)^r>>>7)+(t>>>0<he>>>0?1:0)|0;he=(V>>>19|G<<13)^(V<<3|G>>>29)^(V>>>6|G<<26)|0;t=t+he|0;e=e+((G>>>19|V<<13)^(G<<3|V>>>29)^G>>>6)+(t>>>0<he>>>0?1:0)|0;le=0xb8d2d0c8+t|0;ue=0x19a4c116+e+(le>>>0<t>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;v=v+O|0;r=r+D+(v>>>0<O>>>0?1:0)|0;he=(A>>>1|w<<31)^(A>>>8|w<<24)^(A>>>7|w<<25)|0;v=v+he|0;r=r+((w>>>1|A<<31)^(w>>>8|A<<24)^w>>>7)+(v>>>0<he>>>0?1:0)|0;he=(W>>>19|X<<13)^(W<<3|X>>>29)^(W>>>6|X<<26)|0;v=v+he|0;r=r+((X>>>19|W<<13)^(X<<3|W>>>29)^X>>>6)+(v>>>0<he>>>0?1:0)|0;le=0x5141ab53+v|0;ue=0x1e376c08+r+(le>>>0<v>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;A=A+F|0;w=w+U+(A>>>0<F>>>0?1:0)|0;he=(_>>>1|$<<31)^(_>>>8|$<<24)^(_>>>7|$<<25)|0;A=A+he|0;w=w+(($>>>1|_<<31)^($>>>8|_<<24)^$>>>7)+(A>>>0<he>>>0?1:0)|0;he=(t>>>19|e<<13)^(t<<3|e>>>29)^(t>>>6|e<<26)|0;A=A+he|0;w=w+((e>>>19|t<<13)^(e<<3|t>>>29)^e>>>6)+(A>>>0<he>>>0?1:0)|0;le=0xdf8eeb99+A|0;ue=0x2748774c+w+(le>>>0<A>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;_=_+j|0;$=$+L+(_>>>0<j>>>0?1:0)|0;he=(S>>>1|E<<31)^(S>>>8|E<<24)^(S>>>7|E<<25)|0;_=_+he|0;$=$+((E>>>1|S<<31)^(E>>>8|S<<24)^E>>>7)+(_>>>0<he>>>0?1:0)|0;he=(v>>>19|r<<13)^(v<<3|r>>>29)^(v>>>6|r<<26)|0;_=_+he|0;$=$+((r>>>19|v<<13)^(r<<3|v>>>29)^r>>>6)+(_>>>0<he>>>0?1:0)|0;le=0xe19b48a8+_|0;ue=0x34b0bcb5+$+(le>>>0<_>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;S=S+K|0;E=E+H+(S>>>0<K>>>0?1:0)|0;he=(C>>>1|T<<31)^(C>>>8|T<<24)^(C>>>7|T<<25)|0;S=S+he|0;E=E+((T>>>1|C<<31)^(T>>>8|C<<24)^T>>>7)+(S>>>0<he>>>0?1:0)|0;he=(A>>>19|w<<13)^(A<<3|w>>>29)^(A>>>6|w<<26)|0;S=S+he|0;E=E+((w>>>19|A<<13)^(w<<3|A>>>29)^w>>>6)+(S>>>0<he>>>0?1:0)|0;le=0xc5c95a63+S|0;ue=0x391c0cb3+E+(le>>>0<S>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;C=C+V|0;T=T+G+(C>>>0<V>>>0?1:0)|0;he=(x>>>1|P<<31)^(x>>>8|P<<24)^(x>>>7|P<<25)|0;C=C+he|0;T=T+((P>>>1|x<<31)^(P>>>8|x<<24)^P>>>7)+(C>>>0<he>>>0?1:0)|0;he=(_>>>19|$<<13)^(_<<3|$>>>29)^(_>>>6|$<<26)|0;C=C+he|0;T=T+(($>>>19|_<<13)^($<<3|_>>>29)^$>>>6)+(C>>>0<he>>>0?1:0)|0;le=0xe3418acb+C|0;ue=0x4ed8aa4a+T+(le>>>0<C>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;x=x+W|0;P=P+X+(x>>>0<W>>>0?1:0)|0;he=(k>>>1|I<<31)^(k>>>8|I<<24)^(k>>>7|I<<25)|0;x=x+he|0;P=P+((I>>>1|k<<31)^(I>>>8|k<<24)^I>>>7)+(x>>>0<he>>>0?1:0)|0;he=(S>>>19|E<<13)^(S<<3|E>>>29)^(S>>>6|E<<26)|0;x=x+he|0;P=P+((E>>>19|S<<13)^(E<<3|S>>>29)^E>>>6)+(x>>>0<he>>>0?1:0)|0;le=0x7763e373+x|0;ue=0x5b9cca4f+P+(le>>>0<x>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;k=k+t|0;I=I+e+(k>>>0<t>>>0?1:0)|0;he=(B>>>1|M<<31)^(B>>>8|M<<24)^(B>>>7|M<<25)|0;k=k+he|0;I=I+((M>>>1|B<<31)^(M>>>8|B<<24)^M>>>7)+(k>>>0<he>>>0?1:0)|0;he=(C>>>19|T<<13)^(C<<3|T>>>29)^(C>>>6|T<<26)|0;k=k+he|0;I=I+((T>>>19|C<<13)^(T<<3|C>>>29)^T>>>6)+(k>>>0<he>>>0?1:0)|0;le=0xd6b2b8a3+k|0;ue=0x682e6ff3+I+(le>>>0<k>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;B=B+v|0;M=M+r+(B>>>0<v>>>0?1:0)|0;he=(N>>>1|R<<31)^(N>>>8|R<<24)^(N>>>7|R<<25)|0;B=B+he|0;M=M+((R>>>1|N<<31)^(R>>>8|N<<24)^R>>>7)+(B>>>0<he>>>0?1:0)|0;he=(x>>>19|P<<13)^(x<<3|P>>>29)^(x>>>6|P<<26)|0;B=B+he|0;M=M+((P>>>19|x<<13)^(P<<3|x>>>29)^P>>>6)+(B>>>0<he>>>0?1:0)|0;le=0x5defb2fc+B|0;ue=0x748f82ee+M+(le>>>0<B>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;N=N+A|0;R=R+w+(N>>>0<A>>>0?1:0)|0;he=(O>>>1|D<<31)^(O>>>8|D<<24)^(O>>>7|D<<25)|0;N=N+he|0;R=R+((D>>>1|O<<31)^(D>>>8|O<<24)^D>>>7)+(N>>>0<he>>>0?1:0)|0;he=(k>>>19|I<<13)^(k<<3|I>>>29)^(k>>>6|I<<26)|0;N=N+he|0;R=R+((I>>>19|k<<13)^(I<<3|k>>>29)^I>>>6)+(N>>>0<he>>>0?1:0)|0;le=0x43172f60+N|0;ue=0x78a5636f+R+(le>>>0<N>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;O=O+_|0;D=D+$+(O>>>0<_>>>0?1:0)|0;he=(F>>>1|U<<31)^(F>>>8|U<<24)^(F>>>7|U<<25)|0;O=O+he|0;D=D+((U>>>1|F<<31)^(U>>>8|F<<24)^U>>>7)+(O>>>0<he>>>0?1:0)|0;he=(B>>>19|M<<13)^(B<<3|M>>>29)^(B>>>6|M<<26)|0;O=O+he|0;D=D+((M>>>19|B<<13)^(M<<3|B>>>29)^M>>>6)+(O>>>0<he>>>0?1:0)|0;le=0xa1f0ab72+O|0;ue=0x84c87814+D+(le>>>0<O>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;F=F+S|0;U=U+E+(F>>>0<S>>>0?1:0)|0;he=(j>>>1|L<<31)^(j>>>8|L<<24)^(j>>>7|L<<25)|0;F=F+he|0;U=U+((L>>>1|j<<31)^(L>>>8|j<<24)^L>>>7)+(F>>>0<he>>>0?1:0)|0;he=(N>>>19|R<<13)^(N<<3|R>>>29)^(N>>>6|R<<26)|0;F=F+he|0;U=U+((R>>>19|N<<13)^(R<<3|N>>>29)^R>>>6)+(F>>>0<he>>>0?1:0)|0;le=0x1a6439ec+F|0;ue=0x8cc70208+U+(le>>>0<F>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;j=j+C|0;L=L+T+(j>>>0<C>>>0?1:0)|0;he=(K>>>1|H<<31)^(K>>>8|H<<24)^(K>>>7|H<<25)|0;j=j+he|0;L=L+((H>>>1|K<<31)^(H>>>8|K<<24)^H>>>7)+(j>>>0<he>>>0?1:0)|0;he=(O>>>19|D<<13)^(O<<3|D>>>29)^(O>>>6|D<<26)|0;j=j+he|0;L=L+((D>>>19|O<<13)^(D<<3|O>>>29)^D>>>6)+(j>>>0<he>>>0?1:0)|0;le=0x23631e28+j|0;ue=0x90befffa+L+(le>>>0<j>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;K=K+x|0;H=H+P+(K>>>0<x>>>0?1:0)|0;he=(V>>>1|G<<31)^(V>>>8|G<<24)^(V>>>7|G<<25)|0;K=K+he|0;H=H+((G>>>1|V<<31)^(G>>>8|V<<24)^G>>>7)+(K>>>0<he>>>0?1:0)|0;he=(F>>>19|U<<13)^(F<<3|U>>>29)^(F>>>6|U<<26)|0;K=K+he|0;H=H+((U>>>19|F<<13)^(U<<3|F>>>29)^U>>>6)+(K>>>0<he>>>0?1:0)|0;le=0xde82bde9+K|0;ue=0xa4506ceb+H+(le>>>0<K>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;V=V+k|0;G=G+I+(V>>>0<k>>>0?1:0)|0;he=(W>>>1|X<<31)^(W>>>8|X<<24)^(W>>>7|X<<25)|0;V=V+he|0;G=G+((X>>>1|W<<31)^(X>>>8|W<<24)^X>>>7)+(V>>>0<he>>>0?1:0)|0;he=(j>>>19|L<<13)^(j<<3|L>>>29)^(j>>>6|L<<26)|0;V=V+he|0;G=G+((L>>>19|j<<13)^(L<<3|j>>>29)^L>>>6)+(V>>>0<he>>>0?1:0)|0;le=0xb2c67915+V|0;ue=0xbef9a3f7+G+(le>>>0<V>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;W=W+B|0;X=X+M+(W>>>0<B>>>0?1:0)|0;he=(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)|0;W=W+he|0;X=X+((e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7)+(W>>>0<he>>>0?1:0)|0;he=(K>>>19|H<<13)^(K<<3|H>>>29)^(K>>>6|H<<26)|0;W=W+he|0;X=X+((H>>>19|K<<13)^(H<<3|K>>>29)^H>>>6)+(W>>>0<he>>>0?1:0)|0;le=0xe372532b+W|0;ue=0xc67178f2+X+(le>>>0<W>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;t=t+N|0;e=e+R+(t>>>0<N>>>0?1:0)|0;he=(v>>>1|r<<31)^(v>>>8|r<<24)^(v>>>7|r<<25)|0;t=t+he|0;e=e+((r>>>1|v<<31)^(r>>>8|v<<24)^r>>>7)+(t>>>0<he>>>0?1:0)|0;he=(V>>>19|G<<13)^(V<<3|G>>>29)^(V>>>6|G<<26)|0;t=t+he|0;e=e+((G>>>19|V<<13)^(G<<3|V>>>29)^G>>>6)+(t>>>0<he>>>0?1:0)|0;le=0xea26619c+t|0;ue=0xca273ece+e+(le>>>0<t>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;v=v+O|0;r=r+D+(v>>>0<O>>>0?1:0)|0;he=(A>>>1|w<<31)^(A>>>8|w<<24)^(A>>>7|w<<25)|0;v=v+he|0;r=r+((w>>>1|A<<31)^(w>>>8|A<<24)^w>>>7)+(v>>>0<he>>>0?1:0)|0;he=(W>>>19|X<<13)^(W<<3|X>>>29)^(W>>>6|X<<26)|0;v=v+he|0;r=r+((X>>>19|W<<13)^(X<<3|W>>>29)^X>>>6)+(v>>>0<he>>>0?1:0)|0;le=0x21c0c207+v|0;ue=0xd186b8c7+r+(le>>>0<v>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;A=A+F|0;w=w+U+(A>>>0<F>>>0?1:0)|0;he=(_>>>1|$<<31)^(_>>>8|$<<24)^(_>>>7|$<<25)|0;A=A+he|0;w=w+(($>>>1|_<<31)^($>>>8|_<<24)^$>>>7)+(A>>>0<he>>>0?1:0)|0;he=(t>>>19|e<<13)^(t<<3|e>>>29)^(t>>>6|e<<26)|0;A=A+he|0;w=w+((e>>>19|t<<13)^(e<<3|t>>>29)^e>>>6)+(A>>>0<he>>>0?1:0)|0;le=0xcde0eb1e+A|0;ue=0xeada7dd6+w+(le>>>0<A>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;_=_+j|0;$=$+L+(_>>>0<j>>>0?1:0)|0;he=(S>>>1|E<<31)^(S>>>8|E<<24)^(S>>>7|E<<25)|0;_=_+he|0;$=$+((E>>>1|S<<31)^(E>>>8|S<<24)^E>>>7)+(_>>>0<he>>>0?1:0)|0;he=(v>>>19|r<<13)^(v<<3|r>>>29)^(v>>>6|r<<26)|0;_=_+he|0;$=$+((r>>>19|v<<13)^(r<<3|v>>>29)^r>>>6)+(_>>>0<he>>>0?1:0)|0;le=0xee6ed178+_|0;ue=0xf57d4f7f+$+(le>>>0<_>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;S=S+K|0;E=E+H+(S>>>0<K>>>0?1:0)|0;he=(C>>>1|T<<31)^(C>>>8|T<<24)^(C>>>7|T<<25)|0;S=S+he|0;E=E+((T>>>1|C<<31)^(T>>>8|C<<24)^T>>>7)+(S>>>0<he>>>0?1:0)|0;he=(A>>>19|w<<13)^(A<<3|w>>>29)^(A>>>6|w<<26)|0;S=S+he|0;E=E+((w>>>19|A<<13)^(w<<3|A>>>29)^w>>>6)+(S>>>0<he>>>0?1:0)|0;le=0x72176fba+S|0;ue=0x6f067aa+E+(le>>>0<S>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;C=C+V|0;T=T+G+(C>>>0<V>>>0?1:0)|0;he=(x>>>1|P<<31)^(x>>>8|P<<24)^(x>>>7|P<<25)|0;C=C+he|0;T=T+((P>>>1|x<<31)^(P>>>8|x<<24)^P>>>7)+(C>>>0<he>>>0?1:0)|0;he=(_>>>19|$<<13)^(_<<3|$>>>29)^(_>>>6|$<<26)|0;C=C+he|0;T=T+(($>>>19|_<<13)^($<<3|_>>>29)^$>>>6)+(C>>>0<he>>>0?1:0)|0;le=0xa2c898a6+C|0;ue=0xa637dc5+T+(le>>>0<C>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;x=x+W|0;P=P+X+(x>>>0<W>>>0?1:0)|0;he=(k>>>1|I<<31)^(k>>>8|I<<24)^(k>>>7|I<<25)|0;x=x+he|0;P=P+((I>>>1|k<<31)^(I>>>8|k<<24)^I>>>7)+(x>>>0<he>>>0?1:0)|0;he=(S>>>19|E<<13)^(S<<3|E>>>29)^(S>>>6|E<<26)|0;x=x+he|0;P=P+((E>>>19|S<<13)^(E<<3|S>>>29)^E>>>6)+(x>>>0<he>>>0?1:0)|0;le=0xbef90dae+x|0;ue=0x113f9804+P+(le>>>0<x>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;k=k+t|0;I=I+e+(k>>>0<t>>>0?1:0)|0;he=(B>>>1|M<<31)^(B>>>8|M<<24)^(B>>>7|M<<25)|0;k=k+he|0;I=I+((M>>>1|B<<31)^(M>>>8|B<<24)^M>>>7)+(k>>>0<he>>>0?1:0)|0;he=(C>>>19|T<<13)^(C<<3|T>>>29)^(C>>>6|T<<26)|0;k=k+he|0;I=I+((T>>>19|C<<13)^(T<<3|C>>>29)^T>>>6)+(k>>>0<he>>>0?1:0)|0;le=0x131c471b+k|0;ue=0x1b710b35+I+(le>>>0<k>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;B=B+v|0;M=M+r+(B>>>0<v>>>0?1:0)|0;he=(N>>>1|R<<31)^(N>>>8|R<<24)^(N>>>7|R<<25)|0;B=B+he|0;M=M+((R>>>1|N<<31)^(R>>>8|N<<24)^R>>>7)+(B>>>0<he>>>0?1:0)|0;he=(x>>>19|P<<13)^(x<<3|P>>>29)^(x>>>6|P<<26)|0;B=B+he|0;M=M+((P>>>19|x<<13)^(P<<3|x>>>29)^P>>>6)+(B>>>0<he>>>0?1:0)|0;le=0x23047d84+B|0;ue=0x28db77f5+M+(le>>>0<B>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;N=N+A|0;R=R+w+(N>>>0<A>>>0?1:0)|0;he=(O>>>1|D<<31)^(O>>>8|D<<24)^(O>>>7|D<<25)|0;N=N+he|0;R=R+((D>>>1|O<<31)^(D>>>8|O<<24)^D>>>7)+(N>>>0<he>>>0?1:0)|0;he=(k>>>19|I<<13)^(k<<3|I>>>29)^(k>>>6|I<<26)|0;N=N+he|0;R=R+((I>>>19|k<<13)^(I<<3|k>>>29)^I>>>6)+(N>>>0<he>>>0?1:0)|0;le=0x40c72493+N|0;ue=0x32caab7b+R+(le>>>0<N>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;O=O+_|0;D=D+$+(O>>>0<_>>>0?1:0)|0;he=(F>>>1|U<<31)^(F>>>8|U<<24)^(F>>>7|U<<25)|0;O=O+he|0;D=D+((U>>>1|F<<31)^(U>>>8|F<<24)^U>>>7)+(O>>>0<he>>>0?1:0)|0;he=(B>>>19|M<<13)^(B<<3|M>>>29)^(B>>>6|M<<26)|0;O=O+he|0;D=D+((M>>>19|B<<13)^(M<<3|B>>>29)^M>>>6)+(O>>>0<he>>>0?1:0)|0;le=0x15c9bebc+O|0;ue=0x3c9ebe0a+D+(le>>>0<O>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;F=F+S|0;U=U+E+(F>>>0<S>>>0?1:0)|0;he=(j>>>1|L<<31)^(j>>>8|L<<24)^(j>>>7|L<<25)|0;F=F+he|0;U=U+((L>>>1|j<<31)^(L>>>8|j<<24)^L>>>7)+(F>>>0<he>>>0?1:0)|0;he=(N>>>19|R<<13)^(N<<3|R>>>29)^(N>>>6|R<<26)|0;F=F+he|0;U=U+((R>>>19|N<<13)^(R<<3|N>>>29)^R>>>6)+(F>>>0<he>>>0?1:0)|0;le=0x9c100d4c+F|0;ue=0x431d67c4+U+(le>>>0<F>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;j=j+C|0;L=L+T+(j>>>0<C>>>0?1:0)|0;he=(K>>>1|H<<31)^(K>>>8|H<<24)^(K>>>7|H<<25)|0;j=j+he|0;L=L+((H>>>1|K<<31)^(H>>>8|K<<24)^H>>>7)+(j>>>0<he>>>0?1:0)|0;he=(O>>>19|D<<13)^(O<<3|D>>>29)^(O>>>6|D<<26)|0;j=j+he|0;L=L+((D>>>19|O<<13)^(D<<3|O>>>29)^D>>>6)+(j>>>0<he>>>0?1:0)|0;le=0xcb3e42b6+j|0;ue=0x4cc5d4be+L+(le>>>0<j>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;K=K+x|0;H=H+P+(K>>>0<x>>>0?1:0)|0;he=(V>>>1|G<<31)^(V>>>8|G<<24)^(V>>>7|G<<25)|0;K=K+he|0;H=H+((G>>>1|V<<31)^(G>>>8|V<<24)^G>>>7)+(K>>>0<he>>>0?1:0)|0;he=(F>>>19|U<<13)^(F<<3|U>>>29)^(F>>>6|U<<26)|0;K=K+he|0;H=H+((U>>>19|F<<13)^(U<<3|F>>>29)^U>>>6)+(K>>>0<he>>>0?1:0)|0;le=0xfc657e2a+K|0;ue=0x597f299c+H+(le>>>0<K>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;V=V+k|0;G=G+I+(V>>>0<k>>>0?1:0)|0;he=(W>>>1|X<<31)^(W>>>8|X<<24)^(W>>>7|X<<25)|0;V=V+he|0;G=G+((X>>>1|W<<31)^(X>>>8|W<<24)^X>>>7)+(V>>>0<he>>>0?1:0)|0;he=(j>>>19|L<<13)^(j<<3|L>>>29)^(j>>>6|L<<26)|0;V=V+he|0;G=G+((L>>>19|j<<13)^(L<<3|j>>>29)^L>>>6)+(V>>>0<he>>>0?1:0)|0;le=0x3ad6faec+V|0;ue=0x5fcb6fab+G+(le>>>0<V>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;W=W+B|0;X=X+M+(W>>>0<B>>>0?1:0)|0;he=(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)|0;W=W+he|0;X=X+((e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7)+(W>>>0<he>>>0?1:0)|0;he=(K>>>19|H<<13)^(K<<3|H>>>29)^(K>>>6|H<<26)|0;W=W+he|0;X=X+((H>>>19|K<<13)^(H<<3|K>>>29)^H>>>6)+(W>>>0<he>>>0?1:0)|0;le=0x4a475817+W|0;ue=0x6c44198c+X+(le>>>0<W>>>0?1:0)|0;le=le+ce|0;ue=ue+oe+(le>>>0<ce>>>0?1:0)|0;he=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(ne<<23|re>>>9)|0;le=le+he|0;ue=ue+((re>>>14|ne<<18)^(re>>>18|ne<<14)^(re<<23|ne>>>9))+(le>>>0<he>>>0?1:0)|0;he=ae^ne&(se^ae)|0;le=le+he|0;ue=ue+(fe^re&(ie^fe))+(le>>>0<he>>>0?1:0)|0;ce=ae;oe=fe;ae=se;fe=ie;se=ne;ie=re;ne=te+le|0;re=ee+ue+(ne>>>0<te>>>0?1:0)|0;te=Z;ee=Q;Z=q;Q=J;q=Y;J=z;Y=le+(q&Z^te&(q^Z))|0;z=ue+(J&Q^ee&(J^Q))+(Y>>>0<le>>>0?1:0)|0;he=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7)|0;Y=Y+he|0;z=z+((J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7))+(Y>>>0<he>>>0?1:0)|0;i=i+Y|0;n=n+z+(i>>>0<Y>>>0?1:0)|0;f=f+q|0;s=s+J+(f>>>0<q>>>0?1:0)|0;o=o+Z|0;a=a+Q+(o>>>0<Z>>>0?1:0)|0;u=u+te|0;c=c+ee+(u>>>0<te>>>0?1:0)|0;h=h+ne|0;l=l+re+(h>>>0<ne>>>0?1:0)|0;p=p+se|0;d=d+ie+(p>>>0<se>>>0?1:0)|0;b=b+ae|0;y=y+fe+(b>>>0<ae>>>0?1:0)|0;g=g+ce|0;m=m+oe+(g>>>0<ce>>>0?1:0)|0}function te(e){e=e|0;ee(Z[e|0]<<24|Z[e|1]<<16|Z[e|2]<<8|Z[e|3],Z[e|4]<<24|Z[e|5]<<16|Z[e|6]<<8|Z[e|7],Z[e|8]<<24|Z[e|9]<<16|Z[e|10]<<8|Z[e|11],Z[e|12]<<24|Z[e|13]<<16|Z[e|14]<<8|Z[e|15],Z[e|16]<<24|Z[e|17]<<16|Z[e|18]<<8|Z[e|19],Z[e|20]<<24|Z[e|21]<<16|Z[e|22]<<8|Z[e|23],Z[e|24]<<24|Z[e|25]<<16|Z[e|26]<<8|Z[e|27],Z[e|28]<<24|Z[e|29]<<16|Z[e|30]<<8|Z[e|31],Z[e|32]<<24|Z[e|33]<<16|Z[e|34]<<8|Z[e|35],Z[e|36]<<24|Z[e|37]<<16|Z[e|38]<<8|Z[e|39],Z[e|40]<<24|Z[e|41]<<16|Z[e|42]<<8|Z[e|43],Z[e|44]<<24|Z[e|45]<<16|Z[e|46]<<8|Z[e|47],Z[e|48]<<24|Z[e|49]<<16|Z[e|50]<<8|Z[e|51],Z[e|52]<<24|Z[e|53]<<16|Z[e|54]<<8|Z[e|55],Z[e|56]<<24|Z[e|57]<<16|Z[e|58]<<8|Z[e|59],Z[e|60]<<24|Z[e|61]<<16|Z[e|62]<<8|Z[e|63],Z[e|64]<<24|Z[e|65]<<16|Z[e|66]<<8|Z[e|67],Z[e|68]<<24|Z[e|69]<<16|Z[e|70]<<8|Z[e|71],Z[e|72]<<24|Z[e|73]<<16|Z[e|74]<<8|Z[e|75],Z[e|76]<<24|Z[e|77]<<16|Z[e|78]<<8|Z[e|79],Z[e|80]<<24|Z[e|81]<<16|Z[e|82]<<8|Z[e|83],Z[e|84]<<24|Z[e|85]<<16|Z[e|86]<<8|Z[e|87],Z[e|88]<<24|Z[e|89]<<16|Z[e|90]<<8|Z[e|91],Z[e|92]<<24|Z[e|93]<<16|Z[e|94]<<8|Z[e|95],Z[e|96]<<24|Z[e|97]<<16|Z[e|98]<<8|Z[e|99],Z[e|100]<<24|Z[e|101]<<16|Z[e|102]<<8|Z[e|103],Z[e|104]<<24|Z[e|105]<<16|Z[e|106]<<8|Z[e|107],Z[e|108]<<24|Z[e|109]<<16|Z[e|110]<<8|Z[e|111],Z[e|112]<<24|Z[e|113]<<16|Z[e|114]<<8|Z[e|115],Z[e|116]<<24|Z[e|117]<<16|Z[e|118]<<8|Z[e|119],Z[e|120]<<24|Z[e|121]<<16|Z[e|122]<<8|Z[e|123],Z[e|124]<<24|Z[e|125]<<16|Z[e|126]<<8|Z[e|127])}function re(e){e=e|0;Z[e|0]=n>>>24;Z[e|1]=n>>>16&255;Z[e|2]=n>>>8&255;Z[e|3]=n&255;Z[e|4]=i>>>24;Z[e|5]=i>>>16&255;Z[e|6]=i>>>8&255;Z[e|7]=i&255;Z[e|8]=s>>>24;Z[e|9]=s>>>16&255;Z[e|10]=s>>>8&255;Z[e|11]=s&255;Z[e|12]=f>>>24;Z[e|13]=f>>>16&255;Z[e|14]=f>>>8&255;Z[e|15]=f&255;Z[e|16]=a>>>24;Z[e|17]=a>>>16&255;Z[e|18]=a>>>8&255;Z[e|19]=a&255;Z[e|20]=o>>>24;Z[e|21]=o>>>16&255;Z[e|22]=o>>>8&255;Z[e|23]=o&255;Z[e|24]=c>>>24;Z[e|25]=c>>>16&255;Z[e|26]=c>>>8&255;Z[e|27]=c&255;Z[e|28]=u>>>24;Z[e|29]=u>>>16&255;Z[e|30]=u>>>8&255;Z[e|31]=u&255;Z[e|32]=l>>>24;Z[e|33]=l>>>16&255;Z[e|34]=l>>>8&255;Z[e|35]=l&255;Z[e|36]=h>>>24;Z[e|37]=h>>>16&255;Z[e|38]=h>>>8&255;Z[e|39]=h&255;Z[e|40]=d>>>24;Z[e|41]=d>>>16&255;Z[e|42]=d>>>8&255;Z[e|43]=d&255;Z[e|44]=p>>>24;Z[e|45]=p>>>16&255;Z[e|46]=p>>>8&255;Z[e|47]=p&255;Z[e|48]=y>>>24;Z[e|49]=y>>>16&255;Z[e|50]=y>>>8&255;Z[e|51]=y&255;Z[e|52]=b>>>24;Z[e|53]=b>>>16&255;Z[e|54]=b>>>8&255;Z[e|55]=b&255;Z[e|56]=m>>>24;Z[e|57]=m>>>16&255;Z[e|58]=m>>>8&255;Z[e|59]=m&255;Z[e|60]=g>>>24;Z[e|61]=g>>>16&255;Z[e|62]=g>>>8&255;Z[e|63]=g&255}function ne(){n=0x6a09e667;i=0xf3bcc908;s=0xbb67ae85;f=0x84caa73b;a=0x3c6ef372;o=0xfe94f82b;c=0xa54ff53a;u=0x5f1d36f1;l=0x510e527f;h=0xade682d1;d=0x9b05688c;p=0x2b3e6c1f;y=0x1f83d9ab;b=0xfb41bd6b;m=0x5be0cd19;g=0x137e2179;v=w=0}function ie(e,t,r,A,$,_,E,S,T,C,P,x,I,k,M,B,R,N){e=e|0;t=t|0;r=r|0;A=A|0;$=$|0;_=_|0;E=E|0;S=S|0;T=T|0;C=C|0;P=P|0;x=x|0;I=I|0;k=k|0;M=M|0;B=B|0;R=R|0;N=N|0;n=e;i=t;s=r;f=A;a=$;o=_;c=E;u=S;l=T;h=C;d=P;p=x;y=I;b=k;m=M;g=B;v=R;w=N}function se(e,t){e=e|0;t=t|0;var r=0;if(e&127)return-1;while((t|0)>=128){te(e);e=e+128|0;t=t-128|0;r=r+128|0}v=v+r|0;if(v>>>0<r>>>0)w=w+1|0;return r|0}function fe(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0;if(e&127)return-1;if(~r)if(r&63)return-1;if((t|0)>=128){n=se(e,t)|0;if((n|0)==-1)return-1;e=e+n|0;t=t-n|0}n=n+t|0;v=v+t|0;if(v>>>0<t>>>0)w=w+1|0;Z[e|t]=0x80;if((t|0)>=112){for(i=t+1|0;(i|0)<128;i=i+1|0)Z[e|i]=0x00;te(e);t=0;Z[e|0]=0}for(i=t+1|0;(i|0)<123;i=i+1|0)Z[e|i]=0;Z[e|120]=w>>>21&255;Z[e|121]=w>>>13&255;Z[e|122]=w>>>5&255;Z[e|123]=w<<3&255|v>>>29;Z[e|124]=v>>>21&255;Z[e|125]=v>>>13&255;Z[e|126]=v>>>5&255;Z[e|127]=v<<3&255;te(e);if(~r)re(r);return n|0}function ae(){n=A;i=$;s=_;f=E;a=S;o=T;c=C;u=P;l=x;h=I;d=k;p=M;y=B;b=R;m=N;g=D;v=128;w=0}function oe(){n=O;i=U;s=F;f=L;a=j;o=H;c=K;u=G;l=V;h=X;d=W;p=z;y=Y;b=J;m=q;g=Q;v=128;w=0}function ce(e,t,r,Z,te,re,ie,se,fe,ae,oe,ce,ue,le,he,de,pe,ye,be,me,ge,ve,we,Ae,$e,_e,Ee,Se,Te,Ce,Pe,xe){e=e|0;t=t|0;r=r|0;Z=Z|0;te=te|0;re=re|0;ie=ie|0;se=se|0;fe=fe|0;ae=ae|0;oe=oe|0;ce=ce|0;ue=ue|0;le=le|0;he=he|0;de=de|0;pe=pe|0;ye=ye|0;be=be|0;me=me|0;ge=ge|0;ve=ve|0;we=we|0;Ae=Ae|0;$e=$e|0;_e=_e|0;Ee=Ee|0;Se=Se|0;Te=Te|0;Ce=Ce|0;Pe=Pe|0;xe=xe|0;ne();ee(e^0x5c5c5c5c,t^0x5c5c5c5c,r^0x5c5c5c5c,Z^0x5c5c5c5c,te^0x5c5c5c5c,re^0x5c5c5c5c,ie^0x5c5c5c5c,se^0x5c5c5c5c,fe^0x5c5c5c5c,ae^0x5c5c5c5c,oe^0x5c5c5c5c,ce^0x5c5c5c5c,ue^0x5c5c5c5c,le^0x5c5c5c5c,he^0x5c5c5c5c,de^0x5c5c5c5c,pe^0x5c5c5c5c,ye^0x5c5c5c5c,be^0x5c5c5c5c,me^0x5c5c5c5c,ge^0x5c5c5c5c,ve^0x5c5c5c5c,we^0x5c5c5c5c,Ae^0x5c5c5c5c,$e^0x5c5c5c5c,_e^0x5c5c5c5c,Ee^0x5c5c5c5c,Se^0x5c5c5c5c,Te^0x5c5c5c5c,Ce^0x5c5c5c5c,Pe^0x5c5c5c5c,xe^0x5c5c5c5c);O=n;U=i;F=s;L=f;j=a;H=o;K=c;G=u;V=l;X=h;W=d;z=p;Y=y;J=b;q=m;Q=g;ne();ee(e^0x36363636,t^0x36363636,r^0x36363636,Z^0x36363636,te^0x36363636,re^0x36363636,ie^0x36363636,se^0x36363636,fe^0x36363636,ae^0x36363636,oe^0x36363636,ce^0x36363636,ue^0x36363636,le^0x36363636,he^0x36363636,de^0x36363636,pe^0x36363636,ye^0x36363636,be^0x36363636,me^0x36363636,ge^0x36363636,ve^0x36363636,we^0x36363636,Ae^0x36363636,$e^0x36363636,_e^0x36363636,Ee^0x36363636,Se^0x36363636,Te^0x36363636,Ce^0x36363636,Pe^0x36363636,xe^0x36363636);A=n;$=i;_=s;E=f;S=a;T=o;C=c;P=u;x=l;I=h;k=d;M=p;B=y;R=b;N=m;D=g;v=128;w=0}function ue(e,t,r){e=e|0;t=t|0;r=r|0;var v=0,w=0,A=0,$=0,_=0,E=0,S=0,T=0,C=0,P=0,x=0,I=0,k=0,M=0,B=0,R=0,N=0;if(e&127)return-1;if(~r)if(r&63)return-1;N=fe(e,t,-1)|0;v=n;w=i;A=s;$=f;_=a;E=o;S=c;T=u;C=l;P=h;x=d;I=p;k=y;M=b;B=m;R=g;oe();ee(v,w,A,$,_,E,S,T,C,P,x,I,k,M,B,R,0x80000000,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1536);if(~r)re(r);return N|0}function le(e,t,r,v,w){e=e|0;t=t|0;r=r|0;v=v|0;w=w|0;var A=0,$=0,_=0,E=0,S=0,T=0,C=0,P=0,x=0,I=0,k=0,M=0,B=0,R=0,N=0,D=0,O=0,U=0,F=0,L=0,j=0,H=0,K=0,G=0,V=0,X=0,W=0,z=0,Y=0,J=0,q=0,Q=0;if(e&127)return-1;if(~w)if(w&63)return-1;Z[e+t|0]=r>>>24;Z[e+t+1|0]=r>>>16&255;Z[e+t+2|0]=r>>>8&255;Z[e+t+3|0]=r&255;ue(e,t+4|0,-1)|0;A=O=n;$=U=i;_=F=s;E=L=f;S=j=a;T=H=o;C=K=c;P=G=u;x=V=l;I=X=h;k=W=d;M=z=p;B=Y=y;R=J=b;N=q=m;D=Q=g;v=v-1|0;while((v|0)>0){ae();ee(O,U,F,L,j,H,K,G,V,X,W,z,Y,J,q,Q,0x80000000,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1536);O=n;U=i;F=s;L=f;j=a;H=o;K=c;G=u;V=l;X=h;W=d;z=p;Y=y;J=b;q=m;Q=g;oe();ee(O,U,F,L,j,H,K,G,V,X,W,z,Y,J,q,Q,0x80000000,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1536);O=n;U=i;F=s;L=f;j=a;H=o;K=c;G=u;V=l;X=h;W=d;z=p;Y=y;J=b;q=m;Q=g;A=A^n;$=$^i;_=_^s;E=E^f;S=S^a;T=T^o;C=C^c;P=P^u;x=x^l;I=I^h;k=k^d;M=M^p;B=B^y;R=R^b;N=N^m;D=D^g;v=v-1|0}n=A;i=$;s=_;f=E;a=S;o=T;c=C;u=P;l=x;h=I;d=k;p=M;y=B;b=R;m=N;g=D;if(~w)re(w);return 0}return{reset:ne,init:ie,process:se,finish:fe,hmac_reset:ae,hmac_init:ce,hmac_finish:ue,pbkdf2_generate_block:le}};const _sha512_block_size=128;const _sha512_hash_size=64;class Sha512 extends Hash{constructor(){super();this.NAME="sha512";this.BLOCK_SIZE=_sha512_block_size;this.HASH_SIZE=_sha512_hash_size;this.heap=_heap_init();this.asm=sha512_asm({Uint8Array},null,this.heap.buffer);this.reset()}}Sha512.NAME="sha512";class Hmac$1{constructor(e,t,r){if(!e.HASH_SIZE)throw new SyntaxError("option 'hash' supplied doesn't seem to be a valid hash function");this.hash=e;this.BLOCK_SIZE=this.hash.BLOCK_SIZE;this.HMAC_SIZE=this.hash.HASH_SIZE;this.result=null;this.key=_hmac_key(this.hash,t);const n=new Uint8Array(this.key);for(let e=0;e<n.length;++e)n[e]^=54;this.hash.reset().process(n);if(r!==undefined){this._hmac_init_verify(r)}else{this.verify=null}}process(e){if(this.result!==null)throw new IllegalStateError("state must be reset before processing new data");this.hash.process(e);return this}finish(){if(this.result!==null)throw new IllegalStateError("state must be reset before processing new data");const e=this.hash.finish().result;const t=new Uint8Array(this.key);for(let e=0;e<t.length;++e)t[e]^=92;const r=this.verify;const n=this.hash.reset().process(t).process(e).finish().result;if(r){if(r.length===n.length){let e=0;for(let t=0;t<r.length;t++){e|=r[t]^n[t]}if(e!==0)throw new Error("HMAC verification failed, hash value doesn't match")}else{throw new Error("HMAC verification failed, lengths doesn't match")}}this.result=n;return this}_hmac_init_verify(e){if(e.length!==this.HMAC_SIZE)throw new IllegalArgumentError("illegal verification tag size");this.verify=e}}function _hmac_key(e,t){const r=new Uint8Array(e.BLOCK_SIZE);if(t.length>e.BLOCK_SIZE){r.set(e.reset().process(t).finish().result)}else{r.set(t)}return r}class HmacSha1 extends Hmac$1{constructor(e,t){const r=new Sha1;super(r,e,t);this.reset();if(t!==undefined){this._hmac_init_verify(t)}else{this.verify=null}return this}reset(){this.result=null;const e=this.key;this.hash.reset().asm.hmac_init(e[0]<<24|e[1]<<16|e[2]<<8|e[3],e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[8]<<24|e[9]<<16|e[10]<<8|e[11],e[12]<<24|e[13]<<16|e[14]<<8|e[15],e[16]<<24|e[17]<<16|e[18]<<8|e[19],e[20]<<24|e[21]<<16|e[22]<<8|e[23],e[24]<<24|e[25]<<16|e[26]<<8|e[27],e[28]<<24|e[29]<<16|e[30]<<8|e[31],e[32]<<24|e[33]<<16|e[34]<<8|e[35],e[36]<<24|e[37]<<16|e[38]<<8|e[39],e[40]<<24|e[41]<<16|e[42]<<8|e[43],e[44]<<24|e[45]<<16|e[46]<<8|e[47],e[48]<<24|e[49]<<16|e[50]<<8|e[51],e[52]<<24|e[53]<<16|e[54]<<8|e[55],e[56]<<24|e[57]<<16|e[58]<<8|e[59],e[60]<<24|e[61]<<16|e[62]<<8|e[63]);return this}finish(){if(this.result!==null)throw new IllegalStateError("state must be reset before processing new data");const e=this.hash;const t=this.hash.asm;const r=this.hash.heap;t.hmac_finish(e.pos,e.len,0);const n=this.verify;const i=new Uint8Array(_sha1_hash_size);i.set(r.subarray(0,_sha1_hash_size));if(n){if(n.length===i.length){let e=0;for(let t=0;t<n.length;t++){e|=n[t]^i[t]}if(e!==0)throw new Error("HMAC verification failed, hash value doesn't match")}else{throw new Error("HMAC verification failed, lengths doesn't match")}}else{this.result=i}return this}}class HmacSha256 extends Hmac$1{constructor(e,t){const r=new Sha256;super(r,e,t);this.reset();if(t!==undefined){this._hmac_init_verify(t)}else{this.verify=null}return this}reset(){const e=this.key;this.hash.reset().asm.hmac_init(e[0]<<24|e[1]<<16|e[2]<<8|e[3],e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[8]<<24|e[9]<<16|e[10]<<8|e[11],e[12]<<24|e[13]<<16|e[14]<<8|e[15],e[16]<<24|e[17]<<16|e[18]<<8|e[19],e[20]<<24|e[21]<<16|e[22]<<8|e[23],e[24]<<24|e[25]<<16|e[26]<<8|e[27],e[28]<<24|e[29]<<16|e[30]<<8|e[31],e[32]<<24|e[33]<<16|e[34]<<8|e[35],e[36]<<24|e[37]<<16|e[38]<<8|e[39],e[40]<<24|e[41]<<16|e[42]<<8|e[43],e[44]<<24|e[45]<<16|e[46]<<8|e[47],e[48]<<24|e[49]<<16|e[50]<<8|e[51],e[52]<<24|e[53]<<16|e[54]<<8|e[55],e[56]<<24|e[57]<<16|e[58]<<8|e[59],e[60]<<24|e[61]<<16|e[62]<<8|e[63]);return this}finish(){if(this.key===null)throw new IllegalStateError("no key is associated with the instance");if(this.result!==null)throw new IllegalStateError("state must be reset before processing new data");const e=this.hash;const t=this.hash.asm;const r=this.hash.heap;t.hmac_finish(e.pos,e.len,0);const n=this.verify;const i=new Uint8Array(_sha256_hash_size);i.set(r.subarray(0,_sha256_hash_size));if(n){if(n.length===i.length){let e=0;for(let t=0;t<n.length;t++){e|=n[t]^i[t]}if(e!==0)throw new Error("HMAC verification failed, hash value doesn't match")}else{throw new Error("HMAC verification failed, lengths doesn't match")}}else{this.result=i}return this}}class HmacSha512 extends Hmac$1{constructor(e,t){const r=new Sha512;super(r,e,t);this.reset();if(t!==undefined){this._hmac_init_verify(t)}else{this.verify=null}return this}reset(){const e=this.key;this.hash.reset().asm.hmac_init(e[0]<<24|e[1]<<16|e[2]<<8|e[3],e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[8]<<24|e[9]<<16|e[10]<<8|e[11],e[12]<<24|e[13]<<16|e[14]<<8|e[15],e[16]<<24|e[17]<<16|e[18]<<8|e[19],e[20]<<24|e[21]<<16|e[22]<<8|e[23],e[24]<<24|e[25]<<16|e[26]<<8|e[27],e[28]<<24|e[29]<<16|e[30]<<8|e[31],e[32]<<24|e[33]<<16|e[34]<<8|e[35],e[36]<<24|e[37]<<16|e[38]<<8|e[39],e[40]<<24|e[41]<<16|e[42]<<8|e[43],e[44]<<24|e[45]<<16|e[46]<<8|e[47],e[48]<<24|e[49]<<16|e[50]<<8|e[51],e[52]<<24|e[53]<<16|e[54]<<8|e[55],e[56]<<24|e[57]<<16|e[58]<<8|e[59],e[60]<<24|e[61]<<16|e[62]<<8|e[63],e[64]<<24|e[65]<<16|e[66]<<8|e[67],e[68]<<24|e[69]<<16|e[70]<<8|e[71],e[72]<<24|e[73]<<16|e[74]<<8|e[75],e[76]<<24|e[77]<<16|e[78]<<8|e[79],e[80]<<24|e[81]<<16|e[82]<<8|e[83],e[84]<<24|e[85]<<16|e[86]<<8|e[87],e[88]<<24|e[89]<<16|e[90]<<8|e[91],e[92]<<24|e[93]<<16|e[94]<<8|e[95],e[96]<<24|e[97]<<16|e[98]<<8|e[99],e[100]<<24|e[101]<<16|e[102]<<8|e[103],e[104]<<24|e[105]<<16|e[106]<<8|e[107],e[108]<<24|e[109]<<16|e[110]<<8|e[111],e[112]<<24|e[113]<<16|e[114]<<8|e[115],e[116]<<24|e[117]<<16|e[118]<<8|e[119],e[120]<<24|e[121]<<16|e[122]<<8|e[123],e[124]<<24|e[125]<<16|e[126]<<8|e[127]);return this}finish(){if(this.key===null)throw new IllegalStateError("no key is associated with the instance");if(this.result!==null)throw new IllegalStateError("state must be reset before processing new data");const e=this.hash;const t=this.hash.asm;const r=this.hash.heap;t.hmac_finish(e.pos,e.len,0);const n=this.verify;const i=new Uint8Array(_sha512_hash_size);i.set(r.subarray(0,_sha512_hash_size));if(n){if(n.length===i.length){let e=0;for(let t=0;t<n.length;t++){e|=n[t]^i[t]}if(e!==0)throw new Error("HMAC verification failed, hash value doesn't match")}else{throw new Error("HMAC verification failed, lengths doesn't match")}}else{this.result=i}return this}}function Pbkdf2HmacSha1(e,t,r,n){const i=new HmacSha1(e);const s=new Uint8Array(n);const f=Math.ceil(n/i.HMAC_SIZE);for(let e=1;e<=f;++e){const a=(e-1)*i.HMAC_SIZE;const o=(e<f?0:n%i.HMAC_SIZE)||i.HMAC_SIZE;i.reset().process(t);i.hash.asm.pbkdf2_generate_block(i.hash.pos,i.hash.len,e,r,0);s.set(i.hash.heap.subarray(0,o),a)}return s}function Pbkdf2HmacSha256(e,t,r,n){const i=new HmacSha256(e);const s=new Uint8Array(n);const f=Math.ceil(n/i.HMAC_SIZE);for(let e=1;e<=f;++e){const a=(e-1)*i.HMAC_SIZE;const o=(e<f?0:n%i.HMAC_SIZE)||i.HMAC_SIZE;i.reset().process(t);i.hash.asm.pbkdf2_generate_block(i.hash.pos,i.hash.len,e,r,0);s.set(i.hash.heap.subarray(0,o),a)}return s}function Pbkdf2HmacSha512(e,t,r,n){const i=new HmacSha512(e);const s=new Uint8Array(n);const f=Math.ceil(n/i.HMAC_SIZE);for(let e=1;e<=f;++e){const a=(e-1)*i.HMAC_SIZE;const o=(e<f?0:n%i.HMAC_SIZE)||i.HMAC_SIZE;i.reset().process(t);i.hash.asm.pbkdf2_generate_block(i.hash.pos,i.hash.len,e,r,0);s.set(i.hash.heap.subarray(0,o),a)}return s}class RSA{constructor(e){const t=e.length;if(t!==2&&t!==3&&t!==8)throw new SyntaxError("unexpected key type");const r=new Modulus(new BigNumber$1(e[0]));const n=new BigNumber$1(e[1]);this.key={0:r,1:n};if(t>2){this.key[2]=new BigNumber$1(e[2])}if(t>3){this.key[3]=new Modulus(new BigNumber$1(e[3]));this.key[4]=new Modulus(new BigNumber$1(e[4]));this.key[5]=new BigNumber$1(e[5]);this.key[6]=new BigNumber$1(e[6]);this.key[7]=new BigNumber$1(e[7])}}encrypt(e){if(!this.key)throw new IllegalStateError("no key is associated with the instance");if(this.key[0].compare(e)<=0)throw new RangeError("data too large");const t=this.key[0];const r=this.key[1];let n=t.power(e,r).toBytes();const i=t.bitLength+7>>3;if(n.length<i){const e=new Uint8Array(i);e.set(n,i-n.length);n=e}this.result=n;return this}decrypt(e){if(this.key[0].compare(e)<=0)throw new RangeError("data too large");let t;let r;if(this.key[3]!==undefined){r=this.key[0];const n=this.key[3];const i=this.key[4];const s=this.key[5];const f=this.key[6];const a=this.key[7];const o=n.power(e,s);const c=i.power(e,f);let u=o.subtract(c);while(u.sign<0)u=u.add(n);const l=n.reduce(a.multiply(u));t=l.multiply(i).add(c).clamp(r.bitLength).toBytes()}else{r=this.key[0];const n=this.key[2];t=r.power(e,n).toBytes()}const n=r.bitLength+7>>3;if(t.length<n){let e=new Uint8Array(n);e.set(t,n-t.length);t=e}this.result=t;return this}}class RSA_OAEP{constructor(e,t,r){this.rsa=new RSA(e);this.hash=t;if(r!==undefined){this.label=r.length>0?r:null}else{this.label=null}}encrypt(e,t){const r=Math.ceil(this.rsa.key[0].bitLength/8);const n=this.hash.HASH_SIZE;const i=e.byteLength||e.length||0;const s=r-i-2*n-2;if(i>r-2*this.hash.HASH_SIZE-2)throw new IllegalArgumentError("data too large");const f=new Uint8Array(r);const a=f.subarray(1,n+1);const o=f.subarray(n+1);o.set(e,n+s+1);o.set(this.hash.process(this.label||new Uint8Array(0)).finish().result,0);o[n+s]=1;if(t!==undefined){if(a.length!==t.length)throw new IllegalArgumentError("random size must equal the hash size");a.set(t)}else{getRandomValues(a)}const c=this.RSA_MGF1_generate(a,o.length);for(let e=0;e<o.length;e++)o[e]^=c[e];const u=this.RSA_MGF1_generate(o,a.length);for(let e=0;e<a.length;e++)a[e]^=u[e];this.rsa.encrypt(new BigNumber$1(f));return new Uint8Array(this.rsa.result)}decrypt(e){if(!this.rsa.key)throw new IllegalStateError("no key is associated with the instance");const t=Math.ceil(this.rsa.key[0].bitLength/8);const r=this.hash.HASH_SIZE;const n=e.byteLength||e.length||0;if(n!==t)throw new IllegalArgumentError("bad data");this.rsa.decrypt(new BigNumber$1(e));const i=this.rsa.result[0];const s=this.rsa.result.subarray(1,r+1);const f=this.rsa.result.subarray(r+1);if(i!==0)throw new SecurityError("decryption failed");const a=this.RSA_MGF1_generate(f,s.length);for(let e=0;e<s.length;e++)s[e]^=a[e];const o=this.RSA_MGF1_generate(s,f.length);for(let e=0;e<f.length;e++)f[e]^=o[e];const c=this.hash.reset().process(this.label||new Uint8Array(0)).finish().result;for(let e=0;e<r;e++){if(c[e]!==f[e])throw new SecurityError("decryption failed")}let u=r;for(;u<f.length;u++){const e=f[u];if(e===1)break;if(e!==0)throw new SecurityError("decryption failed")}if(u===f.length)throw new SecurityError("decryption failed");this.rsa.result=f.subarray(u+1);return new Uint8Array(this.rsa.result)}RSA_MGF1_generate(e,t=0){const r=this.hash.HASH_SIZE;const n=new Uint8Array(t);const i=new Uint8Array(4);const s=Math.ceil(t/r);for(let t=0;t<s;t++){i[0]=t>>>24,i[1]=t>>>16&255,i[2]=t>>>8&255,i[3]=t&255;const s=n.subarray(t*r);let f=this.hash.reset().process(e).process(i).finish().result;if(f.length>s.length)f=f.subarray(0,s.length);s.set(f)}return n}}class RSA_PSS{constructor(e,t,r=4){this.rsa=new RSA(e);this.hash=t;this.saltLength=r;if(this.saltLength<0)throw new TypeError("saltLength should be a non-negative number");if(this.rsa.key!==null&&Math.ceil((this.rsa.key[0].bitLength-1)/8)<this.hash.HASH_SIZE+this.saltLength+2)throw new SyntaxError("saltLength is too large")}sign(e,t){const r=this.rsa.key[0].bitLength;const n=this.hash.HASH_SIZE;const i=Math.ceil((r-1)/8);const s=this.saltLength;const f=i-s-n-2;const a=new Uint8Array(i);const o=a.subarray(i-n-1,i-1);const c=a.subarray(0,i-n-1);const u=c.subarray(f+1);const l=new Uint8Array(8+n+s);const h=l.subarray(8,8+n);const d=l.subarray(8+n);h.set(this.hash.process(e).finish().result);if(s>0){if(t!==undefined){if(d.length!==t.length)throw new IllegalArgumentError("random size must equal the salt size");d.set(t)}else{getRandomValues(d)}}c[f]=1;u.set(d);o.set(this.hash.reset().process(l).finish().result);const p=this.RSA_MGF1_generate(o,c.length);for(let e=0;e<c.length;e++)c[e]^=p[e];a[i-1]=188;const y=8*i-r+1;if(y%8)a[0]&=255>>>y;this.rsa.decrypt(new BigNumber$1(a));return this.rsa.result}verify(e,t){const r=this.rsa.key[0].bitLength;const n=this.hash.HASH_SIZE;const i=Math.ceil((r-1)/8);const s=this.saltLength;const f=i-s-n-2;this.rsa.encrypt(new BigNumber$1(e));const a=this.rsa.result;if(a[i-1]!==188)throw new SecurityError("bad signature");const o=a.subarray(i-n-1,i-1);const c=a.subarray(0,i-n-1);const u=c.subarray(f+1);const l=8*i-r+1;if(l%8&&a[0]>>>8-l)throw new SecurityError("bad signature");const h=this.RSA_MGF1_generate(o,c.length);for(let e=0;e<c.length;e++)c[e]^=h[e];if(l%8)a[0]&=255>>>l;for(let e=0;e<f;e++){if(c[e]!==0)throw new SecurityError("bad signature")}if(c[f]!==1)throw new SecurityError("bad signature");const d=new Uint8Array(8+n+s);const p=d.subarray(8,8+n);const y=d.subarray(8+n);p.set(this.hash.reset().process(t).finish().result);y.set(u);const b=this.hash.reset().process(d).finish().result;for(let e=0;e<n;e++){if(o[e]!==b[e])throw new SecurityError("bad signature")}}RSA_MGF1_generate(e,t=0){const r=this.hash.HASH_SIZE;const n=new Uint8Array(t);const i=new Uint8Array(4);const s=Math.ceil(t/r);for(let t=0;t<s;t++){i[0]=t>>>24,i[1]=t>>>16&255,i[2]=t>>>8&255,i[3]=t&255;const s=n.subarray(t*r);let f=this.hash.reset().process(e).process(i).finish().result;if(f.length>s.length)f=f.subarray(0,s.length);s.set(f)}return n}}class RSA_PKCS1_v1_5{constructor(e,t){this.rsa=new RSA(e);this.hash=t}sign(e){if(!this.rsa.key){throw new IllegalStateError("no key is associated with the instance")}const t=getHashPrefix(this.hash);const r=this.hash.HASH_SIZE;const n=t.length+r;const i=this.rsa.key[0].bitLength+7>>3;if(i<n+11){throw new Error("Message too long")}const s=new Uint8Array(r);s.set(this.hash.process(e).finish().result);const f=new Uint8Array(i);let a=0;f[a++]=0;f[a++]=1;for(a;a<i-n-1;a++){f[a]=255}f[a++]=0;f.set(t,a);f.set(s,f.length-r);this.rsa.decrypt(new BigNumber$1(f));return this.rsa.result}verify(e,t){const r=getHashPrefix(this.hash);const n=this.hash.HASH_SIZE;const i=r.length+n;const s=this.rsa.key[0].bitLength+7>>3;if(s<i+11){throw new SecurityError("Bad signature")}this.rsa.encrypt(new BigNumber$1(e));const f=new Uint8Array(n);f.set(this.hash.process(t).finish().result);let a=1;const o=this.rsa.result;let c=0;a&=o[c++]===0?1:0;a&=o[c++]===1?1:0;for(c;c<s-i-1;c++){a&=o[c]===255?1:0}a&=o[c++]===0?1:0;let u=0;let l=c+r.length;for(c;c<l;c++){a&=o[c]===r[u++]?1:0}u=0;l=c+f.length;for(c;c<l;c++){a&=o[c]===f[u++]?1:0}if(!a){throw new SecurityError("Bad signature")}}}const HASH_PREFIXES={sha1:new Uint8Array([48,33,48,9,6,5,43,14,3,2,26,5,0,4,20]),sha256:new Uint8Array([48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32]),sha384:new Uint8Array([48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48]),sha512:new Uint8Array([48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64])};function getHashPrefix(e){const t=HASH_PREFIXES[e.NAME];if(!t){throw new Error("Cannot get hash prefix for hash algorithm '"+e.NAME+"'")}return t}var bn$2=createCommonjsModule$2((function(e){(function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype;e.prototype=new r;e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e)){return e}this.negative=0;this.words=null;this.length=0;this.red=null;if(e!==null){if(t==="le"||t==="be"){r=t;t=10}this._init(e||0,t||10,r||"be")}}if(typeof e==="object"){e.exports=i}else{t.BN=i}i.BN=i;i.wordSize=26;var s;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined"){s=window.Buffer}else{s=require$$0$1.Buffer}}catch(e){}i.isBN=function e(t){if(t instanceof i){return true}return t!==null&&typeof t==="object"&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)};i.max=function e(t,r){if(t.cmp(r)>0)return t;return r};i.min=function e(t,r){if(t.cmp(r)<0)return t;return r};i.prototype._init=function e(t,n,i){if(typeof t==="number"){return this._initNumber(t,n,i)}if(typeof t==="object"){return this._initArray(t,n,i)}if(n==="hex"){n=16}r(n===(n|0)&&n>=2&&n<=36);t=t.toString().replace(/\s+/g,"");var s=0;if(t[0]==="-"){s++;this.negative=1}if(s<t.length){if(n===16){this._parseHex(t,s,i)}else{this._parseBase(t,n,s);if(i==="le"){this._initArray(this.toArray(),n,i)}}}};i.prototype._initNumber=function e(t,n,i){if(t<0){this.negative=1;t=-t}if(t<67108864){this.words=[t&67108863];this.length=1}else if(t<4503599627370496){this.words=[t&67108863,t/67108864&67108863];this.length=2}else{r(t<9007199254740992);this.words=[t&67108863,t/67108864&67108863,1];this.length=3}if(i!=="le")return;this._initArray(this.toArray(),n,i)};i.prototype._initArray=function e(t,n,i){r(typeof t.length==="number");if(t.length<=0){this.words=[0];this.length=1;return this}this.length=Math.ceil(t.length/3);this.words=new Array(this.length);for(var s=0;s<this.length;s++){this.words[s]=0}var f,a;var o=0;if(i==="be"){for(s=t.length-1,f=0;s>=0;s-=3){a=t[s]|t[s-1]<<8|t[s-2]<<16;this.words[f]|=a<<o&67108863;this.words[f+1]=a>>>26-o&67108863;o+=24;if(o>=26){o-=26;f++}}}else if(i==="le"){for(s=0,f=0;s<t.length;s+=3){a=t[s]|t[s+1]<<8|t[s+2]<<16;this.words[f]|=a<<o&67108863;this.words[f+1]=a>>>26-o&67108863;o+=24;if(o>=26){o-=26;f++}}}return this.strip()};function f(e,t){var r=e.charCodeAt(t);if(r>=65&&r<=70){return r-55}else if(r>=97&&r<=102){return r-87}else{return r-48&15}}function a(e,t,r){var n=f(e,r);if(r-1>=t){n|=f(e,r-1)<<4}return n}i.prototype._parseHex=function e(t,r,n){this.length=Math.ceil((t.length-r)/6);this.words=new Array(this.length);for(var i=0;i<this.length;i++){this.words[i]=0}var s=0;var f=0;var o;if(n==="be"){for(i=t.length-1;i>=r;i-=2){o=a(t,r,i)<<s;this.words[f]|=o&67108863;if(s>=18){s-=18;f+=1;this.words[f]|=o>>>26}else{s+=8}}}else{var c=t.length-r;for(i=c%2===0?r+1:r;i<t.length;i+=2){o=a(t,r,i)<<s;this.words[f]|=o&67108863;if(s>=18){s-=18;f+=1;this.words[f]|=o>>>26}else{s+=8}}}this.strip()};function o(e,t,r,n){var i=0;var s=Math.min(e.length,r);for(var f=t;f<s;f++){var a=e.charCodeAt(f)-48;i*=n;if(a>=49){i+=a-49+10}else if(a>=17){i+=a-17+10}else{i+=a}}return i}i.prototype._parseBase=function e(t,r,n){this.words=[0];this.length=1;for(var i=0,s=1;s<=67108863;s*=r){i++}i--;s=s/r|0;var f=t.length-n;var a=f%i;var c=Math.min(f,f-a)+n;var u=0;for(var l=n;l<c;l+=i){u=o(t,l,l+i,r);this.imuln(s);if(this.words[0]+u<67108864){this.words[0]+=u}else{this._iaddn(u)}}if(a!==0){var h=1;u=o(t,l,t.length,r);for(l=0;l<a;l++){h*=r}this.imuln(h);if(this.words[0]+u<67108864){this.words[0]+=u}else{this._iaddn(u)}}this.strip()};i.prototype.copy=function e(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++){t.words[r]=this.words[r]}t.length=this.length;t.negative=this.negative;t.red=this.red};i.prototype.clone=function e(){var t=new i(null);this.copy(t);return t};i.prototype._expand=function e(t){while(this.length<t){this.words[this.length++]=0}return this};i.prototype.strip=function e(){while(this.length>1&&this.words[this.length-1]===0){this.length--}return this._normSign()};i.prototype._normSign=function e(){if(this.length===1&&this.words[0]===0){this.negative=0}return this};i.prototype.inspect=function e(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];var u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function e(t,n){t=t||10;n=n|0||1;var i;if(t===16||t==="hex"){i="";var s=0;var f=0;for(var a=0;a<this.length;a++){var o=this.words[a];var h=((o<<s|f)&16777215).toString(16);f=o>>>24-s&16777215;if(f!==0||a!==this.length-1){i=c[6-h.length]+h+i}else{i=h+i}s+=2;if(s>=26){s-=26;a--}}if(f!==0){i=f.toString(16)+i}while(i.length%n!==0){i="0"+i}if(this.negative!==0){i="-"+i}return i}if(t===(t|0)&&t>=2&&t<=36){var d=u[t];var p=l[t];i="";var y=this.clone();y.negative=0;while(!y.isZero()){var b=y.modn(p).toString(t);y=y.idivn(p);if(!y.isZero()){i=c[d-b.length]+b+i}else{i=b+i}}if(this.isZero()){i="0"+i}while(i.length%n!==0){i="0"+i}if(this.negative!==0){i="-"+i}return i}r(false,"Base should be between 2 and 36")};i.prototype.toNumber=function e(){var t=this.words[0];if(this.length===2){t+=this.words[1]*67108864}else if(this.length===3&&this.words[2]===1){t+=4503599627370496+this.words[1]*67108864}else if(this.length>2){r(false,"Number can only safely store up to 53 bits")}return this.negative!==0?-t:t};i.prototype.toJSON=function e(){return this.toString(16)};i.prototype.toBuffer=function e(t,n){r(typeof s!=="undefined");return this.toArrayLike(s,t,n)};i.prototype.toArray=function e(t,r){return this.toArrayLike(Array,t,r)};i.prototype.toArrayLike=function e(t,n,i){var s=this.byteLength();var f=i||Math.max(1,s);r(s<=f,"byte array longer than desired length");r(f>0,"Requested array length <= 0");this.strip();var a=n==="le";var o=new t(f);var c,u;var l=this.clone();if(!a){for(u=0;u<f-s;u++){o[u]=0}for(u=0;!l.isZero();u++){c=l.andln(255);l.iushrn(8);o[f-u-1]=c}}else{for(u=0;!l.isZero();u++){c=l.andln(255);l.iushrn(8);o[u]=c}for(;u<f;u++){o[u]=0}}return o};if(Math.clz32){i.prototype._countBits=function e(t){return 32-Math.clz32(t)}}else{i.prototype._countBits=function e(t){var r=t;var n=0;if(r>=4096){n+=13;r>>>=13}if(r>=64){n+=7;r>>>=7}if(r>=8){n+=4;r>>>=4}if(r>=2){n+=2;r>>>=2}return n+r}}i.prototype._zeroBits=function e(t){if(t===0)return 26;var r=t;var n=0;if((r&8191)===0){n+=13;r>>>=13}if((r&127)===0){n+=7;r>>>=7}if((r&15)===0){n+=4;r>>>=4}if((r&3)===0){n+=2;r>>>=2}if((r&1)===0){n++}return n};i.prototype.bitLength=function e(){var t=this.words[this.length-1];var r=this._countBits(t);return(this.length-1)*26+r};function h(e){var t=new Array(e.bitLength());for(var r=0;r<t.length;r++){var n=r/26|0;var i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}i.prototype.zeroBits=function e(){if(this.isZero())return 0;var t=0;for(var r=0;r<this.length;r++){var n=this._zeroBits(this.words[r]);t+=n;if(n!==26)break}return t};i.prototype.byteLength=function e(){return Math.ceil(this.bitLength()/8)};i.prototype.toTwos=function e(t){if(this.negative!==0){return this.abs().inotn(t).iaddn(1)}return this.clone()};i.prototype.fromTwos=function e(t){if(this.testn(t-1)){return this.notn(t).iaddn(1).ineg()}return this.clone()};i.prototype.isNeg=function e(){return this.negative!==0};i.prototype.neg=function e(){return this.clone().ineg()};i.prototype.ineg=function e(){if(!this.isZero()){this.negative^=1}return this};i.prototype.iuor=function e(t){while(this.length<t.length){this.words[this.length++]=0}for(var r=0;r<t.length;r++){this.words[r]=this.words[r]|t.words[r]}return this.strip()};i.prototype.ior=function e(t){r((this.negative|t.negative)===0);return this.iuor(t)};i.prototype.or=function e(t){if(this.length>t.length)return this.clone().ior(t);return t.clone().ior(this)};i.prototype.uor=function e(t){if(this.length>t.length)return this.clone().iuor(t);return t.clone().iuor(this)};i.prototype.iuand=function e(t){var r;if(this.length>t.length){r=t}else{r=this}for(var n=0;n<r.length;n++){this.words[n]=this.words[n]&t.words[n]}this.length=r.length;return this.strip()};i.prototype.iand=function e(t){r((this.negative|t.negative)===0);return this.iuand(t)};i.prototype.and=function e(t){if(this.length>t.length)return this.clone().iand(t);return t.clone().iand(this)};i.prototype.uand=function e(t){if(this.length>t.length)return this.clone().iuand(t);return t.clone().iuand(this)};i.prototype.iuxor=function e(t){var r;var n;if(this.length>t.length){r=this;n=t}else{r=t;n=this}for(var i=0;i<n.length;i++){this.words[i]=r.words[i]^n.words[i]}if(this!==r){for(;i<r.length;i++){this.words[i]=r.words[i]}}this.length=r.length;return this.strip()};i.prototype.ixor=function e(t){r((this.negative|t.negative)===0);return this.iuxor(t)};i.prototype.xor=function e(t){if(this.length>t.length)return this.clone().ixor(t);return t.clone().ixor(this)};i.prototype.uxor=function e(t){if(this.length>t.length)return this.clone().iuxor(t);return t.clone().iuxor(this)};i.prototype.inotn=function e(t){r(typeof t==="number"&&t>=0);var n=Math.ceil(t/26)|0;var i=t%26;this._expand(n);if(i>0){n--}for(var s=0;s<n;s++){this.words[s]=~this.words[s]&67108863}if(i>0){this.words[s]=~this.words[s]&67108863>>26-i}return this.strip()};i.prototype.notn=function e(t){return this.clone().inotn(t)};i.prototype.setn=function e(t,n){r(typeof t==="number"&&t>=0);var i=t/26|0;var s=t%26;this._expand(i+1);if(n){this.words[i]=this.words[i]|1<<s}else{this.words[i]=this.words[i]&~(1<<s)}return this.strip()};i.prototype.iadd=function e(t){var r;if(this.negative!==0&&t.negative===0){this.negative=0;r=this.isub(t);this.negative^=1;return this._normSign()}else if(this.negative===0&&t.negative!==0){t.negative=0;r=this.isub(t);t.negative=1;return r._normSign()}var n,i;if(this.length>t.length){n=this;i=t}else{n=t;i=this}var s=0;for(var f=0;f<i.length;f++){r=(n.words[f]|0)+(i.words[f]|0)+s;this.words[f]=r&67108863;s=r>>>26}for(;s!==0&&f<n.length;f++){r=(n.words[f]|0)+s;this.words[f]=r&67108863;s=r>>>26}this.length=n.length;if(s!==0){this.words[this.length]=s;this.length++}else if(n!==this){for(;f<n.length;f++){this.words[f]=n.words[f]}}return this};i.prototype.add=function e(t){var r;if(t.negative!==0&&this.negative===0){t.negative=0;r=this.sub(t);t.negative^=1;return r}else if(t.negative===0&&this.negative!==0){this.negative=0;r=t.sub(this);this.negative=1;return r}if(this.length>t.length)return this.clone().iadd(t);return t.clone().iadd(this)};i.prototype.isub=function e(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);t.negative=1;return r._normSign()}else if(this.negative!==0){this.negative=0;this.iadd(t);this.negative=1;return this._normSign()}var n=this.cmp(t);if(n===0){this.negative=0;this.length=1;this.words[0]=0;return this}var i,s;if(n>0){i=this;s=t}else{i=t;s=this}var f=0;for(var a=0;a<s.length;a++){r=(i.words[a]|0)-(s.words[a]|0)+f;f=r>>26;this.words[a]=r&67108863}for(;f!==0&&a<i.length;a++){r=(i.words[a]|0)+f;f=r>>26;this.words[a]=r&67108863}if(f===0&&a<i.length&&i!==this){for(;a<i.length;a++){this.words[a]=i.words[a]}}this.length=Math.max(this.length,a);if(i!==this){this.negative=1}return this.strip()};i.prototype.sub=function e(t){return this.clone().isub(t)};function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n;n=n-1|0;var i=e.words[0]|0;var s=t.words[0]|0;var f=i*s;var a=f&67108863;var o=f/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){var u=o>>>26;var l=o&67108863;var h=Math.min(c,t.length-1);for(var d=Math.max(0,c-e.length+1);d<=h;d++){var p=c-d|0;i=e.words[p]|0;s=t.words[d]|0;f=i*s+l;u+=f/67108864|0;l=f&67108863}r.words[c]=l|0;o=u|0}if(o!==0){r.words[c]=o|0}else{r.length--}return r.strip()}var p=function e(t,r,n){var i=t.words;var s=r.words;var f=n.words;var a=0;var o;var c;var u;var l=i[0]|0;var h=l&8191;var d=l>>>13;var p=i[1]|0;var y=p&8191;var b=p>>>13;var m=i[2]|0;var g=m&8191;var v=m>>>13;var w=i[3]|0;var A=w&8191;var $=w>>>13;var _=i[4]|0;var E=_&8191;var S=_>>>13;var T=i[5]|0;var C=T&8191;var P=T>>>13;var x=i[6]|0;var I=x&8191;var k=x>>>13;var M=i[7]|0;var B=M&8191;var R=M>>>13;var N=i[8]|0;var D=N&8191;var O=N>>>13;var U=i[9]|0;var F=U&8191;var L=U>>>13;var j=s[0]|0;var H=j&8191;var K=j>>>13;var G=s[1]|0;var V=G&8191;var X=G>>>13;var W=s[2]|0;var z=W&8191;var Y=W>>>13;var J=s[3]|0;var q=J&8191;var Q=J>>>13;var Z=s[4]|0;var ee=Z&8191;var te=Z>>>13;var re=s[5]|0;var ne=re&8191;var ie=re>>>13;var se=s[6]|0;var fe=se&8191;var ae=se>>>13;var oe=s[7]|0;var ce=oe&8191;var ue=oe>>>13;var le=s[8]|0;var he=le&8191;var de=le>>>13;var pe=s[9]|0;var ye=pe&8191;var be=pe>>>13;n.negative=t.negative^r.negative;n.length=19;o=Math.imul(h,H);c=Math.imul(h,K);c=c+Math.imul(d,H)|0;u=Math.imul(d,K);var me=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(me>>>26)|0;me&=67108863;o=Math.imul(y,H);c=Math.imul(y,K);c=c+Math.imul(b,H)|0;u=Math.imul(b,K);o=o+Math.imul(h,V)|0;c=c+Math.imul(h,X)|0;c=c+Math.imul(d,V)|0;u=u+Math.imul(d,X)|0;var ge=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(ge>>>26)|0;ge&=67108863;o=Math.imul(g,H);c=Math.imul(g,K);c=c+Math.imul(v,H)|0;u=Math.imul(v,K);o=o+Math.imul(y,V)|0;c=c+Math.imul(y,X)|0;c=c+Math.imul(b,V)|0;u=u+Math.imul(b,X)|0;o=o+Math.imul(h,z)|0;c=c+Math.imul(h,Y)|0;c=c+Math.imul(d,z)|0;u=u+Math.imul(d,Y)|0;var ve=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(ve>>>26)|0;ve&=67108863;o=Math.imul(A,H);c=Math.imul(A,K);c=c+Math.imul($,H)|0;u=Math.imul($,K);o=o+Math.imul(g,V)|0;c=c+Math.imul(g,X)|0;c=c+Math.imul(v,V)|0;u=u+Math.imul(v,X)|0;o=o+Math.imul(y,z)|0;c=c+Math.imul(y,Y)|0;c=c+Math.imul(b,z)|0;u=u+Math.imul(b,Y)|0;o=o+Math.imul(h,q)|0;c=c+Math.imul(h,Q)|0;c=c+Math.imul(d,q)|0;u=u+Math.imul(d,Q)|0;var we=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(we>>>26)|0;we&=67108863;o=Math.imul(E,H);c=Math.imul(E,K);c=c+Math.imul(S,H)|0;u=Math.imul(S,K);o=o+Math.imul(A,V)|0;c=c+Math.imul(A,X)|0;c=c+Math.imul($,V)|0;u=u+Math.imul($,X)|0;o=o+Math.imul(g,z)|0;c=c+Math.imul(g,Y)|0;c=c+Math.imul(v,z)|0;u=u+Math.imul(v,Y)|0;o=o+Math.imul(y,q)|0;c=c+Math.imul(y,Q)|0;c=c+Math.imul(b,q)|0;u=u+Math.imul(b,Q)|0;o=o+Math.imul(h,ee)|0;c=c+Math.imul(h,te)|0;c=c+Math.imul(d,ee)|0;u=u+Math.imul(d,te)|0;var Ae=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ae>>>26)|0;Ae&=67108863;o=Math.imul(C,H);c=Math.imul(C,K);c=c+Math.imul(P,H)|0;u=Math.imul(P,K);o=o+Math.imul(E,V)|0;c=c+Math.imul(E,X)|0;c=c+Math.imul(S,V)|0;u=u+Math.imul(S,X)|0;o=o+Math.imul(A,z)|0;c=c+Math.imul(A,Y)|0;c=c+Math.imul($,z)|0;u=u+Math.imul($,Y)|0;o=o+Math.imul(g,q)|0;c=c+Math.imul(g,Q)|0;c=c+Math.imul(v,q)|0;u=u+Math.imul(v,Q)|0;o=o+Math.imul(y,ee)|0;c=c+Math.imul(y,te)|0;c=c+Math.imul(b,ee)|0;u=u+Math.imul(b,te)|0;o=o+Math.imul(h,ne)|0;c=c+Math.imul(h,ie)|0;c=c+Math.imul(d,ne)|0;u=u+Math.imul(d,ie)|0;var $e=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+($e>>>26)|0;$e&=67108863;o=Math.imul(I,H);c=Math.imul(I,K);c=c+Math.imul(k,H)|0;u=Math.imul(k,K);o=o+Math.imul(C,V)|0;c=c+Math.imul(C,X)|0;c=c+Math.imul(P,V)|0;u=u+Math.imul(P,X)|0;o=o+Math.imul(E,z)|0;c=c+Math.imul(E,Y)|0;c=c+Math.imul(S,z)|0;u=u+Math.imul(S,Y)|0;o=o+Math.imul(A,q)|0;c=c+Math.imul(A,Q)|0;c=c+Math.imul($,q)|0;u=u+Math.imul($,Q)|0;o=o+Math.imul(g,ee)|0;c=c+Math.imul(g,te)|0;c=c+Math.imul(v,ee)|0;u=u+Math.imul(v,te)|0;o=o+Math.imul(y,ne)|0;c=c+Math.imul(y,ie)|0;c=c+Math.imul(b,ne)|0;u=u+Math.imul(b,ie)|0;o=o+Math.imul(h,fe)|0;c=c+Math.imul(h,ae)|0;c=c+Math.imul(d,fe)|0;u=u+Math.imul(d,ae)|0;var _e=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(_e>>>26)|0;_e&=67108863;o=Math.imul(B,H);c=Math.imul(B,K);c=c+Math.imul(R,H)|0;u=Math.imul(R,K);o=o+Math.imul(I,V)|0;c=c+Math.imul(I,X)|0;c=c+Math.imul(k,V)|0;u=u+Math.imul(k,X)|0;o=o+Math.imul(C,z)|0;c=c+Math.imul(C,Y)|0;c=c+Math.imul(P,z)|0;u=u+Math.imul(P,Y)|0;o=o+Math.imul(E,q)|0;c=c+Math.imul(E,Q)|0;c=c+Math.imul(S,q)|0;u=u+Math.imul(S,Q)|0;o=o+Math.imul(A,ee)|0;c=c+Math.imul(A,te)|0;c=c+Math.imul($,ee)|0;u=u+Math.imul($,te)|0;o=o+Math.imul(g,ne)|0;c=c+Math.imul(g,ie)|0;c=c+Math.imul(v,ne)|0;u=u+Math.imul(v,ie)|0;o=o+Math.imul(y,fe)|0;c=c+Math.imul(y,ae)|0;c=c+Math.imul(b,fe)|0;u=u+Math.imul(b,ae)|0;o=o+Math.imul(h,ce)|0;c=c+Math.imul(h,ue)|0;c=c+Math.imul(d,ce)|0;u=u+Math.imul(d,ue)|0;var Ee=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ee>>>26)|0;Ee&=67108863;o=Math.imul(D,H);c=Math.imul(D,K);c=c+Math.imul(O,H)|0;u=Math.imul(O,K);o=o+Math.imul(B,V)|0;c=c+Math.imul(B,X)|0;c=c+Math.imul(R,V)|0;u=u+Math.imul(R,X)|0;o=o+Math.imul(I,z)|0;c=c+Math.imul(I,Y)|0;c=c+Math.imul(k,z)|0;u=u+Math.imul(k,Y)|0;o=o+Math.imul(C,q)|0;c=c+Math.imul(C,Q)|0;c=c+Math.imul(P,q)|0;u=u+Math.imul(P,Q)|0;o=o+Math.imul(E,ee)|0;c=c+Math.imul(E,te)|0;c=c+Math.imul(S,ee)|0;u=u+Math.imul(S,te)|0;o=o+Math.imul(A,ne)|0;c=c+Math.imul(A,ie)|0;c=c+Math.imul($,ne)|0;u=u+Math.imul($,ie)|0;o=o+Math.imul(g,fe)|0;c=c+Math.imul(g,ae)|0;c=c+Math.imul(v,fe)|0;u=u+Math.imul(v,ae)|0;o=o+Math.imul(y,ce)|0;c=c+Math.imul(y,ue)|0;c=c+Math.imul(b,ce)|0;u=u+Math.imul(b,ue)|0;o=o+Math.imul(h,he)|0;c=c+Math.imul(h,de)|0;c=c+Math.imul(d,he)|0;u=u+Math.imul(d,de)|0;var Se=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Se>>>26)|0;Se&=67108863;o=Math.imul(F,H);c=Math.imul(F,K);c=c+Math.imul(L,H)|0;u=Math.imul(L,K);o=o+Math.imul(D,V)|0;c=c+Math.imul(D,X)|0;c=c+Math.imul(O,V)|0;u=u+Math.imul(O,X)|0;o=o+Math.imul(B,z)|0;c=c+Math.imul(B,Y)|0;c=c+Math.imul(R,z)|0;u=u+Math.imul(R,Y)|0;o=o+Math.imul(I,q)|0;c=c+Math.imul(I,Q)|0;c=c+Math.imul(k,q)|0;u=u+Math.imul(k,Q)|0;o=o+Math.imul(C,ee)|0;c=c+Math.imul(C,te)|0;c=c+Math.imul(P,ee)|0;u=u+Math.imul(P,te)|0;o=o+Math.imul(E,ne)|0;c=c+Math.imul(E,ie)|0;c=c+Math.imul(S,ne)|0;u=u+Math.imul(S,ie)|0;o=o+Math.imul(A,fe)|0;c=c+Math.imul(A,ae)|0;c=c+Math.imul($,fe)|0;u=u+Math.imul($,ae)|0;o=o+Math.imul(g,ce)|0;c=c+Math.imul(g,ue)|0;c=c+Math.imul(v,ce)|0;u=u+Math.imul(v,ue)|0;o=o+Math.imul(y,he)|0;c=c+Math.imul(y,de)|0;c=c+Math.imul(b,he)|0;u=u+Math.imul(b,de)|0;o=o+Math.imul(h,ye)|0;c=c+Math.imul(h,be)|0;c=c+Math.imul(d,ye)|0;u=u+Math.imul(d,be)|0;var Te=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Te>>>26)|0;Te&=67108863;o=Math.imul(F,V);c=Math.imul(F,X);c=c+Math.imul(L,V)|0;u=Math.imul(L,X);o=o+Math.imul(D,z)|0;c=c+Math.imul(D,Y)|0;c=c+Math.imul(O,z)|0;u=u+Math.imul(O,Y)|0;o=o+Math.imul(B,q)|0;c=c+Math.imul(B,Q)|0;c=c+Math.imul(R,q)|0;u=u+Math.imul(R,Q)|0;o=o+Math.imul(I,ee)|0;c=c+Math.imul(I,te)|0;c=c+Math.imul(k,ee)|0;u=u+Math.imul(k,te)|0;o=o+Math.imul(C,ne)|0;c=c+Math.imul(C,ie)|0;c=c+Math.imul(P,ne)|0;u=u+Math.imul(P,ie)|0;o=o+Math.imul(E,fe)|0;c=c+Math.imul(E,ae)|0;c=c+Math.imul(S,fe)|0;u=u+Math.imul(S,ae)|0;o=o+Math.imul(A,ce)|0;c=c+Math.imul(A,ue)|0;c=c+Math.imul($,ce)|0;u=u+Math.imul($,ue)|0;o=o+Math.imul(g,he)|0;c=c+Math.imul(g,de)|0;c=c+Math.imul(v,he)|0;u=u+Math.imul(v,de)|0;o=o+Math.imul(y,ye)|0;c=c+Math.imul(y,be)|0;c=c+Math.imul(b,ye)|0;u=u+Math.imul(b,be)|0;var Ce=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ce>>>26)|0;Ce&=67108863;o=Math.imul(F,z);c=Math.imul(F,Y);c=c+Math.imul(L,z)|0;u=Math.imul(L,Y);o=o+Math.imul(D,q)|0;c=c+Math.imul(D,Q)|0;c=c+Math.imul(O,q)|0;u=u+Math.imul(O,Q)|0;o=o+Math.imul(B,ee)|0;c=c+Math.imul(B,te)|0;c=c+Math.imul(R,ee)|0;u=u+Math.imul(R,te)|0;o=o+Math.imul(I,ne)|0;c=c+Math.imul(I,ie)|0;c=c+Math.imul(k,ne)|0;u=u+Math.imul(k,ie)|0;o=o+Math.imul(C,fe)|0;c=c+Math.imul(C,ae)|0;c=c+Math.imul(P,fe)|0;u=u+Math.imul(P,ae)|0;o=o+Math.imul(E,ce)|0;c=c+Math.imul(E,ue)|0;c=c+Math.imul(S,ce)|0;u=u+Math.imul(S,ue)|0;o=o+Math.imul(A,he)|0;c=c+Math.imul(A,de)|0;c=c+Math.imul($,he)|0;u=u+Math.imul($,de)|0;o=o+Math.imul(g,ye)|0;c=c+Math.imul(g,be)|0;c=c+Math.imul(v,ye)|0;u=u+Math.imul(v,be)|0;var Pe=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Pe>>>26)|0;Pe&=67108863;o=Math.imul(F,q);c=Math.imul(F,Q);c=c+Math.imul(L,q)|0;u=Math.imul(L,Q);o=o+Math.imul(D,ee)|0;c=c+Math.imul(D,te)|0;c=c+Math.imul(O,ee)|0;u=u+Math.imul(O,te)|0;o=o+Math.imul(B,ne)|0;c=c+Math.imul(B,ie)|0;c=c+Math.imul(R,ne)|0;u=u+Math.imul(R,ie)|0;o=o+Math.imul(I,fe)|0;c=c+Math.imul(I,ae)|0;c=c+Math.imul(k,fe)|0;u=u+Math.imul(k,ae)|0;o=o+Math.imul(C,ce)|0;c=c+Math.imul(C,ue)|0;c=c+Math.imul(P,ce)|0;u=u+Math.imul(P,ue)|0;o=o+Math.imul(E,he)|0;c=c+Math.imul(E,de)|0;c=c+Math.imul(S,he)|0;u=u+Math.imul(S,de)|0;o=o+Math.imul(A,ye)|0;c=c+Math.imul(A,be)|0;c=c+Math.imul($,ye)|0;u=u+Math.imul($,be)|0;var xe=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(xe>>>26)|0;xe&=67108863;o=Math.imul(F,ee);c=Math.imul(F,te);c=c+Math.imul(L,ee)|0;u=Math.imul(L,te);o=o+Math.imul(D,ne)|0;c=c+Math.imul(D,ie)|0;c=c+Math.imul(O,ne)|0;u=u+Math.imul(O,ie)|0;o=o+Math.imul(B,fe)|0;c=c+Math.imul(B,ae)|0;c=c+Math.imul(R,fe)|0;u=u+Math.imul(R,ae)|0;o=o+Math.imul(I,ce)|0;c=c+Math.imul(I,ue)|0;c=c+Math.imul(k,ce)|0;u=u+Math.imul(k,ue)|0;o=o+Math.imul(C,he)|0;c=c+Math.imul(C,de)|0;c=c+Math.imul(P,he)|0;u=u+Math.imul(P,de)|0;o=o+Math.imul(E,ye)|0;c=c+Math.imul(E,be)|0;c=c+Math.imul(S,ye)|0;u=u+Math.imul(S,be)|0;var Ie=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ie>>>26)|0;Ie&=67108863;o=Math.imul(F,ne);c=Math.imul(F,ie);c=c+Math.imul(L,ne)|0;u=Math.imul(L,ie);o=o+Math.imul(D,fe)|0;c=c+Math.imul(D,ae)|0;c=c+Math.imul(O,fe)|0;u=u+Math.imul(O,ae)|0;o=o+Math.imul(B,ce)|0;c=c+Math.imul(B,ue)|0;c=c+Math.imul(R,ce)|0;u=u+Math.imul(R,ue)|0;o=o+Math.imul(I,he)|0;c=c+Math.imul(I,de)|0;c=c+Math.imul(k,he)|0;u=u+Math.imul(k,de)|0;o=o+Math.imul(C,ye)|0;c=c+Math.imul(C,be)|0;c=c+Math.imul(P,ye)|0;u=u+Math.imul(P,be)|0;var ke=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(ke>>>26)|0;ke&=67108863;o=Math.imul(F,fe);c=Math.imul(F,ae);c=c+Math.imul(L,fe)|0;u=Math.imul(L,ae);o=o+Math.imul(D,ce)|0;c=c+Math.imul(D,ue)|0;c=c+Math.imul(O,ce)|0;u=u+Math.imul(O,ue)|0;o=o+Math.imul(B,he)|0;c=c+Math.imul(B,de)|0;c=c+Math.imul(R,he)|0;u=u+Math.imul(R,de)|0;o=o+Math.imul(I,ye)|0;c=c+Math.imul(I,be)|0;c=c+Math.imul(k,ye)|0;u=u+Math.imul(k,be)|0;var Me=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Me>>>26)|0;Me&=67108863;o=Math.imul(F,ce);c=Math.imul(F,ue);c=c+Math.imul(L,ce)|0;u=Math.imul(L,ue);o=o+Math.imul(D,he)|0;c=c+Math.imul(D,de)|0;c=c+Math.imul(O,he)|0;u=u+Math.imul(O,de)|0;o=o+Math.imul(B,ye)|0;c=c+Math.imul(B,be)|0;c=c+Math.imul(R,ye)|0;u=u+Math.imul(R,be)|0;var Be=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Be>>>26)|0;Be&=67108863;o=Math.imul(F,he);c=Math.imul(F,de);c=c+Math.imul(L,he)|0;u=Math.imul(L,de);o=o+Math.imul(D,ye)|0;c=c+Math.imul(D,be)|0;c=c+Math.imul(O,ye)|0;u=u+Math.imul(O,be)|0;var Re=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Re>>>26)|0;Re&=67108863;o=Math.imul(F,ye);c=Math.imul(F,be);c=c+Math.imul(L,ye)|0;u=Math.imul(L,be);var Ne=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ne>>>26)|0;Ne&=67108863;f[0]=me;f[1]=ge;f[2]=ve;f[3]=we;f[4]=Ae;f[5]=$e;f[6]=_e;f[7]=Ee;f[8]=Se;f[9]=Te;f[10]=Ce;f[11]=Pe;f[12]=xe;f[13]=Ie;f[14]=ke;f[15]=Me;f[16]=Be;f[17]=Re;f[18]=Ne;if(a!==0){f[19]=a;n.length++}return n};if(!Math.imul){p=d}function y(e,t,r){r.negative=t.negative^e.negative;r.length=e.length+t.length;var n=0;var i=0;for(var s=0;s<r.length-1;s++){var f=i;i=0;var a=n&67108863;var o=Math.min(s,t.length-1);for(var c=Math.max(0,s-e.length+1);c<=o;c++){var u=s-c;var l=e.words[u]|0;var h=t.words[c]|0;var d=l*h;var p=d&67108863;f=f+(d/67108864|0)|0;p=p+a|0;a=p&67108863;f=f+(p>>>26)|0;i+=f>>>26;f&=67108863}r.words[s]=a;n=f;f=i}if(n!==0){r.words[s]=n}else{r.length--}return r.strip()}function b(e,t,r){var n=new m;return n.mulp(e,t,r)}i.prototype.mulTo=function e(t,r){var n;var i=this.length+t.length;if(this.length===10&&t.length===10){n=p(this,t,r)}else if(i<63){n=d(this,t,r)}else if(i<1024){n=y(this,t,r)}else{n=b(this,t,r)}return n};function m(e,t){this.x=e;this.y=t}m.prototype.makeRBT=function e(t){var r=new Array(t);var n=i.prototype._countBits(t)-1;for(var s=0;s<t;s++){r[s]=this.revBin(s,n,t)}return r};m.prototype.revBin=function e(t,r,n){if(t===0||t===n-1)return t;var i=0;for(var s=0;s<r;s++){i|=(t&1)<<r-s-1;t>>=1}return i};m.prototype.permute=function e(t,r,n,i,s,f){for(var a=0;a<f;a++){i[a]=r[t[a]];s[a]=n[t[a]]}};m.prototype.transform=function e(t,r,n,i,s,f){this.permute(f,t,r,n,i,s);for(var a=1;a<s;a<<=1){var o=a<<1;var c=Math.cos(2*Math.PI/o);var u=Math.sin(2*Math.PI/o);for(var l=0;l<s;l+=o){var h=c;var d=u;for(var p=0;p<a;p++){var y=n[l+p];var b=i[l+p];var m=n[l+p+a];var g=i[l+p+a];var v=h*m-d*g;g=h*g+d*m;m=v;n[l+p]=y+m;i[l+p]=b+g;n[l+p+a]=y-m;i[l+p+a]=b-g;if(p!==o){v=c*h-u*d;d=c*d+u*h;h=v}}}}};m.prototype.guessLen13b=function e(t,r){var n=Math.max(r,t)|1;var i=n&1;var s=0;for(n=n/2|0;n;n=n>>>1){s++}return 1<<s+1+i};m.prototype.conjugate=function e(t,r,n){if(n<=1)return;for(var i=0;i<n/2;i++){var s=t[i];t[i]=t[n-i-1];t[n-i-1]=s;s=r[i];r[i]=-r[n-i-1];r[n-i-1]=-s}};m.prototype.normalize13b=function e(t,r){var n=0;for(var i=0;i<r/2;i++){var s=Math.round(t[2*i+1]/r)*8192+Math.round(t[2*i]/r)+n;t[i]=s&67108863;if(s<67108864){n=0}else{n=s/67108864|0}}return t};m.prototype.convert13b=function e(t,n,i,s){var f=0;for(var a=0;a<n;a++){f=f+(t[a]|0);i[2*a]=f&8191;f=f>>>13;i[2*a+1]=f&8191;f=f>>>13}for(a=2*n;a<s;++a){i[a]=0}r(f===0);r((f&~8191)===0)};m.prototype.stub=function e(t){var r=new Array(t);for(var n=0;n<t;n++){r[n]=0}return r};m.prototype.mulp=function e(t,r,n){var i=2*this.guessLen13b(t.length,r.length);var s=this.makeRBT(i);var f=this.stub(i);var a=new Array(i);var o=new Array(i);var c=new Array(i);var u=new Array(i);var l=new Array(i);var h=new Array(i);var d=n.words;d.length=i;this.convert13b(t.words,t.length,a,i);this.convert13b(r.words,r.length,u,i);this.transform(a,f,o,c,i,s);this.transform(u,f,l,h,i,s);for(var p=0;p<i;p++){var y=o[p]*l[p]-c[p]*h[p];c[p]=o[p]*h[p]+c[p]*l[p];o[p]=y}this.conjugate(o,c,i);this.transform(o,c,d,f,i,s);this.conjugate(d,f,i);this.normalize13b(d,i);n.negative=t.negative^r.negative;n.length=t.length+r.length;return n.strip()};i.prototype.mul=function e(t){var r=new i(null);r.words=new Array(this.length+t.length);return this.mulTo(t,r)};i.prototype.mulf=function e(t){var r=new i(null);r.words=new Array(this.length+t.length);return b(this,t,r)};i.prototype.imul=function e(t){return this.clone().mulTo(t,this)};i.prototype.imuln=function e(t){r(typeof t==="number");r(t<67108864);var n=0;for(var i=0;i<this.length;i++){var s=(this.words[i]|0)*t;var f=(s&67108863)+(n&67108863);n>>=26;n+=s/67108864|0;n+=f>>>26;this.words[i]=f&67108863}if(n!==0){this.words[i]=n;this.length++}return this};i.prototype.muln=function e(t){return this.clone().imuln(t)};i.prototype.sqr=function e(){return this.mul(this)};i.prototype.isqr=function e(){return this.imul(this.clone())};i.prototype.pow=function e(t){var r=h(t);if(r.length===0)return new i(1);var n=this;for(var s=0;s<r.length;s++,n=n.sqr()){if(r[s]!==0)break}if(++s<r.length){for(var f=n.sqr();s<r.length;s++,f=f.sqr()){if(r[s]===0)continue;n=n.mul(f)}}return n};i.prototype.iushln=function e(t){r(typeof t==="number"&&t>=0);var n=t%26;var i=(t-n)/26;var s=67108863>>>26-n<<26-n;var f;if(n!==0){var a=0;for(f=0;f<this.length;f++){var o=this.words[f]&s;var c=(this.words[f]|0)-o<<n;this.words[f]=c|a;a=o>>>26-n}if(a){this.words[f]=a;this.length++}}if(i!==0){for(f=this.length-1;f>=0;f--){this.words[f+i]=this.words[f]}for(f=0;f<i;f++){this.words[f]=0}this.length+=i}return this.strip()};i.prototype.ishln=function e(t){r(this.negative===0);return this.iushln(t)};i.prototype.iushrn=function e(t,n,i){r(typeof t==="number"&&t>=0);var s;if(n){s=(n-n%26)/26}else{s=0}var f=t%26;var a=Math.min((t-f)/26,this.length);var o=67108863^67108863>>>f<<f;var c=i;s-=a;s=Math.max(0,s);if(c){for(var u=0;u<a;u++){c.words[u]=this.words[u]}c.length=a}if(a===0);else if(this.length>a){this.length-=a;for(u=0;u<this.length;u++){this.words[u]=this.words[u+a]}}else{this.words[0]=0;this.length=1}var l=0;for(u=this.length-1;u>=0&&(l!==0||u>=s);u--){var h=this.words[u]|0;this.words[u]=l<<26-f|h>>>f;l=h&o}if(c&&l!==0){c.words[c.length++]=l}if(this.length===0){this.words[0]=0;this.length=1}return this.strip()};i.prototype.ishrn=function e(t,n,i){r(this.negative===0);return this.iushrn(t,n,i)};i.prototype.shln=function e(t){return this.clone().ishln(t)};i.prototype.ushln=function e(t){return this.clone().iushln(t)};i.prototype.shrn=function e(t){return this.clone().ishrn(t)};i.prototype.ushrn=function e(t){return this.clone().iushrn(t)};i.prototype.testn=function e(t){r(typeof t==="number"&&t>=0);var n=t%26;var i=(t-n)/26;var s=1<<n;if(this.length<=i)return false;var f=this.words[i];return!!(f&s)};i.prototype.imaskn=function e(t){r(typeof t==="number"&&t>=0);var n=t%26;var i=(t-n)/26;r(this.negative===0,"imaskn works only with positive numbers");if(this.length<=i){return this}if(n!==0){i++}this.length=Math.min(i,this.length);if(n!==0){var s=67108863^67108863>>>n<<n;this.words[this.length-1]&=s}return this.strip()};i.prototype.maskn=function e(t){return this.clone().imaskn(t)};i.prototype.iaddn=function e(t){r(typeof t==="number");r(t<67108864);if(t<0)return this.isubn(-t);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<t){this.words[0]=t-(this.words[0]|0);this.negative=0;return this}this.negative=0;this.isubn(t);this.negative=1;return this}return this._iaddn(t)};i.prototype._iaddn=function e(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++){this.words[r]-=67108864;if(r===this.length-1){this.words[r+1]=1}else{this.words[r+1]++}}this.length=Math.max(this.length,r+1);return this};i.prototype.isubn=function e(t){r(typeof t==="number");r(t<67108864);if(t<0)return this.iaddn(-t);if(this.negative!==0){this.negative=0;this.iaddn(t);this.negative=1;return this}this.words[0]-=t;if(this.length===1&&this.words[0]<0){this.words[0]=-this.words[0];this.negative=1}else{for(var n=0;n<this.length&&this.words[n]<0;n++){this.words[n]+=67108864;this.words[n+1]-=1}}return this.strip()};i.prototype.addn=function e(t){return this.clone().iaddn(t)};i.prototype.subn=function e(t){return this.clone().isubn(t)};i.prototype.iabs=function e(){this.negative=0;return this};i.prototype.abs=function e(){return this.clone().iabs()};i.prototype._ishlnsubmul=function e(t,n,i){var s=t.length+i;var f;this._expand(s);var a;var o=0;for(f=0;f<t.length;f++){a=(this.words[f+i]|0)+o;var c=(t.words[f]|0)*n;a-=c&67108863;o=(a>>26)-(c/67108864|0);this.words[f+i]=a&67108863}for(;f<this.length-i;f++){a=(this.words[f+i]|0)+o;o=a>>26;this.words[f+i]=a&67108863}if(o===0)return this.strip();r(o===-1);o=0;for(f=0;f<this.length;f++){a=-(this.words[f]|0)+o;o=a>>26;this.words[f]=a&67108863}this.negative=1;return this.strip()};i.prototype._wordDiv=function e(t,r){var n=this.length-t.length;var s=this.clone();var f=t;var a=f.words[f.length-1]|0;var o=this._countBits(a);n=26-o;if(n!==0){f=f.ushln(n);s.iushln(n);a=f.words[f.length-1]|0}var c=s.length-f.length;var u;if(r!=="mod"){u=new i(null);u.length=c+1;u.words=new Array(u.length);for(var l=0;l<u.length;l++){u.words[l]=0}}var h=s.clone()._ishlnsubmul(f,1,c);if(h.negative===0){s=h;if(u){u.words[c]=1}}for(var d=c-1;d>=0;d--){var p=(s.words[f.length+d]|0)*67108864+(s.words[f.length+d-1]|0);p=Math.min(p/a|0,67108863);s._ishlnsubmul(f,p,d);while(s.negative!==0){p--;s.negative=0;s._ishlnsubmul(f,1,d);if(!s.isZero()){s.negative^=1}}if(u){u.words[d]=p}}if(u){u.strip()}s.strip();if(r!=="div"&&n!==0){s.iushrn(n)}return{div:u||null,mod:s}};i.prototype.divmod=function e(t,n,s){r(!t.isZero());if(this.isZero()){return{div:new i(0),mod:new i(0)}}var f,a,o;if(this.negative!==0&&t.negative===0){o=this.neg().divmod(t,n);if(n!=="mod"){f=o.div.neg()}if(n!=="div"){a=o.mod.neg();if(s&&a.negative!==0){a.iadd(t)}}return{div:f,mod:a}}if(this.negative===0&&t.negative!==0){o=this.divmod(t.neg(),n);if(n!=="mod"){f=o.div.neg()}return{div:f,mod:o.mod}}if((this.negative&t.negative)!==0){o=this.neg().divmod(t.neg(),n);if(n!=="div"){a=o.mod.neg();if(s&&a.negative!==0){a.isub(t)}}return{div:o.div,mod:a}}if(t.length>this.length||this.cmp(t)<0){return{div:new i(0),mod:this}}if(t.length===1){if(n==="div"){return{div:this.divn(t.words[0]),mod:null}}if(n==="mod"){return{div:null,mod:new i(this.modn(t.words[0]))}}return{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}}return this._wordDiv(t,n)};i.prototype.div=function e(t){return this.divmod(t,"div",false).div};i.prototype.mod=function e(t){return this.divmod(t,"mod",false).mod};i.prototype.umod=function e(t){return this.divmod(t,"mod",true).mod};i.prototype.divRound=function e(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var n=r.div.negative!==0?r.mod.isub(t):r.mod;var i=t.ushrn(1);var s=t.andln(1);var f=n.cmp(i);if(f<0||s===1&&f===0)return r.div;return r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)};i.prototype.modn=function e(t){r(t<=67108863);var n=(1<<26)%t;var i=0;for(var s=this.length-1;s>=0;s--){i=(n*i+(this.words[s]|0))%t}return i};i.prototype.idivn=function e(t){r(t<=67108863);var n=0;for(var i=this.length-1;i>=0;i--){var s=(this.words[i]|0)+n*67108864;this.words[i]=s/t|0;n=s%t}return this.strip()};i.prototype.divn=function e(t){return this.clone().idivn(t)};i.prototype.egcd=function e(t){r(t.negative===0);r(!t.isZero());var n=this;var s=t.clone();if(n.negative!==0){n=n.umod(t)}else{n=n.clone()}var f=new i(1);var a=new i(0);var o=new i(0);var c=new i(1);var u=0;while(n.isEven()&&s.isEven()){n.iushrn(1);s.iushrn(1);++u}var l=s.clone();var h=n.clone();while(!n.isZero()){for(var d=0,p=1;(n.words[0]&p)===0&&d<26;++d,p<<=1);if(d>0){n.iushrn(d);while(d-- >0){if(f.isOdd()||a.isOdd()){f.iadd(l);a.isub(h)}f.iushrn(1);a.iushrn(1)}}for(var y=0,b=1;(s.words[0]&b)===0&&y<26;++y,b<<=1);if(y>0){s.iushrn(y);while(y-- >0){if(o.isOdd()||c.isOdd()){o.iadd(l);c.isub(h)}o.iushrn(1);c.iushrn(1)}}if(n.cmp(s)>=0){n.isub(s);f.isub(o);a.isub(c)}else{s.isub(n);o.isub(f);c.isub(a)}}return{a:o,b:c,gcd:s.iushln(u)}};i.prototype._invmp=function e(t){r(t.negative===0);r(!t.isZero());var n=this;var s=t.clone();if(n.negative!==0){n=n.umod(t)}else{n=n.clone()}var f=new i(1);var a=new i(0);var o=s.clone();while(n.cmpn(1)>0&&s.cmpn(1)>0){for(var c=0,u=1;(n.words[0]&u)===0&&c<26;++c,u<<=1);if(c>0){n.iushrn(c);while(c-- >0){if(f.isOdd()){f.iadd(o)}f.iushrn(1)}}for(var l=0,h=1;(s.words[0]&h)===0&&l<26;++l,h<<=1);if(l>0){s.iushrn(l);while(l-- >0){if(a.isOdd()){a.iadd(o)}a.iushrn(1)}}if(n.cmp(s)>=0){n.isub(s);f.isub(a)}else{s.isub(n);a.isub(f)}}var d;if(n.cmpn(1)===0){d=f}else{d=a}if(d.cmpn(0)<0){d.iadd(t)}return d};i.prototype.gcd=function e(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone();var n=t.clone();r.negative=0;n.negative=0;for(var i=0;r.isEven()&&n.isEven();i++){r.iushrn(1);n.iushrn(1)}do{while(r.isEven()){r.iushrn(1)}while(n.isEven()){n.iushrn(1)}var s=r.cmp(n);if(s<0){var f=r;r=n;n=f}else if(s===0||n.cmpn(1)===0){break}r.isub(n)}while(true);return n.iushln(i)};i.prototype.invm=function e(t){return this.egcd(t).a.umod(t)};i.prototype.isEven=function e(){return(this.words[0]&1)===0};i.prototype.isOdd=function e(){return(this.words[0]&1)===1};i.prototype.andln=function e(t){return this.words[0]&t};i.prototype.bincn=function e(t){r(typeof t==="number");var n=t%26;var i=(t-n)/26;var s=1<<n;if(this.length<=i){this._expand(i+1);this.words[i]|=s;return this}var f=s;for(var a=i;f!==0&&a<this.length;a++){var o=this.words[a]|0;o+=f;f=o>>>26;o&=67108863;this.words[a]=o}if(f!==0){this.words[a]=f;this.length++}return this};i.prototype.isZero=function e(){return this.length===1&&this.words[0]===0};i.prototype.cmpn=function e(t){var n=t<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var i;if(this.length>1){i=1}else{if(n){t=-t}r(t<=67108863,"Number is too big");var s=this.words[0]|0;i=s===t?0:s<t?-1:1}if(this.negative!==0)return-i|0;return i};i.prototype.cmp=function e(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);if(this.negative!==0)return-r|0;return r};i.prototype.ucmp=function e(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;var r=0;for(var n=this.length-1;n>=0;n--){var i=this.words[n]|0;var s=t.words[n]|0;if(i===s)continue;if(i<s){r=-1}else if(i>s){r=1}break}return r};i.prototype.gtn=function e(t){return this.cmpn(t)===1};i.prototype.gt=function e(t){return this.cmp(t)===1};i.prototype.gten=function e(t){return this.cmpn(t)>=0};i.prototype.gte=function e(t){return this.cmp(t)>=0};i.prototype.ltn=function e(t){return this.cmpn(t)===-1};i.prototype.lt=function e(t){return this.cmp(t)===-1};i.prototype.lten=function e(t){return this.cmpn(t)<=0};i.prototype.lte=function e(t){return this.cmp(t)<=0};i.prototype.eqn=function e(t){return this.cmpn(t)===0};i.prototype.eq=function e(t){return this.cmp(t)===0};i.red=function e(t){return new E(t)};i.prototype.toRed=function e(t){r(!this.red,"Already a number in reduction context");r(this.negative===0,"red works only with positives");return t.convertTo(this)._forceRed(t)};i.prototype.fromRed=function e(){r(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};i.prototype._forceRed=function e(t){this.red=t;return this};i.prototype.forceRed=function e(t){r(!this.red,"Already a number in reduction context");return this._forceRed(t)};i.prototype.redAdd=function e(t){r(this.red,"redAdd works only with red numbers");return this.red.add(this,t)};i.prototype.redIAdd=function e(t){r(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,t)};i.prototype.redSub=function e(t){r(this.red,"redSub works only with red numbers");return this.red.sub(this,t)};i.prototype.redISub=function e(t){r(this.red,"redISub works only with red numbers");return this.red.isub(this,t)};i.prototype.redShl=function e(t){r(this.red,"redShl works only with red numbers");return this.red.shl(this,t)};i.prototype.redMul=function e(t){r(this.red,"redMul works only with red numbers");this.red._verify2(this,t);return this.red.mul(this,t)};i.prototype.redIMul=function e(t){r(this.red,"redMul works only with red numbers");this.red._verify2(this,t);return this.red.imul(this,t)};i.prototype.redSqr=function e(){r(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};i.prototype.redISqr=function e(){r(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};i.prototype.redSqrt=function e(){r(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};i.prototype.redInvm=function e(){r(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};i.prototype.redNeg=function e(){r(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};i.prototype.redPow=function e(t){r(this.red&&!t.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e;this.p=new i(t,16);this.n=this.p.bitLength();this.k=new i(1).iushln(this.n).isub(this.p);this.tmp=this._tmp()}v.prototype._tmp=function e(){var t=new i(null);t.words=new Array(Math.ceil(this.n/13));return t};v.prototype.ireduce=function e(t){var r=t;var n;do{this.split(r,this.tmp);r=this.imulK(r);r=r.iadd(this.tmp);n=r.bitLength()}while(n>this.n);var i=n<this.n?-1:r.ucmp(this.p);if(i===0){r.words[0]=0;r.length=1}else if(i>0){r.isub(this.p)}else{if(r.strip!==undefined){r.strip()}else{r._strip()}}return r};v.prototype.split=function e(t,r){t.iushrn(this.n,0,r)};v.prototype.imulK=function e(t){return t.imul(this.k)};function w(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(w,v);w.prototype.split=function e(t,r){var n=4194303;var i=Math.min(t.length,9);for(var s=0;s<i;s++){r.words[s]=t.words[s]}r.length=i;if(t.length<=9){t.words[0]=0;t.length=1;return}var f=t.words[9];r.words[r.length++]=f&n;for(s=10;s<t.length;s++){var a=t.words[s]|0;t.words[s-10]=(a&n)<<4|f>>>22;f=a}f>>>=22;t.words[s-10]=f;if(f===0&&t.length>10){t.length-=10}else{t.length-=9}};w.prototype.imulK=function e(t){t.words[t.length]=0;t.words[t.length+1]=0;t.length+=2;var r=0;for(var n=0;n<t.length;n++){var i=t.words[n]|0;r+=i*977;t.words[n]=r&67108863;r=i*64+(r/67108864|0)}if(t.words[t.length-1]===0){t.length--;if(t.words[t.length-1]===0){t.length--}}return t};function A(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(A,v);function $(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n($,v);function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(_,v);_.prototype.imulK=function e(t){var r=0;for(var n=0;n<t.length;n++){var i=(t.words[n]|0)*19+r;var s=i&67108863;i>>>=26;t.words[n]=s;r=i}if(r!==0){t.words[t.length++]=r}return t};i._prime=function e(t){if(g[t])return g[t];var e;if(t==="k256"){e=new w}else if(t==="p224"){e=new A}else if(t==="p192"){e=new $}else if(t==="p25519"){e=new _}else{throw new Error("Unknown prime "+t)}g[t]=e;return e};function E(e){if(typeof e==="string"){var t=i._prime(e);this.m=t.p;this.prime=t}else{r(e.gtn(1),"modulus must be greater than 1");this.m=e;this.prime=null}}E.prototype._verify1=function e(t){r(t.negative===0,"red works only with positives");r(t.red,"red works only with red numbers")};E.prototype._verify2=function e(t,n){r((t.negative|n.negative)===0,"red works only with positives");r(t.red&&t.red===n.red,"red works only with red numbers")};E.prototype.imod=function e(t){if(this.prime)return this.prime.ireduce(t)._forceRed(this);return t.umod(this.m)._forceRed(this)};E.prototype.neg=function e(t){if(t.isZero()){return t.clone()}return this.m.sub(t)._forceRed(this)};E.prototype.add=function e(t,r){this._verify2(t,r);var n=t.add(r);if(n.cmp(this.m)>=0){n.isub(this.m)}return n._forceRed(this)};E.prototype.iadd=function e(t,r){this._verify2(t,r);var n=t.iadd(r);if(n.cmp(this.m)>=0){n.isub(this.m)}return n};E.prototype.sub=function e(t,r){this._verify2(t,r);var n=t.sub(r);if(n.cmpn(0)<0){n.iadd(this.m)}return n._forceRed(this)};E.prototype.isub=function e(t,r){this._verify2(t,r);var n=t.isub(r);if(n.cmpn(0)<0){n.iadd(this.m)}return n};E.prototype.shl=function e(t,r){this._verify1(t);return this.imod(t.ushln(r))};E.prototype.imul=function e(t,r){this._verify2(t,r);return this.imod(t.imul(r))};E.prototype.mul=function e(t,r){this._verify2(t,r);return this.imod(t.mul(r))};E.prototype.isqr=function e(t){return this.imul(t,t.clone())};E.prototype.sqr=function e(t){return this.mul(t,t)};E.prototype.sqrt=function e(t){if(t.isZero())return t.clone();var n=this.m.andln(3);r(n%2===1);if(n===3){var s=this.m.add(new i(1)).iushrn(2);return this.pow(t,s)}var f=this.m.subn(1);var a=0;while(!f.isZero()&&f.andln(1)===0){a++;f.iushrn(1)}r(!f.isZero());var o=new i(1).toRed(this);var c=o.redNeg();var u=this.m.subn(1).iushrn(1);var l=this.m.bitLength();l=new i(2*l*l).toRed(this);while(this.pow(l,u).cmp(c)!==0){l.redIAdd(c)}var h=this.pow(l,f);var d=this.pow(t,f.addn(1).iushrn(1));var p=this.pow(t,f);var y=a;while(p.cmp(o)!==0){var b=p;for(var m=0;b.cmp(o)!==0;m++){b=b.redSqr()}r(m<y);var g=this.pow(h,new i(1).iushln(y-m-1));d=d.redMul(g);h=g.redSqr();p=p.redMul(h);y=m}return d};E.prototype.invm=function e(t){var r=t._invmp(this.m);if(r.negative!==0){r.negative=0;return this.imod(r).redNeg()}else{return this.imod(r)}};E.prototype.pow=function e(t,r){if(r.isZero())return new i(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var n=4;var s=new Array(1<<n);s[0]=new i(1).toRed(this);s[1]=t;for(var f=2;f<s.length;f++){s[f]=this.mul(s[f-1],t)}var a=s[0];var o=0;var c=0;var u=r.bitLength()%26;if(u===0){u=26}for(f=r.length-1;f>=0;f--){var l=r.words[f];for(var h=u-1;h>=0;h--){var d=l>>h&1;if(a!==s[0]){a=this.sqr(a)}if(d===0&&o===0){c=0;continue}o<<=1;o|=d;c++;if(c!==n&&(f!==0||h!==0))continue;a=this.mul(a,s[o]);c=0;o=0}u=26}return a};E.prototype.convertTo=function e(t){var r=t.umod(this.m);return r===t?r.clone():r};E.prototype.convertFrom=function e(t){var r=t.clone();r.red=null;return r};i.mont=function e(t){return new S(t)};function S(e){E.call(this,e);this.shift=this.m.bitLength();if(this.shift%26!==0){this.shift+=26-this.shift%26}this.r=new i(1).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}n(S,E);S.prototype.convertTo=function e(t){return this.imod(t.ushln(this.shift))};S.prototype.convertFrom=function e(t){var r=this.imod(t.mul(this.rinv));r.red=null;return r};S.prototype.imul=function e(t,r){if(t.isZero()||r.isZero()){t.words[0]=0;t.length=1;return t}var n=t.imul(r);var i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var s=n.isub(i).iushrn(this.shift);var f=s;if(s.cmp(this.m)>=0){f=s.isub(this.m)}else if(s.cmpn(0)<0){f=s.iadd(this.m)}return f._forceRed(this)};S.prototype.mul=function e(t,r){if(t.isZero()||r.isZero())return new i(0)._forceRed(this);var n=t.mul(r);var s=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var f=n.isub(s).iushrn(this.shift);var a=f;if(f.cmp(this.m)>=0){a=f.isub(this.m)}else if(f.cmpn(0)<0){a=f.iadd(this.m)}return a._forceRed(this)};S.prototype.invm=function e(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(e,commonjsGlobal)}));var utils_1$3=createCommonjsModule$2((function(e,t){var r=t;function n(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e!=="string"){for(var n=0;n<e.length;n++)r[n]=e[n]|0;return r}if(t==="hex"){e=e.replace(/[^a-z0-9]+/gi,"");if(e.length%2!==0)e="0"+e;for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else{for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);var s=i>>8;var f=i&255;if(s)r.push(s,f);else r.push(f)}}return r}r.toArray=n;function i(e){if(e.length===1)return"0"+e;else return e}r.zero2=i;function s(e){var t="";for(var r=0;r<e.length;r++)t+=i(e[r].toString(16));return t}r.toHex=s;r.encode=function e(t,r){if(r==="hex")return s(t);else return t}}));var utils_1$2=createCommonjsModule$2((function(e,t){var r=t;r.assert=minimalisticAssert$3;r.toArray=utils_1$3.toArray;r.zero2=utils_1$3.zero2;r.toHex=utils_1$3.toHex;r.encode=utils_1$3.encode;function n(e,t){var r=[];var n=1<<t+1;var i=e.clone();while(i.cmpn(1)>=0){var s;if(i.isOdd()){var f=i.andln(n-1);if(f>(n>>1)-1)s=(n>>1)-f;else s=f;i.isubn(s)}else{s=0}r.push(s);var a=i.cmpn(0)!==0&&i.andln(n-1)===0?t+1:1;for(var o=1;o<a;o++)r.push(0);i.iushrn(a)}return r}r.getNAF=n;function i(e,t){var r=[[],[]];e=e.clone();t=t.clone();var n=0;var i=0;while(e.cmpn(-n)>0||t.cmpn(-i)>0){var s=e.andln(3)+n&3;var f=t.andln(3)+i&3;if(s===3)s=-1;if(f===3)f=-1;var a;if((s&1)===0){a=0}else{var o=e.andln(7)+n&7;if((o===3||o===5)&&f===2)a=-s;else a=s}r[0].push(a);var c;if((f&1)===0){c=0}else{var o=t.andln(7)+i&7;if((o===3||o===5)&&s===2)c=-f;else c=f}r[1].push(c);if(2*n===a+1)n=1-n;if(2*i===c+1)i=1-i;e.iushrn(1);t.iushrn(1)}return r}r.getJSF=i;function s(e,t,r){var n="_"+t;e.prototype[t]=function e(){return this[n]!==undefined?this[n]:this[n]=r.call(this)}}r.cachedProperty=s;function f(e){return typeof e==="string"?r.toArray(e,"hex"):e}r.parseBytes=f;function a(e){return new bn$2(e,"hex","le")}r.intFromLE=a}));var r$2;var brorand=function e(t){if(!r$2)r$2=new Rand(null);return r$2.generate(t)};function Rand(e){this.rand=e}var Rand_1=Rand;Rand.prototype.generate=function e(t){return this._rand(t)};Rand.prototype._rand=function e(t){if(this.rand.getBytes)return this.rand.getBytes(t);var r=new Uint8Array(t);for(var n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self==="object"){if(self.crypto&&self.crypto.getRandomValues){Rand.prototype._rand=function e(t){var r=new Uint8Array(t);self.crypto.getRandomValues(r);return r}}else if(self.msCrypto&&self.msCrypto.getRandomValues){Rand.prototype._rand=function e(t){var r=new Uint8Array(t);self.msCrypto.getRandomValues(r);return r}}else if(typeof window==="object"){Rand.prototype._rand=function(){throw new Error("Not implemented yet")}}}else{try{var crypto$5=require$$0$1;if(typeof crypto$5.randomBytes!=="function")throw new Error("Not supported");Rand.prototype._rand=function e(t){return crypto$5.randomBytes(t)}}catch(e){}}brorand.Rand=Rand_1;var getNAF$1=utils_1$2.getNAF;var getJSF$1=utils_1$2.getJSF;var assert$f=utils_1$2.assert;function BaseCurve$1(e,t){this.type=e;this.p=new bn$2(t.p,16);this.red=t.prime?bn$2.red(t.prime):bn$2.mont(this.p);this.zero=new bn$2(0).toRed(this.red);this.one=new bn$2(1).toRed(this.red);this.two=new bn$2(2).toRed(this.red);this.n=t.n&&new bn$2(t.n,16);this.g=t.g&&this.pointFromJSON(t.g,t.gRed);this._wnafT1=new Array(4);this._wnafT2=new Array(4);this._wnafT3=new Array(4);this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);if(!r||r.cmpn(100)>0){this.redN=null}else{this._maxwellTrick=true;this.redN=this.n.toRed(this.red)}}var base$5=BaseCurve$1;BaseCurve$1.prototype.point=function e(){throw new Error("Not implemented")};BaseCurve$1.prototype.validate=function e(){throw new Error("Not implemented")};BaseCurve$1.prototype._fixedNafMul=function e(t,r){assert$f(t.precomputed);var n=t._getDoubles();var i=getNAF$1(r,1);var s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var f=[];for(var a=0;a<i.length;a+=n.step){var o=0;for(var r=a+n.step-1;r>=a;r--)o=(o<<1)+i[r];f.push(o)}var c=this.jpoint(null,null,null);var u=this.jpoint(null,null,null);for(var l=s;l>0;l--){for(var a=0;a<f.length;a++){var o=f[a];if(o===l)u=u.mixedAdd(n.points[a]);else if(o===-l)u=u.mixedAdd(n.points[a].neg())}c=c.add(u)}return c.toP()};BaseCurve$1.prototype._wnafMul=function e(t,r){var n=4;var i=t._getNAFPoints(n);n=i.wnd;var s=i.points;var f=getNAF$1(r,n);var a=this.jpoint(null,null,null);for(var o=f.length-1;o>=0;o--){for(var r=0;o>=0&&f[o]===0;o--)r++;if(o>=0)r++;a=a.dblp(r);if(o<0)break;var c=f[o];assert$f(c!==0);if(t.type==="affine"){if(c>0)a=a.mixedAdd(s[c-1>>1]);else a=a.mixedAdd(s[-c-1>>1].neg())}else{if(c>0)a=a.add(s[c-1>>1]);else a=a.add(s[-c-1>>1].neg())}}return t.type==="affine"?a.toP():a};BaseCurve$1.prototype._wnafMulAdd=function e(t,r,n,i,s){var f=this._wnafT1;var a=this._wnafT2;var o=this._wnafT3;var c=0;for(var u=0;u<i;u++){var l=r[u];var h=l._getNAFPoints(t);f[u]=h.wnd;a[u]=h.points}for(var u=i-1;u>=1;u-=2){var d=u-1;var p=u;if(f[d]!==1||f[p]!==1){o[d]=getNAF$1(n[d],f[d]);o[p]=getNAF$1(n[p],f[p]);c=Math.max(o[d].length,c);c=Math.max(o[p].length,c);continue}var y=[r[d],null,null,r[p]];if(r[d].y.cmp(r[p].y)===0){y[1]=r[d].add(r[p]);y[2]=r[d].toJ().mixedAdd(r[p].neg())}else if(r[d].y.cmp(r[p].y.redNeg())===0){y[1]=r[d].toJ().mixedAdd(r[p]);y[2]=r[d].add(r[p].neg())}else{y[1]=r[d].toJ().mixedAdd(r[p]);y[2]=r[d].toJ().mixedAdd(r[p].neg())}var b=[-3,-1,-5,-7,0,7,5,1,3];var m=getJSF$1(n[d],n[p]);c=Math.max(m[0].length,c);o[d]=new Array(c);o[p]=new Array(c);for(var g=0;g<c;g++){var v=m[0][g]|0;var w=m[1][g]|0;o[d][g]=b[(v+1)*3+(w+1)];o[p][g]=0;a[d]=y}}var A=this.jpoint(null,null,null);var $=this._wnafT4;for(var u=c;u>=0;u--){var _=0;while(u>=0){var E=true;for(var g=0;g<i;g++){$[g]=o[g][u]|0;if($[g]!==0)E=false}if(!E)break;_++;u--}if(u>=0)_++;A=A.dblp(_);if(u<0)break;for(var g=0;g<i;g++){var S=$[g];var l;if(S===0)continue;else if(S>0)l=a[g][S-1>>1];else if(S<0)l=a[g][-S-1>>1].neg();if(l.type==="affine")A=A.mixedAdd(l);else A=A.add(l)}}for(var u=0;u<i;u++)a[u]=null;if(s)return A;else return A.toP()};function BasePoint$1(e,t){this.curve=e;this.type=t;this.precomputed=null}BaseCurve$1.BasePoint=BasePoint$1;BasePoint$1.prototype.eq=function e(){throw new Error("Not implemented")};BasePoint$1.prototype.validate=function e(){return this.curve.validate(this)};BaseCurve$1.prototype.decodePoint=function e(t,r){t=utils_1$2.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){if(t[0]===6)assert$f(t[t.length-1]%2===0);else if(t[0]===7)assert$f(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n){return this.pointFromX(t.slice(1,1+n),t[0]===3)}throw new Error("Unknown point format")};BasePoint$1.prototype.encodeCompressed=function e(t){return this.encode(t,true)};BasePoint$1.prototype._encode=function e(t){var r=this.curve.p.byteLength();var n=this.getX().toArray("be",r);if(t)return[this.getY().isEven()?2:3].concat(n);return[4].concat(n,this.getY().toArray("be",r))};BasePoint$1.prototype.encode=function e(t,r){return utils_1$2.encode(this._encode(r),t)};BasePoint$1.prototype.precompute=function e(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};r.naf=this._getNAFPoints(8);r.doubles=this._getDoubles(4,t);r.beta=this._getBeta();this.precomputed=r;return this};BasePoint$1.prototype._hasDoubles=function e(t){if(!this.precomputed)return false;var r=this.precomputed.doubles;if(!r)return false;return r.points.length>=Math.ceil((t.bitLength()+1)/r.step)};BasePoint$1.prototype._getDoubles=function e(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var n=[this];var i=this;for(var s=0;s<r;s+=t){for(var f=0;f<t;f++)i=i.dbl();n.push(i)}return{step:t,points:n}};BasePoint$1.prototype._getNAFPoints=function e(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var r=[this];var n=(1<<t)-1;var i=n===1?null:this.dbl();for(var s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:t,points:r}};BasePoint$1.prototype._getBeta=function e(){return null};BasePoint$1.prototype.dblp=function e(t){var r=this;for(var n=0;n<t;n++)r=r.dbl();return r};var assert$e=utils_1$2.assert;function ShortCurve$1(e){base$5.call(this,"short",e);this.a=new bn$2(e.a,16).toRed(this.red);this.b=new bn$2(e.b,16).toRed(this.red);this.tinv=this.two.redInvm();this.zeroA=this.a.fromRed().cmpn(0)===0;this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0;this.endo=this._getEndomorphism(e);this._endoWnafT1=new Array(4);this._endoWnafT2=new Array(4)}inherits_browser$3(ShortCurve$1,base$5);var short_1$1=ShortCurve$1;ShortCurve$1.prototype._getEndomorphism=function e(t){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var r;var n;if(t.beta){r=new bn$2(t.beta,16).toRed(this.red)}else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1];r=r.toRed(this.red)}if(t.lambda){n=new bn$2(t.lambda,16)}else{var s=this._getEndoRoots(this.n);if(this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0){n=s[0]}else{n=s[1];assert$e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0)}}var f;if(t.basis){f=t.basis.map((function(e){return{a:new bn$2(e.a,16),b:new bn$2(e.b,16)}}))}else{f=this._getEndoBasis(n)}return{beta:r,lambda:n,basis:f}};ShortCurve$1.prototype._getEndoRoots=function e(t){var r=t===this.p?this.red:bn$2.mont(t);var n=new bn$2(2).toRed(r).redInvm();var i=n.redNeg();var s=new bn$2(3).toRed(r).redNeg().redSqrt().redMul(n);var f=i.redAdd(s).fromRed();var a=i.redSub(s).fromRed();return[f,a]};ShortCurve$1.prototype._getEndoBasis=function e(t){var r=this.n.ushrn(Math.floor(this.n.bitLength()/2));var n=t;var i=this.n.clone();var s=new bn$2(1);var f=new bn$2(0);var a=new bn$2(0);var o=new bn$2(1);var c;var u;var l;var h;var d;var p;var y;var b=0;var m;var g;while(n.cmpn(0)!==0){var v=i.div(n);m=i.sub(v.mul(n));g=a.sub(v.mul(s));var w=o.sub(v.mul(f));if(!l&&m.cmp(r)<0){c=y.neg();u=s;l=m.neg();h=g}else if(l&&++b===2){break}y=m;i=n;n=m;a=s;s=g;o=f;f=w}d=m.neg();p=g;var A=l.sqr().add(h.sqr());var $=d.sqr().add(p.sqr());if($.cmp(A)>=0){d=c;p=u}if(l.negative){l=l.neg();h=h.neg()}if(d.negative){d=d.neg();p=p.neg()}return[{a:l,b:h},{a:d,b:p}]};ShortCurve$1.prototype._endoSplit=function e(t){var r=this.endo.basis;var n=r[0];var i=r[1];var s=i.b.mul(t).divRound(this.n);var f=n.b.neg().mul(t).divRound(this.n);var a=s.mul(n.a);var o=f.mul(i.a);var c=s.mul(n.b);var u=f.mul(i.b);var l=t.sub(a).sub(o);var h=c.add(u).neg();return{k1:l,k2:h}};ShortCurve$1.prototype.pointFromX=function e(t,r){t=new bn$2(t,16);if(!t.red)t=t.toRed(this.red);var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b);var i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();if(r&&!s||!r&&s)i=i.redNeg();return this.point(t,i)};ShortCurve$1.prototype.validate=function e(t){if(t.inf)return true;var r=t.x;var n=t.y;var i=this.a.redMul(r);var s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};ShortCurve$1.prototype._endoWnafMulAdd=function e(t,r,n){var i=this._endoWnafT1;var s=this._endoWnafT2;for(var f=0;f<t.length;f++){var a=this._endoSplit(r[f]);var o=t[f];var c=o._getBeta();if(a.k1.negative){a.k1.ineg();o=o.neg(true)}if(a.k2.negative){a.k2.ineg();c=c.neg(true)}i[f*2]=o;i[f*2+1]=c;s[f*2]=a.k1;s[f*2+1]=a.k2}var u=this._wnafMulAdd(1,i,s,f*2,n);for(var l=0;l<f*2;l++){i[l]=null;s[l]=null}return u};function Point$3(e,t,r,n){base$5.BasePoint.call(this,e,"affine");if(t===null&&r===null){this.x=null;this.y=null;this.inf=true}else{this.x=new bn$2(t,16);this.y=new bn$2(r,16);if(n){this.x.forceRed(this.curve.red);this.y.forceRed(this.curve.red)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=false}}inherits_browser$3(Point$3,base$5.BasePoint);ShortCurve$1.prototype.point=function e(t,r,n){return new Point$3(this,t,r,n)};ShortCurve$1.prototype.pointFromJSON=function e(t,r){return Point$3.fromJSON(this,t,r)};Point$3.prototype._getBeta=function e(){if(!this.curve.endo)return;var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve;var i=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};t.beta=r;r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return r};Point$3.prototype.toJSON=function e(){if(!this.precomputed)return[this.x,this.y];return[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]};Point$3.fromJSON=function e(t,r,n){if(typeof r==="string")r=JSON.parse(r);var i=t.point(r[0],r[1],n);if(!r[2])return i;function s(e){return t.point(e[0],e[1],n)}var f=r[2];i.precomputed={beta:null,doubles:f.doubles&&{step:f.doubles.step,points:[i].concat(f.doubles.points.map(s))},naf:f.naf&&{wnd:f.naf.wnd,points:[i].concat(f.naf.points.map(s))}};return i};Point$3.prototype.inspect=function e(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$3.prototype.isInfinity=function e(){return this.inf};Point$3.prototype.add=function e(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);if(r.cmpn(0)!==0)r=r.redMul(this.x.redSub(t.x).redInvm());var n=r.redSqr().redISub(this.x).redISub(t.x);var i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Point$3.prototype.dbl=function e(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a;var n=this.x.redSqr();var i=t.redInvm();var s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i);var f=s.redSqr().redISub(this.x.redAdd(this.x));var a=s.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,a)};Point$3.prototype.getX=function e(){return this.x.fromRed()};Point$3.prototype.getY=function e(){return this.y.fromRed()};Point$3.prototype.mul=function e(t){t=new bn$2(t,16);if(this._hasDoubles(t))return this.curve._fixedNafMul(this,t);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[t]);else return this.curve._wnafMul(this,t)};Point$3.prototype.mulAdd=function e(t,r,n){var i=[this,r];var s=[t,n];if(this.curve.endo)return this.curve._endoWnafMulAdd(i,s);else return this.curve._wnafMulAdd(1,i,s,2)};Point$3.prototype.jmulAdd=function e(t,r,n){var i=[this,r];var s=[t,n];if(this.curve.endo)return this.curve._endoWnafMulAdd(i,s,true);else return this.curve._wnafMulAdd(1,i,s,2,true)};Point$3.prototype.eq=function e(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};Point$3.prototype.neg=function e(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed;var i=function(e){return e.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Point$3.prototype.toJ=function e(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function JPoint$1(e,t,r,n){base$5.BasePoint.call(this,e,"jacobian");if(t===null&&r===null&&n===null){this.x=this.curve.one;this.y=this.curve.one;this.z=new bn$2(0)}else{this.x=new bn$2(t,16);this.y=new bn$2(r,16);this.z=new bn$2(n,16)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one}inherits_browser$3(JPoint$1,base$5.BasePoint);ShortCurve$1.prototype.jpoint=function e(t,r,n){return new JPoint$1(this,t,r,n)};JPoint$1.prototype.toP=function e(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm();var r=t.redSqr();var n=this.x.redMul(r);var i=this.y.redMul(r).redMul(t);return this.curve.point(n,i)};JPoint$1.prototype.neg=function e(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint$1.prototype.add=function e(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr();var n=this.z.redSqr();var i=this.x.redMul(r);var s=t.x.redMul(n);var f=this.y.redMul(r.redMul(t.z));var a=t.y.redMul(n.redMul(this.z));var o=i.redSub(s);var c=f.redSub(a);if(o.cmpn(0)===0){if(c.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var u=o.redSqr();var l=u.redMul(o);var h=i.redMul(u);var d=c.redSqr().redIAdd(l).redISub(h).redISub(h);var p=c.redMul(h.redISub(d)).redISub(f.redMul(l));var y=this.z.redMul(t.z).redMul(o);return this.curve.jpoint(d,p,y)};JPoint$1.prototype.mixedAdd=function e(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr();var n=this.x;var i=t.x.redMul(r);var s=this.y;var f=t.y.redMul(r).redMul(this.z);var a=n.redSub(i);var o=s.redSub(f);if(a.cmpn(0)===0){if(o.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var c=a.redSqr();var u=c.redMul(a);var l=n.redMul(c);var h=o.redSqr().redIAdd(u).redISub(l).redISub(l);var d=o.redMul(l.redISub(h)).redISub(s.redMul(u));var p=this.z.redMul(a);return this.curve.jpoint(h,d,p)};JPoint$1.prototype.dblp=function e(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var r=this;for(var n=0;n<t;n++)r=r.dbl();return r}var i=this.curve.a;var s=this.curve.tinv;var f=this.x;var a=this.y;var o=this.z;var c=o.redSqr().redSqr();var u=a.redAdd(a);for(var n=0;n<t;n++){var l=f.redSqr();var h=u.redSqr();var d=h.redSqr();var p=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(c));var y=f.redMul(h);var b=p.redSqr().redISub(y.redAdd(y));var m=y.redISub(b);var g=p.redMul(m);g=g.redIAdd(g).redISub(d);var v=u.redMul(o);if(n+1<t)c=c.redMul(d);f=b;o=v;u=g}return this.curve.jpoint(f,u.redMul(s),o)};JPoint$1.prototype.dbl=function e(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl()};JPoint$1.prototype._zeroDbl=function e(){var t;var r;var n;if(this.zOne){var i=this.x.redSqr();var s=this.y.redSqr();var f=s.redSqr();var a=this.x.redAdd(s).redSqr().redISub(i).redISub(f);a=a.redIAdd(a);var o=i.redAdd(i).redIAdd(i);var c=o.redSqr().redISub(a).redISub(a);var u=f.redIAdd(f);u=u.redIAdd(u);u=u.redIAdd(u);t=c;r=o.redMul(a.redISub(c)).redISub(u);n=this.y.redAdd(this.y)}else{var l=this.x.redSqr();var h=this.y.redSqr();var d=h.redSqr();var p=this.x.redAdd(h).redSqr().redISub(l).redISub(d);p=p.redIAdd(p);var y=l.redAdd(l).redIAdd(l);var b=y.redSqr();var m=d.redIAdd(d);m=m.redIAdd(m);m=m.redIAdd(m);t=b.redISub(p).redISub(p);r=y.redMul(p.redISub(t)).redISub(m);n=this.y.redMul(this.z);n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};JPoint$1.prototype._threeDbl=function e(){var t;var r;var n;if(this.zOne){var i=this.x.redSqr();var s=this.y.redSqr();var f=s.redSqr();var a=this.x.redAdd(s).redSqr().redISub(i).redISub(f);a=a.redIAdd(a);var o=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a);var c=o.redSqr().redISub(a).redISub(a);t=c;var u=f.redIAdd(f);u=u.redIAdd(u);u=u.redIAdd(u);r=o.redMul(a.redISub(c)).redISub(u);n=this.y.redAdd(this.y)}else{var l=this.z.redSqr();var h=this.y.redSqr();var d=this.x.redMul(h);var p=this.x.redSub(l).redMul(this.x.redAdd(l));p=p.redAdd(p).redIAdd(p);var y=d.redIAdd(d);y=y.redIAdd(y);var b=y.redAdd(y);t=p.redSqr().redISub(b);n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var m=h.redSqr();m=m.redIAdd(m);m=m.redIAdd(m);m=m.redIAdd(m);r=p.redMul(y.redISub(t)).redISub(m)}return this.curve.jpoint(t,r,n)};JPoint$1.prototype._dbl=function e(){var t=this.curve.a;var r=this.x;var n=this.y;var i=this.z;var s=i.redSqr().redSqr();var f=r.redSqr();var a=n.redSqr();var o=f.redAdd(f).redIAdd(f).redIAdd(t.redMul(s));var c=r.redAdd(r);c=c.redIAdd(c);var u=c.redMul(a);var l=o.redSqr().redISub(u.redAdd(u));var h=u.redISub(l);var d=a.redSqr();d=d.redIAdd(d);d=d.redIAdd(d);d=d.redIAdd(d);var p=o.redMul(h).redISub(d);var y=n.redAdd(n).redMul(i);return this.curve.jpoint(l,p,y)};JPoint$1.prototype.trpl=function e(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr();var r=this.y.redSqr();var n=this.z.redSqr();var i=r.redSqr();var s=t.redAdd(t).redIAdd(t);var f=s.redSqr();var a=this.x.redAdd(r).redSqr().redISub(t).redISub(i);a=a.redIAdd(a);a=a.redAdd(a).redIAdd(a);a=a.redISub(f);var o=a.redSqr();var c=i.redIAdd(i);c=c.redIAdd(c);c=c.redIAdd(c);c=c.redIAdd(c);var u=s.redIAdd(a).redSqr().redISub(f).redISub(o).redISub(c);var l=r.redMul(u);l=l.redIAdd(l);l=l.redIAdd(l);var h=this.x.redMul(o).redISub(l);h=h.redIAdd(h);h=h.redIAdd(h);var d=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(o)));d=d.redIAdd(d);d=d.redIAdd(d);d=d.redIAdd(d);var p=this.z.redAdd(a).redSqr().redISub(n).redISub(o);return this.curve.jpoint(h,d,p)};JPoint$1.prototype.mul=function e(t,r){t=new bn$2(t,r);return this.curve._wnafMul(this,t)};JPoint$1.prototype.eq=function e(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return true;var r=this.z.redSqr();var n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return false;var i=r.redMul(this.z);var s=n.redMul(t.z);return this.y.redMul(s).redISub(t.y.redMul(i)).cmpn(0)===0};JPoint$1.prototype.eqXToP=function e(t){var r=this.z.redSqr();var n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return true;var i=t.clone();var s=this.curve.redN.redMul(r);for(;;){i.iadd(this.curve.n);if(i.cmp(this.curve.p)>=0)return false;n.redIAdd(s);if(this.x.cmp(n)===0)return true}};JPoint$1.prototype.inspect=function e(){if(this.isInfinity())return"<EC JPoint Infinity>";return"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint$1.prototype.isInfinity=function e(){return this.z.cmpn(0)===0};function MontCurve(e){base$5.call(this,"mont",e);this.a=new bn$2(e.a,16).toRed(this.red);this.b=new bn$2(e.b,16).toRed(this.red);this.i4=new bn$2(4).toRed(this.red).redInvm();this.two=new bn$2(2).toRed(this.red);this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits_browser$3(MontCurve,base$5);var mont=MontCurve;MontCurve.prototype.validate=function e(t){var r=t.normalize().x;var n=r.redSqr();var i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r);var s=i.redSqrt();return s.redSqr().cmp(i)===0};function Point$2(e,t,r){base$5.BasePoint.call(this,e,"projective");if(t===null&&r===null){this.x=this.curve.one;this.z=this.curve.zero}else{this.x=new bn$2(t,16);this.z=new bn$2(r,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red)}}inherits_browser$3(Point$2,base$5.BasePoint);MontCurve.prototype.decodePoint=function e(t,r){var t=utils_1$2.toArray(t,r);if(t.length===33&&t[0]===64)t=t.slice(1,33).reverse();if(t.length!==32)throw new Error("Unknown point compression format");return this.point(t,1)};MontCurve.prototype.point=function e(t,r){return new Point$2(this,t,r)};MontCurve.prototype.pointFromJSON=function e(t){return Point$2.fromJSON(this,t)};Point$2.prototype.precompute=function e(){};Point$2.prototype._encode=function e(t){var r=this.curve.p.byteLength();if(t){return[64].concat(this.getX().toArray("le",r))}else{return this.getX().toArray("be",r)}};Point$2.fromJSON=function e(t,r){return new Point$2(t,r[0],r[1]||t.one)};Point$2.prototype.inspect=function e(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$2.prototype.isInfinity=function e(){return this.z.cmpn(0)===0};Point$2.prototype.dbl=function e(){var t=this.x.redAdd(this.z);var r=t.redSqr();var n=this.x.redSub(this.z);var i=n.redSqr();var s=r.redSub(i);var f=r.redMul(i);var a=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(f,a)};Point$2.prototype.add=function e(){throw new Error("Not supported on Montgomery curve")};Point$2.prototype.diffAdd=function e(t,r){var n=this.x.redAdd(this.z);var i=this.x.redSub(this.z);var s=t.x.redAdd(t.z);var f=t.x.redSub(t.z);var a=f.redMul(n);var o=s.redMul(i);var c=r.z.redMul(a.redAdd(o).redSqr());var u=r.x.redMul(a.redISub(o).redSqr());return this.curve.point(c,u)};Point$2.prototype.mul=function e(t){t=new bn$2(t,16);var r=t.clone();var n=this;var i=this.curve.point(null,null);var s=this;for(var f=[];r.cmpn(0)!==0;r.iushrn(1))f.push(r.andln(1));for(var a=f.length-1;a>=0;a--){if(f[a]===0){n=n.diffAdd(i,s);i=i.dbl()}else{i=n.diffAdd(i,s);n=n.dbl()}}return i};Point$2.prototype.mulAdd=function e(){throw new Error("Not supported on Montgomery curve")};Point$2.prototype.jumlAdd=function e(){throw new Error("Not supported on Montgomery curve")};Point$2.prototype.eq=function e(t){return this.getX().cmp(t.getX())===0};Point$2.prototype.normalize=function e(){this.x=this.x.redMul(this.z.redInvm());this.z=this.curve.one;return this};Point$2.prototype.getX=function e(){this.normalize();return this.x.fromRed()};var assert$d=utils_1$2.assert;function EdwardsCurve(e){this.twisted=(e.a|0)!==1;this.mOneA=this.twisted&&(e.a|0)===-1;this.extended=this.mOneA;base$5.call(this,"edwards",e);this.a=new bn$2(e.a,16).umod(this.red.m);this.a=this.a.toRed(this.red);this.c=new bn$2(e.c,16).toRed(this.red);this.c2=this.c.redSqr();this.d=new bn$2(e.d,16).toRed(this.red);this.dd=this.d.redAdd(this.d);assert$d(!this.twisted||this.c.fromRed().cmpn(1)===0);this.oneC=(e.c|0)===1}inherits_browser$3(EdwardsCurve,base$5);var edwards=EdwardsCurve;EdwardsCurve.prototype._mulA=function e(t){if(this.mOneA)return t.redNeg();else return this.a.redMul(t)};EdwardsCurve.prototype._mulC=function e(t){if(this.oneC)return t;else return this.c.redMul(t)};EdwardsCurve.prototype.jpoint=function e(t,r,n,i){return this.point(t,r,n,i)};EdwardsCurve.prototype.pointFromX=function e(t,r){t=new bn$2(t,16);if(!t.red)t=t.toRed(this.red);var n=t.redSqr();var i=this.c2.redSub(this.a.redMul(n));var s=this.one.redSub(this.c2.redMul(this.d).redMul(n));var f=i.redMul(s.redInvm());var a=f.redSqrt();if(a.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var o=a.fromRed().isOdd();if(r&&!o||!r&&o)a=a.redNeg();return this.point(t,a)};EdwardsCurve.prototype.pointFromY=function e(t,r){t=new bn$2(t,16);if(!t.red)t=t.toRed(this.red);var n=t.redSqr();var i=n.redSub(this.c2);var s=n.redMul(this.d).redMul(this.c2).redSub(this.a);var f=i.redMul(s.redInvm());if(f.cmp(this.zero)===0){if(r)throw new Error("invalid point");else return this.point(this.zero,t)}var a=f.redSqrt();if(a.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");if(a.fromRed().isOdd()!==r)a=a.redNeg();return this.point(a,t)};EdwardsCurve.prototype.validate=function e(t){if(t.isInfinity())return true;t.normalize();var r=t.x.redSqr();var n=t.y.redSqr();var i=r.redMul(this.a).redAdd(n);var s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function Point$1(e,t,r,n,i){base$5.BasePoint.call(this,e,"projective");if(t===null&&r===null&&n===null){this.x=this.curve.zero;this.y=this.curve.one;this.z=this.curve.one;this.t=this.curve.zero;this.zOne=true}else{this.x=new bn$2(t,16);this.y=new bn$2(r,16);this.z=n?new bn$2(n,16):this.curve.one;this.t=i&&new bn$2(i,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);if(this.t&&!this.t.red)this.t=this.t.toRed(this.curve.red);this.zOne=this.z===this.curve.one;if(this.curve.extended&&!this.t){this.t=this.x.redMul(this.y);if(!this.zOne)this.t=this.t.redMul(this.z.redInvm())}}}inherits_browser$3(Point$1,base$5.BasePoint);EdwardsCurve.prototype.pointFromJSON=function e(t){return Point$1.fromJSON(this,t)};EdwardsCurve.prototype.point=function e(t,r,n,i){return new Point$1(this,t,r,n,i)};Point$1.fromJSON=function e(t,r){return new Point$1(t,r[0],r[1],r[2])};Point$1.prototype.inspect=function e(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$1.prototype.isInfinity=function e(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point$1.prototype._extDbl=function e(){var t=this.x.redSqr();var r=this.y.redSqr();var n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(t);var s=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r);var f=i.redAdd(r);var a=f.redSub(n);var o=i.redSub(r);var c=s.redMul(a);var u=f.redMul(o);var l=s.redMul(o);var h=a.redMul(f);return this.curve.point(c,u,h,l)};Point$1.prototype._projDbl=function e(){var t=this.x.redAdd(this.y).redSqr();var r=this.x.redSqr();var n=this.y.redSqr();var i;var s;var f;if(this.curve.twisted){var a=this.curve._mulA(r);var o=a.redAdd(n);if(this.zOne){i=t.redSub(r).redSub(n).redMul(o.redSub(this.curve.two));s=o.redMul(a.redSub(n));f=o.redSqr().redSub(o).redSub(o)}else{var c=this.z.redSqr();var u=o.redSub(c).redISub(c);i=t.redSub(r).redISub(n).redMul(u);s=o.redMul(a.redSub(n));f=o.redMul(u)}}else{var a=r.redAdd(n);var c=this.curve._mulC(this.z).redSqr();var u=a.redSub(c).redSub(c);i=this.curve._mulC(t.redISub(a)).redMul(u);s=this.curve._mulC(a).redMul(r.redISub(n));f=a.redMul(u)}return this.curve.point(i,s,f)};Point$1.prototype.dbl=function e(){if(this.isInfinity())return this;if(this.curve.extended)return this._extDbl();else return this._projDbl()};Point$1.prototype._extAdd=function e(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x));var n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x));var i=this.t.redMul(this.curve.dd).redMul(t.t);var s=this.z.redMul(t.z.redAdd(t.z));var f=n.redSub(r);var a=s.redSub(i);var o=s.redAdd(i);var c=n.redAdd(r);var u=f.redMul(a);var l=o.redMul(c);var h=f.redMul(c);var d=a.redMul(o);return this.curve.point(u,l,d,h)};Point$1.prototype._projAdd=function e(t){var r=this.z.redMul(t.z);var n=r.redSqr();var i=this.x.redMul(t.x);var s=this.y.redMul(t.y);var f=this.curve.d.redMul(i).redMul(s);var a=n.redSub(f);var o=n.redAdd(f);var c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(i).redISub(s);var u=r.redMul(a).redMul(c);var l;var h;if(this.curve.twisted){l=r.redMul(o).redMul(s.redSub(this.curve._mulA(i)));h=a.redMul(o)}else{l=r.redMul(o).redMul(s.redSub(i));h=this.curve._mulC(a).redMul(o)}return this.curve.point(u,l,h)};Point$1.prototype.add=function e(t){if(this.isInfinity())return t;if(t.isInfinity())return this;if(this.curve.extended)return this._extAdd(t);else return this._projAdd(t)};Point$1.prototype.mul=function e(t){if(this._hasDoubles(t))return this.curve._fixedNafMul(this,t);else return this.curve._wnafMul(this,t)};Point$1.prototype.mulAdd=function e(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,false)};Point$1.prototype.jmulAdd=function e(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,true)};Point$1.prototype.normalize=function e(){if(this.zOne)return this;var t=this.z.redInvm();this.x=this.x.redMul(t);this.y=this.y.redMul(t);if(this.t)this.t=this.t.redMul(t);this.z=this.curve.one;this.zOne=true;return this};Point$1.prototype.neg=function e(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point$1.prototype.getX=function e(){this.normalize();return this.x.fromRed()};Point$1.prototype.getY=function e(){this.normalize();return this.y.fromRed()};Point$1.prototype.eq=function e(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};Point$1.prototype.eqXToP=function e(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return true;var n=t.clone();var i=this.curve.redN.redMul(this.z);for(;;){n.iadd(this.curve.n);if(n.cmp(this.curve.p)>=0)return false;r.redIAdd(i);if(this.x.cmp(r)===0)return true}};Point$1.prototype.toP=Point$1.prototype.normalize;Point$1.prototype.mixedAdd=Point$1.prototype.add;var curve_1$1=createCommonjsModule$2((function(e,t){var r=t;r.base=base$5;r.short=short_1$1;r.mont=mont;r.edwards=edwards}));var secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}};var curves_1$1=createCommonjsModule$2((function(e,t){var r=t;var n=utils_1$2.assert;function i(e){if(e.type==="short")this.curve=new curve_1$1.short(e);else if(e.type==="edwards")this.curve=new curve_1$1.edwards(e);else if(e.type==="mont")this.curve=new curve_1$1.mont(e);else throw new Error("Unknown curve type.");this.g=this.curve.g;this.n=this.curve.n;this.hash=e.hash;n(this.g.validate(),"Invalid curve");n(this.g.mul(this.n).isInfinity(),"Invalid curve, n*G != O")}r.PresetCurve=i;function s(e,t){Object.defineProperty(r,e,{configurable:true,enumerable:true,get:function(){var n=new i(t);Object.defineProperty(r,e,{configurable:true,enumerable:true,value:n});return n}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash_1$2.sha256,gRed:false,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash_1$2.sha256,gRed:false,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash_1$2.sha256,gRed:false,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f "+"5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 "+"f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash_1$2.sha384,gRed:false,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 "+"5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 "+"0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b "+"99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd "+"3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 "+"f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash_1$2.sha512,gRed:false,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 "+"053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 "+"a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 "+"579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 "+"3fad0761 353c7086 a272c240 88be9476 9fd16650"]});s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:hash_1$2.sha256,gRed:false,g:["9"]});s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:hash_1$2.sha256,gRed:false,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});s("brainpoolP256r1",{type:"short",prime:null,p:"A9FB57DB A1EEA9BC 3E660A90 9D838D72 6E3BF623 D5262028 2013481D 1F6E5377",a:"7D5A0975 FC2C3057 EEF67530 417AFFE7 FB8055C1 26DC5C6C E94A4B44 F330B5D9",b:"26DC5C6C E94A4B44 F330B5D9 BBD77CBF 95841629 5CF7E1CE 6BCCDC18 FF8C07B6",n:"A9FB57DB A1EEA9BC 3E660A90 9D838D71 8C397AA3 B561A6F7 901E0E82 974856A7",hash:hash_1$2.sha256,gRed:false,g:["8BD2AEB9CB7E57CB2C4B482FFC81B7AFB9DE27E1E3BD23C23A4453BD9ACE3262","547EF835C3DAC4FD97F8461A14611DC9C27745132DED8E545C1D54C72F046997"]});s("brainpoolP384r1",{type:"short",prime:null,p:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B4 12B1DA19 7FB71123"+"ACD3A729 901D1A71 87470013 3107EC53",a:"7BC382C6 3D8C150C 3C72080A CE05AFA0 C2BEA28E 4FB22787 139165EF BA91F90F"+"8AA5814A 503AD4EB 04A8C7DD 22CE2826",b:"04A8C7DD 22CE2826 8B39B554 16F0447C 2FB77DE1 07DCD2A6 2E880EA5 3EEB62D5"+"7CB43902 95DBC994 3AB78696 FA504C11",n:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B3 1F166E6C AC0425A7"+"CF3AB6AF 6B7FC310 3B883202 E9046565",hash:hash_1$2.sha384,gRed:false,g:["1D1C64F068CF45FFA2A63A81B7C13F6B8847A3E77EF14FE3DB7FCAFE0CBD10"+"E8E826E03436D646AAEF87B2E247D4AF1E","8ABE1D7520F9C2A45CB1EB8E95CFD55262B70B29FEEC5864E19C054FF99129"+"280E4646217791811142820341263C5315"]});s("brainpoolP512r1",{type:"short",prime:null,p:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 70330871"+"7D4D9B00 9BC66842 AECDA12A E6A380E6 2881FF2F 2D82C685 28AA6056 583A48F3",a:"7830A331 8B603B89 E2327145 AC234CC5 94CBDD8D 3DF91610 A83441CA EA9863BC"+"2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A7 2BF2C7B9 E7C1AC4D 77FC94CA",b:"3DF91610 A83441CA EA9863BC 2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A7"+"2BF2C7B9 E7C1AC4D 77FC94CA DC083E67 984050B7 5EBAE5DD 2809BD63 8016F723",n:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 70330870"+"553E5C41 4CA92619 41866119 7FAC1047 1DB1D381 085DDADD B5879682 9CA90069",hash:hash_1$2.sha512,gRed:false,g:["81AEE4BDD82ED9645A21322E9C4C6A9385ED9F70B5D916C1B43B62EEF4D009"+"8EFF3B1F78E2D0D48D50D1687B93B97D5F7C6D5047406A5E688B352209BCB9F822","7DDE385D566332ECC0EABFA9CF7822FDF209F70024A57B1AA000C55B881F81"+"11B2DCDE494A5F485E5BCA4BD88A2763AED1CA2B2FA8F0540678CD1E0F3AD80892"]});var f;try{f=secp256k1}catch(e){f=undefined}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash_1$2.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:false,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})}));function HmacDRBG$1(e){if(!(this instanceof HmacDRBG$1))return new HmacDRBG$1(e);this.hash=e.hash;this.predResist=!!e.predResist;this.outLen=this.hash.outSize;this.minEntropy=e.minEntropy||this.hash.hmacStrength;this._reseed=null;this.reseedInterval=null;this.K=null;this.V=null;var t=utils_1$3.toArray(e.entropy,e.entropyEnc||"hex");var r=utils_1$3.toArray(e.nonce,e.nonceEnc||"hex");var n=utils_1$3.toArray(e.pers,e.persEnc||"hex");minimalisticAssert$3(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._init(t,r,n)}var hmacDrbg$1=HmacDRBG$1;HmacDRBG$1.prototype._init=function e(t,r,n){var i=t.concat(r).concat(n);this.K=new Array(this.outLen/8);this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++){this.K[s]=0;this.V[s]=1}this._update(i);this._reseed=1;this.reseedInterval=281474976710656};HmacDRBG$1.prototype._hmac=function e(){return new hash_1$2.hmac(this.hash,this.K)};HmacDRBG$1.prototype._update=function e(t){var r=this._hmac().update(this.V).update([0]);if(t)r=r.update(t);this.K=r.digest();this.V=this._hmac().update(this.V).digest();if(!t)return;this.K=this._hmac().update(this.V).update([1]).update(t).digest();this.V=this._hmac().update(this.V).digest()};HmacDRBG$1.prototype.reseed=function e(t,r,n,i){if(typeof r!=="string"){i=n;n=r;r=null}t=utils_1$3.toArray(t,r);n=utils_1$3.toArray(n,i);minimalisticAssert$3(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._update(t.concat(n||[]));this._reseed=1};HmacDRBG$1.prototype.generate=function e(t,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");if(typeof r!=="string"){i=n;n=r;r=null}if(n){n=utils_1$3.toArray(n,i||"hex");this._update(n)}var s=[];while(s.length<t){this.V=this._hmac().update(this.V).digest();s=s.concat(this.V)}var f=s.slice(0,t);this._update(n);this._reseed++;return utils_1$3.encode(f,r)};var assert$c=utils_1$2.assert;function KeyPair$2(e,t){this.ec=e;this.priv=null;this.pub=null;if(t.priv)this._importPrivate(t.priv,t.privEnc);if(t.pub)this._importPublic(t.pub,t.pubEnc)}var key$2=KeyPair$2;KeyPair$2.fromPublic=function e(t,r,n){if(r instanceof KeyPair$2)return r;return new KeyPair$2(t,{pub:r,pubEnc:n})};KeyPair$2.fromPrivate=function e(t,r,n){if(r instanceof KeyPair$2)return r;return new KeyPair$2(t,{priv:r,privEnc:n})};KeyPair$2.prototype.validate=function e(){var t=this.getPublic();if(t.isInfinity())return{result:false,reason:"Invalid public key"};if(!t.validate())return{result:false,reason:"Public key is not a point"};if(!t.mul(this.ec.curve.n).isInfinity())return{result:false,reason:"Public key * N != O"};return{result:true,reason:null}};KeyPair$2.prototype.getPublic=function e(t,r){if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(!t)return this.pub;return this.pub.encode(t,r)};KeyPair$2.prototype.getPrivate=function e(t){if(t==="hex")return this.priv.toString(16,2);else return this.priv};KeyPair$2.prototype._importPrivate=function e(t,r){this.priv=new bn$2(t,r||16);if(this.ec.curve.type==="mont"){var n=this.ec.curve.one;var i=n.ushln(255-3).sub(n).ushln(3);this.priv=this.priv.or(n.ushln(255-1));this.priv=this.priv.and(i)}else this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$2.prototype._importPublic=function e(t,r){if(t.x||t.y){if(this.ec.curve.type==="mont"){assert$c(t.x,"Need x coordinate")}else if(this.ec.curve.type==="short"||this.ec.curve.type==="edwards"){assert$c(t.x&&t.y,"Need both x and y coordinate")}this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};KeyPair$2.prototype.derive=function e(t){return t.mul(this.priv).getX()};KeyPair$2.prototype.sign=function e(t,r,n){return this.ec.sign(t,this,r,n)};KeyPair$2.prototype.verify=function e(t,r){return this.ec.verify(t,r,this)};KeyPair$2.prototype.inspect=function e(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$b=utils_1$2.assert;function Signature$2(e,t){if(e instanceof Signature$2)return e;if(this._importDER(e,t))return;assert$b(e.r&&e.s,"Signature without r or s");this.r=new bn$2(e.r,16);this.s=new bn$2(e.s,16);if(e.recoveryParam===undefined)this.recoveryParam=null;else this.recoveryParam=e.recoveryParam}var signature$2=Signature$2;function Position$1(){this.place=0}function getLength$1(e,t){var r=e[t.place++];if(!(r&128)){return r}var n=r&15;var i=0;for(var s=0,f=t.place;s<n;s++,f++){i<<=8;i|=e[f]}t.place=f;return i}function rmPadding$1(e){var t=0;var r=e.length-1;while(!e[t]&&!(e[t+1]&128)&&t<r){t++}if(t===0){return e}return e.slice(t)}Signature$2.prototype._importDER=function e(t,r){t=utils_1$2.toArray(t,r);var n=new Position$1;if(t[n.place++]!==48){return false}var i=getLength$1(t,n);if(i+n.place!==t.length){return false}if(t[n.place++]!==2){return false}var s=getLength$1(t,n);var f=t.slice(n.place,s+n.place);n.place+=s;if(t[n.place++]!==2){return false}var a=getLength$1(t,n);if(t.length!==a+n.place){return false}var o=t.slice(n.place,a+n.place);if(f[0]===0&&f[1]&128){f=f.slice(1)}if(o[0]===0&&o[1]&128){o=o.slice(1)}this.r=new bn$2(f);this.s=new bn$2(o);this.recoveryParam=null;return true};function constructLength$1(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);e.push(r|128);while(--r){e.push(t>>>(r<<3)&255)}e.push(t)}Signature$2.prototype.toDER=function e(t){var r=this.r.toArray();var n=this.s.toArray();if(r[0]&128)r=[0].concat(r);if(n[0]&128)n=[0].concat(n);r=rmPadding$1(r);n=rmPadding$1(n);while(!n[0]&&!(n[1]&128)){n=n.slice(1)}var i=[2];constructLength$1(i,r.length);i=i.concat(r);i.push(2);constructLength$1(i,n.length);var s=i.concat(n);var f=[48];constructLength$1(f,s.length);f=f.concat(s);return utils_1$2.encode(f,t)};var assert$a=utils_1$2.assert;function EC$2(e){if(!(this instanceof EC$2))return new EC$2(e);if(typeof e==="string"){assert$a(curves_1$1.hasOwnProperty(e),"Unknown curve "+e);e=curves_1$1[e]}if(e instanceof curves_1$1.PresetCurve)e={curve:e};this.curve=e.curve.curve;this.n=this.curve.n;this.nh=this.n.ushrn(1);this.g=this.curve.g;this.g=e.curve.g;this.g.precompute(e.curve.n.bitLength()+1);this.hash=e.hash||e.curve.hash}var ec$1=EC$2;EC$2.prototype.keyPair=function e(t){return new key$2(this,t)};EC$2.prototype.keyFromPrivate=function e(t,r){return key$2.fromPrivate(this,t,r)};EC$2.prototype.keyFromPublic=function e(t,r){return key$2.fromPublic(this,t,r)};EC$2.prototype.genKeyPair=function e(t){if(!t)t={};var r=new hmacDrbg$1({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||brorand(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()});if(this.curve.type==="mont"){var n=new bn$2(r.generate(32));return this.keyFromPrivate(n)}var i=this.n.byteLength();var s=this.n.sub(new bn$2(2));do{var n=new bn$2(r.generate(i));if(n.cmp(s)>0)continue;n.iaddn(1);return this.keyFromPrivate(n)}while(true)};EC$2.prototype._truncateToN=function e(t,r){var n=t.byteLength()*8-this.n.bitLength();if(n>0)t=t.ushrn(n);if(!r&&t.cmp(this.n)>=0)return t.sub(this.n);else return t};EC$2.prototype.sign=function e(t,r,n,i){if(typeof n==="object"){i=n;n=null}if(!i)i={};r=this.keyFromPrivate(r,n);t=this._truncateToN(new bn$2(t,16));var s=this.n.byteLength();var f=r.getPrivate().toArray("be",s);var a=t.toArray("be",s);var o=new hmacDrbg$1({hash:this.hash,entropy:f,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"});var c=this.n.sub(new bn$2(1));for(var u=0;true;u++){var l=i.k?i.k(u):new bn$2(o.generate(this.n.byteLength()));l=this._truncateToN(l,true);if(l.cmpn(1)<=0||l.cmp(c)>=0)continue;var h=this.g.mul(l);if(h.isInfinity())continue;var d=h.getX();var p=d.umod(this.n);if(p.cmpn(0)===0)continue;var y=l.invm(this.n).mul(p.mul(r.getPrivate()).iadd(t));y=y.umod(this.n);if(y.cmpn(0)===0)continue;var b=(h.getY().isOdd()?1:0)|(d.cmp(p)!==0?2:0);if(i.canonical&&y.cmp(this.nh)>0){y=this.n.sub(y);b^=1}return new signature$2({r:p,s:y,recoveryParam:b})}};EC$2.prototype.verify=function e(t,r,n,i){t=this._truncateToN(new bn$2(t,16));n=this.keyFromPublic(n,i);r=new signature$2(r,"hex");var s=r.r;var f=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return false;if(f.cmpn(1)<0||f.cmp(this.n)>=0)return false;var a=f.invm(this.n);var o=a.mul(t).umod(this.n);var c=a.mul(s).umod(this.n);if(!this.curve._maxwellTrick){var u=this.g.mulAdd(o,n.getPublic(),c);if(u.isInfinity())return false;return u.getX().umod(this.n).cmp(s)===0}var u=this.g.jmulAdd(o,n.getPublic(),c);if(u.isInfinity())return false;return u.eqXToP(s)};EC$2.prototype.recoverPubKey=function(e,t,r,n){assert$a((3&r)===r,"The recovery param is more than two bits");t=new signature$2(t,n);var i=this.n;var s=new bn$2(e);var f=t.r;var a=t.s;var o=r&1;var c=r>>1;if(f.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");if(c)f=this.curve.pointFromX(f.add(this.curve.n),o);else f=this.curve.pointFromX(f,o);var u=t.r.invm(i);var l=i.sub(s).mul(u).umod(i);var h=a.mul(u).umod(i);return this.g.mulAdd(l,f,h)};EC$2.prototype.getKeyRecoveryParam=function(e,t,r,n){t=new signature$2(t,n);if(t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var assert$9=utils_1$2.assert;var parseBytes$2=utils_1$2.parseBytes;var cachedProperty$1=utils_1$2.cachedProperty;function KeyPair$1(e,t){this.eddsa=e;if(t.hasOwnProperty("secret"))this._secret=parseBytes$2(t.secret);if(e.isPoint(t.pub))this._pub=t.pub;else{this._pubBytes=parseBytes$2(t.pub);if(this._pubBytes&&this._pubBytes.length===33&&this._pubBytes[0]===64){this._pubBytes=this._pubBytes.slice(1,33)}if(this._pubBytes&&this._pubBytes.length!==32)throw new Error("Unknown point compression format")}}KeyPair$1.fromPublic=function e(t,r){if(r instanceof KeyPair$1)return r;return new KeyPair$1(t,{pub:r})};KeyPair$1.fromSecret=function e(t,r){if(r instanceof KeyPair$1)return r;return new KeyPair$1(t,{secret:r})};KeyPair$1.prototype.secret=function e(){return this._secret};cachedProperty$1(KeyPair$1,"pubBytes",(function e(){return this.eddsa.encodePoint(this.pub())}));cachedProperty$1(KeyPair$1,"pub",(function e(){if(this._pubBytes)return this.eddsa.decodePoint(this._pubBytes);return this.eddsa.g.mul(this.priv())}));cachedProperty$1(KeyPair$1,"privBytes",(function e(){var t=this.eddsa;var r=this.hash();var n=t.encodingLength-1;var i=r.slice(0,t.encodingLength);i[0]&=248;i[n]&=127;i[n]|=64;return i}));cachedProperty$1(KeyPair$1,"priv",(function e(){return this.eddsa.decodeInt(this.privBytes())}));cachedProperty$1(KeyPair$1,"hash",(function e(){return this.eddsa.hash().update(this.secret()).digest()}));cachedProperty$1(KeyPair$1,"messagePrefix",(function e(){return this.hash().slice(this.eddsa.encodingLength)}));KeyPair$1.prototype.sign=function e(t){assert$9(this._secret,"KeyPair can only verify");return this.eddsa.sign(t,this)};KeyPair$1.prototype.verify=function e(t,r){return this.eddsa.verify(t,r,this)};KeyPair$1.prototype.getSecret=function e(t){assert$9(this._secret,"KeyPair is public only");return utils_1$2.encode(this.secret(),t)};KeyPair$1.prototype.getPublic=function e(t,r){return utils_1$2.encode((r?[64]:[]).concat(this.pubBytes()),t)};var key$1=KeyPair$1;var assert$8=utils_1$2.assert;var cachedProperty=utils_1$2.cachedProperty;var parseBytes$1=utils_1$2.parseBytes;function Signature$1(e,t){this.eddsa=e;if(typeof t!=="object")t=parseBytes$1(t);if(Array.isArray(t)){t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}}assert$8(t.R&&t.S,"Signature without R or S");if(e.isPoint(t.R))this._R=t.R;if(t.S instanceof bn$2)this._S=t.S;this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded;this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}cachedProperty(Signature$1,"S",(function e(){return this.eddsa.decodeInt(this.Sencoded())}));cachedProperty(Signature$1,"R",(function e(){return this.eddsa.decodePoint(this.Rencoded())}));cachedProperty(Signature$1,"Rencoded",(function e(){return this.eddsa.encodePoint(this.R())}));cachedProperty(Signature$1,"Sencoded",(function e(){return this.eddsa.encodeInt(this.S())}));Signature$1.prototype.toBytes=function e(){return this.Rencoded().concat(this.Sencoded())};Signature$1.prototype.toHex=function e(){return utils_1$2.encode(this.toBytes(),"hex").toUpperCase()};var signature$1=Signature$1;var assert$7=utils_1$2.assert;var parseBytes=utils_1$2.parseBytes;function EDDSA(e){assert$7(e==="ed25519","only tested with ed25519 so far");if(!(this instanceof EDDSA))return new EDDSA(e);var e=curves_1$1[e].curve;this.curve=e;this.g=e.g;this.g.precompute(e.n.bitLength()+1);this.pointClass=e.point().constructor;this.encodingLength=Math.ceil(e.n.bitLength()/8);this.hash=hash_1$2.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function e(t,r){t=parseBytes(t);var n=this.keyFromSecret(r);var i=this.hashInt(n.messagePrefix(),t);var s=this.g.mul(i);var f=this.encodePoint(s);var a=this.hashInt(f,n.pubBytes(),t).mul(n.priv());var o=i.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:o,Rencoded:f})};EDDSA.prototype.verify=function e(t,r,n){t=parseBytes(t);r=this.makeSignature(r);var i=this.keyFromPublic(n);var s=this.hashInt(r.Rencoded(),i.pubBytes(),t);var f=this.g.mul(r.S());var a=r.R().add(i.pub().mul(s));return a.eq(f)};EDDSA.prototype.hashInt=function e(){var t=this.hash();for(var r=0;r<arguments.length;r++)t.update(arguments[r]);return utils_1$2.intFromLE(t.digest()).umod(this.curve.n)};EDDSA.prototype.keyPair=function e(t){return new key$1(this,t)};EDDSA.prototype.keyFromPublic=function e(t){return key$1.fromPublic(this,t)};EDDSA.prototype.keyFromSecret=function e(t){return key$1.fromSecret(this,t)};EDDSA.prototype.genKeyPair=function e(t){if(!t)t={};var r=new hmacDrbg$1({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||elliptic_1$1.rand(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.curve.n.toArray()});return this.keyFromSecret(r.generate(this.hash.outSize>>3))};EDDSA.prototype.makeSignature=function e(t){if(t instanceof signature$1)return t;return new signature$1(this,t)};EDDSA.prototype.encodePoint=function e(t){var r=t.getY().toArray("le",this.encodingLength);r[this.encodingLength-1]|=t.getX().isOdd()?128:0;return r};EDDSA.prototype.decodePoint=function e(t){t=utils_1$2.parseBytes(t);var r=t.length-1;var n=t.slice(0,r).concat(t[r]&~128);var i=(t[r]&128)!==0;var s=utils_1$2.intFromLE(n);return this.curve.pointFromY(s,i)};EDDSA.prototype.encodeInt=function e(t){return t.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function e(t){return utils_1$2.intFromLE(t)};EDDSA.prototype.isPoint=function e(t){return t instanceof this.pointClass};var elliptic_1$1=createCommonjsModule$2((function(e,t){var r=t;r.utils=utils_1$2;r.rand=brorand;r.curve=curve_1$1;r.curves=curves_1$1;r.ec=ec$1;r.eddsa=eddsa}));const elliptic=Object.freeze(Object.assign(Object.create(null),elliptic_1$1,{default:elliptic_1$1}));var int_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e,t){var r=e>>>16&65535,n=e&65535;var i=t>>>16&65535,s=t&65535;return n*s+(r*s+n*i<<16>>>0)|0}t.mul=Math.imul||r;function n(e,t){return e+t|0}t.add=n;function i(e,t){return e-t|0}t.sub=i;function s(e,t){return e<<t|e>>>32-t}t.rotl=s;function f(e,t){return e<<32-t|e>>>t}t.rotr=f;function a(e){return typeof e==="number"&&isFinite(e)&&Math.floor(e)===e}t.isInteger=Number.isInteger||a;t.MAX_SAFE_INTEGER=9007199254740991;t.isSafeInteger=function(e){return t.isInteger(e)&&(e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER)}}));var binary=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e,t){if(t===void 0){t=0}return(e[t+0]<<8|e[t+1])<<16>>16}t.readInt16BE=r;function n(e,t){if(t===void 0){t=0}return(e[t+0]<<8|e[t+1])>>>0}t.readUint16BE=n;function i(e,t){if(t===void 0){t=0}return(e[t+1]<<8|e[t])<<16>>16}t.readInt16LE=i;function s(e,t){if(t===void 0){t=0}return(e[t+1]<<8|e[t])>>>0}t.readUint16LE=s;function f(e,t,r){if(t===void 0){t=new Uint8Array(2)}if(r===void 0){r=0}t[r+0]=e>>>8;t[r+1]=e>>>0;return t}t.writeUint16BE=f;t.writeInt16BE=f;function a(e,t,r){if(t===void 0){t=new Uint8Array(2)}if(r===void 0){r=0}t[r+0]=e>>>0;t[r+1]=e>>>8;return t}t.writeUint16LE=a;t.writeInt16LE=a;function o(e,t){if(t===void 0){t=0}return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}t.readInt32BE=o;function c(e,t){if(t===void 0){t=0}return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.readUint32BE=c;function u(e,t){if(t===void 0){t=0}return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}t.readInt32LE=u;function l(e,t){if(t===void 0){t=0}return(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}t.readUint32LE=l;function h(e,t,r){if(t===void 0){t=new Uint8Array(4)}if(r===void 0){r=0}t[r+0]=e>>>24;t[r+1]=e>>>16;t[r+2]=e>>>8;t[r+3]=e>>>0;return t}t.writeUint32BE=h;t.writeInt32BE=h;function d(e,t,r){if(t===void 0){t=new Uint8Array(4)}if(r===void 0){r=0}t[r+0]=e>>>0;t[r+1]=e>>>8;t[r+2]=e>>>16;t[r+3]=e>>>24;return t}t.writeUint32LE=d;t.writeInt32LE=d;function p(e,t){if(t===void 0){t=0}var r=o(e,t);var n=o(e,t+4);return r*4294967296+n-(n>>31)*4294967296}t.readInt64BE=p;function y(e,t){if(t===void 0){t=0}var r=c(e,t);var n=c(e,t+4);return r*4294967296+n}t.readUint64BE=y;function b(e,t){if(t===void 0){t=0}var r=u(e,t);var n=u(e,t+4);return n*4294967296+r-(r>>31)*4294967296}t.readInt64LE=b;function m(e,t){if(t===void 0){t=0}var r=l(e,t);var n=l(e,t+4);return n*4294967296+r}t.readUint64LE=m;function g(e,t,r){if(t===void 0){t=new Uint8Array(8)}if(r===void 0){r=0}h(e/4294967296>>>0,t,r);h(e>>>0,t,r+4);return t}t.writeUint64BE=g;t.writeInt64BE=g;function v(e,t,r){if(t===void 0){t=new Uint8Array(8)}if(r===void 0){r=0}d(e>>>0,t,r);d(e/4294967296>>>0,t,r+4);return t}t.writeUint64LE=v;t.writeInt64LE=v;function w(e,t,r){if(r===void 0){r=0}if(e%8!==0){throw new Error("readUintBE supports only bitLengths divisible by 8")}if(e/8>t.length-r){throw new Error("readUintBE: array is too short for the given bitLength")}var n=0;var i=1;for(var s=e/8+r-1;s>=r;s--){n+=t[s]*i;i*=256}return n}t.readUintBE=w;function A(e,t,r){if(r===void 0){r=0}if(e%8!==0){throw new Error("readUintLE supports only bitLengths divisible by 8")}if(e/8>t.length-r){throw new Error("readUintLE: array is too short for the given bitLength")}var n=0;var i=1;for(var s=r;s<r+e/8;s++){n+=t[s]*i;i*=256}return n}t.readUintLE=A;function $(e,t,r,n){if(r===void 0){r=new Uint8Array(e/8)}if(n===void 0){n=0}if(e%8!==0){throw new Error("writeUintBE supports only bitLengths divisible by 8")}if(!int_1.isSafeInteger(t)){throw new Error("writeUintBE value must be an integer")}var i=1;for(var s=e/8+n-1;s>=n;s--){r[s]=t/i&255;i*=256}return r}t.writeUintBE=$;function _(e,t,r,n){if(r===void 0){r=new Uint8Array(e/8)}if(n===void 0){n=0}if(e%8!==0){throw new Error("writeUintLE supports only bitLengths divisible by 8")}if(!int_1.isSafeInteger(t)){throw new Error("writeUintLE value must be an integer")}var i=1;for(var s=n;s<n+e/8;s++){r[s]=t/i&255;i*=256}return r}t.writeUintLE=_;function E(e,t){if(t===void 0){t=0}var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t)}t.readFloat32BE=E;function S(e,t){if(t===void 0){t=0}var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t,true)}t.readFloat32LE=S;function T(e,t){if(t===void 0){t=0}var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t)}t.readFloat64BE=T;function C(e,t){if(t===void 0){t=0}var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t,true)}t.readFloat64LE=C;function P(e,t,r){if(t===void 0){t=new Uint8Array(4)}if(r===void 0){r=0}var n=new DataView(t.buffer,t.byteOffset,t.byteLength);n.setFloat32(r,e);return t}t.writeFloat32BE=P;function x(e,t,r){if(t===void 0){t=new Uint8Array(4)}if(r===void 0){r=0}var n=new DataView(t.buffer,t.byteOffset,t.byteLength);n.setFloat32(r,e,true);return t}t.writeFloat32LE=x;function I(e,t,r){if(t===void 0){t=new Uint8Array(8)}if(r===void 0){r=0}var n=new DataView(t.buffer,t.byteOffset,t.byteLength);n.setFloat64(r,e);return t}t.writeFloat64BE=I;function k(e,t,r){if(t===void 0){t=new Uint8Array(8)}if(r===void 0){r=0}var n=new DataView(t.buffer,t.byteOffset,t.byteLength);n.setFloat64(r,e,true);return t}t.writeFloat64LE=k}));var wipe_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e){for(var t=0;t<e.length;t++){e[t]=0}return e}t.wipe=r}));var sha3$1=createCommonjsModule$2((function(e,t){var r=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e){if(e===void 0){e=32}this.capacity=e;this._sh=new Int32Array(25);this._sl=new Int32Array(25);this._state=new Uint8Array(200);this._pos=0;this._finished=false;this.clean=this.reset;if(e<=0||e>128){throw new Error("SHA3: incorrect capacity")}this.blockSize=200-e}e.prototype.reset=function(){wipe_1.wipe(this._sh);wipe_1.wipe(this._sl);wipe_1.wipe(this._state);this._pos=0;this._finished=false;return this};e.prototype.update=function(e){if(this._finished){throw new Error("SHA3: can't update because hash was finished")}for(var t=0;t<e.length;t++){this._state[this._pos++]^=e[t];if(this._pos>=this.blockSize){y(this._sh,this._sl,this._state);this._pos=0}}return this};e.prototype._padAndPermute=function(e){this._state[this._pos]^=e;this._state[this.blockSize-1]^=128;y(this._sh,this._sl,this._state);this._finished=true;this._pos=0};e.prototype._squeeze=function(e){if(!this._finished){throw new Error("SHA3: squeezing before padAndPermute")}for(var t=0;t<e.length;t++){if(this._pos===this.blockSize){y(this._sh,this._sl,this._state);this._pos=0}e[t]=this._state[this._pos++]}};return e}();t.Keccak=n;var i=function(e){r(t,e);function t(t){if(t===void 0){t=32}var r=e.call(this,t*2)||this;r.digestLength=t;return r}t.prototype.finish=function(e){if(!this._finished){this._padAndPermute(6)}else{this._pos=0}this._squeeze(e);return this};t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);this.finish(e);return e};t.prototype.saveState=function(){if(this._finished){throw new Error("SHA3: cannot save finished state")}return new Uint8Array(this._state.subarray(0,this._pos))};t.prototype.restoreState=function(e){this._state.set(e);this._pos=e.length;this._finished=false;return this};t.prototype.cleanSavedState=function(e){wipe_1.wipe(e)};return t}(n);t.SHA3=i;var s=function(e){r(t,e);function t(){return e.call(this,224/8)||this}return t}(i);t.SHA3224=s;var f=function(e){r(t,e);function t(){return e.call(this,256/8)||this}return t}(i);t.SHA3256=f;var a=function(e){r(t,e);function t(){return e.call(this,384/8)||this}return t}(i);t.SHA3384=a;var o=function(e){r(t,e);function t(){return e.call(this,512/8)||this}return t}(i);t.SHA3512=o;function c(e,t){var r=new i(e);r.update(t);var n=r.digest();r.clean();return n}t.hash=c;t.hash224=function(e){return c(224/8,e)};t.hash256=function(e){return c(256/8,e)};t.hash384=function(e){return c(384/8,e)};t.hash512=function(e){return c(512/8,e)};var u=function(e){r(t,e);function t(t){var r=e.call(this,t/8*2)||this;r.bitSize=t;return r}t.prototype.stream=function(e){if(!this._finished){this._padAndPermute(31)}this._squeeze(e)};return t}(n);t.SHAKE=u;var l=function(e){r(t,e);function t(){return e.call(this,128)||this}return t}(u);t.SHAKE128=l;var h=function(e){r(t,e);function t(){return e.call(this,256)||this}return t}(u);t.SHAKE256=h;var d=new Int32Array([0,0,2147483648,2147483648,0,0,2147483648,2147483648,0,0,0,0,0,2147483648,2147483648,2147483648,2147483648,2147483648,0,2147483648,2147483648,2147483648,0,2147483648]);var p=new Int32Array([1,32898,32906,2147516416,32907,2147483649,2147516545,32777,138,136,2147516425,2147483658,2147516555,139,32905,32771,32770,128,32778,2147483658,2147516545,32896,2147483649,2147516424]);function y(e,t,r){var n,i,s,f,a;var o,c,u,l,h;var y,b;for(var m=0;m<25;m++){t[m]=binary.readUint32LE(r,m*8);e[m]=binary.readUint32LE(r,m*8+4)}for(var g=0;g<24;g++){n=e[0]^e[5]^e[10]^e[15]^e[20];i=e[1]^e[6]^e[11]^e[16]^e[21];s=e[2]^e[7]^e[12]^e[17]^e[22];f=e[3]^e[8]^e[13]^e[18]^e[23];a=e[4]^e[9]^e[14]^e[19]^e[24];o=t[0]^t[5]^t[10]^t[15]^t[20];c=t[1]^t[6]^t[11]^t[16]^t[21];u=t[2]^t[7]^t[12]^t[17]^t[22];l=t[3]^t[8]^t[13]^t[18]^t[23];h=t[4]^t[9]^t[14]^t[19]^t[24];y=a^(i<<1|c>>>32-1);b=h^(c<<1|i>>>32-1);e[0]^=y;e[5]^=y;e[10]^=y;e[15]^=y;e[20]^=y;t[0]^=b;t[5]^=b;t[10]^=b;t[15]^=b;t[20]^=b;y=n^(s<<1|u>>>32-1);b=o^(u<<1|s>>>32-1);e[1]^=y;e[6]^=y;e[11]^=y;e[16]^=y;e[21]^=y;t[1]^=b;t[6]^=b;t[11]^=b;t[16]^=b;t[21]^=b;y=i^(f<<1|l>>>32-1);b=c^(l<<1|f>>>32-1);e[2]^=y;e[7]^=y;e[12]^=y;e[17]^=y;e[22]^=y;t[2]^=b;t[7]^=b;t[12]^=b;t[17]^=b;t[22]^=b;y=s^(a<<1|h>>>32-1);b=u^(h<<1|a>>>32-1);e[3]^=y;t[3]^=b;e[8]^=y;t[8]^=b;e[13]^=y;t[13]^=b;e[18]^=y;t[18]^=b;e[23]^=y;t[23]^=b;y=f^(n<<1|o>>>32-1);b=l^(o<<1|n>>>32-1);e[4]^=y;e[9]^=y;e[14]^=y;e[19]^=y;e[24]^=y;t[4]^=b;t[9]^=b;t[14]^=b;t[19]^=b;t[24]^=b;y=e[1];b=t[1];n=e[10];o=t[10];e[10]=y<<1|b>>>32-1;t[10]=b<<1|y>>>32-1;y=n;b=o;n=e[7];o=t[7];e[7]=y<<3|b>>>32-3;t[7]=b<<3|y>>>32-3;y=n;b=o;n=e[11];o=t[11];e[11]=y<<6|b>>>32-6;t[11]=b<<6|y>>>32-6;y=n;b=o;n=e[17];o=t[17];e[17]=y<<10|b>>>32-10;t[17]=b<<10|y>>>32-10;y=n;b=o;n=e[18];o=t[18];e[18]=y<<15|b>>>32-15;t[18]=b<<15|y>>>32-15;y=n;b=o;n=e[3];o=t[3];e[3]=y<<21|b>>>32-21;t[3]=b<<21|y>>>32-21;y=n;b=o;n=e[5];o=t[5];e[5]=y<<28|b>>>32-28;t[5]=b<<28|y>>>32-28;y=n;b=o;n=e[16];o=t[16];e[16]=b<<4|y>>>32-4;t[16]=y<<4|b>>>32-4;y=n;b=o;n=e[8];o=t[8];e[8]=b<<13|y>>>32-13;t[8]=y<<13|b>>>32-13;y=n;b=o;n=e[21];o=t[21];e[21]=b<<23|y>>>32-23;t[21]=y<<23|b>>>32-23;y=n;b=o;n=e[24];o=t[24];e[24]=y<<2|b>>>32-2;t[24]=b<<2|y>>>32-2;y=n;b=o;n=e[4];o=t[4];e[4]=y<<14|b>>>32-14;t[4]=b<<14|y>>>32-14;y=n;b=o;n=e[15];o=t[15];e[15]=y<<27|b>>>32-27;t[15]=b<<27|y>>>32-27;y=n;b=o;n=e[23];o=t[23];e[23]=b<<9|y>>>32-9;t[23]=y<<9|b>>>32-9;y=n;b=o;n=e[19];o=t[19];e[19]=b<<24|y>>>32-24;t[19]=y<<24|b>>>32-24;y=n;b=o;n=e[13];o=t[13];e[13]=y<<8|b>>>32-8;t[13]=b<<8|y>>>32-8;y=n;b=o;n=e[12];o=t[12];e[12]=y<<25|b>>>32-25;t[12]=b<<25|y>>>32-25;y=n;b=o;n=e[2];o=t[2];e[2]=b<<11|y>>>32-11;t[2]=y<<11|b>>>32-11;y=n;b=o;n=e[20];o=t[20];e[20]=b<<30|y>>>32-30;t[20]=y<<30|b>>>32-30;y=n;b=o;n=e[14];o=t[14];e[14]=y<<18|b>>>32-18;t[14]=b<<18|y>>>32-18;y=n;b=o;n=e[22];o=t[22];e[22]=b<<7|y>>>32-7;t[22]=y<<7|b>>>32-7;y=n;b=o;n=e[9];o=t[9];e[9]=b<<29|y>>>32-29;t[9]=y<<29|b>>>32-29;y=n;b=o;n=e[6];o=t[6];e[6]=y<<20|b>>>32-20;t[6]=b<<20|y>>>32-20;y=n;b=o;n=e[1];o=t[1];e[1]=b<<12|y>>>32-12;t[1]=y<<12|b>>>32-12;y=n;b=o;n=e[0];i=e[1];s=e[2];f=e[3];a=e[4];e[0]^=~i&s;e[1]^=~s&f;e[2]^=~f&a;e[3]^=~a&n;e[4]^=~n&i;o=t[0];c=t[1];u=t[2];l=t[3];h=t[4];t[0]^=~c&u;t[1]^=~u&l;t[2]^=~l&h;t[3]^=~h&o;t[4]^=~o&c;n=e[5];i=e[6];s=e[7];f=e[8];a=e[9];e[5]^=~i&s;e[6]^=~s&f;e[7]^=~f&a;e[8]^=~a&n;e[9]^=~n&i;o=t[5];c=t[6];u=t[7];l=t[8];h=t[9];t[5]^=~c&u;t[6]^=~u&l;t[7]^=~l&h;t[8]^=~h&o;t[9]^=~o&c;n=e[10];i=e[11];s=e[12];f=e[13];a=e[14];e[10]^=~i&s;e[11]^=~s&f;e[12]^=~f&a;e[13]^=~a&n;e[14]^=~n&i;o=t[10];c=t[11];u=t[12];l=t[13];h=t[14];t[10]^=~c&u;t[11]^=~u&l;t[12]^=~l&h;t[13]^=~h&o;t[14]^=~o&c;n=e[15];i=e[16];s=e[17];f=e[18];a=e[19];e[15]^=~i&s;e[16]^=~s&f;e[17]^=~f&a;e[18]^=~a&n;e[19]^=~n&i;o=t[15];c=t[16];u=t[17];l=t[18];h=t[19];t[15]^=~c&u;t[16]^=~u&l;t[17]^=~l&h;t[18]^=~h&o;t[19]^=~o&c;n=e[20];i=e[21];s=e[22];f=e[23];a=e[24];e[20]^=~i&s;e[21]^=~s&f;e[22]^=~f&a;e[23]^=~a&n;e[24]^=~n&i;o=t[20];c=t[21];u=t[22];l=t[23];h=t[24];t[20]^=~c&u;t[21]^=~u&l;t[22]^=~l&h;t[23]^=~h&o;t[24]^=~o&c;e[0]^=d[g];t[0]^=p[g]}for(var m=0;m<25;m++){binary.writeUint32LE(t[m],r,m*8);binary.writeUint32LE(e[m],r,m*8+4)}}}));var readUInt32BE=function e(t,r){var n=t[0+r]<<24|t[1+r]<<16|t[2+r]<<8|t[3+r];return n>>>0};var writeUInt32BE=function e(t,r,n){t[0+n]=r>>>24;t[1+n]=r>>>16&255;t[2+n]=r>>>8&255;t[3+n]=r&255};var ip=function e(t,r,n,i){var s=0;var f=0;for(var a=6;a>=0;a-=2){for(var o=0;o<=24;o+=8){s<<=1;s|=r>>>o+a&1}for(var o=0;o<=24;o+=8){s<<=1;s|=t>>>o+a&1}}for(var a=6;a>=0;a-=2){for(var o=1;o<=25;o+=8){f<<=1;f|=r>>>o+a&1}for(var o=1;o<=25;o+=8){f<<=1;f|=t>>>o+a&1}}n[i+0]=s>>>0;n[i+1]=f>>>0};var rip=function e(t,r,n,i){var s=0;var f=0;for(var a=0;a<4;a++){for(var o=24;o>=0;o-=8){s<<=1;s|=r>>>o+a&1;s<<=1;s|=t>>>o+a&1}}for(var a=4;a<8;a++){for(var o=24;o>=0;o-=8){f<<=1;f|=r>>>o+a&1;f<<=1;f|=t>>>o+a&1}}n[i+0]=s>>>0;n[i+1]=f>>>0};var pc1=function e(t,r,n,i){var s=0;var f=0;for(var a=7;a>=5;a--){for(var o=0;o<=24;o+=8){s<<=1;s|=r>>o+a&1}for(var o=0;o<=24;o+=8){s<<=1;s|=t>>o+a&1}}for(var o=0;o<=24;o+=8){s<<=1;s|=r>>o+a&1}for(var a=1;a<=3;a++){for(var o=0;o<=24;o+=8){f<<=1;f|=r>>o+a&1}for(var o=0;o<=24;o+=8){f<<=1;f|=t>>o+a&1}}for(var o=0;o<=24;o+=8){f<<=1;f|=t>>o+a&1}n[i+0]=s>>>0;n[i+1]=f>>>0};var r28shl=function e(t,r){return t<<r&268435455|t>>>28-r};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];var pc2=function e(t,r,n,i){var s=0;var f=0;var a=pc2table.length>>>1;for(var o=0;o<a;o++){s<<=1;s|=t>>>pc2table[o]&1}for(var o=a;o<pc2table.length;o++){f<<=1;f|=r>>>pc2table[o]&1}n[i+0]=s>>>0;n[i+1]=f>>>0};var expand=function e(t,r,n){var i=0;var s=0;i=(t&1)<<5|t>>>27;for(var f=23;f>=15;f-=4){i<<=6;i|=t>>>f&63}for(var f=11;f>=3;f-=4){s|=t>>>f&63;s<<=6}s|=(t&31)<<1|t>>>31;r[n+0]=i>>>0;r[n+1]=s>>>0};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];var substitute=function e(t,r){var n=0;for(var i=0;i<4;i++){var s=t>>>18-i*6&63;var f=sTable[i*64+s];n<<=4;n|=f}for(var i=0;i<4;i++){var s=r>>>18-i*6&63;var f=sTable[4*64+i*64+s];n<<=4;n|=f}return n>>>0};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];var permute=function e(t){var r=0;for(var n=0;n<permuteTable.length;n++){r<<=1;r|=t>>>permuteTable[n]&1}return r>>>0};var padSplit=function e(t,r,n){var i=t.toString(2);while(i.length<r)i="0"+i;var s=[];for(var f=0;f<r;f+=n)s.push(i.slice(f,f+n));return s.join(" ")};var utils$6={readUInt32BE,writeUInt32BE,ip,rip,pc1,r28shl,pc2,expand,substitute,permute,padSplit};function Cipher$1(e){this.options=e;this.type=this.options.type;this.blockSize=8;this._init();this.buffer=new Array(this.blockSize);this.bufferOff=0}var cipher=Cipher$1;Cipher$1.prototype._init=function e(){};Cipher$1.prototype.update=function e(t){if(t.length===0)return[];if(this.type==="decrypt")return this._updateDecrypt(t);else return this._updateEncrypt(t)};Cipher$1.prototype._buffer=function e(t,r){var n=Math.min(this.buffer.length-this.bufferOff,t.length-r);for(var i=0;i<n;i++)this.buffer[this.bufferOff+i]=t[r+i];this.bufferOff+=n;return n};Cipher$1.prototype._flushBuffer=function e(t,r){this._update(this.buffer,0,t,r);this.bufferOff=0;return this.blockSize};Cipher$1.prototype._updateEncrypt=function e(t){var r=0;var n=0;var i=(this.bufferOff+t.length)/this.blockSize|0;var s=new Array(i*this.blockSize);if(this.bufferOff!==0){r+=this._buffer(t,r);if(this.bufferOff===this.buffer.length)n+=this._flushBuffer(s,n)}var f=t.length-(t.length-r)%this.blockSize;for(;r<f;r+=this.blockSize){this._update(t,r,s,n);n+=this.blockSize}for(;r<t.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=t[r];return s};Cipher$1.prototype._updateDecrypt=function e(t){var r=0;var n=0;var i=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1;var s=new Array(i*this.blockSize);for(;i>0;i--){r+=this._buffer(t,r);n+=this._flushBuffer(s,n)}r+=this._buffer(t,r);return s};Cipher$1.prototype.final=function e(t){var r;if(t)r=this.update(t);var n;if(this.type==="encrypt")n=this._finalEncrypt();else n=this._finalDecrypt();if(r)return r.concat(n);else return n};Cipher$1.prototype._pad=function e(t,r){if(r===0)return false;while(r<t.length)t[r++]=0;return true};Cipher$1.prototype._finalEncrypt=function e(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);this._update(this.buffer,0,t,0);return t};Cipher$1.prototype._unpad=function e(t){return t};Cipher$1.prototype._finalDecrypt=function e(){minimalisticAssert$3.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);this._flushBuffer(t,0);return this._unpad(t)};function DESState(){this.tmp=new Array(2);this.keys=null}function DES$1(e){cipher.call(this,e);var t=new DESState;this._desState=t;this.deriveKeys(t,e.key)}inherits_browser$3(DES$1,cipher);var des$2=DES$1;DES$1.create=function e(t){return new DES$1(t)};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES$1.prototype.deriveKeys=function e(t,r){t.keys=new Array(16*2);minimalisticAssert$3.equal(r.length,this.blockSize,"Invalid key length");var n=utils$6.readUInt32BE(r,0);var i=utils$6.readUInt32BE(r,4);utils$6.pc1(n,i,t.tmp,0);n=t.tmp[0];i=t.tmp[1];for(var s=0;s<t.keys.length;s+=2){var f=shiftTable[s>>>1];n=utils$6.r28shl(n,f);i=utils$6.r28shl(i,f);utils$6.pc2(n,i,t.keys,s)}};DES$1.prototype._update=function e(t,r,n,i){var s=this._desState;var f=utils$6.readUInt32BE(t,r);var a=utils$6.readUInt32BE(t,r+4);utils$6.ip(f,a,s.tmp,0);f=s.tmp[0];a=s.tmp[1];if(this.type==="encrypt")this._encrypt(s,f,a,s.tmp,0);else this._decrypt(s,f,a,s.tmp,0);f=s.tmp[0];a=s.tmp[1];utils$6.writeUInt32BE(n,f,i);utils$6.writeUInt32BE(n,a,i+4)};DES$1.prototype._pad=function e(t,r){var n=t.length-r;for(var i=r;i<t.length;i++)t[i]=n;return true};DES$1.prototype._unpad=function e(t){var r=t[t.length-1];for(var n=t.length-r;n<t.length;n++)minimalisticAssert$3.equal(t[n],r);return t.slice(0,t.length-r)};DES$1.prototype._encrypt=function e(t,r,n,i,s){var f=r;var a=n;for(var o=0;o<t.keys.length;o+=2){var c=t.keys[o];var u=t.keys[o+1];utils$6.expand(a,t.tmp,0);c^=t.tmp[0];u^=t.tmp[1];var l=utils$6.substitute(c,u);var h=utils$6.permute(l);var d=a;a=(f^h)>>>0;f=d}utils$6.rip(a,f,i,s)};DES$1.prototype._decrypt=function e(t,r,n,i,s){var f=n;var a=r;for(var o=t.keys.length-2;o>=0;o-=2){var c=t.keys[o];var u=t.keys[o+1];utils$6.expand(f,t.tmp,0);c^=t.tmp[0];u^=t.tmp[1];var l=utils$6.substitute(c,u);var h=utils$6.permute(l);var d=f;f=(a^h)>>>0;a=d}utils$6.rip(f,a,i,s)};var proto={};function CBCState(e){minimalisticAssert$3.equal(e.length,8,"Invalid IV length");this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}function instantiate$2(e){function t(t){e.call(this,t);this._cbcInit()}inherits_browser$3(t,e);var r=Object.keys(proto);for(var n=0;n<r.length;n++){var i=r[n];t.prototype[i]=proto[i]}t.create=function e(r){return new t(r)};return t}var instantiate_1$1=instantiate$2;proto._cbcInit=function e(){var t=new CBCState(this.options.iv);this._cbcState=t};proto._update=function e(t,r,n,i){var s=this._cbcState;var f=this.constructor.super_.prototype;var a=s.iv;if(this.type==="encrypt"){for(var o=0;o<this.blockSize;o++)a[o]^=t[r+o];f._update.call(this,a,0,n,i);for(var o=0;o<this.blockSize;o++)a[o]=n[i+o]}else{f._update.call(this,t,r,n,i);for(var o=0;o<this.blockSize;o++)n[i+o]^=a[o];for(var o=0;o<this.blockSize;o++)a[o]=t[r+o]}};var cbc={instantiate:instantiate_1$1};function EDEState(e,t){minimalisticAssert$3.equal(t.length,24,"Invalid key length");var r=t.slice(0,8);var n=t.slice(8,16);var i=t.slice(16,24);if(e==="encrypt"){this.ciphers=[des$2.create({type:"encrypt",key:r}),des$2.create({type:"decrypt",key:n}),des$2.create({type:"encrypt",key:i})]}else{this.ciphers=[des$2.create({type:"decrypt",key:i}),des$2.create({type:"encrypt",key:n}),des$2.create({type:"decrypt",key:r})]}}function EDE$1(e){cipher.call(this,e);var t=new EDEState(this.type,this.options.key);this._edeState=t}inherits_browser$3(EDE$1,cipher);var ede=EDE$1;EDE$1.create=function e(t){return new EDE$1(t)};EDE$1.prototype._update=function e(t,r,n,i){var s=this._edeState;s.ciphers[0]._update(t,r,n,i);s.ciphers[1]._update(n,i,n,i);s.ciphers[2]._update(n,i,n,i)};EDE$1.prototype._pad=des$2.prototype._pad;EDE$1.prototype._unpad=des$2.prototype._unpad;var utils$5=utils$6;var Cipher=cipher;var DES=des$2;var CBC=cbc;var EDE=ede;var des={utils:utils$5,Cipher,DES,CBC,EDE};const des$1=Object.freeze(Object.assign(Object.create(null),des,{default:des,utils:utils$5,Cipher,DES,CBC,EDE}));let window$1={};if(typeof self!=="undefined"){window$1=self}let nativeCrypto=window$1["msCrypto"]||window$1.crypto||{};let nativeSubtle=null;try{nativeSubtle=(nativeCrypto===null||nativeCrypto===void 0?void 0:nativeCrypto.subtle)||(nativeCrypto===null||nativeCrypto===void 0?void 0:nativeCrypto["webkitSubtle"])||null}catch(err){console.warn("Cannot get subtle from crypto",err)}class Debug{static get enabled(){return typeof self!=="undefined"&&self.PV_WEBCRYPTO_LINER_LOG}static log(...e){if(this.enabled){console.log.apply(console,e)}}static error(...e){if(this.enabled){console.error.apply(console,e)}}static info(...e){if(this.enabled){console.info.apply(console,e)}}static warn(...e){if(this.enabled){console.warn.apply(console,e)}}static trace(...e){if(this.enabled){console.trace.apply(console,e)}}}var Browser;(function(e){e["Unknown"]="Unknown";e["IE"]="Internet Explorer";e["Safari"]="Safari";e["Edge"]="Edge";e["Chrome"]="Chrome";e["Firefox"]="Firefox Mozilla";e["Mobile"]="Mobile"})(Browser||(Browser={}));function BrowserInfo(){const e={name:Browser.Unknown,version:"0"};if(typeof self==="undefined"){return e}const t=self.navigator.userAgent;let r;if(r=/edge\/([\d\.]+)/i.exec(t)){e.name=Browser.Edge;e.version=r[1]}else if(/msie/i.test(t)){e.name=Browser.IE;e.version=/msie ([\d\.]+)/i.exec(t)[1]}else if(/Trident/i.test(t)){e.name=Browser.IE;e.version=/rv:([\d\.]+)/i.exec(t)[1]}else if(/chrome/i.test(t)){e.name=Browser.Chrome;e.version=/chrome\/([\d\.]+)/i.exec(t)[1]}else if(/firefox/i.test(t)){e.name=Browser.Firefox;e.version=/firefox\/([\d\.]+)/i.exec(t)[1]}else if(/mobile/i.test(t)){e.name=Browser.Mobile;e.version=/mobile\/([\w]+)/i.exec(t)[1]}else if(/safari/i.test(t)){e.name=Browser.Safari;e.version=/version\/([\d\.]+)/i.exec(t)[1]}return e}function concat$3(...e){const t=new Uint8Array(e.map((e=>e.length)).reduce(((e,t)=>e+t)));let r=0;e.forEach(((e,n)=>{for(let n=0;n<e.length;n++){t[r+n]=e[n]}r+=e.length}));return t}class CryptoKey extends CryptoKey$1{constructor(e,t,r,n){super();this.extractable=t;this.type=r;this.usages=n;this.algorithm=Object.assign({},e)}}function isAlgorithm(e,t){return e.name.toUpperCase()===t.toUpperCase()}class AesCryptoKey extends CryptoKey{constructor(e,t,r,n){super(e,t,"secret",r);this.raw=n}toJSON(){const e={kty:"oct",alg:this.getJwkAlgorithm(),k:build.Convert.ToBase64Url(this.raw),ext:this.extractable,key_ops:this.usages};return e}getJwkAlgorithm(){switch(this.algorithm.name.toUpperCase()){case"AES-CBC":return`A${this.algorithm.length}CBC`;case"AES-CTR":return`A${this.algorithm.length}CTR`;case"AES-GCM":return`A${this.algorithm.length}GCM`;case"AES-ECB":return`A${this.algorithm.length}ECB`;default:throw new AlgorithmError("Unsupported algorithm name")}}}class AesCrypto{static checkCryptoKey(e){if(!(e instanceof AesCryptoKey)){throw new TypeError("key: Is not AesCryptoKey")}}static generateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){const n=nativeCrypto.getRandomValues(new Uint8Array(e.length/8));return new AesCryptoKey(e,t,r,n)}))}static encrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return this.cipher(e,t,build.BufferSourceConverter.toUint8Array(r),true)}))}static decrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return this.cipher(e,t,build.BufferSourceConverter.toUint8Array(r),false)}))}static exportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){switch(e){case"jwk":return t.toJSON();case"raw":return t.raw.buffer;default:throw new OperationError("format: Must be 'jwk' or 'raw'")}}))}static importKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){let e;if(isJWK(t)){e=build.Convert.FromBase64Url(t.k)}else{e=build.BufferSourceConverter.toArrayBuffer(t)}switch(e.byteLength<<3){case 128:case 192:case 256:break;default:throw new OperationError("keyData: Is wrong key length")}const s=new AesCryptoKey({name:r.name,length:e.byteLength<<3},n,i,new Uint8Array(e));return s}))}static cipher(e,t,r,n){return __awaiter$h(this,void 0,void 0,(function*(){const i=n?"encrypt":"decrypt";let s;if(isAlgorithm(e,AesCrypto.AesCBC)){const n=build.BufferSourceConverter.toUint8Array(e.iv);s=AES_CBC[i](r,t.raw,undefined,n)}else if(isAlgorithm(e,AesCrypto.AesGCM)){const n=build.BufferSourceConverter.toUint8Array(e.iv);let f;if(e.additionalData){f=build.BufferSourceConverter.toArrayBuffer(e.additionalData)}const a=(e.tagLength||128)/8;s=AES_GCM[i](r,t.raw,n,f,a)}else if(isAlgorithm(e,AesCrypto.AesECB)){s=AES_ECB[i](r,t.raw,true)}else{throw new OperationError(`algorithm: Is not recognized`)}return build.BufferSourceConverter.toArrayBuffer(s)}))}}AesCrypto.AesCBC="AES-CBC";AesCrypto.AesECB="AES-ECB";AesCrypto.AesGCM="AES-GCM";class AesCbcProvider extends AesCbcProvider$1{onGenerateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return AesCrypto.generateKey(e,t,r)}))}onEncrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return AesCrypto.encrypt(e,t,r)}))}onDecrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return AesCrypto.decrypt(e,t,r)}))}onExportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){return AesCrypto.exportKey(e,t)}))}onImportKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){return AesCrypto.importKey(e,t,r,n,i)}))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);AesCrypto.checkCryptoKey(e)}}class AesEcbProvider extends AesEcbProvider$1{onGenerateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return AesCrypto.generateKey(e,t,r)}))}onEncrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return AesCrypto.encrypt(e,t,r)}))}onDecrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return AesCrypto.decrypt(e,t,r)}))}onExportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){return AesCrypto.exportKey(e,t)}))}onImportKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){return AesCrypto.importKey(e,t,r,n,i)}))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);AesCrypto.checkCryptoKey(e)}}class AesGcmProvider extends AesGcmProvider$1{onGenerateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return AesCrypto.generateKey(e,t,r)}))}onEncrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return AesCrypto.encrypt(e,t,r)}))}onDecrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return AesCrypto.decrypt(e,t,r)}))}onExportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){return AesCrypto.exportKey(e,t)}))}onImportKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){return AesCrypto.importKey(e,t,r,n,i)}))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);AesCrypto.checkCryptoKey(e)}}class AesCtrProvider extends AesCtrProvider$1{onEncrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){const n=new AES_CTR(t.raw,build.BufferSourceConverter.toUint8Array(e.counter)).encrypt(build.BufferSourceConverter.toUint8Array(r));return build.BufferSourceConverter.toArrayBuffer(n)}))}onDecrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){const n=new AES_CTR(t.raw,build.BufferSourceConverter.toUint8Array(e.counter)).decrypt(build.BufferSourceConverter.toUint8Array(r));return build.BufferSourceConverter.toArrayBuffer(n)}))}onGenerateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return AesCrypto.generateKey(e,t,r)}))}onExportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){return AesCrypto.exportKey(e,t)}))}onImportKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){return AesCrypto.importKey(e,t,r,n,i)}))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);AesCrypto.checkCryptoKey(e)}}class AesKwProvider extends AesKwProvider$1{onEncrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}onDecrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}onGenerateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}onExportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}onImportKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);AesCrypto.checkCryptoKey(e)}}class RsaCryptoKey extends CryptoKey{constructor(e,t,r,n,i){super(e,t,r,n);this.data=i}}class RsaCrypto{static checkCryptoKey(e){if(!(e instanceof RsaCryptoKey)){throw new TypeError("key: Is not RsaCryptoKey")}}static generateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){const n={name:"RSA-PSS",hash:"SHA-256",publicExponent:e.publicExponent,modulusLength:e.modulusLength};const i=yield nativeSubtle.generateKey(n,true,["sign","verify"]);const s=new Crypto;const f=yield s.subtle.exportKey("pkcs8",i.privateKey);const a=yield s.subtle.importKey("pkcs8",f,e,t,r.filter((e=>this.privateUsages.includes(e))));const o=yield s.subtle.exportKey("spki",i.publicKey);const c=yield s.subtle.importKey("spki",o,e,true,r.filter((e=>this.publicUsages.includes(e))));return{privateKey:a,publicKey:c}}))}static exportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){switch(e){case"pkcs8":return this.exportPkcs8Key(t);case"spki":return this.exportSpkiKey(t);case"jwk":return this.exportJwkKey(t);default:throw new OperationError("format: Must be 'jwk', 'pkcs8' or 'spki'")}}))}static importKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){let s;switch(e){case"pkcs8":s=this.importPkcs8Key(t);break;case"spki":s=this.importSpkiKey(t);break;case"jwk":s=this.importJwkKey(t);break;default:throw new OperationError("format: Must be 'jwk', 'pkcs8' or 'spki'")}const f=new RsaCryptoKey(Object.assign({publicExponent:s[1][1]===1?s[1].slice(1):s[1].slice(3),modulusLength:s[0].byteLength<<3},r),n,s.length===2?"public":"private",i,s);return f}))}static randomNonZeroValues(e){e=nativeCrypto.getRandomValues(e);return e.map((e=>{while(!e){e=nativeCrypto.getRandomValues(new Uint8Array(1))[0]}return e}))}static exportPkcs8Key(e){const t=new index$1$1.PrivateKeyInfo;t.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1";t.privateKeyAlgorithm.parameters=null;t.privateKey=AsnConvert.serialize(this.exportAsmKey(e.data));return AsnConvert.serialize(t)}static importPkcs8Key(e){const t=AsnConvert.parse(e,index$1$1.PrivateKeyInfo);const r=AsnConvert.parse(t.privateKey,index$1$1.RsaPrivateKey);return this.importAsmKey(r)}static importSpkiKey(e){const t=AsnConvert.parse(e,index$1$1.PublicKeyInfo);const r=AsnConvert.parse(t.publicKey,index$1$1.RsaPublicKey);return this.importAsmKey(r)}static exportSpkiKey(e){const t=new index$1$1.RsaPublicKey;t.modulus=e.data[0].buffer;t.publicExponent=e.data[1][1]===1?e.data[1].buffer.slice(1):e.data[1].buffer.slice(3);const r=new index$1$1.PublicKeyInfo;r.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1";r.publicKeyAlgorithm.parameters=null;r.publicKey=AsnConvert.serialize(t);return AsnConvert.serialize(r)}static importJwkKey(e){let t;if(e.d){t=JsonParser.fromJSON(e,{targetSchema:index$1$1.RsaPrivateKey})}else{t=JsonParser.fromJSON(e,{targetSchema:index$1$1.RsaPublicKey})}return this.importAsmKey(t)}static exportJwkKey(e){const t=this.exportAsmKey(e.data);const r=JsonSerializer.toJSON(t);r.ext=true;r.key_ops=e.usages;r.kty="RSA";r.alg=this.getJwkAlgorithm(e.algorithm);return r}static getJwkAlgorithm(e){switch(e.name.toUpperCase()){case"RSA-OAEP":const t=/(\d+)$/.exec(e.hash.name)[1];return`RSA-OAEP${t!=="1"?`-${t}`:""}`;case"RSASSA-PKCS1-V1_5":return`RS${/(\d+)$/.exec(e.hash.name)[1]}`;case"RSA-PSS":return`PS${/(\d+)$/.exec(e.hash.name)[1]}`;case"RSAES-PKCS1-V1_5":return`PS1`;default:throw new OperationError("algorithm: Is not recognized")}}static exportAsmKey(e){let t;if(e.length>2){const r=new index$1$1.RsaPrivateKey;r.privateExponent=e[2].buffer;r.prime1=e[3].buffer;r.prime2=e[4].buffer;r.exponent1=e[5].buffer;r.exponent2=e[6].buffer;r.coefficient=e[7].buffer;t=r}else{t=new index$1$1.RsaPublicKey}t.modulus=e[0].buffer;t.publicExponent=e[1][1]===1?e[1].buffer.slice(1):e[1].buffer.slice(3);return t}static importAsmKey(e){const t=new Uint8Array(4-e.publicExponent.byteLength);const r=[new Uint8Array(e.modulus),concat$3(t,new Uint8Array(e.publicExponent))];if(e instanceof index$1$1.RsaPrivateKey){r.push(new Uint8Array(e.privateExponent));r.push(new Uint8Array(e.prime1));r.push(new Uint8Array(e.prime2));r.push(new Uint8Array(e.exponent1));r.push(new Uint8Array(e.exponent2));r.push(new Uint8Array(e.coefficient))}return r}}RsaCrypto.RsaSsa="RSASSA-PKCS1-v1_5";RsaCrypto.RsaPss="RSA-PSS";RsaCrypto.RsaOaep="RSA-OAEP";RsaCrypto.privateUsages=["sign","decrypt","unwrapKey"];RsaCrypto.publicUsages=["verify","encrypt","wrapKey"];class ShaCrypto{static getDigest(e){switch(e){case"SHA-1":return new Sha1;case"SHA-256":return new Sha256;case"SHA-512":return new Sha512;default:throw new AlgorithmError("keyAlgorithm.hash: Is not recognized")}}static digest(e,t){return __awaiter$h(this,void 0,void 0,(function*(){const r=this.getDigest(e.name);const n=r.process(build.BufferSourceConverter.toUint8Array(t)).finish().result;return build.BufferSourceConverter.toArrayBuffer(n)}))}}class RsaOaepProvider extends RsaOaepProvider$1{onGenerateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return RsaCrypto.generateKey(e,t,r)}))}onExportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){return RsaCrypto.exportKey(e,t)}))}onImportKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){return RsaCrypto.importKey(e,t,r,n,i)}))}onEncrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return this.cipher(e,t,r)}))}onDecrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return this.cipher(e,t,r)}))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);RsaCrypto.checkCryptoKey(e)}cipher(e,t,r){const n=ShaCrypto.getDigest(t.algorithm.hash.name);let i;if(e.label){i=build.BufferSourceConverter.toUint8Array(e.label)}const s=new RSA_OAEP(t.data,n,i);let f;const a=build.BufferSourceConverter.toUint8Array(r);if(t.type==="public"){f=s.encrypt(a)}else{f=s.decrypt(a)}return build.BufferSourceConverter.toArrayBuffer(f)}}class RsaPssProvider extends RsaPssProvider$1{onGenerateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return RsaCrypto.generateKey(e,t,r)}))}onExportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){return RsaCrypto.exportKey(e,t)}))}onImportKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){return RsaCrypto.importKey(e,t,r,n,i)}))}onSign(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){const n=new RSA_PSS(t.data,ShaCrypto.getDigest(t.algorithm.hash.name),e.saltLength);const i=n.sign(build.BufferSourceConverter.toUint8Array(r));return build.BufferSourceConverter.toArrayBuffer(i)}))}onVerify(e,t,r,n){return __awaiter$h(this,void 0,void 0,(function*(){const i=new RSA_PSS(t.data,ShaCrypto.getDigest(t.algorithm.hash.name),e.saltLength);try{i.verify(build.BufferSourceConverter.toUint8Array(r),build.BufferSourceConverter.toUint8Array(n))}catch(e){return false}return true}))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);RsaCrypto.checkCryptoKey(e)}}class RsaSsaProvider extends RsaSsaProvider$1{onGenerateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return RsaCrypto.generateKey(e,t,r)}))}onExportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){return RsaCrypto.exportKey(e,t)}))}onImportKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){return RsaCrypto.importKey(e,t,r,n,i)}))}onSign(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){const e=new RSA_PKCS1_v1_5(t.data,ShaCrypto.getDigest(t.algorithm.hash.name));const n=e.sign(build.BufferSourceConverter.toUint8Array(r));return build.BufferSourceConverter.toArrayBuffer(n)}))}onVerify(e,t,r,n){return __awaiter$h(this,void 0,void 0,(function*(){const e=new RSA_PKCS1_v1_5(t.data,ShaCrypto.getDigest(t.algorithm.hash.name));try{e.verify(build.BufferSourceConverter.toUint8Array(r),build.BufferSourceConverter.toUint8Array(n))}catch(e){return false}return true}))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);RsaCrypto.checkCryptoKey(e)}}class RsaEsProvider extends ProviderCrypto{constructor(){super(...arguments);this.name="RSAES-PKCS1-v1_5";this.usages={publicKey:["encrypt","wrapKey"],privateKey:["decrypt","unwrapKey"]};this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"]}onGenerateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return RsaCrypto.generateKey(e,t,r)}))}checkGenerateKeyParams(e){this.checkRequiredProperty(e,"publicExponent");if(!(e.publicExponent&&e.publicExponent instanceof Uint8Array)){throw new TypeError("publicExponent: Missing or not a Uint8Array")}const t=build.Convert.ToBase64(e.publicExponent);if(!(t==="Aw=="||t==="AQAB")){throw new TypeError("publicExponent: Must be [3] or [1,0,1]")}this.checkRequiredProperty(e,"modulusLength");switch(e.modulusLength){case 1024:case 2048:case 4096:break;default:throw new TypeError("modulusLength: Must be 1024, 2048, or 4096")}}onDecrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){const e=new RSA(t.data).decrypt(new BigNumber$1(build.BufferSourceConverter.toUint8Array(r))).result;const n=t.algorithm.modulusLength>>3;if(r.byteLength!==n){throw new CryptoError("Decryption error. Encrypted message size doesn't match to key length")}let i=0;if(e[i++]||e[i++]!==2){throw new CryptoError("Decryption error")}do{if(e[i++]===0){break}}while(i<e.length);if(i<11){throw new CryptoError("Decryption error. PS is less than 8 octets.")}if(i===e.length){throw new CryptoError("Decryption error. There is no octet with hexadecimal value 0x00 to separate PS from M")}return e.buffer.slice(i)}))}onEncrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){const e=t.algorithm.modulusLength>>3;if(r.byteLength>e-11){throw new CryptoError("Message too long")}const n=e-r.byteLength-3;const i=RsaCrypto.randomNonZeroValues(new Uint8Array(n));const s=new Uint8Array(e);s[0]=0;s[1]=2;s.set(i,2);s[2+n]=0;s.set(new Uint8Array(r),3+n);const f=new RSA(t.data).encrypt(new BigNumber$1(s)).result;return build.BufferSourceConverter.toArrayBuffer(f)}))}onExportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){return RsaCrypto.exportKey(e,t)}))}onImportKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){const s=yield RsaCrypto.importKey(e,t,Object.assign(Object.assign({},r),{name:this.name}),n,i);return s}))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);RsaCrypto.checkCryptoKey(e)}prepareSignData(e,t){return __awaiter$h(this,void 0,void 0,(function*(){const r=new Crypto;return r.subtle.digest(e.hash,t)}))}}const namedOIDs={"1.2.840.10045.3.1.7":"P-256","P-256":"1.2.840.10045.3.1.7","1.3.132.0.34":"P-384","P-384":"1.3.132.0.34","1.3.132.0.35":"P-521","P-521":"1.3.132.0.35","1.3.132.0.10":"K-256","K-256":"1.3.132.0.10","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1",brainpoolP256r1:"1.3.36.3.3.2.8.1.1.7","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1",brainpoolP384r1:"1.3.36.3.3.2.8.1.1.11","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1",brainpoolP512r1:"1.3.36.3.3.2.8.1.1.13"};function getOidByNamedCurve$1(e){const t=namedOIDs[e];if(!t){throw new OperationError(`Cannot convert WebCrypto named curve '${e}' to OID`)}return t}class EcCryptoKey extends CryptoKey{constructor(e,t,r,n,i){super(e,t,r,n);this.data=i}}class EcCrypto{static checkLib(){if(typeof elliptic==="undefined"){throw new OperationError("Cannot implement EC mechanism. Add 'https://peculiarventures.github.io/pv-webcrypto-tests/src/elliptic.js' script to your project")}}static generateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){this.checkLib();const n=this.initEcKey(e.namedCurve);const i=n.genKeyPair();i.getPublic();const s=new EcCryptoKey(Object.assign({},e),t,"private",r.filter((e=>~this.privateUsages.indexOf(e))),i);const f=new EcCryptoKey(Object.assign({},e),true,"public",r.filter((e=>~this.publicUsages.indexOf(e))),i);return{privateKey:s,publicKey:f}}))}static checkCryptoKey(e){if(!(e instanceof EcCryptoKey)){throw new TypeError("key: Is not EcCryptoKey")}}static concat(...e){const t=new Uint8Array(e.map((e=>e.length)).reduce(((e,t)=>e+t)));let r=0;e.forEach(((e,n)=>{for(let n=0;n<e.length;n++){t[r+n]=e[n]}r+=e.length}));return t}static exportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){this.checkLib();switch(e){case"pkcs8":return this.exportPkcs8Key(t);case"spki":return this.exportSpkiKey(t);case"jwk":return this.exportJwkKey(t);case"raw":return new Uint8Array(t.data.getPublic("der")).buffer;default:throw new OperationError("format: Must be 'jwk', 'raw, 'pkcs8' or 'spki'")}}))}static importKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){this.checkLib();let s;switch(e){case"pkcs8":s=this.importPkcs8Key(t,r.namedCurve);break;case"spki":s=this.importSpkiKey(t,r.namedCurve);break;case"raw":s=this.importEcKey(new index$1$1.EcPublicKey(t),r.namedCurve);break;case"jwk":s=this.importJwkKey(t);break;default:throw new OperationError("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}const f=new EcCryptoKey(Object.assign({},r),n,s.priv?"private":"public",i,s);return f}))}static getNamedCurve(e){const t=e.toUpperCase();let r="";if(["P-256","P-384","P-521"].indexOf(t)>-1){r=t.replace("-","").toLowerCase()}else if(t==="K-256"){r="secp256k1"}else if(["brainpoolP256r1","brainpoolP384r1","brainpoolP512r1"].includes(e)){r=e}else{throw new OperationError(`Unsupported named curve '${e}'`)}return r}static initEcKey(e){return elliptic_1$1.ec(this.getNamedCurve(e))}static exportPkcs8Key(e){const t=new index$1$1.PrivateKeyInfo;t.privateKeyAlgorithm.algorithm=this.ASN_ALGORITHM;t.privateKeyAlgorithm.parameters=AsnConvert.serialize(new index$1$1.ObjectIdentifier(getOidByNamedCurve$1(e.algorithm.namedCurve)));t.privateKey=AsnConvert.serialize(this.exportEcKey(e));return AsnConvert.serialize(t)}static importPkcs8Key(e,t){const r=AsnConvert.parse(e,index$1$1.PrivateKeyInfo);const n=AsnConvert.parse(r.privateKey,index$1$1.EcPrivateKey);return this.importEcKey(n,t)}static importSpkiKey(e,t){const r=AsnConvert.parse(e,index$1$1.PublicKeyInfo);const n=new index$1$1.EcPublicKey(r.publicKey);return this.importEcKey(n,t)}static exportSpkiKey(e){const t=new index$1$1.EcPublicKey(new Uint8Array(e.data.getPublic("der")).buffer);const r=new index$1$1.PublicKeyInfo;r.publicKeyAlgorithm.algorithm=this.ASN_ALGORITHM;r.publicKeyAlgorithm.parameters=AsnConvert.serialize(new index$1$1.ObjectIdentifier(getOidByNamedCurve$1(e.algorithm.namedCurve)));r.publicKey=t.value;return AsnConvert.serialize(r)}static importJwkKey(e){let t;if(e.d){t=JsonParser.fromJSON(e,{targetSchema:index$1$1.EcPrivateKey})}else{t=JsonParser.fromJSON(e,{targetSchema:index$1$1.EcPublicKey})}return this.importEcKey(t,e.crv)}static exportJwkKey(e){const t=this.exportEcKey(e);const r=JsonSerializer.toJSON(t);r.ext=true;r.key_ops=e.usages;r.crv=e.algorithm.namedCurve;r.kty="EC";return r}static exportEcKey(e){if(e.type==="private"){const t=new index$1$1.EcPrivateKey;const r=new Uint8Array(e.data.getPrivate("der").toArray());const n=new Uint8Array(this.getPointSize(e.algorithm.namedCurve)-r.length);t.privateKey=concat$3(n,r);t.publicKey=new Uint8Array(e.data.getPublic("der"));return t}else if(e.data.pub){return new index$1$1.EcPublicKey(new Uint8Array(e.data.getPublic("der")).buffer)}else{throw new Error("Cannot get private or public key")}}static importEcKey(e,t){const r=this.initEcKey(t);if(e instanceof index$1$1.EcPublicKey){return r.keyFromPublic(new Uint8Array(e.value))}return r.keyFromPrivate(new Uint8Array(e.privateKey))}static getPointSize(e){switch(e){case"P-256":case"K-256":return 32;case"P-384":return 48;case"P-521":return 66}throw new Error("namedCurve: Is not recognized")}}EcCrypto.privateUsages=["sign","deriveKey","deriveBits"];EcCrypto.publicUsages=["verify"];EcCrypto.ASN_ALGORITHM="1.2.840.10045.2.1";class EcdhProvider extends EcdhProvider$1{constructor(){super(...arguments);this.namedCurves=["P-256","P-384","P-521","K-256","brainpoolP256r1","brainpoolP384r1","brainpoolP512r1"]}onGenerateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return EcCrypto.generateKey(e,t,r)}))}onExportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){return EcCrypto.exportKey(e,t)}))}onImportKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){return EcCrypto.importKey(e,t,r,n,i)}))}onDeriveBits(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){EcCrypto.checkLib();const n=t.data.derive(e.public.data.getPublic());let i=new Uint8Array(n.toArray());let s=i.length;s=s>32?s>48?66:48:32;if(i.length<s){i=EcCrypto.concat(new Uint8Array(s-i.length),i)}const f=i.slice(0,r/8).buffer;return f}))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);EcCrypto.checkCryptoKey(e)}}function b2a(e){const t=new Uint8Array(e);const r=[];for(let e=0;e<t.length;e++){r.push(t[e])}return r}class EcdsaProvider extends EcdsaProvider$1{constructor(){super(...arguments);this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","SHA3-256","SHA3-384","SHA3-512"];this.namedCurves=["P-256","P-384","P-521","K-256","brainpoolP256r1","brainpoolP384r1","brainpoolP512r1"]}onGenerateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return EcCrypto.generateKey(e,t,r)}))}onExportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){return EcCrypto.exportKey(e,t)}))}onImportKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){return EcCrypto.importKey(e,t,r,n,i)}))}onSign(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){EcCrypto.checkLib();const n=new Crypto;let i;const s=yield n.subtle.digest(e.hash,r);i=b2a(s);const f=yield t.data.sign(i);const a=new index$1$1.EcDsaSignature;a.r=new Uint8Array(f.r.toArray()).buffer;a.s=new Uint8Array(f.s.toArray()).buffer;return a.toWebCryptoSignature()}))}onVerify(e,t,r,n){return __awaiter$h(this,void 0,void 0,(function*(){EcCrypto.checkLib();const i=new Crypto;const s={r:new Uint8Array(r.slice(0,r.byteLength/2)),s:new Uint8Array(r.slice(r.byteLength/2))};const f=yield i.subtle.digest(e.hash,n);const a=b2a(f);return t.data.verify(a,s)}))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);EcCrypto.checkCryptoKey(e)}}const edOIDs={[index$1$1.idEd448]:"Ed448",ed448:index$1$1.idEd448,[index$1$1.idX448]:"X448",x448:index$1$1.idX448,[index$1$1.idEd25519]:"Ed25519",ed25519:index$1$1.idEd25519,[index$1$1.idX25519]:"X25519",x25519:index$1$1.idX25519};function getOidByNamedCurve(e){const t=edOIDs[e.toLowerCase()];if(!t){throw new OperationError(`Cannot convert WebCrypto named curve '${e}' to OID`)}return t}class EdPrivateKey extends CryptoKey{constructor(e,t,r,n){super(e,t,"private",r);this.data=n}toJSON(){const e={kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable};return Object.assign(e,{d:build.Convert.ToBase64Url(build.Convert.FromHex(/^ed/i.test(e.crv)?this.data.getSecret("hex"):this.data.getPrivate("hex")))})}fromJSON(e){if(!e.d){throw new OperationError(`Cannot get private data from JWK. Property 'd' is required`)}if(!e.crv){throw new OperationError(`Cannot get named curve from JWK. Property 'crv' is required`)}const t=build.Convert.ToHex(build.Convert.FromBase64Url(e.d));{const e=new elliptic_1$1.eddsa("ed25519");this.data=e.keyFromSecret(t)}return this}}class EdPublicKey extends CryptoKey{constructor(e,t,r,n){super(e,t,"public",r);this.data=n}toJSON(){const e={kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable};return Object.assign(e,{x:build.Convert.ToBase64Url(build.Convert.FromHex(this.data.getPublic("hex")))})}fromJSON(e){if(!e.crv){throw new OperationError(`Cannot get named curve from JWK. Property 'crv' is required`)}if(!e.x){throw new OperationError(`Cannot get property from JWK. Property 'x' is required`)}const t=build.Convert.ToHex(build.Convert.FromBase64Url(e.x));if(/^ed/i.test(e.crv)){const r=new elliptic_1$1.eddsa(e.crv.toLowerCase());this.data=r.keyFromPublic(t,"hex")}else{const r=elliptic_1$1.ec(e.crv.replace(/^x/i,"curve"));this.data=r.keyFromPublic(t,"hex")}return this}}class EdCrypto{static checkLib(){if(typeof elliptic==="undefined"){throw new OperationError("Cannot implement EC mechanism. Add 'https://peculiarventures.github.io/pv-webcrypto-tests/src/elliptic.js' script to your project")}}static concat(...e){const t=new Uint8Array(e.map((e=>e.length)).reduce(((e,t)=>e+t)));let r=0;e.forEach(((e,n)=>{for(let n=0;n<e.length;n++){t[r+n]=e[n]}r+=e.length}));return t}static generateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){this.checkLib();const n="ed25519";let i;{const e=nativeCrypto.getRandomValues(new Uint8Array(32));const t=new elliptic_1$1.eddsa(n);i=t.keyFromSecret(e)}const s=new EdPrivateKey(e,t,r.filter((e=>this.privateKeyUsages.indexOf(e)!==-1)),i);const f=new EdPublicKey(e,true,r.filter((e=>this.publicKeyUsages.indexOf(e)!==-1)),i);return{privateKey:s,publicKey:f}}))}static sign(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){this.checkLib();const e=b2a(r);const n=t.data.sign(e).toHex();return build.Convert.FromHex(n)}))}static verify(e,t,r,n){return __awaiter$h(this,void 0,void 0,(function*(){this.checkLib();const e=b2a(n);const i=t.data.verify(e,build.Convert.ToHex(r));return i}))}static deriveBits(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){this.checkLib();const n=new Uint8Array(build.Convert.FromHex(t.data.getSecret("hex")));const i=new elliptic_1$1.ec("curve25519");const s=i.keyFromPrivate(build.Convert.ToHex(n),"hex");const f=e.public.data.getPublic("hex");new Uint8Array(build.Convert.FromHex(f));const a=e.public.data.getPublic();const o=s.derive(a);let c=new Uint8Array(o.toArray());let u=c.length;u=u>32?u>48?66:48:32;if(c.length<u){c=EdCrypto.concat(new Uint8Array(u-c.length),c)}const l=c.slice(0,r/8).buffer;return l}))}static exportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){this.checkLib();switch(e.toLowerCase()){case"jwk":return JsonSerializer.toJSON(t);case"pkcs8":{const e=build.Convert.FromHex(t.data.getSecret("hex"));const r=new index$1$1.PrivateKeyInfo;r.privateKeyAlgorithm.algorithm=getOidByNamedCurve(t.algorithm.namedCurve);r.privateKey=AsnConvert.serialize(new OctetString(e));return AsnConvert.serialize(r)}case"spki":{const e=build.Convert.FromHex(t.data.getPublic("hex"));const r=new index$1$1.PublicKeyInfo;r.publicKeyAlgorithm.algorithm=getOidByNamedCurve(t.algorithm.namedCurve);r.publicKey=e;return AsnConvert.serialize(r)}case"raw":{return build.Convert.FromHex(t.data.getPublic("hex"))}default:throw new OperationError("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}))}static importKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){this.checkLib();switch(e.toLowerCase()){case"jwk":{const e=t;if(e.d){const e=JsonParser.fromJSON(t,{targetSchema:index$1$1.CurvePrivateKey});return this.importPrivateKey(e,r,n,i)}else{if(!e.x){throw new TypeError("keyData: Cannot get required 'x' field")}return this.importPublicKey(build.Convert.FromBase64Url(e.x),r,n,i)}}case"raw":{return this.importPublicKey(t,r,n,i)}case"spki":{const e=AsnConvert.parse(new Uint8Array(t),index$1$1.PublicKeyInfo);return this.importPublicKey(e.publicKey,r,n,i)}case"pkcs8":{const e=AsnConvert.parse(new Uint8Array(t),index$1$1.PrivateKeyInfo);const s=AsnConvert.parse(e.privateKey,index$1$1.CurvePrivateKey);return this.importPrivateKey(s,r,n,i)}default:throw new OperationError("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}))}static importPrivateKey(e,t,r,n){const i=new EdPrivateKey(Object.assign({},t),r,n,null);i.fromJSON({crv:t.namedCurve,d:build.Convert.ToBase64Url(e.d)});return i}static importPublicKey(e,t,r,n){return __awaiter$h(this,void 0,void 0,(function*(){const i=new EdPublicKey(Object.assign({},t),r,n,null);i.fromJSON({crv:t.namedCurve,x:build.Convert.ToBase64Url(e)});return i}))}}EdCrypto.publicKeyUsages=["verify"];EdCrypto.privateKeyUsages=["sign","deriveKey","deriveBits"];class EdDsaProvider extends EdDsaProvider$1{constructor(){super(...arguments);this.namedCurves=["Ed25519"]}onGenerateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){const n=yield EdCrypto.generateKey({name:this.name,namedCurve:e.namedCurve.replace(/^ed/i,"Ed")},t,r);return n}))}onSign(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return EdCrypto.sign(e,t,new Uint8Array(r))}))}onVerify(e,t,r,n){return __awaiter$h(this,void 0,void 0,(function*(){return EdCrypto.verify(e,t,new Uint8Array(r),new Uint8Array(n))}))}onExportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){return EdCrypto.exportKey(e,t)}))}onImportKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){const s=yield EdCrypto.importKey(e,t,Object.assign(Object.assign({},r),{name:this.name}),n,i);return s}))}}class EcdhEsProvider extends EcdhEsProvider$1{constructor(){super(...arguments);this.namedCurves=["X25519"]}onGenerateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){const n=yield EdCrypto.generateKey({name:this.name,namedCurve:e.namedCurve.replace(/^x/i,"X")},t,r);return n}))}onDeriveBits(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){const n=yield EdCrypto.deriveBits(Object.assign(Object.assign({},e),{public:e.public}),t,r);return n}))}onExportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){return EdCrypto.exportKey(e,t)}))}onImportKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){const s=yield EdCrypto.importKey(e,t,Object.assign(Object.assign({},r),{name:this.name}),n,i);return s}))}}class Sha1Provider extends ProviderCrypto{constructor(){super(...arguments);this.name="SHA-1";this.usages=[]}onDigest(e,t){return __awaiter$h(this,void 0,void 0,(function*(){return ShaCrypto.digest(e,t)}))}}class Sha256Provider extends Sha1Provider{constructor(){super(...arguments);this.name="SHA-256"}}class Sha512Provider extends Sha1Provider{constructor(){super(...arguments);this.name="SHA-512"}}class Sha3256Provider extends ProviderCrypto{constructor(){super(...arguments);this.name="SHA3-256";this.usages=[]}onDigest(e,t){return __awaiter$h(this,void 0,void 0,(function*(){return sha3$1.hash256(new Uint8Array(t)).buffer}))}}class Sha3384Provider extends ProviderCrypto{constructor(){super(...arguments);this.name="SHA3-384";this.usages=[]}onDigest(e,t){return __awaiter$h(this,void 0,void 0,(function*(){return sha3$1.hash384(new Uint8Array(t)).buffer}))}}class Sha3512Provider extends ProviderCrypto{constructor(){super(...arguments);this.name="SHA3-512";this.usages=[]}onDigest(e,t){return __awaiter$h(this,void 0,void 0,(function*(){return sha3$1.hash512(new Uint8Array(t)).buffer}))}}class Shake128Provider extends Shake128Provider$1{onDigest(e,t){return __awaiter$h(this,void 0,void 0,(function*(){const r=new Uint8Array(e.length);(new sha3$1.SHAKE128).update(new Uint8Array(t)).stream(r);return r.buffer}))}}class Shake256Provider extends Shake256Provider$1{onDigest(e,t){return __awaiter$h(this,void 0,void 0,(function*(){const r=new Uint8Array(e.length);(new sha3$1.SHAKE256).update(new Uint8Array(t)).stream(r);return r.buffer}))}}class PbkdfCryptoKey extends CryptoKey{constructor(e,t,r,n){super(e,t,"secret",r);this.raw=n}}class Pbkdf2Provider extends Pbkdf2Provider$1{onImportKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){return new PbkdfCryptoKey(r,n,i,build.BufferSourceConverter.toUint8Array(t))}))}onDeriveBits(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){let n;const i=build.BufferSourceConverter.toUint8Array(e.salt);const s=t.raw;switch(e.hash.name.toUpperCase()){case"SHA-1":n=Pbkdf2HmacSha1(s,i,e.iterations,r>>3);break;case"SHA-256":n=Pbkdf2HmacSha256(s,i,e.iterations,r>>3);break;case"SHA-512":n=Pbkdf2HmacSha512(s,i,e.iterations,r>>3);break;default:throw new OperationError(`algorithm.hash: '${e.hash.name}' hash algorithm is not supported`)}return build.BufferSourceConverter.toArrayBuffer(n)}))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);if(!(e instanceof PbkdfCryptoKey)){throw new TypeError("key: Is not PbkdfCryptoKey")}}}class DesCryptoKey extends CryptoKey{constructor(e,t,r,n){super(e,t,"secret",r);this.raw=n}toJSON(){const e={kty:"oct",alg:this.getJwkAlgorithm(),k:build.Convert.ToBase64Url(this.raw),ext:this.extractable,key_ops:this.usages};return e}getJwkAlgorithm(){switch(this.algorithm.name.toUpperCase()){case"DES-CBC":return`DES-CBC`;case"DES-EDE3-CBC":return`3DES-CBC`;default:throw new AlgorithmError("Unsupported algorithm name")}}}class DesCrypto{static checkLib(){if(typeof des$1==="undefined"){throw new OperationError("Cannot implement DES mechanism. Add 'https://peculiarventures.github.io/pv-webcrypto-tests/src/des.js' script to your project")}}static checkCryptoKey(e){if(!(e instanceof DesCryptoKey)){throw new TypeError("key: Is not DesCryptoKey")}}static generateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){this.checkLib();const n=nativeCrypto.getRandomValues(new Uint8Array(e.length/8));return new DesCryptoKey(e,t,r,n)}))}static exportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){this.checkLib();switch(e){case"jwk":return t.toJSON();case"raw":return t.raw.buffer;default:throw new OperationError("format: Must be 'jwk' or 'raw'")}}))}static importKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){this.checkLib();let e;if(isJWK(t)){e=build.Convert.FromBase64Url(t.k)}else{e=build.BufferSourceConverter.toArrayBuffer(t)}if(r.name==="DES-CBC"&&e.byteLength!==8||r.name==="DES-EDE3-CBC"&&e.byteLength!==24){throw new OperationError("keyData: Is wrong key length")}const s=new DesCryptoKey({name:r.name,length:e.byteLength<<3},n,i,new Uint8Array(e));return s}))}static encrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return this.cipher(e,t,r,true)}))}static decrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return this.cipher(e,t,r,false)}))}static cipher(e,t,r,n){return __awaiter$h(this,void 0,void 0,(function*(){this.checkLib();const i=n?"encrypt":"decrypt";let s;const f=build.BufferSourceConverter.toUint8Array(e.iv);switch(e.name.toUpperCase()){case"DES-CBC":s=CBC.instantiate(DES).create({key:t.raw,type:i,iv:f});break;case"DES-EDE3-CBC":s=CBC.instantiate(EDE).create({key:t.raw,type:i,iv:f});break;default:throw new OperationError("algorithm: Is not recognized")}const a=s.update(new Uint8Array(r)).concat(s.final());return new Uint8Array(a).buffer}))}}class DesCbcProvider extends DesProvider{constructor(){super(...arguments);this.keySizeBits=64;this.ivSize=8;this.name="DES-CBC"}onGenerateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return DesCrypto.generateKey(e,t,r)}))}onExportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){return DesCrypto.exportKey(e,t)}))}onImportKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){return DesCrypto.importKey(e,t,r,n,i)}))}onEncrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return DesCrypto.encrypt(e,t,r)}))}onDecrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return DesCrypto.decrypt(e,t,r)}))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);DesCrypto.checkCryptoKey(e)}}class DesEde3CbcProvider extends DesProvider{constructor(){super(...arguments);this.keySizeBits=192;this.ivSize=8;this.name="DES-EDE3-CBC"}onGenerateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return DesCrypto.generateKey(e,t,r)}))}onExportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){return DesCrypto.exportKey(e,t)}))}onImportKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){return DesCrypto.importKey(e,t,r,n,i)}))}onEncrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return DesCrypto.encrypt(e,t,r)}))}onDecrypt(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){return DesCrypto.decrypt(e,t,r)}))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);DesCrypto.checkCryptoKey(e)}}const JsonBase64UrlConverter={fromJSON:e=>Buffer.from(build.Convert.FromBase64Url(e)),toJSON:e=>build.Convert.ToBase64Url(e)};class HmacCryptoKey extends CryptoKey{constructor(e={name:"HMAC"},t=false,r=[],n=new Uint8Array(0)){super(e,t,"secret",r);this.kty="oct";this.data=n}get alg(){const e=this.algorithm.hash.name.toUpperCase();return`HS${e.replace("SHA-","")}`}set alg(e){}}__decorate([JsonProp({name:"ext",type:JsonPropTypes.Boolean,optional:true})],HmacCryptoKey.prototype,"extractable",void 0);__decorate([JsonProp({name:"key_ops",type:JsonPropTypes.String,repeated:true,optional:true})],HmacCryptoKey.prototype,"usages",void 0);__decorate([JsonProp({name:"k",converter:JsonBase64UrlConverter})],HmacCryptoKey.prototype,"data",void 0);__decorate([JsonProp({type:JsonPropTypes.String})],HmacCryptoKey.prototype,"kty",void 0);__decorate([JsonProp({type:JsonPropTypes.String})],HmacCryptoKey.prototype,"alg",null);class HmacProvider extends HmacProvider$1{onGenerateKey(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){const n=e.length||this.getDefaultLength(e.hash.name);const i=nativeCrypto.getRandomValues(new Uint8Array(n>>3));const s=new HmacCryptoKey(e,t,r,i);return s}))}onSign(e,t,r){return __awaiter$h(this,void 0,void 0,(function*(){let e;switch(t.algorithm.hash.name.toUpperCase()){case"SHA-1":e=HmacSha1;break;case"SHA-256":e=HmacSha256;break;case"SHA-512":e=HmacSha512;break;default:throw new OperationError("key.algorithm.hash: Is not recognized")}const n=new e(t.data).process(build.BufferSourceConverter.toUint8Array(r)).finish().result;return build.BufferSourceConverter.toArrayBuffer(n)}))}onVerify(e,t,r,n){return __awaiter$h(this,void 0,void 0,(function*(){const i=yield this.onSign(e,t,n);return build.Convert.ToHex(i)===build.Convert.ToHex(r)}))}onImportKey(e,t,r,n,i){return __awaiter$h(this,void 0,void 0,(function*(){let s;switch(e.toLowerCase()){case"jwk":s=JsonParser.fromJSON(t,{targetSchema:HmacCryptoKey});break;case"raw":if(!build.BufferSourceConverter.isBufferSource(t)){throw new TypeError("keyData: Is not ArrayBuffer or ArrayBufferView")}s=new HmacCryptoKey(r,n,i,build.BufferSourceConverter.toUint8Array(t));break;default:throw new OperationError("format: Must be 'jwk' or 'raw'")}s.algorithm={hash:{name:r.hash.name},name:this.name,length:s.data.length<<3};s.extractable=n;s.usages=i;return s}))}onExportKey(e,t){return __awaiter$h(this,void 0,void 0,(function*(){switch(e.toLowerCase()){case"jwk":const e=JsonSerializer.toJSON(t);return e;case"raw":return new Uint8Array(t.data).buffer;default:throw new OperationError("format: Must be 'jwk' or 'raw'")}}))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);if(!(e instanceof HmacCryptoKey)){throw new TypeError("key: Is not HMAC CryptoKey")}}}var _WrappedNativeCryptoKey_nativeKey;class WrappedNativeCryptoKey extends CryptoKey{constructor(e,t,r,n,i){super(e,t,r,n);_WrappedNativeCryptoKey_nativeKey.set(this,void 0);__classPrivateFieldSet(this,_WrappedNativeCryptoKey_nativeKey,i,"f")}getNative(){return __classPrivateFieldGet(this,_WrappedNativeCryptoKey_nativeKey,"f")}}_WrappedNativeCryptoKey_nativeKey=new WeakMap;class SubtleCrypto extends SubtleCrypto$1{constructor(){super();this.browserInfo=BrowserInfo();this.providers.set(new AesCbcProvider);this.providers.set(new AesCtrProvider);this.providers.set(new AesEcbProvider);this.providers.set(new AesGcmProvider);this.providers.set(new AesKwProvider);this.providers.set(new DesCbcProvider);this.providers.set(new DesEde3CbcProvider);this.providers.set(new RsaSsaProvider);this.providers.set(new RsaPssProvider);this.providers.set(new RsaOaepProvider);this.providers.set(new RsaEsProvider);this.providers.set(new EcdsaProvider);this.providers.set(new EcdhProvider);this.providers.set(new Sha1Provider);this.providers.set(new Sha256Provider);this.providers.set(new Sha512Provider);this.providers.set(new Pbkdf2Provider);this.providers.set(new HmacProvider);this.providers.set(new EdDsaProvider);this.providers.set(new EcdhEsProvider);this.providers.set(new Sha3256Provider);this.providers.set(new Sha3384Provider);this.providers.set(new Sha3512Provider);this.providers.set(new Shake128Provider);this.providers.set(new Shake256Provider)}static isAnotherKey(e){if(typeof e==="object"&&typeof e.type==="string"&&typeof e.extractable==="boolean"&&typeof e.algorithm==="object"){return!(e instanceof CryptoKey)}return false}digest(...e){return __awaiter$h(this,void 0,void 0,(function*(){return this.wrapNative("digest",...e)}))}importKey(...e){return __awaiter$h(this,void 0,void 0,(function*(){this.fixFirefoxEcImportPkcs8(e);return this.wrapNative("importKey",...e)}))}exportKey(...e){return __awaiter$h(this,void 0,void 0,(function*(){return(yield this.fixFirefoxEcExportPkcs8(e))||(yield this.wrapNative("exportKey",...e))}))}generateKey(...e){return __awaiter$h(this,void 0,void 0,(function*(){return this.wrapNative("generateKey",...e)}))}sign(...e){return __awaiter$h(this,void 0,void 0,(function*(){return this.wrapNative("sign",...e)}))}verify(...e){return __awaiter$h(this,void 0,void 0,(function*(){return this.wrapNative("verify",...e)}))}encrypt(...e){return __awaiter$h(this,void 0,void 0,(function*(){return this.wrapNative("encrypt",...e)}))}decrypt(...e){return __awaiter$h(this,void 0,void 0,(function*(){return this.wrapNative("decrypt",...e)}))}wrapKey(...e){return __awaiter$h(this,void 0,void 0,(function*(){return this.wrapNative("wrapKey",...e)}))}unwrapKey(...e){return __awaiter$h(this,void 0,void 0,(function*(){return this.wrapNative("unwrapKey",...e)}))}deriveBits(...e){return __awaiter$h(this,void 0,void 0,(function*(){return this.wrapNative("deriveBits",...e)}))}deriveKey(...e){return __awaiter$h(this,void 0,void 0,(function*(){return this.wrapNative("deriveKey",...e)}))}wrapNative(e,...t){const r=e=>super[e];return __awaiter$h(this,void 0,void 0,(function*(){if(~["generateKey","unwrapKey","deriveKey","importKey"].indexOf(e)){this.fixAlgorithmName(t)}try{if(e!=="digest"||!t.some((e=>e instanceof CryptoKey))){const r=this.fixNativeArguments(e,t);Debug.info(`Call native '${e}' method`,r);const n=yield nativeSubtle[e].apply(nativeSubtle,r);return this.fixNativeResult(e,t,n)}}catch(t){Debug.warn(`Error on native '${e}' calling. ${t.message}`,t)}if(e==="wrapKey"){try{Debug.info(`Trying to wrap key by using native functions`,t);const e=yield this.exportKey(t[0],t[1]);const r=t[0]==="jwk"?build.Convert.FromUtf8String(JSON.stringify(e)):e;const n=yield this.encrypt(t[3],t[2],r);return n}catch(e){Debug.warn(`Cannot wrap key by native functions. ${e.message}`,e)}}if(e==="unwrapKey"){try{Debug.info(`Trying to unwrap key by using native functions`,t);const e=yield this.decrypt(t[3],t[2],t[1]);const r=t[0]==="jwk"?JSON.parse(build.Convert.ToUtf8String(e)):e;const n=yield this.importKey(t[0],r,t[4],t[5],t[6]);return n}catch(e){Debug.warn(`Cannot unwrap key by native functions. ${e.message}`,e)}}if(e==="deriveKey"){try{Debug.info(`Trying to derive key by using native functions`,t);const e=yield this.deriveBits(t[0],t[1],t[2].length);const r=yield this.importKey("raw",e,t[2],t[3],t[4]);return r}catch(e){Debug.warn(`Cannot derive key by native functions. ${e.message}`,e)}}if(e==="deriveBits"||e==="deriveKey"){for(const e of t){if(typeof e==="object"&&e.public&&SubtleCrypto.isAnotherKey(e.public)){e.public=yield this.castKey(e.public)}}}for(let e=0;e<t.length;e++){const r=t[e];if(SubtleCrypto.isAnotherKey(r)){t[e]=yield this.castKey(r)}}const n=r(e);if(typeof n==="function"){return n.apply(this,t)}throw new Error("Incorrect type of 'method'. Must be 'function'.")}))}fixNativeArguments(e,t){var r,n,i,s,f,a,o,c;const u=[...t];if(e==="importKey"){if(this.browserInfo.name===Browser.IE&&((n=(r=u[0])===null||r===void 0?void 0:r.toLowerCase)===null||n===void 0?void 0:n.call(r))==="jwk"&&!build.BufferSourceConverter.isBufferSource(u[1])){u[1]=build.Convert.FromUtf8String(JSON.stringify(u[1]))}}if(this.browserInfo.name===Browser.IE&&t[1]instanceof WrappedNativeCryptoKey){switch(e){case"sign":case"verify":case"encrypt":case"decrypt":u[0]=Object.assign(Object.assign({},this.prepareAlgorithm(u[0])),{hash:(f=(s=(i=u[1])===null||i===void 0?void 0:i.algorithm)===null||s===void 0?void 0:s.hash)===null||f===void 0?void 0:f.name});break;case"wrapKey":case"unwrapKey":u[4]=Object.assign(Object.assign({},this.prepareAlgorithm(u[4])),{hash:(c=(o=(a=u[3])===null||a===void 0?void 0:a.algorithm)===null||o===void 0?void 0:o.hash)===null||c===void 0?void 0:c.name});break}}for(let e=0;e<u.length;e++){const t=u[e];if(t instanceof WrappedNativeCryptoKey){u[e]=t.getNative()}}return u}fixNativeResult(e,t,r){var n,i;if(this.browserInfo.name===Browser.IE){if(e==="exportKey"){if(((i=(n=t[0])===null||n===void 0?void 0:n.toLowerCase)===null||i===void 0?void 0:i.call(n))==="jwk"&&r instanceof ArrayBuffer){return JSON.parse(build.Convert.ToUtf8String(r))}}if("privateKey"in r){const e=["sign","decrypt","unwrapKey","deriveKey","deriveBits"];const n=["verify","encrypt","wrapKey"];return{privateKey:this.wrapNativeKey(r.privateKey,t[0],t[1],t[2].filter((t=>e.includes(t)))),publicKey:this.wrapNativeKey(r.publicKey,t[0],t[1],t[2].filter((e=>n.includes(e))))}}else if("extractable"in r){let n;let i;switch(e){case"importKey":n=t[2];i=t[4];break;case"unwrapKey":n=t[4];i=t[6];break;case"generateKey":n=t[0];i=t[2];break;default:throw new OperationError("Cannot wrap native key. Unsupported method in use")}return this.wrapNativeKey(r,n,r.extractable,i)}}return r}wrapNativeKey(e,t,r,n){if(this.browserInfo.name===Browser.IE){const i=["RSASSA-PKCS1-v1_5","RSA-PSS","RSA-OAEP","AES-CBC","AES-CTR","AES-KW","HMAC"];const s=i.map((e=>e.toLowerCase())).indexOf(e.algorithm.name.toLowerCase());if(s!==-1){const f=this.prepareAlgorithm(t);const a=Object.assign(Object.assign({},e.algorithm),{name:i[s]});if(SubtleCrypto$1.isHashedAlgorithm(f)){a.hash={name:f.hash.name.toUpperCase()}}Debug.info(`Wrapping ${i[s]} crypto key to WrappedNativeCryptoKey`);return new WrappedNativeCryptoKey(a,r,e.type,n,e)}}return e}castKey(e){return __awaiter$h(this,void 0,void 0,(function*(){Debug.info("Cast native CryptoKey to linter key.",e);if(!e.extractable){throw new Error("Cannot cast unextractable crypto key")}const t=this.getProvider(e.algorithm.name);const r=yield this.exportKey("jwk",e);return t.importKey("jwk",r,e.algorithm,true,e.usages)}))}fixAlgorithmName(e){if(this.browserInfo.name===Browser.Edge){for(let t=0;t<e.length;t++){const r=e[0];if(typeof r==="string"){for(const n of this.providers.algorithms){if(n.toLowerCase()===r.toLowerCase()){e[t]=n;break}}}else if(typeof r==="object"&&typeof r.name==="string"){for(const e of this.providers.algorithms){if(e.toLowerCase()===r.name.toLowerCase()){r.name=e}if(typeof r.hash==="string"&&e.toLowerCase()===r.hash.toLowerCase()||typeof r.hash==="object"&&typeof r.hash.name==="string"&&e.toLowerCase()===r.hash.name.toLowerCase()){r.hash={name:e}}}}}}}fixFirefoxEcImportPkcs8(e){const t=this.prepareAlgorithm(e[2]);const r=t.name.toUpperCase();if(this.browserInfo.name===Browser.Firefox&&e[0]==="pkcs8"&&~["ECDSA","ECDH"].indexOf(r)&&~["P-256","P-384","P-521"].indexOf(t.namedCurve)){if(!build.BufferSourceConverter.isBufferSource(e[1])){throw new TypeError("data: Is not ArrayBuffer or ArrayBufferView")}const r=build.BufferSourceConverter.toArrayBuffer(e[1]);const n=AsnConvert.parse(r,index$1$1.PrivateKeyInfo);const i=AsnConvert.parse(n.privateKey,index$1$1.EcPrivateKey);const s=JsonSerializer.toJSON(i);s.ext=true;s.key_ops=e[4];s.crv=t.namedCurve;s.kty="EC";e[0]="jwk";e[1]=s}}fixFirefoxEcExportPkcs8(e){return __awaiter$h(this,void 0,void 0,(function*(){try{if(this.browserInfo.name===Browser.Firefox&&e[0]==="pkcs8"&&~["ECDSA","ECDH"].indexOf(e[1].algorithm.name)&&~["P-256","P-384","P-521"].indexOf(e[1].algorithm.namedCurve)){const t=yield this.exportKey("jwk",e[1]);const r=JsonParser.fromJSON(t,{targetSchema:index$1$1.EcPrivateKey});const n=new index$1$1.PrivateKeyInfo;n.privateKeyAlgorithm.algorithm=EcCrypto.ASN_ALGORITHM;n.privateKeyAlgorithm.parameters=AsnConvert.serialize(new index$1$1.ObjectIdentifier(getOidByNamedCurve$1(e[1].algorithm.namedCurve)));n.privateKey=AsnConvert.serialize(r);return AsnConvert.serialize(n)}}catch(e){Debug.error(e);return null}}))}}SubtleCrypto.methods=["digest","importKey","exportKey","sign","verify","generateKey","encrypt","decrypt","deriveBits","deriveKey","wrapKey","unwrapKey"];class Crypto extends Crypto$1{constructor(){super(...arguments);this.subtle=new SubtleCrypto}get nativeCrypto(){return nativeCrypto}getRandomValues(e){return nativeCrypto.getRandomValues(e)}}function WrapFunction(e,t){const r=e[t];e[t]=function(){const n=arguments;return new Promise(((i,s)=>{const f=r.apply(e,n);f.oncomplete=e=>{i(e.target.result)};f.onerror=e=>{s(`Error on running '${t}' function`)}}))}}if(typeof self!=="undefined"&&self["msCrypto"]){WrapFunction(nativeSubtle,"generateKey");WrapFunction(nativeSubtle,"digest");WrapFunction(nativeSubtle,"sign");WrapFunction(nativeSubtle,"verify");WrapFunction(nativeSubtle,"encrypt");WrapFunction(nativeSubtle,"decrypt");WrapFunction(nativeSubtle,"importKey");WrapFunction(nativeSubtle,"exportKey");WrapFunction(nativeSubtle,"wrapKey");WrapFunction(nativeSubtle,"unwrapKey");WrapFunction(nativeSubtle,"deriveKey");WrapFunction(nativeSubtle,"deriveBits")}if(!Math.imul){Math.imul=function e(t,r){const n=t>>>16&65535;const i=t&65535;const s=r>>>16&65535;const f=r&65535;return i*f+(n*f+i*s<<16>>>0)|0}}if(nativeCrypto){Object.freeze(nativeCrypto.getRandomValues)}new Crypto;const crypto$4=new Crypto;Application.setEngine("WebCryptoLiner",crypto$4);cryptoProvider.set(crypto$4);class DSigValidator{constructor(){this.validationResult={auth:AuthenticationType.XML_DSIG,integrity:IntegrityType.XML_DSIG,status:SecurityStatus$1.INVALID}}async validate(e,t,r){let n=Parse(r);let i=n.getElementsByTagNameNS("http://www.w3.org/2000/09/xmldsig#","Signature");console.log(i);if(!i.length){console.log("No DSIG detected, skipping signature validation");return false}try{await this.validateXmlSignature(n,i[0])}catch(e){console.error(e);this.validationResult.integrityText=e.message;this.validationResult.statusText="TokenScript authenticity and integrity cannot be established";return this.validationResult}this.validationResult.integrityText="XML DSIG successfully validated";try{await this.validateAuthorityPublicKey(e)}catch(e){console.error(e);this.validationResult.authText=e.message;this.validationResult.statusText="TokenScript authenticity for the smart contract cannot be established";return this.validationResult}this.validationResult.status=SecurityStatus$1.VALID;this.validationResult.authText="Authenticity verified via contract owner key";return this.validationResult}async validateXmlSignature(e,t){const r=new SignedXml(e);r.LoadXml(t);let n=await r.Verify();if(n){console.log("TSML signature successfully verified!");const e=await r.XmlSignature.KeyInfo.GetIterator().find((e=>e instanceof KeyValue)).exportKey();const t=r.XmlSignature.KeyInfo.GetIterator().find((e=>e instanceof KeyInfoX509Data));if(t&&t.Certificates.length>0){const r=await this.keyToHex(e);if(t.Certificates.length>1){this.dsigMasterPubKey=await this.verifyCertificateChain(t.Certificates,r)}else{const e=new X509Certificate(t.Certificates[0].GetRaw());const n=await this.getSignerPublicKeyFromCertificate(e);if(!await e.verify({publicKey:n}))throw new Error("x509 certificate verification failed!");const i=await this.keyToHex(await e.publicKey.export());if(i!=r)throw new Error("Certificate subject public key does not match XML signing key");this.dsigMasterPubKey=n}}else{this.dsigMasterPubKey=e}return true}else{throw new Error("DSIG verification failed!")}}async validateAuthorityPublicKey(e){const t=await this.dsigMasterPubKey;const r=new Uint8Array(await crypto$4.subtle.exportKey(t.algorithm.name==="ECDSA"?"raw":"spki",t));console.log("Raw public key: ",uint8tohex(r));const n=new PubkeyResolver(e);const i=await n.resolvePublicKey();console.log("contract owner or key: ",i.valueType+":"+i.value);const s=i.valueType==="ethAddress"?computeAddress$1(r):uint8tohex(r);console.log("Transformed master pubKey: ",s);if(s.toLowerCase()!==i.value.toLowerCase())throw new Error("Authoritive DSIG public key ("+s+") does not match resolved public key: "+i.value)}async keyToHex(e){return uint8tohex(new Uint8Array(await crypto$4.subtle.exportKey(e.algorithm.name==="ECDSA"?"raw":"spki",e)))}async verifyCertificateChain(e,t){for(let[r,n]of e.entries()){if(t===await this.keyToHex(await n.exportKey())){e=e.splice(r);const t=new X509ChainBuilder({certificates:e.map((e=>new X509Certificate(e.GetRaw())))});const i=await t.build(new X509Certificate(n.GetRaw()));return this.getSignerPublicKeyFromCertificate(i[i.length-1])}}throw new Error("The x509 certificate corresponding to the public key was not found")}async getSignerPublicKeyFromCertificate(e){const t=e.getExtension("2.5.29.18");if(!t)throw new Error("Root certificate does not contain issuerAltName extension");return await crypto$4.subtle.importKey("raw",new Uint8Array(t.value),{name:"ECDSA",namedCurve:"K-256"},true,["verify"])}}function uint8tohex(e){if(!e||!e.length)return"";return Array.from(e).map((e=>("0"+e.toString(16)).slice(-2))).join("")}async function*batch(e,t=1){let r=[];if(t<1){t=1}for await(const n of e){r.push(n);while(r.length>=t){yield r.slice(0,t);r=r.slice(t)}}while(r.length){yield r.slice(0,t);r=r.slice(t)}}var itBatch=batch;async function*parallelBatch(e,t=1){for await(const r of itBatch(e,t)){const e=r.map((e=>e().then((e=>({ok:true,value:e})),(e=>({ok:false,err:e})))));for(let t=0;t<e.length;t++){const r=await e[t];if(r.ok){yield r.value}else{throw r.err}}}}var itParallelBatch=parallelBatch;var isPlainObj=e=>{if(Object.prototype.toString.call(e)!=="[object Object]"){return false}const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype};const{hasOwnProperty}=Object.prototype;const{propertyIsEnumerable}=Object;const defineProperty$1=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:true,enumerable:true,configurable:true});const globalThis$1=commonjsGlobal;const defaultMergeOptions={concatArrays:false,ignoreUndefined:false};const getEnumerableOwnPropertyKeys=e=>{const t=[];for(const r in e){if(hasOwnProperty.call(e,r)){t.push(r)}}if(Object.getOwnPropertySymbols){const r=Object.getOwnPropertySymbols(e);for(const n of r){if(propertyIsEnumerable.call(e,n)){t.push(n)}}}return t};function clone(e){if(Array.isArray(e)){return cloneArray(e)}if(isPlainObj(e)){return cloneOptionObject(e)}return e}function cloneArray(e){const t=e.slice(0,0);getEnumerableOwnPropertyKeys(e).forEach((r=>{defineProperty$1(t,r,clone(e[r]))}));return t}function cloneOptionObject(e){const t=Object.getPrototypeOf(e)===null?Object.create(null):{};getEnumerableOwnPropertyKeys(e).forEach((r=>{defineProperty$1(t,r,clone(e[r]))}));return t}const mergeKeys=(e,t,r,n)=>{r.forEach((r=>{if(typeof t[r]==="undefined"&&n.ignoreUndefined){return}if(r in e&&e[r]!==Object.getPrototypeOf(e)){defineProperty$1(e,r,merge(e[r],t[r],n))}else{defineProperty$1(e,r,clone(t[r]))}}));return e};const concatArrays=(e,t,r)=>{let n=e.slice(0,0);let i=0;[e,t].forEach((t=>{const s=[];for(let r=0;r<t.length;r++){if(!hasOwnProperty.call(t,r)){continue}s.push(String(r));if(t===e){defineProperty$1(n,i++,t[r])}else{defineProperty$1(n,i++,clone(t[r]))}}n=mergeKeys(n,t,getEnumerableOwnPropertyKeys(t).filter((e=>!s.includes(e))),r)}));return n};function merge(e,t,r){if(r.concatArrays&&Array.isArray(e)&&Array.isArray(t)){return concatArrays(e,t,r)}if(!isPlainObj(t)||!isPlainObj(e)){return clone(t)}return mergeKeys(e,t,getEnumerableOwnPropertyKeys(t),r)}var mergeOptions$1=function(...e){const t=merge(clone(defaultMergeOptions),this!==globalThis$1&&this||{},defaultMergeOptions);let r={_:{}};for(const n of e){if(n===undefined){continue}if(!isPlainObj(n)){throw new TypeError("`"+n+"` is not an Option Object")}r=merge(r,{_:n},t)}return r._};function assign$1(e,t){for(const r in t){Object.defineProperty(e,r,{value:t[r],enumerable:true,configurable:true})}return e}function createError(e,t,r){if(!e||typeof e==="string"){throw new TypeError("Please pass an Error to err-code")}if(!r){r={}}if(typeof t==="object"){r=t;t=""}if(t){r.code=t}try{return assign$1(e,r)}catch(t){r.message=e.message;r.stack=e.stack;const n=function(){};n.prototype=Object.create(Object.getPrototypeOf(e));const i=assign$1(new n,r);return i}}var errCode=createError;function base$4(e){if(e.length>=255){throw new TypeError("Alphabet too long")}var t=new Uint8Array(256);for(var r=0;r<t.length;r++){t[r]=255}for(var n=0;n<e.length;n++){var i=e.charAt(n);var s=i.charCodeAt(0);if(t[s]!==255){throw new TypeError(i+" is ambiguous")}t[s]=n}var f=e.length;var a=e.charAt(0);var o=Math.log(f)/Math.log(256);var c=Math.log(256)/Math.log(f);function u(t){if(t instanceof Uint8Array);else if(ArrayBuffer.isView(t)){t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}else if(Array.isArray(t)){t=Uint8Array.from(t)}if(!(t instanceof Uint8Array)){throw new TypeError("Expected Uint8Array")}if(t.length===0){return""}var r=0;var n=0;var i=0;var s=t.length;while(i!==s&&t[i]===0){i++;r++}var o=(s-i)*c+1>>>0;var u=new Uint8Array(o);while(i!==s){var l=t[i];var h=0;for(var d=o-1;(l!==0||h<n)&&d!==-1;d--,h++){l+=256*u[d]>>>0;u[d]=l%f>>>0;l=l/f>>>0}if(l!==0){throw new Error("Non-zero carry")}n=h;i++}var p=o-n;while(p!==o&&u[p]===0){p++}var y=a.repeat(r);for(;p<o;++p){y+=e.charAt(u[p])}return y}function l(e){if(typeof e!=="string"){throw new TypeError("Expected String")}if(e.length===0){return new Uint8Array}var r=0;if(e[r]===" "){return}var n=0;var i=0;while(e[r]===a){n++;r++}var s=(e.length-r)*o+1>>>0;var c=new Uint8Array(s);while(e[r]){var u=t[e.charCodeAt(r)];if(u===255){return}var l=0;for(var h=s-1;(u!==0||l<i)&&h!==-1;h--,l++){u+=f*c[h]>>>0;c[h]=u%256>>>0;u=u/256>>>0}if(u!==0){throw new Error("Non-zero carry")}i=l;r++}if(e[r]===" "){return}var d=s-i;while(d!==s&&c[d]===0){d++}var p=new Uint8Array(n+(s-d));var y=n;while(d!==s){p[y++]=c[d++]}return p}function h(e){var t=l(e);if(t){return t}throw new Error("Non-base"+f+" character")}return{encode:u,decodeUnsafe:l,decode:h}}var src$c=base$4;const textDecoder=new TextDecoder;const decodeText$1=e=>textDecoder.decode(e);const textEncoder=new TextEncoder;const encodeText$2=e=>textEncoder.encode(e);function concat$2(e,t){const r=new Uint8Array(t);let n=0;for(const t of e){r.set(t,n);n+=t.length}return r}var util$4={decodeText:decodeText$1,encodeText:encodeText$2,concat:concat$2};const{encodeText:encodeText$1}=util$4;class Base{constructor(e,t,r,n){this.name=e;this.code=t;this.codeBuf=encodeText$1(this.code);this.alphabet=n;this.codec=r(n)}encode(e){return this.codec.encode(e)}decode(e){for(const t of e){if(this.alphabet&&this.alphabet.indexOf(t)<0){throw new Error(`invalid character '${t}' in '${e}'`)}}return this.codec.decode(e)}}var base$3=Base;const decode$7=(e,t,r)=>{const n={};for(let e=0;e<t.length;++e){n[t[e]]=e}let i=e.length;while(e[i-1]==="="){--i}const s=new Uint8Array(i*r/8|0);let f=0;let a=0;let o=0;for(let t=0;t<i;++t){const i=n[e[t]];if(i===undefined){throw new SyntaxError("Invalid character "+e[t])}a=a<<r|i;f+=r;if(f>=8){f-=8;s[o++]=255&a>>f}}if(f>=r||255&a<<8-f){throw new SyntaxError("Unexpected end of data")}return s};const encode$8=(e,t,r)=>{const n=t[t.length-1]==="=";const i=(1<<r)-1;let s="";let f=0;let a=0;for(let n=0;n<e.length;++n){a=a<<8|e[n];f+=8;while(f>r){f-=r;s+=t[i&a>>f]}}if(f){s+=t[i&a<<r-f]}if(n){while(s.length*r&7){s+="="}}return s};const rfc4648$1=e=>t=>({encode(r){return encode$8(r,t,e)},decode(r){return decode$7(r,t,e)}});var rfc4648_1={rfc4648:rfc4648$1};const{rfc4648}=rfc4648_1;const{decodeText,encodeText}=util$4;const identity$1=()=>({encode:decodeText,decode:encodeText});const constants$3=[["identity","\0",identity$1,""],["base2","0",rfc4648(1),"01"],["base8","7",rfc4648(3),"01234567"],["base10","9",src$c,"0123456789"],["base16","f",rfc4648(4),"0123456789abcdef"],["base16upper","F",rfc4648(4),"0123456789ABCDEF"],["base32hex","v",rfc4648(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",rfc4648(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",rfc4648(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",rfc4648(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",rfc4648(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",rfc4648(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",rfc4648(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",rfc4648(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",rfc4648(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",src$c,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",src$c,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",src$c,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",src$c,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",rfc4648(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",rfc4648(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",rfc4648(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",rfc4648(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]];const names$3=constants$3.reduce(((e,t)=>{e[t[0]]=new base$3(t[0],t[1],t[2],t[3]);return e}),{});const codes$1=constants$3.reduce(((e,t)=>{e[t[1]]=names$3[t[0]];return e}),{});var constants_1={names:names$3,codes:codes$1};var src$b=createCommonjsModule$2((function(e,t){const{encodeText:r,decodeText:n,concat:i}=util$4;function s(e,t){if(!t){throw new Error("requires an encoded Uint8Array")}const{name:r,codeBuf:n}=u(e);c(r,t);return i([n,t],n.length+t.length)}function f(e,t){const n=u(e);const s=r(n.encode(t));return i([n.codeBuf,s],n.codeBuf.length+s.length)}function a(e){if(e instanceof Uint8Array){e=n(e)}const t=e[0];if(["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(t)){e=e.toLowerCase()}const r=u(e[0]);return r.decode(e.substring(1))}function o(e){if(e instanceof Uint8Array){e=n(e)}if(Object.prototype.toString.call(e)!=="[object String]"){return false}try{const t=u(e[0]);return t.name}catch(e){return false}}function c(e,t){const r=u(e);r.decode(n(t))}function u(e){if(Object.prototype.hasOwnProperty.call(constants_1.names,e)){return constants_1.names[e]}else if(Object.prototype.hasOwnProperty.call(constants_1.codes,e)){return constants_1.codes[e]}else{throw new Error(`Unsupported encoding: ${e}`)}}function l(e){if(e instanceof Uint8Array){e=n(e)}return u(e[0])}t=e.exports=s;t.encode=f;t.decode=a;t.isEncoded=o;t.encoding=u;t.encodingFromData=l;const h=Object.freeze(constants_1.names);const d=Object.freeze(constants_1.codes);t.names=h;t.codes=d}));var encode_1$2=encode$7;var MSB$4=128,REST$4=127,MSBALL$2=~REST$4,INT$2=Math.pow(2,31);function encode$7(e,t,r){t=t||[];r=r||0;var n=r;while(e>=INT$2){t[r++]=e&255|MSB$4;e/=128}while(e&MSBALL$2){t[r++]=e&255|MSB$4;e>>>=7}t[r]=e|0;encode$7.bytes=r-n+1;return t}var decode$6=read$3;var MSB$3=128,REST$3=127;function read$3(e,t){var r=0,t=t||0,n=0,i=t,s,f=e.length;do{if(i>=f){read$3.bytes=0;throw new RangeError("Could not decode varint")}s=e[i++];r+=n<28?(s&REST$3)<<n:(s&REST$3)*Math.pow(2,n);n+=7}while(s>=MSB$3);read$3.bytes=i-t;return r}var N1$2=Math.pow(2,7);var N2$2=Math.pow(2,14);var N3$2=Math.pow(2,21);var N4$2=Math.pow(2,28);var N5$2=Math.pow(2,35);var N6$2=Math.pow(2,42);var N7$2=Math.pow(2,49);var N8$2=Math.pow(2,56);var N9$2=Math.pow(2,63);var length$2=function(e){return e<N1$2?1:e<N2$2?2:e<N3$2?3:e<N4$2?4:e<N5$2?5:e<N6$2?6:e<N7$2?7:e<N8$2?8:e<N9$2?9:10};var varint$3={encode:encode_1$2,decode:decode$6,encodingLength:length$2};const names$2=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});var constants$1={names:names$2};function base$2(e,t){if(e.length>=255){throw new TypeError("Alphabet too long")}var r=new Uint8Array(256);for(var n=0;n<r.length;n++){r[n]=255}for(var i=0;i<e.length;i++){var s=e.charAt(i);var f=s.charCodeAt(0);if(r[f]!==255){throw new TypeError(s+" is ambiguous")}r[f]=i}var a=e.length;var o=e.charAt(0);var c=Math.log(a)/Math.log(256);var u=Math.log(256)/Math.log(a);function l(t){if(t instanceof Uint8Array);else if(ArrayBuffer.isView(t)){t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}else if(Array.isArray(t)){t=Uint8Array.from(t)}if(!(t instanceof Uint8Array)){throw new TypeError("Expected Uint8Array")}if(t.length===0){return""}var r=0;var n=0;var i=0;var s=t.length;while(i!==s&&t[i]===0){i++;r++}var f=(s-i)*u+1>>>0;var c=new Uint8Array(f);while(i!==s){var l=t[i];var h=0;for(var d=f-1;(l!==0||h<n)&&d!==-1;d--,h++){l+=256*c[d]>>>0;c[d]=l%a>>>0;l=l/a>>>0}if(l!==0){throw new Error("Non-zero carry")}n=h;i++}var p=f-n;while(p!==f&&c[p]===0){p++}var y=o.repeat(r);for(;p<f;++p){y+=e.charAt(c[p])}return y}function h(e){if(typeof e!=="string"){throw new TypeError("Expected String")}if(e.length===0){return new Uint8Array}var t=0;if(e[t]===" "){return}var n=0;var i=0;while(e[t]===o){n++;t++}var s=(e.length-t)*c+1>>>0;var f=new Uint8Array(s);while(e[t]){var u=r[e.charCodeAt(t)];if(u===255){return}var l=0;for(var h=s-1;(u!==0||l<i)&&h!==-1;h--,l++){u+=a*f[h]>>>0;f[h]=u%256>>>0;u=u/256>>>0}if(u!==0){throw new Error("Non-zero carry")}i=l;t++}if(e[t]===" "){return}var d=s-i;while(d!==s&&f[d]===0){d++}var p=new Uint8Array(n+(s-d));var y=n;while(d!==s){p[y++]=f[d++]}return p}function d(e){var r=h(e);if(r){return r}throw new Error(`Non-${t} character`)}return{encode:l,decodeUnsafe:h,decode:d}}var src$a=base$2;var _brrp__multiformats_scope_baseX=src$a;var baseX=_brrp__multiformats_scope_baseX;var bytes=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r=new Uint8Array(0);const n=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"");const i=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map((e=>parseInt(e,16)))):r};const s=(e,t)=>{if(e===t)return true;if(e.byteLength!==t.byteLength){return false}for(let r=0;r<e.byteLength;r++){if(e[r]!==t[r]){return false}}return true};const f=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e)){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}throw new Error("Unknown type, must be binary type")};const a=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e);const o=e=>(new TextEncoder).encode(e);const c=e=>(new TextDecoder).decode(e);t.coerce=f;t.empty=r;t.equals=s;t.fromHex=i;t.fromString=o;t.isBinary=a;t.toHex=n;t.toString=c}));var base$1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});class r{constructor(e,t,r){this.name=e;this.prefix=t;this.baseEncode=r}encode(e){if(e instanceof Uint8Array){return`${this.prefix}${this.baseEncode(e)}`}else{throw Error("Unknown type, must be binary type")}}}class n{constructor(e,t,r){this.name=e;this.prefix=t;if(t.codePointAt(0)===undefined){throw new Error("Invalid prefix character")}this.prefixCodePoint=t.codePointAt(0);this.baseDecode=r}decode(e){if(typeof e==="string"){if(e.codePointAt(0)!==this.prefixCodePoint){throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}return this.baseDecode(e.slice(this.prefix.length))}else{throw Error("Can only multibase decode strings")}}or(e){return s(this,e)}}class i{constructor(e){this.decoders=e}or(e){return s(this,e)}decode(e){const t=e[0];const r=this.decoders[t];if(r){return r.decode(e)}else{throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}}const s=(e,t)=>new i({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class f{constructor(e,t,i,s){this.name=e;this.prefix=t;this.baseEncode=i;this.baseDecode=s;this.encoder=new r(e,t,i);this.decoder=new n(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const a=({name:e,prefix:t,encode:r,decode:n})=>new f(e,t,r,n);const o=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=baseX(r,t);return a({prefix:e,name:t,encode:n,decode:e=>bytes.coerce(i(e))})};const c=(e,t,r,n)=>{const i={};for(let e=0;e<t.length;++e){i[t[e]]=e}let s=e.length;while(e[s-1]==="="){--s}const f=new Uint8Array(s*r/8|0);let a=0;let o=0;let c=0;for(let t=0;t<s;++t){const s=i[e[t]];if(s===undefined){throw new SyntaxError(`Non-${n} character`)}o=o<<r|s;a+=r;if(a>=8){a-=8;f[c++]=255&o>>a}}if(a>=r||255&o<<8-a){throw new SyntaxError("Unexpected end of data")}return f};const u=(e,t,r)=>{const n=t[t.length-1]==="=";const i=(1<<r)-1;let s="";let f=0;let a=0;for(let n=0;n<e.length;++n){a=a<<8|e[n];f+=8;while(f>r){f-=r;s+=t[i&a>>f]}}if(f){s+=t[i&a<<r-f]}if(n){while(s.length*r&7){s+="="}}return s};const l=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>a({prefix:t,name:e,encode(e){return u(e,n,r)},decode(t){return c(t,n,r,e)}});t.Codec=f;t.baseX=o;t.from=a;t.or=s;t.rfc4648=l}));var identity_1$1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r=base$1.from({prefix:"\0",name:"identity",encode:e=>bytes.toString(e),decode:e=>bytes.fromString(e)});t.identity=r}));var base2_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r=base$1.rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});t.base2=r}));var base8_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r=base$1.rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});t.base8=r}));var base10_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r=base$1.baseX({prefix:"9",name:"base10",alphabet:"0123456789"});t.base10=r}));var base16_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r=base$1.rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4});const n=base$1.rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});t.base16=r;t.base16upper=n}));var base32_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r=base$1.rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});const n=base$1.rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});const i=base$1.rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});const s=base$1.rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});const f=base$1.rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});const a=base$1.rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});const o=base$1.rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});const c=base$1.rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});const u=base$1.rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});t.base32=r;t.base32hex=f;t.base32hexpad=o;t.base32hexpadupper=c;t.base32hexupper=a;t.base32pad=i;t.base32padupper=s;t.base32upper=n;t.base32z=u}));var base36_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r=base$1.baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});const n=base$1.baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});t.base36=r;t.base36upper=n}));var base58=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r=base$1.baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});const n=base$1.baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});t.base58btc=r;t.base58flickr=n}));var base64_1$1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r=base$1.rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});const n=base$1.rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const i=base$1.rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});const s=base$1.rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});t.base64=r;t.base64pad=n;t.base64url=i;t.base64urlpad=s}));var base256emoji_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂");const n=r.reduce(((e,t,r)=>{e[r]=t;return e}),[]);const i=r.reduce(((e,t,r)=>{e[t.codePointAt(0)]=r;return e}),[]);function s(e){return e.reduce(((e,t)=>{e+=n[t];return e}),"")}function f(e){const t=[];for(const r of e){const e=i[r.codePointAt(0)];if(e===undefined){throw new Error(`Non-base256emoji character: ${r}`)}t.push(e)}return new Uint8Array(t)}const a=base$1.from({prefix:"🚀",name:"base256emoji",encode:s,decode:f});t.base256emoji=a}));var encode_1$1=encode$6;var MSB$2=128,REST$2=127,MSBALL$1=~REST$2,INT$1=Math.pow(2,31);function encode$6(e,t,r){t=t||[];r=r||0;var n=r;while(e>=INT$1){t[r++]=e&255|MSB$2;e/=128}while(e&MSBALL$1){t[r++]=e&255|MSB$2;e>>>=7}t[r]=e|0;encode$6.bytes=r-n+1;return t}var decode$5=read$2;var MSB$1$1=128,REST$1$1=127;function read$2(e,t){var r=0,t=t||0,n=0,i=t,s,f=e.length;do{if(i>=f){read$2.bytes=0;throw new RangeError("Could not decode varint")}s=e[i++];r+=n<28?(s&REST$1$1)<<n:(s&REST$1$1)*Math.pow(2,n);n+=7}while(s>=MSB$1$1);read$2.bytes=i-t;return r}var N1$1=Math.pow(2,7);var N2$1=Math.pow(2,14);var N3$1=Math.pow(2,21);var N4$1=Math.pow(2,28);var N5$1=Math.pow(2,35);var N6$1=Math.pow(2,42);var N7$1=Math.pow(2,49);var N8$1=Math.pow(2,56);var N9$1=Math.pow(2,63);var length$1=function(e){return e<N1$1?1:e<N2$1?2:e<N3$1?3:e<N4$1?4:e<N5$1?5:e<N6$1?6:e<N7$1?7:e<N8$1?8:e<N9$1?9:10};var varint$2={encode:encode_1$1,decode:decode$5,encodingLength:length$1};var _brrp_varint=varint$2;var varint$1$1=_brrp_varint;var varint_1=varint$1$1;var varint$1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r=(e,t=0)=>{const r=varint_1.decode(e,t);return[r,varint_1.decode.bytes]};const n=(e,t,r=0)=>{varint_1.encode(e,t,r);return t};const i=e=>varint_1.encodingLength(e);t.decode=r;t.encodeTo=n;t.encodingLength=i}));var digest$1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r=(e,t)=>{const r=t.byteLength;const n=varint$1.encodingLength(e);const i=n+varint$1.encodingLength(r);const f=new Uint8Array(i+r);varint$1.encodeTo(e,f,0);varint$1.encodeTo(r,f,n);f.set(t,i);return new s(e,r,t,f)};const n=e=>{const t=bytes.coerce(e);const[r,n]=varint$1.decode(t);const[i,f]=varint$1.decode(t.subarray(n));const a=t.subarray(n+f);if(a.byteLength!==i){throw new Error("Incorrect length")}return new s(r,i,a,t)};const i=(e,t)=>{if(e===t){return true}else{return e.code===t.code&&e.size===t.size&&bytes.equals(e.bytes,t.bytes)}};class s{constructor(e,t,r,n){this.code=e;this.size=t;this.digest=r;this.bytes=n}}t.Digest=s;t.create=r;t.decode=n;t.equals=i}));var hasher=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r=({name:e,code:t,encode:r})=>new n(e,t,r);class n{constructor(e,t,r){this.name=e;this.code=t;this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?digest$1.create(this.code,t):t.then((e=>digest$1.create(this.code,e)))}else{throw Error("Unknown type, must be binary type")}}}t.Hasher=n;t.from=r}));var sha2Browser=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));const n=hasher.from({name:"sha2-256",code:18,encode:r("SHA-256")});const i=hasher.from({name:"sha2-512",code:19,encode:r("SHA-512")});t.sha256=n;t.sha512=i}));var identity_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r=0;const n="identity";const i=bytes.coerce;const s=e=>digest$1.create(r,i(e));const f={code:r,name:n,encode:i,digest:s};t.identity=f}));var raw=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r="raw";const n=85;const i=e=>bytes.coerce(e);const s=e=>bytes.coerce(e);t.code=n;t.decode=s;t.encode=i;t.name=r}));var json=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r=new TextEncoder;const n=new TextDecoder;const i="json";const s=512;const f=e=>r.encode(JSON.stringify(e));const a=e=>JSON.parse(n.decode(e));t.code=s;t.decode=a;t.encode=f;t.name=i}));var cid$2=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});class r{constructor(e,t,r,n){this.code=t;this.version=e;this.multihash=r;this.bytes=n;this.byteOffset=n.byteOffset;this.byteLength=n.byteLength;this.asCID=this;this._baseCache=new Map;Object.defineProperties(this,{byteOffset:l,byteLength:l,code:u,version:u,multihash:u,bytes:u,_baseCache:l,asCID:l})}toV0(){switch(this.version){case 0:{return this}default:{const{code:e,multihash:t}=this;if(e!==f){throw new Error("Cannot convert a non dag-pb CID to CIDv0")}if(t.code!==a){throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0")}return r.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash;const n=digest$1.create(e,t);return r.createV1(this.code,n)}case 1:{return this}default:{throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}}equals(e){return e&&this.code===e.code&&this.version===e.version&&digest$1.equals(this.multihash,e.multihash)}toString(e){const{bytes:t,version:r,_baseCache:n}=this;switch(r){case 0:return i(t,n,e||base58.base58btc.encoder);default:return s(t,n,e||base32_1.base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){d(/^0\.0/,p);return!!(e&&(e[c]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof r){return e}else if(e!=null&&e.asCID===e){const{version:t,code:n,multihash:i,bytes:s}=e;return new r(t,n,i,s||o(t,n,i.bytes))}else if(e!=null&&e[c]===true){const{version:t,multihash:n,code:i}=e;const s=digest$1.decode(n);return r.create(t,i,s)}else{return null}}static create(e,t,n){if(typeof t!=="number"){throw new Error("String codecs are no longer supported")}switch(e){case 0:{if(t!==f){throw new Error(`Version 0 CID must use dag-pb (code: ${f}) block encoding`)}else{return new r(e,t,n,n.bytes)}}case 1:{const i=o(e,t,n.bytes);return new r(e,t,n,i)}default:{throw new Error("Invalid version")}}}static createV0(e){return r.create(0,f,e)}static createV1(e,t){return r.create(1,e,t)}static decode(e){const[t,n]=r.decodeFirst(e);if(n.length){throw new Error("Incorrect length")}return t}static decodeFirst(e){const t=r.inspectBytes(e);const n=t.size-t.multihashSize;const i=bytes.coerce(e.subarray(n,n+t.multihashSize));if(i.byteLength!==t.multihashSize){throw new Error("Incorrect length")}const s=i.subarray(t.multihashSize-t.digestSize);const f=new digest$1.Digest(t.multihashCode,t.digestSize,s,i);const a=t.version===0?r.createV0(f):r.createV1(t.codec,f);return[a,e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=varint$1.decode(e.subarray(t));t+=n;return r};let n=r();let i=f;if(n===18){n=0;t=0}else if(n===1){i=r()}if(n!==0&&n!==1){throw new RangeError(`Invalid CID version ${n}`)}const s=t;const a=r();const o=r();const c=t+o;const u=c-s;return{version:n,codec:i,multihashCode:a,digestSize:o,multihashSize:u,size:c}}static parse(e,t){const[i,s]=n(e,t);const f=r.decode(s);f._baseCache.set(i,e);return f}}const n=(e,t)=>{switch(e[0]){case"Q":{const r=t||base58.base58btc;return[base58.base58btc.prefix,r.decode(`${base58.base58btc.prefix}${e}`)]}case base58.base58btc.prefix:{const r=t||base58.base58btc;return[base58.base58btc.prefix,r.decode(e)]}case base32_1.base32.prefix:{const r=t||base32_1.base32;return[base32_1.base32.prefix,r.decode(e)]}default:{if(t==null){throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided")}return[e[0],t.decode(e)]}}};const i=(e,t,r)=>{const{prefix:n}=r;if(n!==base58.base58btc.prefix){throw Error(`Cannot string encode V0 in ${r.name} encoding`)}const i=t.get(n);if(i==null){const i=r.encode(e).slice(1);t.set(n,i);return i}else{return i}};const s=(e,t,r)=>{const{prefix:n}=r;const i=t.get(n);if(i==null){const i=r.encode(e);t.set(n,i);return i}else{return i}};const f=112;const a=18;const o=(e,t,r)=>{const n=varint$1.encodingLength(e);const i=n+varint$1.encodingLength(t);const s=new Uint8Array(i+r.byteLength);varint$1.encodeTo(e,s,0);varint$1.encodeTo(t,s,n);s.set(r,i);return s};const c=Symbol.for("@ipld/js-cid/CID");const u={writable:false,configurable:false,enumerable:true};const l={writable:false,enumerable:false,configurable:false};const h="0.0.0-dev";const d=(e,t)=>{if(e.test(h)){console.warn(t)}else{throw new Error(t)}};const p=`CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n`;t.CID=r}));var src$9=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.CID=cid$2.CID;t.varint=varint$1;t.bytes=bytes;t.hasher=hasher;t.digest=digest$1}));var basics=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});const r={...identity_1$1,...base2_1,...base8_1,...base10_1,...base16_1,...base32_1,...base36_1,...base58,...base64_1$1,...base256emoji_1};const n={...sha2Browser,...identity_1};const i={raw,json};t.CID=cid$2.CID;t.hasher=hasher;t.digest=digest$1;t.varint=varint$1;t.bytes=bytes;t.bases=r;t.codecs=i;t.hashes=n}));var asUint8array$4=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e){if(globalThis.Buffer!=null){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}return e}t.asUint8Array=r}));var alloc_1$4=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e=0){if(globalThis.Buffer!=null&&globalThis.Buffer.alloc!=null){return asUint8array$4.asUint8Array(globalThis.Buffer.alloc(e))}return new Uint8Array(e)}function n(e=0){if(globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null){return asUint8array$4.asUint8Array(globalThis.Buffer.allocUnsafe(e))}return new Uint8Array(e)}t.alloc=r;t.allocUnsafe=n}));function createCodec$5(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const string$5=createCodec$5("utf8","u",(e=>{const t=new TextDecoder("utf8");return"u"+t.decode(e)}),(e=>{const t=new TextEncoder;return t.encode(e.substring(1))}));const ascii$5=createCodec$5("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++){t+=String.fromCharCode(e[r])}return t}),(e=>{e=e.substring(1);const t=alloc_1$4.allocUnsafe(e.length);for(let r=0;r<e.length;r++){t[r]=e.charCodeAt(r)}return t}));const BASES$5={utf8:string$5,"utf-8":string$5,hex:basics.bases.base16,latin1:ascii$5,ascii:ascii$5,binary:ascii$5,...basics.bases};var bases$5=BASES$5;var toString_1$3=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e,t="utf8"){const r=bases$5[t];if(!r){throw new Error(`Unsupported encoding "${t}"`)}if((t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null){return globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}return r.encoder.encode(e).substring(1)}t.toString=r}));var fromString_1$4=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e,t="utf8"){const r=bases$5[t];if(!r){throw new Error(`Unsupported encoding "${t}"`)}if((t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null){return asUint8array$4.asUint8Array(globalThis.Buffer.from(e,"utf-8"))}return r.decoder.decode(`${r.prefix}${e}`)}t.fromString=r}));var concat_1$3=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e,t){if(!t){t=e.reduce(((e,t)=>e+t.length),0)}const r=alloc_1$4.allocUnsafe(t);let n=0;for(const t of e){r.set(t,n);n+=t.length}return asUint8array$4.asUint8Array(r)}t.concat=r}));const{names:names$1}=constants$1;const{toString:uint8ArrayToString$2}=toString_1$3;const{fromString:uint8ArrayFromString$3}=fromString_1$4;const{concat:uint8ArrayConcat$3}=concat_1$3;const codes={};for(const e in names$1){const t=e;codes[names$1[t]]=t}Object.freeze(codes);function toHexString(e){if(!(e instanceof Uint8Array)){throw new Error("must be passed a Uint8Array")}return uint8ArrayToString$2(e,"base16")}function fromHexString(e){return uint8ArrayFromString$3(e,"base16")}function toB58String(e){if(!(e instanceof Uint8Array)){throw new Error("must be passed a Uint8Array")}return uint8ArrayToString$2(src$b.encode("base58btc",e)).slice(1)}function fromB58String(e){const t=e instanceof Uint8Array?uint8ArrayToString$2(e):e;return src$b.decode("z"+t)}function decode$4(e){if(!(e instanceof Uint8Array)){throw new Error("multihash must be a Uint8Array")}if(e.length<2){throw new Error("multihash too short. must be > 2 bytes.")}const t=varint$3.decode(e);if(!isValidCode(t)){throw new Error(`multihash unknown function code: 0x${t.toString(16)}`)}e=e.slice(varint$3.decode.bytes);const r=varint$3.decode(e);if(r<0){throw new Error(`multihash invalid length: ${r}`)}e=e.slice(varint$3.decode.bytes);if(e.length!==r){throw new Error(`multihash length inconsistent: 0x${uint8ArrayToString$2(e,"base16")}`)}return{code:t,name:codes[t],length:r,digest:e}}function encode$5(e,t,r){if(!e||t===undefined){throw new Error("multihash encode requires at least two args: digest, code")}const n=coerceCode(t);if(!(e instanceof Uint8Array)){throw new Error("digest should be a Uint8Array")}if(r==null){r=e.length}if(r&&e.length!==r){throw new Error("digest length should be equal to specified length.")}const i=varint$3.encode(n);const s=varint$3.encode(r);return uint8ArrayConcat$3([i,s,e],i.length+s.length+e.length)}function coerceCode(e){let t=e;if(typeof e==="string"){if(names$1[e]===undefined){throw new Error(`Unrecognized hash function named: ${e}`)}t=names$1[e]}if(typeof t!=="number"){throw new Error(`Hash function code should be a number. Got: ${t}`)}if(codes[t]===undefined&&!isAppCode(t)){throw new Error(`Unrecognized function code: ${t}`)}return t}function isAppCode(e){return e>0&&e<16}function isValidCode(e){if(isAppCode(e)){return true}if(codes[e]){return true}return false}function validate(e){decode$4(e)}function prefix(e){validate(e);return e.subarray(0,2)}var src$8={names:names$1,codes,toHexString,fromHexString,toB58String,fromB58String,decode:decode$4,encode:encode$5,coerceCode,isAppCode,validate,prefix,isValidCode};var murmurHash3js=createCommonjsModule$2((function(e,t){(function(r,n){var i={version:"3.0.0",x86:{},x64:{},inputValidation:true};function s(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e)){return false}for(var t=0;t<e.length;t++){if(!Number.isInteger(e[t])||e[t]<0||e[t]>255){return false}}return true}function f(e,t){return(e&65535)*t+(((e>>>16)*t&65535)<<16)}function a(e,t){return e<<t|e>>>32-t}function o(e){e^=e>>>16;e=f(e,2246822507);e^=e>>>13;e=f(e,3266489909);e^=e>>>16;return e}function c(e,t){e=[e[0]>>>16,e[0]&65535,e[1]>>>16,e[1]&65535];t=[t[0]>>>16,t[0]&65535,t[1]>>>16,t[1]&65535];var r=[0,0,0,0];r[3]+=e[3]+t[3];r[2]+=r[3]>>>16;r[3]&=65535;r[2]+=e[2]+t[2];r[1]+=r[2]>>>16;r[2]&=65535;r[1]+=e[1]+t[1];r[0]+=r[1]>>>16;r[1]&=65535;r[0]+=e[0]+t[0];r[0]&=65535;return[r[0]<<16|r[1],r[2]<<16|r[3]]}function u(e,t){e=[e[0]>>>16,e[0]&65535,e[1]>>>16,e[1]&65535];t=[t[0]>>>16,t[0]&65535,t[1]>>>16,t[1]&65535];var r=[0,0,0,0];r[3]+=e[3]*t[3];r[2]+=r[3]>>>16;r[3]&=65535;r[2]+=e[2]*t[3];r[1]+=r[2]>>>16;r[2]&=65535;r[2]+=e[3]*t[2];r[1]+=r[2]>>>16;r[2]&=65535;r[1]+=e[1]*t[3];r[0]+=r[1]>>>16;r[1]&=65535;r[1]+=e[2]*t[2];r[0]+=r[1]>>>16;r[1]&=65535;r[1]+=e[3]*t[1];r[0]+=r[1]>>>16;r[1]&=65535;r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0];r[0]&=65535;return[r[0]<<16|r[1],r[2]<<16|r[3]]}function l(e,t){t%=64;if(t===32){return[e[1],e[0]]}else if(t<32){return[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]}else{t-=32;return[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t]}}function h(e,t){t%=64;if(t===0){return e}else if(t<32){return[e[0]<<t|e[1]>>>32-t,e[1]<<t]}else{return[e[1]<<t-32,0]}}function d(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){e=d(e,[0,e[0]>>>1]);e=u(e,[4283543511,3981806797]);e=d(e,[0,e[0]>>>1]);e=u(e,[3301882366,444984403]);e=d(e,[0,e[0]>>>1]);return e}i.x86.hash32=function(e,t){if(i.inputValidation&&!s(e)){return n}t=t||0;var r=e.length%4;var c=e.length-r;var u=t;var l=0;var h=3432918353;var d=461845907;for(var p=0;p<c;p=p+4){l=e[p]|e[p+1]<<8|e[p+2]<<16|e[p+3]<<24;l=f(l,h);l=a(l,15);l=f(l,d);u^=l;u=a(u,13);u=f(u,5)+3864292196}l=0;switch(r){case 3:l^=e[p+2]<<16;case 2:l^=e[p+1]<<8;case 1:l^=e[p];l=f(l,h);l=a(l,15);l=f(l,d);u^=l}u^=e.length;u=o(u);return u>>>0};i.x86.hash128=function(e,t){if(i.inputValidation&&!s(e)){return n}t=t||0;var r=e.length%16;var c=e.length-r;var u=t;var l=t;var h=t;var d=t;var p=0;var y=0;var b=0;var m=0;var g=597399067;var v=2869860233;var w=951274213;var A=2716044179;for(var $=0;$<c;$=$+16){p=e[$]|e[$+1]<<8|e[$+2]<<16|e[$+3]<<24;y=e[$+4]|e[$+5]<<8|e[$+6]<<16|e[$+7]<<24;b=e[$+8]|e[$+9]<<8|e[$+10]<<16|e[$+11]<<24;m=e[$+12]|e[$+13]<<8|e[$+14]<<16|e[$+15]<<24;p=f(p,g);p=a(p,15);p=f(p,v);u^=p;u=a(u,19);u+=l;u=f(u,5)+1444728091;y=f(y,v);y=a(y,16);y=f(y,w);l^=y;l=a(l,17);l+=h;l=f(l,5)+197830471;b=f(b,w);b=a(b,17);b=f(b,A);h^=b;h=a(h,15);h+=d;h=f(h,5)+2530024501;m=f(m,A);m=a(m,18);m=f(m,g);d^=m;d=a(d,13);d+=u;d=f(d,5)+850148119}p=0;y=0;b=0;m=0;switch(r){case 15:m^=e[$+14]<<16;case 14:m^=e[$+13]<<8;case 13:m^=e[$+12];m=f(m,A);m=a(m,18);m=f(m,g);d^=m;case 12:b^=e[$+11]<<24;case 11:b^=e[$+10]<<16;case 10:b^=e[$+9]<<8;case 9:b^=e[$+8];b=f(b,w);b=a(b,17);b=f(b,A);h^=b;case 8:y^=e[$+7]<<24;case 7:y^=e[$+6]<<16;case 6:y^=e[$+5]<<8;case 5:y^=e[$+4];y=f(y,v);y=a(y,16);y=f(y,w);l^=y;case 4:p^=e[$+3]<<24;case 3:p^=e[$+2]<<16;case 2:p^=e[$+1]<<8;case 1:p^=e[$];p=f(p,g);p=a(p,15);p=f(p,v);u^=p}u^=e.length;l^=e.length;h^=e.length;d^=e.length;u+=l;u+=h;u+=d;l+=u;h+=u;d+=u;u=o(u);l=o(l);h=o(h);d=o(d);u+=l;u+=h;u+=d;l+=u;h+=u;d+=u;return("00000000"+(u>>>0).toString(16)).slice(-8)+("00000000"+(l>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)};i.x64.hash128=function(e,t){if(i.inputValidation&&!s(e)){return n}t=t||0;var r=e.length%16;var f=e.length-r;var a=[0,t];var o=[0,t];var y=[0,0];var b=[0,0];var m=[2277735313,289559509];var g=[1291169091,658871167];for(var v=0;v<f;v=v+16){y=[e[v+4]|e[v+5]<<8|e[v+6]<<16|e[v+7]<<24,e[v]|e[v+1]<<8|e[v+2]<<16|e[v+3]<<24];b=[e[v+12]|e[v+13]<<8|e[v+14]<<16|e[v+15]<<24,e[v+8]|e[v+9]<<8|e[v+10]<<16|e[v+11]<<24];y=u(y,m);y=l(y,31);y=u(y,g);a=d(a,y);a=l(a,27);a=c(a,o);a=c(u(a,[0,5]),[0,1390208809]);b=u(b,g);b=l(b,33);b=u(b,m);o=d(o,b);o=l(o,31);o=c(o,a);o=c(u(o,[0,5]),[0,944331445])}y=[0,0];b=[0,0];switch(r){case 15:b=d(b,h([0,e[v+14]],48));case 14:b=d(b,h([0,e[v+13]],40));case 13:b=d(b,h([0,e[v+12]],32));case 12:b=d(b,h([0,e[v+11]],24));case 11:b=d(b,h([0,e[v+10]],16));case 10:b=d(b,h([0,e[v+9]],8));case 9:b=d(b,[0,e[v+8]]);b=u(b,g);b=l(b,33);b=u(b,m);o=d(o,b);case 8:y=d(y,h([0,e[v+7]],56));case 7:y=d(y,h([0,e[v+6]],48));case 6:y=d(y,h([0,e[v+5]],40));case 5:y=d(y,h([0,e[v+4]],32));case 4:y=d(y,h([0,e[v+3]],24));case 3:y=d(y,h([0,e[v+2]],16));case 2:y=d(y,h([0,e[v+1]],8));case 1:y=d(y,[0,e[v]]);y=u(y,m);y=l(y,31);y=u(y,g);a=d(a,y)}a=d(a,[0,e.length]);o=d(o,[0,e.length]);a=c(a,o);o=c(o,a);a=p(a);o=p(o);a=c(a,o);o=c(o,a);return("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)};{if(e.exports){t=e.exports=i}t.murmurHash3=i}})()}));var murmurhash3jsRevisited=murmurHash3js;const crypto$3=self.crypto||self.msCrypto;const digest=async(e,t)=>{if(typeof self==="undefined"||!crypto$3){throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context")}switch(t){case"sha1":return new Uint8Array(await crypto$3.subtle.digest({name:"SHA-1"},e));case"sha2-256":return new Uint8Array(await crypto$3.subtle.digest({name:"SHA-256"},e));case"sha2-512":return new Uint8Array(await crypto$3.subtle.digest({name:"SHA-512"},e));case"dbl-sha2-256":{const t=await crypto$3.subtle.digest({name:"SHA-256"},e);return new Uint8Array(await crypto$3.subtle.digest({name:"SHA-256"},t))}default:throw new Error(`${t} is not a supported algorithm`)}};var sha_browser={factory:e=>async t=>digest(t,e),digest,multihashing:async(e,t,r)=>{const n=await digest(e,t);return src$8.encode(n,t,r)}};const fromNumberTo32BitBuf$1=e=>{const t=new Uint8Array(4);for(let r=0;r<4;r++){t[r]=e&255;e=e>>8}return t};var utils$4={fromNumberTo32BitBuf:fromNumberTo32BitBuf$1};var asUint8array$3=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e){if(globalThis.Buffer!=null){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}return e}t.asUint8Array=r}));var alloc_1$3=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e=0){if(globalThis.Buffer!=null&&globalThis.Buffer.alloc!=null){return asUint8array$3.asUint8Array(globalThis.Buffer.alloc(e))}return new Uint8Array(e)}function n(e=0){if(globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null){return asUint8array$3.asUint8Array(globalThis.Buffer.allocUnsafe(e))}return new Uint8Array(e)}t.alloc=r;t.allocUnsafe=n}));function createCodec$4(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const string$4=createCodec$4("utf8","u",(e=>{const t=new TextDecoder("utf8");return"u"+t.decode(e)}),(e=>{const t=new TextEncoder;return t.encode(e.substring(1))}));const ascii$4=createCodec$4("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++){t+=String.fromCharCode(e[r])}return t}),(e=>{e=e.substring(1);const t=alloc_1$3.allocUnsafe(e.length);for(let r=0;r<e.length;r++){t[r]=e.charCodeAt(r)}return t}));const BASES$4={utf8:string$4,"utf-8":string$4,hex:basics.bases.base16,latin1:ascii$4,ascii:ascii$4,binary:ascii$4,...basics.bases};var bases$4=BASES$4;var fromString_1$3=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e,t="utf8"){const r=bases$4[t];if(!r){throw new Error(`Unsupported encoding "${t}"`)}if((t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null){return asUint8array$3.asUint8Array(globalThis.Buffer.from(e,"utf-8"))}return r.decoder.decode(`${r.prefix}${e}`)}t.fromString=r}));const ERROR_MSG_INPUT="Input must be an string, Buffer or Uint8Array";function normalizeInput(e){let t;if(e instanceof Uint8Array){t=e}else if(typeof e==="string"){const r=new TextEncoder;t=r.encode(e)}else{throw new Error(ERROR_MSG_INPUT)}return t}function toHex$2(e){return Array.prototype.map.call(e,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")}function uint32ToHex(e){return(4294967296+e).toString(16).substring(1)}function debugPrint(e,t,r){let n="\n"+e+" = ";for(let i=0;i<t.length;i+=2){if(r===32){n+=uint32ToHex(t[i]).toUpperCase();n+=" ";n+=uint32ToHex(t[i+1]).toUpperCase()}else if(r===64){n+=uint32ToHex(t[i+1]).toUpperCase();n+=uint32ToHex(t[i]).toUpperCase()}else throw new Error("Invalid size "+r);if(i%6===4){n+="\n"+new Array(e.length+4).join(" ")}else if(i<t.length-2){n+=" "}}console.log(n)}function testSpeed(e,t,r){let n=(new Date).getTime();const i=new Uint8Array(t);for(let e=0;e<t;e++){i[e]=e%256}const s=(new Date).getTime();console.log("Generated random input in "+(s-n)+"ms");n=s;for(let s=0;s<r;s++){const r=e(i);const s=(new Date).getTime();const f=s-n;n=s;console.log("Hashed in "+f+"ms: "+r.substring(0,20)+"...");console.log(Math.round(t/(1<<20)/(f/1e3)*100)/100+" MB PER SECOND")}}var util$3={normalizeInput,toHex:toHex$2,debugPrint,testSpeed};function ADD64AA(e,t,r){const n=e[t]+e[r];let i=e[t+1]+e[r+1];if(n>=4294967296){i++}e[t]=n;e[t+1]=i}function ADD64AC(e,t,r,n){let i=e[t]+r;if(r<0){i+=4294967296}let s=e[t+1]+n;if(i>=4294967296){s++}e[t]=i;e[t+1]=s}function B2B_GET32(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function B2B_G(e,t,r,n,i,s){const f=m$1[i];const a=m$1[i+1];const o=m$1[s];const c=m$1[s+1];ADD64AA(v$1,e,t);ADD64AC(v$1,e,f,a);let u=v$1[n]^v$1[e];let l=v$1[n+1]^v$1[e+1];v$1[n]=l;v$1[n+1]=u;ADD64AA(v$1,r,n);u=v$1[t]^v$1[r];l=v$1[t+1]^v$1[r+1];v$1[t]=u>>>24^l<<8;v$1[t+1]=l>>>24^u<<8;ADD64AA(v$1,e,t);ADD64AC(v$1,e,o,c);u=v$1[n]^v$1[e];l=v$1[n+1]^v$1[e+1];v$1[n]=u>>>16^l<<16;v$1[n+1]=l>>>16^u<<16;ADD64AA(v$1,r,n);u=v$1[t]^v$1[r];l=v$1[t+1]^v$1[r+1];v$1[t]=l>>>31^u<<1;v$1[t+1]=u>>>31^l<<1}const BLAKE2B_IV32=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]);const SIGMA8=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3];const SIGMA82=new Uint8Array(SIGMA8.map((function(e){return e*2})));const v$1=new Uint32Array(32);const m$1=new Uint32Array(32);function blake2bCompress(e,t){let r=0;for(r=0;r<16;r++){v$1[r]=e.h[r];v$1[r+16]=BLAKE2B_IV32[r]}v$1[24]=v$1[24]^e.t;v$1[25]=v$1[25]^e.t/4294967296;if(t){v$1[28]=~v$1[28];v$1[29]=~v$1[29]}for(r=0;r<32;r++){m$1[r]=B2B_GET32(e.b,4*r)}for(r=0;r<12;r++){B2B_G(0,8,16,24,SIGMA82[r*16+0],SIGMA82[r*16+1]);B2B_G(2,10,18,26,SIGMA82[r*16+2],SIGMA82[r*16+3]);B2B_G(4,12,20,28,SIGMA82[r*16+4],SIGMA82[r*16+5]);B2B_G(6,14,22,30,SIGMA82[r*16+6],SIGMA82[r*16+7]);B2B_G(0,10,20,30,SIGMA82[r*16+8],SIGMA82[r*16+9]);B2B_G(2,12,22,24,SIGMA82[r*16+10],SIGMA82[r*16+11]);B2B_G(4,14,16,26,SIGMA82[r*16+12],SIGMA82[r*16+13]);B2B_G(6,8,18,28,SIGMA82[r*16+14],SIGMA82[r*16+15])}for(r=0;r<16;r++){e.h[r]=e.h[r]^v$1[r]^v$1[r+16]}}const parameterBlock=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function blake2bInit(e,t,r,n){if(e===0||e>64){throw new Error("Illegal output length, expected 0 < length <= 64")}if(t&&t.length>64){throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64")}if(r&&r.length!==16){throw new Error("Illegal salt, expected Uint8Array with length is 16")}if(n&&n.length!==16){throw new Error("Illegal personal, expected Uint8Array with length is 16")}const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};parameterBlock.fill(0);parameterBlock[0]=e;if(t)parameterBlock[1]=t.length;parameterBlock[2]=1;parameterBlock[3]=1;if(r)parameterBlock.set(r,32);if(n)parameterBlock.set(n,48);for(let e=0;e<16;e++){i.h[e]=BLAKE2B_IV32[e]^B2B_GET32(parameterBlock,e*4)}if(t){blake2bUpdate(i,t);i.c=128}return i}function blake2bUpdate(e,t){for(let r=0;r<t.length;r++){if(e.c===128){e.t+=e.c;blake2bCompress(e,false);e.c=0}e.b[e.c++]=t[r]}}function blake2bFinal(e){e.t+=e.c;while(e.c<128){e.b[e.c++]=0}blake2bCompress(e,true);const t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++){t[r]=e.h[r>>2]>>8*(r&3)}return t}function blake2b$1(e,t,r,n,i){r=r||64;e=util$3.normalizeInput(e);if(n){n=util$3.normalizeInput(n)}if(i){i=util$3.normalizeInput(i)}const s=blake2bInit(r,t,n,i);blake2bUpdate(s,e);return blake2bFinal(s)}function blake2bHex(e,t,r,n,i){const s=blake2b$1(e,t,r,n,i);return util$3.toHex(s)}var blake2b_1={blake2b:blake2b$1,blake2bHex,blake2bInit,blake2bUpdate,blake2bFinal};function B2S_GET32(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function B2S_G(e,t,r,n,i,s){v[e]=v[e]+v[t]+i;v[n]=ROTR32(v[n]^v[e],16);v[r]=v[r]+v[n];v[t]=ROTR32(v[t]^v[r],12);v[e]=v[e]+v[t]+s;v[n]=ROTR32(v[n]^v[e],8);v[r]=v[r]+v[n];v[t]=ROTR32(v[t]^v[r],7)}function ROTR32(e,t){return e>>>t^e<<32-t}const BLAKE2S_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);const SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]);const v=new Uint32Array(16);const m=new Uint32Array(16);function blake2sCompress(e,t){let r=0;for(r=0;r<8;r++){v[r]=e.h[r];v[r+8]=BLAKE2S_IV[r]}v[12]^=e.t;v[13]^=e.t/4294967296;if(t){v[14]=~v[14]}for(r=0;r<16;r++){m[r]=B2S_GET32(e.b,4*r)}for(r=0;r<10;r++){B2S_G(0,4,8,12,m[SIGMA[r*16+0]],m[SIGMA[r*16+1]]);B2S_G(1,5,9,13,m[SIGMA[r*16+2]],m[SIGMA[r*16+3]]);B2S_G(2,6,10,14,m[SIGMA[r*16+4]],m[SIGMA[r*16+5]]);B2S_G(3,7,11,15,m[SIGMA[r*16+6]],m[SIGMA[r*16+7]]);B2S_G(0,5,10,15,m[SIGMA[r*16+8]],m[SIGMA[r*16+9]]);B2S_G(1,6,11,12,m[SIGMA[r*16+10]],m[SIGMA[r*16+11]]);B2S_G(2,7,8,13,m[SIGMA[r*16+12]],m[SIGMA[r*16+13]]);B2S_G(3,4,9,14,m[SIGMA[r*16+14]],m[SIGMA[r*16+15]])}for(r=0;r<8;r++){e.h[r]^=v[r]^v[r+8]}}function blake2sInit(e,t){if(!(e>0&&e<=32)){throw new Error("Incorrect output length, should be in [1, 32]")}const r=t?t.length:0;if(t&&!(r>0&&r<=32)){throw new Error("Incorrect key length, should be in [1, 32]")}const n={h:new Uint32Array(BLAKE2S_IV),b:new Uint8Array(64),c:0,t:0,outlen:e};n.h[0]^=16842752^r<<8^e;if(r>0){blake2sUpdate(n,t);n.c=64}return n}function blake2sUpdate(e,t){for(let r=0;r<t.length;r++){if(e.c===64){e.t+=e.c;blake2sCompress(e,false);e.c=0}e.b[e.c++]=t[r]}}function blake2sFinal(e){e.t+=e.c;while(e.c<64){e.b[e.c++]=0}blake2sCompress(e,true);const t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++){t[r]=e.h[r>>2]>>8*(r&3)&255}return t}function blake2s$1(e,t,r){r=r||32;e=util$3.normalizeInput(e);const n=blake2sInit(r,t);blake2sUpdate(n,e);return blake2sFinal(n)}function blake2sHex(e,t,r){const n=blake2s$1(e,t,r);return util$3.toHex(n)}var blake2s_1={blake2s:blake2s$1,blake2sHex,blake2sInit,blake2sUpdate,blake2sFinal};var blakejs={blake2b:blake2b_1.blake2b,blake2bHex:blake2b_1.blake2bHex,blake2bInit:blake2b_1.blake2bInit,blake2bUpdate:blake2b_1.blake2bUpdate,blake2bFinal:blake2b_1.blake2bFinal,blake2s:blake2s_1.blake2s,blake2sHex:blake2s_1.blake2sHex,blake2sInit:blake2s_1.blake2sInit,blake2sUpdate:blake2s_1.blake2sUpdate,blake2sFinal:blake2s_1.blake2sFinal};const minB=45569;const minS=45633;const blake2b={init:blakejs.blake2bInit,update:blakejs.blake2bUpdate,digest:blakejs.blake2bFinal};const blake2s={init:blakejs.blake2sInit,update:blakejs.blake2sUpdate,digest:blakejs.blake2sFinal};const makeB2Hash=(e,t)=>async r=>{const n=t.init(e,null);t.update(n,r);return t.digest(n)};var blake_1=e=>{for(let t=0;t<64;t++){e[minB+t]=makeB2Hash(t+1,blake2b)}for(let t=0;t<32;t++){e[minS+t]=makeB2Hash(t+1,blake2s)}};const{factory:sha$1}=sha_browser;const{fromNumberTo32BitBuf}=utils$4;const{fromString:uint8ArrayFromString$2}=fromString_1$3;const hash=e=>async t=>{switch(e){case"sha3-224":return new Uint8Array(sha3$2.sha3_224.arrayBuffer(t));case"sha3-256":return new Uint8Array(sha3$2.sha3_256.arrayBuffer(t));case"sha3-384":return new Uint8Array(sha3$2.sha3_384.arrayBuffer(t));case"sha3-512":return new Uint8Array(sha3$2.sha3_512.arrayBuffer(t));case"shake-128":return new Uint8Array(sha3$2.shake128.create(128).update(t).arrayBuffer());case"shake-256":return new Uint8Array(sha3$2.shake256.create(256).update(t).arrayBuffer());case"keccak-224":return new Uint8Array(sha3$2.keccak224.arrayBuffer(t));case"keccak-256":return new Uint8Array(sha3$2.keccak256.arrayBuffer(t));case"keccak-384":return new Uint8Array(sha3$2.keccak384.arrayBuffer(t));case"keccak-512":return new Uint8Array(sha3$2.keccak512.arrayBuffer(t));case"murmur3-128":return uint8ArrayFromString$2(murmurhash3jsRevisited.x64.hash128(t),"base16");case"murmur3-32":return fromNumberTo32BitBuf(murmurhash3jsRevisited.x86.hash32(t));default:throw new TypeError(`${e} is not a supported algorithm`)}};const identity=e=>e;var crypto$2={identity,sha1:sha$1("sha1"),sha2256:sha$1("sha2-256"),sha2512:sha$1("sha2-512"),dblSha2256:sha$1("dbl-sha2-256"),sha3224:hash("sha3-224"),sha3256:hash("sha3-256"),sha3384:hash("sha3-384"),sha3512:hash("sha3-512"),shake128:hash("shake-128"),shake256:hash("shake-256"),keccak224:hash("keccak-224"),keccak256:hash("keccak-256"),keccak384:hash("keccak-384"),keccak512:hash("keccak-512"),murmur3128:hash("murmur3-128"),murmur332:hash("murmur3-32"),addBlake:blake_1};var equals_1$2=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e,t){if(e===t){return true}if(e.byteLength!==t.byteLength){return false}for(let r=0;r<e.byteLength;r++){if(e[r]!==t[r]){return false}}return true}t.equals=r}));const{equals:equals$1}=equals_1$2;async function Multihashing(e,t,r){const n=await Multihashing.digest(e,t,r);return src$8.encode(n,t,r)}Multihashing.multihash=src$8;Multihashing.digest=async(e,t,r)=>{const n=Multihashing.createHash(t);const i=await n(e);return r?i.slice(0,r):i};Multihashing.createHash=function(e){if(!e){const e=errCode(new Error("hash algorithm must be specified"),"ERR_HASH_ALGORITHM_NOT_SPECIFIED");throw e}const t=src$8.coerceCode(e);if(!Multihashing.functions[t]){throw errCode(new Error(`multihash function '${e}' not yet supported`),"ERR_HASH_ALGORITHM_NOT_SUPPORTED")}return Multihashing.functions[t]};Multihashing.functions={0:crypto$2.identity,17:crypto$2.sha1,18:crypto$2.sha2256,19:crypto$2.sha2512,20:crypto$2.sha3512,21:crypto$2.sha3384,22:crypto$2.sha3256,23:crypto$2.sha3224,24:crypto$2.shake128,25:crypto$2.shake256,26:crypto$2.keccak224,27:crypto$2.keccak256,28:crypto$2.keccak384,29:crypto$2.keccak512,34:crypto$2.murmur3128,35:crypto$2.murmur332,86:crypto$2.dblSha2256};crypto$2.addBlake(Multihashing.functions);Multihashing.validate=async(e,t)=>{const r=await Multihashing(e,src$8.decode(t).name);return equals$1(t,r)};var src$7=Multihashing;const mergeOptions=mergeOptions$1.bind({ignoreUndefined:true});async function hamtHashFn(e){const t=await src$7(e,"murmur3-128");const r=t.slice(2,10);const n=r.length;const i=new Uint8Array(n);for(let e=0;e<n;e++){i[n-e-1]=r[e]}return i}const defaultOptions={chunker:"fixed",strategy:"balanced",rawLeaves:false,onlyHash:false,reduceSingleLeafToSelf:true,hashAlg:"sha2-256",leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:false,pin:false,recursive:false,hidden:false,preload:false,timeout:undefined,hamtHashFn,hamtHashCode:34,hamtBucketBits:8};var options=function(e={}){return mergeOptions(defaultOptions,e)};var aspromise=asPromise;function asPromise(e,t){var r=new Array(arguments.length-1),n=0,i=2,s=true;while(i<arguments.length)r[n++]=arguments[i++];return new Promise((function i(f,a){r[n]=function e(t){if(s){s=false;if(t)a(t);else{var r=new Array(arguments.length-1),n=0;while(n<r.length)r[n++]=arguments[n];f.apply(null,r)}}};try{e.apply(t||null,r)}catch(e){if(s){s=false;a(e)}}}))}var base64_1=createCommonjsModule$2((function(e,t){var r=t;r.length=function e(t){var r=t.length;if(!r)return 0;var n=0;while(--r%4>1&&t.charAt(r)==="=")++n;return Math.ceil(t.length*3)/4-n};var n=new Array(64);var i=new Array(123);for(var s=0;s<64;)i[n[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function e(t,r,i){var s=null,f=[];var a=0,o=0,c;while(r<i){var u=t[r++];switch(o){case 0:f[a++]=n[u>>2];c=(u&3)<<4;o=1;break;case 1:f[a++]=n[c|u>>4];c=(u&15)<<2;o=2;break;case 2:f[a++]=n[c|u>>6];f[a++]=n[u&63];o=0;break}if(a>8191){(s||(s=[])).push(String.fromCharCode.apply(String,f));a=0}}if(o){f[a++]=n[c];f[a++]=61;if(o===1)f[a++]=61}if(s){if(a)s.push(String.fromCharCode.apply(String,f.slice(0,a)));return s.join("")}return String.fromCharCode.apply(String,f.slice(0,a))};var f="invalid encoding";r.decode=function e(t,r,n){var s=n;var a=0,o;for(var c=0;c<t.length;){var u=t.charCodeAt(c++);if(u===61&&a>1)break;if((u=i[u])===undefined)throw Error(f);switch(a){case 0:o=u;a=1;break;case 1:r[n++]=o<<2|(u&48)>>4;o=u;a=2;break;case 2:r[n++]=(o&15)<<4|(u&60)>>2;o=u;a=3;break;case 3:r[n++]=(o&3)<<6|u;a=0;break}}if(a===1)throw Error(f);return n-s};r.test=function e(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}}));var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function e(t,r,n){(this._listeners[t]||(this._listeners[t]=[])).push({fn:r,ctx:n||this});return this};EventEmitter.prototype.off=function e(t,r){if(t===undefined)this._listeners={};else{if(r===undefined)this._listeners[t]=[];else{var n=this._listeners[t];for(var i=0;i<n.length;)if(n[i].fn===r)n.splice(i,1);else++i}}return this};EventEmitter.prototype.emit=function e(t){var r=this._listeners[t];if(r){var n=[],i=1;for(;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this};var float_1=factory(factory);function factory(e){if(typeof Float32Array!=="undefined")(function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=r[3]===128;function i(e,n,i){t[0]=e;n[i]=r[0];n[i+1]=r[1];n[i+2]=r[2];n[i+3]=r[3]}function s(e,n,i){t[0]=e;n[i]=r[3];n[i+1]=r[2];n[i+2]=r[1];n[i+3]=r[0]}e.writeFloatLE=n?i:s;e.writeFloatBE=n?s:i;function f(e,n){r[0]=e[n];r[1]=e[n+1];r[2]=e[n+2];r[3]=e[n+3];return t[0]}function a(e,n){r[3]=e[n];r[2]=e[n+1];r[1]=e[n+2];r[0]=e[n+3];return t[0]}e.readFloatLE=n?f:a;e.readFloatBE=n?a:f})();else(function(){function t(e,t,r,n){var i=t<0?1:0;if(i)t=-t;if(t===0)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var s=Math.floor(Math.log(t)/Math.LN2),f=Math.round(t*Math.pow(2,-s)*8388608)&8388607;e((i<<31|s+127<<23|f)>>>0,r,n)}}e.writeFloatLE=t.bind(null,writeUintLE);e.writeFloatBE=t.bind(null,writeUintBE);function r(e,t,r){var n=e(t,r),i=(n>>31)*2+1,s=n>>>23&255,f=n&8388607;return s===255?f?NaN:i*Infinity:s===0?i*1401298464324817e-60*f:i*Math.pow(2,s-150)*(f+8388608)}e.readFloatLE=r.bind(null,readUintLE);e.readFloatBE=r.bind(null,readUintBE)})();if(typeof Float64Array!=="undefined")(function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=r[7]===128;function i(e,n,i){t[0]=e;n[i]=r[0];n[i+1]=r[1];n[i+2]=r[2];n[i+3]=r[3];n[i+4]=r[4];n[i+5]=r[5];n[i+6]=r[6];n[i+7]=r[7]}function s(e,n,i){t[0]=e;n[i]=r[7];n[i+1]=r[6];n[i+2]=r[5];n[i+3]=r[4];n[i+4]=r[3];n[i+5]=r[2];n[i+6]=r[1];n[i+7]=r[0]}e.writeDoubleLE=n?i:s;e.writeDoubleBE=n?s:i;function f(e,n){r[0]=e[n];r[1]=e[n+1];r[2]=e[n+2];r[3]=e[n+3];r[4]=e[n+4];r[5]=e[n+5];r[6]=e[n+6];r[7]=e[n+7];return t[0]}function a(e,n){r[7]=e[n];r[6]=e[n+1];r[5]=e[n+2];r[4]=e[n+3];r[3]=e[n+4];r[2]=e[n+5];r[1]=e[n+6];r[0]=e[n+7];return t[0]}e.readDoubleLE=n?f:a;e.readDoubleBE=n?a:f})();else(function(){function t(e,t,r,n,i,s){var f=n<0?1:0;if(f)n=-n;if(n===0){e(0,i,s+t);e(1/n>0?0:2147483648,i,s+r)}else if(isNaN(n)){e(0,i,s+t);e(2146959360,i,s+r)}else if(n>17976931348623157e292){e(0,i,s+t);e((f<<31|2146435072)>>>0,i,s+r)}else{var a;if(n<22250738585072014e-324){a=n/5e-324;e(a>>>0,i,s+t);e((f<<31|a/4294967296)>>>0,i,s+r)}else{var o=Math.floor(Math.log(n)/Math.LN2);if(o===1024)o=1023;a=n*Math.pow(2,-o);e(a*4503599627370496>>>0,i,s+t);e((f<<31|o+1023<<20|a*1048576&1048575)>>>0,i,s+r)}}}e.writeDoubleLE=t.bind(null,writeUintLE,0,4);e.writeDoubleBE=t.bind(null,writeUintBE,4,0);function r(e,t,r,n,i){var s=e(n,i+t),f=e(n,i+r);var a=(f>>31)*2+1,o=f>>>20&2047,c=4294967296*(f&1048575)+s;return o===2047?c?NaN:a*Infinity:o===0?a*5e-324*c:a*Math.pow(2,o-1075)*(c+4503599627370496)}e.readDoubleLE=r.bind(null,readUintLE,0,4);e.readDoubleBE=r.bind(null,readUintBE,4,0)})();return e}function writeUintLE(e,t,r){t[r]=e&255;t[r+1]=e>>>8&255;t[r+2]=e>>>16&255;t[r+3]=e>>>24}function writeUintBE(e,t,r){t[r]=e>>>24;t[r+1]=e>>>16&255;t[r+2]=e>>>8&255;t[r+3]=e&255}function readUintLE(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function readUintBE(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}var utf8_1=createCommonjsModule$2((function(e,t){var r=t;r.length=function e(t){var r=0,n=0;for(var i=0;i<t.length;++i){n=t.charCodeAt(i);if(n<128)r+=1;else if(n<2048)r+=2;else if((n&64512)===55296&&(t.charCodeAt(i+1)&64512)===56320){++i;r+=4}else r+=3}return r};r.read=function e(t,r,n){var i=n-r;if(i<1)return"";var s=null,f=[],a=0,o;while(r<n){o=t[r++];if(o<128)f[a++]=o;else if(o>191&&o<224)f[a++]=(o&31)<<6|t[r++]&63;else if(o>239&&o<365){o=((o&7)<<18|(t[r++]&63)<<12|(t[r++]&63)<<6|t[r++]&63)-65536;f[a++]=55296+(o>>10);f[a++]=56320+(o&1023)}else f[a++]=(o&15)<<12|(t[r++]&63)<<6|t[r++]&63;if(a>8191){(s||(s=[])).push(String.fromCharCode.apply(String,f));a=0}}if(s){if(a)s.push(String.fromCharCode.apply(String,f.slice(0,a)));return s.join("")}return String.fromCharCode.apply(String,f.slice(0,a))};r.write=function e(t,r,n){var i=n,s,f;for(var a=0;a<t.length;++a){s=t.charCodeAt(a);if(s<128){r[n++]=s}else if(s<2048){r[n++]=s>>6|192;r[n++]=s&63|128}else if((s&64512)===55296&&((f=t.charCodeAt(a+1))&64512)===56320){s=65536+((s&1023)<<10)+(f&1023);++a;r[n++]=s>>18|240;r[n++]=s>>12&63|128;r[n++]=s>>6&63|128;r[n++]=s&63|128}else{r[n++]=s>>12|224;r[n++]=s>>6&63|128;r[n++]=s&63|128}}return n-i}}));var pool_1=pool;function pool(e,t,r){var n=r||8192;var i=n>>>1;var s=null;var f=n;return function r(a){if(a<1||a>i)return e(a);if(f+a>n){s=e(n);f=0}var o=t.call(s,f,f+=a);if(f&7)f=(f|7)+1;return o}}var longbits=LongBits$2;function LongBits$2(e,t){this.lo=e>>>0;this.hi=t>>>0}var zero$2=LongBits$2.zero=new LongBits$2(0,0);zero$2.toNumber=function(){return 0};zero$2.zzEncode=zero$2.zzDecode=function(){return this};zero$2.length=function(){return 1};var zeroHash=LongBits$2.zeroHash="\0\0\0\0\0\0\0\0";LongBits$2.fromNumber=function e(t){if(t===0)return zero$2;var r=t<0;if(r)t=-t;var n=t>>>0,i=(t-n)/4294967296>>>0;if(r){i=~i>>>0;n=~n>>>0;if(++n>4294967295){n=0;if(++i>4294967295)i=0}}return new LongBits$2(n,i)};LongBits$2.from=function e(t){if(typeof t==="number")return LongBits$2.fromNumber(t);if(minimal$1.isString(t)){if(minimal$1.Long)t=minimal$1.Long.fromString(t);else return LongBits$2.fromNumber(parseInt(t,10))}return t.low||t.high?new LongBits$2(t.low>>>0,t.high>>>0):zero$2};LongBits$2.prototype.toNumber=function e(t){if(!t&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;if(!r)n=n+1>>>0;return-(r+n*4294967296)}return this.lo+this.hi*4294967296};LongBits$2.prototype.toLong=function e(t){return minimal$1.Long?new minimal$1.Long(this.lo|0,this.hi|0,Boolean(t)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(t)}};var charCodeAt=String.prototype.charCodeAt;LongBits$2.fromHash=function e(t){if(t===zeroHash)return zero$2;return new LongBits$2((charCodeAt.call(t,0)|charCodeAt.call(t,1)<<8|charCodeAt.call(t,2)<<16|charCodeAt.call(t,3)<<24)>>>0,(charCodeAt.call(t,4)|charCodeAt.call(t,5)<<8|charCodeAt.call(t,6)<<16|charCodeAt.call(t,7)<<24)>>>0)};LongBits$2.prototype.toHash=function e(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};LongBits$2.prototype.zzEncode=function e(){var t=this.hi>>31;this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0;this.lo=(this.lo<<1^t)>>>0;return this};LongBits$2.prototype.zzDecode=function e(){var t=-(this.lo&1);this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0;this.hi=(this.hi>>>1^t)>>>0;return this};LongBits$2.prototype.length=function e(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10};var minimal$1=createCommonjsModule$2((function(e,t){var r=t;r.asPromise=aspromise;r.base64=base64_1;r.EventEmitter=eventemitter;r.float=float_1;r.inquire=inquire_1;r.utf8=utf8_1;r.pool=pool_1;r.LongBits=longbits;r.isNode=Boolean(typeof commonjsGlobal!=="undefined"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node);r.global=r.isNode&&commonjsGlobal||typeof window!=="undefined"&&window||typeof self!=="undefined"&&self||commonjsGlobal;r.emptyArray=Object.freeze?Object.freeze([]):[];r.emptyObject=Object.freeze?Object.freeze({}):{};r.isInteger=Number.isInteger||function e(t){return typeof t==="number"&&isFinite(t)&&Math.floor(t)===t};r.isString=function e(t){return typeof t==="string"||t instanceof String};r.isObject=function e(t){return t&&typeof t==="object"};r.isset=r.isSet=function e(t,r){var n=t[r];if(n!=null&&t.hasOwnProperty(r))return typeof n!=="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0;return false};r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}();r._Buffer_from=null;r._Buffer_allocUnsafe=null;r.newBuffer=function e(t){return typeof t==="number"?r.Buffer?r._Buffer_allocUnsafe(t):new r.Array(t):r.Buffer?r._Buffer_from(t):typeof Uint8Array==="undefined"?t:new Uint8Array(t)};r.Array=typeof Uint8Array!=="undefined"?Uint8Array:Array;r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long");r.key2Re=/^true|false|0|1$/;r.key32Re=/^-?(?:0|[1-9][0-9]*)$/;r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;r.longToHash=function e(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash};r.longFromHash=function e(t,n){var i=r.LongBits.fromHash(t);if(r.Long)return r.Long.fromBits(i.lo,i.hi,n);return i.toNumber(Boolean(n))};function n(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)if(e[n[i]]===undefined||!r)e[n[i]]=t[n[i]];return e}r.merge=n;r.lcFirst=function e(t){return t.charAt(0).toLowerCase()+t.substring(1)};function i(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}});if(Error.captureStackTrace)Error.captureStackTrace(this,t);else Object.defineProperty(this,"stack",{value:(new Error).stack||""});if(r)n(this,r)}(t.prototype=Object.create(Error.prototype)).constructor=t;Object.defineProperty(t.prototype,"name",{get:function(){return e}});t.prototype.toString=function e(){return this.name+": "+this.message};return t}r.newError=i;r.ProtocolError=i("ProtocolError");r.oneOfGetter=function e(t){var r={};for(var n=0;n<t.length;++n)r[t[n]]=1;return function(){for(var e=Object.keys(this),t=e.length-1;t>-1;--t)if(r[e[t]]===1&&this[e[t]]!==undefined&&this[e[t]]!==null)return e[t]}};r.oneOfSetter=function e(t){return function(e){for(var r=0;r<t.length;++r)if(t[r]!==e)delete this[t[r]]}};r.toJSONOptions={longs:String,enums:String,bytes:String,json:true};r._configure=function(){var e=r.Buffer;if(!e){r._Buffer_from=r._Buffer_allocUnsafe=null;return}r._Buffer_from=e.from!==Uint8Array.from&&e.from||function t(r,n){return new e(r,n)};r._Buffer_allocUnsafe=e.allocUnsafe||function t(r){return new e(r)}}}));var writer=Writer$1;var BufferWriter$1;var LongBits$1=minimal$1.LongBits,base64=minimal$1.base64,utf8$1=minimal$1.utf8;function Op(e,t,r){this.fn=e;this.len=t;this.next=undefined;this.val=r}function noop(){}function State(e){this.head=e.head;this.tail=e.tail;this.len=e.len;this.next=e.states}function Writer$1(){this.len=0;this.head=new Op(noop,0,0);this.tail=this.head;this.states=null}var create$3=function e(){return minimal$1.Buffer?function e(){return(Writer$1.create=function e(){return new BufferWriter$1})()}:function e(){return new Writer$1}};Writer$1.create=create$3();Writer$1.alloc=function e(t){return new minimal$1.Array(t)};if(minimal$1.Array!==Array)Writer$1.alloc=minimal$1.pool(Writer$1.alloc,minimal$1.Array.prototype.subarray);Writer$1.prototype._push=function e(t,r,n){this.tail=this.tail.next=new Op(t,r,n);this.len+=r;return this};function writeByte(e,t,r){t[r]=e&255}function writeVarint32(e,t,r){while(e>127){t[r++]=e&127|128;e>>>=7}t[r]=e}function VarintOp(e,t){this.len=e;this.next=undefined;this.val=t}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function e(t){this.len+=(this.tail=this.tail.next=new VarintOp((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len;return this};Writer$1.prototype.int32=function e(t){return t<0?this._push(writeVarint64,10,LongBits$1.fromNumber(t)):this.uint32(t)};Writer$1.prototype.sint32=function e(t){return this.uint32((t<<1^t>>31)>>>0)};function writeVarint64(e,t,r){while(e.hi){t[r++]=e.lo&127|128;e.lo=(e.lo>>>7|e.hi<<25)>>>0;e.hi>>>=7}while(e.lo>127){t[r++]=e.lo&127|128;e.lo=e.lo>>>7}t[r++]=e.lo}Writer$1.prototype.uint64=function e(t){var r=LongBits$1.from(t);return this._push(writeVarint64,r.length(),r)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function e(t){var r=LongBits$1.from(t).zzEncode();return this._push(writeVarint64,r.length(),r)};Writer$1.prototype.bool=function e(t){return this._push(writeByte,1,t?1:0)};function writeFixed32(e,t,r){t[r]=e&255;t[r+1]=e>>>8&255;t[r+2]=e>>>16&255;t[r+3]=e>>>24}Writer$1.prototype.fixed32=function e(t){return this._push(writeFixed32,4,t>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function e(t){var r=LongBits$1.from(t);return this._push(writeFixed32,4,r.lo)._push(writeFixed32,4,r.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function e(t){return this._push(minimal$1.float.writeFloatLE,4,t)};Writer$1.prototype.double=function e(t){return this._push(minimal$1.float.writeDoubleLE,8,t)};var writeBytes=minimal$1.Array.prototype.set?function e(t,r,n){r.set(t,n)}:function e(t,r,n){for(var i=0;i<t.length;++i)r[n+i]=t[i]};Writer$1.prototype.bytes=function e(t){var r=t.length>>>0;if(!r)return this._push(writeByte,1,0);if(minimal$1.isString(t)){var n=Writer$1.alloc(r=base64.length(t));base64.decode(t,n,0);t=n}return this.uint32(r)._push(writeBytes,r,t)};Writer$1.prototype.string=function e(t){var r=utf8$1.length(t);return r?this.uint32(r)._push(utf8$1.write,r,t):this._push(writeByte,1,0)};Writer$1.prototype.fork=function e(){this.states=new State(this);this.head=this.tail=new Op(noop,0,0);this.len=0;return this};Writer$1.prototype.reset=function e(){if(this.states){this.head=this.states.head;this.tail=this.states.tail;this.len=this.states.len;this.states=this.states.next}else{this.head=this.tail=new Op(noop,0,0);this.len=0}return this};Writer$1.prototype.ldelim=function e(){var t=this.head,r=this.tail,n=this.len;this.reset().uint32(n);if(n){this.tail.next=t.next;this.tail=r;this.len+=n}return this};Writer$1.prototype.finish=function e(){var t=this.head.next,r=this.constructor.alloc(this.len),n=0;while(t){t.fn(t.val,r,n);n+=t.len;t=t.next}return r};Writer$1._configure=function(e){BufferWriter$1=e;Writer$1.create=create$3();BufferWriter$1._configure()};var writer_buffer=BufferWriter;(BufferWriter.prototype=Object.create(writer.prototype)).constructor=BufferWriter;function BufferWriter(){writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=minimal$1._Buffer_allocUnsafe;BufferWriter.writeBytesBuffer=minimal$1.Buffer&&minimal$1.Buffer.prototype instanceof Uint8Array&&minimal$1.Buffer.prototype.set.name==="set"?function e(t,r,n){r.set(t,n)}:function e(t,r,n){if(t.copy)t.copy(r,n,0,t.length);else for(var i=0;i<t.length;)r[n++]=t[i++]}};BufferWriter.prototype.bytes=function e(t){if(minimal$1.isString(t))t=minimal$1._Buffer_from(t,"base64");var r=t.length>>>0;this.uint32(r);if(r)this._push(BufferWriter.writeBytesBuffer,r,t);return this};function writeStringBuffer(e,t,r){if(e.length<40)minimal$1.utf8.write(e,t,r);else if(t.utf8Write)t.utf8Write(e,r);else t.write(e,r)}BufferWriter.prototype.string=function e(t){var r=minimal$1.Buffer.byteLength(t);this.uint32(r);if(r)this._push(writeStringBuffer,r,t);return this};BufferWriter._configure();var reader=Reader$1;var BufferReader$1;var LongBits=minimal$1.LongBits,utf8=minimal$1.utf8;function indexOutOfRange(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Reader$1(e){this.buf=e;this.pos=0;this.len=e.length}var create_array=typeof Uint8Array!=="undefined"?function e(t){if(t instanceof Uint8Array||Array.isArray(t))return new Reader$1(t);throw Error("illegal buffer")}:function e(t){if(Array.isArray(t))return new Reader$1(t);throw Error("illegal buffer")};var create$2=function e(){return minimal$1.Buffer?function e(t){return(Reader$1.create=function e(t){return minimal$1.Buffer.isBuffer(t)?new BufferReader$1(t):create_array(t)})(t)}:create_array};Reader$1.create=create$2();Reader$1.prototype._slice=minimal$1.Array.prototype.subarray||minimal$1.Array.prototype.slice;Reader$1.prototype.uint32=function e(){var t=4294967295;return function e(){t=(this.buf[this.pos]&127)>>>0;if(this.buf[this.pos++]<128)return t;t=(t|(this.buf[this.pos]&127)<<7)>>>0;if(this.buf[this.pos++]<128)return t;t=(t|(this.buf[this.pos]&127)<<14)>>>0;if(this.buf[this.pos++]<128)return t;t=(t|(this.buf[this.pos]&127)<<21)>>>0;if(this.buf[this.pos++]<128)return t;t=(t|(this.buf[this.pos]&15)<<28)>>>0;if(this.buf[this.pos++]<128)return t;if((this.pos+=5)>this.len){this.pos=this.len;throw indexOutOfRange(this,10)}return t}}();Reader$1.prototype.int32=function e(){return this.uint32()|0};Reader$1.prototype.sint32=function e(){var t=this.uint32();return t>>>1^-(t&1)|0};function readLongVarint(){var e=new LongBits(0,0);var t=0;if(this.len-this.pos>4){for(;t<4;++t){e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0;if(this.buf[this.pos++]<128)return e}e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0;e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0;if(this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw indexOutOfRange(this);e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0;if(this.buf[this.pos++]<128)return e}e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0;return e}if(this.len-this.pos>4){for(;t<5;++t){e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0;if(this.buf[this.pos++]<128)return e}}else{for(;t<5;++t){if(this.pos>=this.len)throw indexOutOfRange(this);e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0;if(this.buf[this.pos++]<128)return e}}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function e(){return this.uint32()!==0};function readFixed32_end(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}Reader$1.prototype.fixed32=function e(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function e(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function e(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var t=minimal$1.float.readFloatLE(this.buf,this.pos);this.pos+=4;return t};Reader$1.prototype.double=function e(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var t=minimal$1.float.readDoubleLE(this.buf,this.pos);this.pos+=8;return t};Reader$1.prototype.bytes=function e(){var t=this.uint32(),r=this.pos,n=this.pos+t;if(n>this.len)throw indexOutOfRange(this,t);this.pos+=t;if(Array.isArray(this.buf))return this.buf.slice(r,n);return r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};Reader$1.prototype.string=function e(){var t=this.bytes();return utf8.read(t,0,t.length)};Reader$1.prototype.skip=function e(t){if(typeof t==="number"){if(this.pos+t>this.len)throw indexOutOfRange(this,t);this.pos+=t}else{do{if(this.pos>=this.len)throw indexOutOfRange(this)}while(this.buf[this.pos++]&128)}return this};Reader$1.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:while((e=this.uint32()&7)!==4){this.skipType(e)}break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};Reader$1._configure=function(e){BufferReader$1=e;Reader$1.create=create$2();BufferReader$1._configure();var t=minimal$1.Long?"toLong":"toNumber";minimal$1.merge(Reader$1.prototype,{int64:function e(){return readLongVarint.call(this)[t](false)},uint64:function e(){return readLongVarint.call(this)[t](true)},sint64:function e(){return readLongVarint.call(this).zzDecode()[t](false)},fixed64:function e(){return readFixed64.call(this)[t](true)},sfixed64:function e(){return readFixed64.call(this)[t](false)}})};var reader_buffer=BufferReader;(BufferReader.prototype=Object.create(reader.prototype)).constructor=BufferReader;function BufferReader(e){reader.call(this,e)}BufferReader._configure=function(){if(minimal$1.Buffer)BufferReader.prototype._slice=minimal$1.Buffer.prototype.slice};BufferReader.prototype.string=function e(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};BufferReader._configure();var service=Service;(Service.prototype=Object.create(minimal$1.EventEmitter.prototype)).constructor=Service;function Service(e,t,r){if(typeof e!=="function")throw TypeError("rpcImpl must be a function");minimal$1.EventEmitter.call(this);this.rpcImpl=e;this.requestDelimited=Boolean(t);this.responseDelimited=Boolean(r)}Service.prototype.rpcCall=function e(t,r,n,i,s){if(!i)throw TypeError("request must be specified");var f=this;if(!s)return minimal$1.asPromise(e,f,t,r,n,i);if(!f.rpcImpl){setTimeout((function(){s(Error("already ended"))}),0);return undefined}try{return f.rpcImpl(t,r[f.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function e(r,i){if(r){f.emit("error",r,t);return s(r)}if(i===null){f.end(true);return undefined}if(!(i instanceof n)){try{i=n[f.responseDelimited?"decodeDelimited":"decode"](i)}catch(r){f.emit("error",r,t);return s(r)}}f.emit("data",i,t);return s(null,i)}))}catch(e){f.emit("error",e,t);setTimeout((function(){s(e)}),0);return undefined}};Service.prototype.end=function e(t){if(this.rpcImpl){if(!t)this.rpcImpl(null,null,null);this.rpcImpl=null;this.emit("end").off()}return this};var rpc_1=createCommonjsModule$2((function(e,t){var r=t;r.Service=service}));var roots={};var indexMinimal=createCommonjsModule$2((function(e,t){var r=t;r.build="minimal";r.Writer=writer;r.BufferWriter=writer_buffer;r.Reader=reader;r.BufferReader=reader_buffer;r.util=minimal$1;r.rpc=rpc_1;r.roots=roots;r.configure=n;function n(){r.util._configure();r.Writer._configure(r.BufferWriter);r.Reader._configure(r.BufferReader)}n()}));var minimal=indexMinimal;var $Reader$1=minimal.Reader,$Writer$1=minimal.Writer,$util$1=minimal.util;var $root$1=minimal.roots["ipfs-unixfs"]||(minimal.roots["ipfs-unixfs"]={});$root$1.Data=function(){function e(e){this.blocksizes=[];if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)if(e[t[r]]!=null)this[t[r]]=e[t[r]]}e.prototype.Type=0;e.prototype.Data=$util$1.newBuffer([]);e.prototype.filesize=$util$1.Long?$util$1.Long.fromBits(0,0,true):0;e.prototype.blocksizes=$util$1.emptyArray;e.prototype.hashType=$util$1.Long?$util$1.Long.fromBits(0,0,true):0;e.prototype.fanout=$util$1.Long?$util$1.Long.fromBits(0,0,true):0;e.prototype.mode=0;e.prototype.mtime=null;e.encode=function e(t,r){if(!r)r=$Writer$1.create();r.uint32(8).int32(t.Type);if(t.Data!=null&&Object.hasOwnProperty.call(t,"Data"))r.uint32(18).bytes(t.Data);if(t.filesize!=null&&Object.hasOwnProperty.call(t,"filesize"))r.uint32(24).uint64(t.filesize);if(t.blocksizes!=null&&t.blocksizes.length){for(var n=0;n<t.blocksizes.length;++n)r.uint32(32).uint64(t.blocksizes[n])}if(t.hashType!=null&&Object.hasOwnProperty.call(t,"hashType"))r.uint32(40).uint64(t.hashType);if(t.fanout!=null&&Object.hasOwnProperty.call(t,"fanout"))r.uint32(48).uint64(t.fanout);if(t.mode!=null&&Object.hasOwnProperty.call(t,"mode"))r.uint32(56).uint32(t.mode);if(t.mtime!=null&&Object.hasOwnProperty.call(t,"mtime"))$root$1.UnixTime.encode(t.mtime,r.uint32(66).fork()).ldelim();return r};e.decode=function e(t,r){if(!(t instanceof $Reader$1))t=$Reader$1.create(t);var n=r===undefined?t.len:t.pos+r,i=new $root$1.Data;while(t.pos<n){var s=t.uint32();switch(s>>>3){case 1:i.Type=t.int32();break;case 2:i.Data=t.bytes();break;case 3:i.filesize=t.uint64();break;case 4:if(!(i.blocksizes&&i.blocksizes.length))i.blocksizes=[];if((s&7)===2){var f=t.uint32()+t.pos;while(t.pos<f)i.blocksizes.push(t.uint64())}else i.blocksizes.push(t.uint64());break;case 5:i.hashType=t.uint64();break;case 6:i.fanout=t.uint64();break;case 7:i.mode=t.uint32();break;case 8:i.mtime=$root$1.UnixTime.decode(t,t.uint32());break;default:t.skipType(s&7);break}}if(!i.hasOwnProperty("Type"))throw $util$1.ProtocolError("missing required 'Type'",{instance:i});return i};e.fromObject=function e(t){if(t instanceof $root$1.Data)return t;var r=new $root$1.Data;switch(t.Type){case"Raw":case 0:r.Type=0;break;case"Directory":case 1:r.Type=1;break;case"File":case 2:r.Type=2;break;case"Metadata":case 3:r.Type=3;break;case"Symlink":case 4:r.Type=4;break;case"HAMTShard":case 5:r.Type=5;break}if(t.Data!=null){if(typeof t.Data==="string")$util$1.base64.decode(t.Data,r.Data=$util$1.newBuffer($util$1.base64.length(t.Data)),0);else if(t.Data.length)r.Data=t.Data}if(t.filesize!=null){if($util$1.Long)(r.filesize=$util$1.Long.fromValue(t.filesize)).unsigned=true;else if(typeof t.filesize==="string")r.filesize=parseInt(t.filesize,10);else if(typeof t.filesize==="number")r.filesize=t.filesize;else if(typeof t.filesize==="object")r.filesize=new $util$1.LongBits(t.filesize.low>>>0,t.filesize.high>>>0).toNumber(true)}if(t.blocksizes){if(!Array.isArray(t.blocksizes))throw TypeError(".Data.blocksizes: array expected");r.blocksizes=[];for(var n=0;n<t.blocksizes.length;++n){if($util$1.Long)(r.blocksizes[n]=$util$1.Long.fromValue(t.blocksizes[n])).unsigned=true;else if(typeof t.blocksizes[n]==="string")r.blocksizes[n]=parseInt(t.blocksizes[n],10);else if(typeof t.blocksizes[n]==="number")r.blocksizes[n]=t.blocksizes[n];else if(typeof t.blocksizes[n]==="object")r.blocksizes[n]=new $util$1.LongBits(t.blocksizes[n].low>>>0,t.blocksizes[n].high>>>0).toNumber(true)}}if(t.hashType!=null){if($util$1.Long)(r.hashType=$util$1.Long.fromValue(t.hashType)).unsigned=true;else if(typeof t.hashType==="string")r.hashType=parseInt(t.hashType,10);else if(typeof t.hashType==="number")r.hashType=t.hashType;else if(typeof t.hashType==="object")r.hashType=new $util$1.LongBits(t.hashType.low>>>0,t.hashType.high>>>0).toNumber(true)}if(t.fanout!=null){if($util$1.Long)(r.fanout=$util$1.Long.fromValue(t.fanout)).unsigned=true;else if(typeof t.fanout==="string")r.fanout=parseInt(t.fanout,10);else if(typeof t.fanout==="number")r.fanout=t.fanout;else if(typeof t.fanout==="object")r.fanout=new $util$1.LongBits(t.fanout.low>>>0,t.fanout.high>>>0).toNumber(true)}if(t.mode!=null){r.mode=t.mode>>>0}if(t.mtime!=null){if(typeof t.mtime!=="object")throw TypeError(".Data.mtime: object expected");r.mtime=$root$1.UnixTime.fromObject(t.mtime)}return r};e.toObject=function e(t,r){if(!r)r={};var n={};if(r.arrays||r.defaults){n.blocksizes=[]}if(r.defaults){n.Type=r.enums===String?"Raw":0;if(r.bytes===String)n.Data="";else{n.Data=[];if(r.bytes!==Array)n.Data=$util$1.newBuffer(n.Data)}if($util$1.Long){var i=new $util$1.Long(0,0,true);n.filesize=r.longs===String?i.toString():r.longs===Number?i.toNumber():i}else n.filesize=r.longs===String?"0":0;if($util$1.Long){var i=new $util$1.Long(0,0,true);n.hashType=r.longs===String?i.toString():r.longs===Number?i.toNumber():i}else n.hashType=r.longs===String?"0":0;if($util$1.Long){var i=new $util$1.Long(0,0,true);n.fanout=r.longs===String?i.toString():r.longs===Number?i.toNumber():i}else n.fanout=r.longs===String?"0":0;n.mode=0;n.mtime=null}if(t.Type!=null&&t.hasOwnProperty("Type")){n.Type=r.enums===String?$root$1.Data.DataType[t.Type]:t.Type}if(t.Data!=null&&t.hasOwnProperty("Data")){n.Data=r.bytes===String?$util$1.base64.encode(t.Data,0,t.Data.length):r.bytes===Array?Array.prototype.slice.call(t.Data):t.Data}if(t.filesize!=null&&t.hasOwnProperty("filesize")){if(typeof t.filesize==="number")n.filesize=r.longs===String?String(t.filesize):t.filesize;else n.filesize=r.longs===String?$util$1.Long.prototype.toString.call(t.filesize):r.longs===Number?new $util$1.LongBits(t.filesize.low>>>0,t.filesize.high>>>0).toNumber(true):t.filesize}if(t.blocksizes&&t.blocksizes.length){n.blocksizes=[];for(var s=0;s<t.blocksizes.length;++s){if(typeof t.blocksizes[s]==="number")n.blocksizes[s]=r.longs===String?String(t.blocksizes[s]):t.blocksizes[s];else n.blocksizes[s]=r.longs===String?$util$1.Long.prototype.toString.call(t.blocksizes[s]):r.longs===Number?new $util$1.LongBits(t.blocksizes[s].low>>>0,t.blocksizes[s].high>>>0).toNumber(true):t.blocksizes[s]}}if(t.hashType!=null&&t.hasOwnProperty("hashType")){if(typeof t.hashType==="number")n.hashType=r.longs===String?String(t.hashType):t.hashType;else n.hashType=r.longs===String?$util$1.Long.prototype.toString.call(t.hashType):r.longs===Number?new $util$1.LongBits(t.hashType.low>>>0,t.hashType.high>>>0).toNumber(true):t.hashType}if(t.fanout!=null&&t.hasOwnProperty("fanout")){if(typeof t.fanout==="number")n.fanout=r.longs===String?String(t.fanout):t.fanout;else n.fanout=r.longs===String?$util$1.Long.prototype.toString.call(t.fanout):r.longs===Number?new $util$1.LongBits(t.fanout.low>>>0,t.fanout.high>>>0).toNumber(true):t.fanout}if(t.mode!=null&&t.hasOwnProperty("mode")){n.mode=t.mode}if(t.mtime!=null&&t.hasOwnProperty("mtime")){n.mtime=$root$1.UnixTime.toObject(t.mtime,r)}return n};e.prototype.toJSON=function e(){return this.constructor.toObject(this,minimal.util.toJSONOptions)};e.DataType=function(){var e={},t=Object.create(e);t[e[0]="Raw"]=0;t[e[1]="Directory"]=1;t[e[2]="File"]=2;t[e[3]="Metadata"]=3;t[e[4]="Symlink"]=4;t[e[5]="HAMTShard"]=5;return t}();return e}();$root$1.UnixTime=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)if(e[t[r]]!=null)this[t[r]]=e[t[r]]}e.prototype.Seconds=$util$1.Long?$util$1.Long.fromBits(0,0,false):0;e.prototype.FractionalNanoseconds=0;e.encode=function e(t,r){if(!r)r=$Writer$1.create();r.uint32(8).int64(t.Seconds);if(t.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(t,"FractionalNanoseconds"))r.uint32(21).fixed32(t.FractionalNanoseconds);return r};e.decode=function e(t,r){if(!(t instanceof $Reader$1))t=$Reader$1.create(t);var n=r===undefined?t.len:t.pos+r,i=new $root$1.UnixTime;while(t.pos<n){var s=t.uint32();switch(s>>>3){case 1:i.Seconds=t.int64();break;case 2:i.FractionalNanoseconds=t.fixed32();break;default:t.skipType(s&7);break}}if(!i.hasOwnProperty("Seconds"))throw $util$1.ProtocolError("missing required 'Seconds'",{instance:i});return i};e.fromObject=function e(t){if(t instanceof $root$1.UnixTime)return t;var r=new $root$1.UnixTime;if(t.Seconds!=null){if($util$1.Long)(r.Seconds=$util$1.Long.fromValue(t.Seconds)).unsigned=false;else if(typeof t.Seconds==="string")r.Seconds=parseInt(t.Seconds,10);else if(typeof t.Seconds==="number")r.Seconds=t.Seconds;else if(typeof t.Seconds==="object")r.Seconds=new $util$1.LongBits(t.Seconds.low>>>0,t.Seconds.high>>>0).toNumber()}if(t.FractionalNanoseconds!=null){r.FractionalNanoseconds=t.FractionalNanoseconds>>>0}return r};e.toObject=function e(t,r){if(!r)r={};var n={};if(r.defaults){if($util$1.Long){var i=new $util$1.Long(0,0,false);n.Seconds=r.longs===String?i.toString():r.longs===Number?i.toNumber():i}else n.Seconds=r.longs===String?"0":0;n.FractionalNanoseconds=0}if(t.Seconds!=null&&t.hasOwnProperty("Seconds")){if(typeof t.Seconds==="number")n.Seconds=r.longs===String?String(t.Seconds):t.Seconds;else n.Seconds=r.longs===String?$util$1.Long.prototype.toString.call(t.Seconds):r.longs===Number?new $util$1.LongBits(t.Seconds.low>>>0,t.Seconds.high>>>0).toNumber():t.Seconds}if(t.FractionalNanoseconds!=null&&t.hasOwnProperty("FractionalNanoseconds")){n.FractionalNanoseconds=t.FractionalNanoseconds}return n};e.prototype.toJSON=function e(){return this.constructor.toObject(this,minimal.util.toJSONOptions)};return e}();$root$1.Metadata=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)if(e[t[r]]!=null)this[t[r]]=e[t[r]]}e.prototype.MimeType="";e.encode=function e(t,r){if(!r)r=$Writer$1.create();if(t.MimeType!=null&&Object.hasOwnProperty.call(t,"MimeType"))r.uint32(10).string(t.MimeType);return r};e.decode=function e(t,r){if(!(t instanceof $Reader$1))t=$Reader$1.create(t);var n=r===undefined?t.len:t.pos+r,i=new $root$1.Metadata;while(t.pos<n){var s=t.uint32();switch(s>>>3){case 1:i.MimeType=t.string();break;default:t.skipType(s&7);break}}return i};e.fromObject=function e(t){if(t instanceof $root$1.Metadata)return t;var r=new $root$1.Metadata;if(t.MimeType!=null){r.MimeType=String(t.MimeType)}return r};e.toObject=function e(t,r){if(!r)r={};var n={};if(r.defaults){n.MimeType=""}if(t.MimeType!=null&&t.hasOwnProperty("MimeType")){n.MimeType=t.MimeType}return n};e.prototype.toJSON=function e(){return this.constructor.toObject(this,minimal.util.toJSONOptions)};return e}();var unixfs=$root$1;const{Data:PBData}=unixfs;const types=["raw","directory","file","metadata","symlink","hamt-sharded-directory"];const dirTypes=["directory","hamt-sharded-directory"];const DEFAULT_FILE_MODE=parseInt("0644",8);const DEFAULT_DIRECTORY_MODE=parseInt("0755",8);function parseMode(e){if(e==null){return undefined}if(typeof e==="number"){return e&4095}e=e.toString();if(e.substring(0,1)==="0"){return parseInt(e,8)&4095}return parseInt(e,10)&4095}function parseMtime(e){if(e==null){return undefined}let t;if(e.secs!=null){t={secs:e.secs,nsecs:e.nsecs}}if(e.Seconds!=null){t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}}if(Array.isArray(e)){t={secs:e[0],nsecs:e[1]}}if(e instanceof Date){const r=e.getTime();const n=Math.floor(r/1e3);t={secs:n,nsecs:(r-n*1e3)*1e3}}if(!Object.prototype.hasOwnProperty.call(t,"secs")){return undefined}if(t!=null&&t.nsecs!=null&&(t.nsecs<0||t.nsecs>999999999)){throw errCode(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS")}return t}class Data{static unmarshal(e){const t=PBData.decode(e);const r=PBData.toObject(t,{defaults:false,arrays:true,longs:Number,objects:false});const n=new Data({type:types[r.Type],data:r.Data,blockSizes:r.blocksizes,mode:r.mode,mtime:r.mtime?{secs:r.mtime.Seconds,nsecs:r.mtime.FractionalNanoseconds}:undefined});n._originalMode=r.mode||0;return n}constructor(e={type:"file"}){const{type:t,data:r,blockSizes:n,hashType:i,fanout:s,mtime:f,mode:a}=e;if(t&&!types.includes(t)){throw errCode(new Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE")}this.type=t||"file";this.data=r;this.hashType=i;this.fanout=s;this.blockSizes=n||[];this._originalMode=0;this.mode=parseMode(a);if(f){this.mtime=parseMtime(f);if(this.mtime&&!this.mtime.nsecs){this.mtime.nsecs=0}}}set mode(e){this._mode=this.isDirectory()?DEFAULT_DIRECTORY_MODE:DEFAULT_FILE_MODE;const t=parseMode(e);if(t!==undefined){this._mode=t}}get mode(){return this._mode}isDirectory(){return Boolean(this.type&&dirTypes.includes(this.type))}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory()){return 0}let e=0;this.blockSizes.forEach((t=>{e+=t}));if(this.data){e+=this.data.length}return e}marshal(){let e;switch(this.type){case"raw":e=PBData.DataType.Raw;break;case"directory":e=PBData.DataType.Directory;break;case"file":e=PBData.DataType.File;break;case"metadata":e=PBData.DataType.Metadata;break;case"symlink":e=PBData.DataType.Symlink;break;case"hamt-sharded-directory":e=PBData.DataType.HAMTShard;break;default:throw errCode(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}let t=this.data;if(!this.data||!this.data.length){t=undefined}let r;if(this.mode!=null){r=this._originalMode&4294963200|(parseMode(this.mode)||0);if(r===DEFAULT_FILE_MODE&&!this.isDirectory()){r=undefined}if(r===DEFAULT_DIRECTORY_MODE&&this.isDirectory()){r=undefined}}let n;if(this.mtime!=null){const e=parseMtime(this.mtime);if(e){n={Seconds:e.secs,FractionalNanoseconds:e.nsecs};if(n.FractionalNanoseconds===0){delete n.FractionalNanoseconds}}}const i={Type:e,Data:t,filesize:this.isDirectory()?undefined:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:r,mtime:n};return PBData.encode(i).finish()}}var src$6={UnixFS:Data,parseMode,parseMtime};var encode_1=encode$4;var MSB$1=128,REST$1=127,MSBALL=~REST$1,INT=Math.pow(2,31);function encode$4(e,t,r){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER){encode$4.bytes=0;throw new RangeError("Could not encode varint")}t=t||[];r=r||0;var n=r;while(e>=INT){t[r++]=e&255|MSB$1;e/=128}while(e&MSBALL){t[r++]=e&255|MSB$1;e>>>=7}t[r]=e|0;encode$4.bytes=r-n+1;return t}var decode$3=read$1;var MSB=128,REST=127;function read$1(e,t){var r=0,t=t||0,n=0,i=t,s,f=e.length;do{if(i>=f||n>49){read$1.bytes=0;throw new RangeError("Could not decode varint")}s=e[i++];r+=n<28?(s&REST)<<n:(s&REST)*Math.pow(2,n);n+=7}while(s>=MSB);read$1.bytes=i-t;return r}var N1=Math.pow(2,7);var N2=Math.pow(2,14);var N3=Math.pow(2,21);var N4=Math.pow(2,28);var N5=Math.pow(2,35);var N6=Math.pow(2,42);var N7=Math.pow(2,49);var N8=Math.pow(2,56);var N9=Math.pow(2,63);var length=function(e){return e<N1?1:e<N2?2:e<N3?3:e<N4?4:e<N5?5:e<N6?6:e<N7?7:e<N8?8:e<N9?9:10};var varint={encode:encode_1,decode:decode$3,encodingLength:length};var asUint8array$2=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e){if(globalThis.Buffer!=null){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}return e}t.asUint8Array=r}));var alloc_1$2=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e=0){if(globalThis.Buffer!=null&&globalThis.Buffer.alloc!=null){return asUint8array$2.asUint8Array(globalThis.Buffer.alloc(e))}return new Uint8Array(e)}function n(e=0){if(globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null){return asUint8array$2.asUint8Array(globalThis.Buffer.allocUnsafe(e))}return new Uint8Array(e)}t.alloc=r;t.allocUnsafe=n}));var concat_1$2=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e,t){if(!t){t=e.reduce(((e,t)=>e+t.length),0)}const r=alloc_1$2.allocUnsafe(t);let n=0;for(const t of e){r.set(t,n);n+=t.length}return asUint8array$2.asUint8Array(r)}t.concat=r}));function createCodec$3(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const string$3=createCodec$3("utf8","u",(e=>{const t=new TextDecoder("utf8");return"u"+t.decode(e)}),(e=>{const t=new TextEncoder;return t.encode(e.substring(1))}));const ascii$3=createCodec$3("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++){t+=String.fromCharCode(e[r])}return t}),(e=>{e=e.substring(1);const t=alloc_1$2.allocUnsafe(e.length);for(let r=0;r<e.length;r++){t[r]=e.charCodeAt(r)}return t}));const BASES$3={utf8:string$3,"utf-8":string$3,hex:basics.bases.base16,latin1:ascii$3,ascii:ascii$3,binary:ascii$3,...basics.bases};var bases$3=BASES$3;var toString_1$2=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e,t="utf8"){const r=bases$3[t];if(!r){throw new Error(`Unsupported encoding "${t}"`)}if((t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null){return globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}return r.encoder.encode(e).substring(1)}t.toString=r}));var fromString_1$2=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e,t="utf8"){const r=bases$3[t];if(!r){throw new Error(`Unsupported encoding "${t}"`)}if((t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null){return asUint8array$2.asUint8Array(globalThis.Buffer.from(e,"utf-8"))}return r.decoder.decode(`${r.prefix}${e}`)}t.fromString=r}));const{toString:uint8ArrayToString$1}=toString_1$2;const{fromString:uint8ArrayFromString$1}=fromString_1$2;var util$2={numberToUint8Array,uint8ArrayToNumber,varintUint8ArrayEncode,varintEncode:varintEncode$1};function uint8ArrayToNumber(e){return parseInt(uint8ArrayToString$1(e,"base16"),16)}function numberToUint8Array(e){let t=e.toString(16);if(t.length%2===1){t="0"+t}return uint8ArrayFromString$1(t,"base16")}function varintUint8ArrayEncode(e){return Uint8Array.from(varint.encode(uint8ArrayToNumber(e)))}function varintEncode$1(e){return Uint8Array.from(varint.encode(e))}const baseTable$1=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"eth-receipt-log-trie":153,"eth-reciept-log":154,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,"caip-50":202,streamid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,noise:454,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,"swhid-1-snp":496,json:512,messagepack:513,"libp2p-peer-record":769,"libp2p-relay-rsvp":770,"car-index-sorted":1024,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,"secp256k1-priv":4865,"x25519-priv":4866,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056,"arweave-ns":11704592});var generatedTable={baseTable:baseTable$1};const{baseTable}=generatedTable;const varintEncode=util$2.varintEncode;const nameToVarint$1={};const constantToCode$1={};const codeToName$1={};for(const e in baseTable){const t=e;const r=baseTable[t];nameToVarint$1[t]=varintEncode(r);const n=t.toUpperCase().replace(/-/g,"_");constantToCode$1[n]=r;if(!codeToName$1[r]){codeToName$1[r]=t}}Object.freeze(nameToVarint$1);Object.freeze(constantToCode$1);Object.freeze(codeToName$1);const nameToCode$1=Object.freeze(baseTable);var maps={nameToVarint:nameToVarint$1,constantToCode:constantToCode$1,nameToCode:nameToCode$1,codeToName:codeToName$1};const{concat:uint8ArrayConcat$2}=concat_1$2;const{nameToVarint,constantToCode,nameToCode,codeToName}=maps;function addPrefix(e,t){let r;if(e instanceof Uint8Array){r=util$2.varintUint8ArrayEncode(e)}else{if(nameToVarint[e]){r=nameToVarint[e]}else{throw new Error("multicodec not recognized")}}return uint8ArrayConcat$2([r,t],r.length+t.length)}function rmPrefix(e){varint.decode(e);return e.slice(varint.decode.bytes)}function getNameFromData(e){const t=varint.decode(e);const r=codeToName[t];if(r===undefined){throw new Error(`Code "${t}" not found`)}return r}function getNameFromCode(e){return codeToName[e]}function getCodeFromName(e){const t=nameToCode[e];if(t===undefined){throw new Error(`Codec "${e}" not found`)}return t}function getCodeFromData(e){return varint.decode(e)}function getVarintFromName(e){const t=nameToVarint[e];if(t===undefined){throw new Error(`Codec "${e}" not found`)}return t}function getVarintFromCode(e){return util$2.varintEncode(e)}function getCodec(e){return getNameFromData(e)}function getName(e){return getNameFromCode(e)}function getNumber(e){return getCodeFromName(e)}function getCode(e){return getCodeFromData(e)}function getCodeVarint(e){return getVarintFromName(e)}function getVarint(e){return Array.from(getVarintFromCode(e))}var src$5={addPrefix,rmPrefix,getNameFromData,getNameFromCode,getCodeFromName,getCodeFromData,getVarintFromName,getVarintFromCode,getCodec,getName,getNumber,getCode,getCodeVarint,getVarint,...constantToCode,nameToVarint,nameToCode,codeToName};const CIDUtil={checkCIDComponents:function(e){if(e==null){return"null values are not valid CIDs"}if(!(e.version===0||e.version===1)){return"Invalid version, must be a number equal to 1 or 0"}if(typeof e.codec!=="string"){return"codec must be string"}if(e.version===0){if(e.codec!=="dag-pb"){return"codec must be 'dag-pb' for CIDv0"}if(e.multibaseName!=="base58btc"){return"multibaseName must be 'base58btc' for CIDv0"}}if(!(e.multihash instanceof Uint8Array)){return"multihash must be a Uint8Array"}try{src$8.validate(e.multihash)}catch(e){let t=e.message;if(!t){t="Multihash validation failed"}return t}}};var cidUtil=CIDUtil;var asUint8array$1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e){if(globalThis.Buffer!=null){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}return e}t.asUint8Array=r}));var alloc_1$1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e=0){if(globalThis.Buffer!=null&&globalThis.Buffer.alloc!=null){return asUint8array$1.asUint8Array(globalThis.Buffer.alloc(e))}return new Uint8Array(e)}function n(e=0){if(globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null){return asUint8array$1.asUint8Array(globalThis.Buffer.allocUnsafe(e))}return new Uint8Array(e)}t.alloc=r;t.allocUnsafe=n}));var concat_1$1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e,t){if(!t){t=e.reduce(((e,t)=>e+t.length),0)}const r=alloc_1$1.allocUnsafe(t);let n=0;for(const t of e){r.set(t,n);n+=t.length}return asUint8array$1.asUint8Array(r)}t.concat=r}));function createCodec$2(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const string$2=createCodec$2("utf8","u",(e=>{const t=new TextDecoder("utf8");return"u"+t.decode(e)}),(e=>{const t=new TextEncoder;return t.encode(e.substring(1))}));const ascii$2=createCodec$2("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++){t+=String.fromCharCode(e[r])}return t}),(e=>{e=e.substring(1);const t=alloc_1$1.allocUnsafe(e.length);for(let r=0;r<e.length;r++){t[r]=e.charCodeAt(r)}return t}));const BASES$2={utf8:string$2,"utf-8":string$2,hex:basics.bases.base16,latin1:ascii$2,ascii:ascii$2,binary:ascii$2,...basics.bases};var bases$2=BASES$2;var toString_1$1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e,t="utf8"){const r=bases$2[t];if(!r){throw new Error(`Unsupported encoding "${t}"`)}if((t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null){return globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}return r.encoder.encode(e).substring(1)}t.toString=r}));var equals_1$1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e,t){if(e===t){return true}if(e.byteLength!==t.byteLength){return false}for(let r=0;r<e.byteLength;r++){if(e[r]!==t[r]){return false}}return true}t.equals=r}));const{concat:uint8ArrayConcat$1}=concat_1$1;const{toString:uint8ArrayToString}=toString_1$1;const{equals:uint8ArrayEquals}=equals_1$1;const codecs=src$5.nameToCode;const codecInts=Object.keys(codecs).reduce(((e,t)=>{e[codecs[t]]=t;return e}),{});const symbol$1=Symbol.for("@ipld/js-cid/CID");class CID{constructor(e,t,r,n){Object.defineProperty(this,symbol$1,{value:true});if(CID.isCID(e)){const t=e;this.version=t.version;this.codec=t.codec;this.multihash=t.multihash;this.multibaseName=t.multibaseName||(t.version===0?"base58btc":"base32");return}if(typeof e==="string"){const t=src$b.isEncoded(e);if(t){const r=src$b.decode(e);this.version=parseInt(r[0].toString(),16);this.codec=src$5.getCodec(r.slice(1));this.multihash=src$5.rmPrefix(r.slice(1));this.multibaseName=t}else{this.version=0;this.codec="dag-pb";this.multihash=src$8.fromB58String(e);this.multibaseName="base58btc"}CID.validateCID(this);Object.defineProperty(this,"string",{value:e});return}if(e instanceof Uint8Array){const t=parseInt(e[0].toString(),16);if(t===1){const r=e;this.version=t;this.codec=src$5.getCodec(r.slice(1));this.multihash=src$5.rmPrefix(r.slice(1));this.multibaseName="base32"}else{this.version=0;this.codec="dag-pb";this.multihash=e;this.multibaseName="base58btc"}CID.validateCID(this);return}this.version=e;if(typeof t==="number"){t=codecInts[t]}this.codec=t;this.multihash=r;this.multibaseName=n||(e===0?"base58btc":"base32");CID.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(this.version===0){e=this.multihash}else if(this.version===1){const t=src$5.getCodeVarint(this.codec);e=uint8ArrayConcat$1([[1],t,this.multihash],1+t.byteLength+this.multihash.byteLength)}else{throw new Error("unsupported version")}Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){const e=src$5.getCodeVarint(this.codec);const t=src$8.prefix(this.multihash);const r=uint8ArrayConcat$1([[this.version],e,t],1+e.byteLength+t.byteLength);return r}get code(){return codecs[this.codec]}toV0(){if(this.codec!=="dag-pb"){throw new Error("Cannot convert a non dag-pb CID to CIDv0")}const{name:e,length:t}=src$8.decode(this.multihash);if(e!=="sha2-256"){throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0")}if(t!==32){throw new Error("Cannot convert non 32 byte multihash CID to CIDv0")}return new CID(0,this.codec,this.multihash)}toV1(){return new CID(1,this.codec,this.multihash,this.multibaseName)}toBaseEncodedString(e=this.multibaseName){if(this.string&&this.string.length!==0&&e===this.multibaseName){return this.string}let t;if(this.version===0){if(e!=="base58btc"){throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()")}t=src$8.toB58String(this.multihash)}else if(this.version===1){t=uint8ArrayToString(src$b.encode(e,this.bytes))}else{throw new Error("unsupported version")}if(e===this.multibaseName){Object.defineProperty(this,"string",{value:t})}return t}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&uint8ArrayEquals(this.multihash,e.multihash)}static validateCID(e){const t=cidUtil.checkCIDComponents(e);if(t){throw new Error(t)}}static isCID(e){return e instanceof CID||Boolean(e&&e[symbol$1])}}CID.codecs=codecs;var src$4=CID;const persist=async(e,t,r)=>{if(!r.codec){r.codec="dag-pb"}if(!r.cidVersion){r.cidVersion=0}if(!r.hashAlg){r.hashAlg="sha2-256"}if(r.hashAlg!=="sha2-256"){r.cidVersion=1}const n=await src$7(e,r.hashAlg);const i=new src$4(r.cidVersion,r.codec,n);if(!r.onlyHash){await t.put(e,{pin:r.pin,preload:r.preload,timeout:r.timeout,cid:i})}return i};var persist_1=persist;var $Reader=minimal.Reader,$Writer=minimal.Writer,$util=minimal.util;var $root=minimal.roots["default"]||(minimal.roots["default"]={});$root.PBLink=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)if(e[t[r]]!=null)this[t[r]]=e[t[r]]}e.prototype.Hash=$util.newBuffer([]);e.prototype.Name="";e.prototype.Tsize=$util.Long?$util.Long.fromBits(0,0,true):0;e.encode=function e(t,r){if(!r)r=$Writer.create();if(t.Hash!=null&&Object.hasOwnProperty.call(t,"Hash"))r.uint32(10).bytes(t.Hash);if(t.Name!=null&&Object.hasOwnProperty.call(t,"Name"))r.uint32(18).string(t.Name);if(t.Tsize!=null&&Object.hasOwnProperty.call(t,"Tsize"))r.uint32(24).uint64(t.Tsize);return r};e.decode=function e(t,r){if(!(t instanceof $Reader))t=$Reader.create(t);var n=r===undefined?t.len:t.pos+r,i=new $root.PBLink;while(t.pos<n){var s=t.uint32();switch(s>>>3){case 1:i.Hash=t.bytes();break;case 2:i.Name=t.string();break;case 3:i.Tsize=t.uint64();break;default:t.skipType(s&7);break}}return i};e.fromObject=function e(t){if(t instanceof $root.PBLink)return t;var r=new $root.PBLink;if(t.Hash!=null){if(typeof t.Hash==="string")$util.base64.decode(t.Hash,r.Hash=$util.newBuffer($util.base64.length(t.Hash)),0);else if(t.Hash.length)r.Hash=t.Hash}if(t.Name!=null){r.Name=String(t.Name)}if(t.Tsize!=null){if($util.Long)(r.Tsize=$util.Long.fromValue(t.Tsize)).unsigned=true;else if(typeof t.Tsize==="string")r.Tsize=parseInt(t.Tsize,10);else if(typeof t.Tsize==="number")r.Tsize=t.Tsize;else if(typeof t.Tsize==="object")r.Tsize=new $util.LongBits(t.Tsize.low>>>0,t.Tsize.high>>>0).toNumber(true)}return r};e.toObject=function e(t,r){if(!r)r={};var n={};if(r.defaults){if(r.bytes===String)n.Hash="";else{n.Hash=[];if(r.bytes!==Array)n.Hash=$util.newBuffer(n.Hash)}n.Name="";if($util.Long){var i=new $util.Long(0,0,true);n.Tsize=r.longs===String?i.toString():r.longs===Number?i.toNumber():i}else n.Tsize=r.longs===String?"0":0}if(t.Hash!=null&&t.hasOwnProperty("Hash")){n.Hash=r.bytes===String?$util.base64.encode(t.Hash,0,t.Hash.length):r.bytes===Array?Array.prototype.slice.call(t.Hash):t.Hash}if(t.Name!=null&&t.hasOwnProperty("Name")){n.Name=t.Name}if(t.Tsize!=null&&t.hasOwnProperty("Tsize")){if(typeof t.Tsize==="number")n.Tsize=r.longs===String?String(t.Tsize):t.Tsize;else n.Tsize=r.longs===String?$util.Long.prototype.toString.call(t.Tsize):r.longs===Number?new $util.LongBits(t.Tsize.low>>>0,t.Tsize.high>>>0).toNumber(true):t.Tsize}return n};e.prototype.toJSON=function e(){return this.constructor.toObject(this,minimal.util.toJSONOptions)};return e}();$root.PBNode=function(){function e(e){this.Links=[];if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)if(e[t[r]]!=null)this[t[r]]=e[t[r]]}e.prototype.Links=$util.emptyArray;e.prototype.Data=$util.newBuffer([]);e.encode=function e(t,r){if(!r)r=$Writer.create();if(t.Data!=null&&Object.hasOwnProperty.call(t,"Data"))r.uint32(10).bytes(t.Data);if(t.Links!=null&&t.Links.length){for(var n=0;n<t.Links.length;++n)$root.PBLink.encode(t.Links[n],r.uint32(18).fork()).ldelim()}return r};e.decode=function e(t,r){if(!(t instanceof $Reader))t=$Reader.create(t);var n=r===undefined?t.len:t.pos+r,i=new $root.PBNode;while(t.pos<n){var s=t.uint32();switch(s>>>3){case 2:if(!(i.Links&&i.Links.length))i.Links=[];i.Links.push($root.PBLink.decode(t,t.uint32()));break;case 1:i.Data=t.bytes();break;default:t.skipType(s&7);break}}return i};e.fromObject=function e(t){if(t instanceof $root.PBNode)return t;var r=new $root.PBNode;if(t.Links){if(!Array.isArray(t.Links))throw TypeError(".PBNode.Links: array expected");r.Links=[];for(var n=0;n<t.Links.length;++n){if(typeof t.Links[n]!=="object")throw TypeError(".PBNode.Links: object expected");r.Links[n]=$root.PBLink.fromObject(t.Links[n])}}if(t.Data!=null){if(typeof t.Data==="string")$util.base64.decode(t.Data,r.Data=$util.newBuffer($util.base64.length(t.Data)),0);else if(t.Data.length)r.Data=t.Data}return r};e.toObject=function e(t,r){if(!r)r={};var n={};if(r.arrays||r.defaults){n.Links=[]}if(r.defaults){if(r.bytes===String)n.Data="";else{n.Data=[];if(r.bytes!==Array)n.Data=$util.newBuffer(n.Data)}}if(t.Data!=null&&t.hasOwnProperty("Data")){n.Data=r.bytes===String?$util.base64.encode(t.Data,0,t.Data.length):r.bytes===Array?Array.prototype.slice.call(t.Data):t.Data}if(t.Links&&t.Links.length){n.Links=[];for(var i=0;i<t.Links.length;++i){n.Links[i]=$root.PBLink.toObject(t.Links[i],r)}}return n};e.prototype.toJSON=function e(){return this.constructor.toObject(this,minimal.util.toJSONOptions)};return e}();var dag=$root;const{bases:bases$1}=basics;function createCodec$1(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const string$1=createCodec$1("utf8","u",(e=>{const t=new TextDecoder("utf8");return"u"+t.decode(e)}),(e=>{const t=new TextEncoder;return t.encode(e.substring(1))}));const ascii$1=createCodec$1("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++){t+=String.fromCharCode(e[r])}return t}),(e=>{e=e.substring(1);const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++){t[r]=e.charCodeAt(r)}return t}));const BASES$1={utf8:string$1,"utf-8":string$1,hex:bases$1.base16,latin1:ascii$1,ascii:ascii$1,binary:ascii$1,...bases$1};var bases_1=BASES$1;function fromString(e,t="utf8"){const r=bases_1[t];if(!r){throw new Error(`Unsupported encoding "${t}"`)}return r.decoder.decode(`${r.prefix}${e}`)}var fromString_1$1=fromString;class DAGLink$3{constructor(e,t,r){if(!r){throw new Error("A link requires a cid to point to")}this.Name=e||"";this.Tsize=t;this.Hash=new src$4(r);Object.defineProperties(this,{_nameBuf:{value:null,writable:true,enumerable:false}})}toString(){return`DAGLink <${this.Hash.toBaseEncodedString()} - name: "${this.Name}", size: ${this.Tsize}>`}toJSON(){if(!this._json){this._json=Object.freeze({name:this.Name,size:this.Tsize,cid:this.Hash.toBaseEncodedString()})}return Object.assign({},this._json)}get nameAsBuffer(){if(this._nameBuf!=null){return this._nameBuf}this._nameBuf=fromString_1$1(this.Name);return this._nameBuf}}var dagLink=DAGLink$3;var stable=createCommonjsModule$2((function(e,t){
//! stable.js 0.1.8, https://github.com/Two-Screen/stable
//! © 2018 Angry Bytes and contributors. MIT licensed.
(function(t,r){e.exports=r()})(commonjsGlobal,(function(){var e=function(e,r){return t(e.slice(),r)};e.inplace=function(e,n){var i=t(e,n);if(i!==e){r(i,null,e.length,e)}return e};function t(e,t){if(typeof t!=="function"){t=function(e,t){return String(e).localeCompare(t)}}var n=e.length;if(n<=1){return e}var i=new Array(n);for(var s=1;s<n;s*=2){r(e,t,s,i);var f=e;e=i;i=f}return e}var r=function(e,t,r,n){var i=e.length;var s=0;var f=r*2;var a,o,c;var u,l;for(a=0;a<i;a+=f){o=a+r;c=o+r;if(o>i)o=i;if(c>i)c=i;u=a;l=o;while(true){if(u<o&&l<c){if(t(e[u],e[l])<=0){n[s++]=e[u++]}else{n[s++]=e[l++]}}else if(u<o){n[s++]=e[u++]}else if(l<c){n[s++]=e[l++]}else{break}}}};return e}))}));function compare(e,t){for(let r=0;r<e.byteLength;r++){if(e[r]<t[r]){return-1}if(e[r]>t[r]){return 1}}if(e.byteLength>t.byteLength){return 1}if(e.byteLength<t.byteLength){return-1}return 0}var compare_1=compare;const linkSort=(e,t)=>{const r=e.nameAsBuffer;const n=t.nameAsBuffer;return compare_1(r,n)};const sortLinks=e=>{stable.inplace(e,linkSort)};var sortLinks_1=sortLinks;function createDagLinkFromB58EncodedHash$2(e){return new dagLink(e.Name||e.name||"",e.Tsize||e.Size||e.size||0,e.Hash||e.hash||e.multihash||e.cid)}var util$1={createDagLinkFromB58EncodedHash:createDagLinkFromB58EncodedHash$2};const{PBLink}=dag;const{createDagLinkFromB58EncodedHash:createDagLinkFromB58EncodedHash$1}=util$1;const toProtoBuf=e=>{const t={};if(e.Data&&e.Data.byteLength>0){t.Data=e.Data}else{t.Data=null}if(e.Links&&e.Links.length>0){t.Links=e.Links.map((e=>({Hash:e.Hash.bytes,Name:e.Name,Tsize:e.Tsize})))}else{t.Links=null}return t};const serializeDAGNode$2=e=>encode$3(toProtoBuf(e));const serializeDAGNodeLike$1=(e,t=[])=>{const r={Data:e,Links:t.map((e=>createDagLinkFromB58EncodedHash$1(e)))};return encode$3(toProtoBuf(r))};var serialize$3={serializeDAGNode:serializeDAGNode$2,serializeDAGNodeLike:serializeDAGNodeLike$1};function encode$3(e){const t=minimal.Writer.create();if(e.Links!=null){for(let r=0;r<e.Links.length;r++){PBLink.encode(e.Links[r],t.uint32(18).fork()).ldelim()}}if(e.Data!=null){t.uint32(10).bytes(e.Data)}return t.finish()}const{multihash}=src$7;const codec=src$5.DAG_PB;const defaultHashAlg=multihash.names["sha2-256"];const cid$1=async(e,t={})=>{const r={cidVersion:t.cidVersion==null?1:t.cidVersion,hashAlg:t.hashAlg==null?defaultHashAlg:t.hashAlg};const n=multihash.codes[r.hashAlg];const i=await src$7(e,n);const s=src$5.getNameFromCode(codec);const f=new src$4(r.cidVersion,s,i);return f};var genCid={codec,defaultHashAlg,cid:cid$1};const toDAGLink=async(e,t={})=>{const r=e.serialize();const n=await genCid.cid(r,t);return new dagLink(t.name||"",e.size,n)};var toDagLink=toDAGLink;const asDAGLink=e=>{if(e instanceof dagLink){return e}if(!("cid"in e||"hash"in e||"Hash"in e||"multihash"in e)){throw new Error("Link must be a DAGLink or DAGLink-like. Convert the DAGNode into a DAGLink via `node.toDAGLink()`.")}return new dagLink(e.Name||e.name,e.Tsize||e.size,e.Hash||e.multihash||e.hash||e.cid)};const addLink=(e,t)=>{const r=asDAGLink(t);e.Links.push(r);sortLinks_1(e.Links)};var addLink_1=addLink;function equals(e,t){if(e===t){return true}if(e.byteLength!==t.byteLength){return false}for(let r=0;r<e.byteLength;r++){if(e[r]!==t[r]){return false}}return true}var equals_1=equals;const rmLink=(e,t)=>{let r=null;if(typeof t==="string"){r=e=>e.Name===t}else if(t instanceof Uint8Array){r=e=>equals_1(e.Hash.bytes,t)}else if(src$4.isCID(t)){r=e=>equals_1(e.Hash.bytes,t.bytes)}if(r){const t=e.Links;let n=0;while(n<t.length){const e=t[n];if(r(e)){t.splice(n,1)}else{n++}}}else{throw new Error("second arg needs to be a name or CID")}};var rmLink_1=rmLink;function toString$3(e,t="utf8"){const r=bases_1[t];if(!r){throw new Error(`Unsupported encoding "${t}"`)}return r.encoder.encode(e).substring(1)}var toString_1=toString$3;const{createDagLinkFromB58EncodedHash}=util$1;const{serializeDAGNode:serializeDAGNode$1}=serialize$3;class DAGNode$5{constructor(e,t=[],r=null){if(!e){e=new Uint8Array(0)}if(typeof e==="string"){e=fromString_1$1(e)}if(!(e instanceof Uint8Array)){throw new Error("Passed 'data' is not a Uint8Array or a String!")}if(r!==null&&typeof r!=="number"){throw new Error("Passed 'serializedSize' must be a number!")}const n=t.map((e=>e instanceof dagLink?e:createDagLinkFromB58EncodedHash(e)));sortLinks_1(n);this.Data=e;this.Links=n;Object.defineProperties(this,{_serializedSize:{value:r,writable:true,enumerable:false},_size:{value:null,writable:true,enumerable:false}})}toJSON(){if(!this._json){this._json=Object.freeze({data:this.Data,links:this.Links.map((e=>e.toJSON())),size:this.size})}return Object.assign({},this._json)}toString(){return`DAGNode <data: "${toString_1(this.Data,"base64urlpad")}", links: ${this.Links.length}, size: ${this.size}>`}_invalidateCached(){this._serializedSize=null;this._size=null}addLink(e){this._invalidateCached();return addLink_1(this,e)}rmLink(e){this._invalidateCached();return rmLink_1(this,e)}toDAGLink(e){return toDagLink(this,e)}serialize(){const e=serializeDAGNode$1(this);this._serializedSize=e.length;return e}get size(){if(this._size==null){let e;if(e==null){this._serializedSize=this.serialize().length;e=this._serializedSize}this._size=this.Links.reduce(((e,t)=>e+t.Tsize),e)}return this._size}set size(e){throw new Error("Can't set property: 'size' is immutable")}}var dagNode=DAGNode$5;const{PBNode}=dag;const{serializeDAGNode,serializeDAGNodeLike}=serialize$3;const cid=(e,t)=>genCid.cid(e,t);const serialize$2=e=>{if(e instanceof dagNode){return serializeDAGNode(e)}else{return serializeDAGNodeLike(e.Data,e.Links)}};const deserialize=e=>{const t=PBNode.decode(e);const r=PBNode.toObject(t,{defaults:false,arrays:true,longs:Number,objects:false});const n=r.Links.map((e=>new dagLink(e.Name,e.Tsize,e.Hash)));const i=r.Data==null?new Uint8Array(0):r.Data;return new dagNode(i,n,e.byteLength)};var util={codec:genCid.codec,defaultHashAlg:genCid.defaultHashAlg,serialize:serialize$2,deserialize,cid};var resolve=(e,t="/")=>{let r=util.deserialize(e);const n=t.split("/").filter(Boolean);while(n.length){const e=n.shift();if(r[e]===undefined){for(const t of r.Links){if(t.Name===e){return{value:t.Hash,remainderPath:n.join("/")}}}throw new Error(`Object has no property '${e}'`)}r=r[e];if(src$4.isCID(r)){return{value:r,remainderPath:n.join("/")}}}return{value:r,remainderPath:""}};var tree=function*(e){const t=util.deserialize(e);yield"Data";yield"Links";for(let e=0;e<t.Links.length;e++){yield`Links/${e}`;yield`Links/${e}/Name`;yield`Links/${e}/Tsize`;yield`Links/${e}/Hash`}};var resolver$1={resolve,tree};const format={DAGNode:dagNode,DAGLink:dagLink,resolver:resolver$1,util,codec:util.codec,defaultHashAlg:util.defaultHashAlg};var src$3=format;const{UnixFS:UnixFS$4}=src$6;const{DAGNode:DAGNode$4}=src$3;const dirBuilder=async(e,t,r)=>{const n=new UnixFS$4({type:"directory",mtime:e.mtime,mode:e.mode});const i=new DAGNode$4(n.marshal()).serialize();const s=await persist_1(i,t,r);const f=e.path;return{cid:s,path:f,unixfs:n,size:i.length}};var dir$1=dirBuilder;const all=async e=>{const t=[];for await(const r of e){t.push(r)}return t};var itAll=all;var flat$1=async function(e,t){return t(await itAll(e))};function balanced(e,t,r){return reduceToParents(e,t,r)}async function reduceToParents(e,t,r){const n=[];for await(const i of itBatch(e,r.maxChildrenPerNode)){n.push(await t(i))}if(n.length>1){return reduceToParents(n,t,r)}return n[0]}var balanced_1=balanced;var trickle=async function e(t,r,n){const i=new Root(n.layerRepeat);let s=0;let f=1;let a=i;for await(const e of itBatch(t,n.maxChildrenPerNode)){if(a.isFull()){if(a!==i){i.addChild(await a.reduce(r))}if(s&&s%n.layerRepeat===0){f++}a=new SubTree(f,n.layerRepeat,s);s++}a.append(e)}if(a&&a!==i){i.addChild(await a.reduce(r))}return i.reduce(r)};class SubTree{constructor(e,t,r=0){this.maxDepth=e;this.layerRepeat=t;this.currentDepth=1;this.iteration=r;this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:e,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data){return false}if(this.currentDepth<this.maxDepth&&this.node.maxChildren){this._addNextNodeToParent(this.node);return false}const e=this._findParent(this.node,this.currentDepth);if(e){this._addNextNodeToParent(e);return false}return true}_addNextNodeToParent(e){this.parent=e;const t={children:[],depth:e.depth+1,parent:e,maxDepth:this.maxDepth,maxChildren:Math.floor(e.children.length/this.layerRepeat)*this.layerRepeat};e.children.push(t);this.currentDepth=t.depth;this.node=t}append(e){this.node.data=e}reduce(e){return this._reduce(this.root,e)}async _reduce(e,t){let r=[];if(e.children.length){r=await Promise.all(e.children.filter((e=>e.data)).map((e=>this._reduce(e,t))))}return t((e.data||[]).concat(r))}_findParent(e,t){const r=e.parent;if(!r||r.depth===0){return}if(r.children.length===r.maxChildren||!r.maxChildren){return this._findParent(r,t)}return r}}class Root extends SubTree{constructor(e){super(0,e);this.root.depth=0;this.currentDepth=1}addChild(e){this.root.children.push(e)}reduce(e){return e((this.root.data||[]).concat(this.root.children))}}const{UnixFS:UnixFS$3}=src$6;const{DAGNode:DAGNode$3}=src$3;async function*bufferImporter(e,t,r){for await(let n of e.content){yield async()=>{r.progress(n.length,e.path);let i;const s={codec:"dag-pb",cidVersion:r.cidVersion,hashAlg:r.hashAlg,onlyHash:r.onlyHash};if(r.rawLeaves){s.codec="raw";s.cidVersion=1}else{i=new UnixFS$3({type:r.leafType,data:n,mtime:e.mtime,mode:e.mode});n=new DAGNode$3(i.marshal()).serialize()}return{cid:await persist_1(n,t,s),unixfs:i,size:n.length}}}}var bufferImporter_1=bufferImporter;const{UnixFS:UnixFS$2}=src$6;const{DAGNode:DAGNode$2,DAGLink:DAGLink$2}=src$3;const mh=src$7.multihash;const dagBuilders={flat:flat$1,balanced:balanced_1,trickle};async function*buildFileBatch(e,t,r){let n=-1;let i;let s;if(typeof r.bufferImporter==="function"){s=r.bufferImporter}else{s=bufferImporter_1}for await(const f of itParallelBatch(s(e,t,r),r.blockWriteConcurrency)){n++;if(n===0){i=f;continue}else if(n===1&&i){yield i;i=null}yield f}if(i){i.single=true;yield i}}const reduce=(e,t,r)=>{async function n(n){if(n.length===1&&n[0].single&&r.reduceSingleLeafToSelf){const i=n[0];if(i.cid.codec==="raw"&&(e.mtime!==undefined||e.mode!==undefined)){let{data:n}=await t.get(i.cid,r);i.unixfs=new UnixFS$2({type:"file",mtime:e.mtime,mode:e.mode,data:n});const s=mh.decode(i.cid.multihash);n=new DAGNode$2(i.unixfs.marshal()).serialize();i.cid=await persist_1(n,t,{...r,codec:"dag-pb",hashAlg:s.name,cidVersion:r.cidVersion});i.size=n.length}return{cid:i.cid,path:e.path,unixfs:i.unixfs,size:i.size}}const i=new UnixFS$2({type:"file",mtime:e.mtime,mode:e.mode});const s=n.filter((e=>{if(e.cid.codec==="raw"&&e.size){return true}if(e.unixfs&&!e.unixfs.data&&e.unixfs.fileSize()){return true}return Boolean(e.unixfs&&e.unixfs.data&&e.unixfs.data.length)})).map((e=>{if(e.cid.codec==="raw"){i.addBlockSize(e.size);return new DAGLink$2("",e.size,e.cid)}if(!e.unixfs||!e.unixfs.data){i.addBlockSize(e.unixfs&&e.unixfs.fileSize()||0)}else{i.addBlockSize(e.unixfs.data.length)}return new DAGLink$2("",e.size,e.cid)}));const f=new DAGNode$2(i.marshal(),s);const a=f.serialize();const o=await persist_1(a,t,r);return{cid:o,path:e.path,unixfs:i,size:a.length+f.Links.reduce(((e,t)=>e+t.Tsize),0)}}return n};function fileBuilder(e,t,r){const n=dagBuilders[r.strategy];if(!n){throw errCode(new Error(`Unknown importer build strategy name: ${r.strategy}`),"ERR_BAD_STRATEGY")}return n(buildFileBatch(e,t,r),reduce(e,t,r),r)}var file=fileBuilder;var byteLength_1=byteLength;var toByteArray_1=toByteArray;var fromByteArray_1=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(e){var t=e.length;if(t%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var r=e.indexOf("=");if(r===-1)r=t;var n=r===t?0:4-r%4;return[r,n]}function byteLength(e){var t=getLens(e);var r=t[0];var n=t[1];return(r+n)*3/4-n}function _byteLength(e,t,r){return(t+r)*3/4-r}function toByteArray(e){var t;var r=getLens(e);var n=r[0];var i=r[1];var s=new Arr(_byteLength(e,n,i));var f=0;var a=i>0?n-4:n;var o;for(o=0;o<a;o+=4){t=revLookup[e.charCodeAt(o)]<<18|revLookup[e.charCodeAt(o+1)]<<12|revLookup[e.charCodeAt(o+2)]<<6|revLookup[e.charCodeAt(o+3)];s[f++]=t>>16&255;s[f++]=t>>8&255;s[f++]=t&255}if(i===2){t=revLookup[e.charCodeAt(o)]<<2|revLookup[e.charCodeAt(o+1)]>>4;s[f++]=t&255}if(i===1){t=revLookup[e.charCodeAt(o)]<<10|revLookup[e.charCodeAt(o+1)]<<4|revLookup[e.charCodeAt(o+2)]>>2;s[f++]=t>>8&255;s[f++]=t&255}return s}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[e&63]}function encodeChunk(e,t,r){var n;var i=[];for(var s=t;s<r;s+=3){n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255);i.push(tripletToBase64(n))}return i.join("")}function fromByteArray(e){var t;var r=e.length;var n=r%3;var i=[];var s=16383;for(var f=0,a=r-n;f<a;f+=s){i.push(encodeChunk(e,f,f+s>a?a:f+s))}if(n===1){t=e[r-1];i.push(lookup[t>>2]+lookup[t<<4&63]+"==")}else if(n===2){t=(e[r-2]<<8)+e[r-1];i.push(lookup[t>>10]+lookup[t>>4&63]+lookup[t<<2&63]+"=")}return i.join("")}var base64Js={byteLength:byteLength_1,toByteArray:toByteArray_1,fromByteArray:fromByteArray_1};
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var read=function(e,t,r,n,i){var s,f;var a=i*8-n-1;var o=(1<<a)-1;var c=o>>1;var u=-7;var l=r?i-1:0;var h=r?-1:1;var d=e[t+l];l+=h;s=d&(1<<-u)-1;d>>=-u;u+=a;for(;u>0;s=s*256+e[t+l],l+=h,u-=8){}f=s&(1<<-u)-1;s>>=-u;u+=n;for(;u>0;f=f*256+e[t+l],l+=h,u-=8){}if(s===0){s=1-c}else if(s===o){return f?NaN:(d?-1:1)*Infinity}else{f=f+Math.pow(2,n);s=s-c}return(d?-1:1)*f*Math.pow(2,s-n)};var write=function(e,t,r,n,i,s){var f,a,o;var c=s*8-i-1;var u=(1<<c)-1;var l=u>>1;var h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0;var d=n?0:s-1;var p=n?1:-1;var y=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){a=isNaN(t)?1:0;f=u}else{f=Math.floor(Math.log(t)/Math.LN2);if(t*(o=Math.pow(2,-f))<1){f--;o*=2}if(f+l>=1){t+=h/o}else{t+=h*Math.pow(2,1-l)}if(t*o>=2){f++;o/=2}if(f+l>=u){a=0;f=u}else if(f+l>=1){a=(t*o-1)*Math.pow(2,i);f=f+l}else{a=t*Math.pow(2,l-1)*Math.pow(2,i);f=0}}for(;i>=8;e[r+d]=a&255,d+=p,a/=256,i-=8){}f=f<<i|a;c+=i;for(;c>0;e[r+d]=f&255,d+=p,f/=256,c-=8){}e[r+d-p]|=y*128};var ieee754={read,write};var buffer=createCommonjsModule$2((function(e,t){const r=typeof Symbol==="function"&&typeof Symbol["for"]==="function"?Symbol["for"]("nodejs.util.inspect.custom"):null;t.Buffer=f;t.SlowBuffer=m;t.INSPECT_MAX_BYTES=50;const n=2147483647;t.kMaxLength=n;f.TYPED_ARRAY_SUPPORT=i();if(!f.TYPED_ARRAY_SUPPORT&&typeof console!=="undefined"&&typeof console.error==="function"){console.error("This browser lacks typed array (Uint8Array) support which is required by "+"`buffer` v5.x. Use `buffer` v4.x if you require old browser support.")}function i(){try{const e=new Uint8Array(1);const t={foo:function(){return 42}};Object.setPrototypeOf(t,Uint8Array.prototype);Object.setPrototypeOf(e,t);return e.foo()===42}catch(e){return false}}Object.defineProperty(f.prototype,"parent",{enumerable:true,get:function(){if(!f.isBuffer(this))return undefined;return this.buffer}});Object.defineProperty(f.prototype,"offset",{enumerable:true,get:function(){if(!f.isBuffer(this))return undefined;return this.byteOffset}});function s(e){if(e>n){throw new RangeError('The value "'+e+'" is invalid for option "size"')}const t=new Uint8Array(e);Object.setPrototypeOf(t,f.prototype);return t}function f(e,t,r){if(typeof e==="number"){if(typeof t==="string"){throw new TypeError('The "string" argument must be of type string. Received type number')}return u(e)}return a(e,t,r)}f.poolSize=8192;function a(e,t,r){if(typeof e==="string"){return l(e,t)}if(ArrayBuffer.isView(e)){return d(e)}if(e==null){throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof e)}if(ne(e,ArrayBuffer)||e&&ne(e.buffer,ArrayBuffer)){return p(e,t,r)}if(typeof SharedArrayBuffer!=="undefined"&&(ne(e,SharedArrayBuffer)||e&&ne(e.buffer,SharedArrayBuffer))){return p(e,t,r)}if(typeof e==="number"){throw new TypeError('The "value" argument must not be of type number. Received type number')}const n=e.valueOf&&e.valueOf();if(n!=null&&n!==e){return f.from(n,t,r)}const i=y(e);if(i)return i;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]==="function"){return f.from(e[Symbol.toPrimitive]("string"),t,r)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof e)}f.from=function(e,t,r){return a(e,t,r)};Object.setPrototypeOf(f.prototype,Uint8Array.prototype);Object.setPrototypeOf(f,Uint8Array);function o(e){if(typeof e!=="number"){throw new TypeError('"size" argument must be of type number')}else if(e<0){throw new RangeError('The value "'+e+'" is invalid for option "size"')}}function c(e,t,r){o(e);if(e<=0){return s(e)}if(t!==undefined){return typeof r==="string"?s(e).fill(t,r):s(e).fill(t)}return s(e)}f.alloc=function(e,t,r){return c(e,t,r)};function u(e){o(e);return s(e<0?0:b(e)|0)}f.allocUnsafe=function(e){return u(e)};f.allocUnsafeSlow=function(e){return u(e)};function l(e,t){if(typeof t!=="string"||t===""){t="utf8"}if(!f.isEncoding(t)){throw new TypeError("Unknown encoding: "+t)}const r=g(e,t)|0;let n=s(r);const i=n.write(e,t);if(i!==r){n=n.slice(0,i)}return n}function h(e){const t=e.length<0?0:b(e.length)|0;const r=s(t);for(let n=0;n<t;n+=1){r[n]=e[n]&255}return r}function d(e){if(ne(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}function p(e,t,r){if(t<0||e.byteLength<t){throw new RangeError('"offset" is outside of buffer bounds')}if(e.byteLength<t+(r||0)){throw new RangeError('"length" is outside of buffer bounds')}let n;if(t===undefined&&r===undefined){n=new Uint8Array(e)}else if(r===undefined){n=new Uint8Array(e,t)}else{n=new Uint8Array(e,t,r)}Object.setPrototypeOf(n,f.prototype);return n}function y(e){if(f.isBuffer(e)){const t=b(e.length)|0;const r=s(t);if(r.length===0){return r}e.copy(r,0,0,t);return r}if(e.length!==undefined){if(typeof e.length!=="number"||ie(e.length)){return s(0)}return h(e)}if(e.type==="Buffer"&&Array.isArray(e.data)){return h(e.data)}}function b(e){if(e>=n){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+n.toString(16)+" bytes")}return e|0}function m(e){if(+e!=e){e=0}return f.alloc(+e)}f.isBuffer=function e(t){return t!=null&&t._isBuffer===true&&t!==f.prototype};f.compare=function e(t,r){if(ne(t,Uint8Array))t=f.from(t,t.offset,t.byteLength);if(ne(r,Uint8Array))r=f.from(r,r.offset,r.byteLength);if(!f.isBuffer(t)||!f.isBuffer(r)){throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array')}if(t===r)return 0;let n=t.length;let i=r.length;for(let e=0,s=Math.min(n,i);e<s;++e){if(t[e]!==r[e]){n=t[e];i=r[e];break}}if(n<i)return-1;if(i<n)return 1;return 0};f.isEncoding=function e(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};f.concat=function e(t,r){if(!Array.isArray(t)){throw new TypeError('"list" argument must be an Array of Buffers')}if(t.length===0){return f.alloc(0)}let n;if(r===undefined){r=0;for(n=0;n<t.length;++n){r+=t[n].length}}const i=f.allocUnsafe(r);let s=0;for(n=0;n<t.length;++n){let e=t[n];if(ne(e,Uint8Array)){if(s+e.length>i.length){if(!f.isBuffer(e))e=f.from(e);e.copy(i,s)}else{Uint8Array.prototype.set.call(i,e,s)}}else if(!f.isBuffer(e)){throw new TypeError('"list" argument must be an Array of Buffers')}else{e.copy(i,s)}s+=e.length}return i};function g(e,t){if(f.isBuffer(e)){return e.length}if(ArrayBuffer.isView(e)||ne(e,ArrayBuffer)){return e.byteLength}if(typeof e!=="string"){throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. '+"Received type "+typeof e)}const r=e.length;const n=arguments.length>2&&arguments[2]===true;if(!n&&r===0)return 0;let i=false;for(;;){switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return te(e).length;default:if(i){return n?-1:Q(e).length}t=(""+t).toLowerCase();i=true}}}f.byteLength=g;function v(e,t,r){let n=false;if(t===undefined||t<0){t=0}if(t>this.length){return""}if(r===undefined||r>this.length){r=this.length}if(r<=0){return""}r>>>=0;t>>>=0;if(r<=t){return""}if(!e)e="utf8";while(true){switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return x(this,t,r);case"ascii":return M(this,t,r);case"latin1":case"binary":return B(this,t,r);case"base64":return P(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();n=true}}}f.prototype._isBuffer=true;function w(e,t,r){const n=e[t];e[t]=e[r];e[r]=n}f.prototype.swap16=function e(){const t=this.length;if(t%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(let e=0;e<t;e+=2){w(this,e,e+1)}return this};f.prototype.swap32=function e(){const t=this.length;if(t%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(let e=0;e<t;e+=4){w(this,e,e+3);w(this,e+1,e+2)}return this};f.prototype.swap64=function e(){const t=this.length;if(t%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(let e=0;e<t;e+=8){w(this,e,e+7);w(this,e+1,e+6);w(this,e+2,e+5);w(this,e+3,e+4)}return this};f.prototype.toString=function e(){const t=this.length;if(t===0)return"";if(arguments.length===0)return x(this,0,t);return v.apply(this,arguments)};f.prototype.toLocaleString=f.prototype.toString;f.prototype.equals=function e(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(this===t)return true;return f.compare(this,t)===0};f.prototype.inspect=function e(){let r="";const n=t.INSPECT_MAX_BYTES;r=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim();if(this.length>n)r+=" ... ";return"<Buffer "+r+">"};if(r){f.prototype[r]=f.prototype.inspect}f.prototype.compare=function e(t,r,n,i,s){if(ne(t,Uint8Array)){t=f.from(t,t.offset,t.byteLength)}if(!f.isBuffer(t)){throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. '+"Received type "+typeof t)}if(r===undefined){r=0}if(n===undefined){n=t?t.length:0}if(i===undefined){i=0}if(s===undefined){s=this.length}if(r<0||n>t.length||i<0||s>this.length){throw new RangeError("out of range index")}if(i>=s&&r>=n){return 0}if(i>=s){return-1}if(r>=n){return 1}r>>>=0;n>>>=0;i>>>=0;s>>>=0;if(this===t)return 0;let a=s-i;let o=n-r;const c=Math.min(a,o);const u=this.slice(i,s);const l=t.slice(r,n);for(let e=0;e<c;++e){if(u[e]!==l[e]){a=u[e];o=l[e];break}}if(a<o)return-1;if(o<a)return 1;return 0};function A(e,t,r,n,i){if(e.length===0)return-1;if(typeof r==="string"){n=r;r=0}else if(r>2147483647){r=2147483647}else if(r<-2147483648){r=-2147483648}r=+r;if(ie(r)){r=i?0:e.length-1}if(r<0)r=e.length+r;if(r>=e.length){if(i)return-1;else r=e.length-1}else if(r<0){if(i)r=0;else return-1}if(typeof t==="string"){t=f.from(t,n)}if(f.isBuffer(t)){if(t.length===0){return-1}return $(e,t,r,n,i)}else if(typeof t==="number"){t=t&255;if(typeof Uint8Array.prototype.indexOf==="function"){if(i){return Uint8Array.prototype.indexOf.call(e,t,r)}else{return Uint8Array.prototype.lastIndexOf.call(e,t,r)}}return $(e,[t],r,n,i)}throw new TypeError("val must be string, number or Buffer")}function $(e,t,r,n,i){let s=1;let f=e.length;let a=t.length;if(n!==undefined){n=String(n).toLowerCase();if(n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le"){if(e.length<2||t.length<2){return-1}s=2;f/=2;a/=2;r/=2}}function o(e,t){if(s===1){return e[t]}else{return e.readUInt16BE(t*s)}}let c;if(i){let n=-1;for(c=r;c<f;c++){if(o(e,c)===o(t,n===-1?0:c-n)){if(n===-1)n=c;if(c-n+1===a)return n*s}else{if(n!==-1)c-=c-n;n=-1}}}else{if(r+a>f)r=f-a;for(c=r;c>=0;c--){let r=true;for(let n=0;n<a;n++){if(o(e,c+n)!==o(t,n)){r=false;break}}if(r)return c}}return-1}f.prototype.includes=function e(t,r,n){return this.indexOf(t,r,n)!==-1};f.prototype.indexOf=function e(t,r,n){return A(this,t,r,n,true)};f.prototype.lastIndexOf=function e(t,r,n){return A(this,t,r,n,false)};function _(e,t,r,n){r=Number(r)||0;const i=e.length-r;if(!n){n=i}else{n=Number(n);if(n>i){n=i}}const s=t.length;if(n>s/2){n=s/2}let f;for(f=0;f<n;++f){const n=parseInt(t.substr(f*2,2),16);if(ie(n))return f;e[r+f]=n}return f}function E(e,t,r,n){return re(Q(t,e.length-r),e,r,n)}function S(e,t,r,n){return re(Z(t),e,r,n)}function T(e,t,r,n){return re(te(t),e,r,n)}function C(e,t,r,n){return re(ee(t,e.length-r),e,r,n)}f.prototype.write=function e(t,r,n,i){if(r===undefined){i="utf8";n=this.length;r=0}else if(n===undefined&&typeof r==="string"){i=r;n=this.length;r=0}else if(isFinite(r)){r=r>>>0;if(isFinite(n)){n=n>>>0;if(i===undefined)i="utf8"}else{i=n;n=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}const s=this.length-r;if(n===undefined||n>s)n=s;if(t.length>0&&(n<0||r<0)||r>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!i)i="utf8";let f=false;for(;;){switch(i){case"hex":return _(this,t,r,n);case"utf8":case"utf-8":return E(this,t,r,n);case"ascii":case"latin1":case"binary":return S(this,t,r,n);case"base64":return T(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r,n);default:if(f)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase();f=true}}};f.prototype.toJSON=function e(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(e,t,r){if(t===0&&r===e.length){return base64Js.fromByteArray(e)}else{return base64Js.fromByteArray(e.slice(t,r))}}function x(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;while(i<r){const t=e[i];let s=null;let f=t>239?4:t>223?3:t>191?2:1;if(i+f<=r){let r,n,a,o;switch(f){case 1:if(t<128){s=t}break;case 2:r=e[i+1];if((r&192)===128){o=(t&31)<<6|r&63;if(o>127){s=o}}break;case 3:r=e[i+1];n=e[i+2];if((r&192)===128&&(n&192)===128){o=(t&15)<<12|(r&63)<<6|n&63;if(o>2047&&(o<55296||o>57343)){s=o}}break;case 4:r=e[i+1];n=e[i+2];a=e[i+3];if((r&192)===128&&(n&192)===128&&(a&192)===128){o=(t&15)<<18|(r&63)<<12|(n&63)<<6|a&63;if(o>65535&&o<1114112){s=o}}}}if(s===null){s=65533;f=1}else if(s>65535){s-=65536;n.push(s>>>10&1023|55296);s=56320|s&1023}n.push(s);i+=f}return k(n)}const I=4096;function k(e){const t=e.length;if(t<=I){return String.fromCharCode.apply(String,e)}let r="";let n=0;while(n<t){r+=String.fromCharCode.apply(String,e.slice(n,n+=I))}return r}function M(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i){n+=String.fromCharCode(e[i]&127)}return n}function B(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i){n+=String.fromCharCode(e[i])}return n}function R(e,t,r){const n=e.length;if(!t||t<0)t=0;if(!r||r<0||r>n)r=n;let i="";for(let n=t;n<r;++n){i+=se[e[n]]}return i}function N(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2){i+=String.fromCharCode(n[e]+n[e+1]*256)}return i}f.prototype.slice=function e(t,r){const n=this.length;t=~~t;r=r===undefined?n:~~r;if(t<0){t+=n;if(t<0)t=0}else if(t>n){t=n}if(r<0){r+=n;if(r<0)r=0}else if(r>n){r=n}if(r<t)r=t;const i=this.subarray(t,r);Object.setPrototypeOf(i,f.prototype);return i};function D(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function e(t,r,n){t=t>>>0;r=r>>>0;if(!n)D(t,r,this.length);let i=this[t];let s=1;let f=0;while(++f<r&&(s*=256)){i+=this[t+f]*s}return i};f.prototype.readUintBE=f.prototype.readUIntBE=function e(t,r,n){t=t>>>0;r=r>>>0;if(!n){D(t,r,this.length)}let i=this[t+--r];let s=1;while(r>0&&(s*=256)){i+=this[t+--r]*s}return i};f.prototype.readUint8=f.prototype.readUInt8=function e(t,r){t=t>>>0;if(!r)D(t,1,this.length);return this[t]};f.prototype.readUint16LE=f.prototype.readUInt16LE=function e(t,r){t=t>>>0;if(!r)D(t,2,this.length);return this[t]|this[t+1]<<8};f.prototype.readUint16BE=f.prototype.readUInt16BE=function e(t,r){t=t>>>0;if(!r)D(t,2,this.length);return this[t]<<8|this[t+1]};f.prototype.readUint32LE=f.prototype.readUInt32LE=function e(t,r){t=t>>>0;if(!r)D(t,4,this.length);return(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};f.prototype.readUint32BE=f.prototype.readUInt32BE=function e(t,r){t=t>>>0;if(!r)D(t,4,this.length);return this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};f.prototype.readBigUInt64LE=fe((function e(t){t=t>>>0;z(t,"offset");const r=this[t];const n=this[t+7];if(r===undefined||n===undefined){Y(t,this.length-8)}const i=r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24;const s=this[++t]+this[++t]*2**8+this[++t]*2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))}));f.prototype.readBigUInt64BE=fe((function e(t){t=t>>>0;z(t,"offset");const r=this[t];const n=this[t+7];if(r===undefined||n===undefined){Y(t,this.length-8)}const i=r*2**24+this[++t]*2**16+this[++t]*2**8+this[++t];const s=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(s)}));f.prototype.readIntLE=function e(t,r,n){t=t>>>0;r=r>>>0;if(!n)D(t,r,this.length);let i=this[t];let s=1;let f=0;while(++f<r&&(s*=256)){i+=this[t+f]*s}s*=128;if(i>=s)i-=Math.pow(2,8*r);return i};f.prototype.readIntBE=function e(t,r,n){t=t>>>0;r=r>>>0;if(!n)D(t,r,this.length);let i=r;let s=1;let f=this[t+--i];while(i>0&&(s*=256)){f+=this[t+--i]*s}s*=128;if(f>=s)f-=Math.pow(2,8*r);return f};f.prototype.readInt8=function e(t,r){t=t>>>0;if(!r)D(t,1,this.length);if(!(this[t]&128))return this[t];return(255-this[t]+1)*-1};f.prototype.readInt16LE=function e(t,r){t=t>>>0;if(!r)D(t,2,this.length);const n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};f.prototype.readInt16BE=function e(t,r){t=t>>>0;if(!r)D(t,2,this.length);const n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};f.prototype.readInt32LE=function e(t,r){t=t>>>0;if(!r)D(t,4,this.length);return this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};f.prototype.readInt32BE=function e(t,r){t=t>>>0;if(!r)D(t,4,this.length);return this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};f.prototype.readBigInt64LE=fe((function e(t){t=t>>>0;z(t,"offset");const r=this[t];const n=this[t+7];if(r===undefined||n===undefined){Y(t,this.length-8)}const i=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)}));f.prototype.readBigInt64BE=fe((function e(t){t=t>>>0;z(t,"offset");const r=this[t];const n=this[t+7];if(r===undefined||n===undefined){Y(t,this.length-8)}const i=(r<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n)}));f.prototype.readFloatLE=function e(t,r){t=t>>>0;if(!r)D(t,4,this.length);return ieee754.read(this,t,true,23,4)};f.prototype.readFloatBE=function e(t,r){t=t>>>0;if(!r)D(t,4,this.length);return ieee754.read(this,t,false,23,4)};f.prototype.readDoubleLE=function e(t,r){t=t>>>0;if(!r)D(t,8,this.length);return ieee754.read(this,t,true,52,8)};f.prototype.readDoubleBE=function e(t,r){t=t>>>0;if(!r)D(t,8,this.length);return ieee754.read(this,t,false,52,8)};function O(e,t,r,n,i,s){if(!f.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function e(t,r,n,i){t=+t;r=r>>>0;n=n>>>0;if(!i){const e=Math.pow(2,8*n)-1;O(this,t,r,n,e,0)}let s=1;let f=0;this[r]=t&255;while(++f<n&&(s*=256)){this[r+f]=t/s&255}return r+n};f.prototype.writeUintBE=f.prototype.writeUIntBE=function e(t,r,n,i){t=+t;r=r>>>0;n=n>>>0;if(!i){const e=Math.pow(2,8*n)-1;O(this,t,r,n,e,0)}let s=n-1;let f=1;this[r+s]=t&255;while(--s>=0&&(f*=256)){this[r+s]=t/f&255}return r+n};f.prototype.writeUint8=f.prototype.writeUInt8=function e(t,r,n){t=+t;r=r>>>0;if(!n)O(this,t,r,1,255,0);this[r]=t&255;return r+1};f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function e(t,r,n){t=+t;r=r>>>0;if(!n)O(this,t,r,2,65535,0);this[r]=t&255;this[r+1]=t>>>8;return r+2};f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function e(t,r,n){t=+t;r=r>>>0;if(!n)O(this,t,r,2,65535,0);this[r]=t>>>8;this[r+1]=t&255;return r+2};f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function e(t,r,n){t=+t;r=r>>>0;if(!n)O(this,t,r,4,4294967295,0);this[r+3]=t>>>24;this[r+2]=t>>>16;this[r+1]=t>>>8;this[r]=t&255;return r+4};f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function e(t,r,n){t=+t;r=r>>>0;if(!n)O(this,t,r,4,4294967295,0);this[r]=t>>>24;this[r+1]=t>>>16;this[r+2]=t>>>8;this[r+3]=t&255;return r+4};function U(e,t,r,n,i){W(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s;s=s>>8;e[r++]=s;s=s>>8;e[r++]=s;s=s>>8;e[r++]=s;let f=Number(t>>BigInt(32)&BigInt(4294967295));e[r++]=f;f=f>>8;e[r++]=f;f=f>>8;e[r++]=f;f=f>>8;e[r++]=f;return r}function F(e,t,r,n,i){W(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s;s=s>>8;e[r+6]=s;s=s>>8;e[r+5]=s;s=s>>8;e[r+4]=s;let f=Number(t>>BigInt(32)&BigInt(4294967295));e[r+3]=f;f=f>>8;e[r+2]=f;f=f>>8;e[r+1]=f;f=f>>8;e[r]=f;return r+8}f.prototype.writeBigUInt64LE=fe((function e(t,r=0){return U(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))}));f.prototype.writeBigUInt64BE=fe((function e(t,r=0){return F(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))}));f.prototype.writeIntLE=function e(t,r,n,i){t=+t;r=r>>>0;if(!i){const e=Math.pow(2,8*n-1);O(this,t,r,n,e-1,-e)}let s=0;let f=1;let a=0;this[r]=t&255;while(++s<n&&(f*=256)){if(t<0&&a===0&&this[r+s-1]!==0){a=1}this[r+s]=(t/f>>0)-a&255}return r+n};f.prototype.writeIntBE=function e(t,r,n,i){t=+t;r=r>>>0;if(!i){const e=Math.pow(2,8*n-1);O(this,t,r,n,e-1,-e)}let s=n-1;let f=1;let a=0;this[r+s]=t&255;while(--s>=0&&(f*=256)){if(t<0&&a===0&&this[r+s+1]!==0){a=1}this[r+s]=(t/f>>0)-a&255}return r+n};f.prototype.writeInt8=function e(t,r,n){t=+t;r=r>>>0;if(!n)O(this,t,r,1,127,-128);if(t<0)t=255+t+1;this[r]=t&255;return r+1};f.prototype.writeInt16LE=function e(t,r,n){t=+t;r=r>>>0;if(!n)O(this,t,r,2,32767,-32768);this[r]=t&255;this[r+1]=t>>>8;return r+2};f.prototype.writeInt16BE=function e(t,r,n){t=+t;r=r>>>0;if(!n)O(this,t,r,2,32767,-32768);this[r]=t>>>8;this[r+1]=t&255;return r+2};f.prototype.writeInt32LE=function e(t,r,n){t=+t;r=r>>>0;if(!n)O(this,t,r,4,2147483647,-2147483648);this[r]=t&255;this[r+1]=t>>>8;this[r+2]=t>>>16;this[r+3]=t>>>24;return r+4};f.prototype.writeInt32BE=function e(t,r,n){t=+t;r=r>>>0;if(!n)O(this,t,r,4,2147483647,-2147483648);if(t<0)t=4294967295+t+1;this[r]=t>>>24;this[r+1]=t>>>16;this[r+2]=t>>>8;this[r+3]=t&255;return r+4};f.prototype.writeBigInt64LE=fe((function e(t,r=0){return U(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}));f.prototype.writeBigInt64BE=fe((function e(t,r=0){return F(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}));function L(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(e,t,r,n,i){t=+t;r=r>>>0;if(!i){L(e,t,r,4)}ieee754.write(e,t,r,n,23,4);return r+4}f.prototype.writeFloatLE=function e(t,r,n){return j(this,t,r,true,n)};f.prototype.writeFloatBE=function e(t,r,n){return j(this,t,r,false,n)};function H(e,t,r,n,i){t=+t;r=r>>>0;if(!i){L(e,t,r,8)}ieee754.write(e,t,r,n,52,8);return r+8}f.prototype.writeDoubleLE=function e(t,r,n){return H(this,t,r,true,n)};f.prototype.writeDoubleBE=function e(t,r,n){return H(this,t,r,false,n)};f.prototype.copy=function e(t,r,n,i){if(!f.isBuffer(t))throw new TypeError("argument should be a Buffer");if(!n)n=0;if(!i&&i!==0)i=this.length;if(r>=t.length)r=t.length;if(!r)r=0;if(i>0&&i<n)i=n;if(i===n)return 0;if(t.length===0||this.length===0)return 0;if(r<0){throw new RangeError("targetStart out of bounds")}if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");if(i>this.length)i=this.length;if(t.length-r<i-n){i=t.length-r+n}const s=i-n;if(this===t&&typeof Uint8Array.prototype.copyWithin==="function"){this.copyWithin(r,n,i)}else{Uint8Array.prototype.set.call(t,this.subarray(n,i),r)}return s};f.prototype.fill=function e(t,r,n,i){if(typeof t==="string"){if(typeof r==="string"){i=r;r=0;n=this.length}else if(typeof n==="string"){i=n;n=this.length}if(i!==undefined&&typeof i!=="string"){throw new TypeError("encoding must be a string")}if(typeof i==="string"&&!f.isEncoding(i)){throw new TypeError("Unknown encoding: "+i)}if(t.length===1){const e=t.charCodeAt(0);if(i==="utf8"&&e<128||i==="latin1"){t=e}}}else if(typeof t==="number"){t=t&255}else if(typeof t==="boolean"){t=Number(t)}if(r<0||this.length<r||this.length<n){throw new RangeError("Out of range index")}if(n<=r){return this}r=r>>>0;n=n===undefined?this.length:n>>>0;if(!t)t=0;let s;if(typeof t==="number"){for(s=r;s<n;++s){this[s]=t}}else{const e=f.isBuffer(t)?t:f.from(t,i);const a=e.length;if(a===0){throw new TypeError('The value "'+t+'" is invalid for argument "value"')}for(s=0;s<n-r;++s){this[s+r]=e[s%a]}}return this};const K={};function G(e,t,r){K[e]=class n extends r{constructor(){super();Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:true,configurable:true});this.name=`${this.name} [${e}]`;delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:true,enumerable:true,value:e,writable:true})}toString(){return`${this.name} [${e}]: ${this.message}`}}}G("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){if(e){return`${e} is outside of buffer bounds`}return"Attempt to access memory outside buffer bounds"}),RangeError);G("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError);G("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`;let i=r;if(Number.isInteger(r)&&Math.abs(r)>2**32){i=V(String(r))}else if(typeof r==="bigint"){i=String(r);if(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32))){i=V(i)}i+="n"}n+=` It must be ${t}. Received ${i}`;return n}),RangeError);function V(e){let t="";let r=e.length;const n=e[0]==="-"?1:0;for(;r>=n+4;r-=3){t=`_${e.slice(r-3,r)}${t}`}return`${e.slice(0,r)}${t}`}function X(e,t,r){z(t,"offset");if(e[t]===undefined||e[t+r]===undefined){Y(t,e.length-(r+1))}}function W(e,t,r,n,i,s){if(e>r||e<t){const n=typeof t==="bigint"?"n":"";let i;if(s>3){if(t===0||t===BigInt(0)){i=`>= 0${n} and < 2${n} ** ${(s+1)*8}${n}`}else{i=`>= -(2${n} ** ${(s+1)*8-1}${n}) and < 2 ** `+`${(s+1)*8-1}${n}`}}else{i=`>= ${t}${n} and <= ${r}${n}`}throw new K.ERR_OUT_OF_RANGE("value",i,e)}X(n,i,s)}function z(e,t){if(typeof e!=="number"){throw new K.ERR_INVALID_ARG_TYPE(t,"number",e)}}function Y(e,t,r){if(Math.floor(e)!==e){z(e,r);throw new K.ERR_OUT_OF_RANGE(r||"offset","an integer",e)}if(t<0){throw new K.ERR_BUFFER_OUT_OF_BOUNDS}throw new K.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}const J=/[^+/0-9A-Za-z-_]/g;function q(e){e=e.split("=")[0];e=e.trim().replace(J,"");if(e.length<2)return"";while(e.length%4!==0){e=e+"="}return e}function Q(e,t){t=t||Infinity;let r;const n=e.length;let i=null;const s=[];for(let f=0;f<n;++f){r=e.charCodeAt(f);if(r>55295&&r<57344){if(!i){if(r>56319){if((t-=3)>-1)s.push(239,191,189);continue}else if(f+1===n){if((t-=3)>-1)s.push(239,191,189);continue}i=r;continue}if(r<56320){if((t-=3)>-1)s.push(239,191,189);i=r;continue}r=(i-55296<<10|r-56320)+65536}else if(i){if((t-=3)>-1)s.push(239,191,189)}i=null;if(r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else{throw new Error("Invalid code point")}}return s}function Z(e){const t=[];for(let r=0;r<e.length;++r){t.push(e.charCodeAt(r)&255)}return t}function ee(e,t){let r,n,i;const s=[];for(let f=0;f<e.length;++f){if((t-=2)<0)break;r=e.charCodeAt(f);n=r>>8;i=r%256;s.push(i);s.push(n)}return s}function te(e){return base64Js.toByteArray(q(e))}function re(e,t,r,n){let i;for(i=0;i<n;++i){if(i+r>=t.length||i>=e.length)break;t[i+r]=e[i]}return i}function ne(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function ie(e){return e!==e}const se=function(){const e="0123456789abcdef";const t=new Array(256);for(let r=0;r<16;++r){const n=r*16;for(let i=0;i<16;++i){t[n+i]=e[r]+e[i]}}return t}();function fe(e){return typeof BigInt==="undefined"?ae:e}function ae(){throw new Error("BigInt not supported")}}));const{Buffer:Buffer$1}=buffer;const symbol=Symbol.for("BufferList");function BufferList(e){if(!(this instanceof BufferList)){return new BufferList(e)}BufferList._init.call(this,e)}BufferList._init=function e(t){Object.defineProperty(this,symbol,{value:true});this._bufs=[];this.length=0;if(t){this.append(t)}};BufferList.prototype._new=function e(t){return new BufferList(t)};BufferList.prototype._offset=function e(t){if(t===0){return[0,0]}let r=0;for(let e=0;e<this._bufs.length;e++){const n=r+this._bufs[e].length;if(t<n||e===this._bufs.length-1){return[e,t-r]}r=n}};BufferList.prototype._reverseOffset=function(e){const t=e[0];let r=e[1];for(let e=0;e<t;e++){r+=this._bufs[e].length}return r};BufferList.prototype.get=function e(t){if(t>this.length||t<0){return undefined}const r=this._offset(t);return this._bufs[r[0]][r[1]]};BufferList.prototype.slice=function e(t,r){if(typeof t==="number"&&t<0){t+=this.length}if(typeof r==="number"&&r<0){r+=this.length}return this.copy(null,0,t,r)};BufferList.prototype.copy=function e(t,r,n,i){if(typeof n!=="number"||n<0){n=0}if(typeof i!=="number"||i>this.length){i=this.length}if(n>=this.length){return t||Buffer$1.alloc(0)}if(i<=0){return t||Buffer$1.alloc(0)}const e=!!t;const s=this._offset(n);const f=i-n;let a=f;let o=e&&r||0;let c=s[1];if(n===0&&i===this.length){if(!e){return this._bufs.length===1?this._bufs[0]:Buffer$1.concat(this._bufs,this.length)}for(let e=0;e<this._bufs.length;e++){this._bufs[e].copy(t,o);o+=this._bufs[e].length}return t}if(a<=this._bufs[s[0]].length-c){return e?this._bufs[s[0]].copy(t,r,c,c+a):this._bufs[s[0]].slice(c,c+a)}if(!e){t=Buffer$1.allocUnsafe(f)}for(let e=s[0];e<this._bufs.length;e++){const r=this._bufs[e].length-c;if(a>r){this._bufs[e].copy(t,o,c);o+=r}else{this._bufs[e].copy(t,o,c,c+a);o+=r;break}a-=r;if(c){c=0}}if(t.length>o)return t.slice(0,o);return t};BufferList.prototype.shallowSlice=function e(t,r){t=t||0;r=typeof r!=="number"?this.length:r;if(t<0){t+=this.length}if(r<0){r+=this.length}if(t===r){return this._new()}const n=this._offset(t);const i=this._offset(r);const s=this._bufs.slice(n[0],i[0]+1);if(i[1]===0){s.pop()}else{s[s.length-1]=s[s.length-1].slice(0,i[1])}if(n[1]!==0){s[0]=s[0].slice(n[1])}return this._new(s)};BufferList.prototype.toString=function e(t,r,n){return this.slice(r,n).toString(t)};BufferList.prototype.consume=function e(t){t=Math.trunc(t);if(Number.isNaN(t)||t<=0)return this;while(this._bufs.length){if(t>=this._bufs[0].length){t-=this._bufs[0].length;this.length-=this._bufs[0].length;this._bufs.shift()}else{this._bufs[0]=this._bufs[0].slice(t);this.length-=t;break}}return this};BufferList.prototype.duplicate=function e(){const t=this._new();for(let e=0;e<this._bufs.length;e++){t.append(this._bufs[e])}return t};BufferList.prototype.append=function e(t){if(t==null){return this}if(t.buffer){this._appendBuffer(Buffer$1.from(t.buffer,t.byteOffset,t.byteLength))}else if(Array.isArray(t)){for(let e=0;e<t.length;e++){this.append(t[e])}}else if(this._isBufferList(t)){for(let e=0;e<t._bufs.length;e++){this.append(t._bufs[e])}}else{if(typeof t==="number"){t=t.toString()}this._appendBuffer(Buffer$1.from(t))}return this};BufferList.prototype._appendBuffer=function e(t){this._bufs.push(t);this.length+=t.length};BufferList.prototype.indexOf=function(e,t,r){if(r===undefined&&typeof t==="string"){r=t;t=undefined}if(typeof e==="function"||Array.isArray(e)){throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.')}else if(typeof e==="number"){e=Buffer$1.from([e])}else if(typeof e==="string"){e=Buffer$1.from(e,r)}else if(this._isBufferList(e)){e=e.slice()}else if(Array.isArray(e.buffer)){e=Buffer$1.from(e.buffer,e.byteOffset,e.byteLength)}else if(!Buffer$1.isBuffer(e)){e=Buffer$1.from(e)}t=Number(t||0);if(isNaN(t)){t=0}if(t<0){t=this.length+t}if(t<0){t=0}if(e.length===0){return t>this.length?this.length:t}const n=this._offset(t);let i=n[0];let s=n[1];for(;i<this._bufs.length;i++){const t=this._bufs[i];while(s<t.length){const r=t.length-s;if(r>=e.length){const r=t.indexOf(e,s);if(r!==-1){return this._reverseOffset([i,r])}s=t.length-e.length+1}else{const t=this._reverseOffset([i,s]);if(this._match(t,e)){return t}s++}}s=0}return-1};BufferList.prototype._match=function(e,t){if(this.length-e<t.length){return false}for(let r=0;r<t.length;r++){if(this.get(e+r)!==t[r]){return false}}return true};(function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e){(function(t){if(e[t]===null){BufferList.prototype[t]=function(e,r){return this.slice(e,e+r)[t](0,r)}}else{BufferList.prototype[t]=function(r=0){return this.slice(r,r+e[t])[t](0)}}})(t)}})();BufferList.prototype._isBufferList=function e(t){return t instanceof BufferList||BufferList.isBufferList(t)};BufferList.isBufferList=function e(t){return t!=null&&t[symbol]};var BufferList_1=BufferList;class Rabin{constructor(e,t=12,r=8*1024,n=32*1024,i=64,s){this.bits=t;this.min=r;this.max=n;this.asModule=e;this.rabin=new e.Rabin(t,r,n,i,s);this.polynomial=s}fingerprint(e){const{__retain:t,__release:r,__allocArray:n,__getInt32Array:i,Int32Array_ID:s,Uint8Array_ID:f}=this.asModule;const a=new Int32Array(Math.ceil(e.length/this.min));const o=t(n(s,a));const c=t(n(f,e));const u=this.rabin.fingerprint(c,o);const l=i(u);r(c);r(o);const h=l.indexOf(0);return h>=0?l.subarray(0,h):l}}var rabin$1=Rabin;const ID_OFFSET=-8;const SIZE_OFFSET=-4;const ARRAYBUFFER_ID=0;const STRING_ID=1;const ARRAYBUFFERVIEW=1<<0;const ARRAY=1<<1;const VAL_ALIGN_OFFSET=5;const VAL_SIGNED=1<<10;const VAL_FLOAT=1<<11;const VAL_MANAGED=1<<13;const ARRAYBUFFERVIEW_BUFFER_OFFSET=0;const ARRAYBUFFERVIEW_DATASTART_OFFSET=4;const ARRAYBUFFERVIEW_DATALENGTH_OFFSET=8;const ARRAYBUFFERVIEW_SIZE=12;const ARRAY_LENGTH_OFFSET=12;const ARRAY_SIZE=16;const BIGINT=typeof BigUint64Array!=="undefined";const THIS=Symbol();const CHUNKSIZE=1024;function getStringImpl(e,t){const r=new Uint32Array(e);const n=new Uint16Array(e);var i=r[t+SIZE_OFFSET>>>2]>>>1;var s=t>>>1;if(i<=CHUNKSIZE)return String.fromCharCode.apply(String,n.subarray(s,s+i));const f=[];do{const e=n[s+CHUNKSIZE-1];const t=e>=55296&&e<56320?CHUNKSIZE-1:CHUNKSIZE;f.push(String.fromCharCode.apply(String,n.subarray(s,s+=t)));i-=t}while(i>CHUNKSIZE);return f.join("")+String.fromCharCode.apply(String,n.subarray(s,s+i))}function preInstantiate(e){const t={};function r(e,t){if(!e)return"<yet unknown>";return getStringImpl(e.buffer,t)}const n=e.env=e.env||{};n.abort=n.abort||function e(i,s,f,a){const o=t.memory||n.memory;throw Error("abort: "+r(o,i)+" at "+r(o,s)+":"+f+":"+a)};n.trace=n.trace||function e(i,s){const f=t.memory||n.memory;console.log("trace: "+r(f,i)+(s?" ":"")+Array.prototype.slice.call(arguments,2,2+s).join(", "))};e.Math=e.Math||Math;e.Date=e.Date||Date;return t}function postInstantiate(e,t){const r=t.exports;const n=r.memory;const i=r.table;const s=r["__alloc"];const f=r["__retain"];const a=r["__rtti_base"]||~0;function o(e){const t=new Uint32Array(n.buffer);const r=t[a>>>2];if((e>>>=0)>=r)throw Error("invalid id: "+e);return t[(a+4>>>2)+e*2]}function c(e){const t=new Uint32Array(n.buffer);const r=t[a>>>2];if((e>>>=0)>=r)throw Error("invalid id: "+e);return t[(a+4>>>2)+e*2+1]}function u(e){return 31-Math.clz32(e>>>VAL_ALIGN_OFFSET&31)}function l(e){const t=e.length;const r=s(t<<1,STRING_ID);const i=new Uint16Array(n.buffer);for(var f=0,a=r>>>1;f<t;++f)i[a+f]=e.charCodeAt(f);return r}e.__allocString=l;function h(e){const t=n.buffer;const r=new Uint32Array(t)[e+ID_OFFSET>>>2];if(r!==STRING_ID)throw Error("not a string: "+e);return getStringImpl(t,e)}e.__getString=h;function d(e,t,r){const i=n.buffer;if(r){switch(e){case 2:return new Float32Array(i);case 3:return new Float64Array(i)}}else{switch(e){case 0:return new(t?Int8Array:Uint8Array)(i);case 1:return new(t?Int16Array:Uint16Array)(i);case 2:return new(t?Int32Array:Uint32Array)(i);case 3:return new(t?BigInt64Array:BigUint64Array)(i)}}throw Error("unsupported align: "+e)}function p(e,t){const r=o(e);if(!(r&(ARRAYBUFFERVIEW|ARRAY)))throw Error("not an array: "+e+" @ "+r);const i=u(r);const a=t.length;const c=s(a<<i,ARRAYBUFFER_ID);const l=s(r&ARRAY?ARRAY_SIZE:ARRAYBUFFERVIEW_SIZE,e);const h=new Uint32Array(n.buffer);h[l+ARRAYBUFFERVIEW_BUFFER_OFFSET>>>2]=f(c);h[l+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2]=c;h[l+ARRAYBUFFERVIEW_DATALENGTH_OFFSET>>>2]=a<<i;if(r&ARRAY)h[l+ARRAY_LENGTH_OFFSET>>>2]=a;const p=d(i,r&VAL_SIGNED,r&VAL_FLOAT);if(r&VAL_MANAGED){for(let e=0;e<a;++e)p[(c>>>i)+e]=f(t[e])}else{p.set(t,c>>>i)}return l}e.__allocArray=p;function y(e){const t=new Uint32Array(n.buffer);const r=t[e+ID_OFFSET>>>2];const i=o(r);if(!(i&ARRAYBUFFERVIEW))throw Error("not an array: "+r);const s=u(i);var f=t[e+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2];const a=i&ARRAY?t[e+ARRAY_LENGTH_OFFSET>>>2]:t[f+SIZE_OFFSET>>>2]>>>s;return d(s,i&VAL_SIGNED,i&VAL_FLOAT).subarray(f>>>=s,f+a)}e.__getArrayView=y;function b(e){const t=y(e);const r=t.length;const n=new Array(r);for(let e=0;e<r;e++)n[e]=t[e];return n}e.__getArray=b;function m(e){const t=n.buffer;const r=new Uint32Array(t)[e+SIZE_OFFSET>>>2];return t.slice(e,e+r)}e.__getArrayBuffer=m;function g(e,t,r){return new e(v(e,t,r))}function v(e,t,r){const i=n.buffer;const s=new Uint32Array(i);const f=s[r+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2];return new e(i,f,s[f+SIZE_OFFSET>>>2]>>>t)}e.__getInt8Array=g.bind(null,Int8Array,0);e.__getInt8ArrayView=v.bind(null,Int8Array,0);e.__getUint8Array=g.bind(null,Uint8Array,0);e.__getUint8ArrayView=v.bind(null,Uint8Array,0);e.__getUint8ClampedArray=g.bind(null,Uint8ClampedArray,0);e.__getUint8ClampedArrayView=v.bind(null,Uint8ClampedArray,0);e.__getInt16Array=g.bind(null,Int16Array,1);e.__getInt16ArrayView=v.bind(null,Int16Array,1);e.__getUint16Array=g.bind(null,Uint16Array,1);e.__getUint16ArrayView=v.bind(null,Uint16Array,1);e.__getInt32Array=g.bind(null,Int32Array,2);e.__getInt32ArrayView=v.bind(null,Int32Array,2);e.__getUint32Array=g.bind(null,Uint32Array,2);e.__getUint32ArrayView=v.bind(null,Uint32Array,2);if(BIGINT){e.__getInt64Array=g.bind(null,BigInt64Array,3);e.__getInt64ArrayView=v.bind(null,BigInt64Array,3);e.__getUint64Array=g.bind(null,BigUint64Array,3);e.__getUint64ArrayView=v.bind(null,BigUint64Array,3)}e.__getFloat32Array=g.bind(null,Float32Array,2);e.__getFloat32ArrayView=v.bind(null,Float32Array,2);e.__getFloat64Array=g.bind(null,Float64Array,3);e.__getFloat64ArrayView=v.bind(null,Float64Array,3);function w(e,t){const r=new Uint32Array(n.buffer);var i=r[e+ID_OFFSET>>>2];if(i<=r[a>>>2]){do{if(i==t)return true}while(i=c(i))}return false}e.__instanceof=w;e.memory=e.memory||n;e.table=e.table||i;return demangle(r,e)}function isResponse(e){return typeof Response!=="undefined"&&e instanceof Response}async function instantiate$1(e,t){if(isResponse(e=await e))return instantiateStreaming(e,t);return postInstantiate(preInstantiate(t||(t={})),await WebAssembly.instantiate(e instanceof WebAssembly.Module?e:await WebAssembly.compile(e),t))}var instantiate_1=instantiate$1;function instantiateSync(e,t){return postInstantiate(preInstantiate(t||(t={})),new WebAssembly.Instance(e instanceof WebAssembly.Module?e:new WebAssembly.Module(e),t))}var instantiateSync_1=instantiateSync;async function instantiateStreaming(e,t){if(!WebAssembly.instantiateStreaming){return instantiate$1(isResponse(e=await e)?e.arrayBuffer():e,t)}return postInstantiate(preInstantiate(t||(t={})),(await WebAssembly.instantiateStreaming(e,t)).instance)}var instantiateStreaming_1=instantiateStreaming;function demangle(e,t){var r=t?Object.create(t):{};var n=e["__argumentsLength"]?function(t){e["__argumentsLength"].value=t}:e["__setArgumentsLength"]||e["__setargc"]||function(){};for(let t in e){if(!Object.prototype.hasOwnProperty.call(e,t))continue;const i=e[t];let s=t.split(".");let f=r;while(s.length>1){let e=s.shift();if(!Object.prototype.hasOwnProperty.call(f,e))f[e]={};f=f[e]}let a=s[0];let o=a.indexOf("#");if(o>=0){let r=a.substring(0,o);let s=f[r];if(typeof s==="undefined"||!s.prototype){let e=function(...t){return e.wrap(e.prototype.constructor(0,...t))};e.prototype={valueOf:function e(){return this[THIS]}};e.wrap=function(t){return Object.create(e.prototype,{[THIS]:{value:t,writable:false}})};if(s)Object.getOwnPropertyNames(s).forEach((t=>Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))));f[r]=e}a=a.substring(o+1);f=f[r].prototype;if(/^(get|set):/.test(a)){if(!Object.prototype.hasOwnProperty.call(f,a=a.substring(4))){let r=e[t.replace("set:","get:")];let n=e[t.replace("get:","set:")];Object.defineProperty(f,a,{get:function(){return r(this[THIS])},set:function(e){n(this[THIS],e)},enumerable:true})}}else{if(a==="constructor"){(f[a]=(...e)=>{n(e.length);return i(...e)}).original=i}else{(f[a]=function(...e){n(e.length);return i(this[THIS],...e)}).original=i}}}else{if(/^(get|set):/.test(a)){if(!Object.prototype.hasOwnProperty.call(f,a=a.substring(4))){Object.defineProperty(f,a,{get:e[t.replace("set:","get:")],set:e[t.replace("get:","set:")],enumerable:true})}}else if(typeof i==="function"&&i!==n){(f[a]=(...e)=>{n(e.length);return i(...e)}).original=i}else{f[a]=i}}}return r}var demangle_1=demangle;var loader={instantiate:instantiate_1,instantiateSync:instantiateSync_1,instantiateStreaming:instantiateStreaming_1,demangle:demangle_1};const{instantiate}=loader;loadWebAssembly.supported=typeof WebAssembly!=="undefined";function loadWebAssembly(e={}){if(!loadWebAssembly.supported)return null;var t=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,3,127,127,127,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,8,9,3,5,2,8,6,5,3,4,2,6,9,12,13,2,5,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,6,7,7,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,165,31,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,9,0,65,63,32,0,121,167,107,11,49,1,2,127,65,63,32,1,121,167,107,33,2,3,64,65,63,32,0,121,167,107,32,2,107,34,3,65,0,78,4,64,32,0,32,1,32,3,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,65,0,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,254,5,2,1,127,4,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,65,0,33,4,3,64,32,4,32,0,40,2,4,65,1,107,72,4,64,32,6,66,8,134,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,32,4,65,1,106,33,4,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,6,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,63,32,0,41,3,72,121,167,107,172,33,7,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,1,32,2,172,32,7,134,34,8,33,6,65,63,32,0,41,3,72,34,9,121,167,107,33,3,3,64,65,63,32,6,121,167,107,32,3,107,34,4,65,0,78,4,64,32,6,32,9,32,4,172,134,133,33,6,12,1,11,11,32,1,40,2,4,32,2,65,3,116,106,32,6,32,8,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,8,32,0,40,2,0,40,2,4,106,32,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return instantiate(new Response(new Blob([t],{type:"application/wasm"})),e)}var rabinWasm=loadWebAssembly;const create$1=async(e,t,r,n,i)=>{const s=await rabinWasm();return new rabin$1(s,e,t,r,n,i)};var src$2={Rabin:rabin$1,create:create$1};const{create}=src$2;var rabin_1=async function*e(t,r){let n,i,s;if(r.minChunkSize&&r.maxChunkSize&&r.avgChunkSize){s=r.avgChunkSize;n=r.minChunkSize;i=r.maxChunkSize}else if(!r.avgChunkSize){throw errCode(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE")}else{s=r.avgChunkSize;n=s/3;i=s+s/2}if(n<16){throw errCode(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE")}if(i<n){i=n}if(s<n){s=n}const f=Math.floor(Math.log2(s));for await(const e of rabin(t,{min:n,max:i,bits:f,window:r.window,polynomial:r.polynomial})){yield e}};async function*rabin(e,t){const r=await create(t.bits,t.min,t.max,t.window);const n=new BufferList_1;for await(const t of e){n.append(t);const e=r.fingerprint(t);for(let t=0;t<e.length;t++){const r=e[t];const i=n.slice(0,r);n.consume(r);yield i}}if(n.length){yield n.slice(0)}}var fixedSize=async function*e(t,r){let n=new BufferList_1;let i=0;let s=false;const f=r.maxChunkSize;for await(const e of t){n.append(e);i+=e.length;while(i>=f){yield n.slice(0,f);s=true;if(f===n.length){n=new BufferList_1;i=0}else{const e=new BufferList_1;e.append(n.shallowSlice(f));n=e;i-=f}}}if(!s||i){yield n.slice(0,i)}};async function*validateChunks(e){for await(const t of e){if(t.length===undefined){throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}if(typeof t==="string"||t instanceof String){yield fromString_1$1(t.toString())}else if(Array.isArray(t)){yield Uint8Array.from(t)}else if(t instanceof Uint8Array){yield t}else{throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}}}var validateChunks_1=validateChunks;function isIterable(e){return Symbol.iterator in e}function isAsyncIterable(e){return Symbol.asyncIterator in e}function contentAsAsyncIterable(e){try{if(e instanceof Uint8Array){return async function*(){yield e}()}else if(isIterable(e)){return async function*(){yield*e}()}else if(isAsyncIterable(e)){return e}}catch{throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}async function*dagBuilder(e,t,r){for await(const n of e){if(n.path){if(n.path.substring(0,2)==="./"){r.wrapWithDirectory=true}n.path=n.path.split("/").filter((e=>e&&e!==".")).join("/")}if(n.content){let e;if(typeof r.chunker==="function"){e=r.chunker}else if(r.chunker==="rabin"){e=rabin_1}else{e=fixedSize}let i;if(typeof r.chunkValidator==="function"){i=r.chunkValidator}else{i=validateChunks_1}const s={path:n.path,mtime:n.mtime,mode:n.mode,content:e(i(contentAsAsyncIterable(n.content),r),r)};yield()=>file(s,t,r)}else if(n.path){const e={path:n.path,mtime:n.mtime,mode:n.mode};yield()=>dir$1(e,t,r)}else{throw new Error("Import candidate must have content or path or both")}}}var dagBuilder_1=dagBuilder;class Dir{constructor(e,t){this.options=t||{};this.root=e.root;this.dir=e.dir;this.path=e.path;this.dirty=e.dirty;this.flat=e.flat;this.parent=e.parent;this.parentKey=e.parentKey;this.unixfs=e.unixfs;this.mode=e.mode;this.mtime=e.mtime;this.cid=undefined;this.size=undefined}async put(e,t){}get(e){return Promise.resolve(this)}async*eachChildSeries(){}async*flush(e){}}var dir=Dir;const{DAGLink:DAGLink$1,DAGNode:DAGNode$1}=src$3;const{UnixFS:UnixFS$1}=src$6;class DirFlat extends dir{constructor(e,t){super(e,t);this._children={}}async put(e,t){this.cid=undefined;this.size=undefined;this._children[e]=t}get(e){return Promise.resolve(this._children[e])}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}async*eachChildSeries(){const e=Object.keys(this._children);for(let t=0;t<e.length;t++){const r=e[t];yield{key:r,child:this._children[r]}}}async*flush(e){const t=Object.keys(this._children);const r=[];for(let n=0;n<t.length;n++){let i=this._children[t[n]];if(i instanceof dir){for await(const t of i.flush(e)){i=t;yield i}}if(i.size!=null&&i.cid){r.push(new DAGLink$1(t[n],i.size,i.cid))}}const n=new UnixFS$1({type:"directory",mtime:this.mtime,mode:this.mode});const i=new DAGNode$1(n.marshal(),r);const s=i.serialize();const f=await persist_1(s,e,this.options);const a=s.length+i.Links.reduce(((e,t)=>e+t.Tsize),0);this.cid=f;this.size=a;yield{cid:f,unixfs:n,path:this.path,size:a}}}var dirFlat=DirFlat;const BITS_PER_BYTE=7;var sparseArray=class e{constructor(){this._bitArrays=[];this._data=[];this._length=0;this._changedLength=false;this._changedData=false}set(e,t){let r=this._internalPositionFor(e,false);if(t===undefined){if(r!==-1){this._unsetInternalPos(r);this._unsetBit(e);this._changedLength=true;this._changedData=true}}else{let n=false;if(r===-1){r=this._data.length;this._setBit(e);this._changedData=true}else{n=true}this._setInternalPos(r,e,t,n);this._changedLength=true}}unset(e){this.set(e,undefined)}get(e){this._sortData();const t=this._internalPositionFor(e,true);if(t===-1){return undefined}return this._data[t][1]}push(e){this.set(this.length,e);return this.length}get length(){this._sortData();if(this._changedLength){const e=this._data[this._data.length-1];this._length=e?e[0]+1:0;this._changedLength=false}return this._length}forEach(e){let t=0;while(t<this.length){e(this.get(t),t,this);t++}}map(e){let t=0;let r=new Array(this.length);while(t<this.length){r[t]=e(this.get(t),t,this);t++}return r}reduce(e,t){let r=0;let n=t;while(r<this.length){const t=this.get(r);n=e(n,t,r);r++}return n}find(e){let t=0,r,n;while(t<this.length&&!r){n=this.get(t);r=e(n);t++}return r?n:undefined}_internalPositionFor(e,t){const r=this._bytePosFor(e,t);if(r>=this._bitArrays.length){return-1}const n=this._bitArrays[r];const i=e-r*BITS_PER_BYTE;const s=(n&1<<i)>0;if(!s){return-1}const f=this._bitArrays.slice(0,r).reduce(popCountReduce,0);const a=~(4294967295<<i+1);const o=popCount(n&a);const c=f+o-1;return c}_bytePosFor(e,t){const r=Math.floor(e/BITS_PER_BYTE);const n=r+1;while(!t&&this._bitArrays.length<n){this._bitArrays.push(0)}return r}_setBit(e){const t=this._bytePosFor(e,false);this._bitArrays[t]|=1<<e-t*BITS_PER_BYTE}_unsetBit(e){const t=this._bytePosFor(e,false);this._bitArrays[t]&=~(1<<e-t*BITS_PER_BYTE)}_setInternalPos(e,t,r,n){const i=this._data;const s=[t,r];if(n){this._sortData();i[e]=s}else{if(i.length){if(i[i.length-1][0]>=t){i.push(s)}else if(i[0][0]<=t){i.unshift(s)}else{const e=Math.round(i.length/2);this._data=i.slice(0,e).concat(s).concat(i.slice(e))}}else{this._data.push(s)}this._changedData=true;this._changedLength=true}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){if(this._changedData){this._data.sort(sortInternal)}this._changedData=false}bitField(){const e=[];let t=8;let r=0;let n=0;let i;const s=this._bitArrays.slice();while(s.length||r){if(r===0){i=s.shift();r=7}const f=Math.min(r,t);const a=~(255<<f);const o=i&a;n|=o<<8-t;i=i>>>f;r-=f;t-=f;if(!t||!r&&!s.length){e.push(n);n=0;t=8}}for(var f=e.length-1;f>0;f--){const t=e[f];if(t===0){e.pop()}else{break}}return e}compactArray(){this._sortData();return this._data.map(valueOnly)}};function popCountReduce(e,t){return e+popCount(t)}function popCount(e){let t=e;t=t-(t>>1&1431655765);t=(t&858993459)+(t>>2&858993459);return(t+(t>>4)&252645135)*16843009>>24}function sortInternal(e,t){return e[0]-t[0]}function valueOnly(e){return e[1]}var asUint8array=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e){if(globalThis.Buffer!=null){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}return e}t.asUint8Array=r}));var alloc_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e=0){if(globalThis.Buffer!=null&&globalThis.Buffer.alloc!=null){return asUint8array.asUint8Array(globalThis.Buffer.alloc(e))}return new Uint8Array(e)}function n(e=0){if(globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null){return asUint8array.asUint8Array(globalThis.Buffer.allocUnsafe(e))}return new Uint8Array(e)}t.alloc=r;t.allocUnsafe=n}));function createCodec(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const string=createCodec("utf8","u",(e=>{const t=new TextDecoder("utf8");return"u"+t.decode(e)}),(e=>{const t=new TextEncoder;return t.encode(e.substring(1))}));const ascii=createCodec("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++){t+=String.fromCharCode(e[r])}return t}),(e=>{e=e.substring(1);const t=alloc_1.allocUnsafe(e.length);for(let r=0;r<e.length;r++){t[r]=e.charCodeAt(r)}return t}));const BASES={utf8:string,"utf-8":string,hex:basics.bases.base16,latin1:ascii,ascii,binary:ascii,...basics.bases};var bases=BASES;var fromString_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e,t="utf8"){const r=bases[t];if(!r){throw new Error(`Unsupported encoding "${t}"`)}if((t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null){return asUint8array.asUint8Array(globalThis.Buffer.from(e,"utf-8"))}return r.decoder.decode(`${r.prefix}${e}`)}t.fromString=r}));const{fromString:uint8ArrayFromString}=fromString_1;class Bucket$1{constructor(e,t,r=0){this._options=e;this._popCount=0;this._parent=t;this._posAtParent=r;this._children=new sparseArray;this.key=null}async put(e,t){const r=await this._findNewBucketAndPos(e);await r.bucket._putAt(r,e,t)}async get(e){const t=await this._findChild(e);if(t){return t.value}}async del(e){const t=await this._findPlace(e);const r=t.bucket._at(t.pos);if(r&&r.key===e){t.bucket._delAt(t.pos)}}leafCount(){const e=this._children.compactArray();return e.reduce(((e,t)=>{if(t instanceof Bucket$1){return e+t.leafCount()}return e+1}),0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const e=this._children.compactArray();for(const t of e){if(t instanceof Bucket$1){yield*t.eachLeafSeries()}else{yield t}}return[]}serialize(e,t){const r=[];return t(this._children.reduce(((r,n,i)=>{if(n){if(n instanceof Bucket$1){r.push(n.serialize(e,t))}else{r.push(e(n,i))}}return r}),r))}asyncTransform(e,t){return asyncTransformBucket(this,e,t)}toJSON(){return this.serialize(mapNode,reduceNodes)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){const t=await this._findPlace(e);const r=t.bucket._at(t.pos);if(r instanceof Bucket$1){return undefined}if(r&&r.key===e){return r}}async _findPlace(e){const t=this._options.hash(typeof e==="string"?uint8ArrayFromString(e):e);const r=await t.take(this._options.bits);const n=this._children.get(r);if(n instanceof Bucket$1){return n._findPlace(t)}return{bucket:this,pos:r,hash:t,existingChild:n}}async _findNewBucketAndPos(e){const t=await this._findPlace(e);if(t.existingChild&&t.existingChild.key!==e){const e=new Bucket$1(this._options,t.bucket,t.pos);t.bucket._putObjectAt(t.pos,e);const r=await e._findPlace(t.existingChild.hash);r.bucket._putAt(r,t.existingChild.key,t.existingChild.value);return e._findNewBucketAndPos(t.hash)}return t}_putAt(e,t,r){this._putObjectAt(e.pos,{key:t,value:r,hash:e.hash})}_putObjectAt(e,t){if(!this._children.get(e)){this._popCount++}this._children.set(e,t)}_delAt(e){if(e===-1){throw new Error("Invalid position")}if(this._children.get(e)){this._popCount--}this._children.unset(e);this._level()}_level(){if(this._parent&&this._popCount<=1){if(this._popCount===1){const e=this._children.find(exists);if(e&&!(e instanceof Bucket$1)){const t=e.hash;t.untake(this._options.bits);const r={pos:this._posAtParent,hash:t,bucket:this._parent};this._parent._putAt(r,e.key,e.value)}}else{this._parent._delAt(this._posAtParent)}}}_at(e){return this._children.get(e)}}function exists(e){return Boolean(e)}function mapNode(e,t){return e.key}function reduceNodes(e){return e}async function asyncTransformBucket(e,t,r){const n=[];for(const i of e._children.compactArray()){if(i instanceof Bucket$1){await asyncTransformBucket(i,t,r)}else{const r=await t(i);n.push({bitField:e._children.bitField(),children:r})}}return r(n)}var bucket=Bucket$1;const START_MASKS=[255,254,252,248,240,224,192,128];const STOP_MASKS=[1,3,7,15,31,63,127,255];var consumableBuffer=class e{constructor(e){this._value=e;this._currentBytePos=e.length-1;this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(e){let t=e;let r=0;while(t&&this._haveBits()){const e=this._value[this._currentBytePos];const n=this._currentBitPos+1;const i=Math.min(n,t);const s=byteBitsToInt(e,n-i,i);r=(r<<i)+s;t-=i;this._currentBitPos-=i;if(this._currentBitPos<0){this._currentBitPos=7;this._currentBytePos--}}return r}untake(e){this._currentBitPos+=e;while(this._currentBitPos>7){this._currentBitPos-=8;this._currentBytePos+=1}}_haveBits(){return this._currentBytePos>=0}};function byteBitsToInt(e,t,r){const n=maskFor(t,r);return(e&n)>>>t}function maskFor(e,t){return START_MASKS[e]&STOP_MASKS[Math.min(t+e-1,7)]}var concat_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e,t){if(!t){t=e.reduce(((e,t)=>e+t.length),0)}const r=alloc_1.allocUnsafe(t);let n=0;for(const t of e){r.set(t,n);n+=t.length}return asUint8array.asUint8Array(r)}t.concat=r}));const{concat:uint8ArrayConcat}=concat_1;function wrapHash(e){function t(t){if(t instanceof InfiniteHash){return t}else{return new InfiniteHash(t,e)}}return t}class InfiniteHash{constructor(e,t){if(!(e instanceof Uint8Array)){throw new Error("can only hash Uint8Arrays")}this._value=e;this._hashFn=t;this._depth=-1;this._availableBits=0;this._currentBufferIndex=0;this._buffers=[]}async take(e){let t=e;while(this._availableBits<t){await this._produceMoreBits()}let r=0;while(t>0){const e=this._buffers[this._currentBufferIndex];const n=Math.min(e.availableBits(),t);const i=e.take(n);r=(r<<n)+i;t-=n;this._availableBits-=n;if(e.availableBits()===0){this._currentBufferIndex++}}return r}untake(e){let t=e;while(t>0){const e=this._buffers[this._currentBufferIndex];const r=Math.min(e.totalBits()-e.availableBits(),t);e.untake(r);t-=r;this._availableBits+=r;if(this._currentBufferIndex>0&&e.totalBits()===e.availableBits()){this._depth--;this._currentBufferIndex--}}}async _produceMoreBits(){this._depth++;const e=this._depth?uint8ArrayConcat([this._value,Uint8Array.from([this._depth])]):this._value;const t=await this._hashFn(e);const r=new consumableBuffer(t);this._buffers.push(r);this._availableBits+=r.availableBits()}}var consumableHash=wrapHash;var InfiniteHash_1=InfiniteHash;consumableHash.InfiniteHash=InfiniteHash_1;function createHAMT$1(e){if(!e||!e.hashFn){throw new Error("please define an options.hashFn")}const t={bits:e.bits||8,hash:consumableHash(e.hashFn)};return new bucket(t)}var src$1={createHAMT:createHAMT$1,Bucket:bucket};const{DAGLink,DAGNode}=src$3;const{UnixFS}=src$6;const{createHAMT,Bucket}=src$1;class DirSharded extends dir{constructor(e,t){super(e,t);this._bucket=createHAMT({hashFn:t.hamtHashFn,bits:t.hamtBucketBits})}async put(e,t){await this._bucket.put(e,t)}get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:e,value:t}of this._bucket.eachLeafSeries()){yield{key:e,child:t}}}async*flush(e){for await(const t of flush(this._bucket,e,this,this.options)){yield{...t,path:this.path}}}}var dirSharded=DirSharded;async function*flush(e,t,r,n){const i=e._children;const s=[];let f=0;for(let e=0;e<i.length;e++){const r=i.get(e);if(!r){continue}const a=e.toString(16).toUpperCase().padStart(2,"0");if(r instanceof Bucket){let e;for await(const i of await flush(r,t,null,n)){e=i}if(!e){throw new Error("Could not flush sharded directory, no subshard found")}s.push(new DAGLink(a,e.size,e.cid));f+=e.size}else if(typeof r.value.flush==="function"){const e=r.value;let n;for await(const r of e.flush(t)){n=r;yield n}const i=a+r.key;s.push(new DAGLink(i,n.size,n.cid));f+=n.size}else{const e=r.value;if(!e.cid){continue}const t=a+r.key;const n=e.size;s.push(new DAGLink(t,n,e.cid));f+=n}}const a=Uint8Array.from(i.bitField().reverse());const o=new UnixFS({type:"hamt-sharded-directory",data:a,fanout:e.tableSize(),hashType:n.hamtHashCode,mtime:r&&r.mtime,mode:r&&r.mode});const c=new DAGNode(o.marshal(),s);const u=c.serialize();const l=await persist_1(u,t,n);const h=u.length+f;yield{cid:l,unixfs:o,size:h}}var flatToShard=async function e(t,r,n,i){let s=r;if(r instanceof dirFlat&&r.directChildrenCount()>=n){s=await convertToShard(r,i)}const f=s.parent;if(f){if(s!==r){if(t){t.parent=s}if(!s.parentKey){throw new Error("No parent key found")}await f.put(s.parentKey,s)}return e(s,f,n,i)}return s};async function convertToShard(e,t){const r=new dirSharded({root:e.root,dir:true,parent:e.parent,parentKey:e.parentKey,path:e.path,dirty:e.dirty,flat:false,mtime:e.mtime,mode:e.mode},t);for await(const{key:t,child:n}of e.eachChildSeries()){await r.put(t,n)}return r}const toPathComponents=(e="")=>(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean);var toPathComponents_1=toPathComponents;async function addToTree(e,t,r){const n=toPathComponents_1(e.path||"");const i=n.length-1;let s=t;let f="";for(let a=0;a<n.length;a++){const o=n[a];f+=`${f?"/":""}${o}`;const c=a===i;s.dirty=true;s.cid=undefined;s.size=undefined;if(c){await s.put(o,e);t=await flatToShard(null,s,r.shardSplitThreshold,r)}else{let e=await s.get(o);if(!e||!(e instanceof dir)){e=new dirFlat({root:false,dir:true,parent:s,parentKey:o,path:f,dirty:true,flat:true,mtime:e&&e.unixfs&&e.unixfs.mtime,mode:e&&e.unixfs&&e.unixfs.mode},r)}await s.put(o,e);s=e}}return t}async function*flushAndYield(e,t){if(!(e instanceof dir)){if(e&&e.unixfs&&e.unixfs.isDirectory()){yield e}return}yield*e.flush(t)}async function*treeBuilder(e,t,r){let n=new dirFlat({root:true,dir:true,path:"",dirty:true,flat:true},r);for await(const t of e){if(!t){continue}n=await addToTree(t,n,r);if(!t.unixfs||!t.unixfs.isDirectory()){yield t}}if(r.wrapWithDirectory){yield*flushAndYield(n,t)}else{for await(const e of n.eachChildSeries()){if(!e){continue}yield*flushAndYield(e.child,t)}}}var treeBuilder_1=treeBuilder;async function*importer$1(e,t,r={}){const n=options(r);let i;if(typeof r.dagBuilder==="function"){i=r.dagBuilder}else{i=dagBuilder_1}let s;if(typeof r.treeBuilder==="function"){s=r.treeBuilder}else{s=treeBuilder_1}let f;if(Symbol.asyncIterator in e||Symbol.iterator in e){f=e}else{f=[e]}for await(const e of s(itParallelBatch(i(f,t,n),n.fileImportConcurrency),t,n)){yield{cid:e.cid,path:e.path,unixfs:e.unixfs,size:e.size}}}var src={importer:importer$1};const{importer}=src;const block={get:async e=>{throw new Error(`unexpected block API get for ${e}`)},put:async()=>{throw new Error("unexpected block API put")}};var of=async(e,t)=>{t=t||{};t.onlyHash=true;if(typeof e==="string"){e=(new TextEncoder).encode(e)}let r;for await(const{cid:n}of importer([{content:e}],block,t)){r=n}return`${r}`};class IpfsCidValidator{constructor(){this.validationResult={auth:AuthenticationType.SCRIPT_URI,authText:"Authenticity verified via contract ScriptUri",integrity:IntegrityType.URL_HASH,status:SecurityStatus$1.INVALID}}async validate(e,t,r){const n=t.match(/^.*[\/=]?([a-zA-z1-9]{46})[\/?&.]?.*$/);if(!n)return false;const i=await of(r,null);if(i===n[1]){this.validationResult.integrityText="IPFS CID/hash successfully validated";this.validationResult.status=SecurityStatus$1.VALID}else{this.validationResult.integrityText="IPFS CID in url ("+n[0]+") does not match calculated CID ("+i+")";this.validationResult.statusText="TokenScript file integrity cannot be established"}return this.validationResult}}var IntegrityType;(function(e){e["NONE"]="none";e["URL_HASH"]="urlHash";e["XML_DSIG"]="dsig"})(IntegrityType||(IntegrityType={}));var AuthenticationType;(function(e){e["NONE"]="none";e["SCRIPT_URI"]="scriptUri";e["XML_DSIG"]="dsig"})(AuthenticationType||(AuthenticationType={}));var SecurityStatus$1;(function(e){e["VALID"]="valid";e["WARNING"]="warn";e["INVALID"]="invalid"})(SecurityStatus$1||(SecurityStatus$1={}));class SecurityInfo{constructor(e,t,r,n,i){this.tokenScript=e;this.xml=t;this.xmlStr=r;this.source=n;this.sourceUrl=i}async getInfo(){if(!this.securityInfo){await this.verify();if(!this.securityInfo.statusText){if(this.securityInfo.status===SecurityStatus$1.VALID){this.securityInfo.statusText="TokenScript authenticity & integrity successfully validated"}else{this.securityInfo.statusText="TokenScript authenticity and integrity cannot be established"}}console.log("TokenScript security info result: ",this.securityInfo)}return this.securityInfo}async verify(){const e=await(new DSigValidator).validate(this.tokenScript,this.sourceUrl,this.xmlStr);if(e!==false){this.securityInfo=e;return}if(this.source===ScriptSourceType.SCRIPT_URI){const e=await(new IpfsCidValidator).validate(this.tokenScript,this.sourceUrl,this.xmlStr);if(e!==false){this.securityInfo=e;return}}this.securityInfo={};this.securityInfo.status=SecurityStatus$1.INVALID;this.securityInfo.auth=AuthenticationType.NONE;this.securityInfo.authText="Could not verify contract/script authenticity";this.securityInfo.integrity=IntegrityType.NONE;this.securityInfo.integrityText="Could not validated TokenScript file integrity"}}class SelectionFilter{constructor(e,t){this.tokenScript=e;const r=t.match(/([a-zA-Z0-9]*)([=<>]*)([a-zA-Z0-9]*)/);if(r.length<4)throw new Error("Malformed selection filter");this.attributeName=r[1];this.conditionOperator=r[2];this.conditionValue=r[3]}async getAttributeValue(e){const t=this.tokenScript.getAttributes();if(!t.hasAttribute(this.attributeName))throw new Error("Selection filter references an undefined attribute, "+this.attributeName);return t.getAttribute(this.attributeName).getValue(false,false,false,e)}async satisfiesFilter(e){const t=await this.getAttributeValue(e);const r=this.sanitiseConditionValue();switch(this.conditionOperator){case"=":return t==r;case"<":return t<r;case">":return t>r;default:throw new Error("Filter condition "+this.conditionOperator+" is not implemented.")}}sanitiseConditionValue(){switch(this.conditionValue){case"TRUE":return true;case"FALSE":return false;default:if(this.isNumeric(this.conditionValue))return BigInt(this.conditionValue)}return this.conditionValue}isNumeric(e){return/^-?\d+$/.test(e)}}class Selection{constructor(e,t){this.tokenScript=e;this.selectionDef=t}getName(){return this.selectionDef.getAttribute("name")}getLabel(){var e;if(!this.label)this.label=new Label(this.selectionDef);return(e=this.label.getValue())!==null&&e!==void 0?e:this.getName()}getFilter(){if(!this.filter)this.filter=new SelectionFilter(this.tokenScript,this.selectionDef.getAttribute("filter"));return this.filter}isInSelection(e){return this.getFilter().satisfiesFilter(e)}}class Selections{constructor(e,t){this.tokenScript=e;this.parentElem=t}getSelections(){if(!this.selections){this.selections={};const e=Array.prototype.slice.call(this.parentElem.children).filter((e=>e.tagName==="ts:selection"));if(e.length>0){for(let t in e){const r=new Selection(this.tokenScript,e[t]);this.selections[r.getName()]=r}}}return this.selections}getSelection(e){if(!this.selections)this.getSelections();if(!this.selections[e])throw new Error("Could not find selection '"+e+"'");return this.selections[e]}[Symbol.iterator](){return Object.values(this.getSelections()).values()}}const abi_1=getAugmentedNamespace(lib_esm$c);const address_1=getAugmentedNamespace(lib_esm$g);const require$$0=getAugmentedNamespace(lib_esm$e);const basex_1=getAugmentedNamespace(lib_esm$9);const bytes_1=getAugmentedNamespace(lib_esm$k);const hash_1$1=getAugmentedNamespace(lib_esm$d);const hdnode_1=getAugmentedNamespace(lib_esm$7);const json_wallets_1=getAugmentedNamespace(lib_esm$5);const keccak256_1=getAugmentedNamespace(lib_esm$i);const logger_1=getAugmentedNamespace(lib_esm$l);const sha2_1=getAugmentedNamespace(lib_esm$8);const solidity_1=getAugmentedNamespace(lib_esm$2);const random_1=getAugmentedNamespace(lib_esm$6);const properties_1=getAugmentedNamespace(lib_esm$j);const require$$1=getAugmentedNamespace(lib_esm$h);const signing_key_1=getAugmentedNamespace(lib_esm$b);const strings_1=getAugmentedNamespace(lib_esm$f);const transactions_1=getAugmentedNamespace(lib_esm$a);const units_1=getAugmentedNamespace(lib_esm$1);const wallet_1=getAugmentedNamespace(lib_esm$4);const web_1=getAugmentedNamespace(lib_esm$3);var utils$3=createCommonjsModule$2((function(e,t){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var n=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i))r(t,e,i);n(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.formatBytes32String=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t._toEscapedUtf8String=t.nameprep=t.hexDataSlice=t.hexDataLength=t.hexZeroPad=t.hexValue=t.hexStripZeros=t.hexConcat=t.isHexString=t.hexlify=t.base64=t.base58=t.TransactionDescription=t.LogDescription=t.Interface=t.SigningKey=t.HDNode=t.defaultPath=t.isBytesLike=t.isBytes=t.zeroPad=t.stripZeros=t.concat=t.arrayify=t.shallowCopy=t.resolveProperties=t.getStatic=t.defineReadOnly=t.deepCopy=t.checkProperties=t.poll=t.fetchJson=t._fetchData=t.RLP=t.Logger=t.checkResultErrors=t.FormatTypes=t.ParamType=t.FunctionFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.Fragment=t.defaultAbiCoder=t.AbiCoder=void 0;t.Indexed=t.Utf8ErrorReason=t.UnicodeNormalizationForm=t.SupportedAlgorithm=t.mnemonicToSeed=t.isValidMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.getAccountPath=t.verifyTypedData=t.verifyMessage=t.recoverPublicKey=t.computePublicKey=t.recoverAddress=t.computeAddress=t.getJsonWalletAddress=t.TransactionTypes=t.serializeTransaction=t.parseTransaction=t.accessListify=t.joinSignature=t.splitSignature=t.soliditySha256=t.solidityKeccak256=t.solidityPack=t.shuffled=t.randomBytes=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.computeHmac=t.commify=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.isAddress=t.getCreate2Address=t.getContractAddress=t.getIcapAddress=t.getAddress=t._TypedDataEncoder=t.id=t.isValidName=t.namehash=t.hashMessage=t.dnsEncode=t.parseBytes32String=void 0;Object.defineProperty(t,"AbiCoder",{enumerable:true,get:function(){return abi_1.AbiCoder}});Object.defineProperty(t,"checkResultErrors",{enumerable:true,get:function(){return abi_1.checkResultErrors}});Object.defineProperty(t,"ConstructorFragment",{enumerable:true,get:function(){return abi_1.ConstructorFragment}});Object.defineProperty(t,"defaultAbiCoder",{enumerable:true,get:function(){return abi_1.defaultAbiCoder}});Object.defineProperty(t,"ErrorFragment",{enumerable:true,get:function(){return abi_1.ErrorFragment}});Object.defineProperty(t,"EventFragment",{enumerable:true,get:function(){return abi_1.EventFragment}});Object.defineProperty(t,"FormatTypes",{enumerable:true,get:function(){return abi_1.FormatTypes}});Object.defineProperty(t,"Fragment",{enumerable:true,get:function(){return abi_1.Fragment}});Object.defineProperty(t,"FunctionFragment",{enumerable:true,get:function(){return abi_1.FunctionFragment}});Object.defineProperty(t,"Indexed",{enumerable:true,get:function(){return abi_1.Indexed}});Object.defineProperty(t,"Interface",{enumerable:true,get:function(){return abi_1.Interface}});Object.defineProperty(t,"LogDescription",{enumerable:true,get:function(){return abi_1.LogDescription}});Object.defineProperty(t,"ParamType",{enumerable:true,get:function(){return abi_1.ParamType}});Object.defineProperty(t,"TransactionDescription",{enumerable:true,get:function(){return abi_1.TransactionDescription}});Object.defineProperty(t,"getAddress",{enumerable:true,get:function(){return address_1.getAddress}});Object.defineProperty(t,"getCreate2Address",{enumerable:true,get:function(){return address_1.getCreate2Address}});Object.defineProperty(t,"getContractAddress",{enumerable:true,get:function(){return address_1.getContractAddress}});Object.defineProperty(t,"getIcapAddress",{enumerable:true,get:function(){return address_1.getIcapAddress}});Object.defineProperty(t,"isAddress",{enumerable:true,get:function(){return address_1.isAddress}});var s=i(require$$0);t.base64=s;Object.defineProperty(t,"base58",{enumerable:true,get:function(){return basex_1.Base58}});Object.defineProperty(t,"arrayify",{enumerable:true,get:function(){return bytes_1.arrayify}});Object.defineProperty(t,"concat",{enumerable:true,get:function(){return bytes_1.concat}});Object.defineProperty(t,"hexConcat",{enumerable:true,get:function(){return bytes_1.hexConcat}});Object.defineProperty(t,"hexDataSlice",{enumerable:true,get:function(){return bytes_1.hexDataSlice}});Object.defineProperty(t,"hexDataLength",{enumerable:true,get:function(){return bytes_1.hexDataLength}});Object.defineProperty(t,"hexlify",{enumerable:true,get:function(){return bytes_1.hexlify}});Object.defineProperty(t,"hexStripZeros",{enumerable:true,get:function(){return bytes_1.hexStripZeros}});Object.defineProperty(t,"hexValue",{enumerable:true,get:function(){return bytes_1.hexValue}});Object.defineProperty(t,"hexZeroPad",{enumerable:true,get:function(){return bytes_1.hexZeroPad}});Object.defineProperty(t,"isBytes",{enumerable:true,get:function(){return bytes_1.isBytes}});Object.defineProperty(t,"isBytesLike",{enumerable:true,get:function(){return bytes_1.isBytesLike}});Object.defineProperty(t,"isHexString",{enumerable:true,get:function(){return bytes_1.isHexString}});Object.defineProperty(t,"joinSignature",{enumerable:true,get:function(){return bytes_1.joinSignature}});Object.defineProperty(t,"zeroPad",{enumerable:true,get:function(){return bytes_1.zeroPad}});Object.defineProperty(t,"splitSignature",{enumerable:true,get:function(){return bytes_1.splitSignature}});Object.defineProperty(t,"stripZeros",{enumerable:true,get:function(){return bytes_1.stripZeros}});Object.defineProperty(t,"_TypedDataEncoder",{enumerable:true,get:function(){return hash_1$1._TypedDataEncoder}});Object.defineProperty(t,"dnsEncode",{enumerable:true,get:function(){return hash_1$1.dnsEncode}});Object.defineProperty(t,"hashMessage",{enumerable:true,get:function(){return hash_1$1.hashMessage}});Object.defineProperty(t,"id",{enumerable:true,get:function(){return hash_1$1.id}});Object.defineProperty(t,"isValidName",{enumerable:true,get:function(){return hash_1$1.isValidName}});Object.defineProperty(t,"namehash",{enumerable:true,get:function(){return hash_1$1.namehash}});Object.defineProperty(t,"defaultPath",{enumerable:true,get:function(){return hdnode_1.defaultPath}});Object.defineProperty(t,"entropyToMnemonic",{enumerable:true,get:function(){return hdnode_1.entropyToMnemonic}});Object.defineProperty(t,"getAccountPath",{enumerable:true,get:function(){return hdnode_1.getAccountPath}});Object.defineProperty(t,"HDNode",{enumerable:true,get:function(){return hdnode_1.HDNode}});Object.defineProperty(t,"isValidMnemonic",{enumerable:true,get:function(){return hdnode_1.isValidMnemonic}});Object.defineProperty(t,"mnemonicToEntropy",{enumerable:true,get:function(){return hdnode_1.mnemonicToEntropy}});Object.defineProperty(t,"mnemonicToSeed",{enumerable:true,get:function(){return hdnode_1.mnemonicToSeed}});Object.defineProperty(t,"getJsonWalletAddress",{enumerable:true,get:function(){return json_wallets_1.getJsonWalletAddress}});Object.defineProperty(t,"keccak256",{enumerable:true,get:function(){return keccak256_1.keccak256}});Object.defineProperty(t,"Logger",{enumerable:true,get:function(){return logger_1.Logger}});Object.defineProperty(t,"computeHmac",{enumerable:true,get:function(){return sha2_1.computeHmac}});Object.defineProperty(t,"ripemd160",{enumerable:true,get:function(){return sha2_1.ripemd160}});Object.defineProperty(t,"sha256",{enumerable:true,get:function(){return sha2_1.sha256}});Object.defineProperty(t,"sha512",{enumerable:true,get:function(){return sha2_1.sha512}});Object.defineProperty(t,"solidityKeccak256",{enumerable:true,get:function(){return solidity_1.keccak256}});Object.defineProperty(t,"solidityPack",{enumerable:true,get:function(){return solidity_1.pack}});Object.defineProperty(t,"soliditySha256",{enumerable:true,get:function(){return solidity_1.sha256}});Object.defineProperty(t,"randomBytes",{enumerable:true,get:function(){return random_1.randomBytes}});Object.defineProperty(t,"shuffled",{enumerable:true,get:function(){return random_1.shuffled}});Object.defineProperty(t,"checkProperties",{enumerable:true,get:function(){return properties_1.checkProperties}});Object.defineProperty(t,"deepCopy",{enumerable:true,get:function(){return properties_1.deepCopy}});Object.defineProperty(t,"defineReadOnly",{enumerable:true,get:function(){return properties_1.defineReadOnly}});Object.defineProperty(t,"getStatic",{enumerable:true,get:function(){return properties_1.getStatic}});Object.defineProperty(t,"resolveProperties",{enumerable:true,get:function(){return properties_1.resolveProperties}});Object.defineProperty(t,"shallowCopy",{enumerable:true,get:function(){return properties_1.shallowCopy}});var f=i(require$$1);t.RLP=f;Object.defineProperty(t,"computePublicKey",{enumerable:true,get:function(){return signing_key_1.computePublicKey}});Object.defineProperty(t,"recoverPublicKey",{enumerable:true,get:function(){return signing_key_1.recoverPublicKey}});Object.defineProperty(t,"SigningKey",{enumerable:true,get:function(){return signing_key_1.SigningKey}});Object.defineProperty(t,"formatBytes32String",{enumerable:true,get:function(){return strings_1.formatBytes32String}});Object.defineProperty(t,"nameprep",{enumerable:true,get:function(){return strings_1.nameprep}});Object.defineProperty(t,"parseBytes32String",{enumerable:true,get:function(){return strings_1.parseBytes32String}});Object.defineProperty(t,"_toEscapedUtf8String",{enumerable:true,get:function(){return strings_1._toEscapedUtf8String}});Object.defineProperty(t,"toUtf8Bytes",{enumerable:true,get:function(){return strings_1.toUtf8Bytes}});Object.defineProperty(t,"toUtf8CodePoints",{enumerable:true,get:function(){return strings_1.toUtf8CodePoints}});Object.defineProperty(t,"toUtf8String",{enumerable:true,get:function(){return strings_1.toUtf8String}});Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:true,get:function(){return strings_1.Utf8ErrorFuncs}});Object.defineProperty(t,"accessListify",{enumerable:true,get:function(){return transactions_1.accessListify}});Object.defineProperty(t,"computeAddress",{enumerable:true,get:function(){return transactions_1.computeAddress}});Object.defineProperty(t,"parseTransaction",{enumerable:true,get:function(){return transactions_1.parse}});Object.defineProperty(t,"recoverAddress",{enumerable:true,get:function(){return transactions_1.recoverAddress}});Object.defineProperty(t,"serializeTransaction",{enumerable:true,get:function(){return transactions_1.serialize}});Object.defineProperty(t,"TransactionTypes",{enumerable:true,get:function(){return transactions_1.TransactionTypes}});Object.defineProperty(t,"commify",{enumerable:true,get:function(){return units_1.commify}});Object.defineProperty(t,"formatEther",{enumerable:true,get:function(){return units_1.formatEther}});Object.defineProperty(t,"parseEther",{enumerable:true,get:function(){return units_1.parseEther}});Object.defineProperty(t,"formatUnits",{enumerable:true,get:function(){return units_1.formatUnits}});Object.defineProperty(t,"parseUnits",{enumerable:true,get:function(){return units_1.parseUnits}});Object.defineProperty(t,"verifyMessage",{enumerable:true,get:function(){return wallet_1.verifyMessage}});Object.defineProperty(t,"verifyTypedData",{enumerable:true,get:function(){return wallet_1.verifyTypedData}});Object.defineProperty(t,"_fetchData",{enumerable:true,get:function(){return web_1._fetchData}});Object.defineProperty(t,"fetchJson",{enumerable:true,get:function(){return web_1.fetchJson}});Object.defineProperty(t,"poll",{enumerable:true,get:function(){return web_1.poll}});var a=sha2_1;Object.defineProperty(t,"SupportedAlgorithm",{enumerable:true,get:function(){return a.SupportedAlgorithm}});var o=strings_1;Object.defineProperty(t,"UnicodeNormalizationForm",{enumerable:true,get:function(){return o.UnicodeNormalizationForm}});Object.defineProperty(t,"Utf8ErrorReason",{enumerable:true,get:function(){return o.Utf8ErrorReason}})}));class AttestationDefinition{constructor(e,t){this.tokenScript=e;this.elem=t}getTokenScript(){return this.tokenScript}get name(){return this.elem.getAttribute("name")}get type(){return this.elem.getAttribute("type")}get meta(){var e,t,r,n,i,s,f;const a=(e=this.elem.getElementsByTagName("ts:meta"))===null||e===void 0?void 0:e[0];if(!a)return{title:this.tokenScript.getLabel(),image:"",description:""};return{title:(r=(t=a.getElementsByTagName("ts:title"))===null||t===void 0?void 0:t[0].innerHTML)!==null&&r!==void 0?r:this.tokenScript.getLabel(),image:(i=(n=a.getElementsByTagName("ts:image"))===null||n===void 0?void 0:n[0].innerHTML)!==null&&i!==void 0?i:"",description:(f=(s=a.getElementsByTagName("ts:description"))===null||s===void 0?void 0:s[0].innerHTML)!==null&&f!==void 0?f:""}}get keys(){const e=[];const t=this.elem.getElementsByTagName("ts:key");for(const r of t){e.push(r.innerHTML)}return e}get eventId(){var e,t;return(t=(e=this.elem.getElementsByTagName("ts:eventId"))===null||e===void 0?void 0:e[0].innerHTML)!==null&&t!==void 0?t:null}get idFields(){var e;const t=this.elem.getElementsByTagName("ts:idFields");if(!t.length)return[];return(e=t[0].innerHTML.split(","))!==null&&e!==void 0?e:[]}get schemaUID(){const e=this.elem.getElementsByTagName("ts:eas");if(e.length){if(e[0].hasAttribute("schemaUID")){return e[0].getAttribute("schemaUID")}}return"0x0000000000000000000000000000000000000000000000000000000000000000"}calculateAttestationCollectionHashes(){const e=[];let t=this.schemaUID;if(t.indexOf("0x")===0)t=t.substring(2);const r=new TextEncoder;for(let n of this.keys){if(n.indexOf("0x")===0)n=n.substring(2);const i=t+"-"+n+(this.eventId?"-"+this.eventId:"");const s=utils$3.sha256(r.encode(i));e.push(s)}return e}}class AttestationDefinitions{constructor(e,t){this.tokenScript=e;this.elem=t}getDefinitions(){if(!this.definitions){this.definitions={};const e=Array.prototype.slice.call(this.elem.children).filter((e=>e.tagName==="ts:attestation"));for(const t of e){const e=new AttestationDefinition(this.tokenScript,t);this.definitions[e.name]=e}}return this.definitions}getDefinition(e){const t=this.getDefinitions();return t[e]}[Symbol.iterator](){return Object.values(this.getDefinitions()).values()}}const ethers_1=getAugmentedNamespace(lib_esm);var Ownable__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.Ownable__factory=void 0;const r=[{anonymous:false,inputs:[{indexed:true,internalType:"address",name:"previousOwner",type:"address"},{indexed:true,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];class n{static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.Ownable__factory=n}));var access=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.Ownable__factory=void 0;Object.defineProperty(t,"Ownable__factory",{enumerable:true,get:function(){return Ownable__factory_1.Ownable__factory}})}));var IERC20Permit__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.IERC20Permit__factory=void 0;const r=[{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"}];class n{static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.IERC20Permit__factory=n}));var draftIERC20Permit_sol=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.IERC20Permit__factory=void 0;Object.defineProperty(t,"IERC20Permit__factory",{enumerable:true,get:function(){return IERC20Permit__factory_1.IERC20Permit__factory}})}));var IERC20Metadata__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.IERC20Metadata__factory=void 0;const r=[{anonymous:false,inputs:[{indexed:true,internalType:"address",name:"owner",type:"address"},{indexed:true,internalType:"address",name:"spender",type:"address"},{indexed:false,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:false,inputs:[{indexed:true,internalType:"address",name:"from",type:"address"},{indexed:true,internalType:"address",name:"to",type:"address"},{indexed:false,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];class n{static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.IERC20Metadata__factory=n}));var extensions=createCommonjsModule$2((function(e,t){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var n=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i))r(t,e,i);n(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.IERC20Metadata__factory=t.draftIerc20PermitSol=void 0;t.draftIerc20PermitSol=i(draftIERC20Permit_sol);Object.defineProperty(t,"IERC20Metadata__factory",{enumerable:true,get:function(){return IERC20Metadata__factory_1.IERC20Metadata__factory}})}));var ERC20__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.ERC20__factory=void 0;const r=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:false,inputs:[{indexed:true,internalType:"address",name:"owner",type:"address"},{indexed:true,internalType:"address",name:"spender",type:"address"},{indexed:false,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:false,inputs:[{indexed:true,internalType:"address",name:"from",type:"address"},{indexed:true,internalType:"address",name:"to",type:"address"},{indexed:false,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];const n="0x6080604052346200031d5762001095803803806200001d8162000322565b9283398101906040818303126200031d5780516001600160401b03908181116200031d57836200004f91840162000348565b91602093848201518381116200031d576200006b920162000348565b82518281116200021d576003918254916001958684811c9416801562000312575b88851014620002fc578190601f94858111620002a6575b5088908583116001146200023f5760009262000233575b505060001982861b1c191690861b1783555b80519384116200021d5760049586548681811c9116801562000212575b82821014620001fd57838111620001b2575b508092851160011462000144575093839491849260009562000138575b50501b92600019911b1c19161790555b604051610cda9081620003bb8239f35b01519350388062000118565b92919084601f1981168860005285600020956000905b898383106200019757505050106200017c575b50505050811b01905562000128565b01519060f884600019921b161c19169055388080806200016d565b8587015189559097019694850194889350908101906200015a565b87600052816000208480880160051c820192848910620001f3575b0160051c019087905b828110620001e6575050620000fb565b60008155018790620001d6565b92508192620001cd565b602288634e487b7160e01b6000525260246000fd5b90607f1690620000e9565b634e487b7160e01b600052604160045260246000fd5b015190503880620000ba565b90889350601f19831691876000528a6000209260005b8c8282106200028f575050841162000276575b505050811b018355620000cc565b015160001983881b60f8161c1916905538808062000268565b8385015186558c9790950194938401930162000255565b90915085600052886000208580850160051c8201928b8610620002f2575b918a91869594930160051c01915b828110620002e2575050620000a3565b600081558594508a9101620002d2565b92508192620002c4565b634e487b7160e01b600052602260045260246000fd5b93607f16936200008c565b600080fd5b6040519190601f01601f191682016001600160401b038111838210176200021d57604052565b919080601f840112156200031d5782516001600160401b0381116200021d576020906200037e601f8201601f1916830162000322565b928184528282870101116200031d5760005b818110620003a657508260009394955001015290565b85810183015184820184015282016200039056fe608060408181526004918236101561001657600080fd5b600092833560e01c91826306fdde031461075657508163095ea7b31461070e57816318160ddd146106d157816323b872dd146105a3578163313ce5671461056957816339509351146104bf57816370a082311461045e57816395d89b4114610268578163a457c2d71461016257508063a9059cbb146101145763dd62ed3e1461009e57600080fd5b3461011057807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261011057806020926100d86108fe565b6100e0610926565b73ffffffffffffffffffffffffffffffffffffffff91821683526001865283832091168252845220549051908152f35b5080fd5b503461011057807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101105760209061015b6101516108fe565b6024359033610949565b5160018152f35b9050823461026557827ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126102655761019b6108fe565b918360243592338152600160205281812073ffffffffffffffffffffffffffffffffffffffff861682526020522054908282106101e25760208561015b8585038733610b58565b60849060208651917f08c379a0000000000000000000000000000000000000000000000000000000008352820152602560248201527f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f7760448201527f207a65726f0000000000000000000000000000000000000000000000000000006064820152fd5b80fd5b83833461011057817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261011057805190828454600181811c90808316928315610454575b60209384841081146104285783885287959493929181156103cd5750600114610351575b50505003601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01682019267ffffffffffffffff8411838510176103255750829182610321925282610898565b0390f35b806041867f4e487b71000000000000000000000000000000000000000000000000000000006024945252fd5b8888529193925086917f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b5b8284106103b757505050907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe092601f928201019181936102d3565b805488850187015287945092850192810161037c565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0016848701525050151560051b830101905081601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe06102d3565b60248960228c7f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b91607f16916102af565b5050346101105760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610110578060209273ffffffffffffffffffffffffffffffffffffffff6104b06108fe565b16815280845220549051908152f35b82843461026557817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610265576104f76108fe565b338252600160205282822073ffffffffffffffffffffffffffffffffffffffff821683526020528282205491602435830180931161053d5760208461015b858533610b58565b806011867f4e487b71000000000000000000000000000000000000000000000000000000006024945252fd5b50503461011057817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610110576020905160128152f35b839150346101105760607ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610110576105dd6108fe565b6105e5610926565b91846044359473ffffffffffffffffffffffffffffffffffffffff8416815260016020528181203382526020522054907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff820361064b575b60208661015b878787610949565b84821061067457509183916106696020969561015b95033383610b58565b91939481935061063d565b60649060208751917f08c379a0000000000000000000000000000000000000000000000000000000008352820152601d60248201527f45524332303a20696e73756666696369656e7420616c6c6f77616e63650000006044820152fd5b50503461011057817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610110576020906002549051908152f35b50503461011057807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101105760209061015b61074c6108fe565b6024359033610b58565b8490843461089457827ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126108945782600354600181811c9080831692831561088a575b60209384841081146104285783885287959493929181156103cd575060011461080d5750505003601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01682019267ffffffffffffffff8411838510176103255750829182610321925282610898565b600388529193925086917fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b5b82841061087457505050907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe092601f928201019181936102d3565b8054888501870152879450928501928101610839565b91607f169161079c565b8280fd5b60208082528251818301819052939260005b8581106108ea575050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8460006040809697860101520116010190565b8181018301518482016040015282016108aa565b6004359073ffffffffffffffffffffffffffffffffffffffff8216820361092157565b600080fd5b6024359073ffffffffffffffffffffffffffffffffffffffff8216820361092157565b73ffffffffffffffffffffffffffffffffffffffff809116918215610ad45716918215610a50576000828152806020526040812054918083106109cc57604082827fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef958760209652828652038282205586815220818154019055604051908152a3565b60846040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f45524332303a207472616e7366657220616d6f756e742065786365656473206260448201527f616c616e636500000000000000000000000000000000000000000000000000006064820152fd5b60846040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602360248201527f45524332303a207472616e7366657220746f20746865207a65726f206164647260448201527f65737300000000000000000000000000000000000000000000000000000000006064820152fd5b60846040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602560248201527f45524332303a207472616e736665722066726f6d20746865207a65726f20616460448201527f64726573730000000000000000000000000000000000000000000000000000006064820152fd5b73ffffffffffffffffffffffffffffffffffffffff809116918215610c4a5716918215610bc65760207f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925918360005260018252604060002085600052825280604060002055604051908152a3565b60846040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602260248201527f45524332303a20617070726f766520746f20746865207a65726f20616464726560448201527f73730000000000000000000000000000000000000000000000000000000000006064820152fd5b60846040517f08c379a0000000000000000000000000000000000000000000000000000000008152602060048201526024808201527f45524332303a20617070726f76652066726f6d20746865207a65726f2061646460448201527f72657373000000000000000000000000000000000000000000000000000000006064820152fdfea164736f6c6343000813000a";const i=e=>e.length>1;class s extends ethers_1.ContractFactory{constructor(...e){if(i(e)){super(...e)}else{super(r,n,e[0])}}deploy(e,t,r){return super.deploy(e,t,r||{})}getDeployTransaction(e,t,r){return super.getDeployTransaction(e,t,r||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static bytecode=n;static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.ERC20__factory=s}));var IERC20__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.IERC20__factory=void 0;const r=[{anonymous:false,inputs:[{indexed:true,internalType:"address",name:"owner",type:"address"},{indexed:true,internalType:"address",name:"spender",type:"address"},{indexed:false,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:false,inputs:[{indexed:true,internalType:"address",name:"from",type:"address"},{indexed:true,internalType:"address",name:"to",type:"address"},{indexed:false,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];class n{static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.IERC20__factory=n}));var ERC20=createCommonjsModule$2((function(e,t){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var n=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i))r(t,e,i);n(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.IERC20__factory=t.ERC20__factory=t.extensions=void 0;t.extensions=i(extensions);Object.defineProperty(t,"ERC20__factory",{enumerable:true,get:function(){return ERC20__factory_1.ERC20__factory}});Object.defineProperty(t,"IERC20__factory",{enumerable:true,get:function(){return IERC20__factory_1.IERC20__factory}})}));var token=createCommonjsModule$2((function(e,t){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var n=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i))r(t,e,i);n(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.erc20=void 0;t.erc20=i(ERC20)}));var contracts$1=createCommonjsModule$2((function(e,t){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var n=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i))r(t,e,i);n(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.token=t.access=void 0;t.access=i(access);t.token=i(token)}));var _openzeppelin=createCommonjsModule$2((function(e,t){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var n=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i))r(t,e,i);n(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.contracts=void 0;t.contracts=i(contracts$1)}));var PermissionedEIP712Proxy__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.PermissionedEIP712Proxy__factory=void 0;const r=[{inputs:[{internalType:"contract IEAS",name:"eas",type:"address"},{internalType:"string",name:"name",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessDenied",type:"error"},{inputs:[],name:"DeadlineExpired",type:"error"},{inputs:[],name:"InvalidEAS",type:"error"},{inputs:[],name:"InvalidLength",type:"error"},{inputs:[],name:"InvalidSignature",type:"error"},{inputs:[],name:"NotFound",type:"error"},{inputs:[],name:"UsedSignature",type:"error"},{anonymous:false,inputs:[{indexed:true,internalType:"address",name:"previousOwner",type:"address"},{indexed:true,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct AttestationRequestData",name:"data",type:"tuple"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct EIP712Signature",name:"signature",type:"tuple"},{internalType:"address",name:"attester",type:"address"},{internalType:"uint64",name:"deadline",type:"uint64"}],internalType:"struct DelegatedProxyAttestationRequest",name:"delegatedRequest",type:"tuple"}],name:"attestByDelegation",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"payable",type:"function"},{inputs:[],name:"getAttestTypeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"uid",type:"bytes32"}],name:"getAttester",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getEAS",outputs:[{internalType:"contract IEAS",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRevokeTypeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct AttestationRequestData[]",name:"data",type:"tuple[]"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct EIP712Signature[]",name:"signatures",type:"tuple[]"},{internalType:"address",name:"attester",type:"address"},{internalType:"uint64",name:"deadline",type:"uint64"}],internalType:"struct MultiDelegatedProxyAttestationRequest[]",name:"multiDelegatedRequests",type:"tuple[]"}],name:"multiAttestByDelegation",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct RevocationRequestData[]",name:"data",type:"tuple[]"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct EIP712Signature[]",name:"signatures",type:"tuple[]"},{internalType:"address",name:"revoker",type:"address"},{internalType:"uint64",name:"deadline",type:"uint64"}],internalType:"struct MultiDelegatedProxyRevocationRequest[]",name:"multiDelegatedRequests",type:"tuple[]"}],name:"multiRevokeByDelegation",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct RevocationRequestData",name:"data",type:"tuple"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct EIP712Signature",name:"signature",type:"tuple"},{internalType:"address",name:"revoker",type:"address"},{internalType:"uint64",name:"deadline",type:"uint64"}],internalType:"struct DelegatedProxyRevocationRequest",name:"delegatedRequest",type:"tuple"}],name:"revokeByDelegation",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];const n="0x6101606040908082523462000388576200255a80380380916200002382856200038d565b83398101908281830312620003885780519060018060a01b03928383169485840362000388576020838101516001600160401b039491939185821162000388570193601f93828587011215620003885785518281116200034e57845196601f199462000096838901871685018a6200038d565b8289528383830101116200038857829060005b8381106200037357505060009188010152835194848601868110848211176200034e57855281600396878152019662302e3160e81b88528681518483012098208860e0526101009b818d524660a052875191858301907f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f9b8c83528a85015260608401524660808401523060a084015260a0835260c0830192808410888511176200034e57838a525190206080523060c052610120998a521562000364575061014098895280519384116200034e57600054926001938481811c9116801562000343575b828210146200032d57838111620002e2575b5080928511600114620002795750839450908392916000946200026d575b50501b9160001990851b1c1916176000555b8154336001600160a01b031982168117909355905194167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0600080a36121a89384620003b28539608051846116e1015260a051846117ad015260c051846116b2015260e05184611730015251836117560152518261170d01525181818161040b015281816105f001528181610ba901528181610d2d01526110c30152f35b015192503880620001bd565b9294849081166000805284600020946000905b88838310620002c75750505010620002ae575b505050811b01600055620001cf565b015160001983871b60f8161c191690553880806200029f565b8587015188559096019594850194879350908101906200028c565b60008052816000208480880160051c82019284891062000323575b0160051c019085905b828110620003165750506200019f565b6000815501859062000306565b92508192620002fd565b634e487b7160e01b600052602260045260246000fd5b90607f16906200018d565b634e487b7160e01b600052604160045260246000fd5b6341bc07ff60e11b8152600490fd5b8181018301518a8201840152849201620000a9565b600080fd5b601f909101601f19168101906001600160401b038211908210176200034e5760405256fe6080604052600436101561001257600080fd5b6000803560e01c80630eabf66014610ffb57806310d736d514610f9d57806312b11a1714610f4457806317d7de7c14610de35780633c04271514610bcd57806365c40b9c14610b5e578063715018a614610abf5780638da5cb5b14610a6d57806395411525146104ca578063a6d4dbc714610310578063b83010d3146102b7578063ed24911d14610276578063f2fde38b146101395763ffa1ad74146100b757600080fd5b3461013657807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610136576101326040516100f481611573565b600381527f302e31000000000000000000000000000000000000000000000000000000000060208201526040519182916020835260208301906114c4565b0390f35b80fd5b50346101365760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101365760043573ffffffffffffffffffffffffffffffffffffffff8082168092036102715761019361161c565b81156101ed57600354827fffffffffffffffffffffffff0000000000000000000000000000000000000000821617600355167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0600080a380f35b60846040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f64647265737300000000000000000000000000000000000000000000000000006064820152fd5b600080fd5b503461013657807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101365760206102af61169b565b604051908152f35b503461013657807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101365760206040517f96bdbea8fa280f8a0d0835587e1fbb1470e81d05c44514158443340cea40a05d8152f35b506101007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101365761034461161c565b60405161035081611528565b60043580825261035f36612024565b602083015260607fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9c3601126102715760405161039a816115a3565b60643560ff81168103610271578152608435602082015260a4356040820152604083015260c43573ffffffffffffffffffffffffffffffffffffffff90818116810361027157606084015260e43567ffffffffffffffff8116810361027157836104099160808796015261206a565b7f000000000000000000000000000000000000000000000000000000000000000016906040519061043982611573565b815261044436612024565b60208201908152823b156104c5576064849260209460405195869485937f4692626700000000000000000000000000000000000000000000000000000000855251600485015251805160248501520151604483015234905af180156104ba576104aa5750f35b6104b39061158f565b6101365780f35b6040513d84823e3d90fd5b505050fd5b5060207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101365767ffffffffffffffff600435818111610a6957610516903690600401611470565b61051e61161c565b61052781611ec7565b9061053560405192836115db565b8082527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe061056282611ec7565b01855b818110610a52575050845b81811061086957506040517f44adc90e0000000000000000000000000000000000000000000000000000000081526024810190602060048201528351809252604481016005926020604482861b85010196019189905b8282106107a4575050505086818073ffffffffffffffffffffffffffffffffffffffff96038134887f0000000000000000000000000000000000000000000000000000000000000000165af1958615610799578796610704575b5050508490855b818110610674578587604051918291602083016020845282518091526020604085019301915b81811061065b575050500390f35b825184528594506020938401939092019160010161064d565b61067f818387611ef9565b61068c6020820182611f68565b905060608992015b898284106106a85750505050600101610627565b819293966106b76040936119ae565b6106c1828d612010565b518352896001948594856020522091167fffffffffffffffffffffffff000000000000000000000000000000000000000082541617905501950190919091610694565b90919295503d8088843e61071881846115db565b82019160208184031261079157805191821161079157019181601f8401121561079557825192602061074985611ec7565b9461075760405196876115db565b808652818601931b82010192831161079157602001905b8282106107815750505092388080610620565b815181526020918201910161076e565b8780fd5b8680fd5b6040513d89823e3d90fd5b909192967fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbc8582030182528a8851916020604082019380518352015192604060208301528351809152606091602083820193838c1b8301019501935b8281106108205750505050506020806001929901920192019092916105c6565b909192939460208061085c837fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa087600196030189528951611944565b9701950193929101610800565b610874818386611ef9565b6108816020820182611f68565b9081158015610a3a575b610a10576080830135895b838110610939575050604051926108ac84611573565b3583526108b882611ec7565b916108c660405193846115db565b80835260051b8101602083013682116109355782905b82821061090c57505050506020820152600191906108fa8286612010565b526109058185612010565b5001610570565b81358b8111610931576020916109268392369088016117e8565b8152019101906108dc565b8c80fd5b8a80fd5b6109488160051b840184611911565b906109566040870187611fbc565b8293919310156109e35761096c606088016119ae565b908c851685036109df5773ffffffffffffffffffffffffffffffffffffffff6109d9926109c16001966109b0604051956109a587611528565b8d35875236906117e8565b6020860152369060608802016118d3565b60408401521660608201528c851660808201526119cf565b01610896565b8d80fd5b60248d7f4e487b710000000000000000000000000000000000000000000000000000000081526032600452fd5b60046040517f947d5a84000000000000000000000000000000000000000000000000000000008152fd5b50610a486040840184611fbc565b905082141561088b565b602090610a5d611edf565b82828701015201610565565b8280fd5b503461013657807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261013657602073ffffffffffffffffffffffffffffffffffffffff60035416604051908152f35b503461013657807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261013657610af661161c565b600073ffffffffffffffffffffffffffffffffffffffff6003547fffffffffffffffffffffffff00000000000000000000000000000000000000008116600355167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b503461013657807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261013657602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b506020907ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc9082823601126101365760043567ffffffffffffffff808211610a695760e082600401948336030112610a6957610c2761161c565b60405193610c3485611528565b80359485815260248401928335908111610ddf5791610ca2610cbd9492610c64610ca795600436918a01016117e8565b8a820152610c7536604489016118d3565b6040820152610c9860c460a4890198610c8d8a611507565b6060850152016117d3565b60808201526119cf565b611911565b60405194610cb486611573565b855236906117e8565b92848101938452610d0e6040519485927ff17325e700000000000000000000000000000000000000000000000000000000845287600485015251602484015251604060448401526064830190611944565b0390848473ffffffffffffffffffffffffffffffffffffffff938134867f0000000000000000000000000000000000000000000000000000000000000000165af1938415610dd4578394610da3575b50610d696040916119ae565b92848152600186522091167fffffffffffffffffffffffff0000000000000000000000000000000000000000825416179055604051908152f35b9093508481813d8311610dcd575b610dbb81836115db565b81010312610a69575192610d69610d5d565b503d610db1565b6040513d85823e3d90fd5b8580fd5b503461013657807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610136576040519080805491600183811c92818516948515610f3a575b6020958686108114610f0d57858852879493929187908215610ecc575050600114610e73575b5050610e5f925003836115db565b6101326040519282849384528301906114c4565b908592508180527f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5635b858310610eb4575050610e5f93508201013880610e51565b80548389018501528794508693909201918101610e9c565b91509350610e5f9592507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0091501682840152151560051b8201013880610e51565b6024837f4e487b710000000000000000000000000000000000000000000000000000000081526022600452fd5b93607f1693610e2b565b503461013657807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101365760206040517f4120d3b28306666b714826ad7cb70744d9658ad3e6cd873411bedadcf55afda78152f35b50346101365760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101365773ffffffffffffffffffffffffffffffffffffffff6040602092600435815260018452205416604051908152f35b5060207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101365760043567ffffffffffffffff811161146c57611046903690600401611470565b9061104f61161c565b61105882611ec7565b9161106660405193846115db565b8083527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe061109382611ec7565b01845b81811061145557505090835b8281106112015750505073ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016803b15610a69579082906040519283917f4cb7e9e5000000000000000000000000000000000000000000000000000000008352602483016020600485015281518091526044840190602060448260051b87010193019186905b82821061116a5750505050828091039134905af180156104ba5761115e575080f35b6111679061158f565b80f35b9295847fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbc929593969850030182528451602060608160408501938051865201519360408382015284518094520192019089905b8082106111df575050506020806001929601920192019287959387959361113c565b90919260206040600192828751805183520151838201520194019201906111bd565b61120f818484959794611ef9565b9160a083360312610136576040519361122785611528565b83358552602084013567ffffffffffffffff8111610a69578401601f9436868301121561141c57813561125981611ec7565b9261126760405194856115db565b81845260208085019260061b8201019036821161079557602001915b8183106114245750505060208701918252604081013567ffffffffffffffff81116114205781019536908701121561141c578535956112c187611ec7565b966112cf60405198896115db565b80885260206060818a0192028301019136831161079557602001905b828210611402575050506080611318918760408a015261130d60608201611507565b60608a0152016117d3565b60808701525193845180159182156113f6575b5050610a1057815b84518110156113b957806113b361134c60019388612010565b5188519061135e8460408c0151612010565b5173ffffffffffffffffffffffffffffffffffffffff60608c0151169067ffffffffffffffff60808d015116926040519461139886611528565b8552602085015260408401526060830152608082015261206a565b01611333565b50935160405191969360019392916113d083611573565b825260208201526113e18287612010565b526113ec8186612010565b50019190916110a2565b5114159050388061132b565b602060609161141136856118d3565b8152019101906112eb565b8380fd5b8480fd5b604083360312610795576020604091825161143e81611573565b853581528286013583820152815201920191611283565b602090611460611edf565b82828801015201611096565b5080fd5b9181601f840112156102715782359167ffffffffffffffff8311610271576020808501948460051b01011161027157565b60005b8381106114b45750506000910152565b81810151838201526020016114a4565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f602093611500815180928187528780880191016114a1565b0116010190565b359073ffffffffffffffffffffffffffffffffffffffff8216820361027157565b60a0810190811067ffffffffffffffff82111761154457604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040810190811067ffffffffffffffff82111761154457604052565b67ffffffffffffffff811161154457604052565b6060810190811067ffffffffffffffff82111761154457604052565b6080810190811067ffffffffffffffff82111761154457604052565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761154457604052565b73ffffffffffffffffffffffffffffffffffffffff60035416330361163d57565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602060248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152fd5b73ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000163014806117aa575b15611703577f000000000000000000000000000000000000000000000000000000000000000090565b60405160208101907f000000000000000000000000000000000000000000000000000000000000000082527f000000000000000000000000000000000000000000000000000000000000000060408201527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260a0815260c0810181811067ffffffffffffffff8211176115445760405251902090565b507f000000000000000000000000000000000000000000000000000000000000000046146116da565b359067ffffffffffffffff8216820361027157565b919060c083820312610271576040519067ffffffffffffffff60c083018181118482101761154457604052829461181e81611507565b845260209261182e8483016117d3565b848601526040820135801515810361027157604086015260608201356060860152608082013583811161027157820181601f8201121561027157803593841161154457604051916118a6867fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f88011601846115db565b84835285858301011161027157848460a09695879660009401838601378301015260808501520135910152565b9190826060910312610271576040516118eb816115a3565b8092803560ff811681036102715760409182918452602081013560208501520135910152565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff4181360301821215610271570190565b9073ffffffffffffffffffffffffffffffffffffffff825116815267ffffffffffffffff60208301511660208201526040820151151560408201526060820151606082015260a0806119a5608085015160c0608086015260c08501906114c4565b93015191015290565b3573ffffffffffffffffffffffffffffffffffffffff811681036102715790565b608081019067ffffffffffffffff808351168015159081611b43575b50611b19576020820151906040938484015193611a0785611dd7565b80519173ffffffffffffffffffffffffffffffffffffffff9485815116918560208301511691898101511515876080606084015193015160208151910120935116938b519560208701987f4120d3b28306666b714826ad7cb70744d9658ad3e6cd873411bedadcf55afda78a528d8801526060870152608086015260a085015260c084015260e0830152610100908183015281526101208101938185109085111761154457611ae395611ac6606094611adb9388978b52519020611d85565b9060ff81511689602083015192015192611ce9565b959095611b50565b015116911603611af05750565b600490517f8baa579f000000000000000000000000000000000000000000000000000000008152fd5b60046040517f1ab7da6b000000000000000000000000000000000000000000000000000000008152fd5b90508142161015386119eb565b6005811015611cba5780611b615750565b60018103611bc75760646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f45434453413a20696e76616c6964207369676e617475726500000000000000006044820152fd5b60028103611c2d5760646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e677468006044820152fd5b600314611c3657565b60846040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202773272076616c60448201527f75650000000000000000000000000000000000000000000000000000000000006064820152fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b9291907f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08311611d795791608094939160ff602094604051948552168484015260408301526060820152600093849182805260015afa15611d6c57815173ffffffffffffffffffffffffffffffffffffffff811615611d66579190565b50600190565b50604051903d90823e3d90fd5b50505050600090600390565b611d8d61169b565b906040519060208201927f190100000000000000000000000000000000000000000000000000000000000084526022830152604282015260428152611dd1816115bf565b51902090565b80519060406020820151910151604051917fff00000000000000000000000000000000000000000000000000000000000000602084019460f81b1684526021830152604182015260418152611e2b816115bf565b60ff6040516020818451611e408183896114a1565b810160028152030190205416611e9d57611e68916020916040519384928392519283916114a1565b8101600281520301902060017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00825416179055565b60046040517fcce9a824000000000000000000000000000000000000000000000000000000008152fd5b67ffffffffffffffff81116115445760051b60200190565b60405190611eec82611573565b6060602083600081520152565b9190811015611f395760051b810135907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff6181360301821215610271570190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe181360301821215610271570180359067ffffffffffffffff821161027157602001918160051b3603831361027157565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe181360301821215610271570180359067ffffffffffffffff82116102715760200191606082023603831361027157565b8051821015611f395760209160051b010190565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdc6040910112610271576040519061205b82611573565b60243582526044356020830152565b608081019067ffffffffffffffff9081835116801515908161218e575b50611b19576020810151918251600052600160205273ffffffffffffffffffffffffffffffffffffffff9260409484866000205416801561216557330361213c5792611adb859493611ac6606094611ae398968a860151936120e885611dd7565b865192519151168b519160208301937f96bdbea8fa280f8a0d0835587e1fbb1470e81d05c44514158443340cea40a05d85528d8401528883015260808201526080815261213481611528565b519020611d85565b600486517f4ca88867000000000000000000000000000000000000000000000000000000008152fd5b600487517fc5723b51000000000000000000000000000000000000000000000000000000008152fd5b905082421610153861208756fea164736f6c6343000813000a";const i=e=>e.length>1;class s extends ethers_1.ContractFactory{constructor(...e){if(i(e)){super(...e)}else{super(r,n,e[0])}}deploy(e,t,r){return super.deploy(e,t,r||{})}getDeployTransaction(e,t,r){return super.getDeployTransaction(e,t,r||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static bytecode=n;static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.PermissionedEIP712Proxy__factory=s}));var examples$1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.PermissionedEIP712Proxy__factory=void 0;Object.defineProperty(t,"PermissionedEIP712Proxy__factory",{enumerable:true,get:function(){return PermissionedEIP712Proxy__factory_1.PermissionedEIP712Proxy__factory}})}));var EIP712Proxy__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.EIP712Proxy__factory=void 0;const r=[{inputs:[{internalType:"contract IEAS",name:"eas",type:"address"},{internalType:"string",name:"name",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessDenied",type:"error"},{inputs:[],name:"DeadlineExpired",type:"error"},{inputs:[],name:"InvalidEAS",type:"error"},{inputs:[],name:"InvalidLength",type:"error"},{inputs:[],name:"InvalidSignature",type:"error"},{inputs:[],name:"NotFound",type:"error"},{inputs:[],name:"UsedSignature",type:"error"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct AttestationRequestData",name:"data",type:"tuple"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct EIP712Signature",name:"signature",type:"tuple"},{internalType:"address",name:"attester",type:"address"},{internalType:"uint64",name:"deadline",type:"uint64"}],internalType:"struct DelegatedProxyAttestationRequest",name:"delegatedRequest",type:"tuple"}],name:"attestByDelegation",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"payable",type:"function"},{inputs:[],name:"getAttestTypeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"uid",type:"bytes32"}],name:"getAttester",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getEAS",outputs:[{internalType:"contract IEAS",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRevokeTypeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct AttestationRequestData[]",name:"data",type:"tuple[]"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct EIP712Signature[]",name:"signatures",type:"tuple[]"},{internalType:"address",name:"attester",type:"address"},{internalType:"uint64",name:"deadline",type:"uint64"}],internalType:"struct MultiDelegatedProxyAttestationRequest[]",name:"multiDelegatedRequests",type:"tuple[]"}],name:"multiAttestByDelegation",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct RevocationRequestData[]",name:"data",type:"tuple[]"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct EIP712Signature[]",name:"signatures",type:"tuple[]"},{internalType:"address",name:"revoker",type:"address"},{internalType:"uint64",name:"deadline",type:"uint64"}],internalType:"struct MultiDelegatedProxyRevocationRequest[]",name:"multiDelegatedRequests",type:"tuple[]"}],name:"multiRevokeByDelegation",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct RevocationRequestData",name:"data",type:"tuple"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct EIP712Signature",name:"signature",type:"tuple"},{internalType:"address",name:"revoker",type:"address"},{internalType:"uint64",name:"deadline",type:"uint64"}],internalType:"struct DelegatedProxyRevocationRequest",name:"delegatedRequest",type:"tuple"}],name:"revokeByDelegation",outputs:[],stateMutability:"payable",type:"function"}];const n="0x61016060409080825234620003505762002239803803809162000023828562000355565b83398101918082840312620003505781516001600160a01b03811693909190848303620003505760208481015190946001600160401b03919082821162000350570194601f838188011215620003505786518381116200031657855197601f199562000096838501881686018b62000355565b828a528483830101116200035057839060005b8381106200033b575050600091890101528451858101908082108583111762000316578391875260038152019662302e3160e81b8852600381518483012098208860e05261010099818b524660a052875191858301907f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f9b8c83528a85015260608401524660808401523060a084015260a0835260c0830192808410888511176200031657838a525190206080523060c052610120998a52156200032c575061014096875280519384116200031657600054926001938481811c911680156200030b575b82821014620002f557838111620002aa575b50809285116001146200024057508394509083929160009462000234575b50501b916000199060031b1c1916176000555b5191611ebf93846200037a8539608051846113d7015260a051846114a3015260c051846113a8015260e051846114260152518361144c015251826114030152518181816102a5015281816104870152818161094f01528181610acb0152610e590152f35b015192503880620001bd565b9294849081166000805284600020946000905b888383106200028f575050501062000275575b505050811b01600055620001d0565b015160001960f88460031b161c1916905538808062000266565b85870151885590960195948501948793509081019062000253565b60008052816000208480880160051c820192848910620002eb575b0160051c019085905b828110620002de5750506200019f565b60008155018590620002ce565b92508192620002c5565b634e487b7160e01b600052602260045260246000fd5b90607f16906200018d565b634e487b7160e01b600052604160045260246000fd5b6341bc07ff60e11b8152600490fd5b8181018301518b8201840152859201620000a9565b600080fd5b601f909101601f19168101906001600160401b03821190821017620003165760405256fe6080604052600436101561001257600080fd5b6000803560e01c80630eabf66014610d9957806310d736d514610d3b57806312b11a1714610ce257806317d7de7c14610b815780633c0427151461097357806365c40b9c146109045780639541152514610369578063a6d4dbc7146101b2578063b83010d314610159578063ed24911d146101185763ffa1ad741461009657600080fd5b3461011557807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610115576101116040516100d3816112e8565b600381527f302e310000000000000000000000000000000000000000000000000000000000602082015260405191829160208352602083019061125a565b0390f35b80fd5b503461011557807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610115576020610151611391565b604051908152f35b503461011557807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101155760206040517f96bdbea8fa280f8a0d0835587e1fbb1470e81d05c44514158443340cea40a05d8152f35b506101007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610115576040516101ea8161129d565b6004358082526101f936611843565b602083015260607fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9c3601126103645760405161023481611318565b60643560ff81168103610364578152608435602082015260a4356040820152604083015260c43573ffffffffffffffffffffffffffffffffffffffff90818116810361036457606084015260e43567ffffffffffffffff8116810361036457836102a391608087960152611c91565b7f00000000000000000000000000000000000000000000000000000000000000001690604051906102d3826112e8565b81526102de36611843565b60208201908152823b1561035f576064849260209460405195869485937f4692626700000000000000000000000000000000000000000000000000000000855251600485015251805160248501520151604483015234905af18015610354576103445750f35b61034d90611304565b6101155780f35b6040513d84823e3d90fd5b505050fd5b600080fd5b5060207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101155767ffffffffffffffff600435818111610900576103b5903690600401611206565b6103be816116e6565b906103cc6040519283611350565b8082527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe06103f9826116e6565b01855b8181106108e9575050845b81811061070057506040517f44adc90e0000000000000000000000000000000000000000000000000000000081526024810190602060048201528351809252604481016005926020604482861b85010196019189905b82821061063b575050505086818073ffffffffffffffffffffffffffffffffffffffff96038134887f0000000000000000000000000000000000000000000000000000000000000000165af195861561063057879661059b575b5050508490855b81811061050b578587604051918291602083016020845282518091526020604085019301915b8181106104f2575050500390f35b82518452859450602093840193909201916001016104e4565b610516818387611718565b6105236020820182611787565b905060608992015b8982841061053f57505050506001016104be565b8192939661054e6040936116c5565b610558828d61182f565b518352896001948594856020522091167fffffffffffffffffffffffff00000000000000000000000000000000000000008254161790550195019091909161052b565b90919295503d8088843e6105af8184611350565b82019160208184031261062857805191821161062857019181601f8401121561062c5782519260206105e0856116e6565b946105ee6040519687611350565b808652818601931b82010192831161062857602001905b82821061061857505050923880806104b7565b8151815260209182019101610605565b8780fd5b8680fd5b6040513d89823e3d90fd5b909192967fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbc8582030182528a8851916020604082019380518352015192604060208301528351809152606091602083820193838c1b8301019501935b8281106106b757505050505060208060019299019201920190929161045d565b90919293946020806106f3837fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa08760019603018952895161165b565b9701950193929101610697565b61070b818386611718565b6107186020820182611787565b90811580156108d1575b6108a7576080830135895b8381106107d057505060405192610743846112e8565b35835261074f826116e6565b9161075d6040519384611350565b80835260051b8101602083013682116107cc5782905b8282106107a35750505050602082015260019190610791828661182f565b5261079c818561182f565b5001610407565b81358b81116107c8576020916107bd8392369088016114ff565b815201910190610773565b8c80fd5b8a80fd5b6107df8160051b840184611628565b906107ed60408701876117db565b82939193101561087a57610803606088016116c5565b908c851685036108765773ffffffffffffffffffffffffffffffffffffffff610870926108586001966108476040519561083c8761129d565b8d35875236906114ff565b6020860152369060608802016115ea565b60408401521660608201528c85166080820152611889565b0161072d565b8d80fd5b60248d7f4e487b710000000000000000000000000000000000000000000000000000000081526032600452fd5b60046040517f947d5a84000000000000000000000000000000000000000000000000000000008152fd5b506108df60408401846117db565b9050821415610722565b6020906108f46116fe565b828287010152016103fc565b8280fd5b503461011557807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261011557602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b506020907ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc9082823601126101155760043567ffffffffffffffff8082116109005760e08260040194833603011261090057604051936109d28561129d565b80359485815260248401928335908111610b7d5791610a40610a5b9492610a02610a4595600436918a01016114ff565b8a820152610a1336604489016115ea565b6040820152610a3660c460a4890198610a2b8a6114c9565b6060850152016114ea565b6080820152611889565b611628565b60405194610a52866112e8565b855236906114ff565b92848101938452610aac6040519485927ff17325e70000000000000000000000000000000000000000000000000000000084528760048501525160248401525160406044840152606483019061165b565b0390848473ffffffffffffffffffffffffffffffffffffffff938134867f0000000000000000000000000000000000000000000000000000000000000000165af1938415610b72578394610b41575b50610b076040916116c5565b92848152600186522091167fffffffffffffffffffffffff0000000000000000000000000000000000000000825416179055604051908152f35b9093508481813d8311610b6b575b610b598183611350565b81010312610900575192610b07610afb565b503d610b4f565b6040513d85823e3d90fd5b8580fd5b503461011557807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610115576040519080805491600183811c92818516948515610cd8575b6020958686108114610cab57858852879493929187908215610c6a575050600114610c11575b5050610bfd92500383611350565b61011160405192828493845283019061125a565b908592508180527f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5635b858310610c52575050610bfd93508201013880610bef565b80548389018501528794508693909201918101610c3a565b91509350610bfd9592507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0091501682840152151560051b8201013880610bef565b6024837f4e487b710000000000000000000000000000000000000000000000000000000081526022600452fd5b93607f1693610bc9565b503461011557807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101155760206040517f4120d3b28306666b714826ad7cb70744d9658ad3e6cd873411bedadcf55afda78152f35b50346101155760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101155773ffffffffffffffffffffffffffffffffffffffff6040602092600435815260018452205416604051908152f35b5060207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101155760043567ffffffffffffffff811161120257610de4903690600401611206565b90610dee826116e6565b91610dfc6040519384611350565b8083527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0610e29826116e6565b01845b8181106111eb57505090835b828110610f975750505073ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016803b15610900579082906040519283917f4cb7e9e5000000000000000000000000000000000000000000000000000000008352602483016020600485015281518091526044840190602060448260051b87010193019186905b828210610f005750505050828091039134905af1801561035457610ef4575080f35b610efd90611304565b80f35b9295847fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbc929593969850030182528451602060608160408501938051865201519360408382015284518094520192019089905b808210610f755750505060208060019296019201920192879593879593610ed2565b9091926020604060019282875180518352015183820152019401920190610f53565b610fa5818484959794611718565b9160a0833603126101155760405193610fbd8561129d565b83358552602084013567ffffffffffffffff8111610900578401601f943686830112156111b2578135610fef816116e6565b92610ffd6040519485611350565b81845260208085019260061b8201019036821161062c57602001915b8183106111ba5750505060208701918252604081013567ffffffffffffffff81116111b6578101953690870112156111b257853595611057876116e6565b966110656040519889611350565b80885260206060818a0192028301019136831161062c57602001905b8282106111985750505060806110ae918760408a01526110a3606082016114c9565b60608a0152016114ea565b608087015251938451801591821561118c575b50506108a757815b845181101561114f57806111496110e26001938861182f565b518851906110f48460408c015161182f565b5173ffffffffffffffffffffffffffffffffffffffff60608c0151169067ffffffffffffffff60808d015116926040519461112e8661129d565b85526020850152604084015260608301526080820152611c91565b016110c9565b5093516040519196936001939291611166836112e8565b82526020820152611177828761182f565b52611182818661182f565b5001919091610e38565b511415905038806110c1565b60206060916111a736856115ea565b815201910190611081565b8380fd5b8480fd5b60408336031261062c57602060409182516111d4816112e8565b853581528286013583820152815201920191611019565b6020906111f66116fe565b82828801015201610e2c565b5080fd5b9181601f840112156103645782359167ffffffffffffffff8311610364576020808501948460051b01011161036457565b60005b83811061124a5750506000910152565b818101518382015260200161123a565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f60209361129681518092818752878088019101611237565b0116010190565b60a0810190811067ffffffffffffffff8211176112b957604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040810190811067ffffffffffffffff8211176112b957604052565b67ffffffffffffffff81116112b957604052565b6060810190811067ffffffffffffffff8211176112b957604052565b6080810190811067ffffffffffffffff8211176112b957604052565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff8211176112b957604052565b73ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000163014806114a0575b156113f9577f000000000000000000000000000000000000000000000000000000000000000090565b60405160208101907f000000000000000000000000000000000000000000000000000000000000000082527f000000000000000000000000000000000000000000000000000000000000000060408201527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260a0815260c0810181811067ffffffffffffffff8211176112b95760405251902090565b507f000000000000000000000000000000000000000000000000000000000000000046146113d0565b359073ffffffffffffffffffffffffffffffffffffffff8216820361036457565b359067ffffffffffffffff8216820361036457565b919060c083820312610364576040519067ffffffffffffffff60c08301818111848210176112b9576040528294611535816114c9565b84526020926115458483016114ea565b848601526040820135801515810361036457604086015260608201356060860152608082013583811161036457820181601f820112156103645780359384116112b957604051916115bd867fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8801160184611350565b84835285858301011161036457848460a09695879660009401838601378301015260808501520135910152565b91908260609103126103645760405161160281611318565b8092803560ff811681036103645760409182918452602081013560208501520135910152565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff4181360301821215610364570190565b9073ffffffffffffffffffffffffffffffffffffffff825116815267ffffffffffffffff60208301511660208201526040820151151560408201526060820151606082015260a0806116bc608085015160c0608086015260c085019061125a565b93015191015290565b3573ffffffffffffffffffffffffffffffffffffffff811681036103645790565b67ffffffffffffffff81116112b95760051b60200190565b6040519061170b826112e8565b6060602083600081520152565b91908110156117585760051b810135907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff6181360301821215610364570190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe181360301821215610364570180359067ffffffffffffffff821161036457602001918160051b3603831361036457565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe181360301821215610364570180359067ffffffffffffffff82116103645760200191606082023603831361036457565b80518210156117585760209160051b010190565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdc6040910112610364576040519061187a826112e8565b60243582526044356020830152565b608081019067ffffffffffffffff8083511680151590816119fd575b506119d35760208201519060409384840151936118c185611dc2565b80519173ffffffffffffffffffffffffffffffffffffffff9485815116918560208301511691898101511515876080606084015193015160208151910120935116938b519560208701987f4120d3b28306666b714826ad7cb70744d9658ad3e6cd873411bedadcf55afda78a528d8801526060870152608086015260a085015260c084015260e083015261010090818301528152610120810193818510908511176112b95761199d956119806060946119959388978b52519020611c3f565b9060ff81511689602083015192015192611ba3565b959095611a0a565b0151169116036119aa5750565b600490517f8baa579f000000000000000000000000000000000000000000000000000000008152fd5b60046040517f1ab7da6b000000000000000000000000000000000000000000000000000000008152fd5b90508142161015386118a5565b6005811015611b745780611a1b5750565b60018103611a815760646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f45434453413a20696e76616c6964207369676e617475726500000000000000006044820152fd5b60028103611ae75760646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e677468006044820152fd5b600314611af057565b60846040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202773272076616c60448201527f75650000000000000000000000000000000000000000000000000000000000006064820152fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b9291907f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08311611c335791608094939160ff602094604051948552168484015260408301526060820152600093849182805260015afa15611c2657815173ffffffffffffffffffffffffffffffffffffffff811615611c20579190565b50600190565b50604051903d90823e3d90fd5b50505050600090600390565b611c47611391565b906040519060208201927f190100000000000000000000000000000000000000000000000000000000000084526022830152604282015260428152611c8b81611334565b51902090565b608081019067ffffffffffffffff90818351168015159081611db5575b506119d3576020810151918251600052600160205273ffffffffffffffffffffffffffffffffffffffff92604094848660002054168015611d8c573303611d63579261199585949361198060609461199d98968a86015193611d0f85611dc2565b865192519151168b519160208301937f96bdbea8fa280f8a0d0835587e1fbb1470e81d05c44514158443340cea40a05d85528d84015288830152608082015260808152611d5b8161129d565b519020611c3f565b600486517f4ca88867000000000000000000000000000000000000000000000000000000008152fd5b600487517fc5723b51000000000000000000000000000000000000000000000000000000008152fd5b9050824216101538611cae565b80519060406020820151910151604051917fff00000000000000000000000000000000000000000000000000000000000000602084019460f81b1684526021830152604182015260418152611e1681611334565b60ff6040516020818451611e2b818389611237565b810160028152030190205416611e8857611e5391602091604051938492839251928391611237565b8101600281520301902060017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00825416179055565b60046040517fcce9a824000000000000000000000000000000000000000000000000000000008152fdfea164736f6c6343000813000a";const i=e=>e.length>1;class s extends ethers_1.ContractFactory{constructor(...e){if(i(e)){super(...e)}else{super(r,n,e[0])}}deploy(e,t,r){return super.deploy(e,t,r||{})}getDeployTransaction(e,t,r){return super.getDeployTransaction(e,t,r||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static bytecode=n;static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.EIP712Proxy__factory=s}));var proxy=createCommonjsModule$2((function(e,t){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var n=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i))r(t,e,i);n(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.EIP712Proxy__factory=t.examples=void 0;t.examples=i(examples$1);Object.defineProperty(t,"EIP712Proxy__factory",{enumerable:true,get:function(){return EIP712Proxy__factory_1.EIP712Proxy__factory}})}));var EIP712Verifier__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.EIP712Verifier__factory=void 0;const r=[{inputs:[],name:"getAttestTypeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRevokeTypeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"}];class n{static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.EIP712Verifier__factory=n}));var eip712=createCommonjsModule$2((function(e,t){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var n=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i))r(t,e,i);n(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.EIP712Verifier__factory=t.proxy=void 0;t.proxy=i(proxy);Object.defineProperty(t,"EIP712Verifier__factory",{enumerable:true,get:function(){return EIP712Verifier__factory_1.EIP712Verifier__factory}})}));var AttestationResolver__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.AttestationResolver__factory=void 0;const r=[{inputs:[{internalType:"contract IEAS",name:"eas",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessDenied",type:"error"},{inputs:[],name:"InsufficientValue",type:"error"},{inputs:[],name:"InvalidEAS",type:"error"},{inputs:[],name:"NotPayable",type:"error"},{inputs:[],name:"OutOfBounds",type:"error"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"attest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[],name:"isPayable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiAttest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiRevoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"revoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint256",name:"start",type:"uint256"}],name:"toBytes32",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{stateMutability:"payable",type:"receive"}];const n="0x60a03461008957601f61088d38819003918201601f19168301916001600160401b0383118484101761008e5780849260209460405283398101031261008957516001600160a01b0381168082036100895715610077576080526040516107e890816100a5823960805181818161063401526107670152f35b6040516341bc07ff60e11b8152600490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe6080604052600436101561001e575b361561001957600080fd5b6104a5565b60003560e01c806388e5b2d91461008e57806391db0b7e1461008957806399dd9bd714610084578063ce46e0461461007f578063e49617e11461007a578063e60c3505146100755763ffa1ad740361000e576103d6565b6103bb565b61039e565b610313565b61026b565b610156565b60206100ad61009c366100ed565b926100a892919261061d565b6105da565b6040519015158152f35b9181601f840112156100e85782359167ffffffffffffffff83116100e8576020808501948460051b0101116100e857565b600080fd5b60407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc8201126100e85767ffffffffffffffff916004358381116100e85782610138916004016100b7565b939093926024359182116100e857610152916004016100b7565b9091565b60206100ad610164366100ed565b9261017092919261061d565b610553565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040810190811067ffffffffffffffff8211176101c057604052565b610175565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff8211176101c057604052565b92919267ffffffffffffffff82116101c0576040519161024e60207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f84011601846101c5565b8294818452818301116100e8578281602093846000960137010152565b346100e85760407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126100e85760043567ffffffffffffffff81116100e857366023820112156100e8576102cb903690602481600401359101610206565b60243590805160208301116102e95701602090810151604051908152f35b60046040517fb4120f14000000000000000000000000000000000000000000000000000000008152fd5b346100e85760007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126100e857602060405160008152f35b7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc906020828201126100e8576004359167ffffffffffffffff83116100e85782610140920301126100e85760040190565b6103a73661034d565b506103b061061d565b602060405160018152f35b60206100ad6103c93661034d565b6103d161061d565b6106aa565b346100e85760007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126100e8576040805190610413826101a4565b6004825260207f302e323700000000000000000000000000000000000000000000000000000000818401528151928184928352815191828285015260005b83811061048f575050600083830185015250601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0168101030190f35b8181018301518782018701528694508201610451565b60046040517f1574f9f3000000000000000000000000000000000000000000000000000000008152fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b919081101561050e5760051b0190565b6104cf565b919081101561050e5760051b810135907ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec1813603018212156100e8570190565b909192349160009182935b8585106105715750505050505050600190565b61057c8583896104fe565b35908082116105b0576105936103d1878987610513565b156105a557906001910394019361055e565b505050509250505090565b60046040517f11011294000000000000000000000000000000000000000000000000000000008152fd5b92600090345b8383106105f257505050505050600190565b6105fd8383876104fe565b358181116105b05760019161061385878a610513565b50039201916105e0565b73ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016330361065c57565b60046040517f4ca88867000000000000000000000000000000000000000000000000000000008152fd5b908160209103126100e8575180151581036100e85790565b6040513d6000823e3d90fd5b610120810135907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1813603018212156100e8570180359067ffffffffffffffff82116100e8576020019080360382136100e85761071661071161074e936020933691610206565b6107cb565b604051809381927fe30bb563000000000000000000000000000000000000000000000000000000008352600483019190602083019252565b038173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165afa9081156107c65760009161079b575090565b6107bc915060203d81116107bf575b6107b481836101c5565b810190610686565b90565b503d6107aa565b61069e565b60208151106102e957602001519056fea164736f6c6343000813000a";const i=e=>e.length>1;class s extends ethers_1.ContractFactory{constructor(...e){if(i(e)){super(...e)}else{super(r,n,e[0])}}deploy(e,t){return super.deploy(e,t||{})}getDeployTransaction(e,t){return super.getDeployTransaction(e,t||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static bytecode=n;static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.AttestationResolver__factory=s}));var AttesterResolver__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.AttesterResolver__factory=void 0;const r=[{inputs:[{internalType:"contract IEAS",name:"eas",type:"address"},{internalType:"address",name:"targetAttester",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessDenied",type:"error"},{inputs:[],name:"InsufficientValue",type:"error"},{inputs:[],name:"InvalidEAS",type:"error"},{inputs:[],name:"NotPayable",type:"error"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"attest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[],name:"isPayable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiAttest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiRevoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"revoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];const n="0x60c03461009e57601f61062738819003918201601f19168301916001600160401b038311848410176100a357808492604094855283398101031261009e5780516001600160a01b03918282169081830361009e5760200151928316830361009e571561008c5760805260a05260405161056d90816100ba8239608051816104c5015260a0518161053c0152f35b6040516341bc07ff60e11b8152600490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe60406080815260049081361015610042575b361561001c57600080fd5b517f1574f9f3000000000000000000000000000000000000000000000000000000008152fd5b6000803560e01c806388e5b2d91461023657806391db0b7e14610216578063ce46e046146101d9578063e49617e1146101bd578063e60c3505146101985763ffa1ad74146100905750610011565b913461019457827ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101945781519082820182811067ffffffffffffffff82111761016857835281526020907f302e3237000000000000000000000000000000000000000000000000000000008282015282519382859384528251928382860152825b84811061015257505050828201840152601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0168101030190f35b8181018301518882018801528795508201610116565b6024856041847f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b8280fd5b6020836101b46101a736610357565b6101af6104ae565b610517565b90519015158152f35b6020836101c936610357565b506101d26104ae565b5160018152f35b50903461021257817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126102125751908152602090f35b5080fd5b6020836101b4610225366102ee565b926102319291926104ae565b610427565b5091610241366102ee565b610250969392969491946104ae565b345b878510610263576020875160018152f35b61026e8583886103a8565b35908082116102905790600191610286878b886103e7565b5003940193610252565b8388517f11011294000000000000000000000000000000000000000000000000000000008152fd5b9181601f840112156102e95782359167ffffffffffffffff83116102e9576020808501948460051b0101116102e957565b600080fd5b60407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc8201126102e95767ffffffffffffffff916004358381116102e95782610339916004016102b8565b939093926024359182116102e957610353916004016102b8565b9091565b7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc906020828201126102e9576004359167ffffffffffffffff83116102e95782610140920301126102e95760040190565b91908110156103b85760051b0190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b91908110156103b85760051b810135907ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec1813603018212156102e9570190565b909192349160009182935b8585106104455750505050505050600190565b6104508583896103a8565b3590808211610484576104676101af8789876103e7565b15610479579060019103940193610432565b505050509250505090565b60046040517f11011294000000000000000000000000000000000000000000000000000000008152fd5b73ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001633036104ed57565b60046040517f4ca88867000000000000000000000000000000000000000000000000000000008152fd5b60e0013573ffffffffffffffffffffffffffffffffffffffff8082168092036102e9577f000000000000000000000000000000000000000000000000000000000000000016149056fea164736f6c6343000813000a";const i=e=>e.length>1;class s extends ethers_1.ContractFactory{constructor(...e){if(i(e)){super(...e)}else{super(r,n,e[0])}}deploy(e,t,r){return super.deploy(e,t,r||{})}getDeployTransaction(e,t,r){return super.getDeployTransaction(e,t,r||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static bytecode=n;static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.AttesterResolver__factory=s}));var DataResolver__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.DataResolver__factory=void 0;const r=[{inputs:[{internalType:"contract IEAS",name:"eas",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessDenied",type:"error"},{inputs:[],name:"InsufficientValue",type:"error"},{inputs:[],name:"InvalidEAS",type:"error"},{inputs:[],name:"NotPayable",type:"error"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"attest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[],name:"isPayable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiAttest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiRevoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"revoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];const n="0x60a03461008257601f6106bc38819003918201601f19168301916001600160401b038311848410176100875780849260209460405283398101031261008257516001600160a01b03811680820361008257156100705760805260405161061e908161009e8239608051816104c50152f35b6040516341bc07ff60e11b8152600490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe60406080815260049081361015610042575b361561001c57600080fd5b517f1574f9f3000000000000000000000000000000000000000000000000000000008152fd5b6000803560e01c806388e5b2d91461023657806391db0b7e14610216578063ce46e046146101d9578063e49617e1146101bd578063e60c3505146101985763ffa1ad74146100905750610011565b913461019457827ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101945781519082820182811067ffffffffffffffff82111761016857835281526020907f302e3237000000000000000000000000000000000000000000000000000000008282015282519382859384528251928382860152825b84811061015257505050828201840152601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0168101030190f35b8181018301518882018801528795508201610116565b6024856041847f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b8280fd5b6020836101b46101a736610357565b6101af6104ae565b610568565b90519015158152f35b6020836101c936610357565b506101d26104ae565b5160018152f35b50903461021257817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126102125751908152602090f35b5080fd5b6020836101b4610225366102ee565b926102319291926104ae565b610427565b5091610241366102ee565b610250969392969491946104ae565b345b878510610263576020875160018152f35b61026e8583886103a8565b35908082116102905790600191610286878b886103e7565b5003940193610252565b8388517f11011294000000000000000000000000000000000000000000000000000000008152fd5b9181601f840112156102e95782359167ffffffffffffffff83116102e9576020808501948460051b0101116102e957565b600080fd5b60407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc8201126102e95767ffffffffffffffff916004358381116102e95782610339916004016102b8565b939093926024359182116102e957610353916004016102b8565b9091565b7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc906020828201126102e9576004359167ffffffffffffffff83116102e95782610140920301126102e95760040190565b91908110156103b85760051b0190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b91908110156103b85760051b810135907ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec1813603018212156102e9570190565b909192349160009182935b8585106104455750505050505050600190565b6104508583896103a8565b3590808211610484576104676101af8789876103e7565b15610479579060019103940193610432565b505050509250505090565b60046040517f11011294000000000000000000000000000000000000000000000000000000008152fd5b73ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001633036104ed57565b60046040517f4ca88867000000000000000000000000000000000000000000000000000000008152fd5b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1813603018212156102e9570180359067ffffffffffffffff82116102e9576020019181360383136102e957565b610120810190600161057a8383610517565b905014918261058857505090565b9091506105958183610517565b919091156103b8577fff0000000000000000000000000000000000000000000000000000000000000080923516159283156105d1575b50505090565b6105dc929350610517565b919091156103b8577f0100000000000000000000000000000000000000000000000000000000000000913516143880806105cb56fea164736f6c6343000813000a";const i=e=>e.length>1;class s extends ethers_1.ContractFactory{constructor(...e){if(i(e)){super(...e)}else{super(r,n,e[0])}}deploy(e,t){return super.deploy(e,t||{})}getDeployTransaction(e,t){return super.getDeployTransaction(e,t||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static bytecode=n;static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.DataResolver__factory=s}));var ExpirationTimeResolver__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.ExpirationTimeResolver__factory=void 0;const r=[{inputs:[{internalType:"contract IEAS",name:"eas",type:"address"},{internalType:"uint256",name:"validAfter",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessDenied",type:"error"},{inputs:[],name:"InsufficientValue",type:"error"},{inputs:[],name:"InvalidEAS",type:"error"},{inputs:[],name:"NotPayable",type:"error"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"attest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[],name:"isPayable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiAttest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiRevoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"revoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];const n="0x60c03461009457601f61061038819003918201601f19168301916001600160401b038311848410176100995780849260409485528339810103126100945780516001600160a01b03811691828203610094576020015191156100825760805260a05260405161056090816100b08239608051816104c5015260a0518161052f0152f35b6040516341bc07ff60e11b8152600490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe60406080815260049081361015610042575b361561001c57600080fd5b517f1574f9f3000000000000000000000000000000000000000000000000000000008152fd5b6000803560e01c806388e5b2d91461023657806391db0b7e14610216578063ce46e046146101d9578063e49617e1146101bd578063e60c3505146101985763ffa1ad74146100905750610011565b913461019457827ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101945781519082820182811067ffffffffffffffff82111761016857835281526020907f302e3237000000000000000000000000000000000000000000000000000000008282015282519382859384528251928382860152825b84811061015257505050828201840152601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0168101030190f35b8181018301518882018801528795508201610116565b6024856041847f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b8280fd5b6020836101b46101a736610357565b6101af6104ae565b610517565b90519015158152f35b6020836101c936610357565b506101d26104ae565b5160018152f35b50903461021257817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126102125751908152602090f35b5080fd5b6020836101b4610225366102ee565b926102319291926104ae565b610427565b5091610241366102ee565b610250969392969491946104ae565b345b878510610263576020875160018152f35b61026e8583886103a8565b35908082116102905790600191610286878b886103e7565b5003940193610252565b8388517f11011294000000000000000000000000000000000000000000000000000000008152fd5b9181601f840112156102e95782359167ffffffffffffffff83116102e9576020808501948460051b0101116102e957565b600080fd5b60407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc8201126102e95767ffffffffffffffff916004358381116102e95782610339916004016102b8565b939093926024359182116102e957610353916004016102b8565b9091565b7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc906020828201126102e9576004359167ffffffffffffffff83116102e95782610140920301126102e95760040190565b91908110156103b85760051b0190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b91908110156103b85760051b810135907ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec1813603018212156102e9570190565b909192349160009182935b8585106104455750505050505050600190565b6104508583896103a8565b3590808211610484576104676101af8789876103e7565b15610479579060019103940193610432565b505050509250505090565b60046040517f11011294000000000000000000000000000000000000000000000000000000008152fd5b73ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001633036104ed57565b60046040517f4ca88867000000000000000000000000000000000000000000000000000000008152fd5b6060013567ffffffffffffffff81168091036102e9577f000000000000000000000000000000000000000000000000000000000000000011159056fea164736f6c6343000813000a";const i=e=>e.length>1;class s extends ethers_1.ContractFactory{constructor(...e){if(i(e)){super(...e)}else{super(r,n,e[0])}}deploy(e,t,r){return super.deploy(e,t,r||{})}getDeployTransaction(e,t,r){return super.getDeployTransaction(e,t,r||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static bytecode=n;static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.ExpirationTimeResolver__factory=s}));var PayingResolver__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.PayingResolver__factory=void 0;const r=[{inputs:[{internalType:"contract IEAS",name:"eas",type:"address"},{internalType:"uint256",name:"incentive",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessDenied",type:"error"},{inputs:[],name:"InsufficientValue",type:"error"},{inputs:[],name:"InvalidEAS",type:"error"},{inputs:[],name:"InvalidValue",type:"error"},{inputs:[],name:"NotPayable",type:"error"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"attest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[],name:"isPayable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiAttest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiRevoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"revoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];const n="0x60c03461009b57601f6108ab38819003918201601f19168301916001600160401b038311848410176100a057808492604094855283398101031261009b5780516001600160a01b0381169182820361009b576020015191156100895760805260a0526040516107f490816100b782396080518161049a015260a05181818161053b015261058b0152f35b6040516341bc07ff60e11b8152600490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe604060808152600436101561001d575b50361561001b57600080fd5b005b600090813560e01c806388e5b2d91461021357806391db0b7e146101f3578063ce46e046146101ba578063e49617e11461019c578063e60c3505146101755763ffa1ad741461006c575061000f565b3461017157817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261017157805181810181811067ffffffffffffffff821117610144578252600481526020907f302e3237000000000000000000000000000000000000000000000000000000008282015282519382859384528251928382860152825b84811061012e57505050828201840152601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0168101030190f35b81810183015188820188015287955082016100f2565b6024847f4e487b710000000000000000000000000000000000000000000000000000000081526041600452fd5b5080fd5b602082610193610184366102d2565b61018c610483565b349061050d565b90519015158152f35b6020826101936101ab366102d2565b6101b3610483565b3490610589565b503461017157817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610171576020905160018152f35b60208261019361020236610269565b9261020e929192610483565b6103a2565b60208261019361022236610269565b9261022e929192610483565b61042d565b9181601f840112156102645782359167ffffffffffffffff8311610264576020808501948460051b01011161026457565b600080fd5b60407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc8201126102645767ffffffffffffffff9160043583811161026457826102b491600401610233565b93909392602435918211610264576102ce91600401610233565b9091565b7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc90602082820112610264576004359167ffffffffffffffff83116102645782610140920301126102645760040190565b91908110156103335760051b0190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b91908110156103335760051b810135907ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec181360301821215610264570190565b91926000918291345b8285106103be5750505050505050600190565b6103c9858389610323565b3590808211610403576103e6826103e188878b610362565b61050d565b156103f85790600191039401936103ab565b505050509250505090565b60046040517f11011294000000000000000000000000000000000000000000000000000000008152fd5b91926000918291345b8285106104495750505050505050600190565b610454858389610323565b3590808211610403576104718261046c88878b610362565b610589565b156103f8579060019103940193610436565b73ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001633036104c257565b60046040517f4ca88867000000000000000000000000000000000000000000000000000000008152fd5b3573ffffffffffffffffffffffffffffffffffffffff811681036102645790565b90610583576000808073ffffffffffffffffffffffffffffffffffffffff61053860e08396016104ec565b167f00000000000000000000000000000000000000000000000000000000000000009082821561057a575bf11561056e57600190565b6040513d6000823e3d90fd5b506108fc610563565b50600090565b7f0000000000000000000000000000000000000000000000000000000000000000908183106107df578183116105c2575b505050600190565b6105e360e073ffffffffffffffffffffffffffffffffffffffff92016104ec565b169082039182116107b0578147106107525760008080809481945af1903d1561074c5767ffffffffffffffff903d82811161071f57604051927fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0603f81601f8501160116840190848210908211176106f257604052825260203d92013e5b1561066e573880806105ba565b60846040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152603a60248201527f416464726573733a20756e61626c6520746f2073656e642076616c75652c207260448201527f6563697069656e74206d617920686176652072657665727465640000000000006064820152fd5b6024837f4e487b710000000000000000000000000000000000000000000000000000000081526041600452fd5b6024827f4e487b710000000000000000000000000000000000000000000000000000000081526041600452fd5b50610661565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f416464726573733a20696e73756666696369656e742062616c616e63650000006044820152fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b50505060009056fea164736f6c6343000813000a";const i=e=>e.length>1;class s extends ethers_1.ContractFactory{constructor(...e){if(i(e)){super(...e)}else{super(r,n,e[0])}}deploy(e,t,r){return super.deploy(e,t,r||{})}getDeployTransaction(e,t,r){return super.getDeployTransaction(e,t,r||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static bytecode=n;static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.PayingResolver__factory=s}));var RecipientResolver__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.RecipientResolver__factory=void 0;const r=[{inputs:[{internalType:"contract IEAS",name:"eas",type:"address"},{internalType:"address",name:"targetRecipient",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessDenied",type:"error"},{inputs:[],name:"InsufficientValue",type:"error"},{inputs:[],name:"InvalidEAS",type:"error"},{inputs:[],name:"NotPayable",type:"error"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"attest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[],name:"isPayable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiAttest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiRevoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"revoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];const n="0x60c03461009e57601f61062738819003918201601f19168301916001600160401b038311848410176100a357808492604094855283398101031261009e5780516001600160a01b03918282169081830361009e5760200151928316830361009e571561008c5760805260a05260405161056d90816100ba8239608051816104c5015260a0518161053c0152f35b6040516341bc07ff60e11b8152600490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe60406080815260049081361015610042575b361561001c57600080fd5b517f1574f9f3000000000000000000000000000000000000000000000000000000008152fd5b6000803560e01c806388e5b2d91461023657806391db0b7e14610216578063ce46e046146101d9578063e49617e1146101bd578063e60c3505146101985763ffa1ad74146100905750610011565b913461019457827ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101945781519082820182811067ffffffffffffffff82111761016857835281526020907f302e3237000000000000000000000000000000000000000000000000000000008282015282519382859384528251928382860152825b84811061015257505050828201840152601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0168101030190f35b8181018301518882018801528795508201610116565b6024856041847f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b8280fd5b6020836101b46101a736610357565b6101af6104ae565b610517565b90519015158152f35b6020836101c936610357565b506101d26104ae565b5160018152f35b50903461021257817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126102125751908152602090f35b5080fd5b6020836101b4610225366102ee565b926102319291926104ae565b610427565b5091610241366102ee565b610250969392969491946104ae565b345b878510610263576020875160018152f35b61026e8583886103a8565b35908082116102905790600191610286878b886103e7565b5003940193610252565b8388517f11011294000000000000000000000000000000000000000000000000000000008152fd5b9181601f840112156102e95782359167ffffffffffffffff83116102e9576020808501948460051b0101116102e957565b600080fd5b60407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc8201126102e95767ffffffffffffffff916004358381116102e95782610339916004016102b8565b939093926024359182116102e957610353916004016102b8565b9091565b7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc906020828201126102e9576004359167ffffffffffffffff83116102e95782610140920301126102e95760040190565b91908110156103b85760051b0190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b91908110156103b85760051b810135907ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec1813603018212156102e9570190565b909192349160009182935b8585106104455750505050505050600190565b6104508583896103a8565b3590808211610484576104676101af8789876103e7565b15610479579060019103940193610432565b505050509250505090565b60046040517f11011294000000000000000000000000000000000000000000000000000000008152fd5b73ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001633036104ed57565b60046040517f4ca88867000000000000000000000000000000000000000000000000000000008152fd5b60c0013573ffffffffffffffffffffffffffffffffffffffff8082168092036102e9577f000000000000000000000000000000000000000000000000000000000000000016149056fea164736f6c6343000813000a";const i=e=>e.length>1;class s extends ethers_1.ContractFactory{constructor(...e){if(i(e)){super(...e)}else{super(r,n,e[0])}}deploy(e,t,r){return super.deploy(e,t,r||{})}getDeployTransaction(e,t,r){return super.getDeployTransaction(e,t,r||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static bytecode=n;static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.RecipientResolver__factory=s}));var RevocationResolver__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.RevocationResolver__factory=void 0;const r=[{inputs:[{internalType:"contract IEAS",name:"eas",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessDenied",type:"error"},{inputs:[],name:"InsufficientValue",type:"error"},{inputs:[],name:"InvalidEAS",type:"error"},{inputs:[],name:"NotPayable",type:"error"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"attest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[],name:"isPayable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiAttest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiRevoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"revoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bool",name:"status",type:"bool"}],name:"setRevocation",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];const n="0x60a03461008257601f61064438819003918201601f19168301916001600160401b038311848410176100875780849260209460405283398101031261008257516001600160a01b0381168082036100825715610070576080526040516105a6908161009e8239608051816105470152f35b6040516341bc07ff60e11b8152600490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe60406080815260049081361015610042575b361561001c57600080fd5b517f1574f9f3000000000000000000000000000000000000000000000000000000008152fd5b6000803560e01c806388e5b2d91461030b57806391db0b7e14610289578063ce46e04614610250578063e49617e11461022d578063e60c350514610211578063f545cb66146101a35763ffa1ad741461009b5750610011565b913461019f57827ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261019f5781519082820182811067ffffffffffffffff82111761017357835281526020907f302e3237000000000000000000000000000000000000000000000000000000008282015282519382859384528251928382860152825b84811061015d57505050828201840152601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0168101030190f35b8181018301518882018801528795508201610121565b6024856041847f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b8280fd5b50823461020d5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261020d573580151580910361020d5760ff7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00835416911617815580f35b5080fd5b60208361021d366103d3565b50610226610530565b5160018152f35b60208360ff8461023c366103d3565b50610245610530565b541690519015158152f35b50903461020d57817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261020d5751908152602090f35b50916102943661036a565b6102a396939296949194610530565b345b8785106102b6576020875160018152f35b6102c1858388610424565b35908082116102e357906001916102d9878b88610463565b50039401936102a5565b8388517f11011294000000000000000000000000000000000000000000000000000000008152fd5b60208361032b61031a3661036a565b92610326929192610530565b6104a3565b90519015158152f35b9181601f840112156103655782359167ffffffffffffffff8311610365576020808501948460051b01011161036557565b600080fd5b60407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc8201126103655767ffffffffffffffff9160043583811161036557826103b591600401610334565b93909392602435918211610365576103cf91600401610334565b9091565b7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc90602082820112610365576004359167ffffffffffffffff83116103655782610140920301126103655760040190565b91908110156104345760051b0190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b91908110156104345760051b810135907ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec181360301821215610365570190565b91929034600091829360ff84541615925b8286106104c8575050505050505050600190565b6104d386838a610424565b359080821161050657846104e888868b610463565b506104fa5790600191039501946104b4565b50505050509250505090565b60046040517f11011294000000000000000000000000000000000000000000000000000000008152fd5b73ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016330361056f57565b60046040517f4ca88867000000000000000000000000000000000000000000000000000000008152fdfea164736f6c6343000813000a";const i=e=>e.length>1;class s extends ethers_1.ContractFactory{constructor(...e){if(i(e)){super(...e)}else{super(r,n,e[0])}}deploy(e,t){return super.deploy(e,t||{})}getDeployTransaction(e,t){return super.getDeployTransaction(e,t||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static bytecode=n;static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.RevocationResolver__factory=s}));var TokenResolver__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.TokenResolver__factory=void 0;const r=[{inputs:[{internalType:"contract IEAS",name:"eas",type:"address"},{internalType:"contract IERC20",name:"targetToken",type:"address"},{internalType:"uint256",name:"targetAmount",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessDenied",type:"error"},{inputs:[],name:"InsufficientValue",type:"error"},{inputs:[],name:"InvalidEAS",type:"error"},{inputs:[],name:"NotPayable",type:"error"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"attest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[],name:"isPayable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiAttest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiRevoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"revoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];const n="0x60e0346100b357601f61096e38819003918201601f19168301916001600160401b038311848410176100b8578084926060946040528339810103126100b35780516001600160a01b03808216929091908382036100b357602081015192831683036100b3576040015192156100a15760805260a05260c05260405161089f90816100cf8239608051816104e9015260a051816105e3015260c0518161059b0152f35b6040516341bc07ff60e11b8152600490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe60406080815260049081361015610042575b361561001c57600080fd5b517f1574f9f3000000000000000000000000000000000000000000000000000000008152fd5b6000803560e01c806388e5b2d9146101a957806391db0b7e14610189578063ce46e0461461014c578063e49617e114610130578063e60c35051461010b5763ffa1ad74146100905750610011565b91903461010757827ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101075761010392508051916100d18361031b565b82527f302e32370000000000000000000000000000000000000000000000000000000060208301525191829182610366565b0390f35b8280fd5b60208361012761011a366102ca565b6101226104d2565b61053b565b90519015158152f35b60208361013c366102ca565b506101456104d2565b5160018152f35b50903461018557817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101855751908152602090f35b5080fd5b60208361012761019836610261565b926101a49291926104d2565b61044b565b50916101b436610261565b6101c3969392969491946104d2565b345b8785106101d6576020875160018152f35b6101e18583886103cc565b359080821161020357906001916101f9878b8861040b565b50039401936101c5565b8388517f11011294000000000000000000000000000000000000000000000000000000008152fd5b9181601f8401121561025c5782359167ffffffffffffffff831161025c576020808501948460051b01011161025c57565b600080fd5b60407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc82011261025c5767ffffffffffffffff9160043583811161025c57826102ac9160040161022b565b9390939260243591821161025c576102c69160040161022b565b9091565b7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc9060208282011261025c576004359167ffffffffffffffff831161025c57826101409203011261025c5760040190565b6040810190811067ffffffffffffffff82111761033757604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60208082528251818301819052939260005b8581106103b8575050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8460006040809697860101520116010190565b818101830151848201604001528201610378565b91908110156103dc5760051b0190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b91908110156103dc5760051b810135907ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec18136030182121561025c570190565b909192349160009182935b8585106104695750505050505050600190565b6104748583896103cc565b35908082116104a85761048b61012287898761040b565b1561049d579060019103940193610456565b505050509250505090565b60046040517f11011294000000000000000000000000000000000000000000000000000000008152fd5b73ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016330361051157565b60046040517f4ca88867000000000000000000000000000000000000000000000000000000008152fd5b60e001359073ffffffffffffffffffffffffffffffffffffffff9182811680910361025c5760405190602091828101917f23b872dd00000000000000000000000000000000000000000000000000000000835260248201523060448201527f000000000000000000000000000000000000000000000000000000000000000060648201526064815260a081019067ffffffffffffffff958183108784111761033757826040527f0000000000000000000000000000000000000000000000000000000000000000169061060d8361031b565b8483527f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c656460c0820152600080948192519082855af13d156107be573d9187831161079157604051927fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0603f81601f8401160116840198848a10908a1117610764576106a69596979860405283528286883d92013e6107ca565b8051806106b7575b50505050600190565b81849181010312610185578201519081159182150361076157506106dd578080806106ae565b608490604051907f08c379a00000000000000000000000000000000000000000000000000000000082526004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e60448201527f6f742073756363656564000000000000000000000000000000000000000000006064820152fd5b80fd5b6024867f4e487b710000000000000000000000000000000000000000000000000000000081526041600452fd5b6024857f4e487b710000000000000000000000000000000000000000000000000000000081526041600452fd5b6106a693949596506060915b9192901561084557508151156107de575090565b3b156107e75790565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152fd5b8251909150156108585750805190602001fd5b61088e906040519182917f08c379a000000000000000000000000000000000000000000000000000000000835260048301610366565b0390fdfea164736f6c6343000813000a";const i=e=>e.length>1;class s extends ethers_1.ContractFactory{constructor(...e){if(i(e)){super(...e)}else{super(r,n,e[0])}}deploy(e,t,r,n){return super.deploy(e,t,r,n||{})}getDeployTransaction(e,t,r,n){return super.getDeployTransaction(e,t,r,n||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static bytecode=n;static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.TokenResolver__factory=s}));var ValueResolver__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.ValueResolver__factory=void 0;const r=[{inputs:[{internalType:"contract IEAS",name:"eas",type:"address"},{internalType:"uint256",name:"targetValue",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessDenied",type:"error"},{inputs:[],name:"InsufficientValue",type:"error"},{inputs:[],name:"InvalidEAS",type:"error"},{inputs:[],name:"NotPayable",type:"error"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"attest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[],name:"isPayable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiAttest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiRevoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"revoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];const n="0x60c03461009b57601f6105fd38819003918201601f19168301916001600160401b038311848410176100a057808492604094855283398101031261009b5780516001600160a01b0381169182820361009b576020015191156100895760805260a05260405161054690816100b78239608051816104e7015260a05181818161018e01526104310152f35b6040516341bc07ff60e11b8152600490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe60406080815260049081361015610020575b5050361561001e57600080fd5b005b600091823560e01c806388e5b2d91461023657806391db0b7e1461020d578063ce46e046146101cf578063e49617e1146101b3578063e60c3505146101765763ffa1ad741461006f5750610011565b3461017257827ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101725781519082820182811067ffffffffffffffff82111761014657835281526020907f302e3237000000000000000000000000000000000000000000000000000000008282015282519382859384528251928382860152825b84811061013057505050828201840152601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0168101030190f35b81810183015188820188015287955082016100f4565b6024856041847f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b8280fd5b60208361018236610356565b5061018b6104d0565b517f000000000000000000000000000000000000000000000000000000000000000034148152f35b6020836101bf36610356565b506101c86104d0565b5160018152f35b50503461020957817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610209576020905160018152f35b5080fd5b60208361022d61021c366102ed565b926102289291926104d0565b610426565b90519015158152f35b50610240366102ed565b61024f969392969491946104d0565b345b878510610262576020875160018152f35b61026d8583886103a7565b359080821161028f5790600191610285878b886103e6565b5003940193610251565b8388517f11011294000000000000000000000000000000000000000000000000000000008152fd5b9181601f840112156102e85782359167ffffffffffffffff83116102e8576020808501948460051b0101116102e857565b600080fd5b60407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc8201126102e85767ffffffffffffffff916004358381116102e85782610338916004016102b7565b939093926024359182116102e857610352916004016102b7565b9091565b7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc906020828201126102e8576004359167ffffffffffffffff83116102e85782610140920301126102e85760040190565b91908110156103b75760051b0190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b91908110156103b75760051b810135907ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec1813603018212156102e8570190565b9192903460009182937f0000000000000000000000000000000000000000000000000000000000000000925b828610610466575050505050505050600190565b61047186838a6103a7565b35908082116104a65761048587858a6103e6565b5084820361049a579060019103950194610452565b50505050509250505090565b60046040517f11011294000000000000000000000000000000000000000000000000000000008152fd5b73ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016330361050f57565b60046040517f4ca88867000000000000000000000000000000000000000000000000000000008152fdfea164736f6c6343000813000a";const i=e=>e.length>1;class s extends ethers_1.ContractFactory{constructor(...e){if(i(e)){super(...e)}else{super(r,n,e[0])}}deploy(e,t,r){return super.deploy(e,t,r||{})}getDeployTransaction(e,t,r){return super.getDeployTransaction(e,t,r||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static bytecode=n;static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.ValueResolver__factory=s}));var examples=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.ValueResolver__factory=t.TokenResolver__factory=t.RevocationResolver__factory=t.RecipientResolver__factory=t.PayingResolver__factory=t.ExpirationTimeResolver__factory=t.DataResolver__factory=t.AttesterResolver__factory=t.AttestationResolver__factory=void 0;Object.defineProperty(t,"AttestationResolver__factory",{enumerable:true,get:function(){return AttestationResolver__factory_1.AttestationResolver__factory}});Object.defineProperty(t,"AttesterResolver__factory",{enumerable:true,get:function(){return AttesterResolver__factory_1.AttesterResolver__factory}});Object.defineProperty(t,"DataResolver__factory",{enumerable:true,get:function(){return DataResolver__factory_1.DataResolver__factory}});Object.defineProperty(t,"ExpirationTimeResolver__factory",{enumerable:true,get:function(){return ExpirationTimeResolver__factory_1.ExpirationTimeResolver__factory}});Object.defineProperty(t,"PayingResolver__factory",{enumerable:true,get:function(){return PayingResolver__factory_1.PayingResolver__factory}});Object.defineProperty(t,"RecipientResolver__factory",{enumerable:true,get:function(){return RecipientResolver__factory_1.RecipientResolver__factory}});Object.defineProperty(t,"RevocationResolver__factory",{enumerable:true,get:function(){return RevocationResolver__factory_1.RevocationResolver__factory}});Object.defineProperty(t,"TokenResolver__factory",{enumerable:true,get:function(){return TokenResolver__factory_1.TokenResolver__factory}});Object.defineProperty(t,"ValueResolver__factory",{enumerable:true,get:function(){return ValueResolver__factory_1.ValueResolver__factory}})}));var ISchemaResolver__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.ISchemaResolver__factory=void 0;const r=[{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"attest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[],name:"isPayable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiAttest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiRevoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"revoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"}];class n{static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.ISchemaResolver__factory=n}));var SchemaResolver__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.SchemaResolver__factory=void 0;const r=[{inputs:[],name:"AccessDenied",type:"error"},{inputs:[],name:"InsufficientValue",type:"error"},{inputs:[],name:"InvalidEAS",type:"error"},{inputs:[],name:"NotPayable",type:"error"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"attest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[],name:"isPayable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiAttest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"multiRevoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"revoke",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];class n{static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.SchemaResolver__factory=n}));var resolver=createCommonjsModule$2((function(e,t){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var n=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i))r(t,e,i);n(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.SchemaResolver__factory=t.ISchemaResolver__factory=t.examples=void 0;t.examples=i(examples);Object.defineProperty(t,"ISchemaResolver__factory",{enumerable:true,get:function(){return ISchemaResolver__factory_1.ISchemaResolver__factory}});Object.defineProperty(t,"SchemaResolver__factory",{enumerable:true,get:function(){return SchemaResolver__factory_1.SchemaResolver__factory}})}));var EAS__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.EAS__factory=void 0;const r=[{inputs:[{internalType:"contract ISchemaRegistry",name:"registry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessDenied",type:"error"},{inputs:[],name:"AlreadyRevoked",type:"error"},{inputs:[],name:"AlreadyRevokedOffchain",type:"error"},{inputs:[],name:"AlreadyTimestamped",type:"error"},{inputs:[],name:"InsufficientValue",type:"error"},{inputs:[],name:"InvalidAttestation",type:"error"},{inputs:[],name:"InvalidAttestations",type:"error"},{inputs:[],name:"InvalidExpirationTime",type:"error"},{inputs:[],name:"InvalidLength",type:"error"},{inputs:[],name:"InvalidOffset",type:"error"},{inputs:[],name:"InvalidRegistry",type:"error"},{inputs:[],name:"InvalidRevocation",type:"error"},{inputs:[],name:"InvalidRevocations",type:"error"},{inputs:[],name:"InvalidSchema",type:"error"},{inputs:[],name:"InvalidSignature",type:"error"},{inputs:[],name:"InvalidVerifier",type:"error"},{inputs:[],name:"Irrevocable",type:"error"},{inputs:[],name:"NotFound",type:"error"},{inputs:[],name:"NotPayable",type:"error"},{inputs:[],name:"WrongSchema",type:"error"},{anonymous:false,inputs:[{indexed:true,internalType:"address",name:"recipient",type:"address"},{indexed:true,internalType:"address",name:"attester",type:"address"},{indexed:false,internalType:"bytes32",name:"uid",type:"bytes32"},{indexed:true,internalType:"bytes32",name:"schema",type:"bytes32"}],name:"Attested",type:"event"},{anonymous:false,inputs:[{indexed:true,internalType:"address",name:"recipient",type:"address"},{indexed:true,internalType:"address",name:"attester",type:"address"},{indexed:false,internalType:"bytes32",name:"uid",type:"bytes32"},{indexed:true,internalType:"bytes32",name:"schema",type:"bytes32"}],name:"Revoked",type:"event"},{anonymous:false,inputs:[{indexed:true,internalType:"address",name:"revoker",type:"address"},{indexed:true,internalType:"bytes32",name:"data",type:"bytes32"},{indexed:true,internalType:"uint64",name:"timestamp",type:"uint64"}],name:"RevokedOffchain",type:"event"},{anonymous:false,inputs:[{indexed:true,internalType:"bytes32",name:"data",type:"bytes32"},{indexed:true,internalType:"uint64",name:"timestamp",type:"uint64"}],name:"Timestamped",type:"event"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct AttestationRequestData",name:"data",type:"tuple"}],internalType:"struct AttestationRequest",name:"request",type:"tuple"}],name:"attest",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct AttestationRequestData",name:"data",type:"tuple"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct EIP712Signature",name:"signature",type:"tuple"},{internalType:"address",name:"attester",type:"address"}],internalType:"struct DelegatedAttestationRequest",name:"delegatedRequest",type:"tuple"}],name:"attestByDelegation",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"payable",type:"function"},{inputs:[],name:"getAttestTypeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"uid",type:"bytes32"}],name:"getAttestation",outputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"revoker",type:"address"},{internalType:"bytes32",name:"data",type:"bytes32"}],name:"getRevokeOffchain",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRevokeTypeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getSchemaRegistry",outputs:[{internalType:"contract ISchemaRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"data",type:"bytes32"}],name:"getTimestamp",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"uid",type:"bytes32"}],name:"isAttestationValid",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct AttestationRequestData[]",name:"data",type:"tuple[]"}],internalType:"struct MultiAttestationRequest[]",name:"multiRequests",type:"tuple[]"}],name:"multiAttest",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct AttestationRequestData[]",name:"data",type:"tuple[]"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct EIP712Signature[]",name:"signatures",type:"tuple[]"},{internalType:"address",name:"attester",type:"address"}],internalType:"struct MultiDelegatedAttestationRequest[]",name:"multiDelegatedRequests",type:"tuple[]"}],name:"multiAttestByDelegation",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct RevocationRequestData[]",name:"data",type:"tuple[]"}],internalType:"struct MultiRevocationRequest[]",name:"multiRequests",type:"tuple[]"}],name:"multiRevoke",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct RevocationRequestData[]",name:"data",type:"tuple[]"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct EIP712Signature[]",name:"signatures",type:"tuple[]"},{internalType:"address",name:"revoker",type:"address"}],internalType:"struct MultiDelegatedRevocationRequest[]",name:"multiDelegatedRequests",type:"tuple[]"}],name:"multiRevokeByDelegation",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"data",type:"bytes32[]"}],name:"multiRevokeOffchain",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"data",type:"bytes32[]"}],name:"multiTimestamp",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct RevocationRequestData",name:"data",type:"tuple"}],internalType:"struct RevocationRequest",name:"request",type:"tuple"}],name:"revoke",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct RevocationRequestData",name:"data",type:"tuple"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct EIP712Signature",name:"signature",type:"tuple"},{internalType:"address",name:"revoker",type:"address"}],internalType:"struct DelegatedRevocationRequest",name:"delegatedRequest",type:"tuple"}],name:"revokeByDelegation",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"data",type:"bytes32"}],name:"revokeOffchain",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"data",type:"bytes32"}],name:"timestamp",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"nonpayable",type:"function"}];const n="0x610160346200030457601f19906001600160401b0390601f62004c8938819003918201851683019184831184841017620003095780849260409485528339602093849181010312620003045751916001600160a01b0383168084036200030457818351966200006e886200031f565b60038852818801966245415360e81b885285516200008c816200031f565b6004958187809352019863302e323760e01b8a528a5190209820988860e05261010099808b524660a0528751858101917f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f9b8c84528a83015260608201524660808201523060a082015260a0815260c0810181811085821117620002ef5789525190206080523060c0526101209889528051918211620002da576000938454916001928381811c91168015620002cf575b83821014620002bc57601f811162000271575b5081601f85116001146200020b5750839450908392918694620001ff575b50501b916000199060031b1c19161790555b15620001f15750610140918252519161494d93846200033c8539608051846143dc015260a05184614497015260c051846143ad015260e0518461442b01525183614451015251826144080152518181816102a901528181611e660152818161268e01528181612d9a01526130180152f35b90516311a1e69760e01b8152fd5b0151925038806200016e565b9294849081168780528488209488905b888383106200025657505050106200023c575b505050811b01905562000180565b015160001960f88460031b161c191690553880806200022e565b8587015188559096019594850194879350908101906200021b565b868052828720601f860160051c810191848710620002b1575b601f0160051c019084905b828110620002a557505062000150565b88815501849062000295565b90915081906200028a565b634e487b7160e01b875260228952602487fd5b90607f16906200013d565b604186634e487b7160e01b6000525260246000fd5b604189634e487b7160e01b6000525260246000fd5b600080fd5b634e487b7160e01b600052604160045260246000fd5b604081019081106001600160401b03821117620003095760405256fe61016060406101405280610140515260048036101561001d57600080fd5b600091823560e01c90816312b11a171461118d5750806313893f611461110557806317d7de7c14610fe25780632d0335ab14610f7a57806344adc90e14610e715780634692626714610e125780634cb7e9e514610d095780634d00307014610cc0578063831e05a114610a71578063a3112a6414610a07578063b469318d14610987578063b83010d31461092c578063cf190f34146108e2578063d45c44351461088c578063e13458fc14610790578063e30bb56314610739578063e45d03f9146104b1578063e57a6b1b1461039b578063e71ff36514610310578063ed24911d146102cd578063f10b5cc81461025c578063f17325e7146101ae5763ffa1ad741461012857600080fd5b346101aa57817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101aa5761014051516101a6916101688261141f565b81527f302e3237000000000000000000000000000000000000000000000000000000006020820152610140515191829160208352602083019061123e565b0390f35b5080fd5b50907ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc906020823601126102595782359267ffffffffffffffff84116101aa578301916101405190843603011261025957602061024e8161024786866102296102156114eb565b92610224602436920184611553565b6115d6565b61023283611586565b5261023c82611586565b503491339135611df1565b0151611586565b516101405151908152f35b80fd5b823461025957807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610259576020610140515173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b823461025957807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610259576020610306614396565b6101405151908152f35b50346101aa5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101aa57803567ffffffffffffffff918282116103975761035f913691016111e5565b90914216925b818110610379576020846101405151908152f35b806103918561038b6001948688611a39565b356141be565b01610365565b8380fd5b5060e07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101aa576101405151906103d58261139c565b358082526103e236611981565b602083015260607fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9c3601126104ad57610140515161041f81611403565b60643560ff811681036104a9578152608435602082015260a435610140518201526101405183015260c43573ffffffffffffffffffffffffffffffffffffffff8116810361039757610479838260606104a596015261487a565b610481611932565b61048a36611981565b61049382611586565b5261049d81611586565b503492612d4d565b5080f35b8480fd5b8280fd5b506020807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126104ad5767ffffffffffffffff82358181116104a95784926104ff8592369084016111e5565b91903493865b848110610510578780f35b6105208186859a9798999a61189e565b906080823603126107315761014051519761053a8961139c565b82358952858301358a811161073557830196601f973689820112156101aa5761056990369089813591016119c7565b94878b01958652610140518501358c81116104ad5785019836908a0112156101aa57883596610597886114d3565b996105a761014051519b8c611458565b888b52898b018a6060809b0283010191368311610731578b808c9201925b84841061071957505090506105e591508d6101405101978c8952016112a4565b96888d0197885251998a51801591821561070d575b50506106e257825b8a51811015610673578061066d8c8f8b8b8f926106448761063c60019a73ffffffffffffffffffffffffffffffffffffffff9451986115c2565b5193516115c2565b51925116926101405151946106588661139c565b8552840152610140518301528c82015261487a565b01610602565b5099986106d6949897506001955083906106d0939d97929c519073ffffffffffffffffffffffffffffffffffffffff7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8d018c1494511691612fca565b90611862565b91969195929301610505565b5061014051517f947d5a84000000000000000000000000000000000000000000000000000000008152fd5b51141590508e806105fa565b6107233685611698565b8152019101908b8b916105c5565b8580fd5b8780fd5b5090346102595760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261025957602061078483356000526002602052604060002054151590565b61014051519015158152f35b507ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc916020833601126102595767ffffffffffffffff9282358481116104ad5760c08185019282360301126104ad576101405151946107ee8661139c565b82359485875260248301948535928311610259575060209661086b6102479561085860a461024e9a9761082b8d9b986108849836918401016115d6565b8b87015261083c3660448301611698565b61014051870152019361084e856112a4565b60608201526144bd565b6102246108636114eb565b953692611553565b61087484611586565b5261087e83611586565b506116d6565b903492611df1565b50346101aa5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101aa5760209167ffffffffffffffff913581526003835261014051902054166101405151908152f35b50346101aa5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101aa5760209061030667ffffffffffffffff421680923533614264565b823461025957807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261025957602061014051517fa98d02348410c9c76735e0d0bb1396f4015ac2bb9615f9c2611d19d7a8a996508152f35b50346101aa57610140517ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101aa5760209167ffffffffffffffff9173ffffffffffffffffffffffffffffffffffffffff6109e3611281565b16825283526101405181206024358252835261014051902054166101405151908152f35b50346101aa5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101aa576101a691610a5b91610a47611a49565b503581526002602052610140519020611ae7565b6101405151918291602083526020830190611300565b5060207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101aa57803567ffffffffffffffff81116104ad57610abb8391369084016111e5565b9092610ac6826116f7565b9383346101205280935b808510610af2576101a6610ae48789614329565b6101405151918291826112c5565b9091929394610b0286838661189e565b610b0f602082018261179e565b80929192158015610ca6575b610c7b578560608301928035915b838110610bbb57505092602092610b829260019695610b7c8d7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8b011494610b7461012051956116d6565b9336916117f2565b9061261c565b610b90815161012051611862565b61012052018051610ba1898b6115c2565b52610bac888a6115c2565b50515101950193929190610ad0565b610bca8160051b870187611553565b610bd9610140518401846118de565b831015610c4f576001929173ffffffffffffffffffffffffffffffffffffffff610c4992610c37610c098b6116d6565b91610c26610140515195610c1c8761139c565b8b875236906115d6565b602086015236906060880201611698565b610140518401521660608201526144bd565b01610b29565b60248b60328f7f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b8761014051517f947d5a84000000000000000000000000000000000000000000000000000000008152fd5b50610cb6610140518301836118de565b9050811415610b1b565b50346101aa5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101aa5760209061030667ffffffffffffffff42168092356141be565b506020807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126104ad57813567ffffffffffffffff928382116104a957610d54913691016111e5565b8493919290345b818610610d66578680f35b610d7186838761175e565b838101357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe182360301811215610e0e57810191823592868411610e0a578501928060061b36038413610e0a57600193826106d092610e0295610dfb8d7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8b011494339336916119c7565b9035612fca565b950194610d5b565b8980fd5b8880fd5b5060607ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101aa576104a590610e49611932565b90610e5336611981565b610e5c83611586565b52610e6682611586565b503491339135612d4d565b50602090817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126104ad5780359067ffffffffffffffff821161039757610ebe9084923691016111e5565b90610ec8826116f7565b93833490937fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8101905b808610610f06576101a6610ae4888a614329565b90919293949560019085610f51610f488a8888610f24838a8f61175e565b610f41610f338883018361179e565b9390951494339336916117f2565b903561261c565b96875190611862565b95018051610f5f8a8c6115c2565b52610f6a898b6115c2565b5051510196019493929190610ef2565b82346102595760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126102595760209073ffffffffffffffffffffffffffffffffffffffff610fca611281565b16815260018252610140519020546101405151908152f35b823461025957807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126102595761014051519080805461102381611a94565b808552916001918083169081156110bd5750600114611063575b6101a68561104d81870382611458565b610140515191829160208352602083019061123e565b80809450527f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5635b8284106110a557505050810160200161104d826101a661103d565b8054602085870181019190915290930192810161108a565b8695506101a69693506020925061104d9491507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001682840152151560051b820101929361103d565b50346101aa5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101aa57803567ffffffffffffffff9182821161039757611154913691016111e5565b90914216925b81811061116e576020846101405151908152f35b80611187856111806001948688611a39565b3533614264565b0161115a565b8390346101aa57817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101aa57807fdbfdf8dc2b135c26253e00d5b6cbe6f20457e003fd526d97cea183883570de6160209252f35b9181601f840112156112165782359167ffffffffffffffff8311611216576020808501948460051b01011161121657565b600080fd5b60005b83811061122e5750506000910152565b818101518382015260200161121e565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f60209361127a8151809281875287808801910161121b565b0116010190565b6004359073ffffffffffffffffffffffffffffffffffffffff8216820361121657565b359073ffffffffffffffffffffffffffffffffffffffff8216820361121657565b6020908160408183019282815285518094520193019160005b8281106112ec575050505090565b8351855293810193928101926001016112de565b9061139991805182526020810151602083015267ffffffffffffffff806040830151166040840152806060830151166060840152608082015116608083015260a081015160a083015273ffffffffffffffffffffffffffffffffffffffff8060c08301511660c084015260e08201511660e08301526101008082015115159083015261012080910151916101408092820152019061123e565b90565b6080810190811067ffffffffffffffff8211176113b857604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60c0810190811067ffffffffffffffff8211176113b857604052565b6060810190811067ffffffffffffffff8211176113b857604052565b6040810190811067ffffffffffffffff8211176113b857604052565b610140810190811067ffffffffffffffff8211176113b857604052565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff8211176113b857604052565b67ffffffffffffffff81116113b857601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01660200190565b67ffffffffffffffff81116113b85760051b60200190565b6040908151916114fa8361141f565b60018352829160005b60208082101561154b5783516020929161151c826113e7565b6000825260008183015260008683015260606000818401526080830152600060a0830152828801015201611503565b505091925050565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff4181360301821215611216570190565b8051156115935760200190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b80518210156115935760209160051b010190565b91909160c08184031261121657604051906115f0826113e7565b81936115fb826112a4565b835260209167ffffffffffffffff8184013581811681036112165784860152604082013580151581036112165760408601526060820135606086015260808201359081116112165781019180601f840112156112165782359261165d84611499565b9161166b6040519384611458565b84835285858301011161121657848460a09695879660009401838601378301015260808501520135910152565b9190826060910312611216576040516116b081611403565b8092803560ff811681036112165760409182918452602081013560208501520135910152565b3573ffffffffffffffffffffffffffffffffffffffff811681036112165790565b90611701826114d3565b61170e6040519182611458565b8281527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe061173c82946114d3565b019060005b82811061174d57505050565b806060602080938501015201611741565b91908110156115935760051b810135907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc181360301821215611216570190565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe181360301821215611216570180359067ffffffffffffffff821161121657602001918160051b3603831361121657565b929190926117ff846114d3565b9161180d6040519384611458565b829480845260208094019060051b8301928284116112165780915b84831061183757505050505050565b823567ffffffffffffffff811161121657869161185786849386016115d6565b815201920191611828565b9190820391821161186f57565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b91908110156115935760051b810135907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8181360301821215611216570190565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe181360301821215611216570180359067ffffffffffffffff82116112165760200191606082023603831361121657565b6040908151916119418361141f565b600183528291600091825b602080821015611978578251602092916119658261141f565b868252868183015282890101520161194c565b50505091925050565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdc604091011261121657604051906119b88261141f565b60243582526044356020830152565b9291926119d3826114d3565b6040926119e284519283611458565b819581835260208093019160061b84019381851161121657915b848310611a0b57505050505050565b8583830312611216578386918251611a228161141f565b8535815282860135838201528152019201916119fc565b91908110156115935760051b0190565b60405190611a568261143b565b606061012083600080825280602083015280604083015280848301528060808301528060a08301528060c08301528060e08301526101008201520152565b90600182811c92168015611add575b6020831014611aae57565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b91607f1691611aa3565b9060405191611af58361143b565b828154815260016006818401549360209485850152600281015467ffffffffffffffff908181166040870152818160401c16606087015260801c166080850152600381015460a085015260ff73ffffffffffffffffffffffffffffffffffffffff8060048401541660c0870152600583015490811660e087015260a01c1615156101008501520190604051938492600092815491611b9283611a94565b80875292828116908115611c075750600114611bc1575b505050506101209291611bbd910384611458565b0152565b60009081528381209695945091905b818310611bef57509394509192509082010181611bbd61012038611ba9565b86548884018501529586019587945091830191611bd0565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001685880152505050151560051b830101905081611bbd61012038611ba9565b60405190611c548261141f565b6060602083600081520152565b90611c6b826114d3565b611c786040519182611458565b8281527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0611ca682946114d3565b0190602036910137565b5190811515820361121657565b906020808383031261121657825167ffffffffffffffff938482116112165701926080848403126112165760405193611cf58561139c565b805185528281015173ffffffffffffffffffffffffffffffffffffffff811681036112165783860152611d2a60408201611cb0565b60408601526060810151918211611216570182601f8201121561121657805190611d5382611499565b93611d616040519586611458565b8285528383830101116112165782611d7c938501910161121b565b606082015290565b90611d8e826114d3565b611d9b6040519182611458565b8281527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0611dc982946114d3565b019060005b828110611dda57505050565b602090611de5611a49565b82828501015201611dce565b9192608052611dfe611c47565b50805190611e0a611c47565b60a052611e1682611c61565b602060a05101526040517fa2ea7c6e00000000000000000000000000000000000000000000000000000000815283600482015260008160248173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165afa801561261057600060e0526125eb575b5060e05151156125c1579091611ead83611d84565b60c052611eb983611c61565b610100526000915b838310611eec575050505050611ee26080516101005160c05160e0516132ba565b60a0515260a05190565b611efc83829793949596976115c2565b519167ffffffffffffffff60208401511680151590816125ac575b5061258257604060e05101511580612575575b61254b5760608301519567ffffffffffffffff6020850151169673ffffffffffffffffffffffffffffffffffffffff85511660408601511515906080870151926040519a611f778c61143b565b60008c528960208d015267ffffffffffffffff421660408d015260608c0152600060808c015260a08b015260c08a015273ffffffffffffffffffffffffffffffffffffffff8a1660e08a015261010089015261012088015260005b602088015160c08901516120db609d60e08c015160408d01518d60608101519161010082015115159061012060a084015193015193604051988996602088019b8c527fffffffffffffffffffffffffffffffffffffffff000000000000000000000000809260601b16604089015260601b1660548701527fffffffffffffffff000000000000000000000000000000000000000000000000809260c01b16606887015260c01b16607085015260f81b6078840152607983015280516120a0816099936020858701910161121b565b8201907fffffffff000000000000000000000000000000000000000000000000000000008860e01b169082015203607d810184520182611458565b51902080600052600260205260406000205415612101575060010163ffffffff16611fd2565b905097969293909495919780845280600052600260205260406000209184518355602085015160018401556121dd6002840167ffffffffffffffff6040880151168154907fffffffffffffffffffffffffffffffff000000000000000000000000000000006fffffffffffffffff000000000000000060608b015160401b1692161717815567ffffffffffffffff6080880151167fffffffffffffffff0000000000000000ffffffffffffffffffffffffffffffff77ffffffffffffffff0000000000000000000000000000000083549260801b169116179055565b60a085015160038401556004830173ffffffffffffffffffffffffffffffffffffffff60c0870151167fffffffffffffffffffffffff00000000000000000000000000000000000000008254161790556005830173ffffffffffffffffffffffffffffffffffffffff60e0870151168154907fffffffffffffffffffffff00000000000000000000000000000000000000000074ff00000000000000000000000000000000000000006101008a0151151560a01b1692161717905561012085015192835167ffffffffffffffff81116113b85789946122bf6006840154611a94565b601f81116124f0575b50602090601f8311600114612423576006929160009183612418575b50507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8260011b9260031b1c1916179101555b6060810151806123c8575b5073ffffffffffffffffffffffffffffffffffffffff906001956123488660c0516115c2565b526123558560c0516115c2565b5060a081015161236886610100516115c2565b528261237a86602060a05101516115c2565b5251166040519182527f8bf46bf4cfd674fa735a3d63ec1c9ad4153f033c290341f3a588b75685141b35602073ffffffffffffffffffffffffffffffffffffffff8b1693a401919290611ec1565b6123e19193506000526002602052604060002054151590565b156123ee57869138612322565b60046040517fc5723b51000000000000000000000000000000000000000000000000000000008152fd5b0151905038806122e4565b906006840160005260206000209160005b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0851681106124d55750918391600193837fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0600697161061249e575b505050811b01910155612317565b01517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60f88460031b161c19169055388080612490565b8183015184558d985060019093019260209283019201612434565b90919293949550600684016000526020600020601f840160051c810160208510612544575b908c979695949392915b601f830160051c820181106125355750506122c8565b600081558d985060010161251f565b5080612515565b60046040517f157bd4c3000000000000000000000000000000000000000000000000000000008152fd5b5060408301511515611f2a565b60046040517f08e8b937000000000000000000000000000000000000000000000000000000008152fd5b905067ffffffffffffffff4216101538611f17565b60046040517fbf37b20e000000000000000000000000000000000000000000000000000000008152fd5b612607903d806000833e6125ff8183611458565b810190611cbd565b60e05238611e98565b6040513d6000823e3d90fd5b9290949391612629611c47565b50855193612635611c47565b9461263f81611c61565b6020870152604051907fa2ea7c6e00000000000000000000000000000000000000000000000000000000825282600483015260008260248173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165afa91821561261057600092612d30575b508151156125c157929790916126d484611d84565b986126de85611c61565b946000935b818510612700575050505050956126fb94959661351e565b815290565b919593989496999092976127148a846115c2565b519a67ffffffffffffffff60208d0151168015159081612d1b575b506125825760408901511580612d0e575b61254b57899860608d01518d602081015167ffffffffffffffff1691815173ffffffffffffffffffffffffffffffffffffffff1690604083015115159260800151936040519e8f906127918261143b565b6000825260208201524267ffffffffffffffff166040820152606001528d608081016000905260a0015260c08d015273ffffffffffffffffffffffffffffffffffffffff8b1660e08d01526101008c01526101208b015260005b60208b01518b6128bc609d60c08301519260e08101519060408101519060608101519161010082015115159061012060a084015193015193604051988996602088019b8c527fffffffffffffffffffffffffffffffffffffffff000000000000000000000000809260601b16604089015260601b1660548701527fffffffffffffffff000000000000000000000000000000000000000000000000809260c01b16606887015260c01b16607085015260f81b6078840152607983015280516120a0816099936020858701910161121b565b519020806000526002602052604060002054156128e2575060010163ffffffff166127eb565b90509d979b9199929a949d9c909698939c80845280600052600260205260406000209184518355602085015160018401556129c46002840167ffffffffffffffff6040880151168154907fffffffffffffffffffffffffffffffff000000000000000000000000000000006fffffffffffffffff000000000000000060608b015160401b1692161717815567ffffffffffffffff6080880151167fffffffffffffffff0000000000000000ffffffffffffffffffffffffffffffff77ffffffffffffffff0000000000000000000000000000000083549260801b169116179055565b60a085015160038401556004830173ffffffffffffffffffffffffffffffffffffffff60c0870151167fffffffffffffffffffffffff00000000000000000000000000000000000000008254161790556005830173ffffffffffffffffffffffffffffffffffffffff60e0870151168154907fffffffffffffffffffffff00000000000000000000000000000000000000000074ff00000000000000000000000000000000000000006101008a0151151560a01b1692161717905561012085015192835167ffffffffffffffff81116113b8578894612aa66006840154611a94565b601f8111612cb3575b50602090601f8311600114612be6576006929160009183612bdb575b50507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8260011b9260031b1c1916179101555b8d8b8b606084015180612bae575b5086602073ffffffffffffffffffffffffffffffffffffffff95948794612b44848660019e612b3e83612b5c9a6115c2565b526115c2565b50612b548460a0890151926115c2565b5201516115c2565b5251166040519182527f8bf46bf4cfd674fa735a3d63ec1c9ad4153f033c290341f3a588b75685141b35602073ffffffffffffffffffffffffffffffffffffffff881693a4019290919293949a6126e3565b92505050612bcb9193506000526002602052604060002054151590565b156123ee5785918d8b8b38612b0c565b015190503880612acb565b906006840160005260206000209160005b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe085168110612c985750918391600193837fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe06006971610612c61575b505050811b01910155612afe565b01517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60f88460031b161c19169055388080612c53565b8183015184558c985060019093019260209283019201612bf7565b90919293949550600684016000526020600020601f840160051c810160208510612d07575b908b979695949392915b601f830160051c82018110612cf8575050612aaf565b600081558c9850600101612ce2565b5080612cd8565b5060408c01511515612740565b905067ffffffffffffffff421610153861272f565b612d469192503d806000833e6125ff8183611458565b90386126bf565b939291936040517fa2ea7c6e00000000000000000000000000000000000000000000000000000000815281600482015260008160248173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165afa90811561261057600091612faf575b508051156125c1578251612dde81611d84565b92612de882611c61565b9460005b838110612e0257505050506113999495506136ff565b612e0c81836115c2565b5190815160005260028060205260406000208054156123ee57856001820154036125c1578c73ffffffffffffffffffffffffffffffffffffffff6005830154911673ffffffffffffffffffffffffffffffffffffffff821603612f855760a01c60ff161561254b5767ffffffffffffffff8282015460801c16612f5b5790810180547fffffffffffffffff0000000000000000ffffffffffffffffffffffffffffffff164260801b77ffffffffffffffff00000000000000000000000000000000161790556001928c9190612ee082611ae7565b612eea858c6115c2565b52612ef5848b6115c2565b506020810151612f05858d6115c2565b527ff930a6e2523c9cc298691873087a740550b8fc85a0680830414c148ed927f615602073ffffffffffffffffffffffffffffffffffffffff87816004870154169451950154956040519586521693a401612dec565b60046040517f905e7107000000000000000000000000000000000000000000000000000000008152fd5b60046040517f4ca88867000000000000000000000000000000000000000000000000000000008152fd5b612fc491503d806000833e6125ff8183611458565b38612dcb565b90949392916040517fa2ea7c6e00000000000000000000000000000000000000000000000000000000815282600482015260008160248173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165afa908115612610576000916131eb575b508051156125c157865161305c81611d84565b9261306682611c61565b9460005b83811061308057505050506113999596506138fe565b61308a818c6115c2565b519081516000526002918260205260406000208054156123ee57846001820154036125c157600581015473ffffffffffffffffffffffffffffffffffffffff871673ffffffffffffffffffffffffffffffffffffffff821603612f855760a01c60ff161561254b5767ffffffffffffffff8482015460801c16612f5b5792830180547fffffffffffffffff0000000000000000ffffffffffffffffffffffffffffffff164260801b77ffffffffffffffff000000000000000000000000000000001617905560019261315b81611ae7565b613165848b6115c2565b52613170838a6115c2565b506020820151613180848c6115c2565b528373ffffffffffffffffffffffffffffffffffffffff6004830154169251910154916040519182527ff930a6e2523c9cc298691873087a740550b8fc85a0680830414c148ed927f615602073ffffffffffffffffffffffffffffffffffffffff891693a40161306a565b61320091503d806000833e6125ff8183611458565b38613049565b60408101906040815282518092526060810160608360051b830101926020809501916000905b82821061326f57505050508281830391015281808451928381520193019160005b82811061325b575050505090565b83518552938101939281019260010161324d565b909192959485806132aa837fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa089600196030186528a51611300565b979801949391909101910161322c565b9092918351936001908186146134fd5773ffffffffffffffffffffffffffffffffffffffff602080950151169182156134cd579560009687915b8083106133bf575050509183929161333d9492876040518097819582947f91db0b7e00000000000000000000000000000000000000000000000000000000845260048401613206565b03925af19081156126105760009161338b575b50905015613361576113999061408f565b60046040517fe8bee839000000000000000000000000000000000000000000000000000000008152fd5b82813d83116133b8575b61339f8183611458565b8101031261025957506133b190611cb0565b8038613350565b503d613395565b909197966133cd89876115c2565b5180151580613447575b61341d578181116133f3578084920398019801909190916132f4565b60046040517f11011294000000000000000000000000000000000000000000000000000000008152fd5b60046040517f1574f9f3000000000000000000000000000000000000000000000000000000008152fd5b50604080517fce46e04600000000000000000000000000000000000000000000000000000000815289816004818b5afa9182156134c3575060009161348e575b50156133d7565b908982813d83116134bc575b6134a48183611458565b8101031261025957506134b690611cb0565b38613487565b503d61349a565b513d6000823e3d90fd5b9594505050905060005b8281106134e75750505050600090565b6134f181836115c2565b5161341d5783016134d7565b6113999550613517915061351090611586565b5191611586565b5191613ad6565b9093918451946001908187146136e25773ffffffffffffffffffffffffffffffffffffffff602080950151169182156136b1579660009788915b80831061360157505050918392916135a19492886040518097819582947f91db0b7e00000000000000000000000000000000000000000000000000000000845260048401613206565b03925af1908115612610576000916135cd575b50905015613361576135c4575090565b6113999061408f565b82813d83116135fa575b6135e18183611458565b8101031261025957506135f390611cb0565b80386135b4565b503d6135d7565b9091989761360f8a876115c2565b5180151580613635575b61341d578181116133f357808492039901990190919091613558565b50604080517fce46e04600000000000000000000000000000000000000000000000000000000815289816004818b5afa9182156134c3575060009161367c575b5015613619565b908982813d83116136aa575b6136928183611458565b8101031261025957506136a490611cb0565b38613675565b503d613688565b969550505091505060005b8281106136cc5750505050600090565b6136d681836115c2565b5161341d5783016136bc565b61139996506136f8915061351090959495611586565b5191613c5d565b9092918351936001908186146138e45773ffffffffffffffffffffffffffffffffffffffff602080950151169182156138b4579560009687915b80831061380457505050918392916137829492876040518097819582947f88e5b2d900000000000000000000000000000000000000000000000000000000845260048401613206565b03925af1908115612610576000916137d0575b509050156137a6576113999061408f565b60046040517fbf2f3a8b000000000000000000000000000000000000000000000000000000008152fd5b82813d83116137fd575b6137e48183611458565b8101031261025957506137f690611cb0565b8038613795565b503d6137da565b9091979661381289876115c2565b5180151580613838575b61341d578181116133f357808492039801980190919091613739565b50604080517fce46e04600000000000000000000000000000000000000000000000000000000815289816004818b5afa9182156134c3575060009161387f575b501561381c565b908982813d83116138ad575b6138958183611458565b8101031261025957506138a790611cb0565b38613878565b503d61388b565b9594505050905060005b8281106138ce5750505050600090565b6138d881836115c2565b5161341d5783016138be565b61139995506138f7915061351090611586565b5191613dc5565b909391845194600190818714613ab95773ffffffffffffffffffffffffffffffffffffffff60208095015116918215613a88579660009788915b8083106139d857505050918392916139819492886040518097819582947f88e5b2d900000000000000000000000000000000000000000000000000000000845260048401613206565b03925af1908115612610576000916139a4575b509050156137a6576135c4575090565b82813d83116139d1575b6139b88183611458565b8101031261025957506139ca90611cb0565b8038613994565b503d6139ae565b909198976139e68a876115c2565b5180151580613a0c575b61341d578181116133f357808492039901990190919091613938565b50604080517fce46e04600000000000000000000000000000000000000000000000000000000815289816004818b5afa9182156134c35750600091613a53575b50156139f0565b908982813d8311613a81575b613a698183611458565b810103126102595750613a7b90611cb0565b38613a4c565b503d613a5f565b969550505091505060005b828110613aa35750505050600090565b613aad81836115c2565b5161341d578301613a93565b6113999650613acf915061351090959495611586565b5191613f3f565b92919273ffffffffffffffffffffffffffffffffffffffff602080920151168015613c505784151580613bd6575b61341d578385116133f357613b52829186946040519586809481937fe60c35050000000000000000000000000000000000000000000000000000000083528760048401526024830190611300565b03925af190811561261057600091613ba2575b50905015613b785781611399910361408f565b60046040517fbd8ba84d000000000000000000000000000000000000000000000000000000008152fd5b82813d8311613bcf575b613bb68183611458565b810103126102595750613bc890611cb0565b8038613b65565b503d613bac565b506040517fce46e0460000000000000000000000000000000000000000000000000000000081528281600481855afa90811561261057600091613c1b575b5015613b04565b908382813d8311613c49575b613c318183611458565b810103126102595750613c4390611cb0565b38613c14565b503d613c27565b5050505061341d57600090565b93919373ffffffffffffffffffffffffffffffffffffffff602080920151168015613db75785151580613d3d575b61341d578486116133f357613cd9829187946040519586809481937fe60c35050000000000000000000000000000000000000000000000000000000083528760048401526024830190611300565b03925af190811561261057600091613d09575b50905015613b78578290613cff57505090565b611399910361408f565b82813d8311613d36575b613d1d8183611458565b810103126102595750613d2f90611cb0565b8038613cec565b503d613d13565b506040517fce46e0460000000000000000000000000000000000000000000000000000000081528281600481855afa90811561261057600091613d82575b5015613c8b565b908382813d8311613db0575b613d988183611458565b810103126102595750613daa90611cb0565b38613d7b565b503d613d8e565b505050505061341d57600090565b92919273ffffffffffffffffffffffffffffffffffffffff602080920151168015613c505784151580613ec5575b61341d578385116133f357613e41829186946040519586809481937fe49617e10000000000000000000000000000000000000000000000000000000083528760048401526024830190611300565b03925af190811561261057600091613e91575b50905015613e675781611399910361408f565b60046040517fccf3bb27000000000000000000000000000000000000000000000000000000008152fd5b82813d8311613ebe575b613ea58183611458565b810103126102595750613eb790611cb0565b8038613e54565b503d613e9b565b506040517fce46e0460000000000000000000000000000000000000000000000000000000081528281600481855afa90811561261057600091613f0a575b5015613df3565b908382813d8311613f38575b613f208183611458565b810103126102595750613f3290611cb0565b38613f03565b503d613f16565b93919373ffffffffffffffffffffffffffffffffffffffff602080920151168015613db75785151580614015575b61341d578486116133f357613fbb829187946040519586809481937fe49617e10000000000000000000000000000000000000000000000000000000083528760048401526024830190611300565b03925af190811561261057600091613fe1575b50905015613e67578290613cff57505090565b82813d831161400e575b613ff58183611458565b81010312610259575061400790611cb0565b8038613fce565b503d613feb565b506040517fce46e0460000000000000000000000000000000000000000000000000000000081528281600481855afa9081156126105760009161405a575b5015613f6d565b908382813d8311614088575b6140708183611458565b81010312610259575061408290611cb0565b38614053565b503d614066565b806140975750565b80471061416057600080808093335af13d1561415b573d6140b781611499565b906140c56040519283611458565b8152600060203d92013e5b156140d757565b60846040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152603a60248201527f416464726573733a20756e61626c6520746f2073656e642076616c75652c207260448201527f6563697069656e74206d617920686176652072657665727465640000000000006064820152fd5b6140d0565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f416464726573733a20696e73756666696369656e742062616c616e63650000006044820152fd5b6000818152600360205267ffffffffffffffff908160408220541661423a577f5aafceeb1c7ad58e4a84898bdee37c02c0fc46e7d24e6b60e8209449f183459f91838252600360205260408220941693847fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000082541617905580a3565b60046040517f2e267946000000000000000000000000000000000000000000000000000000008152fd5b73ffffffffffffffffffffffffffffffffffffffff166000818152600460205260408120908381528160205267ffffffffffffffff806040832054166142ff577f92a1f7a41a7c585a8b09e25b195e225b1d43248daca46b0faf9e0792777a22299285835260205260408220951694857fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000082541617905580a4565b60046040517fec9d6eeb000000000000000000000000000000000000000000000000000000008152fd5b9061433390611c61565b60009283925b805184101561438e579361434d84866115c2565b519160005b835181101561437d5761436581856115c2565b5161437084876115c2565b5260019283019201614352565b509094600190940193909150614339565b509250905090565b73ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016301480614494575b156143fe577f000000000000000000000000000000000000000000000000000000000000000090565b60405160208101907f000000000000000000000000000000000000000000000000000000000000000082527f000000000000000000000000000000000000000000000000000000000000000060408201527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260a0815261448e816113e7565b51902090565b507f000000000000000000000000000000000000000000000000000000000000000046146143d5565b6020908181015190604080938183015192606081019173ffffffffffffffffffffffffffffffffffffffff948584511660005260018252846000209283549360018501905551928688511667ffffffffffffffff988985820151168882015115159060806060840151930151878151910120938a5198888a019b7fdbfdf8dc2b135c26253e00d5b6cbe6f20457e003fd526d97cea183883570de618d528a01526060890152608088015260a087015260c086015260e085015261010090818501528352610120830196838810908811176113b8576145a886956145bc946145c4998b5251902061482e565b918860ff8351169183015192015192614792565b9490946145f9565b51169116036145d05750565b600490517f8baa579f000000000000000000000000000000000000000000000000000000008152fd5b6005811015614763578061460a5750565b600181036146705760646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f45434453413a20696e76616c6964207369676e617475726500000000000000006044820152fd5b600281036146d65760646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e677468006044820152fd5b6003146146df57565b60846040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202773272076616c60448201527f75650000000000000000000000000000000000000000000000000000000000006064820152fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b9291907f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a083116148225791608094939160ff602094604051948552168484015260408301526060820152600093849182805260015afa1561481557815173ffffffffffffffffffffffffffffffffffffffff81161561480f579190565b50600190565b50604051903d90823e3d90fd5b50505050600090600390565b614836614396565b906040519060208201927f19010000000000000000000000000000000000000000000000000000000000008452602283015260428201526042815261448e8161139c565b602081015160409182810151916060820173ffffffffffffffffffffffffffffffffffffffff9283825116600052600160205285600020908154916001830190555192519086519160208301947fa98d02348410c9c76735e0d0bb1396f4015ac2bb9615f9c2611d19d7a8a99650865288840152606083015260808201526080815260a081019481861067ffffffffffffffff8711176113b85761492b85946145bc936145c4988a5251902061482e565b9060ff8151168860208301519201519261479256fea164736f6c6343000813000a";const i=e=>e.length>1;class s extends ethers_1.ContractFactory{constructor(...e){if(i(e)){super(...e)}else{super(r,n,e[0])}}deploy(e,t){return super.deploy(e,t||{})}getDeployTransaction(e,t){return super.getDeployTransaction(e,t||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static bytecode=n;static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.EAS__factory=s}));var IEAS__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.IEAS__factory=void 0;const r=[{anonymous:false,inputs:[{indexed:true,internalType:"address",name:"recipient",type:"address"},{indexed:true,internalType:"address",name:"attester",type:"address"},{indexed:false,internalType:"bytes32",name:"uid",type:"bytes32"},{indexed:true,internalType:"bytes32",name:"schema",type:"bytes32"}],name:"Attested",type:"event"},{anonymous:false,inputs:[{indexed:true,internalType:"address",name:"recipient",type:"address"},{indexed:true,internalType:"address",name:"attester",type:"address"},{indexed:false,internalType:"bytes32",name:"uid",type:"bytes32"},{indexed:true,internalType:"bytes32",name:"schema",type:"bytes32"}],name:"Revoked",type:"event"},{anonymous:false,inputs:[{indexed:true,internalType:"address",name:"revoker",type:"address"},{indexed:true,internalType:"bytes32",name:"data",type:"bytes32"},{indexed:true,internalType:"uint64",name:"timestamp",type:"uint64"}],name:"RevokedOffchain",type:"event"},{anonymous:false,inputs:[{indexed:true,internalType:"bytes32",name:"data",type:"bytes32"},{indexed:true,internalType:"uint64",name:"timestamp",type:"uint64"}],name:"Timestamped",type:"event"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct AttestationRequestData",name:"data",type:"tuple"}],internalType:"struct AttestationRequest",name:"request",type:"tuple"}],name:"attest",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct AttestationRequestData",name:"data",type:"tuple"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct EIP712Signature",name:"signature",type:"tuple"},{internalType:"address",name:"attester",type:"address"}],internalType:"struct DelegatedAttestationRequest",name:"delegatedRequest",type:"tuple"}],name:"attestByDelegation",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"uid",type:"bytes32"}],name:"getAttestation",outputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"bytes32",name:"schema",type:"bytes32"},{internalType:"uint64",name:"time",type:"uint64"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"uint64",name:"revocationTime",type:"uint64"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"address",name:"attester",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"revoker",type:"address"},{internalType:"bytes32",name:"data",type:"bytes32"}],name:"getRevokeOffchain",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSchemaRegistry",outputs:[{internalType:"contract ISchemaRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"data",type:"bytes32"}],name:"getTimestamp",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"uid",type:"bytes32"}],name:"isAttestationValid",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct AttestationRequestData[]",name:"data",type:"tuple[]"}],internalType:"struct MultiAttestationRequest[]",name:"multiRequests",type:"tuple[]"}],name:"multiAttest",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"bytes32",name:"refUID",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct AttestationRequestData[]",name:"data",type:"tuple[]"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct EIP712Signature[]",name:"signatures",type:"tuple[]"},{internalType:"address",name:"attester",type:"address"}],internalType:"struct MultiDelegatedAttestationRequest[]",name:"multiDelegatedRequests",type:"tuple[]"}],name:"multiAttestByDelegation",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct RevocationRequestData[]",name:"data",type:"tuple[]"}],internalType:"struct MultiRevocationRequest[]",name:"multiRequests",type:"tuple[]"}],name:"multiRevoke",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct RevocationRequestData[]",name:"data",type:"tuple[]"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct EIP712Signature[]",name:"signatures",type:"tuple[]"},{internalType:"address",name:"revoker",type:"address"}],internalType:"struct MultiDelegatedRevocationRequest[]",name:"multiDelegatedRequests",type:"tuple[]"}],name:"multiRevokeByDelegation",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"data",type:"bytes32[]"}],name:"multiRevokeOffchain",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"data",type:"bytes32[]"}],name:"multiTimestamp",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct RevocationRequestData",name:"data",type:"tuple"}],internalType:"struct RevocationRequest",name:"request",type:"tuple"}],name:"revoke",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"schema",type:"bytes32"},{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct RevocationRequestData",name:"data",type:"tuple"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct EIP712Signature",name:"signature",type:"tuple"},{internalType:"address",name:"revoker",type:"address"}],internalType:"struct DelegatedRevocationRequest",name:"delegatedRequest",type:"tuple"}],name:"revokeByDelegation",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"data",type:"bytes32"}],name:"revokeOffchain",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"data",type:"bytes32"}],name:"timestamp",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"nonpayable",type:"function"}];class n{static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.IEAS__factory=n}));var ISchemaRegistry__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.ISchemaRegistry__factory=void 0;const r=[{anonymous:false,inputs:[{indexed:true,internalType:"bytes32",name:"uid",type:"bytes32"},{indexed:false,internalType:"address",name:"registerer",type:"address"}],name:"Registered",type:"event"},{inputs:[{internalType:"bytes32",name:"uid",type:"bytes32"}],name:"getSchema",outputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"contract ISchemaResolver",name:"resolver",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"string",name:"schema",type:"string"}],internalType:"struct SchemaRecord",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"schema",type:"string"},{internalType:"contract ISchemaResolver",name:"resolver",type:"address"},{internalType:"bool",name:"revocable",type:"bool"}],name:"register",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"}];class n{static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.ISchemaRegistry__factory=n}));var SchemaRegistry__factory_1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.SchemaRegistry__factory=void 0;const r=[{inputs:[],name:"AlreadyExists",type:"error"},{anonymous:false,inputs:[{indexed:true,internalType:"bytes32",name:"uid",type:"bytes32"},{indexed:false,internalType:"address",name:"registerer",type:"address"}],name:"Registered",type:"event"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"uid",type:"bytes32"}],name:"getSchema",outputs:[{components:[{internalType:"bytes32",name:"uid",type:"bytes32"},{internalType:"contract ISchemaResolver",name:"resolver",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"string",name:"schema",type:"string"}],internalType:"struct SchemaRecord",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"schema",type:"string"},{internalType:"contract ISchemaResolver",name:"resolver",type:"address"},{internalType:"bool",name:"revocable",type:"bool"}],name:"register",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"}];const n="0x60808060405234610016576107b8908161001c8239f35b600080fdfe60806040908082526004918236101561001757600080fd5b600091823560e01c90816360d7a2781461029757508063a2ea7c6e146101045763ffa1ad741461004657600080fd5b3461010057817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610100578051918183019083821067ffffffffffffffff8311176100d45750926100d093825282527f302e323700000000000000000000000000000000000000000000000000000000602083015251918291602083526020830190610689565b0390f35b806041867f4e487b71000000000000000000000000000000000000000000000000000000006024945252fd5b5080fd5b503461010057602092837ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610293576060808351610144816106cc565b85815285878201528585820152015235825281835280822090805191610169836106cc565b805483526001918282015491868501600273ffffffffffffffffffffffffffffffffffffffff92838616835260ff8589019660a01c16151586520188845196898354936101b585610758565b808b52948381169081156102505750600114610214575b50505050506101e1856100d097980386610717565b606087019485528251978897818952519088015251169085015251151560608401525160808084015260a0830190610689565b908094939b50528983205b82841061023d575050508501909601956101e1886100d087386101cc565b80548985018c0152928a0192810161021f565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0016858c01525050505090151560051b86010196506101e1886100d087386101cc565b8280fd5b92939050346106625760607ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126106625780359067ffffffffffffffff80831161065e573660238401121561065e57828201359181831161065a57366024848601011161065a576024359673ffffffffffffffffffffffffffffffffffffffff9182891680990361010057604435978815158099036102935761033b816106cc565b8281526020998a8201908152888201998a52885197848c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe099818b601f83011601610386908d610717565b808c5280828d019460240185378b0101528b6060840199808b5283518d5115158d519384938185019687915180926103bd92610666565b84019260601b7fffffffffffffffffffffffffffffffffffffffff000000000000000000000000169083015260f81b6034820152036015810182526035016104059082610717565b519020998a8552848c5289852054610632579082918b600294528b8652858d528a8620925183556001968784019251167fffffffffffffffffffffff00000000000000000000000000000000000000000074ff000000000000000000000000000000000000000084549351151560a01b1692161717905501955190815194851161060657506104948654610758565b601f81116105c0575b508891601f8511600114610545578495509084939492919361051a575b50507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff91921b9260031b1c19161790555b817f7d917fcbc9a29a9705ff9936ffa599500e4fd902e4486bae317414fe967b307c848351338152a251908152f35b015191507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff386104ba565b9294849081168785528a8520945b8b888383106105a95750505010610572575b505050811b0190556104eb565b01517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60f88460031b161c19169055388080610565565b868601518855909601959485019487935001610553565b868352898320601f860160051c8101918b87106105fc575b601f0160051c019084905b8281106105f157505061049d565b8481550184906105e3565b90915081906105d8565b8260416024927f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b838a517f23369fa6000000000000000000000000000000000000000000000000000000008152fd5b8680fd5b8580fd5b8380fd5b60005b8381106106795750506000910152565b8181015183820152602001610669565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f6020936106c581518092818752878088019101610666565b0116010190565b6080810190811067ffffffffffffffff8211176106e857604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff8211176106e857604052565b90600182811c921680156107a1575b602083101461077257565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b91607f169161076756fea164736f6c6343000813000a";const i=e=>e.length>1;class s extends ethers_1.ContractFactory{constructor(...e){if(i(e)){super(...e)}else{super(r,n,e[0])}}deploy(e){return super.deploy(e||{})}getDeployTransaction(e){return super.getDeployTransaction(e||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static bytecode=n;static abi=r;static createInterface(){return new ethers_1.utils.Interface(r)}static connect(e,t){return new ethers_1.Contract(e,r,t)}}t.SchemaRegistry__factory=s}));var contracts=createCommonjsModule$2((function(e,t){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var n=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i))r(t,e,i);n(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.SchemaRegistry__factory=t.ISchemaRegistry__factory=t.IEAS__factory=t.EAS__factory=t.resolver=t.eip712=void 0;t.eip712=i(eip712);t.resolver=i(resolver);Object.defineProperty(t,"EAS__factory",{enumerable:true,get:function(){return EAS__factory_1.EAS__factory}});Object.defineProperty(t,"IEAS__factory",{enumerable:true,get:function(){return IEAS__factory_1.IEAS__factory}});Object.defineProperty(t,"ISchemaRegistry__factory",{enumerable:true,get:function(){return ISchemaRegistry__factory_1.ISchemaRegistry__factory}});Object.defineProperty(t,"SchemaRegistry__factory",{enumerable:true,get:function(){return SchemaRegistry__factory_1.SchemaRegistry__factory}})}));var factories=createCommonjsModule$2((function(e,t){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var n=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i))r(t,e,i);n(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.contracts=t.openzeppelin=void 0;t.openzeppelin=i(_openzeppelin);t.contracts=i(contracts)}));var typechainTypes=createCommonjsModule$2((function(e,t){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var n=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i))r(t,e,i);n(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.SchemaRegistry__factory=t.SchemaResolver__factory=t.ISchemaResolver__factory=t.ValueResolver__factory=t.TokenResolver__factory=t.RevocationResolver__factory=t.RecipientResolver__factory=t.PayingResolver__factory=t.ExpirationTimeResolver__factory=t.DataResolver__factory=t.AttesterResolver__factory=t.AttestationResolver__factory=t.ISchemaRegistry__factory=t.IEAS__factory=t.PermissionedEIP712Proxy__factory=t.EIP712Proxy__factory=t.EIP712Verifier__factory=t.EAS__factory=t.IERC20__factory=t.IERC20Metadata__factory=t.IERC20Permit__factory=t.ERC20__factory=t.Ownable__factory=t.factories=void 0;t.factories=i(factories);Object.defineProperty(t,"Ownable__factory",{enumerable:true,get:function(){return Ownable__factory_1.Ownable__factory}});Object.defineProperty(t,"ERC20__factory",{enumerable:true,get:function(){return ERC20__factory_1.ERC20__factory}});Object.defineProperty(t,"IERC20Permit__factory",{enumerable:true,get:function(){return IERC20Permit__factory_1.IERC20Permit__factory}});Object.defineProperty(t,"IERC20Metadata__factory",{enumerable:true,get:function(){return IERC20Metadata__factory_1.IERC20Metadata__factory}});Object.defineProperty(t,"IERC20__factory",{enumerable:true,get:function(){return IERC20__factory_1.IERC20__factory}});Object.defineProperty(t,"EAS__factory",{enumerable:true,get:function(){return EAS__factory_1.EAS__factory}});Object.defineProperty(t,"EIP712Verifier__factory",{enumerable:true,get:function(){return EIP712Verifier__factory_1.EIP712Verifier__factory}});Object.defineProperty(t,"EIP712Proxy__factory",{enumerable:true,get:function(){return EIP712Proxy__factory_1.EIP712Proxy__factory}});Object.defineProperty(t,"PermissionedEIP712Proxy__factory",{enumerable:true,get:function(){return PermissionedEIP712Proxy__factory_1.PermissionedEIP712Proxy__factory}});Object.defineProperty(t,"IEAS__factory",{enumerable:true,get:function(){return IEAS__factory_1.IEAS__factory}});Object.defineProperty(t,"ISchemaRegistry__factory",{enumerable:true,get:function(){return ISchemaRegistry__factory_1.ISchemaRegistry__factory}});Object.defineProperty(t,"AttestationResolver__factory",{enumerable:true,get:function(){return AttestationResolver__factory_1.AttestationResolver__factory}});Object.defineProperty(t,"AttesterResolver__factory",{enumerable:true,get:function(){return AttesterResolver__factory_1.AttesterResolver__factory}});Object.defineProperty(t,"DataResolver__factory",{enumerable:true,get:function(){return DataResolver__factory_1.DataResolver__factory}});Object.defineProperty(t,"ExpirationTimeResolver__factory",{enumerable:true,get:function(){return ExpirationTimeResolver__factory_1.ExpirationTimeResolver__factory}});Object.defineProperty(t,"PayingResolver__factory",{enumerable:true,get:function(){return PayingResolver__factory_1.PayingResolver__factory}});Object.defineProperty(t,"RecipientResolver__factory",{enumerable:true,get:function(){return RecipientResolver__factory_1.RecipientResolver__factory}});Object.defineProperty(t,"RevocationResolver__factory",{enumerable:true,get:function(){return RevocationResolver__factory_1.RevocationResolver__factory}});Object.defineProperty(t,"TokenResolver__factory",{enumerable:true,get:function(){return TokenResolver__factory_1.TokenResolver__factory}});Object.defineProperty(t,"ValueResolver__factory",{enumerable:true,get:function(){return ValueResolver__factory_1.ValueResolver__factory}});Object.defineProperty(t,"ISchemaResolver__factory",{enumerable:true,get:function(){return ISchemaResolver__factory_1.ISchemaResolver__factory}});Object.defineProperty(t,"SchemaResolver__factory",{enumerable:true,get:function(){return SchemaResolver__factory_1.SchemaResolver__factory}});Object.defineProperty(t,"SchemaRegistry__factory",{enumerable:true,get:function(){return SchemaRegistry__factory_1.SchemaRegistry__factory}})}));var utils$2=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.getTimestampFromOffchainRevocationEvents=t.getTimestampFromTimestampEvents=t.getUIDsFromAttestEvents=t.getUIDFromDelegatedProxyAttestReceipt=t.getUIDFromDelegatedProxyAttestTx=t.getUIDFromMultiDelegatedProxyAttestReceipt=t.getUIDFromMultiDelegatedProxyAttestTx=t.getUIDFromAttestTx=t.getUIDsFromMultiAttestTx=t.getOffchainUID=t.getUID=t.getSchemaUID=t.ZERO_BYTES32=t.ZERO_BYTES=t.ZERO_ADDRESS=void 0;const{solidityKeccak256:r,hexlify:n,toUtf8Bytes:i}=ethers_1.utils;const{AddressZero:s}=ethers_1.constants;t.ZERO_ADDRESS=s;t.ZERO_BYTES="0x";t.ZERO_BYTES32="0x0000000000000000000000000000000000000000000000000000000000000000";const f=(e,t,n)=>r(["string","address","bool"],[e,t,n]);t.getSchemaUID=f;const a=(e,t,s,f,a,o,c,u,l)=>r(["bytes","address","address","uint64","uint64","bool","bytes32","bytes","uint32"],[n(i(e)),t,s,f,a,o,c,u,l]);t.getUID=a;const o=(e,s,f,a,o,c,u,l)=>{switch(e){case 0:return r(["bytes","address","address","uint64","uint64","bool","bytes32","bytes","uint32"],[n(i(s)),f,t.ZERO_ADDRESS,a,o,c,u,l,0]);case 1:return r(["uint16","bytes","address","address","uint64","uint64","bool","bytes32","bytes","uint32"],[e,n(i(s)),f,t.ZERO_ADDRESS,a,o,c,u,l,0]);default:throw new Error("Unsupported version")}};t.getOffchainUID=o;const c=async e=>{const r=await(await e).wait();return(0,t.getUIDsFromAttestEvents)(r.events)};t.getUIDsFromMultiAttestTx=c;const u=async e=>(await(0,t.getUIDsFromMultiAttestTx)(e))[0];t.getUIDFromAttestTx=u;const l=async e=>(0,t.getUIDFromMultiDelegatedProxyAttestReceipt)((await e).wait());t.getUIDFromMultiDelegatedProxyAttestTx=l;const h=async e=>{const r=await e;const n=new abi_1.Interface(typechainTypes.EAS__factory.abi);const i=[];for(const e of r.events||[]){i.push({event:"Attested",args:await n.decodeEventLog("Attested",e.data,e.topics)})}return(0,t.getUIDsFromAttestEvents)(i)};t.getUIDFromMultiDelegatedProxyAttestReceipt=h;const d=async e=>(await(0,t.getUIDFromMultiDelegatedProxyAttestTx)(e))[0];t.getUIDFromDelegatedProxyAttestTx=d;const p=async e=>(await(0,t.getUIDFromMultiDelegatedProxyAttestReceipt)(e))[0];t.getUIDFromDelegatedProxyAttestReceipt=p;const y=e=>{if(!e){return[]}const t=e.filter((e=>e.event==="Attested"));if(t.length===0){throw new Error("Unable to process attestation events")}return t.map((e=>e.args?.uid))};t.getUIDsFromAttestEvents=y;const b=e=>{if(!e){return[]}const t=e.filter((e=>e.event==="Timestamped"));if(t.length===0){throw new Error("Unable to process attestation events")}return t.map((e=>e.args?.timestamp))};t.getTimestampFromTimestampEvents=b;const m=e=>{if(!e){return[]}const t=e.filter((e=>e.event==="RevokedOffchain"));if(t.length===0){throw new Error("Unable to process offchain revocation events")}return t.map((e=>e.args?.timestamp))};t.getTimestampFromOffchainRevocationEvents=m}));var typedDataHandler=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.TypedDataHandler=t.EIP712_DOMAIN=void 0;const{getAddress:r,verifyTypedData:n,hexlify:i,joinSignature:s,splitSignature:f,keccak256:a,toUtf8Bytes:o,defaultAbiCoder:c}=ethers_1.utils;t.EIP712_DOMAIN="EIP712Domain(string name,string version,uint256 chainId,address verifyingContract)";class u{config;constructor(e){this.config=e}getDomainSeparator(){return a(c.encode(["bytes32","bytes32","bytes32","uint256","address"],[a(o(t.EIP712_DOMAIN)),a(o(this.config.name)),a(o(this.config.version)),this.config.chainId,this.config.address]))}getDomainTypedData(){return{name:this.config.name,version:this.config.version,chainId:this.config.chainId,verifyingContract:this.config.address}}async signTypedDataRequest(e,t,r){const n=await r._signTypedData(t.domain,t.types,e);const i=f(n);return{...t,signature:{v:i.v,r:i.r,s:i.s}}}verifyTypedDataRequestSignature(e,t){if(e===utils$2.ZERO_ADDRESS){throw new Error("Invalid address")}const{signature:f}=t;const a=s({v:f.v,r:i(f.r),s:i(f.s)});const o=n(t.domain,t.types,t.message,a);return r(e)===r(o)}}t.TypedDataHandler=u}));var delegated=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.Delegated=t.REVOKE_TYPE=t.ATTEST_TYPE=t.REVOKE_PRIMARY_TYPE=t.ATTEST_PRIMARY_TYPE=t.REVOKE_TYPED_SIGNATURE=t.ATTEST_TYPED_SIGNATURE=t.EIP712_NAME=void 0;t.EIP712_NAME="EAS";t.ATTEST_TYPED_SIGNATURE="Attest(bytes32 schema,address recipient,uint64 expirationTime,bool revocable,bytes32 refUID,bytes data,uint256 nonce)";t.REVOKE_TYPED_SIGNATURE="Revoke(bytes32 schema,bytes32 uid,uint256 nonce)";t.ATTEST_PRIMARY_TYPE="Attest";t.REVOKE_PRIMARY_TYPE="Revoke";t.ATTEST_TYPE=[{name:"schema",type:"bytes32"},{name:"recipient",type:"address"},{name:"expirationTime",type:"uint64"},{name:"revocable",type:"bool"},{name:"refUID",type:"bytes32"},{name:"data",type:"bytes"},{name:"nonce",type:"uint256"}];t.REVOKE_TYPE=[{name:"schema",type:"bytes32"},{name:"uid",type:"bytes32"},{name:"nonce",type:"uint256"}];class r extends typedDataHandler.TypedDataHandler{constructor(e){super({...e,name:t.EIP712_NAME})}signDelegatedAttestation(e,r){return this.signTypedDataRequest(e,{domain:this.getDomainTypedData(),primaryType:t.ATTEST_PRIMARY_TYPE,message:e,types:{Attest:t.ATTEST_TYPE}},r)}verifyDelegatedAttestationSignature(e,t){return this.verifyTypedDataRequestSignature(e,t)}signDelegatedRevocation(e,r){return this.signTypedDataRequest(e,{domain:this.getDomainTypedData(),primaryType:t.REVOKE_PRIMARY_TYPE,message:e,types:{Revoke:t.REVOKE_TYPE}},r)}verifyDelegatedRevocationSignature(e,t){return this.verifyTypedDataRequestSignature(e,t)}}t.Delegated=r}));var delegatedProxy=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.DelegatedProxy=t.REVOKE_PROXY_TYPE=t.ATTEST_PROXY_TYPE=t.REVOKE_PROXY_PRIMARY_TYPE=t.ATTEST_PROXY_PRIMARY_TYPE=t.REVOKE_PROXY_TYPED_SIGNATURE=t.ATTEST_PROXY_TYPED_SIGNATURE=void 0;t.ATTEST_PROXY_TYPED_SIGNATURE="Attest(bytes32 schema,address recipient,uint64 expirationTime,bool revocable,bytes32 refUID,bytes data,uint64 deadline)";t.REVOKE_PROXY_TYPED_SIGNATURE="Revoke(bytes32 schema,bytes32 uid,uint64 deadline)";t.ATTEST_PROXY_PRIMARY_TYPE="Attest";t.REVOKE_PROXY_PRIMARY_TYPE="Revoke";t.ATTEST_PROXY_TYPE=[{name:"schema",type:"bytes32"},{name:"recipient",type:"address"},{name:"expirationTime",type:"uint64"},{name:"revocable",type:"bool"},{name:"refUID",type:"bytes32"},{name:"data",type:"bytes"},{name:"deadline",type:"uint64"}];t.REVOKE_PROXY_TYPE=[{name:"schema",type:"bytes32"},{name:"uid",type:"bytes32"},{name:"deadline",type:"uint64"}];class r extends typedDataHandler.TypedDataHandler{constructor(e){super(e)}signDelegatedProxyAttestation(e,r){return this.signTypedDataRequest(e,{domain:this.getDomainTypedData(),primaryType:t.ATTEST_PROXY_PRIMARY_TYPE,message:e,types:{Attest:t.ATTEST_PROXY_TYPE}},r)}verifyDelegatedProxyAttestationSignature(e,t){return this.verifyTypedDataRequestSignature(e,t)}signDelegatedProxyRevocation(e,r){return this.signTypedDataRequest(e,{domain:this.getDomainTypedData(),primaryType:t.REVOKE_PROXY_PRIMARY_TYPE,message:e,types:{Revoke:t.REVOKE_PROXY_TYPE}},r)}verifyDelegatedProxyRevocationSignature(e,t){return this.verifyTypedDataRequestSignature(e,t)}}t.DelegatedProxy=r}));var offchain$1=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.Offchain=t.OFFCHAIN_ATTESTATION_TYPES=t.OFFCHAIN_ATTESTATION_VERSION=void 0;const{keccak256:r,toUtf8Bytes:n,defaultAbiCoder:i}=ethers_1.utils;t.OFFCHAIN_ATTESTATION_VERSION=1;const s=0;t.OFFCHAIN_ATTESTATION_TYPES={0:{domainName:"EAS Attestation",primaryType:"Attestation",types:[{name:"schema",type:"bytes32"},{name:"recipient",type:"address"},{name:"time",type:"uint64"},{name:"expirationTime",type:"uint64"},{name:"revocable",type:"bool"},{name:"refUID",type:"bytes32"},{name:"data",type:"bytes"}]},1:{domainName:"EAS Attestation",primaryType:"Attest",types:[{name:"version",type:"uint16"},{name:"schema",type:"bytes32"},{name:"recipient",type:"address"},{name:"time",type:"uint64"},{name:"expirationTime",type:"uint64"},{name:"revocable",type:"bool"},{name:"refUID",type:"bytes32"},{name:"data",type:"bytes"}]}};class f extends typedDataHandler.TypedDataHandler{version;type;constructor(e,r){if(r>t.OFFCHAIN_ATTESTATION_VERSION){throw new Error("Unsupported version")}super({...e,name:delegated.EIP712_NAME});this.version=r;this.type=t.OFFCHAIN_ATTESTATION_TYPES[this.version]}getDomainSeparator(){return r(i.encode(["bytes32","bytes32","uint256","address"],[r(n(this.type.domainName)),r(n(this.config.version)),this.config.chainId,this.config.address]))}getDomainTypedData(){return{name:this.type.domainName,version:this.config.version,chainId:this.config.chainId,verifyingContract:this.config.address}}async signOffchainAttestation(e,t){const r=f.getOffchainUID(e);const n=await this.signTypedDataRequest(e,{domain:this.getDomainTypedData(),primaryType:this.type.primaryType,message:e,types:{Attest:this.type.types}},t);return{...n,uid:r}}verifyOffchainAttestationSignature(e,t){return t.uid===f.getOffchainUID(t.message)&&this.verifyTypedDataRequestSignature(e,t)}static getOffchainUID(e){return(0,utils$2.getOffchainUID)(e.version??s,e.schema,e.recipient,e.time,e.expirationTime,e.revocable,e.refUID,e.data)}}t.Offchain=f}));const tslib_1=getAugmentedNamespace(tslib_es6);var offchain=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});tslib_1.__exportStar(delegated,t);tslib_1.__exportStar(delegatedProxy,t);tslib_1.__exportStar(offchain$1,t)}));var request=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.NO_EXPIRATION=void 0;t.NO_EXPIRATION=0}));var transaction=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.Base=t.Transaction=void 0;class r{tx;waitCallback;constructor(e,t){this.tx=e;this.waitCallback=t}async wait(e){const t=await this.tx.wait(e);return this.waitCallback(t)}}t.Transaction=r;class n{contract;constructor(e,t,r){this.contract=e.attach(t);if(r){this.connect(r)}}connect(e){this.contract=this.contract.connect(e);return this}async getChainId(){return(await this.contract.provider.getNetwork()).chainId}}t.Base=n}));var eas=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.EAS=void 0;tslib_1.__exportStar(request,t);class r extends transaction.Base{proxy;delegated;offchain;constructor(e,t){const{signerOrProvider:r,proxy:n}=t||{};super(new typechainTypes.EAS__factory,e,r);if(n){this.proxy=n}}connect(e){delete this.delegated;delete this.offchain;super.connect(e);return this}getVersion(){return this.contract.VERSION()}getAttestation(e){return this.contract.getAttestation(e)}isAttestationValid(e){return this.contract.isAttestationValid(e)}async isAttestationRevoked(e){const t=await this.contract.getAttestation(e);if(t.uid===utils$2.ZERO_BYTES32){throw new Error("Invalid attestation")}return!t.revocationTime.isZero()}getTimestamp(e){return this.contract.getTimestamp(e)}getRevocationOffchain(e,t){return this.contract.getRevokeOffchain(e,t)}getEIP712Proxy(){return this.proxy}getDelegated(){if(this.delegated){return this.delegated}return this.setDelegated()}getOffchain(){if(this.offchain){return this.offchain}return this.setOffchain()}async attest({schema:e,data:{recipient:t,data:r,expirationTime:n=request.NO_EXPIRATION,revocable:i=true,refUID:s=utils$2.ZERO_BYTES32,value:f=0}},a){const o=await this.contract.attest({schema:e,data:{recipient:t,expirationTime:n,revocable:i,refUID:s,data:r,value:f}},{value:f,...a});return new transaction.Transaction(o,(async e=>(await(0,utils$2.getUIDsFromAttestEvents)(e.events))[0]))}async attestByDelegation({schema:e,data:{recipient:t,data:r,expirationTime:n=request.NO_EXPIRATION,revocable:i=true,refUID:s=utils$2.ZERO_BYTES32,value:f=0},attester:a,signature:o},c){const u=await this.contract.attestByDelegation({schema:e,data:{recipient:t,expirationTime:n,revocable:i,refUID:s,data:r,value:f},signature:o,attester:a},{value:f,...c});return new transaction.Transaction(u,(async e=>(await(0,utils$2.getUIDsFromAttestEvents)(e.events))[0]))}async multiAttest(e,t){const r=e.map((e=>({schema:e.schema,data:e.data.map((e=>({recipient:e.recipient,expirationTime:e.expirationTime??request.NO_EXPIRATION,revocable:e.revocable??true,refUID:e.refUID??utils$2.ZERO_BYTES32,data:e.data??utils$2.ZERO_BYTES32,value:e.value??0})))})));const n=r.reduce(((e,{data:t})=>{const r=t.reduce(((e,t)=>e.add(t.value)),ethers_1.BigNumber.from(0));return e.add(r)}),ethers_1.BigNumber.from(0));const i=await this.contract.multiAttest(r,{value:n,...t});return new transaction.Transaction(i,(async e=>(0,utils$2.getUIDsFromAttestEvents)(e.events)))}async multiAttestByDelegation(e,t){const r=e.map((e=>({schema:e.schema,data:e.data.map((e=>({recipient:e.recipient,expirationTime:e.expirationTime??request.NO_EXPIRATION,revocable:e.revocable??true,refUID:e.refUID??utils$2.ZERO_BYTES32,data:e.data??utils$2.ZERO_BYTES32,value:e.value??0}))),signatures:e.signatures,attester:e.attester})));const n=r.reduce(((e,{data:t})=>{const r=t.reduce(((e,t)=>e.add(t.value)),ethers_1.BigNumber.from(0));return e.add(r)}),ethers_1.BigNumber.from(0));const i=await this.contract.multiAttestByDelegation(r,{value:n,...t});return new transaction.Transaction(i,(async e=>(0,utils$2.getUIDsFromAttestEvents)(e.events)))}async revoke({schema:e,data:{uid:t,value:r=0}},n){const i=await this.contract.revoke({schema:e,data:{uid:t,value:r}},{value:r,...n});return new transaction.Transaction(i,(async()=>{}))}async revokeByDelegation({schema:e,data:{uid:t,value:r=0},signature:n,revoker:i},s){const f=await this.contract.revokeByDelegation({schema:e,data:{uid:t,value:r},signature:n,revoker:i},{value:r,...s});return new transaction.Transaction(f,(async()=>{}))}async multiRevoke(e,t){const r=e.map((e=>({schema:e.schema,data:e.data.map((e=>({uid:e.uid,value:e.value??0})))})));const n=r.reduce(((e,{data:t})=>{const r=t.reduce(((e,t)=>e.add(t.value)),ethers_1.BigNumber.from(0));return e.add(r)}),ethers_1.BigNumber.from(0));const i=await this.contract.multiRevoke(r,{value:n,...t});return new transaction.Transaction(i,(async()=>{}))}async multiRevokeByDelegation(e,t){const r=e.map((e=>({schema:e.schema,data:e.data.map((e=>({uid:e.uid,value:e.value??0}))),signatures:e.signatures,revoker:e.revoker})));const n=r.reduce(((e,{data:t})=>{const r=t.reduce(((e,t)=>e.add(t.value)),ethers_1.BigNumber.from(0));return e.add(r)}),ethers_1.BigNumber.from(0));const i=await this.contract.multiRevokeByDelegation(r,{value:n,...t});return new transaction.Transaction(i,(async()=>{}))}attestByDelegationProxy(e,t){if(!this.proxy){throw new Error("Proxy wasn't set")}return this.proxy.attestByDelegationProxy(e,t)}multiAttestByDelegationProxy(e,t){if(!this.proxy){throw new Error("Proxy wasn't set")}return this.proxy.multiAttestByDelegationProxy(e,t)}revokeByDelegationProxy(e,t){if(!this.proxy){throw new Error("Proxy wasn't set")}return this.proxy.revokeByDelegationProxy(e,t)}multiRevokeByDelegationProxy(e,t){if(!this.proxy){throw new Error("Proxy wasn't set")}return this.proxy.multiRevokeByDelegationProxy(e,t)}async timestamp(e,t){const r=await this.contract.timestamp(e,t??{});return new transaction.Transaction(r,(async e=>(await(0,utils$2.getTimestampFromTimestampEvents)(e.events))[0]))}async multiTimestamp(e,t){const r=await this.contract.multiTimestamp(e,t??{});return new transaction.Transaction(r,(async e=>(0,utils$2.getTimestampFromTimestampEvents)(e.events)))}async revokeOffchain(e,t){const r=await this.contract.revokeOffchain(e,t??{});return new transaction.Transaction(r,(async e=>(await(0,utils$2.getTimestampFromOffchainRevocationEvents)(e.events))[0]))}async multiRevokeOffchain(e,t){const r=await this.contract.multiRevokeOffchain(e,t??{});return new transaction.Transaction(r,(async e=>(0,utils$2.getTimestampFromOffchainRevocationEvents)(e.events)))}getDomainSeparator(){return this.contract.getDomainSeparator()}getNonce(e){return this.contract.getNonce(e)}getAttestTypeHash(){return this.contract.getAttestTypeHash()}getRevokeTypeHash(){return this.contract.getRevokeTypeHash()}async setDelegated(){this.delegated=new offchain.Delegated({address:this.contract.address,version:await this.getVersion(),chainId:await this.getChainId()});return this.delegated}async setOffchain(){this.offchain=new offchain.Offchain({address:this.contract.address,version:await this.getVersion(),chainId:await this.getChainId()},offchain.OFFCHAIN_ATTESTATION_VERSION);return this.offchain}}t.EAS=r}));var schemaEncoder=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.SchemaEncoder=void 0;const{FunctionFragment:r,defaultAbiCoder:n,isBytesLike:i,formatBytes32String:s}=ethers_1.utils;const f="tuple";const a="tuple[]";class o{schema;constructor(e){this.schema=[];const t=e.replace(/ipfsHash/g,"bytes32");const i=r.from(`func(${t})`);n.getDefaultValue(i.inputs);for(const e of i.inputs){const{name:t,components:r}=e;let{type:n}=e;let i=t?`${n} ${t}`:n;const s=t?` ${t}`:"";let c=n;const u=`(${(r||[]).map((e=>e.type)).join(",")})`;const l=`(${(r||[]).map((e=>e.name?`${e.type} ${e.name}`:e.type)).join(",")})`;if(n===f){n=u;i=`${l}${s}`}else if(n===a){n=`${u}[]`;i=`${l}[]${s}`}else if(n.includes("[]")){c=c.replace("[]","")}const h=o.getDefaultValueForTypeName(c);this.schema.push({name:t,type:n,signature:i,value:n.includes("[]")?[]:h})}}encodeData(e){if(e.length!==this.schema.length){throw new Error("Invalid number or values")}const t=[];for(const[r,n]of this.schema.entries()){const{type:f,name:a,value:c}=e[r];const u=f.replace(/\s/g,"");if(u!==n.type&&u!==n.signature&&!(u==="ipfsHash"&&n.type==="bytes32")){throw new Error(`Incompatible param type: ${u}`)}if(a!==n.name){throw new Error(`Incompatible param name: ${a}`)}t.push(n.type==="bytes32"&&n.name==="ipfsHash"?o.decodeIpfsValue(c):n.type==="bytes32"&&typeof c==="string"&&!i(c)?s(c):c)}return n.encode(this.signatures(),t)}decodeData(e){const t=n.decode(this.signatures(),e);return this.schema.map(((e,n)=>{const i=r.from(`func(${e.signature})`);if(i.inputs.length!==1){throw new Error(`Unexpected inputs: ${i.inputs}`)}let s=t[n];const f=i.inputs[0];const{components:a}=f;if(s.length>0&&a){if(Array.isArray(s[0])){const t=[];for(const e of s){const r=[];const n=e.filter((e=>typeof e!=="object"));for(const[e,t]of n.entries()){const n=a[e];r.push({name:n.name,type:n.type,value:t})}t.push(r)}s={name:e.name,type:e.type,value:t}}else{const t=[];const r=s.filter((e=>typeof e!=="object"));for(const[e,n]of r.entries()){const r=a[e];t.push({name:r.name,type:r.type,value:n})}s={name:e.name,type:e.type,value:t}}}else{s={name:e.name,type:e.type,value:s}}return{name:e.name,type:e.type,signature:e.signature,value:s}}))}isEncodedDataValid(e){try{this.decodeData(e);return true}catch(e){return false}}static isCID(e){try{src$9.CID.parse(e);return true}catch{return false}}static encodeQmHash(e){const t=src$9.CID.parse(e);return n.encode(["bytes32"],[t.multihash.digest])}static decodeQmHash(e){const t=Uint8Array.from(Buffer.from(e.slice(2),"hex"));const r={digest:t,code:18,size:32,bytes:Uint8Array.from([18,32,...t])};const n=src$9.CID.createV0(r);return n.toString()}static getDefaultValueForTypeName(e){return e==="bool"?false:e.includes("uint")?"0":e==="address"?utils$2.ZERO_ADDRESS:""}static decodeIpfsValue(e){if(i(e)){return o.encodeBytes32Value(e)}try{const t=src$9.CID.parse(e);const r=n.encode(["bytes32"],[t.multihash.digest]);return r}catch{return o.encodeBytes32Value(e)}}static encodeBytes32Value(e){try{n.encode(["bytes32"],[e]);return e}catch(t){return s(e)}}signatures(){return this.schema.map((e=>e.signature))}}t.SchemaEncoder=o}));var schemaRegistry=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.SchemaRegistry=void 0;class r extends transaction.Base{constructor(e,t){const{signerOrProvider:r}=t||{};super(new typechainTypes.SchemaRegistry__factory,e,r)}getVersion(){return this.contract.VERSION()}async register({schema:e,resolverAddress:t=utils$2.ZERO_ADDRESS,revocable:r=true}){const n=await this.contract.register(e,t,r);return new transaction.Transaction(n,(async n=>(0,utils$2.getSchemaUID)(e,t,r)))}async getSchema({uid:e}){const t=await this.contract.getSchema(e);if(t.uid===utils$2.ZERO_BYTES32){throw new Error("Schema not found")}return t}}t.SchemaRegistry=r}));var dist=createCommonjsModule$2((function(e,t){Object.defineProperty(t,"__esModule",{value:true});tslib_1.__exportStar(eas,t);tslib_1.__exportStar(offchain,t);tslib_1.__exportStar(request,t);tslib_1.__exportStar(schemaEncoder,t);tslib_1.__exportStar(schemaRegistry,t);tslib_1.__exportStar(utils$2,t)}));
/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4;const Z_BINARY=0;const Z_TEXT=1;const Z_UNKNOWN$1=2;function zero$1(e){let t=e.length;while(--t>=0){e[t]=0}}const STORED_BLOCK=0;const STATIC_TREES=1;const DYN_TREES=2;const MIN_MATCH$1=3;const MAX_MATCH$1=258;const LENGTH_CODES$1=29;const LITERALS$1=256;const L_CODES$1=LITERALS$1+1+LENGTH_CODES$1;const D_CODES$1=30;const BL_CODES$1=19;const HEAP_SIZE$1=2*L_CODES$1+1;const MAX_BITS$1=15;const Buf_size=16;const MAX_BL_BITS=7;const END_BLOCK=256;const REP_3_6=16;const REPZ_3_10=17;const REPZ_11_138=18;const extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]);const extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]);const extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]);const bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);const DIST_CODE_LEN=512;const static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(e,t,r,n,i){this.static_tree=e;this.extra_bits=t;this.extra_base=r;this.elems=n;this.max_length=i;this.has_stree=e&&e.length}let static_l_desc;let static_d_desc;let static_bl_desc;function TreeDesc(e,t){this.dyn_tree=e;this.max_code=0;this.stat_desc=t}const d_code=e=>e<256?_dist_code[e]:_dist_code[256+(e>>>7)];const put_short=(e,t)=>{e.pending_buf[e.pending++]=t&255;e.pending_buf[e.pending++]=t>>>8&255};const send_bits=(e,t,r)=>{if(e.bi_valid>Buf_size-r){e.bi_buf|=t<<e.bi_valid&65535;put_short(e,e.bi_buf);e.bi_buf=t>>Buf_size-e.bi_valid;e.bi_valid+=r-Buf_size}else{e.bi_buf|=t<<e.bi_valid&65535;e.bi_valid+=r}};const send_code=(e,t,r)=>{send_bits(e,r[t*2],r[t*2+1])};const bi_reverse=(e,t)=>{let r=0;do{r|=e&1;e>>>=1;r<<=1}while(--t>0);return r>>>1};const bi_flush=e=>{if(e.bi_valid===16){put_short(e,e.bi_buf);e.bi_buf=0;e.bi_valid=0}else if(e.bi_valid>=8){e.pending_buf[e.pending++]=e.bi_buf&255;e.bi_buf>>=8;e.bi_valid-=8}};const gen_bitlen=(e,t)=>{const r=t.dyn_tree;const n=t.max_code;const i=t.stat_desc.static_tree;const s=t.stat_desc.has_stree;const f=t.stat_desc.extra_bits;const a=t.stat_desc.extra_base;const o=t.stat_desc.max_length;let c;let u,l;let h;let d;let p;let y=0;for(h=0;h<=MAX_BITS$1;h++){e.bl_count[h]=0}r[e.heap[e.heap_max]*2+1]=0;for(c=e.heap_max+1;c<HEAP_SIZE$1;c++){u=e.heap[c];h=r[r[u*2+1]*2+1]+1;if(h>o){h=o;y++}r[u*2+1]=h;if(u>n){continue}e.bl_count[h]++;d=0;if(u>=a){d=f[u-a]}p=r[u*2];e.opt_len+=p*(h+d);if(s){e.static_len+=p*(i[u*2+1]+d)}}if(y===0){return}do{h=o-1;while(e.bl_count[h]===0){h--}e.bl_count[h]--;e.bl_count[h+1]+=2;e.bl_count[o]--;y-=2}while(y>0);for(h=o;h!==0;h--){u=e.bl_count[h];while(u!==0){l=e.heap[--c];if(l>n){continue}if(r[l*2+1]!==h){e.opt_len+=(h-r[l*2+1])*r[l*2];r[l*2+1]=h}u--}}};const gen_codes=(e,t,r)=>{const n=new Array(MAX_BITS$1+1);let i=0;let s;let f;for(s=1;s<=MAX_BITS$1;s++){i=i+r[s-1]<<1;n[s]=i}for(f=0;f<=t;f++){let t=e[f*2+1];if(t===0){continue}e[f*2]=bi_reverse(n[t]++,t)}};const tr_static_init=()=>{let e;let t;let r;let n;let i;const s=new Array(MAX_BITS$1+1);r=0;for(n=0;n<LENGTH_CODES$1-1;n++){base_length[n]=r;for(e=0;e<1<<extra_lbits[n];e++){_length_code[r++]=n}}_length_code[r-1]=n;i=0;for(n=0;n<16;n++){base_dist[n]=i;for(e=0;e<1<<extra_dbits[n];e++){_dist_code[i++]=n}}i>>=7;for(;n<D_CODES$1;n++){base_dist[n]=i<<7;for(e=0;e<1<<extra_dbits[n]-7;e++){_dist_code[256+i++]=n}}for(t=0;t<=MAX_BITS$1;t++){s[t]=0}e=0;while(e<=143){static_ltree[e*2+1]=8;e++;s[8]++}while(e<=255){static_ltree[e*2+1]=9;e++;s[9]++}while(e<=279){static_ltree[e*2+1]=7;e++;s[7]++}while(e<=287){static_ltree[e*2+1]=8;e++;s[8]++}gen_codes(static_ltree,L_CODES$1+1,s);for(e=0;e<D_CODES$1;e++){static_dtree[e*2+1]=5;static_dtree[e*2]=bi_reverse(e,5)}static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1);static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1);static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)};const init_block=e=>{let t;for(t=0;t<L_CODES$1;t++){e.dyn_ltree[t*2]=0}for(t=0;t<D_CODES$1;t++){e.dyn_dtree[t*2]=0}for(t=0;t<BL_CODES$1;t++){e.bl_tree[t*2]=0}e.dyn_ltree[END_BLOCK*2]=1;e.opt_len=e.static_len=0;e.sym_next=e.matches=0};const bi_windup=e=>{if(e.bi_valid>8){put_short(e,e.bi_buf)}else if(e.bi_valid>0){e.pending_buf[e.pending++]=e.bi_buf}e.bi_buf=0;e.bi_valid=0};const smaller=(e,t,r,n)=>{const i=t*2;const s=r*2;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]};const pqdownheap=(e,t,r)=>{const n=e.heap[r];let i=r<<1;while(i<=e.heap_len){if(i<e.heap_len&&smaller(t,e.heap[i+1],e.heap[i],e.depth)){i++}if(smaller(t,n,e.heap[i],e.depth)){break}e.heap[r]=e.heap[i];r=i;i<<=1}e.heap[r]=n};const compress_block=(e,t,r)=>{let n;let i;let s=0;let f;let a;if(e.sym_next!==0){do{n=e.pending_buf[e.sym_buf+s++]&255;n+=(e.pending_buf[e.sym_buf+s++]&255)<<8;i=e.pending_buf[e.sym_buf+s++];if(n===0){send_code(e,i,t)}else{f=_length_code[i];send_code(e,f+LITERALS$1+1,t);a=extra_lbits[f];if(a!==0){i-=base_length[f];send_bits(e,i,a)}n--;f=d_code(n);send_code(e,f,r);a=extra_dbits[f];if(a!==0){n-=base_dist[f];send_bits(e,n,a)}}}while(s<e.sym_next)}send_code(e,END_BLOCK,t)};const build_tree=(e,t)=>{const r=t.dyn_tree;const n=t.stat_desc.static_tree;const i=t.stat_desc.has_stree;const s=t.stat_desc.elems;let f,a;let o=-1;let c;e.heap_len=0;e.heap_max=HEAP_SIZE$1;for(f=0;f<s;f++){if(r[f*2]!==0){e.heap[++e.heap_len]=o=f;e.depth[f]=0}else{r[f*2+1]=0}}while(e.heap_len<2){c=e.heap[++e.heap_len]=o<2?++o:0;r[c*2]=1;e.depth[c]=0;e.opt_len--;if(i){e.static_len-=n[c*2+1]}}t.max_code=o;for(f=e.heap_len>>1;f>=1;f--){pqdownheap(e,r,f)}c=s;do{f=e.heap[1];e.heap[1]=e.heap[e.heap_len--];pqdownheap(e,r,1);a=e.heap[1];e.heap[--e.heap_max]=f;e.heap[--e.heap_max]=a;r[c*2]=r[f*2]+r[a*2];e.depth[c]=(e.depth[f]>=e.depth[a]?e.depth[f]:e.depth[a])+1;r[f*2+1]=r[a*2+1]=c;e.heap[1]=c++;pqdownheap(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1];gen_bitlen(e,t);gen_codes(r,o,e.bl_count)};const scan_tree=(e,t,r)=>{let n;let i=-1;let s;let f=t[0*2+1];let a=0;let o=7;let c=4;if(f===0){o=138;c=3}t[(r+1)*2+1]=65535;for(n=0;n<=r;n++){s=f;f=t[(n+1)*2+1];if(++a<o&&s===f){continue}else if(a<c){e.bl_tree[s*2]+=a}else if(s!==0){if(s!==i){e.bl_tree[s*2]++}e.bl_tree[REP_3_6*2]++}else if(a<=10){e.bl_tree[REPZ_3_10*2]++}else{e.bl_tree[REPZ_11_138*2]++}a=0;i=s;if(f===0){o=138;c=3}else if(s===f){o=6;c=3}else{o=7;c=4}}};const send_tree=(e,t,r)=>{let n;let i=-1;let s;let f=t[0*2+1];let a=0;let o=7;let c=4;if(f===0){o=138;c=3}for(n=0;n<=r;n++){s=f;f=t[(n+1)*2+1];if(++a<o&&s===f){continue}else if(a<c){do{send_code(e,s,e.bl_tree)}while(--a!==0)}else if(s!==0){if(s!==i){send_code(e,s,e.bl_tree);a--}send_code(e,REP_3_6,e.bl_tree);send_bits(e,a-3,2)}else if(a<=10){send_code(e,REPZ_3_10,e.bl_tree);send_bits(e,a-3,3)}else{send_code(e,REPZ_11_138,e.bl_tree);send_bits(e,a-11,7)}a=0;i=s;if(f===0){o=138;c=3}else if(s===f){o=6;c=3}else{o=7;c=4}}};const build_bl_tree=e=>{let t;scan_tree(e,e.dyn_ltree,e.l_desc.max_code);scan_tree(e,e.dyn_dtree,e.d_desc.max_code);build_tree(e,e.bl_desc);for(t=BL_CODES$1-1;t>=3;t--){if(e.bl_tree[bl_order[t]*2+1]!==0){break}}e.opt_len+=3*(t+1)+5+5+4;return t};const send_all_trees=(e,t,r,n)=>{let i;send_bits(e,t-257,5);send_bits(e,r-1,5);send_bits(e,n-4,4);for(i=0;i<n;i++){send_bits(e,e.bl_tree[bl_order[i]*2+1],3)}send_tree(e,e.dyn_ltree,t-1);send_tree(e,e.dyn_dtree,r-1)};const detect_data_type=e=>{let t=4093624447;let r;for(r=0;r<=31;r++,t>>>=1){if(t&1&&e.dyn_ltree[r*2]!==0){return Z_BINARY}}if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0){return Z_TEXT}for(r=32;r<LITERALS$1;r++){if(e.dyn_ltree[r*2]!==0){return Z_TEXT}}return Z_BINARY};let static_init_done=false;const _tr_init$1=e=>{if(!static_init_done){tr_static_init();static_init_done=true}e.l_desc=new TreeDesc(e.dyn_ltree,static_l_desc);e.d_desc=new TreeDesc(e.dyn_dtree,static_d_desc);e.bl_desc=new TreeDesc(e.bl_tree,static_bl_desc);e.bi_buf=0;e.bi_valid=0;init_block(e)};const _tr_stored_block$1=(e,t,r,n)=>{send_bits(e,(STORED_BLOCK<<1)+(n?1:0),3);bi_windup(e);put_short(e,r);put_short(e,~r);if(r){e.pending_buf.set(e.window.subarray(t,t+r),e.pending)}e.pending+=r};const _tr_align$1=e=>{send_bits(e,STATIC_TREES<<1,3);send_code(e,END_BLOCK,static_ltree);bi_flush(e)};const _tr_flush_block$1=(e,t,r,n)=>{let i,s;let f=0;if(e.level>0){if(e.strm.data_type===Z_UNKNOWN$1){e.strm.data_type=detect_data_type(e)}build_tree(e,e.l_desc);build_tree(e,e.d_desc);f=build_bl_tree(e);i=e.opt_len+3+7>>>3;s=e.static_len+3+7>>>3;if(s<=i){i=s}}else{i=s=r+5}if(r+4<=i&&t!==-1){_tr_stored_block$1(e,t,r,n)}else if(e.strategy===Z_FIXED$1||s===i){send_bits(e,(STATIC_TREES<<1)+(n?1:0),3);compress_block(e,static_ltree,static_dtree)}else{send_bits(e,(DYN_TREES<<1)+(n?1:0),3);send_all_trees(e,e.l_desc.max_code+1,e.d_desc.max_code+1,f+1);compress_block(e,e.dyn_ltree,e.dyn_dtree)}init_block(e);if(n){bi_windup(e)}};const _tr_tally$1=(e,t,r)=>{e.pending_buf[e.sym_buf+e.sym_next++]=t;e.pending_buf[e.sym_buf+e.sym_next++]=t>>8;e.pending_buf[e.sym_buf+e.sym_next++]=r;if(t===0){e.dyn_ltree[r*2]++}else{e.matches++;t--;e.dyn_ltree[(_length_code[r]+LITERALS$1+1)*2]++;e.dyn_dtree[d_code(t)*2]++}return e.sym_next===e.sym_end};var _tr_init_1=_tr_init$1;var _tr_stored_block_1=_tr_stored_block$1;var _tr_flush_block_1=_tr_flush_block$1;var _tr_tally_1=_tr_tally$1;var _tr_align_1=_tr_align$1;var trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(e,t,r,n)=>{let i=e&65535|0,s=e>>>16&65535|0,f=0;while(r!==0){f=r>2e3?2e3:r;r-=f;do{i=i+t[n++]|0;s=s+i|0}while(--f);i%=65521;s%=65521}return i|s<<16|0};var adler32_1=adler32;const makeTable=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++){e=e&1?3988292384^e>>>1:e>>>1}t[r]=e}return t};const crcTable=new Uint32Array(makeTable());const crc32=(e,t,r,n)=>{const i=crcTable;const s=n+r;e^=-1;for(let r=n;r<s;r++){e=e>>>8^i[(e^t[r])&255]}return e^-1};var crc32_1=crc32;var messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};var constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees;const{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2;const MAX_MEM_LEVEL=9;const MAX_WBITS$1=15;const DEF_MEM_LEVEL=8;const LENGTH_CODES=29;const LITERALS=256;const L_CODES=LITERALS+1+LENGTH_CODES;const D_CODES=30;const BL_CODES=19;const HEAP_SIZE=2*L_CODES+1;const MAX_BITS=15;const MIN_MATCH=3;const MAX_MATCH=258;const MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1;const PRESET_DICT=32;const INIT_STATE=42;const GZIP_STATE=57;const EXTRA_STATE=69;const NAME_STATE=73;const COMMENT_STATE=91;const HCRC_STATE=103;const BUSY_STATE=113;const FINISH_STATE=666;const BS_NEED_MORE=1;const BS_BLOCK_DONE=2;const BS_FINISH_STARTED=3;const BS_FINISH_DONE=4;const OS_CODE=3;const err=(e,t)=>{e.msg=messages[t];return t};const rank=e=>e*2-(e>4?9:0);const zero=e=>{let t=e.length;while(--t>=0){e[t]=0}};const slide_hash=e=>{let t,r;let n;let i=e.w_size;t=e.hash_size;n=t;do{r=e.head[--n];e.head[n]=r>=i?r-i:0}while(--t);t=i;n=t;do{r=e.prev[--n];e.prev[n]=r>=i?r-i:0}while(--t)};let HASH_ZLIB=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask;let HASH=HASH_ZLIB;const flush_pending=e=>{const t=e.state;let r=t.pending;if(r>e.avail_out){r=e.avail_out}if(r===0){return}e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out);e.next_out+=r;t.pending_out+=r;e.total_out+=r;e.avail_out-=r;t.pending-=r;if(t.pending===0){t.pending_out=0}};const flush_block_only=(e,t)=>{_tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t);e.block_start=e.strstart;flush_pending(e.strm)};const put_byte=(e,t)=>{e.pending_buf[e.pending++]=t};const putShortMSB=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255;e.pending_buf[e.pending++]=t&255};const read_buf=(e,t,r,n)=>{let i=e.avail_in;if(i>n){i=n}if(i===0){return 0}e.avail_in-=i;t.set(e.input.subarray(e.next_in,e.next_in+i),r);if(e.state.wrap===1){e.adler=adler32_1(e.adler,t,i,r)}else if(e.state.wrap===2){e.adler=crc32_1(e.adler,t,i,r)}e.next_in+=i;e.total_in+=i;return i};const longest_match=(e,t)=>{let r=e.max_chain_length;let n=e.strstart;let i;let s;let f=e.prev_length;let a=e.nice_match;const o=e.strstart>e.w_size-MIN_LOOKAHEAD?e.strstart-(e.w_size-MIN_LOOKAHEAD):0;const c=e.window;const u=e.w_mask;const l=e.prev;const h=e.strstart+MAX_MATCH;let d=c[n+f-1];let p=c[n+f];if(e.prev_length>=e.good_match){r>>=2}if(a>e.lookahead){a=e.lookahead}do{i=t;if(c[i+f]!==p||c[i+f-1]!==d||c[i]!==c[n]||c[++i]!==c[n+1]){continue}n+=2;i++;do{}while(c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&n<h);s=MAX_MATCH-(h-n);n=h-MAX_MATCH;if(s>f){e.match_start=t;f=s;if(s>=a){break}d=c[n+f-1];p=c[n+f]}}while((t=l[t&u])>o&&--r!==0);if(f<=e.lookahead){return f}return e.lookahead};const fill_window=e=>{const t=e.w_size;let r,n,i;do{n=e.window_size-e.lookahead-e.strstart;if(e.strstart>=t+(t-MIN_LOOKAHEAD)){e.window.set(e.window.subarray(t,t+t-n),0);e.match_start-=t;e.strstart-=t;e.block_start-=t;if(e.insert>e.strstart){e.insert=e.strstart}slide_hash(e);n+=t}if(e.strm.avail_in===0){break}r=read_buf(e.strm,e.window,e.strstart+e.lookahead,n);e.lookahead+=r;if(e.lookahead+e.insert>=MIN_MATCH){i=e.strstart-e.insert;e.ins_h=e.window[i];e.ins_h=HASH(e,e.ins_h,e.window[i+1]);while(e.insert){e.ins_h=HASH(e,e.ins_h,e.window[i+MIN_MATCH-1]);e.prev[i&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=i;i++;e.insert--;if(e.lookahead+e.insert<MIN_MATCH){break}}}}while(e.lookahead<MIN_LOOKAHEAD&&e.strm.avail_in!==0)};const deflate_stored=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5;let n,i,s,f=0;let a=e.strm.avail_in;do{n=65535;s=e.bi_valid+42>>3;if(e.strm.avail_out<s){break}s=e.strm.avail_out-s;i=e.strstart-e.block_start;if(n>i+e.strm.avail_in){n=i+e.strm.avail_in}if(n>s){n=s}if(n<r&&(n===0&&t!==Z_FINISH$3||t===Z_NO_FLUSH$2||n!==i+e.strm.avail_in)){break}f=t===Z_FINISH$3&&n===i+e.strm.avail_in?1:0;_tr_stored_block(e,0,0,f);e.pending_buf[e.pending-4]=n;e.pending_buf[e.pending-3]=n>>8;e.pending_buf[e.pending-2]=~n;e.pending_buf[e.pending-1]=~n>>8;flush_pending(e.strm);if(i){if(i>n){i=n}e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out);e.strm.next_out+=i;e.strm.avail_out-=i;e.strm.total_out+=i;e.block_start+=i;n-=i}if(n){read_buf(e.strm,e.strm.output,e.strm.next_out,n);e.strm.next_out+=n;e.strm.avail_out-=n;e.strm.total_out+=n}}while(f===0);a-=e.strm.avail_in;if(a){if(a>=e.w_size){e.matches=2;e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0);e.strstart=e.w_size;e.insert=e.strstart}else{if(e.window_size-e.strstart<=a){e.strstart-=e.w_size;e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0);if(e.matches<2){e.matches++}if(e.insert>e.strstart){e.insert=e.strstart}}e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart);e.strstart+=a;e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a}e.block_start=e.strstart}if(e.high_water<e.strstart){e.high_water=e.strstart}if(f){return BS_FINISH_DONE}if(t!==Z_NO_FLUSH$2&&t!==Z_FINISH$3&&e.strm.avail_in===0&&e.strstart===e.block_start){return BS_BLOCK_DONE}s=e.window_size-e.strstart;if(e.strm.avail_in>s&&e.block_start>=e.w_size){e.block_start-=e.w_size;e.strstart-=e.w_size;e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0);if(e.matches<2){e.matches++}s+=e.w_size;if(e.insert>e.strstart){e.insert=e.strstart}}if(s>e.strm.avail_in){s=e.strm.avail_in}if(s){read_buf(e.strm,e.window,e.strstart,s);e.strstart+=s;e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s}if(e.high_water<e.strstart){e.high_water=e.strstart}s=e.bi_valid+42>>3;s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s;r=s>e.w_size?e.w_size:s;i=e.strstart-e.block_start;if(i>=r||(i||t===Z_FINISH$3)&&t!==Z_NO_FLUSH$2&&e.strm.avail_in===0&&i<=s){n=i>s?s:i;f=t===Z_FINISH$3&&e.strm.avail_in===0&&n===i?1:0;_tr_stored_block(e,e.block_start,n,f);e.block_start+=n;flush_pending(e.strm)}return f?BS_FINISH_STARTED:BS_NEED_MORE};const deflate_fast=(e,t)=>{let r;let n;for(;;){if(e.lookahead<MIN_LOOKAHEAD){fill_window(e);if(e.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH$2){return BS_NEED_MORE}if(e.lookahead===0){break}}r=0;if(e.lookahead>=MIN_MATCH){e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]);r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}if(r!==0&&e.strstart-r<=e.w_size-MIN_LOOKAHEAD){e.match_length=longest_match(e,r)}if(e.match_length>=MIN_MATCH){n=_tr_tally(e,e.strstart-e.match_start,e.match_length-MIN_MATCH);e.lookahead-=e.match_length;if(e.match_length<=e.max_lazy_match&&e.lookahead>=MIN_MATCH){e.match_length--;do{e.strstart++;e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]);r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}while(--e.match_length!==0);e.strstart++}else{e.strstart+=e.match_length;e.match_length=0;e.ins_h=e.window[e.strstart];e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+1])}}else{n=_tr_tally(e,0,e.window[e.strstart]);e.lookahead--;e.strstart++}if(n){flush_block_only(e,false);if(e.strm.avail_out===0){return BS_NEED_MORE}}}e.insert=e.strstart<MIN_MATCH-1?e.strstart:MIN_MATCH-1;if(t===Z_FINISH$3){flush_block_only(e,true);if(e.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(e.sym_next){flush_block_only(e,false);if(e.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE};const deflate_slow=(e,t)=>{let r;let n;let i;for(;;){if(e.lookahead<MIN_LOOKAHEAD){fill_window(e);if(e.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH$2){return BS_NEED_MORE}if(e.lookahead===0){break}}r=0;if(e.lookahead>=MIN_MATCH){e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]);r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}e.prev_length=e.match_length;e.prev_match=e.match_start;e.match_length=MIN_MATCH-1;if(r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-MIN_LOOKAHEAD){e.match_length=longest_match(e,r);if(e.match_length<=5&&(e.strategy===Z_FILTERED||e.match_length===MIN_MATCH&&e.strstart-e.match_start>4096)){e.match_length=MIN_MATCH-1}}if(e.prev_length>=MIN_MATCH&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-MIN_MATCH;n=_tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-MIN_MATCH);e.lookahead-=e.prev_length-1;e.prev_length-=2;do{if(++e.strstart<=i){e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]);r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}}while(--e.prev_length!==0);e.match_available=0;e.match_length=MIN_MATCH-1;e.strstart++;if(n){flush_block_only(e,false);if(e.strm.avail_out===0){return BS_NEED_MORE}}}else if(e.match_available){n=_tr_tally(e,0,e.window[e.strstart-1]);if(n){flush_block_only(e,false)}e.strstart++;e.lookahead--;if(e.strm.avail_out===0){return BS_NEED_MORE}}else{e.match_available=1;e.strstart++;e.lookahead--}}if(e.match_available){n=_tr_tally(e,0,e.window[e.strstart-1]);e.match_available=0}e.insert=e.strstart<MIN_MATCH-1?e.strstart:MIN_MATCH-1;if(t===Z_FINISH$3){flush_block_only(e,true);if(e.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(e.sym_next){flush_block_only(e,false);if(e.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE};const deflate_rle=(e,t)=>{let r;let n;let i,s;const f=e.window;for(;;){if(e.lookahead<=MAX_MATCH){fill_window(e);if(e.lookahead<=MAX_MATCH&&t===Z_NO_FLUSH$2){return BS_NEED_MORE}if(e.lookahead===0){break}}e.match_length=0;if(e.lookahead>=MIN_MATCH&&e.strstart>0){i=e.strstart-1;n=f[i];if(n===f[++i]&&n===f[++i]&&n===f[++i]){s=e.strstart+MAX_MATCH;do{}while(n===f[++i]&&n===f[++i]&&n===f[++i]&&n===f[++i]&&n===f[++i]&&n===f[++i]&&n===f[++i]&&n===f[++i]&&i<s);e.match_length=MAX_MATCH-(s-i);if(e.match_length>e.lookahead){e.match_length=e.lookahead}}}if(e.match_length>=MIN_MATCH){r=_tr_tally(e,1,e.match_length-MIN_MATCH);e.lookahead-=e.match_length;e.strstart+=e.match_length;e.match_length=0}else{r=_tr_tally(e,0,e.window[e.strstart]);e.lookahead--;e.strstart++}if(r){flush_block_only(e,false);if(e.strm.avail_out===0){return BS_NEED_MORE}}}e.insert=0;if(t===Z_FINISH$3){flush_block_only(e,true);if(e.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(e.sym_next){flush_block_only(e,false);if(e.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE};const deflate_huff=(e,t)=>{let r;for(;;){if(e.lookahead===0){fill_window(e);if(e.lookahead===0){if(t===Z_NO_FLUSH$2){return BS_NEED_MORE}break}}e.match_length=0;r=_tr_tally(e,0,e.window[e.strstart]);e.lookahead--;e.strstart++;if(r){flush_block_only(e,false);if(e.strm.avail_out===0){return BS_NEED_MORE}}}e.insert=0;if(t===Z_FINISH$3){flush_block_only(e,true);if(e.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(e.sym_next){flush_block_only(e,false);if(e.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE};function Config(e,t,r,n,i){this.good_length=e;this.max_lazy=t;this.nice_length=r;this.max_chain=n;this.func=i}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];const lm_init=e=>{e.window_size=2*e.w_size;zero(e.head);e.max_lazy_match=configuration_table[e.level].max_lazy;e.good_match=configuration_table[e.level].good_length;e.nice_match=configuration_table[e.level].nice_length;e.max_chain_length=configuration_table[e.level].max_chain;e.strstart=0;e.block_start=0;e.lookahead=0;e.insert=0;e.match_length=e.prev_length=MIN_MATCH-1;e.match_available=0;e.ins_h=0};function DeflateState(){this.strm=null;this.status=0;this.pending_buf=null;this.pending_buf_size=0;this.pending_out=0;this.pending=0;this.wrap=0;this.gzhead=null;this.gzindex=0;this.method=Z_DEFLATED$2;this.last_flush=-1;this.w_size=0;this.w_bits=0;this.w_mask=0;this.window=null;this.window_size=0;this.prev=null;this.head=null;this.ins_h=0;this.hash_size=0;this.hash_bits=0;this.hash_mask=0;this.hash_shift=0;this.block_start=0;this.match_length=0;this.prev_match=0;this.match_available=0;this.strstart=0;this.match_start=0;this.lookahead=0;this.prev_length=0;this.max_chain_length=0;this.max_lazy_match=0;this.level=0;this.strategy=0;this.good_match=0;this.nice_match=0;this.dyn_ltree=new Uint16Array(HEAP_SIZE*2);this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2);this.bl_tree=new Uint16Array((2*BL_CODES+1)*2);zero(this.dyn_ltree);zero(this.dyn_dtree);zero(this.bl_tree);this.l_desc=null;this.d_desc=null;this.bl_desc=null;this.bl_count=new Uint16Array(MAX_BITS+1);this.heap=new Uint16Array(2*L_CODES+1);zero(this.heap);this.heap_len=0;this.heap_max=0;this.depth=new Uint16Array(2*L_CODES+1);zero(this.depth);this.sym_buf=0;this.lit_bufsize=0;this.sym_next=0;this.sym_end=0;this.opt_len=0;this.static_len=0;this.matches=0;this.insert=0;this.bi_buf=0;this.bi_valid=0}const deflateStateCheck=e=>{if(!e){return 1}const t=e.state;if(!t||t.strm!==e||t.status!==INIT_STATE&&t.status!==GZIP_STATE&&t.status!==EXTRA_STATE&&t.status!==NAME_STATE&&t.status!==COMMENT_STATE&&t.status!==HCRC_STATE&&t.status!==BUSY_STATE&&t.status!==FINISH_STATE){return 1}return 0};const deflateResetKeep=e=>{if(deflateStateCheck(e)){return err(e,Z_STREAM_ERROR$2)}e.total_in=e.total_out=0;e.data_type=Z_UNKNOWN;const t=e.state;t.pending=0;t.pending_out=0;if(t.wrap<0){t.wrap=-t.wrap}t.status=t.wrap===2?GZIP_STATE:t.wrap?INIT_STATE:BUSY_STATE;e.adler=t.wrap===2?0:1;t.last_flush=-2;_tr_init(t);return Z_OK$3};const deflateReset=e=>{const t=deflateResetKeep(e);if(t===Z_OK$3){lm_init(e.state)}return t};const deflateSetHeader=(e,t)=>{if(deflateStateCheck(e)||e.state.wrap!==2){return Z_STREAM_ERROR$2}e.state.gzhead=t;return Z_OK$3};const deflateInit2=(e,t,r,n,i,s)=>{if(!e){return Z_STREAM_ERROR$2}let f=1;if(t===Z_DEFAULT_COMPRESSION$1){t=6}if(n<0){f=0;n=-n}else if(n>15){f=2;n-=16}if(i<1||i>MAX_MEM_LEVEL||r!==Z_DEFLATED$2||n<8||n>15||t<0||t>9||s<0||s>Z_FIXED||n===8&&f!==1){return err(e,Z_STREAM_ERROR$2)}if(n===8){n=9}const a=new DeflateState;e.state=a;a.strm=e;a.status=INIT_STATE;a.wrap=f;a.gzhead=null;a.w_bits=n;a.w_size=1<<a.w_bits;a.w_mask=a.w_size-1;a.hash_bits=i+7;a.hash_size=1<<a.hash_bits;a.hash_mask=a.hash_size-1;a.hash_shift=~~((a.hash_bits+MIN_MATCH-1)/MIN_MATCH);a.window=new Uint8Array(a.w_size*2);a.head=new Uint16Array(a.hash_size);a.prev=new Uint16Array(a.w_size);a.lit_bufsize=1<<i+6;a.pending_buf_size=a.lit_bufsize*4;a.pending_buf=new Uint8Array(a.pending_buf_size);a.sym_buf=a.lit_bufsize;a.sym_end=(a.lit_bufsize-1)*3;a.level=t;a.strategy=s;a.method=r;return deflateReset(e)};const deflateInit=(e,t)=>deflateInit2(e,t,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1);const deflate$2=(e,t)=>{if(deflateStateCheck(e)||t>Z_BLOCK$1||t<0){return e?err(e,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2}const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===FINISH_STATE&&t!==Z_FINISH$3){return err(e,e.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2)}const n=r.last_flush;r.last_flush=t;if(r.pending!==0){flush_pending(e);if(e.avail_out===0){r.last_flush=-1;return Z_OK$3}}else if(e.avail_in===0&&rank(t)<=rank(n)&&t!==Z_FINISH$3){return err(e,Z_BUF_ERROR$1)}if(r.status===FINISH_STATE&&e.avail_in!==0){return err(e,Z_BUF_ERROR$1)}if(r.status===INIT_STATE&&r.wrap===0){r.status=BUSY_STATE}if(r.status===INIT_STATE){let t=Z_DEFLATED$2+(r.w_bits-8<<4)<<8;let n=-1;if(r.strategy>=Z_HUFFMAN_ONLY||r.level<2){n=0}else if(r.level<6){n=1}else if(r.level===6){n=2}else{n=3}t|=n<<6;if(r.strstart!==0){t|=PRESET_DICT}t+=31-t%31;putShortMSB(r,t);if(r.strstart!==0){putShortMSB(r,e.adler>>>16);putShortMSB(r,e.adler&65535)}e.adler=1;r.status=BUSY_STATE;flush_pending(e);if(r.pending!==0){r.last_flush=-1;return Z_OK$3}}if(r.status===GZIP_STATE){e.adler=0;put_byte(r,31);put_byte(r,139);put_byte(r,8);if(!r.gzhead){put_byte(r,0);put_byte(r,0);put_byte(r,0);put_byte(r,0);put_byte(r,0);put_byte(r,r.level===9?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0);put_byte(r,OS_CODE);r.status=BUSY_STATE;flush_pending(e);if(r.pending!==0){r.last_flush=-1;return Z_OK$3}}else{put_byte(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(!r.gzhead.extra?0:4)+(!r.gzhead.name?0:8)+(!r.gzhead.comment?0:16));put_byte(r,r.gzhead.time&255);put_byte(r,r.gzhead.time>>8&255);put_byte(r,r.gzhead.time>>16&255);put_byte(r,r.gzhead.time>>24&255);put_byte(r,r.level===9?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0);put_byte(r,r.gzhead.os&255);if(r.gzhead.extra&&r.gzhead.extra.length){put_byte(r,r.gzhead.extra.length&255);put_byte(r,r.gzhead.extra.length>>8&255)}if(r.gzhead.hcrc){e.adler=crc32_1(e.adler,r.pending_buf,r.pending,0)}r.gzindex=0;r.status=EXTRA_STATE}}if(r.status===EXTRA_STATE){if(r.gzhead.extra){let t=r.pending;let n=(r.gzhead.extra.length&65535)-r.gzindex;while(r.pending+n>r.pending_buf_size){let i=r.pending_buf_size-r.pending;r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending);r.pending=r.pending_buf_size;if(r.gzhead.hcrc&&r.pending>t){e.adler=crc32_1(e.adler,r.pending_buf,r.pending-t,t)}r.gzindex+=i;flush_pending(e);if(r.pending!==0){r.last_flush=-1;return Z_OK$3}t=0;n-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending);r.pending+=n;if(r.gzhead.hcrc&&r.pending>t){e.adler=crc32_1(e.adler,r.pending_buf,r.pending-t,t)}r.gzindex=0}r.status=NAME_STATE}if(r.status===NAME_STATE){if(r.gzhead.name){let t=r.pending;let n;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>t){e.adler=crc32_1(e.adler,r.pending_buf,r.pending-t,t)}flush_pending(e);if(r.pending!==0){r.last_flush=-1;return Z_OK$3}t=0}if(r.gzindex<r.gzhead.name.length){n=r.gzhead.name.charCodeAt(r.gzindex++)&255}else{n=0}put_byte(r,n)}while(n!==0);if(r.gzhead.hcrc&&r.pending>t){e.adler=crc32_1(e.adler,r.pending_buf,r.pending-t,t)}r.gzindex=0}r.status=COMMENT_STATE}if(r.status===COMMENT_STATE){if(r.gzhead.comment){let t=r.pending;let n;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>t){e.adler=crc32_1(e.adler,r.pending_buf,r.pending-t,t)}flush_pending(e);if(r.pending!==0){r.last_flush=-1;return Z_OK$3}t=0}if(r.gzindex<r.gzhead.comment.length){n=r.gzhead.comment.charCodeAt(r.gzindex++)&255}else{n=0}put_byte(r,n)}while(n!==0);if(r.gzhead.hcrc&&r.pending>t){e.adler=crc32_1(e.adler,r.pending_buf,r.pending-t,t)}}r.status=HCRC_STATE}if(r.status===HCRC_STATE){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size){flush_pending(e);if(r.pending!==0){r.last_flush=-1;return Z_OK$3}}put_byte(r,e.adler&255);put_byte(r,e.adler>>8&255);e.adler=0}r.status=BUSY_STATE;flush_pending(e);if(r.pending!==0){r.last_flush=-1;return Z_OK$3}}if(e.avail_in!==0||r.lookahead!==0||t!==Z_NO_FLUSH$2&&r.status!==FINISH_STATE){let n=r.level===0?deflate_stored(r,t):r.strategy===Z_HUFFMAN_ONLY?deflate_huff(r,t):r.strategy===Z_RLE?deflate_rle(r,t):configuration_table[r.level].func(r,t);if(n===BS_FINISH_STARTED||n===BS_FINISH_DONE){r.status=FINISH_STATE}if(n===BS_NEED_MORE||n===BS_FINISH_STARTED){if(e.avail_out===0){r.last_flush=-1}return Z_OK$3}if(n===BS_BLOCK_DONE){if(t===Z_PARTIAL_FLUSH){_tr_align(r)}else if(t!==Z_BLOCK$1){_tr_stored_block(r,0,0,false);if(t===Z_FULL_FLUSH$1){zero(r.head);if(r.lookahead===0){r.strstart=0;r.block_start=0;r.insert=0}}}flush_pending(e);if(e.avail_out===0){r.last_flush=-1;return Z_OK$3}}}if(t!==Z_FINISH$3){return Z_OK$3}if(r.wrap<=0){return Z_STREAM_END$3}if(r.wrap===2){put_byte(r,e.adler&255);put_byte(r,e.adler>>8&255);put_byte(r,e.adler>>16&255);put_byte(r,e.adler>>24&255);put_byte(r,e.total_in&255);put_byte(r,e.total_in>>8&255);put_byte(r,e.total_in>>16&255);put_byte(r,e.total_in>>24&255)}else{putShortMSB(r,e.adler>>>16);putShortMSB(r,e.adler&65535)}flush_pending(e);if(r.wrap>0){r.wrap=-r.wrap}return r.pending!==0?Z_OK$3:Z_STREAM_END$3};const deflateEnd=e=>{if(deflateStateCheck(e)){return Z_STREAM_ERROR$2}const t=e.state.status;e.state=null;return t===BUSY_STATE?err(e,Z_DATA_ERROR$2):Z_OK$3};const deflateSetDictionary=(e,t)=>{let r=t.length;if(deflateStateCheck(e)){return Z_STREAM_ERROR$2}const n=e.state;const i=n.wrap;if(i===2||i===1&&n.status!==INIT_STATE||n.lookahead){return Z_STREAM_ERROR$2}if(i===1){e.adler=adler32_1(e.adler,t,r,0)}n.wrap=0;if(r>=n.w_size){if(i===0){zero(n.head);n.strstart=0;n.block_start=0;n.insert=0}let e=new Uint8Array(n.w_size);e.set(t.subarray(r-n.w_size,r),0);t=e;r=n.w_size}const s=e.avail_in;const f=e.next_in;const a=e.input;e.avail_in=r;e.next_in=0;e.input=t;fill_window(n);while(n.lookahead>=MIN_MATCH){let e=n.strstart;let t=n.lookahead-(MIN_MATCH-1);do{n.ins_h=HASH(n,n.ins_h,n.window[e+MIN_MATCH-1]);n.prev[e&n.w_mask]=n.head[n.ins_h];n.head[n.ins_h]=e;e++}while(--t);n.strstart=e;n.lookahead=MIN_MATCH-1;fill_window(n)}n.strstart+=n.lookahead;n.block_start=n.strstart;n.insert=n.lookahead;n.lookahead=0;n.match_length=n.prev_length=MIN_MATCH-1;n.match_available=0;e.next_in=f;e.input=a;e.avail_in=s;n.wrap=i;return Z_OK$3};var deflateInit_1=deflateInit;var deflateInit2_1=deflateInit2;var deflateReset_1=deflateReset;var deflateResetKeep_1=deflateResetKeep;var deflateSetHeader_1=deflateSetHeader;var deflate_2$1=deflate$2;var deflateEnd_1=deflateEnd;var deflateSetDictionary_1=deflateSetDictionary;var deflateInfo="pako deflate (from Nodeca project)";var deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var assign=function(e){const t=Array.prototype.slice.call(arguments,1);while(t.length){const r=t.shift();if(!r){continue}if(typeof r!=="object"){throw new TypeError(r+"must be non-object")}for(const t in r){if(_has(r,t)){e[t]=r[t]}}}return e};var flattenChunks=e=>{let t=0;for(let r=0,n=e.length;r<n;r++){t+=e[r].length}const r=new Uint8Array(t);for(let t=0,n=0,i=e.length;t<i;t++){let i=e[t];r.set(i,n);n+=i.length}return r};var common$2={assign,flattenChunks};let STR_APPLY_UIA_OK=true;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){STR_APPLY_UIA_OK=false}const _utf8len=new Uint8Array(256);for(let e=0;e<256;e++){_utf8len[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1}_utf8len[254]=_utf8len[254]=1;var string2buf=e=>{if(typeof TextEncoder==="function"&&TextEncoder.prototype.encode){return(new TextEncoder).encode(e)}let t,r,n,i,s,f=e.length,a=0;for(i=0;i<f;i++){r=e.charCodeAt(i);if((r&64512)===55296&&i+1<f){n=e.charCodeAt(i+1);if((n&64512)===56320){r=65536+(r-55296<<10)+(n-56320);i++}}a+=r<128?1:r<2048?2:r<65536?3:4}t=new Uint8Array(a);for(s=0,i=0;s<a;i++){r=e.charCodeAt(i);if((r&64512)===55296&&i+1<f){n=e.charCodeAt(i+1);if((n&64512)===56320){r=65536+(r-55296<<10)+(n-56320);i++}}if(r<128){t[s++]=r}else if(r<2048){t[s++]=192|r>>>6;t[s++]=128|r&63}else if(r<65536){t[s++]=224|r>>>12;t[s++]=128|r>>>6&63;t[s++]=128|r&63}else{t[s++]=240|r>>>18;t[s++]=128|r>>>12&63;t[s++]=128|r>>>6&63;t[s++]=128|r&63}}return t};const buf2binstring=(e,t)=>{if(t<65534){if(e.subarray&&STR_APPLY_UIA_OK){return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t))}}let r="";for(let n=0;n<t;n++){r+=String.fromCharCode(e[n])}return r};var buf2string=(e,t)=>{const r=t||e.length;if(typeof TextDecoder==="function"&&TextDecoder.prototype.decode){return(new TextDecoder).decode(e.subarray(0,t))}let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let t=e[n++];if(t<128){s[i++]=t;continue}let f=_utf8len[t];if(f>4){s[i++]=65533;n+=f-1;continue}t&=f===2?31:f===3?15:7;while(f>1&&n<r){t=t<<6|e[n++]&63;f--}if(f>1){s[i++]=65533;continue}if(t<65536){s[i++]=t}else{t-=65536;s[i++]=55296|t>>10&1023;s[i++]=56320|t&1023}}return buf2binstring(s,i)};var utf8border=(e,t)=>{t=t||e.length;if(t>e.length){t=e.length}let r=t-1;while(r>=0&&(e[r]&192)===128){r--}if(r<0){return t}if(r===0){return t}return r+_utf8len[e[r]]>t?r:t};var strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null;this.next_in=0;this.avail_in=0;this.total_in=0;this.output=null;this.next_out=0;this.avail_out=0;this.total_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString;const{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(e){this.options=common$2.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},e||{});let t=this.options;if(t.raw&&t.windowBits>0){t.windowBits=-t.windowBits}else if(t.gzip&&t.windowBits>0&&t.windowBits<16){t.windowBits+=16}this.err=0;this.msg="";this.ended=false;this.chunks=[];this.strm=new zstream;this.strm.avail_out=0;let r=deflate_1$2.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Z_OK$2){throw new Error(messages[r])}if(t.header){deflate_1$2.deflateSetHeader(this.strm,t.header)}if(t.dictionary){let e;if(typeof t.dictionary==="string"){e=strings.string2buf(t.dictionary)}else if(toString$1.call(t.dictionary)==="[object ArrayBuffer]"){e=new Uint8Array(t.dictionary)}else{e=t.dictionary}r=deflate_1$2.deflateSetDictionary(this.strm,e);if(r!==Z_OK$2){throw new Error(messages[r])}this._dict_set=true}}Deflate$1.prototype.push=function(e,t){const r=this.strm;const n=this.options.chunkSize;let i,s;if(this.ended){return false}if(t===~~t)s=t;else s=t===true?Z_FINISH$2:Z_NO_FLUSH$1;if(typeof e==="string"){r.input=strings.string2buf(e)}else if(toString$1.call(e)==="[object ArrayBuffer]"){r.input=new Uint8Array(e)}else{r.input=e}r.next_in=0;r.avail_in=r.input.length;for(;;){if(r.avail_out===0){r.output=new Uint8Array(n);r.next_out=0;r.avail_out=n}if((s===Z_SYNC_FLUSH||s===Z_FULL_FLUSH)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out));r.avail_out=0;continue}i=deflate_1$2.deflate(r,s);if(i===Z_STREAM_END$2){if(r.next_out>0){this.onData(r.output.subarray(0,r.next_out))}i=deflate_1$2.deflateEnd(this.strm);this.onEnd(i);this.ended=true;return i===Z_OK$2}if(r.avail_out===0){this.onData(r.output);continue}if(s>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out));r.avail_out=0;continue}if(r.avail_in===0)break}return true};Deflate$1.prototype.onData=function(e){this.chunks.push(e)};Deflate$1.prototype.onEnd=function(e){if(e===Z_OK$2){this.result=common$2.flattenChunks(this.chunks)}this.chunks=[];this.err=e;this.msg=this.strm.msg};const BAD$1=16209;const TYPE$1=16191;var inffast=function e(t,r){let n;let i;let s;let f;let a;let o;let c;let u;let l;let h;let d;let p;let y;let b;let m;let g;let v;let w;let A;let $;let _;let E;let S,T;const C=t.state;n=t.next_in;S=t.input;i=n+(t.avail_in-5);s=t.next_out;T=t.output;f=s-(r-t.avail_out);a=s+(t.avail_out-257);o=C.dmax;c=C.wsize;u=C.whave;l=C.wnext;h=C.window;d=C.hold;p=C.bits;y=C.lencode;b=C.distcode;m=(1<<C.lenbits)-1;g=(1<<C.distbits)-1;e:do{if(p<15){d+=S[n++]<<p;p+=8;d+=S[n++]<<p;p+=8}v=y[d&m];t:for(;;){w=v>>>24;d>>>=w;p-=w;w=v>>>16&255;if(w===0){T[s++]=v&65535}else if(w&16){A=v&65535;w&=15;if(w){if(p<w){d+=S[n++]<<p;p+=8}A+=d&(1<<w)-1;d>>>=w;p-=w}if(p<15){d+=S[n++]<<p;p+=8;d+=S[n++]<<p;p+=8}v=b[d&g];r:for(;;){w=v>>>24;d>>>=w;p-=w;w=v>>>16&255;if(w&16){$=v&65535;w&=15;if(p<w){d+=S[n++]<<p;p+=8;if(p<w){d+=S[n++]<<p;p+=8}}$+=d&(1<<w)-1;if($>o){t.msg="invalid distance too far back";C.mode=BAD$1;break e}d>>>=w;p-=w;w=s-f;if($>w){w=$-w;if(w>u){if(C.sane){t.msg="invalid distance too far back";C.mode=BAD$1;break e}}_=0;E=h;if(l===0){_+=c-w;if(w<A){A-=w;do{T[s++]=h[_++]}while(--w);_=s-$;E=T}}else if(l<w){_+=c+l-w;w-=l;if(w<A){A-=w;do{T[s++]=h[_++]}while(--w);_=0;if(l<A){w=l;A-=w;do{T[s++]=h[_++]}while(--w);_=s-$;E=T}}}else{_+=l-w;if(w<A){A-=w;do{T[s++]=h[_++]}while(--w);_=s-$;E=T}}while(A>2){T[s++]=E[_++];T[s++]=E[_++];T[s++]=E[_++];A-=3}if(A){T[s++]=E[_++];if(A>1){T[s++]=E[_++]}}}else{_=s-$;do{T[s++]=T[_++];T[s++]=T[_++];T[s++]=T[_++];A-=3}while(A>2);if(A){T[s++]=T[_++];if(A>1){T[s++]=T[_++]}}}}else if((w&64)===0){v=b[(v&65535)+(d&(1<<w)-1)];continue r}else{t.msg="invalid distance code";C.mode=BAD$1;break e}break}}else if((w&64)===0){v=y[(v&65535)+(d&(1<<w)-1)];continue t}else if(w&32){C.mode=TYPE$1;break e}else{t.msg="invalid literal/length code";C.mode=BAD$1;break e}break}}while(n<i&&s<a);A=p>>3;n-=A;p-=A<<3;d&=(1<<p)-1;t.next_in=n;t.next_out=s;t.avail_in=n<i?5+(i-n):5-(n-i);t.avail_out=s<a?257+(a-s):257-(s-a);C.hold=d;C.bits=p;return};const MAXBITS=15;const ENOUGH_LENS$1=852;const ENOUGH_DISTS$1=592;const CODES$1=0;const LENS$1=1;const DISTS$1=2;const lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]);const lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]);const dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]);const dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);const inflate_table=(e,t,r,n,i,s,f,a)=>{const o=a.bits;let c=0;let u=0;let l=0,h=0;let d=0;let p=0;let y=0;let b=0;let m=0;let g=0;let v;let w;let A;let $;let _;let E=null;let S;const T=new Uint16Array(MAXBITS+1);const C=new Uint16Array(MAXBITS+1);let P=null;let x,I,k;for(c=0;c<=MAXBITS;c++){T[c]=0}for(u=0;u<n;u++){T[t[r+u]]++}d=o;for(h=MAXBITS;h>=1;h--){if(T[h]!==0){break}}if(d>h){d=h}if(h===0){i[s++]=1<<24|64<<16|0;i[s++]=1<<24|64<<16|0;a.bits=1;return 0}for(l=1;l<h;l++){if(T[l]!==0){break}}if(d<l){d=l}b=1;for(c=1;c<=MAXBITS;c++){b<<=1;b-=T[c];if(b<0){return-1}}if(b>0&&(e===CODES$1||h!==1)){return-1}C[1]=0;for(c=1;c<MAXBITS;c++){C[c+1]=C[c]+T[c]}for(u=0;u<n;u++){if(t[r+u]!==0){f[C[t[r+u]]++]=u}}if(e===CODES$1){E=P=f;S=20}else if(e===LENS$1){E=lbase;P=lext;S=257}else{E=dbase;P=dext;S=0}g=0;u=0;c=l;_=s;p=d;y=0;A=-1;m=1<<d;$=m-1;if(e===LENS$1&&m>ENOUGH_LENS$1||e===DISTS$1&&m>ENOUGH_DISTS$1){return 1}for(;;){x=c-y;if(f[u]+1<S){I=0;k=f[u]}else if(f[u]>=S){I=P[f[u]-S];k=E[f[u]-S]}else{I=32+64;k=0}v=1<<c-y;w=1<<p;l=w;do{w-=v;i[_+(g>>y)+w]=x<<24|I<<16|k|0}while(w!==0);v=1<<c-1;while(g&v){v>>=1}if(v!==0){g&=v-1;g+=v}else{g=0}u++;if(--T[c]===0){if(c===h){break}c=t[r+f[u]]}if(c>d&&(g&$)!==A){if(y===0){y=d}_+=l;p=c-y;b=1<<p;while(p+y<h){b-=T[p+y];if(b<=0){break}p++;b<<=1}m+=1<<p;if(e===LENS$1&&m>ENOUGH_LENS$1||e===DISTS$1&&m>ENOUGH_DISTS$1){return 1}A=g&$;i[A]=d<<24|p<<16|_-s|0}}if(g!==0){i[_+g]=c-y<<24|64<<16|0}a.bits=d;return 0};var inftrees=inflate_table;const CODES=0;const LENS=1;const DISTS=2;const{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2;const HEAD=16180;const FLAGS=16181;const TIME=16182;const OS=16183;const EXLEN=16184;const EXTRA=16185;const NAME=16186;const COMMENT=16187;const HCRC=16188;const DICTID=16189;const DICT=16190;const TYPE=16191;const TYPEDO=16192;const STORED=16193;const COPY_=16194;const COPY=16195;const TABLE=16196;const LENLENS=16197;const CODELENS=16198;const LEN_=16199;const LEN=16200;const LENEXT=16201;const DIST=16202;const DISTEXT=16203;const MATCH=16204;const LIT=16205;const CHECK=16206;const LENGTH=16207;const DONE=16208;const BAD=16209;const MEM=16210;const SYNC=16211;const ENOUGH_LENS=852;const ENOUGH_DISTS=592;const MAX_WBITS=15;const DEF_WBITS=MAX_WBITS;const zswap32=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function InflateState(){this.strm=null;this.mode=0;this.last=false;this.wrap=0;this.havedict=false;this.flags=0;this.dmax=0;this.check=0;this.total=0;this.head=null;this.wbits=0;this.wsize=0;this.whave=0;this.wnext=0;this.window=null;this.hold=0;this.bits=0;this.length=0;this.offset=0;this.extra=0;this.lencode=null;this.distcode=null;this.lenbits=0;this.distbits=0;this.ncode=0;this.nlen=0;this.ndist=0;this.have=0;this.next=null;this.lens=new Uint16Array(320);this.work=new Uint16Array(288);this.lendyn=null;this.distdyn=null;this.sane=0;this.back=0;this.was=0}const inflateStateCheck=e=>{if(!e){return 1}const t=e.state;if(!t||t.strm!==e||t.mode<HEAD||t.mode>SYNC){return 1}return 0};const inflateResetKeep=e=>{if(inflateStateCheck(e)){return Z_STREAM_ERROR$1}const t=e.state;e.total_in=e.total_out=t.total=0;e.msg="";if(t.wrap){e.adler=t.wrap&1}t.mode=HEAD;t.last=0;t.havedict=0;t.flags=-1;t.dmax=32768;t.head=null;t.hold=0;t.bits=0;t.lencode=t.lendyn=new Int32Array(ENOUGH_LENS);t.distcode=t.distdyn=new Int32Array(ENOUGH_DISTS);t.sane=1;t.back=-1;return Z_OK$1};const inflateReset=e=>{if(inflateStateCheck(e)){return Z_STREAM_ERROR$1}const t=e.state;t.wsize=0;t.whave=0;t.wnext=0;return inflateResetKeep(e)};const inflateReset2=(e,t)=>{let r;if(inflateStateCheck(e)){return Z_STREAM_ERROR$1}const n=e.state;if(t<0){r=0;t=-t}else{r=(t>>4)+5;if(t<48){t&=15}}if(t&&(t<8||t>15)){return Z_STREAM_ERROR$1}if(n.window!==null&&n.wbits!==t){n.window=null}n.wrap=r;n.wbits=t;return inflateReset(e)};const inflateInit2=(e,t)=>{if(!e){return Z_STREAM_ERROR$1}const r=new InflateState;e.state=r;r.strm=e;r.window=null;r.mode=HEAD;const n=inflateReset2(e,t);if(n!==Z_OK$1){e.state=null}return n};const inflateInit=e=>inflateInit2(e,DEF_WBITS);let virgin=true;let lenfix,distfix;const fixedtables=e=>{if(virgin){lenfix=new Int32Array(512);distfix=new Int32Array(32);let t=0;while(t<144){e.lens[t++]=8}while(t<256){e.lens[t++]=9}while(t<280){e.lens[t++]=7}while(t<288){e.lens[t++]=8}inftrees(LENS,e.lens,0,288,lenfix,0,e.work,{bits:9});t=0;while(t<32){e.lens[t++]=5}inftrees(DISTS,e.lens,0,32,distfix,0,e.work,{bits:5});virgin=false}e.lencode=lenfix;e.lenbits=9;e.distcode=distfix;e.distbits=5};const updatewindow=(e,t,r,n)=>{let i;const s=e.state;if(s.window===null){s.wsize=1<<s.wbits;s.wnext=0;s.whave=0;s.window=new Uint8Array(s.wsize)}if(n>=s.wsize){s.window.set(t.subarray(r-s.wsize,r),0);s.wnext=0;s.whave=s.wsize}else{i=s.wsize-s.wnext;if(i>n){i=n}s.window.set(t.subarray(r-n,r-n+i),s.wnext);n-=i;if(n){s.window.set(t.subarray(r-n,r),0);s.wnext=n;s.whave=s.wsize}else{s.wnext+=i;if(s.wnext===s.wsize){s.wnext=0}if(s.whave<s.wsize){s.whave+=i}}}return 0};const inflate$2=(e,t)=>{let r;let n,i;let s;let f;let a,o;let c;let u;let l,h;let d;let p;let y;let b=0;let m,g,v;let w,A,$;let _;let E;const S=new Uint8Array(4);let T;let C;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(e)||!e.output||!e.input&&e.avail_in!==0){return Z_STREAM_ERROR$1}r=e.state;if(r.mode===TYPE){r.mode=TYPEDO}f=e.next_out;i=e.output;o=e.avail_out;s=e.next_in;n=e.input;a=e.avail_in;c=r.hold;u=r.bits;l=a;h=o;E=Z_OK$1;e:for(;;){switch(r.mode){case HEAD:if(r.wrap===0){r.mode=TYPEDO;break}while(u<16){if(a===0){break e}a--;c+=n[s++]<<u;u+=8}if(r.wrap&2&&c===35615){if(r.wbits===0){r.wbits=15}r.check=0;S[0]=c&255;S[1]=c>>>8&255;r.check=crc32_1(r.check,S,2,0);c=0;u=0;r.mode=FLAGS;break}if(r.head){r.head.done=false}if(!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check";r.mode=BAD;break}if((c&15)!==Z_DEFLATED){e.msg="unknown compression method";r.mode=BAD;break}c>>>=4;u-=4;_=(c&15)+8;if(r.wbits===0){r.wbits=_}if(_>15||_>r.wbits){e.msg="invalid window size";r.mode=BAD;break}r.dmax=1<<r.wbits;r.flags=0;e.adler=r.check=1;r.mode=c&512?DICTID:TYPE;c=0;u=0;break;case FLAGS:while(u<16){if(a===0){break e}a--;c+=n[s++]<<u;u+=8}r.flags=c;if((r.flags&255)!==Z_DEFLATED){e.msg="unknown compression method";r.mode=BAD;break}if(r.flags&57344){e.msg="unknown header flags set";r.mode=BAD;break}if(r.head){r.head.text=c>>8&1}if(r.flags&512&&r.wrap&4){S[0]=c&255;S[1]=c>>>8&255;r.check=crc32_1(r.check,S,2,0)}c=0;u=0;r.mode=TIME;case TIME:while(u<32){if(a===0){break e}a--;c+=n[s++]<<u;u+=8}if(r.head){r.head.time=c}if(r.flags&512&&r.wrap&4){S[0]=c&255;S[1]=c>>>8&255;S[2]=c>>>16&255;S[3]=c>>>24&255;r.check=crc32_1(r.check,S,4,0)}c=0;u=0;r.mode=OS;case OS:while(u<16){if(a===0){break e}a--;c+=n[s++]<<u;u+=8}if(r.head){r.head.xflags=c&255;r.head.os=c>>8}if(r.flags&512&&r.wrap&4){S[0]=c&255;S[1]=c>>>8&255;r.check=crc32_1(r.check,S,2,0)}c=0;u=0;r.mode=EXLEN;case EXLEN:if(r.flags&1024){while(u<16){if(a===0){break e}a--;c+=n[s++]<<u;u+=8}r.length=c;if(r.head){r.head.extra_len=c}if(r.flags&512&&r.wrap&4){S[0]=c&255;S[1]=c>>>8&255;r.check=crc32_1(r.check,S,2,0)}c=0;u=0}else if(r.head){r.head.extra=null}r.mode=EXTRA;case EXTRA:if(r.flags&1024){d=r.length;if(d>a){d=a}if(d){if(r.head){_=r.head.extra_len-r.length;if(!r.head.extra){r.head.extra=new Uint8Array(r.head.extra_len)}r.head.extra.set(n.subarray(s,s+d),_)}if(r.flags&512&&r.wrap&4){r.check=crc32_1(r.check,n,d,s)}a-=d;s+=d;r.length-=d}if(r.length){break e}}r.length=0;r.mode=NAME;case NAME:if(r.flags&2048){if(a===0){break e}d=0;do{_=n[s+d++];if(r.head&&_&&r.length<65536){r.head.name+=String.fromCharCode(_)}}while(_&&d<a);if(r.flags&512&&r.wrap&4){r.check=crc32_1(r.check,n,d,s)}a-=d;s+=d;if(_){break e}}else if(r.head){r.head.name=null}r.length=0;r.mode=COMMENT;case COMMENT:if(r.flags&4096){if(a===0){break e}d=0;do{_=n[s+d++];if(r.head&&_&&r.length<65536){r.head.comment+=String.fromCharCode(_)}}while(_&&d<a);if(r.flags&512&&r.wrap&4){r.check=crc32_1(r.check,n,d,s)}a-=d;s+=d;if(_){break e}}else if(r.head){r.head.comment=null}r.mode=HCRC;case HCRC:if(r.flags&512){while(u<16){if(a===0){break e}a--;c+=n[s++]<<u;u+=8}if(r.wrap&4&&c!==(r.check&65535)){e.msg="header crc mismatch";r.mode=BAD;break}c=0;u=0}if(r.head){r.head.hcrc=r.flags>>9&1;r.head.done=true}e.adler=r.check=0;r.mode=TYPE;break;case DICTID:while(u<32){if(a===0){break e}a--;c+=n[s++]<<u;u+=8}e.adler=r.check=zswap32(c);c=0;u=0;r.mode=DICT;case DICT:if(r.havedict===0){e.next_out=f;e.avail_out=o;e.next_in=s;e.avail_in=a;r.hold=c;r.bits=u;return Z_NEED_DICT$1}e.adler=r.check=1;r.mode=TYPE;case TYPE:if(t===Z_BLOCK||t===Z_TREES){break e}case TYPEDO:if(r.last){c>>>=u&7;u-=u&7;r.mode=CHECK;break}while(u<3){if(a===0){break e}a--;c+=n[s++]<<u;u+=8}r.last=c&1;c>>>=1;u-=1;switch(c&3){case 0:r.mode=STORED;break;case 1:fixedtables(r);r.mode=LEN_;if(t===Z_TREES){c>>>=2;u-=2;break e}break;case 2:r.mode=TABLE;break;case 3:e.msg="invalid block type";r.mode=BAD}c>>>=2;u-=2;break;case STORED:c>>>=u&7;u-=u&7;while(u<32){if(a===0){break e}a--;c+=n[s++]<<u;u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths";r.mode=BAD;break}r.length=c&65535;c=0;u=0;r.mode=COPY_;if(t===Z_TREES){break e}case COPY_:r.mode=COPY;case COPY:d=r.length;if(d){if(d>a){d=a}if(d>o){d=o}if(d===0){break e}i.set(n.subarray(s,s+d),f);a-=d;s+=d;o-=d;f+=d;r.length-=d;break}r.mode=TYPE;break;case TABLE:while(u<14){if(a===0){break e}a--;c+=n[s++]<<u;u+=8}r.nlen=(c&31)+257;c>>>=5;u-=5;r.ndist=(c&31)+1;c>>>=5;u-=5;r.ncode=(c&15)+4;c>>>=4;u-=4;if(r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols";r.mode=BAD;break}r.have=0;r.mode=LENLENS;case LENLENS:while(r.have<r.ncode){while(u<3){if(a===0){break e}a--;c+=n[s++]<<u;u+=8}r.lens[P[r.have++]]=c&7;c>>>=3;u-=3}while(r.have<19){r.lens[P[r.have++]]=0}r.lencode=r.lendyn;r.lenbits=7;T={bits:r.lenbits};E=inftrees(CODES,r.lens,0,19,r.lencode,0,r.work,T);r.lenbits=T.bits;if(E){e.msg="invalid code lengths set";r.mode=BAD;break}r.have=0;r.mode=CODELENS;case CODELENS:while(r.have<r.nlen+r.ndist){for(;;){b=r.lencode[c&(1<<r.lenbits)-1];m=b>>>24;g=b>>>16&255;v=b&65535;if(m<=u){break}if(a===0){break e}a--;c+=n[s++]<<u;u+=8}if(v<16){c>>>=m;u-=m;r.lens[r.have++]=v}else{if(v===16){C=m+2;while(u<C){if(a===0){break e}a--;c+=n[s++]<<u;u+=8}c>>>=m;u-=m;if(r.have===0){e.msg="invalid bit length repeat";r.mode=BAD;break}_=r.lens[r.have-1];d=3+(c&3);c>>>=2;u-=2}else if(v===17){C=m+3;while(u<C){if(a===0){break e}a--;c+=n[s++]<<u;u+=8}c>>>=m;u-=m;_=0;d=3+(c&7);c>>>=3;u-=3}else{C=m+7;while(u<C){if(a===0){break e}a--;c+=n[s++]<<u;u+=8}c>>>=m;u-=m;_=0;d=11+(c&127);c>>>=7;u-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat";r.mode=BAD;break}while(d--){r.lens[r.have++]=_}}}if(r.mode===BAD){break}if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block";r.mode=BAD;break}r.lenbits=9;T={bits:r.lenbits};E=inftrees(LENS,r.lens,0,r.nlen,r.lencode,0,r.work,T);r.lenbits=T.bits;if(E){e.msg="invalid literal/lengths set";r.mode=BAD;break}r.distbits=6;r.distcode=r.distdyn;T={bits:r.distbits};E=inftrees(DISTS,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,T);r.distbits=T.bits;if(E){e.msg="invalid distances set";r.mode=BAD;break}r.mode=LEN_;if(t===Z_TREES){break e}case LEN_:r.mode=LEN;case LEN:if(a>=6&&o>=258){e.next_out=f;e.avail_out=o;e.next_in=s;e.avail_in=a;r.hold=c;r.bits=u;inffast(e,h);f=e.next_out;i=e.output;o=e.avail_out;s=e.next_in;n=e.input;a=e.avail_in;c=r.hold;u=r.bits;if(r.mode===TYPE){r.back=-1}break}r.back=0;for(;;){b=r.lencode[c&(1<<r.lenbits)-1];m=b>>>24;g=b>>>16&255;v=b&65535;if(m<=u){break}if(a===0){break e}a--;c+=n[s++]<<u;u+=8}if(g&&(g&240)===0){w=m;A=g;$=v;for(;;){b=r.lencode[$+((c&(1<<w+A)-1)>>w)];m=b>>>24;g=b>>>16&255;v=b&65535;if(w+m<=u){break}if(a===0){break e}a--;c+=n[s++]<<u;u+=8}c>>>=w;u-=w;r.back+=w}c>>>=m;u-=m;r.back+=m;r.length=v;if(g===0){r.mode=LIT;break}if(g&32){r.back=-1;r.mode=TYPE;break}if(g&64){e.msg="invalid literal/length code";r.mode=BAD;break}r.extra=g&15;r.mode=LENEXT;case LENEXT:if(r.extra){C=r.extra;while(u<C){if(a===0){break e}a--;c+=n[s++]<<u;u+=8}r.length+=c&(1<<r.extra)-1;c>>>=r.extra;u-=r.extra;r.back+=r.extra}r.was=r.length;r.mode=DIST;case DIST:for(;;){b=r.distcode[c&(1<<r.distbits)-1];m=b>>>24;g=b>>>16&255;v=b&65535;if(m<=u){break}if(a===0){break e}a--;c+=n[s++]<<u;u+=8}if((g&240)===0){w=m;A=g;$=v;for(;;){b=r.distcode[$+((c&(1<<w+A)-1)>>w)];m=b>>>24;g=b>>>16&255;v=b&65535;if(w+m<=u){break}if(a===0){break e}a--;c+=n[s++]<<u;u+=8}c>>>=w;u-=w;r.back+=w}c>>>=m;u-=m;r.back+=m;if(g&64){e.msg="invalid distance code";r.mode=BAD;break}r.offset=v;r.extra=g&15;r.mode=DISTEXT;case DISTEXT:if(r.extra){C=r.extra;while(u<C){if(a===0){break e}a--;c+=n[s++]<<u;u+=8}r.offset+=c&(1<<r.extra)-1;c>>>=r.extra;u-=r.extra;r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back";r.mode=BAD;break}r.mode=MATCH;case MATCH:if(o===0){break e}d=h-o;if(r.offset>d){d=r.offset-d;if(d>r.whave){if(r.sane){e.msg="invalid distance too far back";r.mode=BAD;break}}if(d>r.wnext){d-=r.wnext;p=r.wsize-d}else{p=r.wnext-d}if(d>r.length){d=r.length}y=r.window}else{y=i;p=f-r.offset;d=r.length}if(d>o){d=o}o-=d;r.length-=d;do{i[f++]=y[p++]}while(--d);if(r.length===0){r.mode=LEN}break;case LIT:if(o===0){break e}i[f++]=r.length;o--;r.mode=LEN;break;case CHECK:if(r.wrap){while(u<32){if(a===0){break e}a--;c|=n[s++]<<u;u+=8}h-=o;e.total_out+=h;r.total+=h;if(r.wrap&4&&h){e.adler=r.check=r.flags?crc32_1(r.check,i,h,f-h):adler32_1(r.check,i,h,f-h)}h=o;if(r.wrap&4&&(r.flags?c:zswap32(c))!==r.check){e.msg="incorrect data check";r.mode=BAD;break}c=0;u=0}r.mode=LENGTH;case LENGTH:if(r.wrap&&r.flags){while(u<32){if(a===0){break e}a--;c+=n[s++]<<u;u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){e.msg="incorrect length check";r.mode=BAD;break}c=0;u=0}r.mode=DONE;case DONE:E=Z_STREAM_END$1;break e;case BAD:E=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}}e.next_out=f;e.avail_out=o;e.next_in=s;e.avail_in=a;r.hold=c;r.bits=u;if(r.wsize||h!==e.avail_out&&r.mode<BAD&&(r.mode<CHECK||t!==Z_FINISH$1)){if(updatewindow(e,e.output,e.next_out,h-e.avail_out));}l-=e.avail_in;h-=e.avail_out;e.total_in+=l;e.total_out+=h;r.total+=h;if(r.wrap&4&&h){e.adler=r.check=r.flags?crc32_1(r.check,i,h,e.next_out-h):adler32_1(r.check,i,h,e.next_out-h)}e.data_type=r.bits+(r.last?64:0)+(r.mode===TYPE?128:0)+(r.mode===LEN_||r.mode===COPY_?256:0);if((l===0&&h===0||t===Z_FINISH$1)&&E===Z_OK$1){E=Z_BUF_ERROR}return E};const inflateEnd=e=>{if(inflateStateCheck(e)){return Z_STREAM_ERROR$1}let t=e.state;if(t.window){t.window=null}e.state=null;return Z_OK$1};const inflateGetHeader=(e,t)=>{if(inflateStateCheck(e)){return Z_STREAM_ERROR$1}const r=e.state;if((r.wrap&2)===0){return Z_STREAM_ERROR$1}r.head=t;t.done=false;return Z_OK$1};const inflateSetDictionary=(e,t)=>{const r=t.length;let n;let i;let s;if(inflateStateCheck(e)){return Z_STREAM_ERROR$1}n=e.state;if(n.wrap!==0&&n.mode!==DICT){return Z_STREAM_ERROR$1}if(n.mode===DICT){i=1;i=adler32_1(i,t,r,0);if(i!==n.check){return Z_DATA_ERROR$1}}s=updatewindow(e,t,r,r);if(s){n.mode=MEM;return Z_MEM_ERROR$1}n.havedict=1;return Z_OK$1};var inflateReset_1=inflateReset;var inflateReset2_1=inflateReset2;var inflateResetKeep_1=inflateResetKeep;var inflateInit_1=inflateInit;var inflateInit2_1=inflateInit2;var inflate_2$1=inflate$2;var inflateEnd_1=inflateEnd;var inflateGetHeader_1=inflateGetHeader;var inflateSetDictionary_1=inflateSetDictionary;var inflateInfo="pako inflate (from Nodeca project)";var inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0;this.time=0;this.xflags=0;this.os=0;this.extra=null;this.extra_len=0;this.name="";this.comment="";this.hcrc=0;this.done=false}var gzheader=GZheader;const toString$2=Object.prototype.toString;const{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(e){this.options=common$2.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;if(t.raw&&t.windowBits>=0&&t.windowBits<16){t.windowBits=-t.windowBits;if(t.windowBits===0){t.windowBits=-15}}if(t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)){t.windowBits+=32}if(t.windowBits>15&&t.windowBits<48){if((t.windowBits&15)===0){t.windowBits|=15}}this.err=0;this.msg="";this.ended=false;this.chunks=[];this.strm=new zstream;this.strm.avail_out=0;let r=inflate_1$2.inflateInit2(this.strm,t.windowBits);if(r!==Z_OK){throw new Error(messages[r])}this.header=new gzheader;inflate_1$2.inflateGetHeader(this.strm,this.header);if(t.dictionary){if(typeof t.dictionary==="string"){t.dictionary=strings.string2buf(t.dictionary)}else if(toString$2.call(t.dictionary)==="[object ArrayBuffer]"){t.dictionary=new Uint8Array(t.dictionary)}if(t.raw){r=inflate_1$2.inflateSetDictionary(this.strm,t.dictionary);if(r!==Z_OK){throw new Error(messages[r])}}}}Inflate$1.prototype.push=function(e,t){const r=this.strm;const n=this.options.chunkSize;const i=this.options.dictionary;let s,f,a;if(this.ended)return false;if(t===~~t)f=t;else f=t===true?Z_FINISH:Z_NO_FLUSH;if(toString$2.call(e)==="[object ArrayBuffer]"){r.input=new Uint8Array(e)}else{r.input=e}r.next_in=0;r.avail_in=r.input.length;for(;;){if(r.avail_out===0){r.output=new Uint8Array(n);r.next_out=0;r.avail_out=n}s=inflate_1$2.inflate(r,f);if(s===Z_NEED_DICT&&i){s=inflate_1$2.inflateSetDictionary(r,i);if(s===Z_OK){s=inflate_1$2.inflate(r,f)}else if(s===Z_DATA_ERROR){s=Z_NEED_DICT}}while(r.avail_in>0&&s===Z_STREAM_END&&r.state.wrap>0&&e[r.next_in]!==0){inflate_1$2.inflateReset(r);s=inflate_1$2.inflate(r,f)}switch(s){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:this.onEnd(s);this.ended=true;return false}a=r.avail_out;if(r.next_out){if(r.avail_out===0||s===Z_STREAM_END){if(this.options.to==="string"){let e=strings.utf8border(r.output,r.next_out);let t=r.next_out-e;let i=strings.buf2string(r.output,e);r.next_out=t;r.avail_out=n-t;if(t)r.output.set(r.output.subarray(e,e+t),0);this.onData(i)}else{this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out))}}}if(s===Z_OK&&a===0)continue;if(s===Z_STREAM_END){s=inflate_1$2.inflateEnd(this.strm);this.onEnd(s);this.ended=true;return true}if(r.avail_in===0)break}return true};Inflate$1.prototype.onData=function(e){this.chunks.push(e)};Inflate$1.prototype.onEnd=function(e){if(e===Z_OK){if(this.options.to==="string"){this.result=this.chunks.join("")}else{this.result=common$2.flattenChunks(this.chunks)}}this.chunks=[];this.err=e;this.msg=this.strm.msg};function inflate$1(e,t){const r=new Inflate$1(t);r.push(e);if(r.err)throw r.msg||messages[r.err];return r.result}function inflateRaw$1(e,t){t=t||{};t.raw=true;return inflate$1(e,t)}var Inflate_1$1=Inflate$1;var inflate_2=inflate$1;var inflateRaw_1$1=inflateRaw$1;var ungzip$1=inflate$1;var constants=constants$2;var inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var inflate_1=inflate;function pemOrBase64Orbase64urlToString(e){let t=e.split(/\r?\n/);while(t[t.length-1].trim()===""){t.pop()}if(e.slice(0,3)==="---"){t.shift();t.pop()}e=t.join("");e=e.split("_").join("/").split("-").join("+").split(".").join("=");return e}function base64ToUint8array(e){e=pemOrBase64Orbase64urlToString(e);let t;if(typeof window==="undefined"||!window.atob){t=Uint8Array.from(Buffer.from(e,"base64"))}else{t=Uint8Array.from(window.atob(e),(e=>e.charCodeAt(0)))}return t}function decodeBase64ZippedBase64(e){const t=base64ToUint8array(e);const r=inflate_1(t,{to:"string"});const n=JSON.parse(r);return uncompactOffchainAttestationPackage(n)}function uncompactOffchainAttestationPackage(e){return{sig:{domain:{name:"EAS Attestation",version:e[0],chainId:e[1],verifyingContract:e[2]},primaryType:"Attestation",types:{Attest:[{name:"schema",type:"bytes32"},{name:"recipient",type:"address"},{name:"time",type:"uint64"},{name:"expirationTime",type:"uint64"},{name:"revocable",type:"bool"},{name:"refUID",type:"bytes32"},{name:"data",type:"bytes"}]},signature:{r:e[3],s:e[4],v:e[5]},uid:e[7],message:{version:1,schema:e[8],recipient:e[9]==="0"?AddressZero$1:e[9],time:e[10],expirationTime:e[11],refUID:e[12]==="0"?HashZero$1:e[12],revocable:e[13],data:e[14],nonce:e[15]}},signer:e[6]}}const EAS_RPC_CONFIG={1:"https://eth-mainnet.g.alchemy.com/v2/2bJxn0VGXp9U5EOfA6CoMGU-rrd-BIIT",11155111:"https://rpc.sepolia.org/"};const EAS_REGISTRY_CONFIG={1:"0xA7b39296258348C78294F95B872b282326A97BDF",11155111:"0x0a7E2Ff54e76B8E6659aedc9103FB21c038050D0"};class Attestation{constructor(e,t,r={}){this.type=e;this.base64Attestation=t;this.meta=r;const n=decodeBase64ZippedBase64(t);this.attestation=n.sig;const i=this.attestation.domain;if(!EAS_RPC_CONFIG[i.chainId])throw new Error(`EAS chain ID ${i.chainId} is not supported`);if(!EAS_REGISTRY_CONFIG[i.chainId])throw new Error(`EAS schema registry address not available for chain ID ${i.chainId}`);this.offChain=new dist.Offchain({version:i.version,address:i.verifyingContract,chainId:i.chainId},1);const s=new JsonRpcProvider$1(EAS_RPC_CONFIG[i.chainId],i.chainId);this.eas=new dist.EAS(i.verifyingContract,{signerOrProvider:s});this.schemaRegistry=new dist.SchemaRegistry(EAS_REGISTRY_CONFIG[i.chainId],{signerOrProvider:s});this.recoverSignerInfo()}recoverSignerInfo(){const e=TypedDataEncoder$1.hash(this.offChain.getDomainTypedData(),{Attest:dist.OFFCHAIN_ATTESTATION_TYPES[0].types},this.attestation.message);this.signerPublicKey=recoverPublicKey$1(e,this.attestation.signature);this.signerAddress=recoverAddress$1(e,this.attestation.signature);console.log("Signer key: ",this.signerPublicKey)}async getSchemaRecord(){if(!this.schemaRecord){this.schemaRecord=await this.schemaRegistry.getSchema({uid:this.attestation.message.schema})}return this.schemaRecord}async verifyAttestation(){const e=Math.round(Date.now()/1e3);if(e<this.attestation.message.time)throw new Error("Attestation not yet valid.");if(this.attestation.message.expirationTime>0&&e>this.attestation.message.expirationTime)throw new Error("Attestation has expired.");const t=await this.getSchemaRecord();if(!t.revocable)return;const r=await this.eas.getRevocationOffchain(this.signerAddress,this.attestation.uid);if(BigNumber$2.from(r).gt(0)){const e="Attestation has been revoked :-(";throw new Error(e)}}async getAttestationData(){if(!this.decodedData){const e=await this.getSchemaRecord();const t=new dist.SchemaEncoder((await e).schema);const r=t.decodeData(this.attestation.message.data);this.decodedData={};let n=0;for(const e of r){this.decodedData[e.name]=r[n].value.value;n++}}return this.decodedData}getAttestationField(e){const t=this.getAttestationData();if(!t[e]){throw new Error("The attestation does not contain data field '"+e+"'")}return t[e]}async getAttestationId(e){if(!e.length){return this.attestation.uid}const t=await this.getAttestationData();const r=[];for(const n of e){if(t[n])r.push(t[n])}return r.join("-")}async getCollectionHash(){const e=[];e.push(this.attestation.message.schema.substring(2));e.push(this.signerPublicKey.substring(2));const t=await this.getAttestationData();if(t.eventId)e.push(t.eventId);const r=new TextEncoder;console.log("Attestation hash text: ",e.join("-"));return utils$3.sha256(r.encode(e.join("-")))}async getDatabaseRecord(e){return{collectionId:await this.getCollectionHash(),tokenId:await this.getAttestationId(e),type:"eas",token:this.base64Attestation,decodedToken:this.attestation,decodedData:await this.getAttestationData(),meta:this.meta,dt:Date.now()}}static getAbiEncodedEasAttestation(e){const t=utils$3.defaultAbiCoder.encode(e.types.Attest.map((e=>e.type)),e.types.Attest.map((t=>e.message[t.name])));const r=utils$3.defaultAbiCoder.encode(["string","uint256","address"],[e.domain.version,e.domain.chainId,e.domain.verifyingContract]);const n=utils$3.defaultAbiCoder.encode(["bytes","bytes"],[r,t]);return{attestation:n,signature:utils$3.joinSignature(e.signature)}}}class TokenScript{constructor(e,t,r,n,i,s,f){this.engine=e;this.tokenDef=t;this.xmlStr=r;this.source=n;this.sourceId=i;this.sourceUrl=s;this.viewBinding=f;this.eventHandlers={};this.securityInfo=new SecurityInfo(this,this.tokenDef,this.xmlStr,this.source,this.sourceUrl)}getSourceInfo(){return{tsId:this.sourceId,source:this.source}}emitEvent(e,t){if(this.eventHandlers[e])for(const r of Object.values(this.eventHandlers[e])){r(t)}}on(e,t,r="default"){if(!this.eventHandlers[e])this.eventHandlers[e]={};this.eventHandlers[e][r]=t}off(e,t){if(!t){delete this.eventHandlers[e];return}delete this.eventHandlers[e][t]}getXmlString(){return this.xmlStr}getXml(){return this.tokenDef}getEngine(){return this.engine}async getSecurityInfo(){return await this.securityInfo.getInfo()}hasViewBinding(){return!!this.viewBinding}setViewBinding(e){this.viewBinding=e;this.viewController=null}getViewBinding(){return this.viewBinding}getViewController(){if(!this.viewController){if(!this.viewBinding)throw new Error("View binding has not been provided");this.viewController=new ViewController(this,this.viewBinding)}return this.viewController}async showTokenCard(e){await this.getViewController().showCard(e)}getName(){return this.tokenDef.documentElement.getAttribute("name")}getLabel(){var e,t;if(!this.label)this.label=new Label(this.tokenDef.documentElement);return(t=(e=this.label.getValue())!==null&&e!==void 0?e:this.getName())!==null&&t!==void 0?t:"Unnamed TokenScript"}getCards(e){if(!this.cards){let e=this.tokenDef.documentElement.getElementsByTagName("ts:card");this.cards=[];for(let t in e){if(!e.hasOwnProperty(t))continue;const r=new Card(this,e[t]);this.cards.push(r)}}if(e){return this.cards.filter((t=>t.origins.length===0||t.origins.indexOf(e)>-1))}return this.cards}loadContracts(){if(!this.contracts){let e=this.tokenDef.documentElement.getElementsByTagName("ts:contract");this.contracts={};for(let t in e){if(!e.hasOwnProperty(t))continue;const r=new Contract$1(e[t]);this.contracts[r.getName()]=r}}}getContracts(e=false){this.loadContracts();if(e){const e=this.tokenDef.documentElement.getElementsByTagName("ts:origins");const t={};for(let r in e[0].children){const n=e[0].children[r];if(!n.tagName)continue;if(n.tagName=="ts:ethereum"){const e=n.getAttribute("contract");if(this.contracts[e]){t[e]=this.contracts[e]}else{console.warn("Contract with name "+e+" could not be found.")}}else if(n.tagName!="ts:attestation"){console.warn("Token origin with tag "+n.tagName+" is not supported")}}return t}return this.contracts}getContractByName(e){var t;this.loadContracts();return(t=this.contracts)===null||t===void 0?void 0:t[e]}getViewContent(e){const t=this.tokenDef.documentElement.getElementsByTagName("ts:viewContent");for(let r in t){if(t[r].getAttribute("name")===e){return t[r].children}}return null}async getTokenMetadata(e=false,t=false){if(!this.tokenMetadata||e){this.emitEvent("TOKENS_LOADING");const e=await this.resolveTokenMetadata(t);this.tokenMetadata={};for(let t of e){this.tokenMetadata[t.originId]=t}for(const e of this.getAttestationDefinitions()){const t=e.name;const r={originId:t,blockChain:"offchain",chainId:0,tokenType:"eas",collectionId:t,tokenDetails:[],name:e.meta.title,image:e.meta.image,description:e.meta.description,decimals:0,balance:0};for(const t of await this.engine.getAttestationManager().getAttestations(e)){r.balance++;const n=t;n.abiEncoded=Attestation.getAbiEncodedEasAttestation(t.decodedToken);r.tokenDetails.push({collectionDetails:r,name:e.meta.title,tokenId:t.tokenId,description:e.meta.description,image:e.meta.image,data:n})}this.tokenMetadata[r.originId]=r}this.emitEvent("TOKENS_UPDATED",{tokens:this.tokenMetadata})}return this.tokenMetadata}setTokenMetadata(e){const t={};for(let r of e){t[r.originId]=r}this.tokenMetadata=t;this.emitEvent("TOKENS_UPDATED",{tokens:this.tokenMetadata})}async resolveTokenMetadata(e){var t;const r=(t=this.tokenDiscoveryAdapter)!==null&&t!==void 0?t:await this.engine.getTokenDiscoveryAdapter();const n=this.buildTokenDiscoveryData();return await r.getTokens(n,e)}getTokenOriginData(){return this.buildTokenDiscoveryData()}buildTokenDiscoveryData(e=true){const t=this.getContracts(e);const r=[];for(let e in t){const n=t[e];const i=n.getAddresses();for(let t in i){r.push({originId:e,blockChain:"eth",tokenType:n.getInterface(),chainId:i[t].chain,collectionId:i[t].address})}}return r}setTokenDiscoveryAdapter(e){this.tokenDiscoveryAdapter=e}setCurrentTokenContext(e,t=null){var r;if(!this.tokenMetadata[e]){throw new Error("Cannot set token context: contractName was not found")}if(t==null){this.tokenContext=this.tokenMetadata[e];return}if(!((r=this.tokenMetadata[e].tokenDetails)===null||r===void 0?void 0:r[t])){throw new Error("Cannot set token context: contractName was not found")}this.tokenContext=this.tokenMetadata[e];this.tokenContext.originId=e;this.tokenContext.selectedTokenIndex=t;this.tokenContext.selectedTokenId=this.tokenMetadata[e].tokenDetails[t].tokenId;if(this.hasViewBinding()){const e=this.getViewController().getCurrentCard();if(e){this.getViewController().updateCardData()}}}getCurrentTokenContext(){return this.tokenContext}getAttributes(){if(!this.attributes){this.attributes=new Attributes$2(this,this.tokenDef.documentElement)}return this.attributes}getAttestationDefinitions(){if(!this.attestationDefinitions){this.attestationDefinitions=new AttestationDefinitions(this,this.tokenDef.documentElement)}return this.attestationDefinitions}getSelections(){if(!this.selections){this.selections=new Selections(this,this.tokenDef.documentElement)}return this.selections}getAsnModuleDefinition(e){const t=this.tokenDef.getElementsByTagName("asnx:module")[0];return t.querySelector("[name="+e+"]")}async executeTransaction(e,t,r=true){var n,i,s;const f=await this.engine.getWalletAdapter();const a=e.getTransactionInfo();const o=(i=(n=this.getCurrentTokenContext())===null||n===void 0?void 0:n.chainId)!==null&&i!==void 0?i:await f.getChain();const c=a.contract.getAddressByChain(o,true);const u=[];for(let e in a.args){u.push({name:e.toString(),type:a.args[e].type,internalType:a.args[e].type,value:await a.args[e].getValue(this.getCurrentTokenContext())})}const l=a.value?await((s=a===null||a===void 0?void 0:a.value)===null||s===void 0?void 0:s.getValue(this.getCurrentTokenContext())):null;try{await f.sendTransaction(c.chain,c.address,a.function,u,[],l,r,t)}catch(e){console.error(e);const t=e.message.match(/reason="([^"]*)"/);if((t===null||t===void 0?void 0:t.length)>1)throw new Error(t[1]);if(e.message.indexOf("ACTION_REJECTED")>-1)throw new Error("Transaction rejected");throw e}}}class AttestationManager{constructor(e,t){this.engine=e;this.storageAdapter=t}async readMagicLink(e){var t;const r=(t=e.get("ticket"))!==null&&t!==void 0?t:e.get("attestation");const n=e.get("secret");const i=e.has("id")?e.get("id"):e.get("mail");const s=e.has("type")?e.get("type"):"eas";if(s!=="eas")throw new Error("Attestation type "+s+" is not supported");if(!r)throw new Error("Incomplete token params in URL.");const f=new Attestation(s,r,{commitmentId:i,commitmentSecret:n});await f.verifyAttestation();return f}async saveAttestation(e,t){const r=await t.getDatabaseRecord(e.idFields);r.authoritativeTokenScript=e.getTokenScript().getSourceInfo();return this.storageAdapter.saveAttestation(r)}async getAttestations(e){const t=e.calculateAttestationCollectionHashes();const r=await this.storageAdapter.getAttestations(t);for(const t of r)t.meta=Object.assign(Object.assign({},t.meta),e.meta);return r}async removeAttestation(e,t){return this.storageAdapter.removeAttestation(e,t)}}const DEFAULT_CONFIG={ipfsGateway:"https://ipfs.io/ipfs/"};var ScriptSourceType;(function(e){e["SCRIPT_URI"]="scriptUri";e["URL"]="url";e["UNKNOWN"]="unknown"})(ScriptSourceType||(ScriptSourceType={}));class TokenScriptEngine{constructor(e,t,r,n){this.getWalletAdapter=e;this.getTokenDiscoveryAdapter=t;this.getAttestationStorageAdapter=r;this.config=n;this.repo=new Repo(this);if(this.config){this.config=Object.assign(Object.assign({},DEFAULT_CONFIG),this.config)}else{this.config=DEFAULT_CONFIG}if(this.getAttestationStorageAdapter)this.attestationManager=new AttestationManager(this,this.getAttestationStorageAdapter())}getAttestationManager(){if(!this.attestationManager)throw new Error("Attestation storage adapter not provided");return this.attestationManager}async importAttestationUsingTokenScript(e){if(!e.has("scriptURI"))throw new Error("scriptURI parameter not provided");const t=await this.getAttestationManager().readMagicLink(e);const r=await this.getTokenScriptFromUrl(e.get("scriptURI"));const n=await t.getCollectionHash();const i=r.getAttestationDefinitions();for(const e of i){const i=e.calculateAttestationCollectionHashes();if(i.indexOf(n)===-1)continue;console.log("Successfully matched collection hash to tokenscript attestation definition!");await this.attestationManager.saveAttestation(e,t);return{definition:e,tokenScript:r}}throw new Error("The provided TokenScript does not contain an attestation definition for the included attestation.")}async getTokenScript(e,t,r){const n=await this.repo.getTokenScript(e,r);return this.initializeTokenScriptObject(n.xml,ScriptSourceType.SCRIPT_URI,e,n.sourceUrl,t)}async getTokenScriptFromUrl(e,t){const r=await fetch(e);if(r.status<200||r.status>399){throw new Error("Failed to load URL: "+r.statusText)}return this.initializeTokenScriptObject(await r.text(),ScriptSourceType.URL,e,e,t)}async loadTokenScript(e,t){return this.initializeTokenScriptObject(e,ScriptSourceType.UNKNOWN,null,null,t)}initializeTokenScriptObject(e,t,r,n,i){try{let s=new DOMParser;let f=s.parseFromString(e,"text/xml");return new TokenScript(this,f,e,t,r,n,i)}catch(e){throw new Error("Failed to parse tokenscript definition: "+e.message)}}async signPersonalMessage(e){try{return await(await this.getWalletAdapter()).signPersonalMessage(e)}catch(e){throw new Error("Signing failed: "+e.message)}}}class EthersAdapter{constructor(e,t){this.getWalletEthersProvider=e;this.chainConfig=t}async getEthersProvider(){this.ethersProvider=await this.getWalletEthersProvider();return this.ethersProvider}async signPersonalMessage(e){const t=await this.getEthersProvider();return await t.getSigner().signMessage(e)}async call(e,t,r,n,i){console.log("Call ethereum method. chain "+e+"; contract "+t+"; method "+r+";");const s=await this.getEthersContractInstance(e,t,r,n,i,"view");return await s[r](...n.map((e=>e.value)))}async sendTransaction(e,t,r,n,i,s,f=true,a){console.log("Send ethereum transaction. chain "+e+"; contract "+t+"; method "+r+"; value "+s);console.log(n);await this.switchChain(e);const o=await this.getEthersContractInstance(e,t,r,n,i,s?"payable":"nonpayable");const c={};if(s)c.value=s;const u=await o[r](...n.map((e=>e.value)),c);console.log("Transaction submitted: "+u.hash);a({status:"submitted",txNumber:u.hash});if(f)await u.wait().then((t=>{if(t.status!==1){console.error(t);throw new Error("Transaction failed: "+t.status)}console.log("Transaction completed!");a({status:"confirmed",txNumber:u.hash,txLink:this.chainConfig[e].explorer?this.chainConfig[e].explorer+u.hash:null});return t}));return u}async getEthersContractInstance(e,t,r,n,i,s){const f={name:r,inputs:n,outputs:i.map(((e,t)=>{const r=e==="uint"?"uint256":e;return{name:t.toString(),type:r,internalType:r}})),stateMutability:s,type:"function"};console.log(f);const a=s==="view"?new JsonRpcProvider$1(this.getRpcUrl(e),e):(await this.getEthersProvider()).getSigner();return new Contract$2(t,[f],a)}getRpcUrl(e){if(!this.chainConfig[e])throw new Error("RPC URL is not configured for ethereum chain: "+e);return this.chainConfig[e].rpc}async getChain(){if(!this.ethersProvider)return 1;const e=await this.getEthersProvider();const t=await e.getNetwork();return t.chainId}async switchChain(e){const t=await this.getEthersProvider();if(e!=await this.getChain()){console.log("Switch chain: ",e);try{await t.send("wallet_switchEthereumChain",[{chainId:"0x"+e.toString(16)}])}catch(t){console.error(t);throw new Error("Connected to wrong chain, please switch the chain to chainId: "+e+", error: "+t.message)}}}async getCurrentWalletAddress(){const e=await this.getEthersProvider();const t=await e.listAccounts();if(!(t===null||t===void 0?void 0:t.length)){throw new Error("Wallet could not connect or there is no accounts created")}return t[0]}async getEvents(e,t,r,n){console.log("Get ethereum events. chain "+e+"; contract "+t+"; event "+r+";");console.log(n);const i=new JsonRpcProvider$1(this.getRpcUrl(e));const s=new Contract$2(t,[{name:r,type:"event",inputs:n}],i);const f=n.map((e=>e.value));return await s.queryFilter(s.filters[r](...f))}}var bn$1=createCommonjsModule$2((function(e){(function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype;e.prototype=new r;e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e)){return e}this.negative=0;this.words=null;this.length=0;this.red=null;if(e!==null){if(t==="le"||t==="be"){r=t;t=10}this._init(e||0,t||10,r||"be")}}if(typeof e==="object"){e.exports=i}else{t.BN=i}i.BN=i;i.wordSize=26;var s;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined"){s=window.Buffer}else{s=require$$0$1.Buffer}}catch(e){}i.isBN=function e(t){if(t instanceof i){return true}return t!==null&&typeof t==="object"&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)};i.max=function e(t,r){if(t.cmp(r)>0)return t;return r};i.min=function e(t,r){if(t.cmp(r)<0)return t;return r};i.prototype._init=function e(t,n,i){if(typeof t==="number"){return this._initNumber(t,n,i)}if(typeof t==="object"){return this._initArray(t,n,i)}if(n==="hex"){n=16}r(n===(n|0)&&n>=2&&n<=36);t=t.toString().replace(/\s+/g,"");var s=0;if(t[0]==="-"){s++;this.negative=1}if(s<t.length){if(n===16){this._parseHex(t,s,i)}else{this._parseBase(t,n,s);if(i==="le"){this._initArray(this.toArray(),n,i)}}}};i.prototype._initNumber=function e(t,n,i){if(t<0){this.negative=1;t=-t}if(t<67108864){this.words=[t&67108863];this.length=1}else if(t<4503599627370496){this.words=[t&67108863,t/67108864&67108863];this.length=2}else{r(t<9007199254740992);this.words=[t&67108863,t/67108864&67108863,1];this.length=3}if(i!=="le")return;this._initArray(this.toArray(),n,i)};i.prototype._initArray=function e(t,n,i){r(typeof t.length==="number");if(t.length<=0){this.words=[0];this.length=1;return this}this.length=Math.ceil(t.length/3);this.words=new Array(this.length);for(var s=0;s<this.length;s++){this.words[s]=0}var f,a;var o=0;if(i==="be"){for(s=t.length-1,f=0;s>=0;s-=3){a=t[s]|t[s-1]<<8|t[s-2]<<16;this.words[f]|=a<<o&67108863;this.words[f+1]=a>>>26-o&67108863;o+=24;if(o>=26){o-=26;f++}}}else if(i==="le"){for(s=0,f=0;s<t.length;s+=3){a=t[s]|t[s+1]<<8|t[s+2]<<16;this.words[f]|=a<<o&67108863;this.words[f+1]=a>>>26-o&67108863;o+=24;if(o>=26){o-=26;f++}}}return this._strip()};function f(e,t){var n=e.charCodeAt(t);if(n>=48&&n<=57){return n-48}else if(n>=65&&n<=70){return n-55}else if(n>=97&&n<=102){return n-87}else{r(false,"Invalid character in "+e)}}function a(e,t,r){var n=f(e,r);if(r-1>=t){n|=f(e,r-1)<<4}return n}i.prototype._parseHex=function e(t,r,n){this.length=Math.ceil((t.length-r)/6);this.words=new Array(this.length);for(var i=0;i<this.length;i++){this.words[i]=0}var s=0;var f=0;var o;if(n==="be"){for(i=t.length-1;i>=r;i-=2){o=a(t,r,i)<<s;this.words[f]|=o&67108863;if(s>=18){s-=18;f+=1;this.words[f]|=o>>>26}else{s+=8}}}else{var c=t.length-r;for(i=c%2===0?r+1:r;i<t.length;i+=2){o=a(t,r,i)<<s;this.words[f]|=o&67108863;if(s>=18){s-=18;f+=1;this.words[f]|=o>>>26}else{s+=8}}}this._strip()};function o(e,t,n,i){var s=0;var f=0;var a=Math.min(e.length,n);for(var o=t;o<a;o++){var c=e.charCodeAt(o)-48;s*=i;if(c>=49){f=c-49+10}else if(c>=17){f=c-17+10}else{f=c}r(c>=0&&f<i,"Invalid character");s+=f}return s}i.prototype._parseBase=function e(t,r,n){this.words=[0];this.length=1;for(var i=0,s=1;s<=67108863;s*=r){i++}i--;s=s/r|0;var f=t.length-n;var a=f%i;var c=Math.min(f,f-a)+n;var u=0;for(var l=n;l<c;l+=i){u=o(t,l,l+i,r);this.imuln(s);if(this.words[0]+u<67108864){this.words[0]+=u}else{this._iaddn(u)}}if(a!==0){var h=1;u=o(t,l,t.length,r);for(l=0;l<a;l++){h*=r}this.imuln(h);if(this.words[0]+u<67108864){this.words[0]+=u}else{this._iaddn(u)}}this._strip()};i.prototype.copy=function e(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++){t.words[r]=this.words[r]}t.length=this.length;t.negative=this.negative;t.red=this.red};function c(e,t){e.words=t.words;e.length=t.length;e.negative=t.negative;e.red=t.red}i.prototype._move=function e(t){c(t,this)};i.prototype.clone=function e(){var t=new i(null);this.copy(t);return t};i.prototype._expand=function e(t){while(this.length<t){this.words[this.length++]=0}return this};i.prototype._strip=function e(){while(this.length>1&&this.words[this.length-1]===0){this.length--}return this._normSign()};i.prototype._normSign=function e(){if(this.length===1&&this.words[0]===0){this.negative=0}return this};if(typeof Symbol!=="undefined"&&typeof Symbol.for==="function"){try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch(e){i.prototype.inspect=u}}else{i.prototype.inspect=u}function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];var h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function e(t,n){t=t||10;n=n|0||1;var i;if(t===16||t==="hex"){i="";var s=0;var f=0;for(var a=0;a<this.length;a++){var o=this.words[a];var c=((o<<s|f)&16777215).toString(16);f=o>>>24-s&16777215;s+=2;if(s>=26){s-=26;a--}if(f!==0||a!==this.length-1){i=l[6-c.length]+c+i}else{i=c+i}}if(f!==0){i=f.toString(16)+i}while(i.length%n!==0){i="0"+i}if(this.negative!==0){i="-"+i}return i}if(t===(t|0)&&t>=2&&t<=36){var u=h[t];var p=d[t];i="";var y=this.clone();y.negative=0;while(!y.isZero()){var b=y.modrn(p).toString(t);y=y.idivn(p);if(!y.isZero()){i=l[u-b.length]+b+i}else{i=b+i}}if(this.isZero()){i="0"+i}while(i.length%n!==0){i="0"+i}if(this.negative!==0){i="-"+i}return i}r(false,"Base should be between 2 and 36")};i.prototype.toNumber=function e(){var t=this.words[0];if(this.length===2){t+=this.words[1]*67108864}else if(this.length===3&&this.words[2]===1){t+=4503599627370496+this.words[1]*67108864}else if(this.length>2){r(false,"Number can only safely store up to 53 bits")}return this.negative!==0?-t:t};i.prototype.toJSON=function e(){return this.toString(16,2)};if(s){i.prototype.toBuffer=function e(t,r){return this.toArrayLike(s,t,r)}}i.prototype.toArray=function e(t,r){return this.toArrayLike(Array,t,r)};var p=function e(t,r){if(t.allocUnsafe){return t.allocUnsafe(r)}return new t(r)};i.prototype.toArrayLike=function e(t,n,i){this._strip();var s=this.byteLength();var f=i||Math.max(1,s);r(s<=f,"byte array longer than desired length");r(f>0,"Requested array length <= 0");var a=p(t,f);var o=n==="le"?"LE":"BE";this["_toArrayLike"+o](a,s);return a};i.prototype._toArrayLikeLE=function e(t,r){var n=0;var i=0;for(var s=0,f=0;s<this.length;s++){var a=this.words[s]<<f|i;t[n++]=a&255;if(n<t.length){t[n++]=a>>8&255}if(n<t.length){t[n++]=a>>16&255}if(f===6){if(n<t.length){t[n++]=a>>24&255}i=0;f=0}else{i=a>>>24;f+=2}}if(n<t.length){t[n++]=i;while(n<t.length){t[n++]=0}}};i.prototype._toArrayLikeBE=function e(t,r){var n=t.length-1;var i=0;for(var s=0,f=0;s<this.length;s++){var a=this.words[s]<<f|i;t[n--]=a&255;if(n>=0){t[n--]=a>>8&255}if(n>=0){t[n--]=a>>16&255}if(f===6){if(n>=0){t[n--]=a>>24&255}i=0;f=0}else{i=a>>>24;f+=2}}if(n>=0){t[n--]=i;while(n>=0){t[n--]=0}}};if(Math.clz32){i.prototype._countBits=function e(t){return 32-Math.clz32(t)}}else{i.prototype._countBits=function e(t){var r=t;var n=0;if(r>=4096){n+=13;r>>>=13}if(r>=64){n+=7;r>>>=7}if(r>=8){n+=4;r>>>=4}if(r>=2){n+=2;r>>>=2}return n+r}}i.prototype._zeroBits=function e(t){if(t===0)return 26;var r=t;var n=0;if((r&8191)===0){n+=13;r>>>=13}if((r&127)===0){n+=7;r>>>=7}if((r&15)===0){n+=4;r>>>=4}if((r&3)===0){n+=2;r>>>=2}if((r&1)===0){n++}return n};i.prototype.bitLength=function e(){var t=this.words[this.length-1];var r=this._countBits(t);return(this.length-1)*26+r};function y(e){var t=new Array(e.bitLength());for(var r=0;r<t.length;r++){var n=r/26|0;var i=r%26;t[r]=e.words[n]>>>i&1}return t}i.prototype.zeroBits=function e(){if(this.isZero())return 0;var t=0;for(var r=0;r<this.length;r++){var n=this._zeroBits(this.words[r]);t+=n;if(n!==26)break}return t};i.prototype.byteLength=function e(){return Math.ceil(this.bitLength()/8)};i.prototype.toTwos=function e(t){if(this.negative!==0){return this.abs().inotn(t).iaddn(1)}return this.clone()};i.prototype.fromTwos=function e(t){if(this.testn(t-1)){return this.notn(t).iaddn(1).ineg()}return this.clone()};i.prototype.isNeg=function e(){return this.negative!==0};i.prototype.neg=function e(){return this.clone().ineg()};i.prototype.ineg=function e(){if(!this.isZero()){this.negative^=1}return this};i.prototype.iuor=function e(t){while(this.length<t.length){this.words[this.length++]=0}for(var r=0;r<t.length;r++){this.words[r]=this.words[r]|t.words[r]}return this._strip()};i.prototype.ior=function e(t){r((this.negative|t.negative)===0);return this.iuor(t)};i.prototype.or=function e(t){if(this.length>t.length)return this.clone().ior(t);return t.clone().ior(this)};i.prototype.uor=function e(t){if(this.length>t.length)return this.clone().iuor(t);return t.clone().iuor(this)};i.prototype.iuand=function e(t){var r;if(this.length>t.length){r=t}else{r=this}for(var n=0;n<r.length;n++){this.words[n]=this.words[n]&t.words[n]}this.length=r.length;return this._strip()};i.prototype.iand=function e(t){r((this.negative|t.negative)===0);return this.iuand(t)};i.prototype.and=function e(t){if(this.length>t.length)return this.clone().iand(t);return t.clone().iand(this)};i.prototype.uand=function e(t){if(this.length>t.length)return this.clone().iuand(t);return t.clone().iuand(this)};i.prototype.iuxor=function e(t){var r;var n;if(this.length>t.length){r=this;n=t}else{r=t;n=this}for(var i=0;i<n.length;i++){this.words[i]=r.words[i]^n.words[i]}if(this!==r){for(;i<r.length;i++){this.words[i]=r.words[i]}}this.length=r.length;return this._strip()};i.prototype.ixor=function e(t){r((this.negative|t.negative)===0);return this.iuxor(t)};i.prototype.xor=function e(t){if(this.length>t.length)return this.clone().ixor(t);return t.clone().ixor(this)};i.prototype.uxor=function e(t){if(this.length>t.length)return this.clone().iuxor(t);return t.clone().iuxor(this)};i.prototype.inotn=function e(t){r(typeof t==="number"&&t>=0);var n=Math.ceil(t/26)|0;var i=t%26;this._expand(n);if(i>0){n--}for(var s=0;s<n;s++){this.words[s]=~this.words[s]&67108863}if(i>0){this.words[s]=~this.words[s]&67108863>>26-i}return this._strip()};i.prototype.notn=function e(t){return this.clone().inotn(t)};i.prototype.setn=function e(t,n){r(typeof t==="number"&&t>=0);var i=t/26|0;var s=t%26;this._expand(i+1);if(n){this.words[i]=this.words[i]|1<<s}else{this.words[i]=this.words[i]&~(1<<s)}return this._strip()};i.prototype.iadd=function e(t){var r;if(this.negative!==0&&t.negative===0){this.negative=0;r=this.isub(t);this.negative^=1;return this._normSign()}else if(this.negative===0&&t.negative!==0){t.negative=0;r=this.isub(t);t.negative=1;return r._normSign()}var n,i;if(this.length>t.length){n=this;i=t}else{n=t;i=this}var s=0;for(var f=0;f<i.length;f++){r=(n.words[f]|0)+(i.words[f]|0)+s;this.words[f]=r&67108863;s=r>>>26}for(;s!==0&&f<n.length;f++){r=(n.words[f]|0)+s;this.words[f]=r&67108863;s=r>>>26}this.length=n.length;if(s!==0){this.words[this.length]=s;this.length++}else if(n!==this){for(;f<n.length;f++){this.words[f]=n.words[f]}}return this};i.prototype.add=function e(t){var r;if(t.negative!==0&&this.negative===0){t.negative=0;r=this.sub(t);t.negative^=1;return r}else if(t.negative===0&&this.negative!==0){this.negative=0;r=t.sub(this);this.negative=1;return r}if(this.length>t.length)return this.clone().iadd(t);return t.clone().iadd(this)};i.prototype.isub=function e(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);t.negative=1;return r._normSign()}else if(this.negative!==0){this.negative=0;this.iadd(t);this.negative=1;return this._normSign()}var n=this.cmp(t);if(n===0){this.negative=0;this.length=1;this.words[0]=0;return this}var i,s;if(n>0){i=this;s=t}else{i=t;s=this}var f=0;for(var a=0;a<s.length;a++){r=(i.words[a]|0)-(s.words[a]|0)+f;f=r>>26;this.words[a]=r&67108863}for(;f!==0&&a<i.length;a++){r=(i.words[a]|0)+f;f=r>>26;this.words[a]=r&67108863}if(f===0&&a<i.length&&i!==this){for(;a<i.length;a++){this.words[a]=i.words[a]}}this.length=Math.max(this.length,a);if(i!==this){this.negative=1}return this._strip()};i.prototype.sub=function e(t){return this.clone().isub(t)};function b(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n;n=n-1|0;var i=e.words[0]|0;var s=t.words[0]|0;var f=i*s;var a=f&67108863;var o=f/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){var u=o>>>26;var l=o&67108863;var h=Math.min(c,t.length-1);for(var d=Math.max(0,c-e.length+1);d<=h;d++){var p=c-d|0;i=e.words[p]|0;s=t.words[d]|0;f=i*s+l;u+=f/67108864|0;l=f&67108863}r.words[c]=l|0;o=u|0}if(o!==0){r.words[c]=o|0}else{r.length--}return r._strip()}var m=function e(t,r,n){var i=t.words;var s=r.words;var f=n.words;var a=0;var o;var c;var u;var l=i[0]|0;var h=l&8191;var d=l>>>13;var p=i[1]|0;var y=p&8191;var b=p>>>13;var m=i[2]|0;var g=m&8191;var v=m>>>13;var w=i[3]|0;var A=w&8191;var $=w>>>13;var _=i[4]|0;var E=_&8191;var S=_>>>13;var T=i[5]|0;var C=T&8191;var P=T>>>13;var x=i[6]|0;var I=x&8191;var k=x>>>13;var M=i[7]|0;var B=M&8191;var R=M>>>13;var N=i[8]|0;var D=N&8191;var O=N>>>13;var U=i[9]|0;var F=U&8191;var L=U>>>13;var j=s[0]|0;var H=j&8191;var K=j>>>13;var G=s[1]|0;var V=G&8191;var X=G>>>13;var W=s[2]|0;var z=W&8191;var Y=W>>>13;var J=s[3]|0;var q=J&8191;var Q=J>>>13;var Z=s[4]|0;var ee=Z&8191;var te=Z>>>13;var re=s[5]|0;var ne=re&8191;var ie=re>>>13;var se=s[6]|0;var fe=se&8191;var ae=se>>>13;var oe=s[7]|0;var ce=oe&8191;var ue=oe>>>13;var le=s[8]|0;var he=le&8191;var de=le>>>13;var pe=s[9]|0;var ye=pe&8191;var be=pe>>>13;n.negative=t.negative^r.negative;n.length=19;o=Math.imul(h,H);c=Math.imul(h,K);c=c+Math.imul(d,H)|0;u=Math.imul(d,K);var me=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(me>>>26)|0;me&=67108863;o=Math.imul(y,H);c=Math.imul(y,K);c=c+Math.imul(b,H)|0;u=Math.imul(b,K);o=o+Math.imul(h,V)|0;c=c+Math.imul(h,X)|0;c=c+Math.imul(d,V)|0;u=u+Math.imul(d,X)|0;var ge=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(ge>>>26)|0;ge&=67108863;o=Math.imul(g,H);c=Math.imul(g,K);c=c+Math.imul(v,H)|0;u=Math.imul(v,K);o=o+Math.imul(y,V)|0;c=c+Math.imul(y,X)|0;c=c+Math.imul(b,V)|0;u=u+Math.imul(b,X)|0;o=o+Math.imul(h,z)|0;c=c+Math.imul(h,Y)|0;c=c+Math.imul(d,z)|0;u=u+Math.imul(d,Y)|0;var ve=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(ve>>>26)|0;ve&=67108863;o=Math.imul(A,H);c=Math.imul(A,K);c=c+Math.imul($,H)|0;u=Math.imul($,K);o=o+Math.imul(g,V)|0;c=c+Math.imul(g,X)|0;c=c+Math.imul(v,V)|0;u=u+Math.imul(v,X)|0;o=o+Math.imul(y,z)|0;c=c+Math.imul(y,Y)|0;c=c+Math.imul(b,z)|0;u=u+Math.imul(b,Y)|0;o=o+Math.imul(h,q)|0;c=c+Math.imul(h,Q)|0;c=c+Math.imul(d,q)|0;u=u+Math.imul(d,Q)|0;var we=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(we>>>26)|0;we&=67108863;o=Math.imul(E,H);c=Math.imul(E,K);c=c+Math.imul(S,H)|0;u=Math.imul(S,K);o=o+Math.imul(A,V)|0;c=c+Math.imul(A,X)|0;c=c+Math.imul($,V)|0;u=u+Math.imul($,X)|0;o=o+Math.imul(g,z)|0;c=c+Math.imul(g,Y)|0;c=c+Math.imul(v,z)|0;u=u+Math.imul(v,Y)|0;o=o+Math.imul(y,q)|0;c=c+Math.imul(y,Q)|0;c=c+Math.imul(b,q)|0;u=u+Math.imul(b,Q)|0;o=o+Math.imul(h,ee)|0;c=c+Math.imul(h,te)|0;c=c+Math.imul(d,ee)|0;u=u+Math.imul(d,te)|0;var Ae=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ae>>>26)|0;Ae&=67108863;o=Math.imul(C,H);c=Math.imul(C,K);c=c+Math.imul(P,H)|0;u=Math.imul(P,K);o=o+Math.imul(E,V)|0;c=c+Math.imul(E,X)|0;c=c+Math.imul(S,V)|0;u=u+Math.imul(S,X)|0;o=o+Math.imul(A,z)|0;c=c+Math.imul(A,Y)|0;c=c+Math.imul($,z)|0;u=u+Math.imul($,Y)|0;o=o+Math.imul(g,q)|0;c=c+Math.imul(g,Q)|0;c=c+Math.imul(v,q)|0;u=u+Math.imul(v,Q)|0;o=o+Math.imul(y,ee)|0;c=c+Math.imul(y,te)|0;c=c+Math.imul(b,ee)|0;u=u+Math.imul(b,te)|0;o=o+Math.imul(h,ne)|0;c=c+Math.imul(h,ie)|0;c=c+Math.imul(d,ne)|0;u=u+Math.imul(d,ie)|0;var $e=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+($e>>>26)|0;$e&=67108863;o=Math.imul(I,H);c=Math.imul(I,K);c=c+Math.imul(k,H)|0;u=Math.imul(k,K);o=o+Math.imul(C,V)|0;c=c+Math.imul(C,X)|0;c=c+Math.imul(P,V)|0;u=u+Math.imul(P,X)|0;o=o+Math.imul(E,z)|0;c=c+Math.imul(E,Y)|0;c=c+Math.imul(S,z)|0;u=u+Math.imul(S,Y)|0;o=o+Math.imul(A,q)|0;c=c+Math.imul(A,Q)|0;c=c+Math.imul($,q)|0;u=u+Math.imul($,Q)|0;o=o+Math.imul(g,ee)|0;c=c+Math.imul(g,te)|0;c=c+Math.imul(v,ee)|0;u=u+Math.imul(v,te)|0;o=o+Math.imul(y,ne)|0;c=c+Math.imul(y,ie)|0;c=c+Math.imul(b,ne)|0;u=u+Math.imul(b,ie)|0;o=o+Math.imul(h,fe)|0;c=c+Math.imul(h,ae)|0;c=c+Math.imul(d,fe)|0;u=u+Math.imul(d,ae)|0;var _e=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(_e>>>26)|0;_e&=67108863;o=Math.imul(B,H);c=Math.imul(B,K);c=c+Math.imul(R,H)|0;u=Math.imul(R,K);o=o+Math.imul(I,V)|0;c=c+Math.imul(I,X)|0;c=c+Math.imul(k,V)|0;u=u+Math.imul(k,X)|0;o=o+Math.imul(C,z)|0;c=c+Math.imul(C,Y)|0;c=c+Math.imul(P,z)|0;u=u+Math.imul(P,Y)|0;o=o+Math.imul(E,q)|0;c=c+Math.imul(E,Q)|0;c=c+Math.imul(S,q)|0;u=u+Math.imul(S,Q)|0;o=o+Math.imul(A,ee)|0;c=c+Math.imul(A,te)|0;c=c+Math.imul($,ee)|0;u=u+Math.imul($,te)|0;o=o+Math.imul(g,ne)|0;c=c+Math.imul(g,ie)|0;c=c+Math.imul(v,ne)|0;u=u+Math.imul(v,ie)|0;o=o+Math.imul(y,fe)|0;c=c+Math.imul(y,ae)|0;c=c+Math.imul(b,fe)|0;u=u+Math.imul(b,ae)|0;o=o+Math.imul(h,ce)|0;c=c+Math.imul(h,ue)|0;c=c+Math.imul(d,ce)|0;u=u+Math.imul(d,ue)|0;var Ee=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ee>>>26)|0;Ee&=67108863;o=Math.imul(D,H);c=Math.imul(D,K);c=c+Math.imul(O,H)|0;u=Math.imul(O,K);o=o+Math.imul(B,V)|0;c=c+Math.imul(B,X)|0;c=c+Math.imul(R,V)|0;u=u+Math.imul(R,X)|0;o=o+Math.imul(I,z)|0;c=c+Math.imul(I,Y)|0;c=c+Math.imul(k,z)|0;u=u+Math.imul(k,Y)|0;o=o+Math.imul(C,q)|0;c=c+Math.imul(C,Q)|0;c=c+Math.imul(P,q)|0;u=u+Math.imul(P,Q)|0;o=o+Math.imul(E,ee)|0;c=c+Math.imul(E,te)|0;c=c+Math.imul(S,ee)|0;u=u+Math.imul(S,te)|0;o=o+Math.imul(A,ne)|0;c=c+Math.imul(A,ie)|0;c=c+Math.imul($,ne)|0;u=u+Math.imul($,ie)|0;o=o+Math.imul(g,fe)|0;c=c+Math.imul(g,ae)|0;c=c+Math.imul(v,fe)|0;u=u+Math.imul(v,ae)|0;o=o+Math.imul(y,ce)|0;c=c+Math.imul(y,ue)|0;c=c+Math.imul(b,ce)|0;u=u+Math.imul(b,ue)|0;o=o+Math.imul(h,he)|0;c=c+Math.imul(h,de)|0;c=c+Math.imul(d,he)|0;u=u+Math.imul(d,de)|0;var Se=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Se>>>26)|0;Se&=67108863;o=Math.imul(F,H);c=Math.imul(F,K);c=c+Math.imul(L,H)|0;u=Math.imul(L,K);o=o+Math.imul(D,V)|0;c=c+Math.imul(D,X)|0;c=c+Math.imul(O,V)|0;u=u+Math.imul(O,X)|0;o=o+Math.imul(B,z)|0;c=c+Math.imul(B,Y)|0;c=c+Math.imul(R,z)|0;u=u+Math.imul(R,Y)|0;o=o+Math.imul(I,q)|0;c=c+Math.imul(I,Q)|0;c=c+Math.imul(k,q)|0;u=u+Math.imul(k,Q)|0;o=o+Math.imul(C,ee)|0;c=c+Math.imul(C,te)|0;c=c+Math.imul(P,ee)|0;u=u+Math.imul(P,te)|0;o=o+Math.imul(E,ne)|0;c=c+Math.imul(E,ie)|0;c=c+Math.imul(S,ne)|0;u=u+Math.imul(S,ie)|0;o=o+Math.imul(A,fe)|0;c=c+Math.imul(A,ae)|0;c=c+Math.imul($,fe)|0;u=u+Math.imul($,ae)|0;o=o+Math.imul(g,ce)|0;c=c+Math.imul(g,ue)|0;c=c+Math.imul(v,ce)|0;u=u+Math.imul(v,ue)|0;o=o+Math.imul(y,he)|0;c=c+Math.imul(y,de)|0;c=c+Math.imul(b,he)|0;u=u+Math.imul(b,de)|0;o=o+Math.imul(h,ye)|0;c=c+Math.imul(h,be)|0;c=c+Math.imul(d,ye)|0;u=u+Math.imul(d,be)|0;var Te=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Te>>>26)|0;Te&=67108863;o=Math.imul(F,V);c=Math.imul(F,X);c=c+Math.imul(L,V)|0;u=Math.imul(L,X);o=o+Math.imul(D,z)|0;c=c+Math.imul(D,Y)|0;c=c+Math.imul(O,z)|0;u=u+Math.imul(O,Y)|0;o=o+Math.imul(B,q)|0;c=c+Math.imul(B,Q)|0;c=c+Math.imul(R,q)|0;u=u+Math.imul(R,Q)|0;o=o+Math.imul(I,ee)|0;c=c+Math.imul(I,te)|0;c=c+Math.imul(k,ee)|0;u=u+Math.imul(k,te)|0;o=o+Math.imul(C,ne)|0;c=c+Math.imul(C,ie)|0;c=c+Math.imul(P,ne)|0;u=u+Math.imul(P,ie)|0;o=o+Math.imul(E,fe)|0;c=c+Math.imul(E,ae)|0;c=c+Math.imul(S,fe)|0;u=u+Math.imul(S,ae)|0;o=o+Math.imul(A,ce)|0;c=c+Math.imul(A,ue)|0;c=c+Math.imul($,ce)|0;u=u+Math.imul($,ue)|0;o=o+Math.imul(g,he)|0;c=c+Math.imul(g,de)|0;c=c+Math.imul(v,he)|0;u=u+Math.imul(v,de)|0;o=o+Math.imul(y,ye)|0;c=c+Math.imul(y,be)|0;c=c+Math.imul(b,ye)|0;u=u+Math.imul(b,be)|0;var Ce=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ce>>>26)|0;Ce&=67108863;o=Math.imul(F,z);c=Math.imul(F,Y);c=c+Math.imul(L,z)|0;u=Math.imul(L,Y);o=o+Math.imul(D,q)|0;c=c+Math.imul(D,Q)|0;c=c+Math.imul(O,q)|0;u=u+Math.imul(O,Q)|0;o=o+Math.imul(B,ee)|0;c=c+Math.imul(B,te)|0;c=c+Math.imul(R,ee)|0;u=u+Math.imul(R,te)|0;o=o+Math.imul(I,ne)|0;c=c+Math.imul(I,ie)|0;c=c+Math.imul(k,ne)|0;u=u+Math.imul(k,ie)|0;o=o+Math.imul(C,fe)|0;c=c+Math.imul(C,ae)|0;c=c+Math.imul(P,fe)|0;u=u+Math.imul(P,ae)|0;o=o+Math.imul(E,ce)|0;c=c+Math.imul(E,ue)|0;c=c+Math.imul(S,ce)|0;u=u+Math.imul(S,ue)|0;o=o+Math.imul(A,he)|0;c=c+Math.imul(A,de)|0;c=c+Math.imul($,he)|0;u=u+Math.imul($,de)|0;o=o+Math.imul(g,ye)|0;c=c+Math.imul(g,be)|0;c=c+Math.imul(v,ye)|0;u=u+Math.imul(v,be)|0;var Pe=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Pe>>>26)|0;Pe&=67108863;o=Math.imul(F,q);c=Math.imul(F,Q);c=c+Math.imul(L,q)|0;u=Math.imul(L,Q);o=o+Math.imul(D,ee)|0;c=c+Math.imul(D,te)|0;c=c+Math.imul(O,ee)|0;u=u+Math.imul(O,te)|0;o=o+Math.imul(B,ne)|0;c=c+Math.imul(B,ie)|0;c=c+Math.imul(R,ne)|0;u=u+Math.imul(R,ie)|0;o=o+Math.imul(I,fe)|0;c=c+Math.imul(I,ae)|0;c=c+Math.imul(k,fe)|0;u=u+Math.imul(k,ae)|0;o=o+Math.imul(C,ce)|0;c=c+Math.imul(C,ue)|0;c=c+Math.imul(P,ce)|0;u=u+Math.imul(P,ue)|0;o=o+Math.imul(E,he)|0;c=c+Math.imul(E,de)|0;c=c+Math.imul(S,he)|0;u=u+Math.imul(S,de)|0;o=o+Math.imul(A,ye)|0;c=c+Math.imul(A,be)|0;c=c+Math.imul($,ye)|0;u=u+Math.imul($,be)|0;var xe=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(xe>>>26)|0;xe&=67108863;o=Math.imul(F,ee);c=Math.imul(F,te);c=c+Math.imul(L,ee)|0;u=Math.imul(L,te);o=o+Math.imul(D,ne)|0;c=c+Math.imul(D,ie)|0;c=c+Math.imul(O,ne)|0;u=u+Math.imul(O,ie)|0;o=o+Math.imul(B,fe)|0;c=c+Math.imul(B,ae)|0;c=c+Math.imul(R,fe)|0;u=u+Math.imul(R,ae)|0;o=o+Math.imul(I,ce)|0;c=c+Math.imul(I,ue)|0;c=c+Math.imul(k,ce)|0;u=u+Math.imul(k,ue)|0;o=o+Math.imul(C,he)|0;c=c+Math.imul(C,de)|0;c=c+Math.imul(P,he)|0;u=u+Math.imul(P,de)|0;o=o+Math.imul(E,ye)|0;c=c+Math.imul(E,be)|0;c=c+Math.imul(S,ye)|0;u=u+Math.imul(S,be)|0;var Ie=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ie>>>26)|0;Ie&=67108863;o=Math.imul(F,ne);c=Math.imul(F,ie);c=c+Math.imul(L,ne)|0;u=Math.imul(L,ie);o=o+Math.imul(D,fe)|0;c=c+Math.imul(D,ae)|0;c=c+Math.imul(O,fe)|0;u=u+Math.imul(O,ae)|0;o=o+Math.imul(B,ce)|0;c=c+Math.imul(B,ue)|0;c=c+Math.imul(R,ce)|0;u=u+Math.imul(R,ue)|0;o=o+Math.imul(I,he)|0;c=c+Math.imul(I,de)|0;c=c+Math.imul(k,he)|0;u=u+Math.imul(k,de)|0;o=o+Math.imul(C,ye)|0;c=c+Math.imul(C,be)|0;c=c+Math.imul(P,ye)|0;u=u+Math.imul(P,be)|0;var ke=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(ke>>>26)|0;ke&=67108863;o=Math.imul(F,fe);c=Math.imul(F,ae);c=c+Math.imul(L,fe)|0;u=Math.imul(L,ae);o=o+Math.imul(D,ce)|0;c=c+Math.imul(D,ue)|0;c=c+Math.imul(O,ce)|0;u=u+Math.imul(O,ue)|0;o=o+Math.imul(B,he)|0;c=c+Math.imul(B,de)|0;c=c+Math.imul(R,he)|0;u=u+Math.imul(R,de)|0;o=o+Math.imul(I,ye)|0;c=c+Math.imul(I,be)|0;c=c+Math.imul(k,ye)|0;u=u+Math.imul(k,be)|0;var Me=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Me>>>26)|0;Me&=67108863;o=Math.imul(F,ce);c=Math.imul(F,ue);c=c+Math.imul(L,ce)|0;u=Math.imul(L,ue);o=o+Math.imul(D,he)|0;c=c+Math.imul(D,de)|0;c=c+Math.imul(O,he)|0;u=u+Math.imul(O,de)|0;o=o+Math.imul(B,ye)|0;c=c+Math.imul(B,be)|0;c=c+Math.imul(R,ye)|0;u=u+Math.imul(R,be)|0;var Be=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Be>>>26)|0;Be&=67108863;o=Math.imul(F,he);c=Math.imul(F,de);c=c+Math.imul(L,he)|0;u=Math.imul(L,de);o=o+Math.imul(D,ye)|0;c=c+Math.imul(D,be)|0;c=c+Math.imul(O,ye)|0;u=u+Math.imul(O,be)|0;var Re=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Re>>>26)|0;Re&=67108863;o=Math.imul(F,ye);c=Math.imul(F,be);c=c+Math.imul(L,ye)|0;u=Math.imul(L,be);var Ne=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ne>>>26)|0;Ne&=67108863;f[0]=me;f[1]=ge;f[2]=ve;f[3]=we;f[4]=Ae;f[5]=$e;f[6]=_e;f[7]=Ee;f[8]=Se;f[9]=Te;f[10]=Ce;f[11]=Pe;f[12]=xe;f[13]=Ie;f[14]=ke;f[15]=Me;f[16]=Be;f[17]=Re;f[18]=Ne;if(a!==0){f[19]=a;n.length++}return n};if(!Math.imul){m=b}function g(e,t,r){r.negative=t.negative^e.negative;r.length=e.length+t.length;var n=0;var i=0;for(var s=0;s<r.length-1;s++){var f=i;i=0;var a=n&67108863;var o=Math.min(s,t.length-1);for(var c=Math.max(0,s-e.length+1);c<=o;c++){var u=s-c;var l=e.words[u]|0;var h=t.words[c]|0;var d=l*h;var p=d&67108863;f=f+(d/67108864|0)|0;p=p+a|0;a=p&67108863;f=f+(p>>>26)|0;i+=f>>>26;f&=67108863}r.words[s]=a;n=f;f=i}if(n!==0){r.words[s]=n}else{r.length--}return r._strip()}function v(e,t,r){return g(e,t,r)}i.prototype.mulTo=function e(t,r){var n;var i=this.length+t.length;if(this.length===10&&t.length===10){n=m(this,t,r)}else if(i<63){n=b(this,t,r)}else if(i<1024){n=g(this,t,r)}else{n=v(this,t,r)}return n};i.prototype.mul=function e(t){var r=new i(null);r.words=new Array(this.length+t.length);return this.mulTo(t,r)};i.prototype.mulf=function e(t){var r=new i(null);r.words=new Array(this.length+t.length);return v(this,t,r)};i.prototype.imul=function e(t){return this.clone().mulTo(t,this)};i.prototype.imuln=function e(t){var n=t<0;if(n)t=-t;r(typeof t==="number");r(t<67108864);var i=0;for(var s=0;s<this.length;s++){var f=(this.words[s]|0)*t;var a=(f&67108863)+(i&67108863);i>>=26;i+=f/67108864|0;i+=a>>>26;this.words[s]=a&67108863}if(i!==0){this.words[s]=i;this.length++}return n?this.ineg():this};i.prototype.muln=function e(t){return this.clone().imuln(t)};i.prototype.sqr=function e(){return this.mul(this)};i.prototype.isqr=function e(){return this.imul(this.clone())};i.prototype.pow=function e(t){var r=y(t);if(r.length===0)return new i(1);var n=this;for(var s=0;s<r.length;s++,n=n.sqr()){if(r[s]!==0)break}if(++s<r.length){for(var f=n.sqr();s<r.length;s++,f=f.sqr()){if(r[s]===0)continue;n=n.mul(f)}}return n};i.prototype.iushln=function e(t){r(typeof t==="number"&&t>=0);var n=t%26;var i=(t-n)/26;var s=67108863>>>26-n<<26-n;var f;if(n!==0){var a=0;for(f=0;f<this.length;f++){var o=this.words[f]&s;var c=(this.words[f]|0)-o<<n;this.words[f]=c|a;a=o>>>26-n}if(a){this.words[f]=a;this.length++}}if(i!==0){for(f=this.length-1;f>=0;f--){this.words[f+i]=this.words[f]}for(f=0;f<i;f++){this.words[f]=0}this.length+=i}return this._strip()};i.prototype.ishln=function e(t){r(this.negative===0);return this.iushln(t)};i.prototype.iushrn=function e(t,n,i){r(typeof t==="number"&&t>=0);var s;if(n){s=(n-n%26)/26}else{s=0}var f=t%26;var a=Math.min((t-f)/26,this.length);var o=67108863^67108863>>>f<<f;var c=i;s-=a;s=Math.max(0,s);if(c){for(var u=0;u<a;u++){c.words[u]=this.words[u]}c.length=a}if(a===0);else if(this.length>a){this.length-=a;for(u=0;u<this.length;u++){this.words[u]=this.words[u+a]}}else{this.words[0]=0;this.length=1}var l=0;for(u=this.length-1;u>=0&&(l!==0||u>=s);u--){var h=this.words[u]|0;this.words[u]=l<<26-f|h>>>f;l=h&o}if(c&&l!==0){c.words[c.length++]=l}if(this.length===0){this.words[0]=0;this.length=1}return this._strip()};i.prototype.ishrn=function e(t,n,i){r(this.negative===0);return this.iushrn(t,n,i)};i.prototype.shln=function e(t){return this.clone().ishln(t)};i.prototype.ushln=function e(t){return this.clone().iushln(t)};i.prototype.shrn=function e(t){return this.clone().ishrn(t)};i.prototype.ushrn=function e(t){return this.clone().iushrn(t)};i.prototype.testn=function e(t){r(typeof t==="number"&&t>=0);var n=t%26;var i=(t-n)/26;var s=1<<n;if(this.length<=i)return false;var f=this.words[i];return!!(f&s)};i.prototype.imaskn=function e(t){r(typeof t==="number"&&t>=0);var n=t%26;var i=(t-n)/26;r(this.negative===0,"imaskn works only with positive numbers");if(this.length<=i){return this}if(n!==0){i++}this.length=Math.min(i,this.length);if(n!==0){var s=67108863^67108863>>>n<<n;this.words[this.length-1]&=s}return this._strip()};i.prototype.maskn=function e(t){return this.clone().imaskn(t)};i.prototype.iaddn=function e(t){r(typeof t==="number");r(t<67108864);if(t<0)return this.isubn(-t);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<=t){this.words[0]=t-(this.words[0]|0);this.negative=0;return this}this.negative=0;this.isubn(t);this.negative=1;return this}return this._iaddn(t)};i.prototype._iaddn=function e(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++){this.words[r]-=67108864;if(r===this.length-1){this.words[r+1]=1}else{this.words[r+1]++}}this.length=Math.max(this.length,r+1);return this};i.prototype.isubn=function e(t){r(typeof t==="number");r(t<67108864);if(t<0)return this.iaddn(-t);if(this.negative!==0){this.negative=0;this.iaddn(t);this.negative=1;return this}this.words[0]-=t;if(this.length===1&&this.words[0]<0){this.words[0]=-this.words[0];this.negative=1}else{for(var n=0;n<this.length&&this.words[n]<0;n++){this.words[n]+=67108864;this.words[n+1]-=1}}return this._strip()};i.prototype.addn=function e(t){return this.clone().iaddn(t)};i.prototype.subn=function e(t){return this.clone().isubn(t)};i.prototype.iabs=function e(){this.negative=0;return this};i.prototype.abs=function e(){return this.clone().iabs()};i.prototype._ishlnsubmul=function e(t,n,i){var s=t.length+i;var f;this._expand(s);var a;var o=0;for(f=0;f<t.length;f++){a=(this.words[f+i]|0)+o;var c=(t.words[f]|0)*n;a-=c&67108863;o=(a>>26)-(c/67108864|0);this.words[f+i]=a&67108863}for(;f<this.length-i;f++){a=(this.words[f+i]|0)+o;o=a>>26;this.words[f+i]=a&67108863}if(o===0)return this._strip();r(o===-1);o=0;for(f=0;f<this.length;f++){a=-(this.words[f]|0)+o;o=a>>26;this.words[f]=a&67108863}this.negative=1;return this._strip()};i.prototype._wordDiv=function e(t,r){var n=this.length-t.length;var s=this.clone();var f=t;var a=f.words[f.length-1]|0;var o=this._countBits(a);n=26-o;if(n!==0){f=f.ushln(n);s.iushln(n);a=f.words[f.length-1]|0}var c=s.length-f.length;var u;if(r!=="mod"){u=new i(null);u.length=c+1;u.words=new Array(u.length);for(var l=0;l<u.length;l++){u.words[l]=0}}var h=s.clone()._ishlnsubmul(f,1,c);if(h.negative===0){s=h;if(u){u.words[c]=1}}for(var d=c-1;d>=0;d--){var p=(s.words[f.length+d]|0)*67108864+(s.words[f.length+d-1]|0);p=Math.min(p/a|0,67108863);s._ishlnsubmul(f,p,d);while(s.negative!==0){p--;s.negative=0;s._ishlnsubmul(f,1,d);if(!s.isZero()){s.negative^=1}}if(u){u.words[d]=p}}if(u){u._strip()}s._strip();if(r!=="div"&&n!==0){s.iushrn(n)}return{div:u||null,mod:s}};i.prototype.divmod=function e(t,n,s){r(!t.isZero());if(this.isZero()){return{div:new i(0),mod:new i(0)}}var f,a,o;if(this.negative!==0&&t.negative===0){o=this.neg().divmod(t,n);if(n!=="mod"){f=o.div.neg()}if(n!=="div"){a=o.mod.neg();if(s&&a.negative!==0){a.iadd(t)}}return{div:f,mod:a}}if(this.negative===0&&t.negative!==0){o=this.divmod(t.neg(),n);if(n!=="mod"){f=o.div.neg()}return{div:f,mod:o.mod}}if((this.negative&t.negative)!==0){o=this.neg().divmod(t.neg(),n);if(n!=="div"){a=o.mod.neg();if(s&&a.negative!==0){a.isub(t)}}return{div:o.div,mod:a}}if(t.length>this.length||this.cmp(t)<0){return{div:new i(0),mod:this}}if(t.length===1){if(n==="div"){return{div:this.divn(t.words[0]),mod:null}}if(n==="mod"){return{div:null,mod:new i(this.modrn(t.words[0]))}}return{div:this.divn(t.words[0]),mod:new i(this.modrn(t.words[0]))}}return this._wordDiv(t,n)};i.prototype.div=function e(t){return this.divmod(t,"div",false).div};i.prototype.mod=function e(t){return this.divmod(t,"mod",false).mod};i.prototype.umod=function e(t){return this.divmod(t,"mod",true).mod};i.prototype.divRound=function e(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var n=r.div.negative!==0?r.mod.isub(t):r.mod;var i=t.ushrn(1);var s=t.andln(1);var f=n.cmp(i);if(f<0||s===1&&f===0)return r.div;return r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)};i.prototype.modrn=function e(t){var n=t<0;if(n)t=-t;r(t<=67108863);var i=(1<<26)%t;var s=0;for(var f=this.length-1;f>=0;f--){s=(i*s+(this.words[f]|0))%t}return n?-s:s};i.prototype.modn=function e(t){return this.modrn(t)};i.prototype.idivn=function e(t){var n=t<0;if(n)t=-t;r(t<=67108863);var i=0;for(var s=this.length-1;s>=0;s--){var f=(this.words[s]|0)+i*67108864;this.words[s]=f/t|0;i=f%t}this._strip();return n?this.ineg():this};i.prototype.divn=function e(t){return this.clone().idivn(t)};i.prototype.egcd=function e(t){r(t.negative===0);r(!t.isZero());var n=this;var s=t.clone();if(n.negative!==0){n=n.umod(t)}else{n=n.clone()}var f=new i(1);var a=new i(0);var o=new i(0);var c=new i(1);var u=0;while(n.isEven()&&s.isEven()){n.iushrn(1);s.iushrn(1);++u}var l=s.clone();var h=n.clone();while(!n.isZero()){for(var d=0,p=1;(n.words[0]&p)===0&&d<26;++d,p<<=1);if(d>0){n.iushrn(d);while(d-- >0){if(f.isOdd()||a.isOdd()){f.iadd(l);a.isub(h)}f.iushrn(1);a.iushrn(1)}}for(var y=0,b=1;(s.words[0]&b)===0&&y<26;++y,b<<=1);if(y>0){s.iushrn(y);while(y-- >0){if(o.isOdd()||c.isOdd()){o.iadd(l);c.isub(h)}o.iushrn(1);c.iushrn(1)}}if(n.cmp(s)>=0){n.isub(s);f.isub(o);a.isub(c)}else{s.isub(n);o.isub(f);c.isub(a)}}return{a:o,b:c,gcd:s.iushln(u)}};i.prototype._invmp=function e(t){r(t.negative===0);r(!t.isZero());var n=this;var s=t.clone();if(n.negative!==0){n=n.umod(t)}else{n=n.clone()}var f=new i(1);var a=new i(0);var o=s.clone();while(n.cmpn(1)>0&&s.cmpn(1)>0){for(var c=0,u=1;(n.words[0]&u)===0&&c<26;++c,u<<=1);if(c>0){n.iushrn(c);while(c-- >0){if(f.isOdd()){f.iadd(o)}f.iushrn(1)}}for(var l=0,h=1;(s.words[0]&h)===0&&l<26;++l,h<<=1);if(l>0){s.iushrn(l);while(l-- >0){if(a.isOdd()){a.iadd(o)}a.iushrn(1)}}if(n.cmp(s)>=0){n.isub(s);f.isub(a)}else{s.isub(n);a.isub(f)}}var d;if(n.cmpn(1)===0){d=f}else{d=a}if(d.cmpn(0)<0){d.iadd(t)}return d};i.prototype.gcd=function e(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone();var n=t.clone();r.negative=0;n.negative=0;for(var i=0;r.isEven()&&n.isEven();i++){r.iushrn(1);n.iushrn(1)}do{while(r.isEven()){r.iushrn(1)}while(n.isEven()){n.iushrn(1)}var s=r.cmp(n);if(s<0){var f=r;r=n;n=f}else if(s===0||n.cmpn(1)===0){break}r.isub(n)}while(true);return n.iushln(i)};i.prototype.invm=function e(t){return this.egcd(t).a.umod(t)};i.prototype.isEven=function e(){return(this.words[0]&1)===0};i.prototype.isOdd=function e(){return(this.words[0]&1)===1};i.prototype.andln=function e(t){return this.words[0]&t};i.prototype.bincn=function e(t){r(typeof t==="number");var n=t%26;var i=(t-n)/26;var s=1<<n;if(this.length<=i){this._expand(i+1);this.words[i]|=s;return this}var f=s;for(var a=i;f!==0&&a<this.length;a++){var o=this.words[a]|0;o+=f;f=o>>>26;o&=67108863;this.words[a]=o}if(f!==0){this.words[a]=f;this.length++}return this};i.prototype.isZero=function e(){return this.length===1&&this.words[0]===0};i.prototype.cmpn=function e(t){var n=t<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this._strip();var i;if(this.length>1){i=1}else{if(n){t=-t}r(t<=67108863,"Number is too big");var s=this.words[0]|0;i=s===t?0:s<t?-1:1}if(this.negative!==0)return-i|0;return i};i.prototype.cmp=function e(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);if(this.negative!==0)return-r|0;return r};i.prototype.ucmp=function e(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;var r=0;for(var n=this.length-1;n>=0;n--){var i=this.words[n]|0;var s=t.words[n]|0;if(i===s)continue;if(i<s){r=-1}else if(i>s){r=1}break}return r};i.prototype.gtn=function e(t){return this.cmpn(t)===1};i.prototype.gt=function e(t){return this.cmp(t)===1};i.prototype.gten=function e(t){return this.cmpn(t)>=0};i.prototype.gte=function e(t){return this.cmp(t)>=0};i.prototype.ltn=function e(t){return this.cmpn(t)===-1};i.prototype.lt=function e(t){return this.cmp(t)===-1};i.prototype.lten=function e(t){return this.cmpn(t)<=0};i.prototype.lte=function e(t){return this.cmp(t)<=0};i.prototype.eqn=function e(t){return this.cmpn(t)===0};i.prototype.eq=function e(t){return this.cmp(t)===0};i.red=function e(t){return new T(t)};i.prototype.toRed=function e(t){r(!this.red,"Already a number in reduction context");r(this.negative===0,"red works only with positives");return t.convertTo(this)._forceRed(t)};i.prototype.fromRed=function e(){r(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};i.prototype._forceRed=function e(t){this.red=t;return this};i.prototype.forceRed=function e(t){r(!this.red,"Already a number in reduction context");return this._forceRed(t)};i.prototype.redAdd=function e(t){r(this.red,"redAdd works only with red numbers");return this.red.add(this,t)};i.prototype.redIAdd=function e(t){r(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,t)};i.prototype.redSub=function e(t){r(this.red,"redSub works only with red numbers");return this.red.sub(this,t)};i.prototype.redISub=function e(t){r(this.red,"redISub works only with red numbers");return this.red.isub(this,t)};i.prototype.redShl=function e(t){r(this.red,"redShl works only with red numbers");return this.red.shl(this,t)};i.prototype.redMul=function e(t){r(this.red,"redMul works only with red numbers");this.red._verify2(this,t);return this.red.mul(this,t)};i.prototype.redIMul=function e(t){r(this.red,"redMul works only with red numbers");this.red._verify2(this,t);return this.red.imul(this,t)};i.prototype.redSqr=function e(){r(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};i.prototype.redISqr=function e(){r(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};i.prototype.redSqrt=function e(){r(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};i.prototype.redInvm=function e(){r(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};i.prototype.redNeg=function e(){r(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};i.prototype.redPow=function e(t){r(this.red&&!t.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function A(e,t){this.name=e;this.p=new i(t,16);this.n=this.p.bitLength();this.k=new i(1).iushln(this.n).isub(this.p);this.tmp=this._tmp()}A.prototype._tmp=function e(){var t=new i(null);t.words=new Array(Math.ceil(this.n/13));return t};A.prototype.ireduce=function e(t){var r=t;var n;do{this.split(r,this.tmp);r=this.imulK(r);r=r.iadd(this.tmp);n=r.bitLength()}while(n>this.n);var i=n<this.n?-1:r.ucmp(this.p);if(i===0){r.words[0]=0;r.length=1}else if(i>0){r.isub(this.p)}else{if(r.strip!==undefined){r.strip()}else{r._strip()}}return r};A.prototype.split=function e(t,r){t.iushrn(this.n,0,r)};A.prototype.imulK=function e(t){return t.imul(this.k)};function $(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n($,A);$.prototype.split=function e(t,r){var n=4194303;var i=Math.min(t.length,9);for(var s=0;s<i;s++){r.words[s]=t.words[s]}r.length=i;if(t.length<=9){t.words[0]=0;t.length=1;return}var f=t.words[9];r.words[r.length++]=f&n;for(s=10;s<t.length;s++){var a=t.words[s]|0;t.words[s-10]=(a&n)<<4|f>>>22;f=a}f>>>=22;t.words[s-10]=f;if(f===0&&t.length>10){t.length-=10}else{t.length-=9}};$.prototype.imulK=function e(t){t.words[t.length]=0;t.words[t.length+1]=0;t.length+=2;var r=0;for(var n=0;n<t.length;n++){var i=t.words[n]|0;r+=i*977;t.words[n]=r&67108863;r=i*64+(r/67108864|0)}if(t.words[t.length-1]===0){t.length--;if(t.words[t.length-1]===0){t.length--}}return t};function _(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(_,A);function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(E,A);function S(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(S,A);S.prototype.imulK=function e(t){var r=0;for(var n=0;n<t.length;n++){var i=(t.words[n]|0)*19+r;var s=i&67108863;i>>>=26;t.words[n]=s;r=i}if(r!==0){t.words[t.length++]=r}return t};i._prime=function e(t){if(w[t])return w[t];var e;if(t==="k256"){e=new $}else if(t==="p224"){e=new _}else if(t==="p192"){e=new E}else if(t==="p25519"){e=new S}else{throw new Error("Unknown prime "+t)}w[t]=e;return e};function T(e){if(typeof e==="string"){var t=i._prime(e);this.m=t.p;this.prime=t}else{r(e.gtn(1),"modulus must be greater than 1");this.m=e;this.prime=null}}T.prototype._verify1=function e(t){r(t.negative===0,"red works only with positives");r(t.red,"red works only with red numbers")};T.prototype._verify2=function e(t,n){r((t.negative|n.negative)===0,"red works only with positives");r(t.red&&t.red===n.red,"red works only with red numbers")};T.prototype.imod=function e(t){if(this.prime)return this.prime.ireduce(t)._forceRed(this);c(t,t.umod(this.m)._forceRed(this));return t};T.prototype.neg=function e(t){if(t.isZero()){return t.clone()}return this.m.sub(t)._forceRed(this)};T.prototype.add=function e(t,r){this._verify2(t,r);var n=t.add(r);if(n.cmp(this.m)>=0){n.isub(this.m)}return n._forceRed(this)};T.prototype.iadd=function e(t,r){this._verify2(t,r);var n=t.iadd(r);if(n.cmp(this.m)>=0){n.isub(this.m)}return n};T.prototype.sub=function e(t,r){this._verify2(t,r);var n=t.sub(r);if(n.cmpn(0)<0){n.iadd(this.m)}return n._forceRed(this)};T.prototype.isub=function e(t,r){this._verify2(t,r);var n=t.isub(r);if(n.cmpn(0)<0){n.iadd(this.m)}return n};T.prototype.shl=function e(t,r){this._verify1(t);return this.imod(t.ushln(r))};T.prototype.imul=function e(t,r){this._verify2(t,r);return this.imod(t.imul(r))};T.prototype.mul=function e(t,r){this._verify2(t,r);return this.imod(t.mul(r))};T.prototype.isqr=function e(t){return this.imul(t,t.clone())};T.prototype.sqr=function e(t){return this.mul(t,t)};T.prototype.sqrt=function e(t){if(t.isZero())return t.clone();var n=this.m.andln(3);r(n%2===1);if(n===3){var s=this.m.add(new i(1)).iushrn(2);return this.pow(t,s)}var f=this.m.subn(1);var a=0;while(!f.isZero()&&f.andln(1)===0){a++;f.iushrn(1)}r(!f.isZero());var o=new i(1).toRed(this);var c=o.redNeg();var u=this.m.subn(1).iushrn(1);var l=this.m.bitLength();l=new i(2*l*l).toRed(this);while(this.pow(l,u).cmp(c)!==0){l.redIAdd(c)}var h=this.pow(l,f);var d=this.pow(t,f.addn(1).iushrn(1));var p=this.pow(t,f);var y=a;while(p.cmp(o)!==0){var b=p;for(var m=0;b.cmp(o)!==0;m++){b=b.redSqr()}r(m<y);var g=this.pow(h,new i(1).iushln(y-m-1));d=d.redMul(g);h=g.redSqr();p=p.redMul(h);y=m}return d};T.prototype.invm=function e(t){var r=t._invmp(this.m);if(r.negative!==0){r.negative=0;return this.imod(r).redNeg()}else{return this.imod(r)}};T.prototype.pow=function e(t,r){if(r.isZero())return new i(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var n=4;var s=new Array(1<<n);s[0]=new i(1).toRed(this);s[1]=t;for(var f=2;f<s.length;f++){s[f]=this.mul(s[f-1],t)}var a=s[0];var o=0;var c=0;var u=r.bitLength()%26;if(u===0){u=26}for(f=r.length-1;f>=0;f--){var l=r.words[f];for(var h=u-1;h>=0;h--){var d=l>>h&1;if(a!==s[0]){a=this.sqr(a)}if(d===0&&o===0){c=0;continue}o<<=1;o|=d;c++;if(c!==n&&(f!==0||h!==0))continue;a=this.mul(a,s[o]);c=0;o=0}u=26}return a};T.prototype.convertTo=function e(t){var r=t.umod(this.m);return r===t?r.clone():r};T.prototype.convertFrom=function e(t){var r=t.clone();r.red=null;return r};i.mont=function e(t){return new C(t)};function C(e){T.call(this,e);this.shift=this.m.bitLength();if(this.shift%26!==0){this.shift+=26-this.shift%26}this.r=new i(1).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}n(C,T);C.prototype.convertTo=function e(t){return this.imod(t.ushln(this.shift))};C.prototype.convertFrom=function e(t){var r=this.imod(t.mul(this.rinv));r.red=null;return r};C.prototype.imul=function e(t,r){if(t.isZero()||r.isZero()){t.words[0]=0;t.length=1;return t}var n=t.imul(r);var i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var s=n.isub(i).iushrn(this.shift);var f=s;if(s.cmp(this.m)>=0){f=s.isub(this.m)}else if(s.cmpn(0)<0){f=s.iadd(this.m)}return f._forceRed(this)};C.prototype.mul=function e(t,r){if(t.isZero()||r.isZero())return new i(0)._forceRed(this);var n=t.mul(r);var s=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var f=n.isub(s).iushrn(this.shift);var a=f;if(f.cmp(this.m)>=0){a=f.isub(this.m)}else if(f.cmpn(0)<0){a=f.iadd(this.m)}return a._forceRed(this)};C.prototype.invm=function e(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(e,commonjsGlobal)}));const version$p="logger/5.7.0";let _permanentCensorErrors=false;let _censorErrors=false;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels["default"];let _globalLogger=null;function _checkNormalize(){try{const e=[];["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test".normalize(t)!=="test"){throw new Error("bad normalize")}}catch(r){e.push(t)}}));if(e.length){throw new Error("missing "+e.join(", "))}if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769)){throw new Error("broken implementation")}}catch(e){return e.message}return null}const _normalizeError=_checkNormalize();var LogLevel;(function(e){e["DEBUG"]="DEBUG";e["INFO"]="INFO";e["WARNING"]="WARNING";e["ERROR"]="ERROR";e["OFF"]="OFF"})(LogLevel||(LogLevel={}));var ErrorCode;(function(e){e["UNKNOWN_ERROR"]="UNKNOWN_ERROR";e["NOT_IMPLEMENTED"]="NOT_IMPLEMENTED";e["UNSUPPORTED_OPERATION"]="UNSUPPORTED_OPERATION";e["NETWORK_ERROR"]="NETWORK_ERROR";e["SERVER_ERROR"]="SERVER_ERROR";e["TIMEOUT"]="TIMEOUT";e["BUFFER_OVERRUN"]="BUFFER_OVERRUN";e["NUMERIC_FAULT"]="NUMERIC_FAULT";e["MISSING_NEW"]="MISSING_NEW";e["INVALID_ARGUMENT"]="INVALID_ARGUMENT";e["MISSING_ARGUMENT"]="MISSING_ARGUMENT";e["UNEXPECTED_ARGUMENT"]="UNEXPECTED_ARGUMENT";e["CALL_EXCEPTION"]="CALL_EXCEPTION";e["INSUFFICIENT_FUNDS"]="INSUFFICIENT_FUNDS";e["NONCE_EXPIRED"]="NONCE_EXPIRED";e["REPLACEMENT_UNDERPRICED"]="REPLACEMENT_UNDERPRICED";e["UNPREDICTABLE_GAS_LIMIT"]="UNPREDICTABLE_GAS_LIMIT";e["TRANSACTION_REPLACED"]="TRANSACTION_REPLACED";e["ACTION_REJECTED"]="ACTION_REJECTED"})(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger{constructor(e){Object.defineProperty(this,"version",{enumerable:true,value:e,writable:false})}_log(e,t){const r=e.toLowerCase();if(LogLevels[r]==null){this.throwArgumentError("invalid log level name","logLevel",e)}if(_logLevel>LogLevels[r]){return}console.log.apply(console,t)}debug(...e){this._log(Logger.levels.DEBUG,e)}info(...e){this._log(Logger.levels.INFO,e)}warn(...e){this._log(Logger.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors){return this.makeError("censored error",t,{})}if(!t){t=Logger.errors.UNKNOWN_ERROR}if(!r){r={}}const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++){r+=HEX[t[e]>>4];r+=HEX[t[e]&15]}n.push(e+"=Uint8Array(0x"+r+")")}else{n.push(e+"="+JSON.stringify(t))}}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}}));n.push(`code=${t}`);n.push(`version=${this.version}`);const i=e;let s="";switch(t){case ErrorCode.NUMERIC_FAULT:{s="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":s+="-"+t;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:s=t;break}if(s){e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"}if(n.length){e+=" ("+n.join(", ")+")"}const f=new Error(e);f.reason=i;f.code=t;Object.keys(r).forEach((function(e){f[e]=r[e]}));return f}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){if(!!e){return}this.throwError(t,r,n)}assertArgument(e,t,r,n){if(!!e){return}this.throwArgumentError(t,r,n)}checkNormalize(e){if(_normalizeError){this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}}checkSafeUint53(e,t){if(typeof e!=="number"){return}if(t==null){t="value not safe"}if(e<0||e>=9007199254740991){this.throwError(t,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e})}if(e%1){this.throwError(t,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e})}}checkArgumentCount(e,t,r){if(r){r=": "+r}else{r=""}if(e<t){this.throwError("missing argument"+r,Logger.errors.MISSING_ARGUMENT,{count:e,expectedCount:t})}if(e>t){this.throwError("too many arguments"+r,Logger.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}}checkNew(e,t){if(e===Object||e==null){this.throwError("missing new",Logger.errors.MISSING_NEW,{name:t.name})}}checkAbstract(e,t){if(e===t){this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"})}else if(e===Object||e==null){this.throwError("missing new",Logger.errors.MISSING_NEW,{name:t.name})}}static globalLogger(){if(!_globalLogger){_globalLogger=new Logger(version$p)}return _globalLogger}static setCensorship(e,t){if(!e&&t){this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}if(_permanentCensorErrors){if(!e){return}this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!e;_permanentCensorErrors=!!t}static setLogLevel(e){const t=LogLevels[e.toLowerCase()];if(t==null){Logger.globalLogger().warn("invalid log level - "+e);return}_logLevel=t}static from(e){return new Logger(e)}}Logger.errors=ErrorCode;Logger.levels=LogLevel;const version$o="bytes/5.7.0";const logger$J=new Logger(version$o);function isHexable(e){return!!e.toHexString}function addSlice(e){if(e.slice){return e}e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(e,t)))};return e}function isBytesLike(e){return isHexString(e)&&!(e.length%2)||isBytes(e)}function isInteger(e){return typeof e==="number"&&e==e&&e%1===0}function isBytes(e){if(e==null){return false}if(e.constructor===Uint8Array){return true}if(typeof e==="string"){return false}if(!isInteger(e.length)||e.length<0){return false}for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger(r)||r<0||r>=256){return false}}return true}function arrayify$1(e,t){if(!t){t={}}if(typeof e==="number"){logger$J.checkSafeUint53(e,"invalid arrayify value");const t=[];while(e){t.unshift(e&255);e=parseInt(String(e/256))}if(t.length===0){t.push(0)}return addSlice(new Uint8Array(t))}if(t.allowMissingPrefix&&typeof e==="string"&&e.substring(0,2)!=="0x"){e="0x"+e}if(isHexable(e)){e=e.toHexString()}if(isHexString(e)){let r=e.substring(2);if(r.length%2){if(t.hexPad==="left"){r="0"+r}else if(t.hexPad==="right"){r+="0"}else{logger$J.throwArgumentError("hex data is odd-length","value",e)}}const n=[];for(let e=0;e<r.length;e+=2){n.push(parseInt(r.substring(e,e+2),16))}return addSlice(new Uint8Array(n))}if(isBytes(e)){return addSlice(new Uint8Array(e))}return logger$J.throwArgumentError("invalid arrayify value","value",e)}function concat$1(e){const t=e.map((e=>arrayify$1(e)));const r=t.reduce(((e,t)=>e+t.length),0);const n=new Uint8Array(r);t.reduce(((e,t)=>{n.set(t,e);return e+t.length}),0);return addSlice(n)}function stripZeros(e){let t=arrayify$1(e);if(t.length===0){return t}let r=0;while(r<t.length&&t[r]===0){r++}if(r){t=t.slice(r)}return t}function zeroPad(e,t){e=arrayify$1(e);if(e.length>t){logger$J.throwArgumentError("value out of range","value",arguments[0])}const r=new Uint8Array(t);r.set(e,t-e.length);return addSlice(r)}function isHexString(e,t){if(typeof e!=="string"||!e.match(/^0x[0-9A-Fa-f]*$/)){return false}if(t&&e.length!==2+2*t){return false}return true}const HexCharacters="0123456789abcdef";function hexlify(e,t){if(!t){t={}}if(typeof e==="number"){logger$J.checkSafeUint53(e,"invalid hexlify value");let t="";while(e){t=HexCharacters[e&15]+t;e=Math.floor(e/16)}if(t.length){if(t.length%2){t="0"+t}return"0x"+t}return"0x00"}if(typeof e==="bigint"){e=e.toString(16);if(e.length%2){return"0x0"+e}return"0x"+e}if(t.allowMissingPrefix&&typeof e==="string"&&e.substring(0,2)!=="0x"){e="0x"+e}if(isHexable(e)){return e.toHexString()}if(isHexString(e)){if(e.length%2){if(t.hexPad==="left"){e="0x0"+e.substring(2)}else if(t.hexPad==="right"){e+="0"}else{logger$J.throwArgumentError("hex data is odd-length","value",e)}}return e.toLowerCase()}if(isBytes(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=HexCharacters[(n&240)>>4]+HexCharacters[n&15]}return t}return logger$J.throwArgumentError("invalid hexlify value","value",e)}function hexDataLength(e){if(typeof e!=="string"){e=hexlify(e)}else if(!isHexString(e)||e.length%2){return null}return(e.length-2)/2}function hexDataSlice(e,t,r){if(typeof e!=="string"){e=hexlify(e)}else if(!isHexString(e)||e.length%2){logger$J.throwArgumentError("invalid hexData","value",e)}t=2+2*t;if(r!=null){return"0x"+e.substring(t,2+2*r)}return"0x"+e.substring(t)}function hexConcat(e){let t="0x";e.forEach((e=>{t+=hexlify(e).substring(2)}));return t}function hexValue(e){const t=hexStripZeros(hexlify(e,{hexPad:"left"}));if(t==="0x"){return"0x0"}return t}function hexStripZeros(e){if(typeof e!=="string"){e=hexlify(e)}if(!isHexString(e)){logger$J.throwArgumentError("invalid hex string","value",e)}e=e.substring(2);let t=0;while(t<e.length&&e[t]==="0"){t++}return"0x"+e.substring(t)}function hexZeroPad(e,t){if(typeof e!=="string"){e=hexlify(e)}else if(!isHexString(e)){logger$J.throwArgumentError("invalid hex string","value",e)}if(e.length>2*t+2){logger$J.throwArgumentError("value out of range","value",arguments[1])}while(e.length<2*t+2){e="0x0"+e.substring(2)}return e}function splitSignature(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike(e)){let r=arrayify$1(e);if(r.length===64){t.v=27+(r[32]>>7);r[32]&=127;t.r=hexlify(r.slice(0,32));t.s=hexlify(r.slice(32,64))}else if(r.length===65){t.r=hexlify(r.slice(0,32));t.s=hexlify(r.slice(32,64));t.v=r[64]}else{logger$J.throwArgumentError("invalid signature string","signature",e)}if(t.v<27){if(t.v===0||t.v===1){t.v+=27}else{logger$J.throwArgumentError("signature invalid v byte","signature",e)}}t.recoveryParam=1-t.v%2;if(t.recoveryParam){r[32]|=128}t._vs=hexlify(r.slice(32,64))}else{t.r=e.r;t.s=e.s;t.v=e.v;t.recoveryParam=e.recoveryParam;t._vs=e._vs;if(t._vs!=null){const r=zeroPad(arrayify$1(t._vs),32);t._vs=hexlify(r);const n=r[0]>=128?1:0;if(t.recoveryParam==null){t.recoveryParam=n}else if(t.recoveryParam!==n){logger$J.throwArgumentError("signature recoveryParam mismatch _vs","signature",e)}r[0]&=127;const i=hexlify(r);if(t.s==null){t.s=i}else if(t.s!==i){logger$J.throwArgumentError("signature v mismatch _vs","signature",e)}}if(t.recoveryParam==null){if(t.v==null){logger$J.throwArgumentError("signature missing v and recoveryParam","signature",e)}else if(t.v===0||t.v===1){t.recoveryParam=t.v}else{t.recoveryParam=1-t.v%2}}else{if(t.v==null){t.v=27+t.recoveryParam}else{const r=t.v===0||t.v===1?t.v:1-t.v%2;if(t.recoveryParam!==r){logger$J.throwArgumentError("signature recoveryParam mismatch v","signature",e)}}}if(t.r==null||!isHexString(t.r)){logger$J.throwArgumentError("signature missing or invalid r","signature",e)}else{t.r=hexZeroPad(t.r,32)}if(t.s==null||!isHexString(t.s)){logger$J.throwArgumentError("signature missing or invalid s","signature",e)}else{t.s=hexZeroPad(t.s,32)}const r=arrayify$1(t.s);if(r[0]>=128){logger$J.throwArgumentError("signature s out of range","signature",e)}if(t.recoveryParam){r[0]|=128}const n=hexlify(r);if(t._vs){if(!isHexString(t._vs)){logger$J.throwArgumentError("signature invalid _vs","signature",e)}t._vs=hexZeroPad(t._vs,32)}if(t._vs==null){t._vs=n}else if(t._vs!==n){logger$J.throwArgumentError("signature _vs mismatch v and s","signature",e)}}t.yParityAndS=t._vs;t.compact=t.r+t.yParityAndS.substring(2);return t}function joinSignature(e){e=splitSignature(e);return hexlify(concat$1([e.r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}const version$n="bignumber/5.7.0";var BN=bn$1.BN;const logger$I=new Logger(version$n);const _constructorGuard$4={};const MAX_SAFE=9007199254740991;function isBigNumberish(e){return e!=null&&(BigNumber.isBigNumber(e)||typeof e==="number"&&e%1===0||typeof e==="string"&&!!e.match(/^-?[0-9]+$/)||isHexString(e)||typeof e==="bigint"||isBytes(e))}let _warnedToStringRadix=false;class BigNumber{constructor(e,t){if(e!==_constructorGuard$4){logger$I.throwError("cannot call constructor directly; use BigNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"})}this._hex=t;this._isBigNumber=true;Object.freeze(this)}fromTwos(e){return toBigNumber(toBN(this).fromTwos(e))}toTwos(e){return toBigNumber(toBN(this).toTwos(e))}abs(){if(this._hex[0]==="-"){return BigNumber.from(this._hex.substring(1))}return this}add(e){return toBigNumber(toBN(this).add(toBN(e)))}sub(e){return toBigNumber(toBN(this).sub(toBN(e)))}div(e){const t=BigNumber.from(e);if(t.isZero()){throwFault$1("division-by-zero","div")}return toBigNumber(toBN(this).div(toBN(e)))}mul(e){return toBigNumber(toBN(this).mul(toBN(e)))}mod(e){const t=toBN(e);if(t.isNeg()){throwFault$1("division-by-zero","mod")}return toBigNumber(toBN(this).umod(t))}pow(e){const t=toBN(e);if(t.isNeg()){throwFault$1("negative-power","pow")}return toBigNumber(toBN(this).pow(t))}and(e){const t=toBN(e);if(this.isNegative()||t.isNeg()){throwFault$1("unbound-bitwise-result","and")}return toBigNumber(toBN(this).and(t))}or(e){const t=toBN(e);if(this.isNegative()||t.isNeg()){throwFault$1("unbound-bitwise-result","or")}return toBigNumber(toBN(this).or(t))}xor(e){const t=toBN(e);if(this.isNegative()||t.isNeg()){throwFault$1("unbound-bitwise-result","xor")}return toBigNumber(toBN(this).xor(t))}mask(e){if(this.isNegative()||e<0){throwFault$1("negative-width","mask")}return toBigNumber(toBN(this).maskn(e))}shl(e){if(this.isNegative()||e<0){throwFault$1("negative-width","shl")}return toBigNumber(toBN(this).shln(e))}shr(e){if(this.isNegative()||e<0){throwFault$1("negative-width","shr")}return toBigNumber(toBN(this).shrn(e))}eq(e){return toBN(this).eq(toBN(e))}lt(e){return toBN(this).lt(toBN(e))}lte(e){return toBN(this).lte(toBN(e))}gt(e){return toBN(this).gt(toBN(e))}gte(e){return toBN(this).gte(toBN(e))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch(e){throwFault$1("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return logger$I.throwError("this platform does not support BigInt",Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){if(arguments.length>0){if(arguments[0]===10){if(!_warnedToStringRadix){_warnedToStringRadix=true;logger$I.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")}}else if(arguments[0]===16){logger$I.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger.errors.UNEXPECTED_ARGUMENT,{})}else{logger$I.throwError("BigNumber.toString does not accept parameters",Logger.errors.UNEXPECTED_ARGUMENT,{})}}return toBN(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof BigNumber){return e}if(typeof e==="string"){if(e.match(/^-?0x[0-9a-f]+$/i)){return new BigNumber(_constructorGuard$4,toHex$1(e))}if(e.match(/^-?[0-9]+$/)){return new BigNumber(_constructorGuard$4,toHex$1(new BN(e)))}return logger$I.throwArgumentError("invalid BigNumber string","value",e)}if(typeof e==="number"){if(e%1){throwFault$1("underflow","BigNumber.from",e)}if(e>=MAX_SAFE||e<=-MAX_SAFE){throwFault$1("overflow","BigNumber.from",e)}return BigNumber.from(String(e))}const t=e;if(typeof t==="bigint"){return BigNumber.from(t.toString())}if(isBytes(t)){return BigNumber.from(hexlify(t))}if(t){if(t.toHexString){const e=t.toHexString();if(typeof e==="string"){return BigNumber.from(e)}}else{let e=t._hex;if(e==null&&t.type==="BigNumber"){e=t.hex}if(typeof e==="string"){if(isHexString(e)||e[0]==="-"&&isHexString(e.substring(1))){return BigNumber.from(e)}}}}return logger$I.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function toHex$1(e){if(typeof e!=="string"){return toHex$1(e.toString(16))}if(e[0]==="-"){e=e.substring(1);if(e[0]==="-"){logger$I.throwArgumentError("invalid hex","value",e)}e=toHex$1(e);if(e==="0x00"){return e}return"-"+e}if(e.substring(0,2)!=="0x"){e="0x"+e}if(e==="0x"){return"0x00"}if(e.length%2){e="0x0"+e.substring(2)}while(e.length>4&&e.substring(0,4)==="0x00"){e="0x"+e.substring(4)}return e}function toBigNumber(e){return BigNumber.from(toHex$1(e))}function toBN(e){const t=BigNumber.from(e).toHexString();if(t[0]==="-"){return new BN("-"+t.substring(3),16)}return new BN(t.substring(2),16)}function throwFault$1(e,t,r){const n={fault:e,operation:t};if(r!=null){n.value=r}return logger$I.throwError(e,Logger.errors.NUMERIC_FAULT,n)}function _base36To16(e){return new BN(e,36).toString(16)}function _base16To36(e){return new BN(e,16).toString(36)}const logger$H=new Logger(version$n);const _constructorGuard$3={};const Zero$2=BigNumber.from(0);const NegativeOne$2=BigNumber.from(-1);function throwFault(e,t,r,n){const i={fault:t,operation:r};if(n!==undefined){i.value=n}return logger$H.throwError(e,Logger.errors.NUMERIC_FAULT,i)}let zeros="0";while(zeros.length<256){zeros+=zeros}function getMultiplier(e){if(typeof e!=="number"){try{e=BigNumber.from(e).toNumber()}catch(e){}}if(typeof e==="number"&&e>=0&&e<=256&&!(e%1)){return"1"+zeros.substring(0,e)}return logger$H.throwArgumentError("invalid decimal size","decimals",e)}function formatFixed(e,t){if(t==null){t=0}const r=getMultiplier(t);e=BigNumber.from(e);const n=e.lt(Zero$2);if(n){e=e.mul(NegativeOne$2)}let i=e.mod(r).toString();while(i.length<r.length-1){i="0"+i}i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=e.div(r).toString();if(r.length===1){e=s}else{e=s+"."+i}if(n){e="-"+e}return e}function parseFixed(e,t){if(t==null){t=0}const r=getMultiplier(t);if(typeof e!=="string"||!e.match(/^-?[0-9.]+$/)){logger$H.throwArgumentError("invalid decimal value","value",e)}const n=e.substring(0,1)==="-";if(n){e=e.substring(1)}if(e==="."){logger$H.throwArgumentError("missing value","value",e)}const i=e.split(".");if(i.length>2){logger$H.throwArgumentError("too many decimal points","value",e)}let s=i[0],f=i[1];if(!s){s="0"}if(!f){f="0"}while(f[f.length-1]==="0"){f=f.substring(0,f.length-1)}if(f.length>r.length-1){throwFault("fractional component exceeds decimals","underflow","parseFixed")}if(f===""){f="0"}while(f.length<r.length-1){f+="0"}const a=BigNumber.from(s);const o=BigNumber.from(f);let c=a.mul(r).add(o);if(n){c=c.mul(NegativeOne$2)}return c}class FixedFormat{constructor(e,t,r,n){if(e!==_constructorGuard$3){logger$H.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"})}this.signed=t;this.width=r;this.decimals=n;this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(n);this._multiplier=getMultiplier(n);Object.freeze(this)}static from(e){if(e instanceof FixedFormat){return e}if(typeof e==="number"){e=`fixed128x${e}`}let t=true;let r=128;let n=18;if(typeof e==="string"){if(e==="fixed");else if(e==="ufixed"){t=false}else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);if(!i){logger$H.throwArgumentError("invalid fixed format","format",e)}t=i[1]!=="u";r=parseInt(i[2]);n=parseInt(i[3])}}else if(e){const i=(t,r,n)=>{if(e[t]==null){return n}if(typeof e[t]!==r){logger$H.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t])}return e[t]};t=i("signed","boolean",t);r=i("width","number",r);n=i("decimals","number",n)}if(r%8){logger$H.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r)}if(n>80){logger$H.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n)}return new FixedFormat(_constructorGuard$3,t,r,n)}}class FixedNumber{constructor(e,t,r,n){if(e!==_constructorGuard$3){logger$H.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"})}this.format=n;this._hex=t;this._value=r;this._isFixedNumber=true;Object.freeze(this)}_checkFormat(e){if(this.format.name!==e.format.name){logger$H.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}}addUnsafe(e){this._checkFormat(e);const t=parseFixed(this._value,this.format.decimals);const r=parseFixed(e._value,e.format.decimals);return FixedNumber.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=parseFixed(this._value,this.format.decimals);const r=parseFixed(e._value,e.format.decimals);return FixedNumber.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=parseFixed(this._value,this.format.decimals);const r=parseFixed(e._value,e.format.decimals);return FixedNumber.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=parseFixed(this._value,this.format.decimals);const r=parseFixed(e._value,e.format.decimals);return FixedNumber.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");if(e.length===1){e.push("0")}let t=FixedNumber.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);if(this.isNegative()&&r){t=t.subUnsafe(ONE.toFormat(t.format))}return t}ceiling(){const e=this.toString().split(".");if(e.length===1){e.push("0")}let t=FixedNumber.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);if(!this.isNegative()&&r){t=t.addUnsafe(ONE.toFormat(t.format))}return t}round(e){if(e==null){e=0}const t=this.toString().split(".");if(t.length===1){t.push("0")}if(e<0||e>80||e%1){logger$H.throwArgumentError("invalid decimal count","decimals",e)}if(t[1].length<=e){return this}const r=FixedNumber.from("1"+zeros.substring(0,e),this.format);const n=BUMP.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null){return this._hex}if(e%8){logger$H.throwArgumentError("invalid byte width","width",e)}const t=BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return hexZeroPad(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return FixedNumber.fromString(this._value,e)}static fromValue(e,t,r){if(r==null&&t!=null&&!isBigNumberish(t)){r=t;t=null}if(t==null){t=0}if(r==null){r="fixed"}return FixedNumber.fromString(formatFixed(e,t),FixedFormat.from(r))}static fromString(e,t){if(t==null){t="fixed"}const r=FixedFormat.from(t);const n=parseFixed(e,r.decimals);if(!r.signed&&n.lt(Zero$2)){throwFault("unsigned value cannot be negative","overflow","value",e)}let i=null;if(r.signed){i=n.toTwos(r.width).toHexString()}else{i=n.toHexString();i=hexZeroPad(i,r.width/8)}const s=formatFixed(n,r.decimals);return new FixedNumber(_constructorGuard$3,i,s,r)}static fromBytes(e,t){if(t==null){t="fixed"}const r=FixedFormat.from(t);if(arrayify$1(e).length>r.width/8){throw new Error("overflow")}let n=BigNumber.from(e);if(r.signed){n=n.fromTwos(r.width)}const i=n.toTwos((r.signed?0:1)+r.width).toHexString();const s=formatFixed(n,r.decimals);return new FixedNumber(_constructorGuard$3,i,s,r)}static from(e,t){if(typeof e==="string"){return FixedNumber.fromString(e,t)}if(isBytes(e)){return FixedNumber.fromBytes(e,t)}try{return FixedNumber.fromValue(e,0,t)}catch(e){if(e.code!==Logger.errors.INVALID_ARGUMENT){throw e}}return logger$H.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const ONE=FixedNumber.from(1);const BUMP=FixedNumber.from("0.5");const version$m="properties/5.7.0";var __awaiter$f=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$G=new Logger(version$m);function defineReadOnly(e,t,r){Object.defineProperty(e,t,{enumerable:true,value:r,writable:false})}function getStatic(e,t){for(let r=0;r<32;r++){if(e[t]){return e[t]}if(!e.prototype||typeof e.prototype!=="object"){break}e=Object.getPrototypeOf(e.prototype).constructor}return null}function resolveProperties(e){return __awaiter$f(this,void 0,void 0,(function*(){const t=Object.keys(e).map((t=>{const r=e[t];return Promise.resolve(r).then((e=>({key:t,value:e})))}));const r=yield Promise.all(t);return r.reduce(((e,t)=>{e[t.key]=t.value;return e}),{})}))}function checkProperties(e,t){if(!e||typeof e!=="object"){logger$G.throwArgumentError("invalid object","object",e)}Object.keys(e).forEach((r=>{if(!t[r]){logger$G.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)}}))}function shallowCopy(e){const t={};for(const r in e){t[r]=e[r]}return t}const opaque={bigint:true,boolean:true,function:true,number:true,string:true};function _isFrozen(e){if(e===undefined||e===null||opaque[typeof e]){return true}if(Array.isArray(e)||typeof e==="object"){if(!Object.isFrozen(e)){return false}const t=Object.keys(e);for(let r=0;r<t.length;r++){let n=null;try{n=e[t[r]]}catch(e){continue}if(!_isFrozen(n)){return false}}return true}return logger$G.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function _deepCopy(e){if(_isFrozen(e)){return e}if(Array.isArray(e)){return Object.freeze(e.map((e=>deepCopy(e))))}if(typeof e==="object"){const t={};for(const r in e){const n=e[r];if(n===undefined){continue}defineReadOnly(t,r,deepCopy(n))}return t}return logger$G.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function deepCopy(e){return _deepCopy(e)}class Description{constructor(e){for(const t in e){this[t]=deepCopy(e[t])}}}const version$l="abi/5.7.0";const logger$F=new Logger(version$l);const _constructorGuard$2={};let ModifiersBytes={calldata:true,memory:true,storage:true};let ModifiersNest={calldata:true,memory:true};function checkModifier(e,t){if(e==="bytes"||e==="string"){if(ModifiersBytes[t]){return true}}else if(e==="address"){if(t==="payable"){return true}}else if(e.indexOf("[")>=0||e==="tuple"){if(ModifiersNest[t]){return true}}if(ModifiersBytes[t]||t==="payable"){logger$F.throwArgumentError("invalid modifier","name",t)}return false}function parseParamType(e,t){let r=e;function n(t){logger$F.throwArgumentError(`unexpected character at position ${t}`,"param",e)}e=e.replace(/\s/g," ");function i(e){let r={type:"",name:"",parent:e,state:{allowType:true}};if(t){r.indexed=false}return r}let s={type:"",name:"",state:{allowType:true}};let f=s;for(let r=0;r<e.length;r++){let s=e[r];switch(s){case"(":if(f.state.allowType&&f.type===""){f.type="tuple"}else if(!f.state.allowParams){n(r)}f.state.allowType=false;f.type=verifyType(f.type);f.components=[i(f)];f=f.components[0];break;case")":delete f.state;if(f.name==="indexed"){if(!t){n(r)}f.indexed=true;f.name=""}if(checkModifier(f.type,f.name)){f.name=""}f.type=verifyType(f.type);let e=f;f=f.parent;if(!f){n(r)}delete e.parent;f.state.allowParams=false;f.state.allowName=true;f.state.allowArray=true;break;case",":delete f.state;if(f.name==="indexed"){if(!t){n(r)}f.indexed=true;f.name=""}if(checkModifier(f.type,f.name)){f.name=""}f.type=verifyType(f.type);let a=i(f.parent);f.parent.components.push(a);delete f.parent;f=a;break;case" ":if(f.state.allowType){if(f.type!==""){f.type=verifyType(f.type);delete f.state.allowType;f.state.allowName=true;f.state.allowParams=true}}if(f.state.allowName){if(f.name!==""){if(f.name==="indexed"){if(!t){n(r)}if(f.indexed){n(r)}f.indexed=true;f.name=""}else if(checkModifier(f.type,f.name)){f.name=""}else{f.state.allowName=false}}}break;case"[":if(!f.state.allowArray){n(r)}f.type+=s;f.state.allowArray=false;f.state.allowName=false;f.state.readArray=true;break;case"]":if(!f.state.readArray){n(r)}f.type+=s;f.state.readArray=false;f.state.allowArray=true;f.state.allowName=true;break;default:if(f.state.allowType){f.type+=s;f.state.allowParams=true;f.state.allowArray=true}else if(f.state.allowName){f.name+=s;delete f.state.allowArray}else if(f.state.readArray){f.type+=s}else{n(r)}}}if(f.parent){logger$F.throwArgumentError("unexpected eof","param",e)}delete s.state;if(f.name==="indexed"){if(!t){n(r.length-7)}if(f.indexed){n(r.length-7)}f.indexed=true;f.name=""}else if(checkModifier(f.type,f.name)){f.name=""}s.type=verifyType(s.type);return s}function populate(e,t){for(let r in t){defineReadOnly(e,r,t[r])}}const FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"});const paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(e,t){if(e!==_constructorGuard$2){logger$F.throwError("use fromString",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"})}populate(this,t);let r=this.type.match(paramTypeArray);if(r){populate(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:ParamType.fromObject({type:r[1],components:this.components}),baseType:"array"})}else{populate(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type})}this._isParamType=true;Object.freeze(this)}format(e){if(!e){e=FormatTypes.sighash}if(!FormatTypes[e]){logger$F.throwArgumentError("invalid format type","format",e)}if(e===FormatTypes.json){let t={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||undefined};if(typeof this.indexed==="boolean"){t.indexed=this.indexed}if(this.components){t.components=this.components.map((t=>JSON.parse(t.format(e))))}return JSON.stringify(t)}let t="";if(this.baseType==="array"){t+=this.arrayChildren.format(e);t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"}else{if(this.baseType==="tuple"){if(e!==FormatTypes.sighash){t+=this.type}t+="("+this.components.map((t=>t.format(e))).join(e===FormatTypes.full?", ":",")+")"}else{t+=this.type}}if(e!==FormatTypes.sighash){if(this.indexed===true){t+=" indexed"}if(e===FormatTypes.full&&this.name){t+=" "+this.name}}return t}static from(e,t){if(typeof e==="string"){return ParamType.fromString(e,t)}return ParamType.fromObject(e)}static fromObject(e){if(ParamType.isParamType(e)){return e}return new ParamType(_constructorGuard$2,{name:e.name||null,type:verifyType(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(ParamType.fromObject):null})}static fromString(e,t){function r(e){return ParamType.fromObject({name:e.name,type:e.type,indexed:e.indexed,components:e.components})}return r(parseParamType(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function parseParams(e,t){return splitNesting(e).map((e=>ParamType.fromString(e,t)))}class Fragment{constructor(e,t){if(e!==_constructorGuard$2){logger$F.throwError("use a static from method",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"})}populate(this,t);this._isFragment=true;Object.freeze(this)}static from(e){if(Fragment.isFragment(e)){return e}if(typeof e==="string"){return Fragment.fromString(e)}return Fragment.fromObject(e)}static fromObject(e){if(Fragment.isFragment(e)){return e}switch(e.type){case"function":return FunctionFragment.fromObject(e);case"event":return EventFragment.fromObject(e);case"constructor":return ConstructorFragment.fromObject(e);case"error":return ErrorFragment.fromObject(e);case"fallback":case"receive":return null}return logger$F.throwArgumentError("invalid fragment object","value",e)}static fromString(e){e=e.replace(/\s/g," ");e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ");e=e.trim();if(e.split(" ")[0]==="event"){return EventFragment.fromString(e.substring(5).trim())}else if(e.split(" ")[0]==="function"){return FunctionFragment.fromString(e.substring(8).trim())}else if(e.split("(")[0].trim()==="constructor"){return ConstructorFragment.fromString(e.trim())}else if(e.split(" ")[0]==="error"){return ErrorFragment.fromString(e.substring(5).trim())}return logger$F.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class EventFragment extends Fragment{format(e){if(!e){e=FormatTypes.sighash}if(!FormatTypes[e]){logger$F.throwArgumentError("invalid format type","format",e)}if(e===FormatTypes.json){return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))})}let t="";if(e!==FormatTypes.sighash){t+="event "}t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===FormatTypes.full?", ":",")+") ";if(e!==FormatTypes.sighash){if(this.anonymous){t+="anonymous "}}return t.trim()}static from(e){if(typeof e==="string"){return EventFragment.fromString(e)}return EventFragment.fromObject(e)}static fromObject(e){if(EventFragment.isEventFragment(e)){return e}if(e.type!=="event"){logger$F.throwArgumentError("invalid event object","value",e)}const t={name:verifyIdentifier(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(_constructorGuard$2,t)}static fromString(e){let t=e.match(regexParen);if(!t){logger$F.throwArgumentError("invalid event string","value",e)}let r=false;t[3].split(" ").forEach((e=>{switch(e.trim()){case"anonymous":r=true;break;case"":break;default:logger$F.warn("unknown modifier: "+e)}}));return EventFragment.fromObject({name:t[1].trim(),anonymous:r,inputs:parseParams(t[2],true),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function parseGas(e,t){t.gas=null;let r=e.split("@");if(r.length!==1){if(r.length>2){logger$F.throwArgumentError("invalid human-readable ABI signature","value",e)}if(!r[1].match(/^[0-9]+$/)){logger$F.throwArgumentError("invalid human-readable ABI signature gas","value",e)}t.gas=BigNumber.from(r[1]);return r[0]}return e}function parseModifiers(e,t){t.constant=false;t.payable=false;t.stateMutability="nonpayable";e.split(" ").forEach((e=>{switch(e.trim()){case"constant":t.constant=true;break;case"payable":t.payable=true;t.stateMutability="payable";break;case"nonpayable":t.payable=false;t.stateMutability="nonpayable";break;case"pure":t.constant=true;t.stateMutability="pure";break;case"view":t.constant=true;t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function verifyState(e){let t={constant:false,payable:true,stateMutability:"payable"};if(e.stateMutability!=null){t.stateMutability=e.stateMutability;t.constant=t.stateMutability==="view"||t.stateMutability==="pure";if(e.constant!=null){if(!!e.constant!==t.constant){logger$F.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e)}}t.payable=t.stateMutability==="payable";if(e.payable!=null){if(!!e.payable!==t.payable){logger$F.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)}}}else if(e.payable!=null){t.payable=!!e.payable;if(e.constant==null&&!t.payable&&e.type!=="constructor"){logger$F.throwArgumentError("unable to determine stateMutability","value",e)}t.constant=!!e.constant;if(t.constant){t.stateMutability="view"}else{t.stateMutability=t.payable?"payable":"nonpayable"}if(t.payable&&t.constant){logger$F.throwArgumentError("cannot have constant payable function","value",e)}}else if(e.constant!=null){t.constant=!!e.constant;t.payable=!t.constant;t.stateMutability=t.constant?"view":"payable"}else if(e.type!=="constructor"){logger$F.throwArgumentError("unable to determine stateMutability","value",e)}return t}class ConstructorFragment extends Fragment{format(e){if(!e){e=FormatTypes.sighash}if(!FormatTypes[e]){logger$F.throwArgumentError("invalid format type","format",e)}if(e===FormatTypes.json){return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:undefined,payable:this.payable,gas:this.gas?this.gas.toNumber():undefined,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))})}if(e===FormatTypes.sighash){logger$F.throwError("cannot format a constructor for sighash",Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"})}let t="constructor("+this.inputs.map((t=>t.format(e))).join(e===FormatTypes.full?", ":",")+") ";if(this.stateMutability&&this.stateMutability!=="nonpayable"){t+=this.stateMutability+" "}return t.trim()}static from(e){if(typeof e==="string"){return ConstructorFragment.fromString(e)}return ConstructorFragment.fromObject(e)}static fromObject(e){if(ConstructorFragment.isConstructorFragment(e)){return e}if(e.type!=="constructor"){logger$F.throwArgumentError("invalid constructor object","value",e)}let t=verifyState(e);if(t.constant){logger$F.throwArgumentError("constructor cannot be constant","value",e)}const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(ParamType.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?BigNumber.from(e.gas):null};return new ConstructorFragment(_constructorGuard$2,r)}static fromString(e){let t={type:"constructor"};e=parseGas(e,t);let r=e.match(regexParen);if(!r||r[1].trim()!=="constructor"){logger$F.throwArgumentError("invalid constructor string","value",e)}t.inputs=parseParams(r[2].trim(),false);parseModifiers(r[3].trim(),t);return ConstructorFragment.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class FunctionFragment extends ConstructorFragment{format(e){if(!e){e=FormatTypes.sighash}if(!FormatTypes[e]){logger$F.throwArgumentError("invalid format type","format",e)}if(e===FormatTypes.json){return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:undefined,payable:this.payable,gas:this.gas?this.gas.toNumber():undefined,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))})}let t="";if(e!==FormatTypes.sighash){t+="function "}t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===FormatTypes.full?", ":",")+") ";if(e!==FormatTypes.sighash){if(this.stateMutability){if(this.stateMutability!=="nonpayable"){t+=this.stateMutability+" "}}else if(this.constant){t+="view "}if(this.outputs&&this.outputs.length){t+="returns ("+this.outputs.map((t=>t.format(e))).join(", ")+") "}if(this.gas!=null){t+="@"+this.gas.toString()+" "}}return t.trim()}static from(e){if(typeof e==="string"){return FunctionFragment.fromString(e)}return FunctionFragment.fromObject(e)}static fromObject(e){if(FunctionFragment.isFunctionFragment(e)){return e}if(e.type!=="function"){logger$F.throwArgumentError("invalid function object","value",e)}let t=verifyState(e);const r={type:e.type,name:verifyIdentifier(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(ParamType.fromObject):[],outputs:e.outputs?e.outputs.map(ParamType.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?BigNumber.from(e.gas):null};return new FunctionFragment(_constructorGuard$2,r)}static fromString(e){let t={type:"function"};e=parseGas(e,t);let r=e.split(" returns ");if(r.length>2){logger$F.throwArgumentError("invalid function string","value",e)}let n=r[0].match(regexParen);if(!n){logger$F.throwArgumentError("invalid function signature","value",e)}t.name=n[1].trim();if(t.name){verifyIdentifier(t.name)}t.inputs=parseParams(n[2],false);parseModifiers(n[3].trim(),t);if(r.length>1){let n=r[1].match(regexParen);if(n[1].trim()!=""||n[3].trim()!=""){logger$F.throwArgumentError("unexpected tokens","value",e)}t.outputs=parseParams(n[2],false)}else{t.outputs=[]}return FunctionFragment.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function checkForbidden(e){const t=e.format();if(t==="Error(string)"||t==="Panic(uint256)"){logger$F.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e)}return e}class ErrorFragment extends Fragment{format(e){if(!e){e=FormatTypes.sighash}if(!FormatTypes[e]){logger$F.throwArgumentError("invalid format type","format",e)}if(e===FormatTypes.json){return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))})}let t="";if(e!==FormatTypes.sighash){t+="error "}t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===FormatTypes.full?", ":",")+") ";return t.trim()}static from(e){if(typeof e==="string"){return ErrorFragment.fromString(e)}return ErrorFragment.fromObject(e)}static fromObject(e){if(ErrorFragment.isErrorFragment(e)){return e}if(e.type!=="error"){logger$F.throwArgumentError("invalid error object","value",e)}const t={type:e.type,name:verifyIdentifier(e.name),inputs:e.inputs?e.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(_constructorGuard$2,t))}static fromString(e){let t={type:"error"};let r=e.match(regexParen);if(!r){logger$F.throwArgumentError("invalid error signature","value",e)}t.name=r[1].trim();if(t.name){verifyIdentifier(t.name)}t.inputs=parseParams(r[2],false);return checkForbidden(ErrorFragment.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function verifyType(e){if(e.match(/^uint($|[^1-9])/)){e="uint256"+e.substring(4)}else if(e.match(/^int($|[^1-9])/)){e="int256"+e.substring(3)}return e}const regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier(e){if(!e||!e.match(regexIdentifier)){logger$F.throwArgumentError(`invalid identifier "${e}"`,"value",e)}return e}const regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting(e){e=e.trim();let t=[];let r="";let n=0;for(let i=0;i<e.length;i++){let s=e[i];if(s===","&&n===0){t.push(r);r=""}else{r+=s;if(s==="("){n++}else if(s===")"){n--;if(n===-1){logger$F.throwArgumentError("unbalanced parenthesis","value",e)}}}}if(r){t.push(r)}return t}const logger$E=new Logger(version$l);function checkResultErrors(e){const t=[];const r=function(e,n){if(!Array.isArray(n)){return}for(let i in n){const s=e.slice();s.push(i);try{r(s,n[i])}catch(e){t.push({path:s,error:e})}}};r([],e);return t}class Coder{constructor(e,t,r,n){this.name=e;this.type=t;this.localName=r;this.dynamic=n}_throwError(e,t){logger$E.throwArgumentError(e,this.localName,t)}}class Writer{constructor(e){defineReadOnly(this,"wordSize",e||32);this._data=[];this._dataLength=0;this._padding=new Uint8Array(e)}get data(){return hexConcat(this._data)}get length(){return this._dataLength}_writeData(e){this._data.push(e);this._dataLength+=e.length;return e.length}appendWriter(e){return this._writeData(concat$1(e._data))}writeBytes(e){let t=arrayify$1(e);const r=t.length%this.wordSize;if(r){t=concat$1([t,this._padding.slice(r)])}return this._writeData(t)}_getValue(e){let t=arrayify$1(BigNumber.from(e));if(t.length>this.wordSize){logger$E.throwError("value out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length})}if(t.length%this.wordSize){t=concat$1([this._padding.slice(t.length%this.wordSize),t])}return t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;this._data.push(this._padding);this._dataLength+=this.wordSize;return t=>{this._data[e]=this._getValue(t)}}}class Reader{constructor(e,t,r,n){defineReadOnly(this,"_data",arrayify$1(e));defineReadOnly(this,"wordSize",t||32);defineReadOnly(this,"_coerceFunc",r);defineReadOnly(this,"allowLoose",n);this._offset=0}get data(){return hexlify(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");if(r&&parseInt(r[1])<=48){t=t.toNumber()}return t}coerce(e,t){if(this._coerceFunc){return this._coerceFunc(e,t)}return Reader.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;if(this._offset+n>this._data.length){if(this.allowLoose&&r&&this._offset+t<=this._data.length){n=t}else{logger$E.throwError("data out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})}}return this._data.slice(this._offset,this._offset+n)}subReader(e){return new Reader(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);this._offset+=r.length;return r.slice(0,e)}readValue(){return BigNumber.from(this.readBytes(this.wordSize))}}var browser=createCommonjsModule$2((function(e){var t=e.exports={};var r;var n;function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){r=setTimeout}else{r=i}}catch(e){r=i}try{if(typeof clearTimeout==="function"){n=clearTimeout}else{n=s}}catch(e){n=s}})();function f(e){if(r===setTimeout){return setTimeout(e,0)}if((r===i||!r)&&setTimeout){r=setTimeout;return setTimeout(e,0)}try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function a(e){if(n===clearTimeout){return clearTimeout(e)}if((n===s||!n)&&clearTimeout){n=clearTimeout;return clearTimeout(e)}try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}var o=[];var c=false;var u;var l=-1;function h(){if(!c||!u){return}c=false;if(u.length){o=u.concat(o)}else{l=-1}if(o.length){d()}}function d(){if(c){return}var e=f(h);c=true;var t=o.length;while(t){u=o;o=[];while(++l<t){if(u){u[l].run()}}l=-1;t=o.length}u=null;c=false;a(e)}t.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}o.push(new p(e,t));if(o.length===1&&!c){f(d)}};function p(e,t){this.fun=e;this.array=t}p.prototype.run=function(){this.fun.apply(null,this.array)};t.title="browser";t.browser=true;t.env={};t.argv=[];t.version="";t.versions={};function y(){}t.on=y;t.addListener=y;t.once=y;t.off=y;t.removeListener=y;t.removeAllListeners=y;t.emit=y;t.prependListener=y;t.prependOnceListener=y;t.listeners=function(e){return[]};t.binding=function(e){throw new Error("process.binding is not supported")};t.cwd=function(){return"/"};t.chdir=function(e){throw new Error("process.chdir is not supported")};t.umask=function(){return 0}}));var sha3=createCommonjsModule$2((function(e){
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */
(function(){var t="input is invalid type";var r="finalize already called";var n=typeof window==="object";var i=n?window:{};if(i.JS_SHA3_NO_WINDOW){n=false}var s=!n&&typeof self==="object";var f=!i.JS_SHA3_NO_NODE_JS&&typeof browser==="object"&&browser.versions&&browser.versions.node;if(f){i=commonjsGlobal}else if(s){i=self}var a=!i.JS_SHA3_NO_COMMON_JS&&"object"==="object"&&e.exports;var o=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!=="undefined";var c="0123456789abcdef".split("");var u=[31,7936,2031616,520093696];var l=[4,1024,262144,67108864];var h=[1,256,65536,16777216];var d=[6,1536,393216,100663296];var p=[0,8,16,24];var y=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];var b=[224,256,384,512];var m=[128,256];var g=["hex","buffer","arrayBuffer","array","digest"];var v={128:168,256:136};if(i.JS_SHA3_NO_NODE_JS||!Array.isArray){Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}if(o&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)){ArrayBuffer.isView=function(e){return typeof e==="object"&&e.buffer&&e.buffer.constructor===ArrayBuffer}}var w=function(e,t,r){return function(n){return new U(e,t,e).update(n)[r]()}};var A=function(e,t,r){return function(n,i){return new U(e,t,i).update(n)[r]()}};var $=function(e,t,r){return function(t,n,i,s){return I["cshake"+e].update(t,n,i,s)[r]()}};var _=function(e,t,r){return function(t,n,i,s){return I["kmac"+e].update(t,n,i,s)[r]()}};var E=function(e,t,r,n){for(var i=0;i<g.length;++i){var s=g[i];e[s]=t(r,n,s)}return e};var S=function(e,t){var r=w(e,t,"hex");r.create=function(){return new U(e,t,e)};r.update=function(e){return r.create().update(e)};return E(r,w,e,t)};var T=function(e,t){var r=A(e,t,"hex");r.create=function(r){return new U(e,t,r)};r.update=function(e,t){return r.create(t).update(e)};return E(r,A,e,t)};var C=function(e,t){var r=v[e];var n=$(e,t,"hex");n.create=function(n,i,s){if(!i&&!s){return I["shake"+e].create(n)}else{return new U(e,t,n).bytepad([i,s],r)}};n.update=function(e,t,r,i){return n.create(t,r,i).update(e)};return E(n,$,e,t)};var P=function(e,t){var r=v[e];var n=_(e,t,"hex");n.create=function(n,i,s){return new F(e,t,i).bytepad(["KMAC",s],r).bytepad([n],r)};n.update=function(e,t,r,i){return n.create(e,r,i).update(t)};return E(n,_,e,t)};var x=[{name:"keccak",padding:h,bits:b,createMethod:S},{name:"sha3",padding:d,bits:b,createMethod:S},{name:"shake",padding:u,bits:m,createMethod:T},{name:"cshake",padding:l,bits:m,createMethod:C},{name:"kmac",padding:l,bits:m,createMethod:P}];var I={},k=[];for(var M=0;M<x.length;++M){var B=x[M];var R=B.bits;for(var N=0;N<R.length;++N){var D=B.name+"_"+R[N];k.push(D);I[D]=B.createMethod(R[N],B.padding);if(B.name!=="sha3"){var O=B.name+R[N];k.push(O);I[O]=I[D]}}}function U(e,t,r){this.blocks=[];this.s=[];this.padding=t;this.outputBits=r;this.reset=true;this.finalized=false;this.block=0;this.start=0;this.blockCount=1600-(e<<1)>>5;this.byteCount=this.blockCount<<2;this.outputBlocks=r>>5;this.extraBytes=(r&31)>>3;for(var n=0;n<50;++n){this.s[n]=0}}U.prototype.update=function(e){if(this.finalized){throw new Error(r)}var n,i=typeof e;if(i!=="string"){if(i==="object"){if(e===null){throw new Error(t)}else if(o&&e.constructor===ArrayBuffer){e=new Uint8Array(e)}else if(!Array.isArray(e)){if(!o||!ArrayBuffer.isView(e)){throw new Error(t)}}}else{throw new Error(t)}n=true}var s=this.blocks,f=this.byteCount,a=e.length,c=this.blockCount,u=0,l=this.s,h,d;while(u<a){if(this.reset){this.reset=false;s[0]=this.block;for(h=1;h<c+1;++h){s[h]=0}}if(n){for(h=this.start;u<a&&h<f;++u){s[h>>2]|=e[u]<<p[h++&3]}}else{for(h=this.start;u<a&&h<f;++u){d=e.charCodeAt(u);if(d<128){s[h>>2]|=d<<p[h++&3]}else if(d<2048){s[h>>2]|=(192|d>>6)<<p[h++&3];s[h>>2]|=(128|d&63)<<p[h++&3]}else if(d<55296||d>=57344){s[h>>2]|=(224|d>>12)<<p[h++&3];s[h>>2]|=(128|d>>6&63)<<p[h++&3];s[h>>2]|=(128|d&63)<<p[h++&3]}else{d=65536+((d&1023)<<10|e.charCodeAt(++u)&1023);s[h>>2]|=(240|d>>18)<<p[h++&3];s[h>>2]|=(128|d>>12&63)<<p[h++&3];s[h>>2]|=(128|d>>6&63)<<p[h++&3];s[h>>2]|=(128|d&63)<<p[h++&3]}}}this.lastByteIndex=h;if(h>=f){this.start=h-f;this.block=s[c];for(h=0;h<c;++h){l[h]^=s[h]}L(l);this.reset=true}else{this.start=h}}return this};U.prototype.encode=function(e,t){var r=e&255,n=1;var i=[r];e=e>>8;r=e&255;while(r>0){i.unshift(r);e=e>>8;r=e&255;++n}if(t){i.push(n)}else{i.unshift(n)}this.update(i);return i.length};U.prototype.encodeString=function(e){var r,n=typeof e;if(n!=="string"){if(n==="object"){if(e===null){throw new Error(t)}else if(o&&e.constructor===ArrayBuffer){e=new Uint8Array(e)}else if(!Array.isArray(e)){if(!o||!ArrayBuffer.isView(e)){throw new Error(t)}}}else{throw new Error(t)}r=true}var i=0,s=e.length;if(r){i=s}else{for(var f=0;f<e.length;++f){var a=e.charCodeAt(f);if(a<128){i+=1}else if(a<2048){i+=2}else if(a<55296||a>=57344){i+=3}else{a=65536+((a&1023)<<10|e.charCodeAt(++f)&1023);i+=4}}}i+=this.encode(i*8);this.update(e);return i};U.prototype.bytepad=function(e,t){var r=this.encode(t);for(var n=0;n<e.length;++n){r+=this.encodeString(e[n])}var i=t-r%t;var s=[];s.length=i;this.update(s);return this};U.prototype.finalize=function(){if(this.finalized){return}this.finalized=true;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;e[t>>2]|=this.padding[t&3];if(this.lastByteIndex===this.byteCount){e[0]=e[r];for(t=1;t<r+1;++t){e[t]=0}}e[r-1]|=2147483648;for(t=0;t<r;++t){n[t]^=e[t]}L(n)};U.prototype.toString=U.prototype.hex=function(){this.finalize();var e=this.blockCount,t=this.s,r=this.outputBlocks,n=this.extraBytes,i=0,s=0;var f="",a;while(s<r){for(i=0;i<e&&s<r;++i,++s){a=t[i];f+=c[a>>4&15]+c[a&15]+c[a>>12&15]+c[a>>8&15]+c[a>>20&15]+c[a>>16&15]+c[a>>28&15]+c[a>>24&15]}if(s%e===0){L(t);i=0}}if(n){a=t[i];f+=c[a>>4&15]+c[a&15];if(n>1){f+=c[a>>12&15]+c[a>>8&15]}if(n>2){f+=c[a>>20&15]+c[a>>16&15]}}return f};U.prototype.arrayBuffer=function(){this.finalize();var e=this.blockCount,t=this.s,r=this.outputBlocks,n=this.extraBytes,i=0,s=0;var f=this.outputBits>>3;var a;if(n){a=new ArrayBuffer(r+1<<2)}else{a=new ArrayBuffer(f)}var o=new Uint32Array(a);while(s<r){for(i=0;i<e&&s<r;++i,++s){o[s]=t[i]}if(s%e===0){L(t)}}if(n){o[i]=t[i];a=a.slice(0,f)}return a};U.prototype.buffer=U.prototype.arrayBuffer;U.prototype.digest=U.prototype.array=function(){this.finalize();var e=this.blockCount,t=this.s,r=this.outputBlocks,n=this.extraBytes,i=0,s=0;var f=[],a,o;while(s<r){for(i=0;i<e&&s<r;++i,++s){a=s<<2;o=t[i];f[a]=o&255;f[a+1]=o>>8&255;f[a+2]=o>>16&255;f[a+3]=o>>24&255}if(s%e===0){L(t)}}if(n){a=s<<2;o=t[i];f[a]=o&255;if(n>1){f[a+1]=o>>8&255}if(n>2){f[a+2]=o>>16&255}}return f};function F(e,t,r){U.call(this,e,t,r)}F.prototype=new U;F.prototype.finalize=function(){this.encode(this.outputBits,true);return U.prototype.finalize.call(this)};var L=function(e){var t,r,n,i,s,f,a,o,c,u,l,h,d,p,b,m,g,v,w,A,$,_,E,S,T,C,P,x,I,k,M,B,R,N,D,O,U,F,L,j,H,K,G,V,X,W,z,Y,J,q,Q,Z,ee,te,re,ne,ie,se,fe,ae,oe,ce,ue;for(n=0;n<48;n+=2){i=e[0]^e[10]^e[20]^e[30]^e[40];s=e[1]^e[11]^e[21]^e[31]^e[41];f=e[2]^e[12]^e[22]^e[32]^e[42];a=e[3]^e[13]^e[23]^e[33]^e[43];o=e[4]^e[14]^e[24]^e[34]^e[44];c=e[5]^e[15]^e[25]^e[35]^e[45];u=e[6]^e[16]^e[26]^e[36]^e[46];l=e[7]^e[17]^e[27]^e[37]^e[47];h=e[8]^e[18]^e[28]^e[38]^e[48];d=e[9]^e[19]^e[29]^e[39]^e[49];t=h^(f<<1|a>>>31);r=d^(a<<1|f>>>31);e[0]^=t;e[1]^=r;e[10]^=t;e[11]^=r;e[20]^=t;e[21]^=r;e[30]^=t;e[31]^=r;e[40]^=t;e[41]^=r;t=i^(o<<1|c>>>31);r=s^(c<<1|o>>>31);e[2]^=t;e[3]^=r;e[12]^=t;e[13]^=r;e[22]^=t;e[23]^=r;e[32]^=t;e[33]^=r;e[42]^=t;e[43]^=r;t=f^(u<<1|l>>>31);r=a^(l<<1|u>>>31);e[4]^=t;e[5]^=r;e[14]^=t;e[15]^=r;e[24]^=t;e[25]^=r;e[34]^=t;e[35]^=r;e[44]^=t;e[45]^=r;t=o^(h<<1|d>>>31);r=c^(d<<1|h>>>31);e[6]^=t;e[7]^=r;e[16]^=t;e[17]^=r;e[26]^=t;e[27]^=r;e[36]^=t;e[37]^=r;e[46]^=t;e[47]^=r;t=u^(i<<1|s>>>31);r=l^(s<<1|i>>>31);e[8]^=t;e[9]^=r;e[18]^=t;e[19]^=r;e[28]^=t;e[29]^=r;e[38]^=t;e[39]^=r;e[48]^=t;e[49]^=r;p=e[0];b=e[1];W=e[11]<<4|e[10]>>>28;z=e[10]<<4|e[11]>>>28;x=e[20]<<3|e[21]>>>29;I=e[21]<<3|e[20]>>>29;ae=e[31]<<9|e[30]>>>23;oe=e[30]<<9|e[31]>>>23;K=e[40]<<18|e[41]>>>14;G=e[41]<<18|e[40]>>>14;N=e[2]<<1|e[3]>>>31;D=e[3]<<1|e[2]>>>31;m=e[13]<<12|e[12]>>>20;g=e[12]<<12|e[13]>>>20;Y=e[22]<<10|e[23]>>>22;J=e[23]<<10|e[22]>>>22;k=e[33]<<13|e[32]>>>19;M=e[32]<<13|e[33]>>>19;ce=e[42]<<2|e[43]>>>30;ue=e[43]<<2|e[42]>>>30;te=e[5]<<30|e[4]>>>2;re=e[4]<<30|e[5]>>>2;O=e[14]<<6|e[15]>>>26;U=e[15]<<6|e[14]>>>26;v=e[25]<<11|e[24]>>>21;w=e[24]<<11|e[25]>>>21;q=e[34]<<15|e[35]>>>17;Q=e[35]<<15|e[34]>>>17;B=e[45]<<29|e[44]>>>3;R=e[44]<<29|e[45]>>>3;S=e[6]<<28|e[7]>>>4;T=e[7]<<28|e[6]>>>4;ne=e[17]<<23|e[16]>>>9;ie=e[16]<<23|e[17]>>>9;F=e[26]<<25|e[27]>>>7;L=e[27]<<25|e[26]>>>7;A=e[36]<<21|e[37]>>>11;$=e[37]<<21|e[36]>>>11;Z=e[47]<<24|e[46]>>>8;ee=e[46]<<24|e[47]>>>8;V=e[8]<<27|e[9]>>>5;X=e[9]<<27|e[8]>>>5;C=e[18]<<20|e[19]>>>12;P=e[19]<<20|e[18]>>>12;se=e[29]<<7|e[28]>>>25;fe=e[28]<<7|e[29]>>>25;j=e[38]<<8|e[39]>>>24;H=e[39]<<8|e[38]>>>24;_=e[48]<<14|e[49]>>>18;E=e[49]<<14|e[48]>>>18;e[0]=p^~m&v;e[1]=b^~g&w;e[10]=S^~C&x;e[11]=T^~P&I;e[20]=N^~O&F;e[21]=D^~U&L;e[30]=V^~W&Y;e[31]=X^~z&J;e[40]=te^~ne&se;e[41]=re^~ie&fe;e[2]=m^~v&A;e[3]=g^~w&$;e[12]=C^~x&k;e[13]=P^~I&M;e[22]=O^~F&j;e[23]=U^~L&H;e[32]=W^~Y&q;e[33]=z^~J&Q;e[42]=ne^~se&ae;e[43]=ie^~fe&oe;e[4]=v^~A&_;e[5]=w^~$&E;e[14]=x^~k&B;e[15]=I^~M&R;e[24]=F^~j&K;e[25]=L^~H&G;e[34]=Y^~q&Z;e[35]=J^~Q&ee;e[44]=se^~ae&ce;e[45]=fe^~oe&ue;e[6]=A^~_&p;e[7]=$^~E&b;e[16]=k^~B&S;e[17]=M^~R&T;e[26]=j^~K&N;e[27]=H^~G&D;e[36]=q^~Z&V;e[37]=Q^~ee&X;e[46]=ae^~ce&te;e[47]=oe^~ue&re;e[8]=_^~p&m;e[9]=E^~b&g;e[18]=B^~S&C;e[19]=R^~T&P;e[28]=K^~N&O;e[29]=G^~D&U;e[38]=Z^~V&W;e[39]=ee^~X&z;e[48]=ce^~te&ne;e[49]=ue^~re&ie;e[0]^=y[n];e[1]^=y[n+1]}};if(a){e.exports=I}else{for(M=0;M<k.length;++M){i[k[M]]=I[k[M]]}}})()}));function keccak256$1(e){return"0x"+sha3.keccak_256(arrayify$1(e))}const version$k="rlp/5.7.0";const logger$D=new Logger(version$k);function arrayifyInteger(e){const t=[];while(e){t.unshift(e&255);e>>=8}return t}function unarrayifyInteger(e,t,r){let n=0;for(let i=0;i<r;i++){n=n*256+e[t+i]}return n}function _encode(e){if(Array.isArray(e)){let t=[];e.forEach((function(e){t=t.concat(_encode(e))}));if(t.length<=55){t.unshift(192+t.length);return t}const r=arrayifyInteger(t.length);r.unshift(247+r.length);return r.concat(t)}if(!isBytesLike(e)){logger$D.throwArgumentError("RLP object must be BytesLike","object",e)}const t=Array.prototype.slice.call(arrayify$1(e));if(t.length===1&&t[0]<=127){return t}else if(t.length<=55){t.unshift(128+t.length);return t}const r=arrayifyInteger(t.length);r.unshift(183+r.length);return r.concat(t)}function encode$2(e){return hexlify(_encode(e))}function _decodeChildren(e,t,r,n){const i=[];while(r<t+1+n){const s=_decode(e,r);i.push(s.result);r+=s.consumed;if(r>t+1+n){logger$D.throwError("child data too short",Logger.errors.BUFFER_OVERRUN,{})}}return{consumed:1+n,result:i}}function _decode(e,t){if(e.length===0){logger$D.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{})}if(e[t]>=248){const r=e[t]-247;if(t+1+r>e.length){logger$D.throwError("data short segment too short",Logger.errors.BUFFER_OVERRUN,{})}const n=unarrayifyInteger(e,t+1,r);if(t+1+r+n>e.length){logger$D.throwError("data long segment too short",Logger.errors.BUFFER_OVERRUN,{})}return _decodeChildren(e,t,t+1+r,r+n)}else if(e[t]>=192){const r=e[t]-192;if(t+1+r>e.length){logger$D.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{})}return _decodeChildren(e,t,t+1,r)}else if(e[t]>=184){const r=e[t]-183;if(t+1+r>e.length){logger$D.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{})}const n=unarrayifyInteger(e,t+1,r);if(t+1+r+n>e.length){logger$D.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{})}const i=hexlify(e.slice(t+1+r,t+1+r+n));return{consumed:1+r+n,result:i}}else if(e[t]>=128){const r=e[t]-128;if(t+1+r>e.length){logger$D.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{})}const n=hexlify(e.slice(t+1,t+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:hexlify(e[t])}}function decode$2(e){const t=arrayify$1(e);const r=_decode(t,0);if(r.consumed!==t.length){logger$D.throwArgumentError("invalid rlp data","data",e)}return r.result}const index$3=Object.freeze({__proto__:null,encode:encode$2,decode:decode$2});const version$j="address/5.7.0";const logger$C=new Logger(version$j);function getChecksumAddress(e){if(!isHexString(e,20)){logger$C.throwArgumentError("invalid address","address",e)}e=e.toLowerCase();const t=e.substring(2).split("");const r=new Uint8Array(40);for(let e=0;e<40;e++){r[e]=t[e].charCodeAt(0)}const n=arrayify$1(keccak256$1(r));for(let e=0;e<40;e+=2){if(n[e>>1]>>4>=8){t[e]=t[e].toUpperCase()}if((n[e>>1]&15)>=8){t[e+1]=t[e+1].toUpperCase()}}return"0x"+t.join("")}const MAX_SAFE_INTEGER=9007199254740991;function log10(e){if(Math.log10){return Math.log10(e)}return Math.log(e)/Math.LN10}const ibanLookup={};for(let e=0;e<10;e++){ibanLookup[String(e)]=String(e)}for(let e=0;e<26;e++){ibanLookup[String.fromCharCode(65+e)]=String(10+e)}const safeDigits=Math.floor(log10(MAX_SAFE_INTEGER));function ibanChecksum(e){e=e.toUpperCase();e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map((e=>ibanLookup[e])).join("");while(t.length>=safeDigits){let e=t.substring(0,safeDigits);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);while(r.length<2){r="0"+r}return r}function getAddress(e){let t=null;if(typeof e!=="string"){logger$C.throwArgumentError("invalid address","address",e)}if(e.match(/^(0x)?[0-9a-fA-F]{40}$/)){if(e.substring(0,2)!=="0x"){e="0x"+e}t=getChecksumAddress(e);if(e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e){logger$C.throwArgumentError("bad address checksum","address",e)}}else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){if(e.substring(2,4)!==ibanChecksum(e)){logger$C.throwArgumentError("bad icap checksum","address",e)}t=_base36To16(e.substring(4));while(t.length<40){t="0"+t}t=getChecksumAddress("0x"+t)}else{logger$C.throwArgumentError("invalid address","address",e)}return t}function isAddress(e){try{getAddress(e);return true}catch(e){}return false}function getIcapAddress(e){let t=_base16To36(getAddress(e).substring(2)).toUpperCase();while(t.length<30){t="0"+t}return"XE"+ibanChecksum("XE00"+t)+t}function getContractAddress(e){let t=null;try{t=getAddress(e.from)}catch(t){logger$C.throwArgumentError("missing from address","transaction",e)}const r=stripZeros(arrayify$1(BigNumber.from(e.nonce).toHexString()));return getAddress(hexDataSlice(keccak256$1(encode$2([t,r])),12))}function getCreate2Address(e,t,r){if(hexDataLength(t)!==32){logger$C.throwArgumentError("salt must be 32 bytes","salt",t)}if(hexDataLength(r)!==32){logger$C.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r)}return getAddress(hexDataSlice(keccak256$1(concat$1(["0xff",getAddress(e),t,r])),12))}class AddressCoder extends Coder{constructor(e){super("address","address",e,false)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=getAddress(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return getAddress(hexZeroPad(e.readValue().toHexString(),20))}}class AnonymousCoder extends Coder{constructor(e){super(e.name,e.type,undefined,e.dynamic);this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const logger$B=new Logger(version$l);function pack$1(e,t,r){let n=null;if(Array.isArray(r)){n=r}else if(r&&typeof r==="object"){let e={};n=t.map((t=>{const n=t.localName;if(!n){logger$B.throwError("cannot encode object for signature with missing names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r})}if(e[n]){logger$B.throwError("cannot encode object for signature with duplicate names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r})}e[n]=true;return r[n]}))}else{logger$B.throwArgumentError("invalid tuple value","tuple",r)}if(t.length!==n.length){logger$B.throwArgumentError("types/value length mismatch","tuple",r)}let i=new Writer(e.wordSize);let s=new Writer(e.wordSize);let f=[];t.forEach(((e,t)=>{let r=n[t];if(e.dynamic){let t=s.length;e.encode(s,r);let n=i.writeUpdatableValue();f.push((e=>{n(e+t)}))}else{e.encode(i,r)}}));f.forEach((e=>{e(i.length)}));let a=e.appendWriter(i);a+=e.appendWriter(s);return a}function unpack(e,t){let r=[];let n=e.subReader(0);t.forEach((t=>{let i=null;if(t.dynamic){let r=e.readValue();let s=n.subReader(r.toNumber());try{i=t.decode(s)}catch(e){if(e.code===Logger.errors.BUFFER_OVERRUN){throw e}i=e;i.baseType=t.name;i.name=t.localName;i.type=t.type}}else{try{i=t.decode(e)}catch(e){if(e.code===Logger.errors.BUFFER_OVERRUN){throw e}i=e;i.baseType=t.name;i.name=t.localName;i.type=t.type}}if(i!=undefined){r.push(i)}}));const i=t.reduce(((e,t)=>{const r=t.localName;if(r){if(!e[r]){e[r]=0}e[r]++}return e}),{});t.forEach(((e,t)=>{let n=e.localName;if(!n||i[n]!==1){return}if(n==="length"){n="_length"}if(r[n]!=null){return}const s=r[t];if(s instanceof Error){Object.defineProperty(r,n,{enumerable:true,get:()=>{throw s}})}else{r[n]=s}}));for(let e=0;e<r.length;e++){const t=r[e];if(t instanceof Error){Object.defineProperty(r,e,{enumerable:true,get:()=>{throw t}})}}return Object.freeze(r)}class ArrayCoder extends Coder{constructor(e,t,r){const n=e.type+"["+(t>=0?t:"")+"]";const i=t===-1||e.dynamic;super("array",n,r,i);this.coder=e;this.length=t}defaultValue(){const e=this.coder.defaultValue();const t=[];for(let r=0;r<this.length;r++){t.push(e)}return t}encode(e,t){if(!Array.isArray(t)){this._throwError("expected array value",t)}let r=this.length;if(r===-1){r=t.length;e.writeValue(t.length)}logger$B.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<t.length;e++){n.push(this.coder)}return pack$1(e,n,t)}decode(e){let t=this.length;if(t===-1){t=e.readValue().toNumber();if(t*32>e._data.length){logger$B.throwError("insufficient data length",Logger.errors.BUFFER_OVERRUN,{length:e._data.length,count:t})}}let r=[];for(let e=0;e<t;e++){r.push(new AnonymousCoder(this.coder))}return e.coerce(this.name,unpack(e,r))}}class BooleanCoder extends Coder{constructor(e){super("bool","bool",e,false)}defaultValue(){return false}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class DynamicBytesCoder extends Coder{constructor(e,t){super(e,e,t,true)}defaultValue(){return"0x"}encode(e,t){t=arrayify$1(t);let r=e.writeValue(t.length);r+=e.writeBytes(t);return r}decode(e){return e.readBytes(e.readValue().toNumber(),true)}}class BytesCoder extends DynamicBytesCoder{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,hexlify(super.decode(e)))}}class FixedBytesCoder extends Coder{constructor(e,t){let r="bytes"+String(e);super(r,r,t,false);this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let r=arrayify$1(t);if(r.length!==this.size){this._throwError("incorrect data length",t)}return e.writeBytes(r)}decode(e){return e.coerce(this.name,hexlify(e.readBytes(this.size)))}}class NullCoder extends Coder{constructor(e){super("null","",e,false)}defaultValue(){return null}encode(e,t){if(t!=null){this._throwError("not null",t)}return e.writeBytes([])}decode(e){e.readBytes(0);return e.coerce(this.name,null)}}const AddressZero="0x0000000000000000000000000000000000000000";const NegativeOne$1=BigNumber.from(-1);const Zero$1=BigNumber.from(0);const One$1=BigNumber.from(1);const Two=BigNumber.from(2);const WeiPerEther=BigNumber.from("1000000000000000000");const MaxUint256$1=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const MinInt256=BigNumber.from("-0x8000000000000000000000000000000000000000000000000000000000000000");const MaxInt256=BigNumber.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const HashZero="0x0000000000000000000000000000000000000000000000000000000000000000";const EtherSymbol="Ξ";const index$2=Object.freeze({__proto__:null,AddressZero,NegativeOne:NegativeOne$1,Zero:Zero$1,One:One$1,Two,WeiPerEther,MaxUint256:MaxUint256$1,MinInt256,MaxInt256,HashZero,EtherSymbol});class NumberCoder extends Coder{constructor(e,t,r){const n=(t?"int":"uint")+e*8;super(n,n,r,false);this.size=e;this.signed=t}defaultValue(){return 0}encode(e,t){let r=BigNumber.from(t);let n=MaxUint256$1.mask(e.wordSize*8);if(this.signed){let e=n.mask(this.size*8-1);if(r.gt(e)||r.lt(e.add(One$1).mul(NegativeOne$1))){this._throwError("value out-of-bounds",t)}}else if(r.lt(Zero$1)||r.gt(n.mask(this.size*8))){this._throwError("value out-of-bounds",t)}r=r.toTwos(this.size*8).mask(this.size*8);if(this.signed){r=r.fromTwos(this.size*8).toTwos(8*e.wordSize)}return e.writeValue(r)}decode(e){let t=e.readValue().mask(this.size*8);if(this.signed){t=t.fromTwos(this.size*8)}return e.coerce(this.name,t)}}const version$i="strings/5.7.0";const logger$A=new Logger(version$i);var UnicodeNormalizationForm;(function(e){e["current"]="";e["NFC"]="NFC";e["NFD"]="NFD";e["NFKC"]="NFKC";e["NFKD"]="NFKD"})(UnicodeNormalizationForm||(UnicodeNormalizationForm={}));var Utf8ErrorReason;(function(e){e["UNEXPECTED_CONTINUE"]="unexpected continuation byte";e["BAD_PREFIX"]="bad codepoint prefix";e["OVERRUN"]="string overrun";e["MISSING_CONTINUE"]="missing continuation byte";e["OUT_OF_RANGE"]="out of UTF-8 range";e["UTF16_SURROGATE"]="UTF-16 surrogate";e["OVERLONG"]="overlong representation"})(Utf8ErrorReason||(Utf8ErrorReason={}));function errorFunc(e,t,r,n,i){return logger$A.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function ignoreFunc(e,t,r,n,i){if(e===Utf8ErrorReason.BAD_PREFIX||e===Utf8ErrorReason.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length;n++){if(r[n]>>6!==2){break}e++}return e}if(e===Utf8ErrorReason.OVERRUN){return r.length-t-1}return 0}function replaceFunc(e,t,r,n,i){if(e===Utf8ErrorReason.OVERLONG){n.push(i);return 0}n.push(65533);return ignoreFunc(e,t,r)}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(e,t){if(t==null){t=Utf8ErrorFuncs.error}e=arrayify$1(e);const r=[];let n=0;while(n<e.length){const i=e[n++];if(i>>7===0){r.push(i);continue}let s=null;let f=null;if((i&224)===192){s=1;f=127}else if((i&240)===224){s=2;f=2047}else if((i&248)===240){s=3;f=65535}else{if((i&192)===128){n+=t(Utf8ErrorReason.UNEXPECTED_CONTINUE,n-1,e,r)}else{n+=t(Utf8ErrorReason.BAD_PREFIX,n-1,e,r)}continue}if(n-1+s>=e.length){n+=t(Utf8ErrorReason.OVERRUN,n-1,e,r);continue}let a=i&(1<<8-s-1)-1;for(let i=0;i<s;i++){let i=e[n];if((i&192)!=128){n+=t(Utf8ErrorReason.MISSING_CONTINUE,n,e,r);a=null;break}a=a<<6|i&63;n++}if(a===null){continue}if(a>1114111){n+=t(Utf8ErrorReason.OUT_OF_RANGE,n-1-s,e,r,a);continue}if(a>=55296&&a<=57343){n+=t(Utf8ErrorReason.UTF16_SURROGATE,n-1-s,e,r,a);continue}if(a<=f){n+=t(Utf8ErrorReason.OVERLONG,n-1-s,e,r,a);continue}r.push(a)}return r}function toUtf8Bytes(e,t=UnicodeNormalizationForm.current){if(t!=UnicodeNormalizationForm.current){logger$A.checkNormalize();e=e.normalize(t)}let r=[];for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n<128){r.push(n)}else if(n<2048){r.push(n>>6|192);r.push(n&63|128)}else if((n&64512)==55296){t++;const i=e.charCodeAt(t);if(t>=e.length||(i&64512)!==56320){throw new Error("invalid utf-8 string")}const s=65536+((n&1023)<<10)+(i&1023);r.push(s>>18|240);r.push(s>>12&63|128);r.push(s>>6&63|128);r.push(s&63|128)}else{r.push(n>>12|224);r.push(n>>6&63|128);r.push(n&63|128)}}return arrayify$1(r)}function escapeChar(e){const t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function _toEscapedUtf8String(e,t){return'"'+getUtf8CodePoints(e,t).map((e=>{if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127){return String.fromCharCode(e)}}if(e<=65535){return escapeChar(e)}e-=65536;return escapeChar((e>>10&1023)+55296)+escapeChar((e&1023)+56320)})).join("")+'"'}function _toUtf8String(e){return e.map((e=>{if(e<=65535){return String.fromCharCode(e)}e-=65536;return String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320)})).join("")}function toUtf8String(e,t){return _toUtf8String(getUtf8CodePoints(e,t))}function toUtf8CodePoints(e,t=UnicodeNormalizationForm.current){return getUtf8CodePoints(toUtf8Bytes(e,t))}function formatBytes32String(e){const t=toUtf8Bytes(e);if(t.length>31){throw new Error("bytes32 string must be less than 32 bytes")}return hexlify(concat$1([t,HashZero]).slice(0,32))}function parseBytes32String(e){const t=arrayify$1(e);if(t.length!==32){throw new Error("invalid bytes32 - not 32 bytes long")}if(t[31]!==0){throw new Error("invalid bytes32 string - no null terminator")}let r=31;while(t[r-1]===0){r--}return toUtf8String(t.slice(0,r))}function bytes2(e){if(e.length%4!==0){throw new Error("bad data")}let t=[];for(let r=0;r<e.length;r+=4){t.push(parseInt(e.substring(r,r+4),16))}return t}function createTable$1(e,t){if(!t){t=function(e){return[parseInt(e,16)]}}let r=0;let n={};e.split(",").forEach((e=>{let i=e.split(":");r+=parseInt(i[0],16);n[r]=t(i[1])}));return n}function createRangeTable(e){let t=0;return e.split(",").map((e=>{let r=e.split("-");if(r.length===1){r[1]="0"}else if(r[1]===""){r[1]="1"}let n=t+parseInt(r[0],16);t=parseInt(r[1],16);return{l:n,h:t}}))}function matchMap(e,t){let r=0;for(let n=0;n<t.length;n++){let i=t[n];r+=i.l;if(e>=r&&e<=r+i.h&&(e-r)%(i.d||1)===0){if(i.e&&i.e.indexOf(e-r)!==-1){continue}return i}}return null}const Table_A_1_ranges=createRangeTable("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d");const Table_B_1_flags="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((e=>parseInt(e,16)));const Table_B_2_ranges=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}];const Table_B_2_lut_abs=createTable$1("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3");const Table_B_2_lut_rel=createTable$1("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7");const Table_B_2_complex=createTable$1("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",bytes2);const Table_C_ranges=createRangeTable("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function flatten$1(e){return e.reduce(((e,t)=>{t.forEach((t=>{e.push(t)}));return e}),[])}function _nameprepTableA1(e){return!!matchMap(e,Table_A_1_ranges)}function _nameprepTableB2(e){let t=matchMap(e,Table_B_2_ranges);if(t){return[e+t.s]}let r=Table_B_2_lut_abs[e];if(r){return r}let n=Table_B_2_lut_rel[e];if(n){return[e+n[0]]}let i=Table_B_2_complex[e];if(i){return i}return null}function _nameprepTableC(e){return!!matchMap(e,Table_C_ranges)}function nameprep(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59){return e.toLowerCase()}let t=toUtf8CodePoints(e);t=flatten$1(t.map((e=>{if(Table_B_1_flags.indexOf(e)>=0){return[]}if(e>=65024&&e<=65039){return[]}let t=_nameprepTableB2(e);if(t){return t}return[e]})));t=toUtf8CodePoints(_toUtf8String(t),UnicodeNormalizationForm.NFKC);t.forEach((e=>{if(_nameprepTableC(e)){throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}}));t.forEach((e=>{if(_nameprepTableA1(e)){throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}}));let r=_toUtf8String(t);if(r.substring(0,1)==="-"||r.substring(2,4)==="--"||r.substring(r.length-1)==="-"){throw new Error("invalid hyphen")}return r}class StringCoder extends DynamicBytesCoder{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,toUtf8Bytes(t))}decode(e){return toUtf8String(super.decode(e))}}class TupleCoder extends Coder{constructor(e,t){let r=false;const n=[];e.forEach((e=>{if(e.dynamic){r=true}n.push(e.type)}));const i="tuple("+n.join(",")+")";super("tuple",i,t,r);this.coders=e}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const r=t.localName;if(r){if(!e[r]){e[r]=0}e[r]++}return e}),{});this.coders.forEach(((r,n)=>{let i=r.localName;if(!i||t[i]!==1){return}if(i==="length"){i="_length"}if(e[i]!=null){return}e[i]=e[n]}));return Object.freeze(e)}encode(e,t){return pack$1(e,this.coders,t)}decode(e){return e.coerce(this.name,unpack(e,this.coders))}}const logger$z=new Logger(version$l);const paramTypeBytes=new RegExp(/^bytes([0-9]*)$/);const paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(e){defineReadOnly(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new AddressCoder(e.name);case"bool":return new BooleanCoder(e.name);case"string":return new StringCoder(e.name);case"bytes":return new BytesCoder(e.name);case"array":return new ArrayCoder(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new TupleCoder((e.components||[]).map((e=>this._getCoder(e))),e.name);case"":return new NullCoder(e.name)}let t=e.type.match(paramTypeNumber);if(t){let r=parseInt(t[2]||"256");if(r===0||r>256||r%8!==0){logger$z.throwArgumentError("invalid "+t[1]+" bit length","param",e)}return new NumberCoder(r/8,t[1]==="int",e.name)}t=e.type.match(paramTypeBytes);if(t){let r=parseInt(t[1]);if(r===0||r>32){logger$z.throwArgumentError("invalid bytes length","param",e)}return new FixedBytesCoder(r,e.name)}return logger$z.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new Reader(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new Writer(this._getWordSize())}getDefaultValue(e){const t=e.map((e=>this._getCoder(ParamType.from(e))));const r=new TupleCoder(t,"_");return r.defaultValue()}encode(e,t){if(e.length!==t.length){logger$z.throwError("types/values length mismatch",Logger.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}})}const r=e.map((e=>this._getCoder(ParamType.from(e))));const n=new TupleCoder(r,"_");const i=this._getWriter();n.encode(i,t);return i.data}decode(e,t,r){const n=e.map((e=>this._getCoder(ParamType.from(e))));const i=new TupleCoder(n,"_");return i.decode(this._getReader(arrayify$1(t),r))}}const defaultAbiCoder=new AbiCoder;function id(e){return keccak256$1(toUtf8Bytes(e))}const version$h="hash/5.7.0";function decode$1(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++){t.push(e.charCodeAt(r))}return arrayify$1(t)}function encode$1(e){e=arrayify$1(e);let t="";for(let r=0;r<e.length;r++){t+=String.fromCharCode(e[r])}return btoa(t)}const index$1=Object.freeze({__proto__:null,decode:decode$1,encode:encode$1});function flat(e,t){if(t==null){t=1}const r=[];const n=r.forEach;const i=function(e,t){n.call(e,(function(e){if(t>0&&Array.isArray(e)){i(e,t-1)}else{r.push(e)}}))};i(e,t);return r}function fromEntries(e){const t={};for(let r=0;r<e.length;r++){const n=e[r];t[n[0]]=n[1]}return t}function decode_arithmetic(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r();let i=1;let s=[0,1];for(let e=1;e<n;e++){s.push(i+=r())}let f=r();let a=t;t+=f;let o=0;let c=0;function u(){if(o==0){c=c<<8|e[t++];o=8}return c>>--o&1}const l=31;const h=Math.pow(2,l);const d=h>>>1;const p=d>>1;const y=h-1;let b=0;for(let e=0;e<l;e++)b=b<<1|u();let m=[];let g=0;let v=h;while(true){let e=Math.floor(((b-g+1)*i-1)/v);let t=0;let r=n;while(r-t>1){let n=t+r>>>1;if(e<s[n]){r=n}else{t=n}}if(t==0)break;m.push(t);let f=g+Math.floor(v*s[t]/i);let a=g+Math.floor(v*s[t+1]/i)-1;while(((f^a)&d)==0){b=b<<1&y|u();f=f<<1&y;a=a<<1&y|1}while(f&~a&p){b=b&d|b<<1&y>>>1|u();f=f<<1^d;a=(a^d)<<1|d|1}g=f;v=1+a-f}let w=n-4;return m.map((t=>{switch(t-w){case 3:return w+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return w+256+(e[a++]<<8|e[a++]);case 1:return w+e[a++];default:return t-1}}))}function read_payload(e){let t=0;return()=>e[t++]}function read_compressed_payload(e){return read_payload(decode_arithmetic(e))}function signed(e){return e&1?~e>>1:e>>1}function read_counts(e,t){let r=Array(e);for(let n=0;n<e;n++)r[n]=1+t();return r}function read_ascending(e,t){let r=Array(e);for(let n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function read_deltas(e,t){let r=Array(e);for(let n=0,i=0;n<e;n++)r[n]=i+=signed(t());return r}function read_member_array(e,t){let r=read_ascending(e(),e);let n=e();let i=read_ascending(n,e);let s=read_counts(n,e);for(let e=0;e<n;e++){for(let t=0;t<s[e];t++){r.push(i[e]+t)}}return t?r.map((e=>t[e])):r}function read_mapped_map(e){let t=[];while(true){let r=e();if(r==0)break;t.push(read_linear_table(r,e))}while(true){let r=e()-1;if(r<0)break;t.push(read_replacement_table(r,e))}return fromEntries(flat(t))}function read_zero_terminated_array(e){let t=[];while(true){let r=e();if(r==0)break;t.push(r)}return t}function read_transposed(e,t,r){let n=Array(e).fill(undefined).map((()=>[]));for(let i=0;i<t;i++){read_deltas(e,r).forEach(((e,t)=>n[t].push(e)))}return n}function read_linear_table(e,t){let r=1+t();let n=t();let i=read_zero_terminated_array(t);let s=read_transposed(i.length,1+e,t);return flat(s.map(((e,t)=>{const s=e[0],f=e.slice(1);return Array(i[t]).fill(undefined).map(((e,t)=>{let i=t*n;return[s+t*r,f.map((e=>e+i))]}))})))}function read_replacement_table(e,t){let r=1+t();let n=read_transposed(r,1+e,t);return n.map((e=>[e[0],e.slice(1)]))}function read_emoji_trie(e){let t=read_member_array(e).sort(((e,t)=>e-t));return r();function r(){let n=[];while(true){let i=read_member_array(e,t);if(i.length==0)break;n.push({set:new Set(i),node:r()})}n.sort(((e,t)=>t.set.size-e.set.size));let i=e();let s=i%3;i=i/3|0;let f=!!(i&1);i>>=1;let a=i==1;let o=i==2;return{branches:n,valid:s,fe0f:f,save:a,check:o}}}function getData(){return read_compressed_payload(decode$1("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const r$1=getData();const VALID=new Set(read_member_array(r$1));const IGNORED=new Set(read_member_array(r$1));const MAPPED=read_mapped_map(r$1);const EMOJI_ROOT=read_emoji_trie(r$1);const HYPHEN=45;const UNDERSCORE=95;function explode_cp(e){return toUtf8CodePoints(e)}function filter_fe0f(e){return e.filter((e=>e!=65039))}function ens_normalize_post_check(e){for(let t of e.split(".")){let e=explode_cp(t);try{for(let t=e.lastIndexOf(UNDERSCORE)-1;t>=0;t--){if(e[t]!==UNDERSCORE){throw new Error(`underscore only allowed at start`)}}if(e.length>=4&&e.every((e=>e<128))&&e[2]===HYPHEN&&e[3]===HYPHEN){throw new Error(`invalid label extension`)}}catch(e){throw new Error(`Invalid label "${t}": ${e.message}`)}}return e}function ens_normalize(e){return ens_normalize_post_check(normalize(e,filter_fe0f))}function normalize(e,t){let r=explode_cp(e).reverse();let n=[];while(r.length){let e=consume_emoji_reversed(r);if(e){n.push(...t(e));continue}let i=r.pop();if(VALID.has(i)){n.push(i);continue}if(IGNORED.has(i)){continue}let s=MAPPED[i];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`)}return ens_normalize_post_check(nfc(String.fromCodePoint(...n)))}function nfc(e){return e.normalize("NFC")}function consume_emoji_reversed(e,t){var r;let n=EMOJI_ROOT;let i;let s;let f=[];let a=e.length;if(t)t.length=0;while(a){let o=e[--a];n=(r=n.branches.find((e=>e.set.has(o))))===null||r===void 0?void 0:r.node;if(!n)break;if(n.save){s=o}else if(n.check){if(o===s)break}f.push(o);if(n.fe0f){f.push(65039);if(a>0&&e[a-1]==65039)a--}if(n.valid){i=f.slice();if(n.valid==2)i.splice(1,1);if(t)t.push(...e.slice(a).reverse());e.length=a}}return i}const logger$y=new Logger(version$h);const Zeros$1=new Uint8Array(32);Zeros$1.fill(0);function checkComponent(e){if(e.length===0){throw new Error("invalid ENS name; empty component")}return e}function ensNameSplit(e){const t=toUtf8Bytes(ens_normalize(e));const r=[];if(e.length===0){return r}let n=0;for(let e=0;e<t.length;e++){const i=t[e];if(i===46){r.push(checkComponent(t.slice(n,e)));n=e+1}}if(n>=t.length){throw new Error("invalid ENS name; empty component")}r.push(checkComponent(t.slice(n)));return r}function isValidName(e){try{return ensNameSplit(e).length!==0}catch(e){}return false}function namehash(e){if(typeof e!=="string"){logger$y.throwArgumentError("invalid ENS name; not a string","name",e)}let t=Zeros$1;const r=ensNameSplit(e);while(r.length){t=keccak256$1(concat$1([t,keccak256$1(r.pop())]))}return hexlify(t)}function dnsEncode(e){return hexlify(concat$1(ensNameSplit(e).map((e=>{if(e.length>63){throw new Error("invalid DNS encoded entry; length exceeds 63 bytes")}const t=new Uint8Array(e.length+1);t.set(e,1);t[0]=t.length-1;return t}))))+"00"}const messagePrefix="Ethereum Signed Message:\n";function hashMessage(e){if(typeof e==="string"){e=toUtf8Bytes(e)}return keccak256$1(concat$1([toUtf8Bytes(messagePrefix),toUtf8Bytes(String(e.length)),e]))}var __awaiter$e=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$x=new Logger(version$h);const padding=new Uint8Array(32);padding.fill(0);const NegativeOne=BigNumber.from(-1);const Zero=BigNumber.from(0);const One=BigNumber.from(1);const MaxUint256=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(e){const t=arrayify$1(e);const r=t.length%32;if(r){return hexConcat([t,padding.slice(r)])}return hexlify(t)}const hexTrue=hexZeroPad(One.toHexString(),32);const hexFalse=hexZeroPad(Zero.toHexString(),32);const domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"};const domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString(e){return function(t){if(typeof t!=="string"){logger$x.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t)}return t}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function(e){try{return BigNumber.from(e).toString()}catch(e){}return logger$x.throwArgumentError(`invalid domain value for "chainId"`,"domain.chainId",e)},verifyingContract:function(e){try{return getAddress(e).toLowerCase()}catch(e){}return logger$x.throwArgumentError(`invalid domain value "verifyingContract"`,"domain.verifyingContract",e)},salt:function(e){try{const t=arrayify$1(e);if(t.length!==32){throw new Error("bad length")}return hexlify(t)}catch(e){}return logger$x.throwArgumentError(`invalid domain value "salt"`,"domain.salt",e)}};function getBaseEncoder(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const r=t[1]==="";const n=parseInt(t[2]||"256");if(n%8!==0||n>256||t[2]&&t[2]!==String(n)){logger$x.throwArgumentError("invalid numeric width","type",e)}const i=MaxUint256.mask(r?n-1:n);const s=r?i.add(One).mul(NegativeOne):Zero;return function(t){const r=BigNumber.from(t);if(r.lt(s)||r.gt(i)){logger$x.throwArgumentError(`value out-of-bounds for ${e}`,"value",t)}return hexZeroPad(r.toTwos(256).toHexString(),32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);if(r===0||r>32||t[1]!==String(r)){logger$x.throwArgumentError("invalid bytes width","type",e)}return function(t){const n=arrayify$1(t);if(n.length!==r){logger$x.throwArgumentError(`invalid length for ${e}`,"value",t)}return hexPadRight(t)}}}switch(e){case"address":return function(e){return hexZeroPad(getAddress(e),32)};case"bool":return function(e){return!e?hexFalse:hexTrue};case"bytes":return function(e){return keccak256$1(e)};case"string":return function(e){return id(e)}}return null}function encodeType(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}class TypedDataEncoder{constructor(e){defineReadOnly(this,"types",Object.freeze(deepCopy(e)));defineReadOnly(this,"_encoderCache",{});defineReadOnly(this,"_types",{});const t={};const r={};const n={};Object.keys(e).forEach((e=>{t[e]={};r[e]=[];n[e]={}}));for(const n in e){const i={};e[n].forEach((s=>{if(i[s.name]){logger$x.throwArgumentError(`duplicate variable name ${JSON.stringify(s.name)} in ${JSON.stringify(n)}`,"types",e)}i[s.name]=true;const f=s.type.match(/^([^\x5b]*)(\x5b|$)/)[1];if(f===n){logger$x.throwArgumentError(`circular type reference to ${JSON.stringify(f)}`,"types",e)}const a=getBaseEncoder(f);if(a){return}if(!r[f]){logger$x.throwArgumentError(`unknown type ${JSON.stringify(f)}`,"types",e)}r[f].push(n);t[n][f]=true}))}const i=Object.keys(r).filter((e=>r[e].length===0));if(i.length===0){logger$x.throwArgumentError("missing primary type","types",e)}else if(i.length>1){logger$x.throwArgumentError(`ambiguous primary types or unused types: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"types",e)}defineReadOnly(this,"primaryType",i[0]);function s(i,f){if(f[i]){logger$x.throwArgumentError(`circular type reference to ${JSON.stringify(i)}`,"types",e)}f[i]=true;Object.keys(t[i]).forEach((e=>{if(!r[e]){return}s(e,f);Object.keys(f).forEach((t=>{n[t][e]=true}))}));delete f[i]}s(this.primaryType,{});for(const t in n){const r=Object.keys(n[t]);r.sort();this._types[t]=encodeType(t,e[t])+r.map((t=>encodeType(t,e[t]))).join("")}}getEncoder(e){let t=this._encoderCache[e];if(!t){t=this._encoderCache[e]=this._getEncoder(e)}return t}_getEncoder(e){{const t=getBaseEncoder(e);if(t){return t}}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1];const r=this.getEncoder(e);const n=parseInt(t[3]);return t=>{if(n>=0&&t.length!==n){logger$x.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t)}let i=t.map(r);if(this._types[e]){i=i.map(keccak256$1)}return keccak256$1(hexConcat(i))}}const r=this.types[e];if(r){const t=id(this._types[e]);return e=>{const n=r.map((({name:t,type:r})=>{const n=this.getEncoder(r)(e[t]);if(this._types[r]){return keccak256$1(n)}return n}));n.unshift(t);return hexConcat(n)}}return logger$x.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];if(!t){logger$x.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e)}return t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return keccak256$1(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){{const n=getBaseEncoder(e);if(n){return r(e,t)}}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const e=n[1];const i=parseInt(n[3]);if(i>=0&&t.length!==i){logger$x.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t)}return t.map((t=>this._visit(e,t,r)))}const i=this.types[e];if(i){return i.reduce(((e,{name:n,type:i})=>{e[n]=this._visit(i,t[n],r);return e}),{})}return logger$x.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new TypedDataEncoder(e)}static getPrimaryType(e){return TypedDataEncoder.from(e).primaryType}static hashStruct(e,t,r){return TypedDataEncoder.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){const n=domainFieldTypes[r];if(!n){logger$x.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e)}t.push({name:r,type:n})}t.sort(((e,t)=>domainFieldNames.indexOf(e.name)-domainFieldNames.indexOf(t.name)));return TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return hexConcat(["0x1901",TypedDataEncoder.hashDomain(e),TypedDataEncoder.from(t).hash(r)])}static hash(e,t,r){return keccak256$1(TypedDataEncoder.encode(e,t,r))}static resolveNames(e,t,r,n){return __awaiter$e(this,void 0,void 0,(function*(){e=shallowCopy(e);const i={};if(e.verifyingContract&&!isHexString(e.verifyingContract,20)){i[e.verifyingContract]="0x"}const s=TypedDataEncoder.from(t);s.visit(r,((e,t)=>{if(e==="address"&&!isHexString(t,20)){i[t]="0x"}return t}));for(const e in i){i[e]=yield n(e)}if(e.verifyingContract&&i[e.verifyingContract]){e.verifyingContract=i[e.verifyingContract]}r=s.visit(r,((e,t)=>{if(e==="address"&&i[t]){return i[t]}return t}));return{domain:e,value:r}}))}static getPayload(e,t,r){TypedDataEncoder.hashDomain(e);const n={};const i=[];domainFieldNames.forEach((t=>{const r=e[t];if(r==null){return}n[t]=domainChecks[t](r);i.push({name:t,type:domainFieldTypes[t]})}));const s=TypedDataEncoder.from(t);const f=shallowCopy(t);if(f.EIP712Domain){logger$x.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t)}else{f.EIP712Domain=i}s.encode(r);return{types:f,domain:n,primaryType:s.primaryType,message:s.visit(r,((e,t)=>{if(e.match(/^bytes(\d*)/)){return hexlify(arrayify$1(t))}if(e.match(/^u?int/)){return BigNumber.from(t).toString()}switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":if(typeof t!=="string"){logger$x.throwArgumentError(`invalid string`,"value",t)}return t}return logger$x.throwArgumentError("unsupported type","type",e)}))}}}const logger$w=new Logger(version$l);class LogDescription extends Description{}class TransactionDescription extends Description{}class ErrorDescription extends Description{}class Indexed extends Description{static isIndexed(e){return!!(e&&e._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:true},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);r.error=t;return r}class Interface{constructor(e){let t=[];if(typeof e==="string"){t=JSON.parse(e)}else{t=e}defineReadOnly(this,"fragments",t.map((e=>Fragment.from(e))).filter((e=>e!=null)));defineReadOnly(this,"_abiCoder",getStatic(new.target,"getAbiCoder")());defineReadOnly(this,"functions",{});defineReadOnly(this,"errors",{});defineReadOnly(this,"events",{});defineReadOnly(this,"structs",{});this.fragments.forEach((e=>{let t=null;switch(e.type){case"constructor":if(this.deploy){logger$w.warn("duplicate definition - constructor");return}defineReadOnly(this,"deploy",e);return;case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();if(t[r]){logger$w.warn("duplicate definition - "+r);return}t[r]=e}));if(!this.deploy){defineReadOnly(this,"deploy",ConstructorFragment.from({payable:false,type:"constructor"}))}defineReadOnly(this,"_isInterface",true)}format(e){if(!e){e=FormatTypes.full}if(e===FormatTypes.sighash){logger$w.throwArgumentError("interface does not support formatting sighash","format",e)}const t=this.fragments.map((t=>t.format(e)));if(e===FormatTypes.json){return JSON.stringify(t.map((e=>JSON.parse(e))))}return t}static getAbiCoder(){return defaultAbiCoder}static getAddress(e){return getAddress(e)}static getSighash(e){return hexDataSlice(id(e.format()),0,4)}static getEventTopic(e){return id(e.format())}getFunction(e){if(isHexString(e)){for(const t in this.functions){if(e===this.getSighash(t)){return this.functions[t]}}logger$w.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const t=e.trim();const r=Object.keys(this.functions).filter((e=>e.split("(")[0]===t));if(r.length===0){logger$w.throwArgumentError("no matching function","name",t)}else if(r.length>1){logger$w.throwArgumentError("multiple matching functions","name",t)}return this.functions[r[0]]}const t=this.functions[FunctionFragment.fromString(e).format()];if(!t){logger$w.throwArgumentError("no matching function","signature",e)}return t}getEvent(e){if(isHexString(e)){const t=e.toLowerCase();for(const e in this.events){if(t===this.getEventTopic(e)){return this.events[e]}}logger$w.throwArgumentError("no matching event","topichash",t)}if(e.indexOf("(")===-1){const t=e.trim();const r=Object.keys(this.events).filter((e=>e.split("(")[0]===t));if(r.length===0){logger$w.throwArgumentError("no matching event","name",t)}else if(r.length>1){logger$w.throwArgumentError("multiple matching events","name",t)}return this.events[r[0]]}const t=this.events[EventFragment.fromString(e).format()];if(!t){logger$w.throwArgumentError("no matching event","signature",e)}return t}getError(e){if(isHexString(e)){const t=getStatic(this.constructor,"getSighash");for(const r in this.errors){const n=this.errors[r];if(e===t(n)){return this.errors[r]}}logger$w.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const t=e.trim();const r=Object.keys(this.errors).filter((e=>e.split("(")[0]===t));if(r.length===0){logger$w.throwArgumentError("no matching error","name",t)}else if(r.length>1){logger$w.throwArgumentError("multiple matching errors","name",t)}return this.errors[r[0]]}const t=this.errors[FunctionFragment.fromString(e).format()];if(!t){logger$w.throwArgumentError("no matching error","signature",e)}return t}getSighash(e){if(typeof e==="string"){try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}}return getStatic(this.constructor,"getSighash")(e)}getEventTopic(e){if(typeof e==="string"){e=this.getEvent(e)}return getStatic(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e==="string"){e=this.getError(e)}const r=arrayify$1(t);if(hexlify(r.slice(0,4))!==this.getSighash(e)){logger$w.throwArgumentError(`data signature does not match error ${e.name}.`,"data",hexlify(r))}return this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){if(typeof e==="string"){e=this.getError(e)}return hexlify(concat$1([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){if(typeof e==="string"){e=this.getFunction(e)}const r=arrayify$1(t);if(hexlify(r.slice(0,4))!==this.getSighash(e)){logger$w.throwArgumentError(`data signature does not match function ${e.name}.`,"data",hexlify(r))}return this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){if(typeof e==="string"){e=this.getFunction(e)}return hexlify(concat$1([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){if(typeof e==="string"){e=this.getFunction(e)}let r=arrayify$1(t);let n=null;let i="";let s=null;let f=null;let a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(e){}break;case 4:{const e=hexlify(r.slice(0,4));const t=BuiltinErrors[e];if(t){s=this._abiCoder.decode(t.inputs,r.slice(4));f=t.name;a=t.signature;if(t.reason){n=s[0]}if(f==="Error"){i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`}else if(f==="Panic"){i=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`}}else{try{const t=this.getError(e);s=this._abiCoder.decode(t.inputs,r.slice(4));f=t.name;a=t.format()}catch(e){}}break}}return logger$w.throwError("call revert exception"+i,Logger.errors.CALL_EXCEPTION,{method:e.format(),data:hexlify(t),errorArgs:s,errorName:f,errorSignature:a,reason:n})}encodeFunctionResult(e,t){if(typeof e==="string"){e=this.getFunction(e)}return hexlify(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e==="string"){e=this.getEvent(e)}if(t.length>e.inputs.length){logger$w.throwError("too many arguments for "+e.format(),Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t})}let r=[];if(!e.anonymous){r.push(this.getEventTopic(e))}const n=(e,t)=>{if(e.type==="string"){return id(t)}else if(e.type==="bytes"){return keccak256$1(hexlify(t))}if(e.type==="bool"&&typeof t==="boolean"){t=t?"0x01":"0x00"}if(e.type.match(/^u?int/)){t=BigNumber.from(t).toHexString()}if(e.type==="address"){this._abiCoder.encode(["address"],[t])}return hexZeroPad(hexlify(t),32)};t.forEach(((t,i)=>{let s=e.inputs[i];if(!s.indexed){if(t!=null){logger$w.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+s.name,t)}return}if(t==null){r.push(null)}else if(s.baseType==="array"||s.baseType==="tuple"){logger$w.throwArgumentError("filtering with tuples or arrays not supported","contract."+s.name,t)}else if(Array.isArray(t)){r.push(t.map((e=>n(s,e))))}else{r.push(n(s,t))}}));while(r.length&&r[r.length-1]===null){r.pop()}return r}encodeEventLog(e,t){if(typeof e==="string"){e=this.getEvent(e)}const r=[];const n=[];const i=[];if(!e.anonymous){r.push(this.getEventTopic(e))}if(t.length!==e.inputs.length){logger$w.throwArgumentError("event arguments/values mismatch","values",t)}e.inputs.forEach(((e,s)=>{const f=t[s];if(e.indexed){if(e.type==="string"){r.push(id(f))}else if(e.type==="bytes"){r.push(keccak256$1(f))}else if(e.baseType==="tuple"||e.baseType==="array"){throw new Error("not implemented")}else{r.push(this._abiCoder.encode([e.type],[f]))}}else{n.push(e);i.push(f)}}));return{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(e,t,r){if(typeof e==="string"){e=this.getEvent(e)}if(r!=null&&!e.anonymous){let t=this.getEventTopic(e);if(!isHexString(r[0],32)||r[0].toLowerCase()!==t){logger$w.throwError("fragment/topic mismatch",Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:r[0]})}r=r.slice(1)}let n=[];let i=[];let s=[];e.inputs.forEach(((e,t)=>{if(e.indexed){if(e.type==="string"||e.type==="bytes"||e.baseType==="tuple"||e.baseType==="array"){n.push(ParamType.fromObject({type:"bytes32",name:e.name}));s.push(true)}else{n.push(e);s.push(false)}}else{i.push(e);s.push(false)}}));let f=r!=null?this._abiCoder.decode(n,concat$1(r)):null;let a=this._abiCoder.decode(i,t,true);let o=[];let c=0,u=0;e.inputs.forEach(((e,t)=>{if(e.indexed){if(f==null){o[t]=new Indexed({_isIndexed:true,hash:null})}else if(s[t]){o[t]=new Indexed({_isIndexed:true,hash:f[u++]})}else{try{o[t]=f[u++]}catch(e){o[t]=e}}}else{try{o[t]=a[c++]}catch(e){o[t]=e}}if(e.name&&o[e.name]==null){const r=o[t];if(r instanceof Error){Object.defineProperty(o,e.name,{enumerable:true,get:()=>{throw wrapAccessError(`property ${JSON.stringify(e.name)}`,r)}})}else{o[e.name]=r}}}));for(let e=0;e<o.length;e++){const t=o[e];if(t instanceof Error){Object.defineProperty(o,e,{enumerable:true,get:()=>{throw wrapAccessError(`index ${e}`,t)}})}}return Object.freeze(o)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());if(!t){return null}return new TransactionDescription({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:BigNumber.from(e.value||"0")})}parseLog(e){let t=this.getEvent(e.topics[0]);if(!t||t.anonymous){return null}return new LogDescription({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=hexlify(e);let r=this.getError(t.substring(0,10).toLowerCase());if(!r){return null}return new ErrorDescription({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)})}static isInterface(e){return!!(e&&e._isInterface)}}const version$g="abstract-provider/5.7.0";var __awaiter$d=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$v=new Logger(version$g);class ForkEvent extends Description{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Provider{constructor(){logger$v.checkAbstract(new.target,Provider);defineReadOnly(this,"_isProvider",true)}getFeeData(){return __awaiter$d(this,void 0,void 0,(function*(){const{block:e,gasPrice:t}=yield resolveProperties({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((e=>null))});let r=null,n=null,i=null;if(e&&e.baseFeePerGas){r=e.baseFeePerGas;i=BigNumber.from("1500000000");n=e.baseFeePerGas.mul(2).add(i)}return{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:t}}))}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const version$f="abstract-signer/5.7.0";var __awaiter$c=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$u=new Logger(version$f);const allowedTransactionKeys$3=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"];const forwardErrors=[Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){logger$u.checkAbstract(new.target,Signer);defineReadOnly(this,"_isSigner",true)}getBalance(e){return __awaiter$c(this,void 0,void 0,(function*(){this._checkProvider("getBalance");return yield this.provider.getBalance(this.getAddress(),e)}))}getTransactionCount(e){return __awaiter$c(this,void 0,void 0,(function*(){this._checkProvider("getTransactionCount");return yield this.provider.getTransactionCount(this.getAddress(),e)}))}estimateGas(e){return __awaiter$c(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const t=yield resolveProperties(this.checkTransaction(e));return yield this.provider.estimateGas(t)}))}call(e,t){return __awaiter$c(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield resolveProperties(this.checkTransaction(e));return yield this.provider.call(r,t)}))}sendTransaction(e){return __awaiter$c(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e);const r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)}))}getChainId(){return __awaiter$c(this,void 0,void 0,(function*(){this._checkProvider("getChainId");const e=yield this.provider.getNetwork();return e.chainId}))}getGasPrice(){return __awaiter$c(this,void 0,void 0,(function*(){this._checkProvider("getGasPrice");return yield this.provider.getGasPrice()}))}getFeeData(){return __awaiter$c(this,void 0,void 0,(function*(){this._checkProvider("getFeeData");return yield this.provider.getFeeData()}))}resolveName(e){return __awaiter$c(this,void 0,void 0,(function*(){this._checkProvider("resolveName");return yield this.provider.resolveName(e)}))}checkTransaction(e){for(const t in e){if(allowedTransactionKeys$3.indexOf(t)===-1){logger$u.throwArgumentError("invalid transaction key: "+t,"transaction",e)}}const t=shallowCopy(e);if(t.from==null){t.from=this.getAddress()}else{t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then((t=>{if(t[0].toLowerCase()!==t[1].toLowerCase()){logger$u.throwArgumentError("from address mismatch","transaction",e)}return t[0]}))}return t}populateTransaction(e){return __awaiter$c(this,void 0,void 0,(function*(){const t=yield resolveProperties(this.checkTransaction(e));if(t.to!=null){t.to=Promise.resolve(t.to).then((e=>__awaiter$c(this,void 0,void 0,(function*(){if(e==null){return null}const t=yield this.resolveName(e);if(t==null){logger$u.throwArgumentError("provided ENS name resolves to null","tx.to",e)}return t}))));t.to.catch((e=>{}))}const r=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||r)){logger$u.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e)}else if((t.type===0||t.type===1)&&r){logger$u.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e)}if((t.type===2||t.type==null)&&(t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)){t.type=2}else if(t.type===0||t.type===1){if(t.gasPrice==null){t.gasPrice=this.getGasPrice()}}else{const e=yield this.getFeeData();if(t.type==null){if(e.maxFeePerGas!=null&&e.maxPriorityFeePerGas!=null){t.type=2;if(t.gasPrice!=null){const e=t.gasPrice;delete t.gasPrice;t.maxFeePerGas=e;t.maxPriorityFeePerGas=e}else{if(t.maxFeePerGas==null){t.maxFeePerGas=e.maxFeePerGas}if(t.maxPriorityFeePerGas==null){t.maxPriorityFeePerGas=e.maxPriorityFeePerGas}}}else if(e.gasPrice!=null){if(r){logger$u.throwError("network does not support EIP-1559",Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"})}if(t.gasPrice==null){t.gasPrice=e.gasPrice}t.type=0}else{logger$u.throwError("failed to get consistent fee data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"})}}else if(t.type===2){if(t.maxFeePerGas==null){t.maxFeePerGas=e.maxFeePerGas}if(t.maxPriorityFeePerGas==null){t.maxPriorityFeePerGas=e.maxPriorityFeePerGas}}}if(t.nonce==null){t.nonce=this.getTransactionCount("pending")}if(t.gasLimit==null){t.gasLimit=this.estimateGas(t).catch((e=>{if(forwardErrors.indexOf(e.code)>=0){throw e}return logger$u.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))}if(t.chainId==null){t.chainId=this.getChainId()}else{t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then((t=>{if(t[1]!==0&&t[0]!==t[1]){logger$u.throwArgumentError("chainId address mismatch","transaction",e)}return t[0]}))}return yield resolveProperties(t)}))}_checkProvider(e){if(!this.provider){logger$u.throwError("missing provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}}static isSigner(e){return!!(e&&e._isSigner)}}class VoidSigner extends Signer{constructor(e,t){super();defineReadOnly(this,"address",e);defineReadOnly(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then((()=>{logger$u.throwError(e,Logger.errors.UNSUPPORTED_OPERATION,{operation:t})}))}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new VoidSigner(this.address,e)}}const global$1=typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{};var bn=createCommonjsModule$2((function(e){(function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype;e.prototype=new r;e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e)){return e}this.negative=0;this.words=null;this.length=0;this.red=null;if(e!==null){if(t==="le"||t==="be"){r=t;t=10}this._init(e||0,t||10,r||"be")}}if(typeof e==="object"){e.exports=i}else{t.BN=i}i.BN=i;i.wordSize=26;var s;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined"){s=window.Buffer}else{s=require$$0$1.Buffer}}catch(e){}i.isBN=function e(t){if(t instanceof i){return true}return t!==null&&typeof t==="object"&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)};i.max=function e(t,r){if(t.cmp(r)>0)return t;return r};i.min=function e(t,r){if(t.cmp(r)<0)return t;return r};i.prototype._init=function e(t,n,i){if(typeof t==="number"){return this._initNumber(t,n,i)}if(typeof t==="object"){return this._initArray(t,n,i)}if(n==="hex"){n=16}r(n===(n|0)&&n>=2&&n<=36);t=t.toString().replace(/\s+/g,"");var s=0;if(t[0]==="-"){s++;this.negative=1}if(s<t.length){if(n===16){this._parseHex(t,s,i)}else{this._parseBase(t,n,s);if(i==="le"){this._initArray(this.toArray(),n,i)}}}};i.prototype._initNumber=function e(t,n,i){if(t<0){this.negative=1;t=-t}if(t<67108864){this.words=[t&67108863];this.length=1}else if(t<4503599627370496){this.words=[t&67108863,t/67108864&67108863];this.length=2}else{r(t<9007199254740992);this.words=[t&67108863,t/67108864&67108863,1];this.length=3}if(i!=="le")return;this._initArray(this.toArray(),n,i)};i.prototype._initArray=function e(t,n,i){r(typeof t.length==="number");if(t.length<=0){this.words=[0];this.length=1;return this}this.length=Math.ceil(t.length/3);this.words=new Array(this.length);for(var s=0;s<this.length;s++){this.words[s]=0}var f,a;var o=0;if(i==="be"){for(s=t.length-1,f=0;s>=0;s-=3){a=t[s]|t[s-1]<<8|t[s-2]<<16;this.words[f]|=a<<o&67108863;this.words[f+1]=a>>>26-o&67108863;o+=24;if(o>=26){o-=26;f++}}}else if(i==="le"){for(s=0,f=0;s<t.length;s+=3){a=t[s]|t[s+1]<<8|t[s+2]<<16;this.words[f]|=a<<o&67108863;this.words[f+1]=a>>>26-o&67108863;o+=24;if(o>=26){o-=26;f++}}}return this._strip()};function f(e,t){var n=e.charCodeAt(t);if(n>=48&&n<=57){return n-48}else if(n>=65&&n<=70){return n-55}else if(n>=97&&n<=102){return n-87}else{r(false,"Invalid character in "+e)}}function a(e,t,r){var n=f(e,r);if(r-1>=t){n|=f(e,r-1)<<4}return n}i.prototype._parseHex=function e(t,r,n){this.length=Math.ceil((t.length-r)/6);this.words=new Array(this.length);for(var i=0;i<this.length;i++){this.words[i]=0}var s=0;var f=0;var o;if(n==="be"){for(i=t.length-1;i>=r;i-=2){o=a(t,r,i)<<s;this.words[f]|=o&67108863;if(s>=18){s-=18;f+=1;this.words[f]|=o>>>26}else{s+=8}}}else{var c=t.length-r;for(i=c%2===0?r+1:r;i<t.length;i+=2){o=a(t,r,i)<<s;this.words[f]|=o&67108863;if(s>=18){s-=18;f+=1;this.words[f]|=o>>>26}else{s+=8}}}this._strip()};function o(e,t,n,i){var s=0;var f=0;var a=Math.min(e.length,n);for(var o=t;o<a;o++){var c=e.charCodeAt(o)-48;s*=i;if(c>=49){f=c-49+10}else if(c>=17){f=c-17+10}else{f=c}r(c>=0&&f<i,"Invalid character");s+=f}return s}i.prototype._parseBase=function e(t,r,n){this.words=[0];this.length=1;for(var i=0,s=1;s<=67108863;s*=r){i++}i--;s=s/r|0;var f=t.length-n;var a=f%i;var c=Math.min(f,f-a)+n;var u=0;for(var l=n;l<c;l+=i){u=o(t,l,l+i,r);this.imuln(s);if(this.words[0]+u<67108864){this.words[0]+=u}else{this._iaddn(u)}}if(a!==0){var h=1;u=o(t,l,t.length,r);for(l=0;l<a;l++){h*=r}this.imuln(h);if(this.words[0]+u<67108864){this.words[0]+=u}else{this._iaddn(u)}}this._strip()};i.prototype.copy=function e(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++){t.words[r]=this.words[r]}t.length=this.length;t.negative=this.negative;t.red=this.red};function c(e,t){e.words=t.words;e.length=t.length;e.negative=t.negative;e.red=t.red}i.prototype._move=function e(t){c(t,this)};i.prototype.clone=function e(){var t=new i(null);this.copy(t);return t};i.prototype._expand=function e(t){while(this.length<t){this.words[this.length++]=0}return this};i.prototype._strip=function e(){while(this.length>1&&this.words[this.length-1]===0){this.length--}return this._normSign()};i.prototype._normSign=function e(){if(this.length===1&&this.words[0]===0){this.negative=0}return this};if(typeof Symbol!=="undefined"&&typeof Symbol.for==="function"){try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch(e){i.prototype.inspect=u}}else{i.prototype.inspect=u}function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];var h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function e(t,n){t=t||10;n=n|0||1;var i;if(t===16||t==="hex"){i="";var s=0;var f=0;for(var a=0;a<this.length;a++){var o=this.words[a];var c=((o<<s|f)&16777215).toString(16);f=o>>>24-s&16777215;s+=2;if(s>=26){s-=26;a--}if(f!==0||a!==this.length-1){i=l[6-c.length]+c+i}else{i=c+i}}if(f!==0){i=f.toString(16)+i}while(i.length%n!==0){i="0"+i}if(this.negative!==0){i="-"+i}return i}if(t===(t|0)&&t>=2&&t<=36){var u=h[t];var p=d[t];i="";var y=this.clone();y.negative=0;while(!y.isZero()){var b=y.modrn(p).toString(t);y=y.idivn(p);if(!y.isZero()){i=l[u-b.length]+b+i}else{i=b+i}}if(this.isZero()){i="0"+i}while(i.length%n!==0){i="0"+i}if(this.negative!==0){i="-"+i}return i}r(false,"Base should be between 2 and 36")};i.prototype.toNumber=function e(){var t=this.words[0];if(this.length===2){t+=this.words[1]*67108864}else if(this.length===3&&this.words[2]===1){t+=4503599627370496+this.words[1]*67108864}else if(this.length>2){r(false,"Number can only safely store up to 53 bits")}return this.negative!==0?-t:t};i.prototype.toJSON=function e(){return this.toString(16,2)};if(s){i.prototype.toBuffer=function e(t,r){return this.toArrayLike(s,t,r)}}i.prototype.toArray=function e(t,r){return this.toArrayLike(Array,t,r)};var p=function e(t,r){if(t.allocUnsafe){return t.allocUnsafe(r)}return new t(r)};i.prototype.toArrayLike=function e(t,n,i){this._strip();var s=this.byteLength();var f=i||Math.max(1,s);r(s<=f,"byte array longer than desired length");r(f>0,"Requested array length <= 0");var a=p(t,f);var o=n==="le"?"LE":"BE";this["_toArrayLike"+o](a,s);return a};i.prototype._toArrayLikeLE=function e(t,r){var n=0;var i=0;for(var s=0,f=0;s<this.length;s++){var a=this.words[s]<<f|i;t[n++]=a&255;if(n<t.length){t[n++]=a>>8&255}if(n<t.length){t[n++]=a>>16&255}if(f===6){if(n<t.length){t[n++]=a>>24&255}i=0;f=0}else{i=a>>>24;f+=2}}if(n<t.length){t[n++]=i;while(n<t.length){t[n++]=0}}};i.prototype._toArrayLikeBE=function e(t,r){var n=t.length-1;var i=0;for(var s=0,f=0;s<this.length;s++){var a=this.words[s]<<f|i;t[n--]=a&255;if(n>=0){t[n--]=a>>8&255}if(n>=0){t[n--]=a>>16&255}if(f===6){if(n>=0){t[n--]=a>>24&255}i=0;f=0}else{i=a>>>24;f+=2}}if(n>=0){t[n--]=i;while(n>=0){t[n--]=0}}};if(Math.clz32){i.prototype._countBits=function e(t){return 32-Math.clz32(t)}}else{i.prototype._countBits=function e(t){var r=t;var n=0;if(r>=4096){n+=13;r>>>=13}if(r>=64){n+=7;r>>>=7}if(r>=8){n+=4;r>>>=4}if(r>=2){n+=2;r>>>=2}return n+r}}i.prototype._zeroBits=function e(t){if(t===0)return 26;var r=t;var n=0;if((r&8191)===0){n+=13;r>>>=13}if((r&127)===0){n+=7;r>>>=7}if((r&15)===0){n+=4;r>>>=4}if((r&3)===0){n+=2;r>>>=2}if((r&1)===0){n++}return n};i.prototype.bitLength=function e(){var t=this.words[this.length-1];var r=this._countBits(t);return(this.length-1)*26+r};function y(e){var t=new Array(e.bitLength());for(var r=0;r<t.length;r++){var n=r/26|0;var i=r%26;t[r]=e.words[n]>>>i&1}return t}i.prototype.zeroBits=function e(){if(this.isZero())return 0;var t=0;for(var r=0;r<this.length;r++){var n=this._zeroBits(this.words[r]);t+=n;if(n!==26)break}return t};i.prototype.byteLength=function e(){return Math.ceil(this.bitLength()/8)};i.prototype.toTwos=function e(t){if(this.negative!==0){return this.abs().inotn(t).iaddn(1)}return this.clone()};i.prototype.fromTwos=function e(t){if(this.testn(t-1)){return this.notn(t).iaddn(1).ineg()}return this.clone()};i.prototype.isNeg=function e(){return this.negative!==0};i.prototype.neg=function e(){return this.clone().ineg()};i.prototype.ineg=function e(){if(!this.isZero()){this.negative^=1}return this};i.prototype.iuor=function e(t){while(this.length<t.length){this.words[this.length++]=0}for(var r=0;r<t.length;r++){this.words[r]=this.words[r]|t.words[r]}return this._strip()};i.prototype.ior=function e(t){r((this.negative|t.negative)===0);return this.iuor(t)};i.prototype.or=function e(t){if(this.length>t.length)return this.clone().ior(t);return t.clone().ior(this)};i.prototype.uor=function e(t){if(this.length>t.length)return this.clone().iuor(t);return t.clone().iuor(this)};i.prototype.iuand=function e(t){var r;if(this.length>t.length){r=t}else{r=this}for(var n=0;n<r.length;n++){this.words[n]=this.words[n]&t.words[n]}this.length=r.length;return this._strip()};i.prototype.iand=function e(t){r((this.negative|t.negative)===0);return this.iuand(t)};i.prototype.and=function e(t){if(this.length>t.length)return this.clone().iand(t);return t.clone().iand(this)};i.prototype.uand=function e(t){if(this.length>t.length)return this.clone().iuand(t);return t.clone().iuand(this)};i.prototype.iuxor=function e(t){var r;var n;if(this.length>t.length){r=this;n=t}else{r=t;n=this}for(var i=0;i<n.length;i++){this.words[i]=r.words[i]^n.words[i]}if(this!==r){for(;i<r.length;i++){this.words[i]=r.words[i]}}this.length=r.length;return this._strip()};i.prototype.ixor=function e(t){r((this.negative|t.negative)===0);return this.iuxor(t)};i.prototype.xor=function e(t){if(this.length>t.length)return this.clone().ixor(t);return t.clone().ixor(this)};i.prototype.uxor=function e(t){if(this.length>t.length)return this.clone().iuxor(t);return t.clone().iuxor(this)};i.prototype.inotn=function e(t){r(typeof t==="number"&&t>=0);var n=Math.ceil(t/26)|0;var i=t%26;this._expand(n);if(i>0){n--}for(var s=0;s<n;s++){this.words[s]=~this.words[s]&67108863}if(i>0){this.words[s]=~this.words[s]&67108863>>26-i}return this._strip()};i.prototype.notn=function e(t){return this.clone().inotn(t)};i.prototype.setn=function e(t,n){r(typeof t==="number"&&t>=0);var i=t/26|0;var s=t%26;this._expand(i+1);if(n){this.words[i]=this.words[i]|1<<s}else{this.words[i]=this.words[i]&~(1<<s)}return this._strip()};i.prototype.iadd=function e(t){var r;if(this.negative!==0&&t.negative===0){this.negative=0;r=this.isub(t);this.negative^=1;return this._normSign()}else if(this.negative===0&&t.negative!==0){t.negative=0;r=this.isub(t);t.negative=1;return r._normSign()}var n,i;if(this.length>t.length){n=this;i=t}else{n=t;i=this}var s=0;for(var f=0;f<i.length;f++){r=(n.words[f]|0)+(i.words[f]|0)+s;this.words[f]=r&67108863;s=r>>>26}for(;s!==0&&f<n.length;f++){r=(n.words[f]|0)+s;this.words[f]=r&67108863;s=r>>>26}this.length=n.length;if(s!==0){this.words[this.length]=s;this.length++}else if(n!==this){for(;f<n.length;f++){this.words[f]=n.words[f]}}return this};i.prototype.add=function e(t){var r;if(t.negative!==0&&this.negative===0){t.negative=0;r=this.sub(t);t.negative^=1;return r}else if(t.negative===0&&this.negative!==0){this.negative=0;r=t.sub(this);this.negative=1;return r}if(this.length>t.length)return this.clone().iadd(t);return t.clone().iadd(this)};i.prototype.isub=function e(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);t.negative=1;return r._normSign()}else if(this.negative!==0){this.negative=0;this.iadd(t);this.negative=1;return this._normSign()}var n=this.cmp(t);if(n===0){this.negative=0;this.length=1;this.words[0]=0;return this}var i,s;if(n>0){i=this;s=t}else{i=t;s=this}var f=0;for(var a=0;a<s.length;a++){r=(i.words[a]|0)-(s.words[a]|0)+f;f=r>>26;this.words[a]=r&67108863}for(;f!==0&&a<i.length;a++){r=(i.words[a]|0)+f;f=r>>26;this.words[a]=r&67108863}if(f===0&&a<i.length&&i!==this){for(;a<i.length;a++){this.words[a]=i.words[a]}}this.length=Math.max(this.length,a);if(i!==this){this.negative=1}return this._strip()};i.prototype.sub=function e(t){return this.clone().isub(t)};function b(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n;n=n-1|0;var i=e.words[0]|0;var s=t.words[0]|0;var f=i*s;var a=f&67108863;var o=f/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){var u=o>>>26;var l=o&67108863;var h=Math.min(c,t.length-1);for(var d=Math.max(0,c-e.length+1);d<=h;d++){var p=c-d|0;i=e.words[p]|0;s=t.words[d]|0;f=i*s+l;u+=f/67108864|0;l=f&67108863}r.words[c]=l|0;o=u|0}if(o!==0){r.words[c]=o|0}else{r.length--}return r._strip()}var m=function e(t,r,n){var i=t.words;var s=r.words;var f=n.words;var a=0;var o;var c;var u;var l=i[0]|0;var h=l&8191;var d=l>>>13;var p=i[1]|0;var y=p&8191;var b=p>>>13;var m=i[2]|0;var g=m&8191;var v=m>>>13;var w=i[3]|0;var A=w&8191;var $=w>>>13;var _=i[4]|0;var E=_&8191;var S=_>>>13;var T=i[5]|0;var C=T&8191;var P=T>>>13;var x=i[6]|0;var I=x&8191;var k=x>>>13;var M=i[7]|0;var B=M&8191;var R=M>>>13;var N=i[8]|0;var D=N&8191;var O=N>>>13;var U=i[9]|0;var F=U&8191;var L=U>>>13;var j=s[0]|0;var H=j&8191;var K=j>>>13;var G=s[1]|0;var V=G&8191;var X=G>>>13;var W=s[2]|0;var z=W&8191;var Y=W>>>13;var J=s[3]|0;var q=J&8191;var Q=J>>>13;var Z=s[4]|0;var ee=Z&8191;var te=Z>>>13;var re=s[5]|0;var ne=re&8191;var ie=re>>>13;var se=s[6]|0;var fe=se&8191;var ae=se>>>13;var oe=s[7]|0;var ce=oe&8191;var ue=oe>>>13;var le=s[8]|0;var he=le&8191;var de=le>>>13;var pe=s[9]|0;var ye=pe&8191;var be=pe>>>13;n.negative=t.negative^r.negative;n.length=19;o=Math.imul(h,H);c=Math.imul(h,K);c=c+Math.imul(d,H)|0;u=Math.imul(d,K);var me=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(me>>>26)|0;me&=67108863;o=Math.imul(y,H);c=Math.imul(y,K);c=c+Math.imul(b,H)|0;u=Math.imul(b,K);o=o+Math.imul(h,V)|0;c=c+Math.imul(h,X)|0;c=c+Math.imul(d,V)|0;u=u+Math.imul(d,X)|0;var ge=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(ge>>>26)|0;ge&=67108863;o=Math.imul(g,H);c=Math.imul(g,K);c=c+Math.imul(v,H)|0;u=Math.imul(v,K);o=o+Math.imul(y,V)|0;c=c+Math.imul(y,X)|0;c=c+Math.imul(b,V)|0;u=u+Math.imul(b,X)|0;o=o+Math.imul(h,z)|0;c=c+Math.imul(h,Y)|0;c=c+Math.imul(d,z)|0;u=u+Math.imul(d,Y)|0;var ve=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(ve>>>26)|0;ve&=67108863;o=Math.imul(A,H);c=Math.imul(A,K);c=c+Math.imul($,H)|0;u=Math.imul($,K);o=o+Math.imul(g,V)|0;c=c+Math.imul(g,X)|0;c=c+Math.imul(v,V)|0;u=u+Math.imul(v,X)|0;o=o+Math.imul(y,z)|0;c=c+Math.imul(y,Y)|0;c=c+Math.imul(b,z)|0;u=u+Math.imul(b,Y)|0;o=o+Math.imul(h,q)|0;c=c+Math.imul(h,Q)|0;c=c+Math.imul(d,q)|0;u=u+Math.imul(d,Q)|0;var we=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(we>>>26)|0;we&=67108863;o=Math.imul(E,H);c=Math.imul(E,K);c=c+Math.imul(S,H)|0;u=Math.imul(S,K);o=o+Math.imul(A,V)|0;c=c+Math.imul(A,X)|0;c=c+Math.imul($,V)|0;u=u+Math.imul($,X)|0;o=o+Math.imul(g,z)|0;c=c+Math.imul(g,Y)|0;c=c+Math.imul(v,z)|0;u=u+Math.imul(v,Y)|0;o=o+Math.imul(y,q)|0;c=c+Math.imul(y,Q)|0;c=c+Math.imul(b,q)|0;u=u+Math.imul(b,Q)|0;o=o+Math.imul(h,ee)|0;c=c+Math.imul(h,te)|0;c=c+Math.imul(d,ee)|0;u=u+Math.imul(d,te)|0;var Ae=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ae>>>26)|0;Ae&=67108863;o=Math.imul(C,H);c=Math.imul(C,K);c=c+Math.imul(P,H)|0;u=Math.imul(P,K);o=o+Math.imul(E,V)|0;c=c+Math.imul(E,X)|0;c=c+Math.imul(S,V)|0;u=u+Math.imul(S,X)|0;o=o+Math.imul(A,z)|0;c=c+Math.imul(A,Y)|0;c=c+Math.imul($,z)|0;u=u+Math.imul($,Y)|0;o=o+Math.imul(g,q)|0;c=c+Math.imul(g,Q)|0;c=c+Math.imul(v,q)|0;u=u+Math.imul(v,Q)|0;o=o+Math.imul(y,ee)|0;c=c+Math.imul(y,te)|0;c=c+Math.imul(b,ee)|0;u=u+Math.imul(b,te)|0;o=o+Math.imul(h,ne)|0;c=c+Math.imul(h,ie)|0;c=c+Math.imul(d,ne)|0;u=u+Math.imul(d,ie)|0;var $e=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+($e>>>26)|0;$e&=67108863;o=Math.imul(I,H);c=Math.imul(I,K);c=c+Math.imul(k,H)|0;u=Math.imul(k,K);o=o+Math.imul(C,V)|0;c=c+Math.imul(C,X)|0;c=c+Math.imul(P,V)|0;u=u+Math.imul(P,X)|0;o=o+Math.imul(E,z)|0;c=c+Math.imul(E,Y)|0;c=c+Math.imul(S,z)|0;u=u+Math.imul(S,Y)|0;o=o+Math.imul(A,q)|0;c=c+Math.imul(A,Q)|0;c=c+Math.imul($,q)|0;u=u+Math.imul($,Q)|0;o=o+Math.imul(g,ee)|0;c=c+Math.imul(g,te)|0;c=c+Math.imul(v,ee)|0;u=u+Math.imul(v,te)|0;o=o+Math.imul(y,ne)|0;c=c+Math.imul(y,ie)|0;c=c+Math.imul(b,ne)|0;u=u+Math.imul(b,ie)|0;o=o+Math.imul(h,fe)|0;c=c+Math.imul(h,ae)|0;c=c+Math.imul(d,fe)|0;u=u+Math.imul(d,ae)|0;var _e=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(_e>>>26)|0;_e&=67108863;o=Math.imul(B,H);c=Math.imul(B,K);c=c+Math.imul(R,H)|0;u=Math.imul(R,K);o=o+Math.imul(I,V)|0;c=c+Math.imul(I,X)|0;c=c+Math.imul(k,V)|0;u=u+Math.imul(k,X)|0;o=o+Math.imul(C,z)|0;c=c+Math.imul(C,Y)|0;c=c+Math.imul(P,z)|0;u=u+Math.imul(P,Y)|0;o=o+Math.imul(E,q)|0;c=c+Math.imul(E,Q)|0;c=c+Math.imul(S,q)|0;u=u+Math.imul(S,Q)|0;o=o+Math.imul(A,ee)|0;c=c+Math.imul(A,te)|0;c=c+Math.imul($,ee)|0;u=u+Math.imul($,te)|0;o=o+Math.imul(g,ne)|0;c=c+Math.imul(g,ie)|0;c=c+Math.imul(v,ne)|0;u=u+Math.imul(v,ie)|0;o=o+Math.imul(y,fe)|0;c=c+Math.imul(y,ae)|0;c=c+Math.imul(b,fe)|0;u=u+Math.imul(b,ae)|0;o=o+Math.imul(h,ce)|0;c=c+Math.imul(h,ue)|0;c=c+Math.imul(d,ce)|0;u=u+Math.imul(d,ue)|0;var Ee=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ee>>>26)|0;Ee&=67108863;o=Math.imul(D,H);c=Math.imul(D,K);c=c+Math.imul(O,H)|0;u=Math.imul(O,K);o=o+Math.imul(B,V)|0;c=c+Math.imul(B,X)|0;c=c+Math.imul(R,V)|0;u=u+Math.imul(R,X)|0;o=o+Math.imul(I,z)|0;c=c+Math.imul(I,Y)|0;c=c+Math.imul(k,z)|0;u=u+Math.imul(k,Y)|0;o=o+Math.imul(C,q)|0;c=c+Math.imul(C,Q)|0;c=c+Math.imul(P,q)|0;u=u+Math.imul(P,Q)|0;o=o+Math.imul(E,ee)|0;c=c+Math.imul(E,te)|0;c=c+Math.imul(S,ee)|0;u=u+Math.imul(S,te)|0;o=o+Math.imul(A,ne)|0;c=c+Math.imul(A,ie)|0;c=c+Math.imul($,ne)|0;u=u+Math.imul($,ie)|0;o=o+Math.imul(g,fe)|0;c=c+Math.imul(g,ae)|0;c=c+Math.imul(v,fe)|0;u=u+Math.imul(v,ae)|0;o=o+Math.imul(y,ce)|0;c=c+Math.imul(y,ue)|0;c=c+Math.imul(b,ce)|0;u=u+Math.imul(b,ue)|0;o=o+Math.imul(h,he)|0;c=c+Math.imul(h,de)|0;c=c+Math.imul(d,he)|0;u=u+Math.imul(d,de)|0;var Se=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Se>>>26)|0;Se&=67108863;o=Math.imul(F,H);c=Math.imul(F,K);c=c+Math.imul(L,H)|0;u=Math.imul(L,K);o=o+Math.imul(D,V)|0;c=c+Math.imul(D,X)|0;c=c+Math.imul(O,V)|0;u=u+Math.imul(O,X)|0;o=o+Math.imul(B,z)|0;c=c+Math.imul(B,Y)|0;c=c+Math.imul(R,z)|0;u=u+Math.imul(R,Y)|0;o=o+Math.imul(I,q)|0;c=c+Math.imul(I,Q)|0;c=c+Math.imul(k,q)|0;u=u+Math.imul(k,Q)|0;o=o+Math.imul(C,ee)|0;c=c+Math.imul(C,te)|0;c=c+Math.imul(P,ee)|0;u=u+Math.imul(P,te)|0;o=o+Math.imul(E,ne)|0;c=c+Math.imul(E,ie)|0;c=c+Math.imul(S,ne)|0;u=u+Math.imul(S,ie)|0;o=o+Math.imul(A,fe)|0;c=c+Math.imul(A,ae)|0;c=c+Math.imul($,fe)|0;u=u+Math.imul($,ae)|0;o=o+Math.imul(g,ce)|0;c=c+Math.imul(g,ue)|0;c=c+Math.imul(v,ce)|0;u=u+Math.imul(v,ue)|0;o=o+Math.imul(y,he)|0;c=c+Math.imul(y,de)|0;c=c+Math.imul(b,he)|0;u=u+Math.imul(b,de)|0;o=o+Math.imul(h,ye)|0;c=c+Math.imul(h,be)|0;c=c+Math.imul(d,ye)|0;u=u+Math.imul(d,be)|0;var Te=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Te>>>26)|0;Te&=67108863;o=Math.imul(F,V);c=Math.imul(F,X);c=c+Math.imul(L,V)|0;u=Math.imul(L,X);o=o+Math.imul(D,z)|0;c=c+Math.imul(D,Y)|0;c=c+Math.imul(O,z)|0;u=u+Math.imul(O,Y)|0;o=o+Math.imul(B,q)|0;c=c+Math.imul(B,Q)|0;c=c+Math.imul(R,q)|0;u=u+Math.imul(R,Q)|0;o=o+Math.imul(I,ee)|0;c=c+Math.imul(I,te)|0;c=c+Math.imul(k,ee)|0;u=u+Math.imul(k,te)|0;o=o+Math.imul(C,ne)|0;c=c+Math.imul(C,ie)|0;c=c+Math.imul(P,ne)|0;u=u+Math.imul(P,ie)|0;o=o+Math.imul(E,fe)|0;c=c+Math.imul(E,ae)|0;c=c+Math.imul(S,fe)|0;u=u+Math.imul(S,ae)|0;o=o+Math.imul(A,ce)|0;c=c+Math.imul(A,ue)|0;c=c+Math.imul($,ce)|0;u=u+Math.imul($,ue)|0;o=o+Math.imul(g,he)|0;c=c+Math.imul(g,de)|0;c=c+Math.imul(v,he)|0;u=u+Math.imul(v,de)|0;o=o+Math.imul(y,ye)|0;c=c+Math.imul(y,be)|0;c=c+Math.imul(b,ye)|0;u=u+Math.imul(b,be)|0;var Ce=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ce>>>26)|0;Ce&=67108863;o=Math.imul(F,z);c=Math.imul(F,Y);c=c+Math.imul(L,z)|0;u=Math.imul(L,Y);o=o+Math.imul(D,q)|0;c=c+Math.imul(D,Q)|0;c=c+Math.imul(O,q)|0;u=u+Math.imul(O,Q)|0;o=o+Math.imul(B,ee)|0;c=c+Math.imul(B,te)|0;c=c+Math.imul(R,ee)|0;u=u+Math.imul(R,te)|0;o=o+Math.imul(I,ne)|0;c=c+Math.imul(I,ie)|0;c=c+Math.imul(k,ne)|0;u=u+Math.imul(k,ie)|0;o=o+Math.imul(C,fe)|0;c=c+Math.imul(C,ae)|0;c=c+Math.imul(P,fe)|0;u=u+Math.imul(P,ae)|0;o=o+Math.imul(E,ce)|0;c=c+Math.imul(E,ue)|0;c=c+Math.imul(S,ce)|0;u=u+Math.imul(S,ue)|0;o=o+Math.imul(A,he)|0;c=c+Math.imul(A,de)|0;c=c+Math.imul($,he)|0;u=u+Math.imul($,de)|0;o=o+Math.imul(g,ye)|0;c=c+Math.imul(g,be)|0;c=c+Math.imul(v,ye)|0;u=u+Math.imul(v,be)|0;var Pe=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Pe>>>26)|0;Pe&=67108863;o=Math.imul(F,q);c=Math.imul(F,Q);c=c+Math.imul(L,q)|0;u=Math.imul(L,Q);o=o+Math.imul(D,ee)|0;c=c+Math.imul(D,te)|0;c=c+Math.imul(O,ee)|0;u=u+Math.imul(O,te)|0;o=o+Math.imul(B,ne)|0;c=c+Math.imul(B,ie)|0;c=c+Math.imul(R,ne)|0;u=u+Math.imul(R,ie)|0;o=o+Math.imul(I,fe)|0;c=c+Math.imul(I,ae)|0;c=c+Math.imul(k,fe)|0;u=u+Math.imul(k,ae)|0;o=o+Math.imul(C,ce)|0;c=c+Math.imul(C,ue)|0;c=c+Math.imul(P,ce)|0;u=u+Math.imul(P,ue)|0;o=o+Math.imul(E,he)|0;c=c+Math.imul(E,de)|0;c=c+Math.imul(S,he)|0;u=u+Math.imul(S,de)|0;o=o+Math.imul(A,ye)|0;c=c+Math.imul(A,be)|0;c=c+Math.imul($,ye)|0;u=u+Math.imul($,be)|0;var xe=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(xe>>>26)|0;xe&=67108863;o=Math.imul(F,ee);c=Math.imul(F,te);c=c+Math.imul(L,ee)|0;u=Math.imul(L,te);o=o+Math.imul(D,ne)|0;c=c+Math.imul(D,ie)|0;c=c+Math.imul(O,ne)|0;u=u+Math.imul(O,ie)|0;o=o+Math.imul(B,fe)|0;c=c+Math.imul(B,ae)|0;c=c+Math.imul(R,fe)|0;u=u+Math.imul(R,ae)|0;o=o+Math.imul(I,ce)|0;c=c+Math.imul(I,ue)|0;c=c+Math.imul(k,ce)|0;u=u+Math.imul(k,ue)|0;o=o+Math.imul(C,he)|0;c=c+Math.imul(C,de)|0;c=c+Math.imul(P,he)|0;u=u+Math.imul(P,de)|0;o=o+Math.imul(E,ye)|0;c=c+Math.imul(E,be)|0;c=c+Math.imul(S,ye)|0;u=u+Math.imul(S,be)|0;var Ie=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ie>>>26)|0;Ie&=67108863;o=Math.imul(F,ne);c=Math.imul(F,ie);c=c+Math.imul(L,ne)|0;u=Math.imul(L,ie);o=o+Math.imul(D,fe)|0;c=c+Math.imul(D,ae)|0;c=c+Math.imul(O,fe)|0;u=u+Math.imul(O,ae)|0;o=o+Math.imul(B,ce)|0;c=c+Math.imul(B,ue)|0;c=c+Math.imul(R,ce)|0;u=u+Math.imul(R,ue)|0;o=o+Math.imul(I,he)|0;c=c+Math.imul(I,de)|0;c=c+Math.imul(k,he)|0;u=u+Math.imul(k,de)|0;o=o+Math.imul(C,ye)|0;c=c+Math.imul(C,be)|0;c=c+Math.imul(P,ye)|0;u=u+Math.imul(P,be)|0;var ke=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(ke>>>26)|0;ke&=67108863;o=Math.imul(F,fe);c=Math.imul(F,ae);c=c+Math.imul(L,fe)|0;u=Math.imul(L,ae);o=o+Math.imul(D,ce)|0;c=c+Math.imul(D,ue)|0;c=c+Math.imul(O,ce)|0;u=u+Math.imul(O,ue)|0;o=o+Math.imul(B,he)|0;c=c+Math.imul(B,de)|0;c=c+Math.imul(R,he)|0;u=u+Math.imul(R,de)|0;o=o+Math.imul(I,ye)|0;c=c+Math.imul(I,be)|0;c=c+Math.imul(k,ye)|0;u=u+Math.imul(k,be)|0;var Me=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Me>>>26)|0;Me&=67108863;o=Math.imul(F,ce);c=Math.imul(F,ue);c=c+Math.imul(L,ce)|0;u=Math.imul(L,ue);o=o+Math.imul(D,he)|0;c=c+Math.imul(D,de)|0;c=c+Math.imul(O,he)|0;u=u+Math.imul(O,de)|0;o=o+Math.imul(B,ye)|0;c=c+Math.imul(B,be)|0;c=c+Math.imul(R,ye)|0;u=u+Math.imul(R,be)|0;var Be=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Be>>>26)|0;Be&=67108863;o=Math.imul(F,he);c=Math.imul(F,de);c=c+Math.imul(L,he)|0;u=Math.imul(L,de);o=o+Math.imul(D,ye)|0;c=c+Math.imul(D,be)|0;c=c+Math.imul(O,ye)|0;u=u+Math.imul(O,be)|0;var Re=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Re>>>26)|0;Re&=67108863;o=Math.imul(F,ye);c=Math.imul(F,be);c=c+Math.imul(L,ye)|0;u=Math.imul(L,be);var Ne=(a+o|0)+((c&8191)<<13)|0;a=(u+(c>>>13)|0)+(Ne>>>26)|0;Ne&=67108863;f[0]=me;f[1]=ge;f[2]=ve;f[3]=we;f[4]=Ae;f[5]=$e;f[6]=_e;f[7]=Ee;f[8]=Se;f[9]=Te;f[10]=Ce;f[11]=Pe;f[12]=xe;f[13]=Ie;f[14]=ke;f[15]=Me;f[16]=Be;f[17]=Re;f[18]=Ne;if(a!==0){f[19]=a;n.length++}return n};if(!Math.imul){m=b}function g(e,t,r){r.negative=t.negative^e.negative;r.length=e.length+t.length;var n=0;var i=0;for(var s=0;s<r.length-1;s++){var f=i;i=0;var a=n&67108863;var o=Math.min(s,t.length-1);for(var c=Math.max(0,s-e.length+1);c<=o;c++){var u=s-c;var l=e.words[u]|0;var h=t.words[c]|0;var d=l*h;var p=d&67108863;f=f+(d/67108864|0)|0;p=p+a|0;a=p&67108863;f=f+(p>>>26)|0;i+=f>>>26;f&=67108863}r.words[s]=a;n=f;f=i}if(n!==0){r.words[s]=n}else{r.length--}return r._strip()}function v(e,t,r){return g(e,t,r)}i.prototype.mulTo=function e(t,r){var n;var i=this.length+t.length;if(this.length===10&&t.length===10){n=m(this,t,r)}else if(i<63){n=b(this,t,r)}else if(i<1024){n=g(this,t,r)}else{n=v(this,t,r)}return n};i.prototype.mul=function e(t){var r=new i(null);r.words=new Array(this.length+t.length);return this.mulTo(t,r)};i.prototype.mulf=function e(t){var r=new i(null);r.words=new Array(this.length+t.length);return v(this,t,r)};i.prototype.imul=function e(t){return this.clone().mulTo(t,this)};i.prototype.imuln=function e(t){var n=t<0;if(n)t=-t;r(typeof t==="number");r(t<67108864);var i=0;for(var s=0;s<this.length;s++){var f=(this.words[s]|0)*t;var a=(f&67108863)+(i&67108863);i>>=26;i+=f/67108864|0;i+=a>>>26;this.words[s]=a&67108863}if(i!==0){this.words[s]=i;this.length++}return n?this.ineg():this};i.prototype.muln=function e(t){return this.clone().imuln(t)};i.prototype.sqr=function e(){return this.mul(this)};i.prototype.isqr=function e(){return this.imul(this.clone())};i.prototype.pow=function e(t){var r=y(t);if(r.length===0)return new i(1);var n=this;for(var s=0;s<r.length;s++,n=n.sqr()){if(r[s]!==0)break}if(++s<r.length){for(var f=n.sqr();s<r.length;s++,f=f.sqr()){if(r[s]===0)continue;n=n.mul(f)}}return n};i.prototype.iushln=function e(t){r(typeof t==="number"&&t>=0);var n=t%26;var i=(t-n)/26;var s=67108863>>>26-n<<26-n;var f;if(n!==0){var a=0;for(f=0;f<this.length;f++){var o=this.words[f]&s;var c=(this.words[f]|0)-o<<n;this.words[f]=c|a;a=o>>>26-n}if(a){this.words[f]=a;this.length++}}if(i!==0){for(f=this.length-1;f>=0;f--){this.words[f+i]=this.words[f]}for(f=0;f<i;f++){this.words[f]=0}this.length+=i}return this._strip()};i.prototype.ishln=function e(t){r(this.negative===0);return this.iushln(t)};i.prototype.iushrn=function e(t,n,i){r(typeof t==="number"&&t>=0);var s;if(n){s=(n-n%26)/26}else{s=0}var f=t%26;var a=Math.min((t-f)/26,this.length);var o=67108863^67108863>>>f<<f;var c=i;s-=a;s=Math.max(0,s);if(c){for(var u=0;u<a;u++){c.words[u]=this.words[u]}c.length=a}if(a===0);else if(this.length>a){this.length-=a;for(u=0;u<this.length;u++){this.words[u]=this.words[u+a]}}else{this.words[0]=0;this.length=1}var l=0;for(u=this.length-1;u>=0&&(l!==0||u>=s);u--){var h=this.words[u]|0;this.words[u]=l<<26-f|h>>>f;l=h&o}if(c&&l!==0){c.words[c.length++]=l}if(this.length===0){this.words[0]=0;this.length=1}return this._strip()};i.prototype.ishrn=function e(t,n,i){r(this.negative===0);return this.iushrn(t,n,i)};i.prototype.shln=function e(t){return this.clone().ishln(t)};i.prototype.ushln=function e(t){return this.clone().iushln(t)};i.prototype.shrn=function e(t){return this.clone().ishrn(t)};i.prototype.ushrn=function e(t){return this.clone().iushrn(t)};i.prototype.testn=function e(t){r(typeof t==="number"&&t>=0);var n=t%26;var i=(t-n)/26;var s=1<<n;if(this.length<=i)return false;var f=this.words[i];return!!(f&s)};i.prototype.imaskn=function e(t){r(typeof t==="number"&&t>=0);var n=t%26;var i=(t-n)/26;r(this.negative===0,"imaskn works only with positive numbers");if(this.length<=i){return this}if(n!==0){i++}this.length=Math.min(i,this.length);if(n!==0){var s=67108863^67108863>>>n<<n;this.words[this.length-1]&=s}return this._strip()};i.prototype.maskn=function e(t){return this.clone().imaskn(t)};i.prototype.iaddn=function e(t){r(typeof t==="number");r(t<67108864);if(t<0)return this.isubn(-t);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<=t){this.words[0]=t-(this.words[0]|0);this.negative=0;return this}this.negative=0;this.isubn(t);this.negative=1;return this}return this._iaddn(t)};i.prototype._iaddn=function e(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++){this.words[r]-=67108864;if(r===this.length-1){this.words[r+1]=1}else{this.words[r+1]++}}this.length=Math.max(this.length,r+1);return this};i.prototype.isubn=function e(t){r(typeof t==="number");r(t<67108864);if(t<0)return this.iaddn(-t);if(this.negative!==0){this.negative=0;this.iaddn(t);this.negative=1;return this}this.words[0]-=t;if(this.length===1&&this.words[0]<0){this.words[0]=-this.words[0];this.negative=1}else{for(var n=0;n<this.length&&this.words[n]<0;n++){this.words[n]+=67108864;this.words[n+1]-=1}}return this._strip()};i.prototype.addn=function e(t){return this.clone().iaddn(t)};i.prototype.subn=function e(t){return this.clone().isubn(t)};i.prototype.iabs=function e(){this.negative=0;return this};i.prototype.abs=function e(){return this.clone().iabs()};i.prototype._ishlnsubmul=function e(t,n,i){var s=t.length+i;var f;this._expand(s);var a;var o=0;for(f=0;f<t.length;f++){a=(this.words[f+i]|0)+o;var c=(t.words[f]|0)*n;a-=c&67108863;o=(a>>26)-(c/67108864|0);this.words[f+i]=a&67108863}for(;f<this.length-i;f++){a=(this.words[f+i]|0)+o;o=a>>26;this.words[f+i]=a&67108863}if(o===0)return this._strip();r(o===-1);o=0;for(f=0;f<this.length;f++){a=-(this.words[f]|0)+o;o=a>>26;this.words[f]=a&67108863}this.negative=1;return this._strip()};i.prototype._wordDiv=function e(t,r){var n=this.length-t.length;var s=this.clone();var f=t;var a=f.words[f.length-1]|0;var o=this._countBits(a);n=26-o;if(n!==0){f=f.ushln(n);s.iushln(n);a=f.words[f.length-1]|0}var c=s.length-f.length;var u;if(r!=="mod"){u=new i(null);u.length=c+1;u.words=new Array(u.length);for(var l=0;l<u.length;l++){u.words[l]=0}}var h=s.clone()._ishlnsubmul(f,1,c);if(h.negative===0){s=h;if(u){u.words[c]=1}}for(var d=c-1;d>=0;d--){var p=(s.words[f.length+d]|0)*67108864+(s.words[f.length+d-1]|0);p=Math.min(p/a|0,67108863);s._ishlnsubmul(f,p,d);while(s.negative!==0){p--;s.negative=0;s._ishlnsubmul(f,1,d);if(!s.isZero()){s.negative^=1}}if(u){u.words[d]=p}}if(u){u._strip()}s._strip();if(r!=="div"&&n!==0){s.iushrn(n)}return{div:u||null,mod:s}};i.prototype.divmod=function e(t,n,s){r(!t.isZero());if(this.isZero()){return{div:new i(0),mod:new i(0)}}var f,a,o;if(this.negative!==0&&t.negative===0){o=this.neg().divmod(t,n);if(n!=="mod"){f=o.div.neg()}if(n!=="div"){a=o.mod.neg();if(s&&a.negative!==0){a.iadd(t)}}return{div:f,mod:a}}if(this.negative===0&&t.negative!==0){o=this.divmod(t.neg(),n);if(n!=="mod"){f=o.div.neg()}return{div:f,mod:o.mod}}if((this.negative&t.negative)!==0){o=this.neg().divmod(t.neg(),n);if(n!=="div"){a=o.mod.neg();if(s&&a.negative!==0){a.isub(t)}}return{div:o.div,mod:a}}if(t.length>this.length||this.cmp(t)<0){return{div:new i(0),mod:this}}if(t.length===1){if(n==="div"){return{div:this.divn(t.words[0]),mod:null}}if(n==="mod"){return{div:null,mod:new i(this.modrn(t.words[0]))}}return{div:this.divn(t.words[0]),mod:new i(this.modrn(t.words[0]))}}return this._wordDiv(t,n)};i.prototype.div=function e(t){return this.divmod(t,"div",false).div};i.prototype.mod=function e(t){return this.divmod(t,"mod",false).mod};i.prototype.umod=function e(t){return this.divmod(t,"mod",true).mod};i.prototype.divRound=function e(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var n=r.div.negative!==0?r.mod.isub(t):r.mod;var i=t.ushrn(1);var s=t.andln(1);var f=n.cmp(i);if(f<0||s===1&&f===0)return r.div;return r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)};i.prototype.modrn=function e(t){var n=t<0;if(n)t=-t;r(t<=67108863);var i=(1<<26)%t;var s=0;for(var f=this.length-1;f>=0;f--){s=(i*s+(this.words[f]|0))%t}return n?-s:s};i.prototype.modn=function e(t){return this.modrn(t)};i.prototype.idivn=function e(t){var n=t<0;if(n)t=-t;r(t<=67108863);var i=0;for(var s=this.length-1;s>=0;s--){var f=(this.words[s]|0)+i*67108864;this.words[s]=f/t|0;i=f%t}this._strip();return n?this.ineg():this};i.prototype.divn=function e(t){return this.clone().idivn(t)};i.prototype.egcd=function e(t){r(t.negative===0);r(!t.isZero());var n=this;var s=t.clone();if(n.negative!==0){n=n.umod(t)}else{n=n.clone()}var f=new i(1);var a=new i(0);var o=new i(0);var c=new i(1);var u=0;while(n.isEven()&&s.isEven()){n.iushrn(1);s.iushrn(1);++u}var l=s.clone();var h=n.clone();while(!n.isZero()){for(var d=0,p=1;(n.words[0]&p)===0&&d<26;++d,p<<=1);if(d>0){n.iushrn(d);while(d-- >0){if(f.isOdd()||a.isOdd()){f.iadd(l);a.isub(h)}f.iushrn(1);a.iushrn(1)}}for(var y=0,b=1;(s.words[0]&b)===0&&y<26;++y,b<<=1);if(y>0){s.iushrn(y);while(y-- >0){if(o.isOdd()||c.isOdd()){o.iadd(l);c.isub(h)}o.iushrn(1);c.iushrn(1)}}if(n.cmp(s)>=0){n.isub(s);f.isub(o);a.isub(c)}else{s.isub(n);o.isub(f);c.isub(a)}}return{a:o,b:c,gcd:s.iushln(u)}};i.prototype._invmp=function e(t){r(t.negative===0);r(!t.isZero());var n=this;var s=t.clone();if(n.negative!==0){n=n.umod(t)}else{n=n.clone()}var f=new i(1);var a=new i(0);var o=s.clone();while(n.cmpn(1)>0&&s.cmpn(1)>0){for(var c=0,u=1;(n.words[0]&u)===0&&c<26;++c,u<<=1);if(c>0){n.iushrn(c);while(c-- >0){if(f.isOdd()){f.iadd(o)}f.iushrn(1)}}for(var l=0,h=1;(s.words[0]&h)===0&&l<26;++l,h<<=1);if(l>0){s.iushrn(l);while(l-- >0){if(a.isOdd()){a.iadd(o)}a.iushrn(1)}}if(n.cmp(s)>=0){n.isub(s);f.isub(a)}else{s.isub(n);a.isub(f)}}var d;if(n.cmpn(1)===0){d=f}else{d=a}if(d.cmpn(0)<0){d.iadd(t)}return d};i.prototype.gcd=function e(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone();var n=t.clone();r.negative=0;n.negative=0;for(var i=0;r.isEven()&&n.isEven();i++){r.iushrn(1);n.iushrn(1)}do{while(r.isEven()){r.iushrn(1)}while(n.isEven()){n.iushrn(1)}var s=r.cmp(n);if(s<0){var f=r;r=n;n=f}else if(s===0||n.cmpn(1)===0){break}r.isub(n)}while(true);return n.iushln(i)};i.prototype.invm=function e(t){return this.egcd(t).a.umod(t)};i.prototype.isEven=function e(){return(this.words[0]&1)===0};i.prototype.isOdd=function e(){return(this.words[0]&1)===1};i.prototype.andln=function e(t){return this.words[0]&t};i.prototype.bincn=function e(t){r(typeof t==="number");var n=t%26;var i=(t-n)/26;var s=1<<n;if(this.length<=i){this._expand(i+1);this.words[i]|=s;return this}var f=s;for(var a=i;f!==0&&a<this.length;a++){var o=this.words[a]|0;o+=f;f=o>>>26;o&=67108863;this.words[a]=o}if(f!==0){this.words[a]=f;this.length++}return this};i.prototype.isZero=function e(){return this.length===1&&this.words[0]===0};i.prototype.cmpn=function e(t){var n=t<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this._strip();var i;if(this.length>1){i=1}else{if(n){t=-t}r(t<=67108863,"Number is too big");var s=this.words[0]|0;i=s===t?0:s<t?-1:1}if(this.negative!==0)return-i|0;return i};i.prototype.cmp=function e(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);if(this.negative!==0)return-r|0;return r};i.prototype.ucmp=function e(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;var r=0;for(var n=this.length-1;n>=0;n--){var i=this.words[n]|0;var s=t.words[n]|0;if(i===s)continue;if(i<s){r=-1}else if(i>s){r=1}break}return r};i.prototype.gtn=function e(t){return this.cmpn(t)===1};i.prototype.gt=function e(t){return this.cmp(t)===1};i.prototype.gten=function e(t){return this.cmpn(t)>=0};i.prototype.gte=function e(t){return this.cmp(t)>=0};i.prototype.ltn=function e(t){return this.cmpn(t)===-1};i.prototype.lt=function e(t){return this.cmp(t)===-1};i.prototype.lten=function e(t){return this.cmpn(t)<=0};i.prototype.lte=function e(t){return this.cmp(t)<=0};i.prototype.eqn=function e(t){return this.cmpn(t)===0};i.prototype.eq=function e(t){return this.cmp(t)===0};i.red=function e(t){return new T(t)};i.prototype.toRed=function e(t){r(!this.red,"Already a number in reduction context");r(this.negative===0,"red works only with positives");return t.convertTo(this)._forceRed(t)};i.prototype.fromRed=function e(){r(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};i.prototype._forceRed=function e(t){this.red=t;return this};i.prototype.forceRed=function e(t){r(!this.red,"Already a number in reduction context");return this._forceRed(t)};i.prototype.redAdd=function e(t){r(this.red,"redAdd works only with red numbers");return this.red.add(this,t)};i.prototype.redIAdd=function e(t){r(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,t)};i.prototype.redSub=function e(t){r(this.red,"redSub works only with red numbers");return this.red.sub(this,t)};i.prototype.redISub=function e(t){r(this.red,"redISub works only with red numbers");return this.red.isub(this,t)};i.prototype.redShl=function e(t){r(this.red,"redShl works only with red numbers");return this.red.shl(this,t)};i.prototype.redMul=function e(t){r(this.red,"redMul works only with red numbers");this.red._verify2(this,t);return this.red.mul(this,t)};i.prototype.redIMul=function e(t){r(this.red,"redMul works only with red numbers");this.red._verify2(this,t);return this.red.imul(this,t)};i.prototype.redSqr=function e(){r(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};i.prototype.redISqr=function e(){r(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};i.prototype.redSqrt=function e(){r(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};i.prototype.redInvm=function e(){r(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};i.prototype.redNeg=function e(){r(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};i.prototype.redPow=function e(t){r(this.red&&!t.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function A(e,t){this.name=e;this.p=new i(t,16);this.n=this.p.bitLength();this.k=new i(1).iushln(this.n).isub(this.p);this.tmp=this._tmp()}A.prototype._tmp=function e(){var t=new i(null);t.words=new Array(Math.ceil(this.n/13));return t};A.prototype.ireduce=function e(t){var r=t;var n;do{this.split(r,this.tmp);r=this.imulK(r);r=r.iadd(this.tmp);n=r.bitLength()}while(n>this.n);var i=n<this.n?-1:r.ucmp(this.p);if(i===0){r.words[0]=0;r.length=1}else if(i>0){r.isub(this.p)}else{if(r.strip!==undefined){r.strip()}else{r._strip()}}return r};A.prototype.split=function e(t,r){t.iushrn(this.n,0,r)};A.prototype.imulK=function e(t){return t.imul(this.k)};function $(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n($,A);$.prototype.split=function e(t,r){var n=4194303;var i=Math.min(t.length,9);for(var s=0;s<i;s++){r.words[s]=t.words[s]}r.length=i;if(t.length<=9){t.words[0]=0;t.length=1;return}var f=t.words[9];r.words[r.length++]=f&n;for(s=10;s<t.length;s++){var a=t.words[s]|0;t.words[s-10]=(a&n)<<4|f>>>22;f=a}f>>>=22;t.words[s-10]=f;if(f===0&&t.length>10){t.length-=10}else{t.length-=9}};$.prototype.imulK=function e(t){t.words[t.length]=0;t.words[t.length+1]=0;t.length+=2;var r=0;for(var n=0;n<t.length;n++){var i=t.words[n]|0;r+=i*977;t.words[n]=r&67108863;r=i*64+(r/67108864|0)}if(t.words[t.length-1]===0){t.length--;if(t.words[t.length-1]===0){t.length--}}return t};function _(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(_,A);function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(E,A);function S(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(S,A);S.prototype.imulK=function e(t){var r=0;for(var n=0;n<t.length;n++){var i=(t.words[n]|0)*19+r;var s=i&67108863;i>>>=26;t.words[n]=s;r=i}if(r!==0){t.words[t.length++]=r}return t};i._prime=function e(t){if(w[t])return w[t];var e;if(t==="k256"){e=new $}else if(t==="p224"){e=new _}else if(t==="p192"){e=new E}else if(t==="p25519"){e=new S}else{throw new Error("Unknown prime "+t)}w[t]=e;return e};function T(e){if(typeof e==="string"){var t=i._prime(e);this.m=t.p;this.prime=t}else{r(e.gtn(1),"modulus must be greater than 1");this.m=e;this.prime=null}}T.prototype._verify1=function e(t){r(t.negative===0,"red works only with positives");r(t.red,"red works only with red numbers")};T.prototype._verify2=function e(t,n){r((t.negative|n.negative)===0,"red works only with positives");r(t.red&&t.red===n.red,"red works only with red numbers")};T.prototype.imod=function e(t){if(this.prime)return this.prime.ireduce(t)._forceRed(this);c(t,t.umod(this.m)._forceRed(this));return t};T.prototype.neg=function e(t){if(t.isZero()){return t.clone()}return this.m.sub(t)._forceRed(this)};T.prototype.add=function e(t,r){this._verify2(t,r);var n=t.add(r);if(n.cmp(this.m)>=0){n.isub(this.m)}return n._forceRed(this)};T.prototype.iadd=function e(t,r){this._verify2(t,r);var n=t.iadd(r);if(n.cmp(this.m)>=0){n.isub(this.m)}return n};T.prototype.sub=function e(t,r){this._verify2(t,r);var n=t.sub(r);if(n.cmpn(0)<0){n.iadd(this.m)}return n._forceRed(this)};T.prototype.isub=function e(t,r){this._verify2(t,r);var n=t.isub(r);if(n.cmpn(0)<0){n.iadd(this.m)}return n};T.prototype.shl=function e(t,r){this._verify1(t);return this.imod(t.ushln(r))};T.prototype.imul=function e(t,r){this._verify2(t,r);return this.imod(t.imul(r))};T.prototype.mul=function e(t,r){this._verify2(t,r);return this.imod(t.mul(r))};T.prototype.isqr=function e(t){return this.imul(t,t.clone())};T.prototype.sqr=function e(t){return this.mul(t,t)};T.prototype.sqrt=function e(t){if(t.isZero())return t.clone();var n=this.m.andln(3);r(n%2===1);if(n===3){var s=this.m.add(new i(1)).iushrn(2);return this.pow(t,s)}var f=this.m.subn(1);var a=0;while(!f.isZero()&&f.andln(1)===0){a++;f.iushrn(1)}r(!f.isZero());var o=new i(1).toRed(this);var c=o.redNeg();var u=this.m.subn(1).iushrn(1);var l=this.m.bitLength();l=new i(2*l*l).toRed(this);while(this.pow(l,u).cmp(c)!==0){l.redIAdd(c)}var h=this.pow(l,f);var d=this.pow(t,f.addn(1).iushrn(1));var p=this.pow(t,f);var y=a;while(p.cmp(o)!==0){var b=p;for(var m=0;b.cmp(o)!==0;m++){b=b.redSqr()}r(m<y);var g=this.pow(h,new i(1).iushln(y-m-1));d=d.redMul(g);h=g.redSqr();p=p.redMul(h);y=m}return d};T.prototype.invm=function e(t){var r=t._invmp(this.m);if(r.negative!==0){r.negative=0;return this.imod(r).redNeg()}else{return this.imod(r)}};T.prototype.pow=function e(t,r){if(r.isZero())return new i(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var n=4;var s=new Array(1<<n);s[0]=new i(1).toRed(this);s[1]=t;for(var f=2;f<s.length;f++){s[f]=this.mul(s[f-1],t)}var a=s[0];var o=0;var c=0;var u=r.bitLength()%26;if(u===0){u=26}for(f=r.length-1;f>=0;f--){var l=r.words[f];for(var h=u-1;h>=0;h--){var d=l>>h&1;if(a!==s[0]){a=this.sqr(a)}if(d===0&&o===0){c=0;continue}o<<=1;o|=d;c++;if(c!==n&&(f!==0||h!==0))continue;a=this.mul(a,s[o]);c=0;o=0}u=26}return a};T.prototype.convertTo=function e(t){var r=t.umod(this.m);return r===t?r.clone():r};T.prototype.convertFrom=function e(t){var r=t.clone();r.red=null;return r};i.mont=function e(t){return new C(t)};function C(e){T.call(this,e);this.shift=this.m.bitLength();if(this.shift%26!==0){this.shift+=26-this.shift%26}this.r=new i(1).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}n(C,T);C.prototype.convertTo=function e(t){return this.imod(t.ushln(this.shift))};C.prototype.convertFrom=function e(t){var r=this.imod(t.mul(this.rinv));r.red=null;return r};C.prototype.imul=function e(t,r){if(t.isZero()||r.isZero()){t.words[0]=0;t.length=1;return t}var n=t.imul(r);var i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var s=n.isub(i).iushrn(this.shift);var f=s;if(s.cmp(this.m)>=0){f=s.isub(this.m)}else if(s.cmpn(0)<0){f=s.iadd(this.m)}return f._forceRed(this)};C.prototype.mul=function e(t,r){if(t.isZero()||r.isZero())return new i(0)._forceRed(this);var n=t.mul(r);var s=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var f=n.isub(s).iushrn(this.shift);var a=f;if(f.cmp(this.m)>=0){a=f.isub(this.m)}else if(f.cmpn(0)<0){a=f.iadd(this.m)}return a._forceRed(this)};C.prototype.invm=function e(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(e,commonjsGlobal)}));var minimalisticAssert$1=assert$6;function assert$6(e,t){if(!e)throw new Error(t||"Assertion failed")}assert$6.equal=function e(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};var inherits_browser$1=createCommonjsModule$2((function(e){if(typeof Object.create==="function"){e.exports=function e(t,r){if(r){t.super_=r;t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}}else{e.exports=function e(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype;t.prototype=new n;t.prototype.constructor=t}}}}));var inherits_1=inherits_browser$1;function isSurrogatePair(e,t){if((e.charCodeAt(t)&64512)!==55296){return false}if(t<0||t+1>=e.length){return false}return(e.charCodeAt(t+1)&64512)===56320}function toArray(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e==="string"){if(!t){var n=0;for(var i=0;i<e.length;i++){var s=e.charCodeAt(i);if(s<128){r[n++]=s}else if(s<2048){r[n++]=s>>6|192;r[n++]=s&63|128}else if(isSurrogatePair(e,i)){s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023);r[n++]=s>>18|240;r[n++]=s>>12&63|128;r[n++]=s>>6&63|128;r[n++]=s&63|128}else{r[n++]=s>>12|224;r[n++]=s>>6&63|128;r[n++]=s&63|128}}}else if(t==="hex"){e=e.replace(/[^a-z0-9]+/gi,"");if(e.length%2!==0)e="0"+e;for(i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}}else{for(i=0;i<e.length;i++)r[i]=e[i]|0}return r}var toArray_1=toArray;function toHex(e){var t="";for(var r=0;r<e.length;r++)t+=zero2(e[r].toString(16));return t}var toHex_1=toHex;function htonl(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}var htonl_1=htonl;function toHex32(e,t){var r="";for(var n=0;n<e.length;n++){var i=e[n];if(t==="little")i=htonl(i);r+=zero8(i.toString(16))}return r}var toHex32_1=toHex32;function zero2(e){if(e.length===1)return"0"+e;else return e}var zero2_1=zero2;function zero8(e){if(e.length===7)return"0"+e;else if(e.length===6)return"00"+e;else if(e.length===5)return"000"+e;else if(e.length===4)return"0000"+e;else if(e.length===3)return"00000"+e;else if(e.length===2)return"000000"+e;else if(e.length===1)return"0000000"+e;else return e}var zero8_1=zero8;function join32(e,t,r,n){var i=r-t;minimalisticAssert$1(i%4===0);var s=new Array(i/4);for(var f=0,a=t;f<s.length;f++,a+=4){var o;if(n==="big")o=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3];else o=e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a];s[f]=o>>>0}return s}var join32_1=join32;function split32(e,t){var r=new Array(e.length*4);for(var n=0,i=0;n<e.length;n++,i+=4){var s=e[n];if(t==="big"){r[i]=s>>>24;r[i+1]=s>>>16&255;r[i+2]=s>>>8&255;r[i+3]=s&255}else{r[i+3]=s>>>24;r[i+2]=s>>>16&255;r[i+1]=s>>>8&255;r[i]=s&255}}return r}var split32_1=split32;function rotr32$1(e,t){return e>>>t|e<<32-t}var rotr32_1=rotr32$1;function rotl32$2(e,t){return e<<t|e>>>32-t}var rotl32_1=rotl32$2;function sum32$3(e,t){return e+t>>>0}var sum32_1=sum32$3;function sum32_3$1(e,t,r){return e+t+r>>>0}var sum32_3_1=sum32_3$1;function sum32_4$2(e,t,r,n){return e+t+r+n>>>0}var sum32_4_1=sum32_4$2;function sum32_5$2(e,t,r,n,i){return e+t+r+n+i>>>0}var sum32_5_1=sum32_5$2;function sum64$1(e,t,r,n){var i=e[t];var s=e[t+1];var f=n+s>>>0;var a=(f<n?1:0)+r+i;e[t]=a>>>0;e[t+1]=f}var sum64_1=sum64$1;function sum64_hi$1(e,t,r,n){var i=t+n>>>0;var s=(i<t?1:0)+e+r;return s>>>0}var sum64_hi_1=sum64_hi$1;function sum64_lo$1(e,t,r,n){var i=t+n;return i>>>0}var sum64_lo_1=sum64_lo$1;function sum64_4_hi$1(e,t,r,n,i,s,f,a){var o=0;var c=t;c=c+n>>>0;o+=c<t?1:0;c=c+s>>>0;o+=c<s?1:0;c=c+a>>>0;o+=c<a?1:0;var u=e+r+i+f+o;return u>>>0}var sum64_4_hi_1=sum64_4_hi$1;function sum64_4_lo$1(e,t,r,n,i,s,f,a){var o=t+n+s+a;return o>>>0}var sum64_4_lo_1=sum64_4_lo$1;function sum64_5_hi$1(e,t,r,n,i,s,f,a,o,c){var u=0;var l=t;l=l+n>>>0;u+=l<t?1:0;l=l+s>>>0;u+=l<s?1:0;l=l+a>>>0;u+=l<a?1:0;l=l+c>>>0;u+=l<c?1:0;var h=e+r+i+f+o+u;return h>>>0}var sum64_5_hi_1=sum64_5_hi$1;function sum64_5_lo$1(e,t,r,n,i,s,f,a,o,c){var u=t+n+s+a+c;return u>>>0}var sum64_5_lo_1=sum64_5_lo$1;function rotr64_hi$1(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}var rotr64_hi_1=rotr64_hi$1;function rotr64_lo$1(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}var rotr64_lo_1=rotr64_lo$1;function shr64_hi$1(e,t,r){return e>>>r}var shr64_hi_1=shr64_hi$1;function shr64_lo$1(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}var shr64_lo_1=shr64_lo$1;var utils$1={inherits:inherits_1,toArray:toArray_1,toHex:toHex_1,htonl:htonl_1,toHex32:toHex32_1,zero2:zero2_1,zero8:zero8_1,join32:join32_1,split32:split32_1,rotr32:rotr32_1,rotl32:rotl32_1,sum32:sum32_1,sum32_3:sum32_3_1,sum32_4:sum32_4_1,sum32_5:sum32_5_1,sum64:sum64_1,sum64_hi:sum64_hi_1,sum64_lo:sum64_lo_1,sum64_4_hi:sum64_4_hi_1,sum64_4_lo:sum64_4_lo_1,sum64_5_hi:sum64_5_hi_1,sum64_5_lo:sum64_5_lo_1,rotr64_hi:rotr64_hi_1,rotr64_lo:rotr64_lo_1,shr64_hi:shr64_hi_1,shr64_lo:shr64_lo_1};function BlockHash$4(){this.pending=null;this.pendingTotal=0;this.blockSize=this.constructor.blockSize;this.outSize=this.constructor.outSize;this.hmacStrength=this.constructor.hmacStrength;this.padLength=this.constructor.padLength/8;this.endian="big";this._delta8=this.blockSize/8;this._delta32=this.blockSize/32}var BlockHash_1=BlockHash$4;BlockHash$4.prototype.update=function e(t,r){t=utils$1.toArray(t,r);if(!this.pending)this.pending=t;else this.pending=this.pending.concat(t);this.pendingTotal+=t.length;if(this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length);if(this.pending.length===0)this.pending=null;t=utils$1.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this};BlockHash$4.prototype.digest=function e(t){this.update(this._pad());minimalisticAssert$1(this.pending===null);return this._digest(t)};BlockHash$4.prototype._pad=function e(){var t=this.pendingTotal;var r=this._delta8;var n=r-(t+this.padLength)%r;var i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;t<<=3;if(this.endian==="big"){for(var f=8;f<this.padLength;f++)i[s++]=0;i[s++]=0;i[s++]=0;i[s++]=0;i[s++]=0;i[s++]=t>>>24&255;i[s++]=t>>>16&255;i[s++]=t>>>8&255;i[s++]=t&255}else{i[s++]=t&255;i[s++]=t>>>8&255;i[s++]=t>>>16&255;i[s++]=t>>>24&255;i[s++]=0;i[s++]=0;i[s++]=0;i[s++]=0;for(f=8;f<this.padLength;f++)i[s++]=0}return i};var common$1={BlockHash:BlockHash_1};var rotr32=utils$1.rotr32;function ft_1$1(e,t,r,n){if(e===0)return ch32$1(t,r,n);if(e===1||e===3)return p32(t,r,n);if(e===2)return maj32$1(t,r,n)}var ft_1_1=ft_1$1;function ch32$1(e,t,r){return e&t^~e&r}var ch32_1=ch32$1;function maj32$1(e,t,r){return e&t^e&r^t&r}var maj32_1=maj32$1;function p32(e,t,r){return e^t^r}var p32_1=p32;function s0_256$1(e){return rotr32(e,2)^rotr32(e,13)^rotr32(e,22)}var s0_256_1=s0_256$1;function s1_256$1(e){return rotr32(e,6)^rotr32(e,11)^rotr32(e,25)}var s1_256_1=s1_256$1;function g0_256$1(e){return rotr32(e,7)^rotr32(e,18)^e>>>3}var g0_256_1=g0_256$1;function g1_256$1(e){return rotr32(e,17)^rotr32(e,19)^e>>>10}var g1_256_1=g1_256$1;var common={ft_1:ft_1_1,ch32:ch32_1,maj32:maj32_1,p32:p32_1,s0_256:s0_256_1,s1_256:s1_256_1,g0_256:g0_256_1,g1_256:g1_256_1};var rotl32$1=utils$1.rotl32;var sum32$2=utils$1.sum32;var sum32_5$1=utils$1.sum32_5;var ft_1=common.ft_1;var BlockHash$3=common$1.BlockHash;var sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.W=new Array(80)}utils$1.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function e(t,r){var n=this.W;for(var i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=rotl32$1(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0];var f=this.h[1];var a=this.h[2];var o=this.h[3];var c=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20);var l=sum32_5$1(rotl32$1(s,5),ft_1(u,f,a,o),c,n[i],sha1_K[u]);c=o;o=a;a=rotl32$1(f,30);f=s;s=l}this.h[0]=sum32$2(this.h[0],s);this.h[1]=sum32$2(this.h[1],f);this.h[2]=sum32$2(this.h[2],a);this.h[3]=sum32$2(this.h[3],o);this.h[4]=sum32$2(this.h[4],c)};SHA1.prototype._digest=function e(t){if(t==="hex")return utils$1.toHex32(this.h,"big");else return utils$1.split32(this.h,"big")};var sum32$1=utils$1.sum32;var sum32_4$1=utils$1.sum32_4;var sum32_5=utils$1.sum32_5;var ch32=common.ch32;var maj32=common.maj32;var s0_256=common.s0_256;var s1_256=common.s1_256;var g0_256=common.g0_256;var g1_256=common.g1_256;var BlockHash$2=common$1.BlockHash;var sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256(){if(!(this instanceof SHA256))return new SHA256;BlockHash$2.call(this);this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];this.k=sha256_K;this.W=new Array(64)}utils$1.inherits(SHA256,BlockHash$2);var _256=SHA256;SHA256.blockSize=512;SHA256.outSize=256;SHA256.hmacStrength=192;SHA256.padLength=64;SHA256.prototype._update=function e(t,r){var n=this.W;for(var i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=sum32_4$1(g1_256(n[i-2]),n[i-7],g0_256(n[i-15]),n[i-16]);var s=this.h[0];var f=this.h[1];var a=this.h[2];var o=this.h[3];var c=this.h[4];var u=this.h[5];var l=this.h[6];var h=this.h[7];minimalisticAssert$1(this.k.length===n.length);for(i=0;i<n.length;i++){var d=sum32_5(h,s1_256(c),ch32(c,u,l),this.k[i],n[i]);var p=sum32$1(s0_256(s),maj32(s,f,a));h=l;l=u;u=c;c=sum32$1(o,d);o=a;a=f;f=s;s=sum32$1(d,p)}this.h[0]=sum32$1(this.h[0],s);this.h[1]=sum32$1(this.h[1],f);this.h[2]=sum32$1(this.h[2],a);this.h[3]=sum32$1(this.h[3],o);this.h[4]=sum32$1(this.h[4],c);this.h[5]=sum32$1(this.h[5],u);this.h[6]=sum32$1(this.h[6],l);this.h[7]=sum32$1(this.h[7],h)};SHA256.prototype._digest=function e(t){if(t==="hex")return utils$1.toHex32(this.h,"big");else return utils$1.split32(this.h,"big")};function SHA224(){if(!(this instanceof SHA224))return new SHA224;_256.call(this);this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$1.inherits(SHA224,_256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function e(t){if(t==="hex")return utils$1.toHex32(this.h.slice(0,7),"big");else return utils$1.split32(this.h.slice(0,7),"big")};var rotr64_hi=utils$1.rotr64_hi;var rotr64_lo=utils$1.rotr64_lo;var shr64_hi=utils$1.shr64_hi;var shr64_lo=utils$1.shr64_lo;var sum64=utils$1.sum64;var sum64_hi=utils$1.sum64_hi;var sum64_lo=utils$1.sum64_lo;var sum64_4_hi=utils$1.sum64_4_hi;var sum64_4_lo=utils$1.sum64_4_lo;var sum64_5_hi=utils$1.sum64_5_hi;var sum64_5_lo=utils$1.sum64_5_lo;var BlockHash$1=common$1.BlockHash;var sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512(){if(!(this instanceof SHA512))return new SHA512;BlockHash$1.call(this);this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209];this.k=sha512_K;this.W=new Array(160)}utils$1.inherits(SHA512,BlockHash$1);var _512=SHA512;SHA512.blockSize=1024;SHA512.outSize=512;SHA512.hmacStrength=192;SHA512.padLength=128;SHA512.prototype._prepareBlock=function e(t,r){var n=this.W;for(var i=0;i<32;i++)n[i]=t[r+i];for(;i<n.length;i+=2){var s=g1_512_hi(n[i-4],n[i-3]);var f=g1_512_lo(n[i-4],n[i-3]);var a=n[i-14];var o=n[i-13];var c=g0_512_hi(n[i-30],n[i-29]);var u=g0_512_lo(n[i-30],n[i-29]);var l=n[i-32];var h=n[i-31];n[i]=sum64_4_hi(s,f,a,o,c,u,l,h);n[i+1]=sum64_4_lo(s,f,a,o,c,u,l,h)}};SHA512.prototype._update=function e(t,r){this._prepareBlock(t,r);var n=this.W;var i=this.h[0];var s=this.h[1];var f=this.h[2];var a=this.h[3];var o=this.h[4];var c=this.h[5];var u=this.h[6];var l=this.h[7];var h=this.h[8];var d=this.h[9];var p=this.h[10];var y=this.h[11];var b=this.h[12];var m=this.h[13];var g=this.h[14];var v=this.h[15];minimalisticAssert$1(this.k.length===n.length);for(var w=0;w<n.length;w+=2){var A=g;var $=v;var _=s1_512_hi(h,d);var E=s1_512_lo(h,d);var S=ch64_hi(h,d,p,y,b);var T=ch64_lo(h,d,p,y,b,m);var C=this.k[w];var P=this.k[w+1];var x=n[w];var I=n[w+1];var k=sum64_5_hi(A,$,_,E,S,T,C,P,x,I);var M=sum64_5_lo(A,$,_,E,S,T,C,P,x,I);A=s0_512_hi(i,s);$=s0_512_lo(i,s);_=maj64_hi(i,s,f,a,o);E=maj64_lo(i,s,f,a,o,c);var B=sum64_hi(A,$,_,E);var R=sum64_lo(A,$,_,E);g=b;v=m;b=p;m=y;p=h;y=d;h=sum64_hi(u,l,k,M);d=sum64_lo(l,l,k,M);u=o;l=c;o=f;c=a;f=i;a=s;i=sum64_hi(k,M,B,R);s=sum64_lo(k,M,B,R)}sum64(this.h,0,i,s);sum64(this.h,2,f,a);sum64(this.h,4,o,c);sum64(this.h,6,u,l);sum64(this.h,8,h,d);sum64(this.h,10,p,y);sum64(this.h,12,b,m);sum64(this.h,14,g,v)};SHA512.prototype._digest=function e(t){if(t==="hex")return utils$1.toHex32(this.h,"big");else return utils$1.split32(this.h,"big")};function ch64_hi(e,t,r,n,i){var s=e&r^~e&i;if(s<0)s+=4294967296;return s}function ch64_lo(e,t,r,n,i,s){var f=t&n^~t&s;if(f<0)f+=4294967296;return f}function maj64_hi(e,t,r,n,i){var s=e&r^e&i^r&i;if(s<0)s+=4294967296;return s}function maj64_lo(e,t,r,n,i,s){var f=t&n^t&s^n&s;if(f<0)f+=4294967296;return f}function s0_512_hi(e,t){var r=rotr64_hi(e,t,28);var n=rotr64_hi(t,e,2);var i=rotr64_hi(t,e,7);var s=r^n^i;if(s<0)s+=4294967296;return s}function s0_512_lo(e,t){var r=rotr64_lo(e,t,28);var n=rotr64_lo(t,e,2);var i=rotr64_lo(t,e,7);var s=r^n^i;if(s<0)s+=4294967296;return s}function s1_512_hi(e,t){var r=rotr64_hi(e,t,14);var n=rotr64_hi(e,t,18);var i=rotr64_hi(t,e,9);var s=r^n^i;if(s<0)s+=4294967296;return s}function s1_512_lo(e,t){var r=rotr64_lo(e,t,14);var n=rotr64_lo(e,t,18);var i=rotr64_lo(t,e,9);var s=r^n^i;if(s<0)s+=4294967296;return s}function g0_512_hi(e,t){var r=rotr64_hi(e,t,1);var n=rotr64_hi(e,t,8);var i=shr64_hi(e,t,7);var s=r^n^i;if(s<0)s+=4294967296;return s}function g0_512_lo(e,t){var r=rotr64_lo(e,t,1);var n=rotr64_lo(e,t,8);var i=shr64_lo(e,t,7);var s=r^n^i;if(s<0)s+=4294967296;return s}function g1_512_hi(e,t){var r=rotr64_hi(e,t,19);var n=rotr64_hi(t,e,29);var i=shr64_hi(e,t,6);var s=r^n^i;if(s<0)s+=4294967296;return s}function g1_512_lo(e,t){var r=rotr64_lo(e,t,19);var n=rotr64_lo(t,e,29);var i=shr64_lo(e,t,6);var s=r^n^i;if(s<0)s+=4294967296;return s}function SHA384(){if(!(this instanceof SHA384))return new SHA384;_512.call(this);this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$1.inherits(SHA384,_512);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function e(t){if(t==="hex")return utils$1.toHex32(this.h.slice(0,12),"big");else return utils$1.split32(this.h.slice(0,12),"big")};var sha1=_1;var sha224=_224;var sha256$2=_256;var sha384=_384;var sha512$1=_512;var sha={sha1,sha224,sha256:sha256$2,sha384,sha512:sha512$1};var rotl32=utils$1.rotl32;var sum32=utils$1.sum32;var sum32_3=utils$1.sum32_3;var sum32_4=utils$1.sum32_4;var BlockHash=common$1.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.endian="little"}utils$1.inherits(RIPEMD160,BlockHash);var ripemd160$1=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function e(t,n){var i=this.h[0];var a=this.h[1];var o=this.h[2];var c=this.h[3];var u=this.h[4];var l=i;var h=a;var d=o;var p=c;var y=u;for(var b=0;b<80;b++){var m=sum32(rotl32(sum32_4(i,f(b,a,o,c),t[r[b]+n],K(b)),s[b]),u);i=u;u=c;c=rotl32(o,10);o=a;a=m;m=sum32(rotl32(sum32_4(l,f(79-b,h,d,p),t[rh[b]+n],Kh(b)),sh[b]),y);l=y;y=p;p=rotl32(d,10);d=h;h=m}m=sum32_3(this.h[1],o,p);this.h[1]=sum32_3(this.h[2],c,y);this.h[2]=sum32_3(this.h[3],u,l);this.h[3]=sum32_3(this.h[4],i,h);this.h[4]=sum32_3(this.h[0],a,d);this.h[0]=m};RIPEMD160.prototype._digest=function e(t){if(t==="hex")return utils$1.toHex32(this.h,"little");else return utils$1.split32(this.h,"little")};function f(e,t,r,n){if(e<=15)return t^r^n;else if(e<=31)return t&r|~t&n;else if(e<=47)return(t|~r)^n;else if(e<=63)return t&n|r&~n;else return t^(r|~n)}function K(e){if(e<=15)return 0;else if(e<=31)return 1518500249;else if(e<=47)return 1859775393;else if(e<=63)return 2400959708;else return 2840853838}function Kh(e){if(e<=15)return 1352829926;else if(e<=31)return 1548603684;else if(e<=47)return 1836072691;else if(e<=63)return 2053994217;else return 0}var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];var ripemd={ripemd160:ripemd160$1};function Hmac(e,t,r){if(!(this instanceof Hmac))return new Hmac(e,t,r);this.Hash=e;this.blockSize=e.blockSize/8;this.outSize=e.outSize/8;this.inner=null;this.outer=null;this._init(utils$1.toArray(t,r))}var hmac=Hmac;Hmac.prototype._init=function e(t){if(t.length>this.blockSize)t=(new this.Hash).update(t).digest();minimalisticAssert$1(t.length<=this.blockSize);for(var r=t.length;r<this.blockSize;r++)t.push(0);for(r=0;r<t.length;r++)t[r]^=54;this.inner=(new this.Hash).update(t);for(r=0;r<t.length;r++)t[r]^=106;this.outer=(new this.Hash).update(t)};Hmac.prototype.update=function e(t,r){this.inner.update(t,r);return this};Hmac.prototype.digest=function e(t){this.outer.update(this.inner.digest());return this.outer.digest(t)};var hash_1=createCommonjsModule$2((function(e,t){var r=t;r.utils=utils$1;r.common=common$1;r.sha=sha;r.ripemd=ripemd;r.hmac=hmac;r.sha1=r.sha.sha1;r.sha256=r.sha.sha256;r.sha224=r.sha.sha224;r.sha384=r.sha.sha384;r.sha512=r.sha.sha512;r.ripemd160=r.ripemd.ripemd160}));function createCommonjsModule(e,t,r){return r={path:t,exports:{},require:function(e,t){return commonjsRequire()}},e(r,r.exports),r.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert=assert$1;function assert$1(e,t){if(!e)throw new Error(t||"Assertion failed")}assert$1.equal=function e(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};var utils_1=createCommonjsModule((function(e,t){var r=t;function n(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e!=="string"){for(var n=0;n<e.length;n++)r[n]=e[n]|0;return r}if(t==="hex"){e=e.replace(/[^a-z0-9]+/gi,"");if(e.length%2!==0)e="0"+e;for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else{for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);var s=i>>8;var f=i&255;if(s)r.push(s,f);else r.push(f)}}return r}r.toArray=n;function i(e){if(e.length===1)return"0"+e;else return e}r.zero2=i;function s(e){var t="";for(var r=0;r<e.length;r++)t+=i(e[r].toString(16));return t}r.toHex=s;r.encode=function e(t,r){if(r==="hex")return s(t);else return t}}));var utils_1$1=createCommonjsModule((function(e,t){var r=t;r.assert=minimalisticAssert;r.toArray=utils_1.toArray;r.zero2=utils_1.zero2;r.toHex=utils_1.toHex;r.encode=utils_1.encode;function n(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);var i=1<<t+1;var s=e.clone();for(var f=0;f<n.length;f++){var a;var o=s.andln(i-1);if(s.isOdd()){if(o>(i>>1)-1)a=(i>>1)-o;else a=o;s.isubn(a)}else{a=0}n[f]=a;s.iushrn(1)}return n}r.getNAF=n;function i(e,t){var r=[[],[]];e=e.clone();t=t.clone();var n=0;var i=0;var s;while(e.cmpn(-n)>0||t.cmpn(-i)>0){var f=e.andln(3)+n&3;var a=t.andln(3)+i&3;if(f===3)f=-1;if(a===3)a=-1;var o;if((f&1)===0){o=0}else{s=e.andln(7)+n&7;if((s===3||s===5)&&a===2)o=-f;else o=f}r[0].push(o);var c;if((a&1)===0){c=0}else{s=t.andln(7)+i&7;if((s===3||s===5)&&f===2)c=-a;else c=a}r[1].push(c);if(2*n===o+1)n=1-n;if(2*i===c+1)i=1-i;e.iushrn(1);t.iushrn(1)}return r}r.getJSF=i;function s(e,t,r){var n="_"+t;e.prototype[t]=function e(){return this[n]!==undefined?this[n]:this[n]=r.call(this)}}r.cachedProperty=s;function f(e){return typeof e==="string"?r.toArray(e,"hex"):e}r.parseBytes=f;function a(e){return new bn(e,"hex","le")}r.intFromLE=a}));var getNAF=utils_1$1.getNAF;var getJSF=utils_1$1.getJSF;var assert$1$1=utils_1$1.assert;function BaseCurve(e,t){this.type=e;this.p=new bn(t.p,16);this.red=t.prime?bn.red(t.prime):bn.mont(this.p);this.zero=new bn(0).toRed(this.red);this.one=new bn(1).toRed(this.red);this.two=new bn(2).toRed(this.red);this.n=t.n&&new bn(t.n,16);this.g=t.g&&this.pointFromJSON(t.g,t.gRed);this._wnafT1=new Array(4);this._wnafT2=new Array(4);this._wnafT3=new Array(4);this._wnafT4=new Array(4);this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);if(!r||r.cmpn(100)>0){this.redN=null}else{this._maxwellTrick=true;this.redN=this.n.toRed(this.red)}}var base=BaseCurve;BaseCurve.prototype.point=function e(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function e(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function e(t,r){assert$1$1(t.precomputed);var n=t._getDoubles();var i=getNAF(r,1,this._bitLength);var s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var f=[];var a;var o;for(a=0;a<i.length;a+=n.step){o=0;for(var c=a+n.step-1;c>=a;c--)o=(o<<1)+i[c];f.push(o)}var u=this.jpoint(null,null,null);var l=this.jpoint(null,null,null);for(var h=s;h>0;h--){for(a=0;a<f.length;a++){o=f[a];if(o===h)l=l.mixedAdd(n.points[a]);else if(o===-h)l=l.mixedAdd(n.points[a].neg())}u=u.add(l)}return u.toP()};BaseCurve.prototype._wnafMul=function e(t,r){var n=4;var i=t._getNAFPoints(n);n=i.wnd;var s=i.points;var f=getNAF(r,n,this._bitLength);var a=this.jpoint(null,null,null);for(var o=f.length-1;o>=0;o--){for(var c=0;o>=0&&f[o]===0;o--)c++;if(o>=0)c++;a=a.dblp(c);if(o<0)break;var u=f[o];assert$1$1(u!==0);if(t.type==="affine"){if(u>0)a=a.mixedAdd(s[u-1>>1]);else a=a.mixedAdd(s[-u-1>>1].neg())}else{if(u>0)a=a.add(s[u-1>>1]);else a=a.add(s[-u-1>>1].neg())}}return t.type==="affine"?a.toP():a};BaseCurve.prototype._wnafMulAdd=function e(t,r,n,i,s){var f=this._wnafT1;var a=this._wnafT2;var o=this._wnafT3;var c=0;var u;var l;var h;for(u=0;u<i;u++){h=r[u];var d=h._getNAFPoints(t);f[u]=d.wnd;a[u]=d.points}for(u=i-1;u>=1;u-=2){var p=u-1;var y=u;if(f[p]!==1||f[y]!==1){o[p]=getNAF(n[p],f[p],this._bitLength);o[y]=getNAF(n[y],f[y],this._bitLength);c=Math.max(o[p].length,c);c=Math.max(o[y].length,c);continue}var b=[r[p],null,null,r[y]];if(r[p].y.cmp(r[y].y)===0){b[1]=r[p].add(r[y]);b[2]=r[p].toJ().mixedAdd(r[y].neg())}else if(r[p].y.cmp(r[y].y.redNeg())===0){b[1]=r[p].toJ().mixedAdd(r[y]);b[2]=r[p].add(r[y].neg())}else{b[1]=r[p].toJ().mixedAdd(r[y]);b[2]=r[p].toJ().mixedAdd(r[y].neg())}var m=[-3,-1,-5,-7,0,7,5,1,3];var g=getJSF(n[p],n[y]);c=Math.max(g[0].length,c);o[p]=new Array(c);o[y]=new Array(c);for(l=0;l<c;l++){var v=g[0][l]|0;var w=g[1][l]|0;o[p][l]=m[(v+1)*3+(w+1)];o[y][l]=0;a[p]=b}}var A=this.jpoint(null,null,null);var $=this._wnafT4;for(u=c;u>=0;u--){var _=0;while(u>=0){var E=true;for(l=0;l<i;l++){$[l]=o[l][u]|0;if($[l]!==0)E=false}if(!E)break;_++;u--}if(u>=0)_++;A=A.dblp(_);if(u<0)break;for(l=0;l<i;l++){var S=$[l];if(S===0)continue;else if(S>0)h=a[l][S-1>>1];else if(S<0)h=a[l][-S-1>>1].neg();if(h.type==="affine")A=A.mixedAdd(h);else A=A.add(h)}}for(u=0;u<i;u++)a[u]=null;if(s)return A;else return A.toP()};function BasePoint(e,t){this.curve=e;this.type=t;this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function e(){throw new Error("Not implemented")};BasePoint.prototype.validate=function e(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function e(t,r){t=utils_1$1.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){if(t[0]===6)assert$1$1(t[t.length-1]%2===0);else if(t[0]===7)assert$1$1(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n){return this.pointFromX(t.slice(1,1+n),t[0]===3)}throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function e(t){return this.encode(t,true)};BasePoint.prototype._encode=function e(t){var r=this.curve.p.byteLength();var n=this.getX().toArray("be",r);if(t)return[this.getY().isEven()?2:3].concat(n);return[4].concat(n,this.getY().toArray("be",r))};BasePoint.prototype.encode=function e(t,r){return utils_1$1.encode(this._encode(r),t)};BasePoint.prototype.precompute=function e(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};r.naf=this._getNAFPoints(8);r.doubles=this._getDoubles(4,t);r.beta=this._getBeta();this.precomputed=r;return this};BasePoint.prototype._hasDoubles=function e(t){if(!this.precomputed)return false;var r=this.precomputed.doubles;if(!r)return false;return r.points.length>=Math.ceil((t.bitLength()+1)/r.step)};BasePoint.prototype._getDoubles=function e(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var n=[this];var i=this;for(var s=0;s<r;s+=t){for(var f=0;f<t;f++)i=i.dbl();n.push(i)}return{step:t,points:n}};BasePoint.prototype._getNAFPoints=function e(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var r=[this];var n=(1<<t)-1;var i=n===1?null:this.dbl();for(var s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:t,points:r}};BasePoint.prototype._getBeta=function e(){return null};BasePoint.prototype.dblp=function e(t){var r=this;for(var n=0;n<t;n++)r=r.dbl();return r};var inherits_browser=createCommonjsModule((function(e){if(typeof Object.create==="function"){e.exports=function e(t,r){if(r){t.super_=r;t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}}else{e.exports=function e(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype;t.prototype=new n;t.prototype.constructor=t}}}}));var assert$2=utils_1$1.assert;function ShortCurve(e){base.call(this,"short",e);this.a=new bn(e.a,16).toRed(this.red);this.b=new bn(e.b,16).toRed(this.red);this.tinv=this.two.redInvm();this.zeroA=this.a.fromRed().cmpn(0)===0;this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0;this.endo=this._getEndomorphism(e);this._endoWnafT1=new Array(4);this._endoWnafT2=new Array(4)}inherits_browser(ShortCurve,base);var short_1=ShortCurve;ShortCurve.prototype._getEndomorphism=function e(t){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var r;var n;if(t.beta){r=new bn(t.beta,16).toRed(this.red)}else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1];r=r.toRed(this.red)}if(t.lambda){n=new bn(t.lambda,16)}else{var s=this._getEndoRoots(this.n);if(this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0){n=s[0]}else{n=s[1];assert$2(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0)}}var f;if(t.basis){f=t.basis.map((function(e){return{a:new bn(e.a,16),b:new bn(e.b,16)}}))}else{f=this._getEndoBasis(n)}return{beta:r,lambda:n,basis:f}};ShortCurve.prototype._getEndoRoots=function e(t){var r=t===this.p?this.red:bn.mont(t);var n=new bn(2).toRed(r).redInvm();var i=n.redNeg();var s=new bn(3).toRed(r).redNeg().redSqrt().redMul(n);var f=i.redAdd(s).fromRed();var a=i.redSub(s).fromRed();return[f,a]};ShortCurve.prototype._getEndoBasis=function e(t){var r=this.n.ushrn(Math.floor(this.n.bitLength()/2));var n=t;var i=this.n.clone();var s=new bn(1);var f=new bn(0);var a=new bn(0);var o=new bn(1);var c;var u;var l;var h;var d;var p;var y;var b=0;var m;var g;while(n.cmpn(0)!==0){var v=i.div(n);m=i.sub(v.mul(n));g=a.sub(v.mul(s));var w=o.sub(v.mul(f));if(!l&&m.cmp(r)<0){c=y.neg();u=s;l=m.neg();h=g}else if(l&&++b===2){break}y=m;i=n;n=m;a=s;s=g;o=f;f=w}d=m.neg();p=g;var A=l.sqr().add(h.sqr());var $=d.sqr().add(p.sqr());if($.cmp(A)>=0){d=c;p=u}if(l.negative){l=l.neg();h=h.neg()}if(d.negative){d=d.neg();p=p.neg()}return[{a:l,b:h},{a:d,b:p}]};ShortCurve.prototype._endoSplit=function e(t){var r=this.endo.basis;var n=r[0];var i=r[1];var s=i.b.mul(t).divRound(this.n);var f=n.b.neg().mul(t).divRound(this.n);var a=s.mul(n.a);var o=f.mul(i.a);var c=s.mul(n.b);var u=f.mul(i.b);var l=t.sub(a).sub(o);var h=c.add(u).neg();return{k1:l,k2:h}};ShortCurve.prototype.pointFromX=function e(t,r){t=new bn(t,16);if(!t.red)t=t.toRed(this.red);var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b);var i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();if(r&&!s||!r&&s)i=i.redNeg();return this.point(t,i)};ShortCurve.prototype.validate=function e(t){if(t.inf)return true;var r=t.x;var n=t.y;var i=this.a.redMul(r);var s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function e(t,r,n){var i=this._endoWnafT1;var s=this._endoWnafT2;for(var f=0;f<t.length;f++){var a=this._endoSplit(r[f]);var o=t[f];var c=o._getBeta();if(a.k1.negative){a.k1.ineg();o=o.neg(true)}if(a.k2.negative){a.k2.ineg();c=c.neg(true)}i[f*2]=o;i[f*2+1]=c;s[f*2]=a.k1;s[f*2+1]=a.k2}var u=this._wnafMulAdd(1,i,s,f*2,n);for(var l=0;l<f*2;l++){i[l]=null;s[l]=null}return u};function Point(e,t,r,n){base.BasePoint.call(this,e,"affine");if(t===null&&r===null){this.x=null;this.y=null;this.inf=true}else{this.x=new bn(t,16);this.y=new bn(r,16);if(n){this.x.forceRed(this.curve.red);this.y.forceRed(this.curve.red)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=false}}inherits_browser(Point,base.BasePoint);ShortCurve.prototype.point=function e(t,r,n){return new Point(this,t,r,n)};ShortCurve.prototype.pointFromJSON=function e(t,r){return Point.fromJSON(this,t,r)};Point.prototype._getBeta=function e(){if(!this.curve.endo)return;var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve;var i=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};t.beta=r;r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return r};Point.prototype.toJSON=function e(){if(!this.precomputed)return[this.x,this.y];return[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]};Point.fromJSON=function e(t,r,n){if(typeof r==="string")r=JSON.parse(r);var i=t.point(r[0],r[1],n);if(!r[2])return i;function s(e){return t.point(e[0],e[1],n)}var f=r[2];i.precomputed={beta:null,doubles:f.doubles&&{step:f.doubles.step,points:[i].concat(f.doubles.points.map(s))},naf:f.naf&&{wnd:f.naf.wnd,points:[i].concat(f.naf.points.map(s))}};return i};Point.prototype.inspect=function e(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function e(){return this.inf};Point.prototype.add=function e(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);if(r.cmpn(0)!==0)r=r.redMul(this.x.redSub(t.x).redInvm());var n=r.redSqr().redISub(this.x).redISub(t.x);var i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Point.prototype.dbl=function e(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a;var n=this.x.redSqr();var i=t.redInvm();var s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i);var f=s.redSqr().redISub(this.x.redAdd(this.x));var a=s.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,a)};Point.prototype.getX=function e(){return this.x.fromRed()};Point.prototype.getY=function e(){return this.y.fromRed()};Point.prototype.mul=function e(t){t=new bn(t,16);if(this.isInfinity())return this;else if(this._hasDoubles(t))return this.curve._fixedNafMul(this,t);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[t]);else return this.curve._wnafMul(this,t)};Point.prototype.mulAdd=function e(t,r,n){var i=[this,r];var s=[t,n];if(this.curve.endo)return this.curve._endoWnafMulAdd(i,s);else return this.curve._wnafMulAdd(1,i,s,2)};Point.prototype.jmulAdd=function e(t,r,n){var i=[this,r];var s=[t,n];if(this.curve.endo)return this.curve._endoWnafMulAdd(i,s,true);else return this.curve._wnafMulAdd(1,i,s,2,true)};Point.prototype.eq=function e(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};Point.prototype.neg=function e(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed;var i=function(e){return e.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Point.prototype.toJ=function e(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function JPoint(e,t,r,n){base.BasePoint.call(this,e,"jacobian");if(t===null&&r===null&&n===null){this.x=this.curve.one;this.y=this.curve.one;this.z=new bn(0)}else{this.x=new bn(t,16);this.y=new bn(r,16);this.z=new bn(n,16)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one}inherits_browser(JPoint,base.BasePoint);ShortCurve.prototype.jpoint=function e(t,r,n){return new JPoint(this,t,r,n)};JPoint.prototype.toP=function e(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm();var r=t.redSqr();var n=this.x.redMul(r);var i=this.y.redMul(r).redMul(t);return this.curve.point(n,i)};JPoint.prototype.neg=function e(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function e(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr();var n=this.z.redSqr();var i=this.x.redMul(r);var s=t.x.redMul(n);var f=this.y.redMul(r.redMul(t.z));var a=t.y.redMul(n.redMul(this.z));var o=i.redSub(s);var c=f.redSub(a);if(o.cmpn(0)===0){if(c.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var u=o.redSqr();var l=u.redMul(o);var h=i.redMul(u);var d=c.redSqr().redIAdd(l).redISub(h).redISub(h);var p=c.redMul(h.redISub(d)).redISub(f.redMul(l));var y=this.z.redMul(t.z).redMul(o);return this.curve.jpoint(d,p,y)};JPoint.prototype.mixedAdd=function e(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr();var n=this.x;var i=t.x.redMul(r);var s=this.y;var f=t.y.redMul(r).redMul(this.z);var a=n.redSub(i);var o=s.redSub(f);if(a.cmpn(0)===0){if(o.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var c=a.redSqr();var u=c.redMul(a);var l=n.redMul(c);var h=o.redSqr().redIAdd(u).redISub(l).redISub(l);var d=o.redMul(l.redISub(h)).redISub(s.redMul(u));var p=this.z.redMul(a);return this.curve.jpoint(h,d,p)};JPoint.prototype.dblp=function e(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var i=this.curve.a;var s=this.curve.tinv;var f=this.x;var a=this.y;var o=this.z;var c=o.redSqr().redSqr();var u=a.redAdd(a);for(r=0;r<t;r++){var l=f.redSqr();var h=u.redSqr();var d=h.redSqr();var p=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(c));var y=f.redMul(h);var b=p.redSqr().redISub(y.redAdd(y));var m=y.redISub(b);var g=p.redMul(m);g=g.redIAdd(g).redISub(d);var v=u.redMul(o);if(r+1<t)c=c.redMul(d);f=b;o=v;u=g}return this.curve.jpoint(f,u.redMul(s),o)};JPoint.prototype.dbl=function e(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl()};JPoint.prototype._zeroDbl=function e(){var t;var r;var n;if(this.zOne){var i=this.x.redSqr();var s=this.y.redSqr();var f=s.redSqr();var a=this.x.redAdd(s).redSqr().redISub(i).redISub(f);a=a.redIAdd(a);var o=i.redAdd(i).redIAdd(i);var c=o.redSqr().redISub(a).redISub(a);var u=f.redIAdd(f);u=u.redIAdd(u);u=u.redIAdd(u);t=c;r=o.redMul(a.redISub(c)).redISub(u);n=this.y.redAdd(this.y)}else{var l=this.x.redSqr();var h=this.y.redSqr();var d=h.redSqr();var p=this.x.redAdd(h).redSqr().redISub(l).redISub(d);p=p.redIAdd(p);var y=l.redAdd(l).redIAdd(l);var b=y.redSqr();var m=d.redIAdd(d);m=m.redIAdd(m);m=m.redIAdd(m);t=b.redISub(p).redISub(p);r=y.redMul(p.redISub(t)).redISub(m);n=this.y.redMul(this.z);n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};JPoint.prototype._threeDbl=function e(){var t;var r;var n;if(this.zOne){var i=this.x.redSqr();var s=this.y.redSqr();var f=s.redSqr();var a=this.x.redAdd(s).redSqr().redISub(i).redISub(f);a=a.redIAdd(a);var o=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a);var c=o.redSqr().redISub(a).redISub(a);t=c;var u=f.redIAdd(f);u=u.redIAdd(u);u=u.redIAdd(u);r=o.redMul(a.redISub(c)).redISub(u);n=this.y.redAdd(this.y)}else{var l=this.z.redSqr();var h=this.y.redSqr();var d=this.x.redMul(h);var p=this.x.redSub(l).redMul(this.x.redAdd(l));p=p.redAdd(p).redIAdd(p);var y=d.redIAdd(d);y=y.redIAdd(y);var b=y.redAdd(y);t=p.redSqr().redISub(b);n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var m=h.redSqr();m=m.redIAdd(m);m=m.redIAdd(m);m=m.redIAdd(m);r=p.redMul(y.redISub(t)).redISub(m)}return this.curve.jpoint(t,r,n)};JPoint.prototype._dbl=function e(){var t=this.curve.a;var r=this.x;var n=this.y;var i=this.z;var s=i.redSqr().redSqr();var f=r.redSqr();var a=n.redSqr();var o=f.redAdd(f).redIAdd(f).redIAdd(t.redMul(s));var c=r.redAdd(r);c=c.redIAdd(c);var u=c.redMul(a);var l=o.redSqr().redISub(u.redAdd(u));var h=u.redISub(l);var d=a.redSqr();d=d.redIAdd(d);d=d.redIAdd(d);d=d.redIAdd(d);var p=o.redMul(h).redISub(d);var y=n.redAdd(n).redMul(i);return this.curve.jpoint(l,p,y)};JPoint.prototype.trpl=function e(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr();var r=this.y.redSqr();var n=this.z.redSqr();var i=r.redSqr();var s=t.redAdd(t).redIAdd(t);var f=s.redSqr();var a=this.x.redAdd(r).redSqr().redISub(t).redISub(i);a=a.redIAdd(a);a=a.redAdd(a).redIAdd(a);a=a.redISub(f);var o=a.redSqr();var c=i.redIAdd(i);c=c.redIAdd(c);c=c.redIAdd(c);c=c.redIAdd(c);var u=s.redIAdd(a).redSqr().redISub(f).redISub(o).redISub(c);var l=r.redMul(u);l=l.redIAdd(l);l=l.redIAdd(l);var h=this.x.redMul(o).redISub(l);h=h.redIAdd(h);h=h.redIAdd(h);var d=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(o)));d=d.redIAdd(d);d=d.redIAdd(d);d=d.redIAdd(d);var p=this.z.redAdd(a).redSqr().redISub(n).redISub(o);return this.curve.jpoint(h,d,p)};JPoint.prototype.mul=function e(t,r){t=new bn(t,r);return this.curve._wnafMul(this,t)};JPoint.prototype.eq=function e(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return true;var r=this.z.redSqr();var n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return false;var i=r.redMul(this.z);var s=n.redMul(t.z);return this.y.redMul(s).redISub(t.y.redMul(i)).cmpn(0)===0};JPoint.prototype.eqXToP=function e(t){var r=this.z.redSqr();var n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return true;var i=t.clone();var s=this.curve.redN.redMul(r);for(;;){i.iadd(this.curve.n);if(i.cmp(this.curve.p)>=0)return false;n.redIAdd(s);if(this.x.cmp(n)===0)return true}};JPoint.prototype.inspect=function e(){if(this.isInfinity())return"<EC JPoint Infinity>";return"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function e(){return this.z.cmpn(0)===0};var curve_1=createCommonjsModule((function(e,t){var r=t;r.base=base;r.short=short_1;r.mont=null;r.edwards=null}));var curves_1=createCommonjsModule((function(e,t){var r=t;var n=utils_1$1.assert;function i(e){if(e.type==="short")this.curve=new curve_1.short(e);else if(e.type==="edwards")this.curve=new curve_1.edwards(e);else this.curve=new curve_1.mont(e);this.g=this.curve.g;this.n=this.curve.n;this.hash=e.hash;n(this.g.validate(),"Invalid curve");n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(e,t){Object.defineProperty(r,e,{configurable:true,enumerable:true,get:function(){var n=new i(t);Object.defineProperty(r,e,{configurable:true,enumerable:true,value:n});return n}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash_1.sha256,gRed:false,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash_1.sha256,gRed:false,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash_1.sha256,gRed:false,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f "+"5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 "+"f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash_1.sha384,gRed:false,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 "+"5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 "+"0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b "+"99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd "+"3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 "+"f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash_1.sha512,gRed:false,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 "+"053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 "+"a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 "+"579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 "+"3fad0761 353c7086 a272c240 88be9476 9fd16650"]});s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash_1.sha256,gRed:false,g:["9"]});s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash_1.sha256,gRed:false,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=null.crash()}catch(e){f=undefined}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash_1.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:false,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})}));function HmacDRBG(e){if(!(this instanceof HmacDRBG))return new HmacDRBG(e);this.hash=e.hash;this.predResist=!!e.predResist;this.outLen=this.hash.outSize;this.minEntropy=e.minEntropy||this.hash.hmacStrength;this._reseed=null;this.reseedInterval=null;this.K=null;this.V=null;var t=utils_1.toArray(e.entropy,e.entropyEnc||"hex");var r=utils_1.toArray(e.nonce,e.nonceEnc||"hex");var n=utils_1.toArray(e.pers,e.persEnc||"hex");minimalisticAssert(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._init(t,r,n)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function e(t,r,n){var i=t.concat(r).concat(n);this.K=new Array(this.outLen/8);this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++){this.K[s]=0;this.V[s]=1}this._update(i);this._reseed=1;this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function e(){return new hash_1.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function e(t){var r=this._hmac().update(this.V).update([0]);if(t)r=r.update(t);this.K=r.digest();this.V=this._hmac().update(this.V).digest();if(!t)return;this.K=this._hmac().update(this.V).update([1]).update(t).digest();this.V=this._hmac().update(this.V).digest()};HmacDRBG.prototype.reseed=function e(t,r,n,i){if(typeof r!=="string"){i=n;n=r;r=null}t=utils_1.toArray(t,r);n=utils_1.toArray(n,i);minimalisticAssert(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._update(t.concat(n||[]));this._reseed=1};HmacDRBG.prototype.generate=function e(t,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");if(typeof r!=="string"){i=n;n=r;r=null}if(n){n=utils_1.toArray(n,i||"hex");this._update(n)}var s=[];while(s.length<t){this.V=this._hmac().update(this.V).digest();s=s.concat(this.V)}var f=s.slice(0,t);this._update(n);this._reseed++;return utils_1.encode(f,r)};var assert$3=utils_1$1.assert;function KeyPair(e,t){this.ec=e;this.priv=null;this.pub=null;if(t.priv)this._importPrivate(t.priv,t.privEnc);if(t.pub)this._importPublic(t.pub,t.pubEnc)}var key=KeyPair;KeyPair.fromPublic=function e(t,r,n){if(r instanceof KeyPair)return r;return new KeyPair(t,{pub:r,pubEnc:n})};KeyPair.fromPrivate=function e(t,r,n){if(r instanceof KeyPair)return r;return new KeyPair(t,{priv:r,privEnc:n})};KeyPair.prototype.validate=function e(){var t=this.getPublic();if(t.isInfinity())return{result:false,reason:"Invalid public key"};if(!t.validate())return{result:false,reason:"Public key is not a point"};if(!t.mul(this.ec.curve.n).isInfinity())return{result:false,reason:"Public key * N != O"};return{result:true,reason:null}};KeyPair.prototype.getPublic=function e(t,r){if(typeof t==="string"){r=t;t=null}if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(!r)return this.pub;return this.pub.encode(r,t)};KeyPair.prototype.getPrivate=function e(t){if(t==="hex")return this.priv.toString(16,2);else return this.priv};KeyPair.prototype._importPrivate=function e(t,r){this.priv=new bn(t,r||16);this.priv=this.priv.umod(this.ec.curve.n)};KeyPair.prototype._importPublic=function e(t,r){if(t.x||t.y){if(this.ec.curve.type==="mont"){assert$3(t.x,"Need x coordinate")}else if(this.ec.curve.type==="short"||this.ec.curve.type==="edwards"){assert$3(t.x&&t.y,"Need both x and y coordinate")}this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};KeyPair.prototype.derive=function e(t){if(!t.validate()){assert$3(t.validate(),"public point not validated")}return t.mul(this.priv).getX()};KeyPair.prototype.sign=function e(t,r,n){return this.ec.sign(t,this,r,n)};KeyPair.prototype.verify=function e(t,r){return this.ec.verify(t,r,this)};KeyPair.prototype.inspect=function e(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4=utils_1$1.assert;function Signature(e,t){if(e instanceof Signature)return e;if(this._importDER(e,t))return;assert$4(e.r&&e.s,"Signature without r or s");this.r=new bn(e.r,16);this.s=new bn(e.s,16);if(e.recoveryParam===undefined)this.recoveryParam=null;else this.recoveryParam=e.recoveryParam}var signature=Signature;function Position(){this.place=0}function getLength(e,t){var r=e[t.place++];if(!(r&128)){return r}var n=r&15;if(n===0||n>4){return false}var i=0;for(var s=0,f=t.place;s<n;s++,f++){i<<=8;i|=e[f];i>>>=0}if(i<=127){return false}t.place=f;return i}function rmPadding(e){var t=0;var r=e.length-1;while(!e[t]&&!(e[t+1]&128)&&t<r){t++}if(t===0){return e}return e.slice(t)}Signature.prototype._importDER=function e(t,r){t=utils_1$1.toArray(t,r);var n=new Position;if(t[n.place++]!==48){return false}var i=getLength(t,n);if(i===false){return false}if(i+n.place!==t.length){return false}if(t[n.place++]!==2){return false}var s=getLength(t,n);if(s===false){return false}var f=t.slice(n.place,s+n.place);n.place+=s;if(t[n.place++]!==2){return false}var a=getLength(t,n);if(a===false){return false}if(t.length!==a+n.place){return false}var o=t.slice(n.place,a+n.place);if(f[0]===0){if(f[1]&128){f=f.slice(1)}else{return false}}if(o[0]===0){if(o[1]&128){o=o.slice(1)}else{return false}}this.r=new bn(f);this.s=new bn(o);this.recoveryParam=null;return true};function constructLength(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);e.push(r|128);while(--r){e.push(t>>>(r<<3)&255)}e.push(t)}Signature.prototype.toDER=function e(t){var r=this.r.toArray();var n=this.s.toArray();if(r[0]&128)r=[0].concat(r);if(n[0]&128)n=[0].concat(n);r=rmPadding(r);n=rmPadding(n);while(!n[0]&&!(n[1]&128)){n=n.slice(1)}var i=[2];constructLength(i,r.length);i=i.concat(r);i.push(2);constructLength(i,n.length);var s=i.concat(n);var f=[48];constructLength(f,s.length);f=f.concat(s);return utils_1$1.encode(f,t)};var rand=function(){throw new Error("unsupported")};var assert$5=utils_1$1.assert;function EC(e){if(!(this instanceof EC))return new EC(e);if(typeof e==="string"){assert$5(Object.prototype.hasOwnProperty.call(curves_1,e),"Unknown curve "+e);e=curves_1[e]}if(e instanceof curves_1.PresetCurve)e={curve:e};this.curve=e.curve.curve;this.n=this.curve.n;this.nh=this.n.ushrn(1);this.g=this.curve.g;this.g=e.curve.g;this.g.precompute(e.curve.n.bitLength()+1);this.hash=e.hash||e.curve.hash}var ec=EC;EC.prototype.keyPair=function e(t){return new key(this,t)};EC.prototype.keyFromPrivate=function e(t,r){return key.fromPrivate(this,t,r)};EC.prototype.keyFromPublic=function e(t,r){return key.fromPublic(this,t,r)};EC.prototype.genKeyPair=function e(t){if(!t)t={};var r=new hmacDrbg({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||rand(),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()});var n=this.n.byteLength();var i=this.n.sub(new bn(2));for(;;){var s=new bn(r.generate(n));if(s.cmp(i)>0)continue;s.iaddn(1);return this.keyFromPrivate(s)}};EC.prototype._truncateToN=function e(t,r){var n=t.byteLength()*8-this.n.bitLength();if(n>0)t=t.ushrn(n);if(!r&&t.cmp(this.n)>=0)return t.sub(this.n);else return t};EC.prototype.sign=function e(t,r,n,i){if(typeof n==="object"){i=n;n=null}if(!i)i={};r=this.keyFromPrivate(r,n);t=this._truncateToN(new bn(t,16));var s=this.n.byteLength();var f=r.getPrivate().toArray("be",s);var a=t.toArray("be",s);var o=new hmacDrbg({hash:this.hash,entropy:f,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"});var c=this.n.sub(new bn(1));for(var u=0;;u++){var l=i.k?i.k(u):new bn(o.generate(this.n.byteLength()));l=this._truncateToN(l,true);if(l.cmpn(1)<=0||l.cmp(c)>=0)continue;var h=this.g.mul(l);if(h.isInfinity())continue;var d=h.getX();var p=d.umod(this.n);if(p.cmpn(0)===0)continue;var y=l.invm(this.n).mul(p.mul(r.getPrivate()).iadd(t));y=y.umod(this.n);if(y.cmpn(0)===0)continue;var b=(h.getY().isOdd()?1:0)|(d.cmp(p)!==0?2:0);if(i.canonical&&y.cmp(this.nh)>0){y=this.n.sub(y);b^=1}return new signature({r:p,s:y,recoveryParam:b})}};EC.prototype.verify=function e(t,r,n,i){t=this._truncateToN(new bn(t,16));n=this.keyFromPublic(n,i);r=new signature(r,"hex");var s=r.r;var f=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return false;if(f.cmpn(1)<0||f.cmp(this.n)>=0)return false;var a=f.invm(this.n);var o=a.mul(t).umod(this.n);var c=a.mul(s).umod(this.n);var u;if(!this.curve._maxwellTrick){u=this.g.mulAdd(o,n.getPublic(),c);if(u.isInfinity())return false;return u.getX().umod(this.n).cmp(s)===0}u=this.g.jmulAdd(o,n.getPublic(),c);if(u.isInfinity())return false;return u.eqXToP(s)};EC.prototype.recoverPubKey=function(e,t,r,n){assert$5((3&r)===r,"The recovery param is more than two bits");t=new signature(t,n);var i=this.n;var s=new bn(e);var f=t.r;var a=t.s;var o=r&1;var c=r>>1;if(f.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");if(c)f=this.curve.pointFromX(f.add(this.curve.n),o);else f=this.curve.pointFromX(f,o);var u=t.r.invm(i);var l=i.sub(s).mul(u).umod(i);var h=a.mul(u).umod(i);return this.g.mulAdd(l,f,h)};EC.prototype.getKeyRecoveryParam=function(e,t,r,n){t=new signature(t,n);if(t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var elliptic_1=createCommonjsModule((function(e,t){var r=t;r.version={version:"6.5.4"}.version;r.utils=utils_1$1;r.rand=function(){throw new Error("unsupported")};r.curve=curve_1;r.curves=curves_1;r.ec=ec;r.eddsa=null}));var EC$1=elliptic_1.ec;const version$e="signing-key/5.7.0";const logger$t=new Logger(version$e);let _curve=null;function getCurve(){if(!_curve){_curve=new EC$1("secp256k1")}return _curve}class SigningKey{constructor(e){defineReadOnly(this,"curve","secp256k1");defineReadOnly(this,"privateKey",hexlify(e));if(hexDataLength(this.privateKey)!==32){logger$t.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]")}const t=getCurve().keyFromPrivate(arrayify$1(this.privateKey));defineReadOnly(this,"publicKey","0x"+t.getPublic(false,"hex"));defineReadOnly(this,"compressedPublicKey","0x"+t.getPublic(true,"hex"));defineReadOnly(this,"_isSigningKey",true)}_addPoint(e){const t=getCurve().keyFromPublic(arrayify$1(this.publicKey));const r=getCurve().keyFromPublic(arrayify$1(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=getCurve().keyFromPrivate(arrayify$1(this.privateKey));const r=arrayify$1(e);if(r.length!==32){logger$t.throwArgumentError("bad digest length","digest",e)}const n=t.sign(r,{canonical:true});return splitSignature({recoveryParam:n.recoveryParam,r:hexZeroPad("0x"+n.r.toString(16),32),s:hexZeroPad("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=getCurve().keyFromPrivate(arrayify$1(this.privateKey));const r=getCurve().keyFromPublic(arrayify$1(computePublicKey(e)));return hexZeroPad("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function recoverPublicKey(e,t){const r=splitSignature(t);const n={r:arrayify$1(r.r),s:arrayify$1(r.s)};return"0x"+getCurve().recoverPubKey(arrayify$1(e),n,r.recoveryParam).encode("hex",false)}function computePublicKey(e,t){const r=arrayify$1(e);if(r.length===32){const e=new SigningKey(r);if(t){return"0x"+getCurve().keyFromPrivate(r).getPublic(true,"hex")}return e.publicKey}else if(r.length===33){if(t){return hexlify(r)}return"0x"+getCurve().keyFromPublic(r).getPublic(false,"hex")}else if(r.length===65){if(!t){return hexlify(r)}return"0x"+getCurve().keyFromPublic(r).getPublic(true,"hex")}return logger$t.throwArgumentError("invalid public or private key","key","[REDACTED]")}const version$d="transactions/5.7.0";const logger$s=new Logger(version$d);var TransactionTypes;(function(e){e[e["legacy"]=0]="legacy";e[e["eip2930"]=1]="eip2930";e[e["eip1559"]=2]="eip1559"})(TransactionTypes||(TransactionTypes={}));function handleAddress(e){if(e==="0x"){return null}return getAddress(e)}function handleNumber(e){if(e==="0x"){return Zero$1}return BigNumber.from(e)}const transactionFields=[{name:"nonce",maxLength:32,numeric:true},{name:"gasPrice",maxLength:32,numeric:true},{name:"gasLimit",maxLength:32,numeric:true},{name:"to",length:20},{name:"value",maxLength:32,numeric:true},{name:"data"}];const allowedTransactionKeys$2={chainId:true,data:true,gasLimit:true,gasPrice:true,nonce:true,to:true,type:true,value:true};function computeAddress(e){const t=computePublicKey(e);return getAddress(hexDataSlice(keccak256$1(hexDataSlice(t,1)),12))}function recoverAddress(e,t){return computeAddress(recoverPublicKey(arrayify$1(e),t))}function formatNumber(e,t){const r=stripZeros(BigNumber.from(e).toHexString());if(r.length>32){logger$s.throwArgumentError("invalid length for "+t,"transaction:"+t,e)}return r}function accessSetify(e,t){return{address:getAddress(e),storageKeys:(t||[]).map(((t,r)=>{if(hexDataLength(t)!==32){logger$s.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t)}return t.toLowerCase()}))}}function accessListify(e){if(Array.isArray(e)){return e.map(((e,t)=>{if(Array.isArray(e)){if(e.length>2){logger$s.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e)}return accessSetify(e[0],e[1])}return accessSetify(e.address,e.storageKeys)}))}const t=Object.keys(e).map((t=>{const r=e[t].reduce(((e,t)=>{e[t]=true;return e}),{});return accessSetify(t,Object.keys(r).sort())}));t.sort(((e,t)=>e.address.localeCompare(t.address)));return t}function formatAccessList(e){return accessListify(e).map((e=>[e.address,e.storageKeys]))}function _serializeEip1559(e,t){if(e.gasPrice!=null){const t=BigNumber.from(e.gasPrice);const r=BigNumber.from(e.maxFeePerGas||0);if(!t.eq(r)){logger$s.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}}const r=[formatNumber(e.chainId||0,"chainId"),formatNumber(e.nonce||0,"nonce"),formatNumber(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(e.maxFeePerGas||0,"maxFeePerGas"),formatNumber(e.gasLimit||0,"gasLimit"),e.to!=null?getAddress(e.to):"0x",formatNumber(e.value||0,"value"),e.data||"0x",formatAccessList(e.accessList||[])];if(t){const e=splitSignature(t);r.push(formatNumber(e.recoveryParam,"recoveryParam"));r.push(stripZeros(e.r));r.push(stripZeros(e.s))}return hexConcat(["0x02",encode$2(r)])}function _serializeEip2930(e,t){const r=[formatNumber(e.chainId||0,"chainId"),formatNumber(e.nonce||0,"nonce"),formatNumber(e.gasPrice||0,"gasPrice"),formatNumber(e.gasLimit||0,"gasLimit"),e.to!=null?getAddress(e.to):"0x",formatNumber(e.value||0,"value"),e.data||"0x",formatAccessList(e.accessList||[])];if(t){const e=splitSignature(t);r.push(formatNumber(e.recoveryParam,"recoveryParam"));r.push(stripZeros(e.r));r.push(stripZeros(e.s))}return hexConcat(["0x01",encode$2(r)])}function _serialize(e,t){checkProperties(e,allowedTransactionKeys$2);const r=[];transactionFields.forEach((function(t){let n=e[t.name]||[];const i={};if(t.numeric){i.hexPad="left"}n=arrayify$1(hexlify(n,i));if(t.length&&n.length!==t.length&&n.length>0){logger$s.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n)}if(t.maxLength){n=stripZeros(n);if(n.length>t.maxLength){logger$s.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n)}}r.push(hexlify(n))}));let n=0;if(e.chainId!=null){n=e.chainId;if(typeof n!=="number"){logger$s.throwArgumentError("invalid transaction.chainId","transaction",e)}}else if(t&&!isBytesLike(t)&&t.v>28){n=Math.floor((t.v-35)/2)}if(n!==0){r.push(hexlify(n));r.push("0x");r.push("0x")}if(!t){return encode$2(r)}const i=splitSignature(t);let s=27+i.recoveryParam;if(n!==0){r.pop();r.pop();r.pop();s+=n*2+8;if(i.v>28&&i.v!==s){logger$s.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)}}else if(i.v!==s){logger$s.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)}r.push(hexlify(s));r.push(stripZeros(arrayify$1(i.r)));r.push(stripZeros(arrayify$1(i.s)));return encode$2(r)}function serialize$1(e,t){if(e.type==null||e.type===0){if(e.accessList!=null){logger$s.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e)}return _serialize(e,t)}switch(e.type){case 1:return _serializeEip2930(e,t);case 2:return _serializeEip1559(e,t)}return logger$s.throwError(`unsupported transaction type: ${e.type}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function _parseEipSignature(e,t,r){try{const r=handleNumber(t[0]).toNumber();if(r!==0&&r!==1){throw new Error("bad recid")}e.v=r}catch(e){logger$s.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=hexZeroPad(t[1],32);e.s=hexZeroPad(t[2],32);try{const t=keccak256$1(r(e));e.from=recoverAddress(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function _parseEip1559(e){const t=decode$2(e.slice(1));if(t.length!==9&&t.length!==12){logger$s.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify(e))}const r=handleNumber(t[2]);const n=handleNumber(t[3]);const i={type:2,chainId:handleNumber(t[0]).toNumber(),nonce:handleNumber(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:handleNumber(t[4]),to:handleAddress(t[5]),value:handleNumber(t[6]),data:t[7],accessList:accessListify(t[8])};if(t.length===9){return i}i.hash=keccak256$1(e);_parseEipSignature(i,t.slice(9),_serializeEip1559);return i}function _parseEip2930(e){const t=decode$2(e.slice(1));if(t.length!==8&&t.length!==11){logger$s.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify(e))}const r={type:1,chainId:handleNumber(t[0]).toNumber(),nonce:handleNumber(t[1]).toNumber(),gasPrice:handleNumber(t[2]),gasLimit:handleNumber(t[3]),to:handleAddress(t[4]),value:handleNumber(t[5]),data:t[6],accessList:accessListify(t[7])};if(t.length===8){return r}r.hash=keccak256$1(e);_parseEipSignature(r,t.slice(8),_serializeEip2930);return r}function _parse(e){const t=decode$2(e);if(t.length!==9&&t.length!==6){logger$s.throwArgumentError("invalid raw transaction","rawTransaction",e)}const r={nonce:handleNumber(t[0]).toNumber(),gasPrice:handleNumber(t[1]),gasLimit:handleNumber(t[2]),to:handleAddress(t[3]),value:handleNumber(t[4]),data:t[5],chainId:0};if(t.length===6){return r}try{r.v=BigNumber.from(t[6]).toNumber()}catch(e){return r}r.r=hexZeroPad(t[7],32);r.s=hexZeroPad(t[8],32);if(BigNumber.from(r.r).isZero()&&BigNumber.from(r.s).isZero()){r.chainId=r.v;r.v=0}else{r.chainId=Math.floor((r.v-35)/2);if(r.chainId<0){r.chainId=0}let n=r.v-27;const i=t.slice(0,6);if(r.chainId!==0){i.push(hexlify(r.chainId));i.push("0x");i.push("0x");n-=r.chainId*2+8}const s=keccak256$1(encode$2(i));try{r.from=recoverAddress(s,{r:hexlify(r.r),s:hexlify(r.s),recoveryParam:n})}catch(e){}r.hash=keccak256$1(e)}r.type=null;return r}function parse(e){const t=arrayify$1(e);if(t[0]>127){return _parse(t)}switch(t[0]){case 1:return _parseEip2930(t);case 2:return _parseEip1559(t)}return logger$s.throwError(`unsupported transaction type: ${t[0]}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}const version$c="contracts/5.7.0";var __awaiter$b=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$r=new Logger(version$c);const allowedTransactionKeys$1={chainId:true,data:true,from:true,gasLimit:true,gasPrice:true,nonce:true,to:true,value:true,type:true,accessList:true,maxFeePerGas:true,maxPriorityFeePerGas:true,customData:true,ccipReadEnabled:true};function resolveName(e,t){return __awaiter$b(this,void 0,void 0,(function*(){const r=yield t;if(typeof r!=="string"){logger$r.throwArgumentError("invalid address or ENS name","name",r)}try{return getAddress(r)}catch(e){}if(!e){logger$r.throwError("a provider or signer is needed to resolve ENS names",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"})}const n=yield e.resolveName(r);if(n==null){logger$r.throwArgumentError("resolver or addr is not configured for ENS name","name",r)}return n}))}function resolveAddresses(e,t,r){return __awaiter$b(this,void 0,void 0,(function*(){if(Array.isArray(r)){return yield Promise.all(r.map(((r,n)=>resolveAddresses(e,Array.isArray(t)?t[n]:t[r.name],r))))}if(r.type==="address"){return yield resolveName(e,t)}if(r.type==="tuple"){return yield resolveAddresses(e,t,r.components)}if(r.baseType==="array"){if(!Array.isArray(t)){return Promise.reject(logger$r.makeError("invalid value for array",Logger.errors.INVALID_ARGUMENT,{argument:"value",value:t}))}return yield Promise.all(t.map((t=>resolveAddresses(e,t,r.arrayChildren))))}return t}))}function populateTransaction(e,t,r){return __awaiter$b(this,void 0,void 0,(function*(){let n={};if(r.length===t.inputs.length+1&&typeof r[r.length-1]==="object"){n=shallowCopy(r.pop())}logger$r.checkArgumentCount(r.length,t.inputs.length,"passed to contract");if(e.signer){if(n.from){n.from=resolveProperties({override:resolveName(e.signer,n.from),signer:e.signer.getAddress()}).then((e=>__awaiter$b(this,void 0,void 0,(function*(){if(getAddress(e.signer)!==e.override){logger$r.throwError("Contract with a Signer cannot override from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"})}return e.override}))))}else{n.from=e.signer.getAddress()}}else if(n.from){n.from=resolveName(e.provider,n.from)}const i=yield resolveProperties({args:resolveAddresses(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:resolveProperties(n)||{}});const s=e.interface.encodeFunctionData(t,i.args);const f={data:s,to:i.address};const a=i.overrides;if(a.nonce!=null){f.nonce=BigNumber.from(a.nonce).toNumber()}if(a.gasLimit!=null){f.gasLimit=BigNumber.from(a.gasLimit)}if(a.gasPrice!=null){f.gasPrice=BigNumber.from(a.gasPrice)}if(a.maxFeePerGas!=null){f.maxFeePerGas=BigNumber.from(a.maxFeePerGas)}if(a.maxPriorityFeePerGas!=null){f.maxPriorityFeePerGas=BigNumber.from(a.maxPriorityFeePerGas)}if(a.from!=null){f.from=a.from}if(a.type!=null){f.type=a.type}if(a.accessList!=null){f.accessList=accessListify(a.accessList)}if(f.gasLimit==null&&t.gas!=null){let e=21e3;const r=arrayify$1(s);for(let t=0;t<r.length;t++){e+=4;if(r[t]){e+=64}}f.gasLimit=BigNumber.from(t.gas).add(e)}if(a.value){const e=BigNumber.from(a.value);if(!e.isZero()&&!t.payable){logger$r.throwError("non-payable method cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value})}f.value=e}if(a.customData){f.customData=shallowCopy(a.customData)}if(a.ccipReadEnabled){f.ccipReadEnabled=!!a.ccipReadEnabled}delete n.nonce;delete n.gasLimit;delete n.gasPrice;delete n.from;delete n.value;delete n.type;delete n.accessList;delete n.maxFeePerGas;delete n.maxPriorityFeePerGas;delete n.customData;delete n.ccipReadEnabled;const o=Object.keys(n).filter((e=>n[e]!=null));if(o.length){logger$r.throwError(`cannot override ${o.map((e=>JSON.stringify(e))).join(",")}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:o})}return f}))}function buildPopulate(e,t){return function(...r){return populateTransaction(e,t,r)}}function buildEstimate(e,t){const r=e.signer||e.provider;return function(...n){return __awaiter$b(this,void 0,void 0,(function*(){if(!r){logger$r.throwError("estimate require a provider or signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"})}const i=yield populateTransaction(e,t,n);return yield r.estimateGas(i)}))}}function addContractWait(e,t){const r=t.wait.bind(t);t.wait=t=>r(t).then((t=>{t.events=t.logs.map((r=>{let n=deepCopy(r);let i=null;try{i=e.interface.parseLog(r)}catch(e){}if(i){n.args=i.args;n.decode=(t,r)=>e.interface.decodeEventLog(i.eventFragment,t,r);n.event=i.name;n.eventSignature=i.signature}n.removeListener=()=>e.provider;n.getBlock=()=>e.provider.getBlock(t.blockHash);n.getTransaction=()=>e.provider.getTransaction(t.transactionHash);n.getTransactionReceipt=()=>Promise.resolve(t);return n}));return t}))}function buildCall(e,t,r){const n=e.signer||e.provider;return function(...i){return __awaiter$b(this,void 0,void 0,(function*(){let s=undefined;if(i.length===t.inputs.length+1&&typeof i[i.length-1]==="object"){const e=shallowCopy(i.pop());if(e.blockTag!=null){s=yield e.blockTag}delete e.blockTag;i.push(e)}if(e.deployTransaction!=null){yield e._deployed(s)}const f=yield populateTransaction(e,t,i);const a=yield n.call(f,s);try{let n=e.interface.decodeFunctionResult(t,a);if(r&&t.outputs.length===1){n=n[0]}return n}catch(t){if(t.code===Logger.errors.CALL_EXCEPTION){t.address=e.address;t.args=i;t.transaction=f}throw t}}))}}function buildSend(e,t){return function(...r){return __awaiter$b(this,void 0,void 0,(function*(){if(!e.signer){logger$r.throwError("sending a transaction requires a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"})}if(e.deployTransaction!=null){yield e._deployed()}const n=yield populateTransaction(e,t,r);const i=yield e.signer.sendTransaction(n);addContractWait(e,i);return i}))}}function buildDefault(e,t,r){if(t.constant){return buildCall(e,t,r)}return buildSend(e,t)}function getEventTag$1(e){if(e.address&&(e.topics==null||e.topics.length===0)){return"*"}return(e.address||"*")+"@"+(e.topics?e.topics.map((e=>{if(Array.isArray(e)){return e.join("|")}return e})).join(":"):"")}class RunningEvent{constructor(e,t){defineReadOnly(this,"tag",e);defineReadOnly(this,"filter",t);this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=false;this._listeners=this._listeners.filter((r=>{if(t||r.listener!==e){return true}t=true;return false}))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((e=>e.listener))}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();this._listeners=this._listeners.filter((t=>{const r=e.slice();setTimeout((()=>{t.listener.apply(this,r)}),0);return!t.once}));return t}prepareEvent(e){}getEmit(e){return[e]}}class ErrorRunningEvent extends RunningEvent{constructor(){super("error",null)}}class FragmentRunningEvent extends RunningEvent{constructor(e,t,r,n){const i={address:e};let s=t.getEventTopic(r);if(n){if(s!==n[0]){logger$r.throwArgumentError("topic mismatch","topics",n)}i.topics=n.slice()}else{i.topics=[s]}super(getEventTag$1(i),i);defineReadOnly(this,"address",e);defineReadOnly(this,"interface",t);defineReadOnly(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e);e.event=this.fragment.name;e.eventSignature=this.fragment.format();e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null;e.decodeError=t}}getEmit(e){const t=checkResultErrors(e.args);if(t.length){throw t[0].error}const r=(e.args||[]).slice();r.push(e);return r}}class WildcardRunningEvent extends RunningEvent{constructor(e,t){super("*",{address:e});defineReadOnly(this,"address",e);defineReadOnly(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name;e.eventSignature=t.signature;e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r);e.args=t.args}catch(e){}}}class BaseContract{constructor(e,t,r){defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(t));if(r==null){defineReadOnly(this,"provider",null);defineReadOnly(this,"signer",null)}else if(Signer.isSigner(r)){defineReadOnly(this,"provider",r.provider||null);defineReadOnly(this,"signer",r)}else if(Provider.isProvider(r)){defineReadOnly(this,"provider",r);defineReadOnly(this,"signer",null)}else{logger$r.throwArgumentError("invalid signer or provider","signerOrProvider",r)}defineReadOnly(this,"callStatic",{});defineReadOnly(this,"estimateGas",{});defineReadOnly(this,"functions",{});defineReadOnly(this,"populateTransaction",{});defineReadOnly(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach((t=>{const r=this.interface.events[t];defineReadOnly(this.filters,t,((...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,e)})));if(!e[r.name]){e[r.name]=[]}e[r.name].push(t)}));Object.keys(e).forEach((t=>{const r=e[t];if(r.length===1){defineReadOnly(this.filters,t,this.filters[r[0]])}else{logger$r.warn(`Duplicate definition of ${t} (${r.join(", ")})`)}}))}defineReadOnly(this,"_runningEvents",{});defineReadOnly(this,"_wrappedEmits",{});if(e==null){logger$r.throwArgumentError("invalid contract address or ENS name","addressOrName",e)}defineReadOnly(this,"address",e);if(this.provider){defineReadOnly(this,"resolvedAddress",resolveName(this.provider,e))}else{try{defineReadOnly(this,"resolvedAddress",Promise.resolve(getAddress(e)))}catch(e){logger$r.throwError("provider is required to use ENS name as contract address",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}}this.resolvedAddress.catch((e=>{}));const n={};const i={};Object.keys(this.interface.functions).forEach((e=>{const t=this.interface.functions[e];if(i[e]){logger$r.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);return}i[e]=true;{const r=t.name;if(!n[`%${r}`]){n[`%${r}`]=[]}n[`%${r}`].push(e)}if(this[e]==null){defineReadOnly(this,e,buildDefault(this,t,true))}if(this.functions[e]==null){defineReadOnly(this.functions,e,buildDefault(this,t,false))}if(this.callStatic[e]==null){defineReadOnly(this.callStatic,e,buildCall(this,t,true))}if(this.populateTransaction[e]==null){defineReadOnly(this.populateTransaction,e,buildPopulate(this,t))}if(this.estimateGas[e]==null){defineReadOnly(this.estimateGas,e,buildEstimate(this,t))}}));Object.keys(n).forEach((e=>{const t=n[e];if(t.length>1){return}e=e.substring(1);const r=t[0];try{if(this[e]==null){defineReadOnly(this,e,this[r])}}catch(e){}if(this.functions[e]==null){defineReadOnly(this.functions,e,this.functions[r])}if(this.callStatic[e]==null){defineReadOnly(this.callStatic,e,this.callStatic[r])}if(this.populateTransaction[e]==null){defineReadOnly(this.populateTransaction,e,this.populateTransaction[r])}if(this.estimateGas[e]==null){defineReadOnly(this.estimateGas,e,this.estimateGas[r])}}))}static getContractAddress(e){return getContractAddress(e)}static getInterface(e){if(Interface.isInterface(e)){return e}return new Interface(e)}deployed(){return this._deployed()}_deployed(e){if(!this._deployedPromise){if(this.deployTransaction){this._deployedPromise=this.deployTransaction.wait().then((()=>this))}else{this._deployedPromise=this.provider.getCode(this.address,e).then((e=>{if(e==="0x"){logger$r.throwError("contract not deployed",Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"})}return this}))}}return this._deployedPromise}fallback(e){if(!this.signer){logger$r.throwError("sending a transactions require a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"})}const t=shallowCopy(e||{});["from","to"].forEach((function(e){if(t[e]==null){return}logger$r.throwError("cannot override "+e,Logger.errors.UNSUPPORTED_OPERATION,{operation:e})}));t.to=this.resolvedAddress;return this.deployed().then((()=>this.signer.sendTransaction(t)))}connect(e){if(typeof e==="string"){e=new VoidSigner(e,this.provider)}const t=new this.constructor(this.address,this.interface,e);if(this.deployTransaction){defineReadOnly(t,"deployTransaction",this.deployTransaction)}return t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Indexed.isIndexed(e)}_normalizeRunningEvent(e){if(this._runningEvents[e.tag]){return this._runningEvents[e.tag]}return e}_getRunningEvent(e){if(typeof e==="string"){if(e==="error"){return this._normalizeRunningEvent(new ErrorRunningEvent)}if(e==="event"){return this._normalizeRunningEvent(new RunningEvent("event",null))}if(e==="*"){return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const t=e.topics[0];if(typeof t!=="string"){throw new Error("invalid topic")}const r=this.interface.getEvent(t);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,r,e.topics))}catch(e){}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new RunningEvent(getEventTag$1(t),t))}return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];if(t&&e.filter){this.provider.off(e.filter,t);delete this._wrappedEmits[e.tag]}}}_wrapEvent(e,t,r){const n=deepCopy(t);n.removeListener=()=>{if(!r){return}e.removeListener(r);this._checkRunningEvents(e)};n.getBlock=()=>this.provider.getBlock(t.blockHash);n.getTransaction=()=>this.provider.getTransaction(t.transactionHash);n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash);e.prepareEvent(n);return n}_addEventListener(e,t,r){if(!this.provider){logger$r.throwError("events require a provider or a signer with a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"})}e.addListener(t,r);this._runningEvents[e.tag]=e;if(!this._wrappedEmits[e.tag]){const r=r=>{let n=this._wrapEvent(e,r,t);if(n.decodeError==null){try{const t=e.getEmit(n);this.emit(e.filter,...t)}catch(e){n.decodeError=e.error}}if(e.filter!=null){this.emit("event",n)}if(n.decodeError!=null){this.emit("error",n.decodeError,n)}};this._wrappedEmits[e.tag]=r;if(e.filter!=null){this.provider.on(e.filter,r)}}}queryFilter(e,t,r){const n=this._getRunningEvent(e);const i=shallowCopy(n.filter);if(typeof t==="string"&&isHexString(t,32)){if(r!=null){logger$r.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r)}i.blockHash=t}else{i.fromBlock=t!=null?t:0;i.toBlock=r!=null?r:"latest"}return this.provider.getLogs(i).then((e=>e.map((e=>this._wrapEvent(n,e,null)))))}on(e,t){this._addEventListener(this._getRunningEvent(e),t,false);return this}once(e,t){this._addEventListener(this._getRunningEvent(e),t,true);return this}emit(e,...t){if(!this.provider){return false}const r=this._getRunningEvent(e);const n=r.run(t)>0;this._checkRunningEvents(r);return n}listenerCount(e){if(!this.provider){return 0}if(e==null){return Object.keys(this._runningEvents).reduce(((e,t)=>e+this._runningEvents[t].listenerCount()),0)}return this._getRunningEvent(e).listenerCount()}listeners(e){if(!this.provider){return[]}if(e==null){const e=[];for(let t in this._runningEvents){this._runningEvents[t].listeners().forEach((t=>{e.push(t)}))}return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider){return this}if(e==null){for(const e in this._runningEvents){const t=this._runningEvents[e];t.removeAllListeners();this._checkRunningEvents(t)}return this}const t=this._getRunningEvent(e);t.removeAllListeners();this._checkRunningEvents(t);return this}off(e,t){if(!this.provider){return this}const r=this._getRunningEvent(e);r.removeListener(t);this._checkRunningEvents(r);return this}removeListener(e,t){return this.off(e,t)}}class Contract extends BaseContract{}class ContractFactory{constructor(e,t,r){let n=null;if(typeof t==="string"){n=t}else if(isBytes(t)){n=hexlify(t)}else if(t&&typeof t.object==="string"){n=t.object}else{n="!"}if(n.substring(0,2)!=="0x"){n="0x"+n}if(!isHexString(n)||n.length%2){logger$r.throwArgumentError("invalid bytecode","bytecode",t)}if(r&&!Signer.isSigner(r)){logger$r.throwArgumentError("invalid signer","signer",r)}defineReadOnly(this,"bytecode",n);defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(e));defineReadOnly(this,"signer",r||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]==="object"){t=shallowCopy(e.pop());for(const e in t){if(!allowedTransactionKeys$1[e]){throw new Error("unknown transaction override "+e)}}}["data","from","to"].forEach((e=>{if(t[e]==null){return}logger$r.throwError("cannot override "+e,Logger.errors.UNSUPPORTED_OPERATION,{operation:e})}));if(t.value){const e=BigNumber.from(t.value);if(!e.isZero()&&!this.interface.deploy.payable){logger$r.throwError("non-payable constructor cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value})}}logger$r.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");t.data=hexlify(concat$1([this.bytecode,this.interface.encodeDeploy(e)]));return t}deploy(...e){return __awaiter$b(this,void 0,void 0,(function*(){let t={};if(e.length===this.interface.deploy.inputs.length+1){t=e.pop()}logger$r.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const r=yield resolveAddresses(this.signer,e,this.interface.deploy.inputs);r.push(t);const n=this.getDeployTransaction(...r);const i=yield this.signer.sendTransaction(n);const s=getStatic(this.constructor,"getContractAddress")(i);const f=getStatic(this.constructor,"getContract")(s,this.interface,this.signer);addContractWait(f,i);defineReadOnly(f,"deployTransaction",i);return f}))}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){if(e==null){logger$r.throwError("missing compiler output",Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"})}if(typeof e==="string"){e=JSON.parse(e)}const r=e.abi;let n=null;if(e.bytecode){n=e.bytecode}else if(e.evm&&e.evm.bytecode){n=e.evm.bytecode}return new this(r,n,t)}static getInterface(e){return Contract.getInterface(e)}static getContractAddress(e){return getContractAddress(e)}static getContract(e,t,r){return new Contract(e,t,r)}}class BaseX{constructor(e){defineReadOnly(this,"alphabet",e);defineReadOnly(this,"base",e.length);defineReadOnly(this,"_alphabetMap",{});defineReadOnly(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++){this._alphabetMap[e.charAt(t)]=t}}encode(e){let t=arrayify$1(e);if(t.length===0){return""}let r=[0];for(let e=0;e<t.length;++e){let n=t[e];for(let e=0;e<r.length;++e){n+=r[e]<<8;r[e]=n%this.base;n=n/this.base|0}while(n>0){r.push(n%this.base);n=n/this.base|0}}let n="";for(let e=0;t[e]===0&&e<t.length-1;++e){n+=this._leader}for(let e=r.length-1;e>=0;--e){n+=this.alphabet[r[e]]}return n}decode(e){if(typeof e!=="string"){throw new TypeError("Expected String")}let t=[];if(e.length===0){return new Uint8Array(t)}t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(n===undefined){throw new Error("Non-base"+this.base+" character")}let i=n;for(let e=0;e<t.length;++e){i+=t[e]*this.base;t[e]=i&255;i>>=8}while(i>0){t.push(i&255);i>>=8}}for(let r=0;e[r]===this._leader&&r<e.length-1;++r){t.push(0)}return arrayify$1(new Uint8Array(t.reverse()))}}new BaseX("abcdefghijklmnopqrstuvwxyz234567");const Base58=new BaseX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var SupportedAlgorithm;(function(e){e["sha256"]="sha256";e["sha512"]="sha512"})(SupportedAlgorithm||(SupportedAlgorithm={}));const version$b="sha2/5.7.0";const logger$q=new Logger(version$b);function ripemd160(e){return"0x"+hash_1.ripemd160().update(arrayify$1(e)).digest("hex")}function sha256$1(e){return"0x"+hash_1.sha256().update(arrayify$1(e)).digest("hex")}function sha512(e){return"0x"+hash_1.sha512().update(arrayify$1(e)).digest("hex")}function computeHmac(e,t,r){if(!SupportedAlgorithm[e]){logger$q.throwError("unsupported algorithm "+e,Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e})}return"0x"+hash_1.hmac(hash_1[e],arrayify$1(t)).update(arrayify$1(r)).digest("hex")}function pbkdf2$1(e,t,r,n,i){e=arrayify$1(e);t=arrayify$1(t);let s;let f=1;const a=new Uint8Array(n);const o=new Uint8Array(t.length+4);o.set(t);let c;let u;for(let l=1;l<=f;l++){o[t.length]=l>>24&255;o[t.length+1]=l>>16&255;o[t.length+2]=l>>8&255;o[t.length+3]=l&255;let h=arrayify$1(computeHmac(i,e,o));if(!s){s=h.length;u=new Uint8Array(s);f=Math.ceil(n/s);c=n-(f-1)*s}u.set(h);for(let t=1;t<r;t++){h=arrayify$1(computeHmac(i,e,h));for(let e=0;e<s;e++)u[e]^=h[e]}const d=(l-1)*s;const p=l===f?c:s;a.set(arrayify$1(u).slice(0,p),d)}return hexlify(a)}const version$a="wordlists/5.7.0";const logger$p=new Logger(version$a);class Wordlist{constructor(e){logger$p.checkAbstract(new.target,Wordlist);defineReadOnly(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let r=0;r<2048;r++){const n=e.getWord(r);if(r!==e.getWordIndex(n)){return"0x"}t.push(n)}return id(t.join("\n")+"\n")}static register(e,t){}}const words="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let wordlist=null;function loadWords(e){if(wordlist!=null){return}wordlist=words.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" ");if(Wordlist.check(e)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"){wordlist=null;throw new Error("BIP39 Wordlist for en (English) FAILED")}}class LangEn extends Wordlist{constructor(){super("en")}getWord(e){loadWords(this);return wordlist[e]}getWordIndex(e){loadWords(this);return wordlist.indexOf(e)}}const langEn=new LangEn;Wordlist.register(langEn);const wordlists={en:langEn};const version$9="hdnode/5.7.0";const logger$o=new Logger(version$9);const N=BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");const MasterSecret=toUtf8Bytes("Bitcoin seed");const HardenedBit=2147483648;function getUpperMask(e){return(1<<e)-1<<8-e}function getLowerMask(e){return(1<<e)-1}function bytes32(e){return hexZeroPad(hexlify(e),32)}function base58check(e){return Base58.encode(concat$1([e,hexDataSlice(sha256$1(sha256$1(e)),0,4)]))}function getWordlist(e){if(e==null){return wordlists["en"]}if(typeof e==="string"){const t=wordlists[e];if(t==null){logger$o.throwArgumentError("unknown locale","wordlist",e)}return t}return e}const _constructorGuard$1={};const defaultPath="m/44'/60'/0'/0/0";class HDNode{constructor(e,t,r,n,i,s,f,a){if(e!==_constructorGuard$1){throw new Error("HDNode constructor cannot be called directly")}if(t){const e=new SigningKey(t);defineReadOnly(this,"privateKey",e.privateKey);defineReadOnly(this,"publicKey",e.compressedPublicKey)}else{defineReadOnly(this,"privateKey",null);defineReadOnly(this,"publicKey",hexlify(r))}defineReadOnly(this,"parentFingerprint",n);defineReadOnly(this,"fingerprint",hexDataSlice(ripemd160(sha256$1(this.publicKey)),0,4));defineReadOnly(this,"address",computeAddress(this.publicKey));defineReadOnly(this,"chainCode",i);defineReadOnly(this,"index",s);defineReadOnly(this,"depth",f);if(a==null){defineReadOnly(this,"mnemonic",null);defineReadOnly(this,"path",null)}else if(typeof a==="string"){defineReadOnly(this,"mnemonic",null);defineReadOnly(this,"path",a)}else{defineReadOnly(this,"mnemonic",a);defineReadOnly(this,"path",a.path)}}get extendedKey(){if(this.depth>=256){throw new Error("Depth too large!")}return base58check(concat$1([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",hexlify(this.depth),this.parentFingerprint,hexZeroPad(hexlify(this.index),4),this.chainCode,this.privateKey!=null?concat$1(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new HDNode(_constructorGuard$1,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295){throw new Error("invalid index - "+String(e))}let t=this.path;if(t){t+="/"+(e&~HardenedBit)}const r=new Uint8Array(37);if(e&HardenedBit){if(!this.privateKey){throw new Error("cannot derive child of neutered node")}r.set(arrayify$1(this.privateKey),1);if(t){t+="'"}}else{r.set(arrayify$1(this.publicKey))}for(let t=24;t>=0;t-=8){r[33+(t>>3)]=e>>24-t&255}const n=arrayify$1(computeHmac(SupportedAlgorithm.sha512,this.chainCode,r));const i=n.slice(0,32);const s=n.slice(32);let f=null;let a=null;if(this.privateKey){f=bytes32(BigNumber.from(i).add(this.privateKey).mod(N))}else{const e=new SigningKey(hexlify(i));a=e._addPoint(this.publicKey)}let o=t;const c=this.mnemonic;if(c){o=Object.freeze({phrase:c.phrase,path:t,locale:c.locale||"en"})}return new HDNode(_constructorGuard$1,f,a,this.fingerprint,bytes32(s),e,this.depth+1,o)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0){throw new Error("invalid path - "+e)}if(t[0]==="m"){t.shift()}let r=this;for(let e=0;e<t.length;e++){const n=t[e];if(n.match(/^[0-9]+'$/)){const e=parseInt(n.substring(0,n.length-1));if(e>=HardenedBit){throw new Error("invalid path index - "+n)}r=r._derive(HardenedBit+e)}else if(n.match(/^[0-9]+$/)){const e=parseInt(n);if(e>=HardenedBit){throw new Error("invalid path index - "+n)}r=r._derive(e)}else{throw new Error("invalid path component - "+n)}}return r}static _fromSeed(e,t){const r=arrayify$1(e);if(r.length<16||r.length>64){throw new Error("invalid seed")}const n=arrayify$1(computeHmac(SupportedAlgorithm.sha512,MasterSecret,r));return new HDNode(_constructorGuard$1,bytes32(n.slice(0,32)),null,"0x00000000",bytes32(n.slice(32)),0,0,t)}static fromMnemonic(e,t,r){r=getWordlist(r);e=entropyToMnemonic(mnemonicToEntropy(e,r),r);return HDNode._fromSeed(mnemonicToSeed(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return HDNode._fromSeed(e,null)}static fromExtendedKey(e){const t=Base58.decode(e);if(t.length!==82||base58check(t.slice(0,78))!==e){logger$o.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}const r=t[4];const n=hexlify(t.slice(5,9));const i=parseInt(hexlify(t.slice(9,13)).substring(2),16);const s=hexlify(t.slice(13,45));const f=t.slice(45,78);switch(hexlify(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new HDNode(_constructorGuard$1,null,hexlify(f),n,s,i,r,null);case"0x0488ade4":case"0x04358394 ":if(f[0]!==0){break}return new HDNode(_constructorGuard$1,hexlify(f.slice(1)),null,n,s,i,r,null)}return logger$o.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function mnemonicToSeed(e,t){if(!t){t=""}const r=toUtf8Bytes("mnemonic"+t,UnicodeNormalizationForm.NFKD);return pbkdf2$1(toUtf8Bytes(e,UnicodeNormalizationForm.NFKD),r,2048,64,"sha512")}function mnemonicToEntropy(e,t){t=getWordlist(t);logger$o.checkNormalize();const r=t.split(e);if(r.length%3!==0){throw new Error("invalid mnemonic")}const n=arrayify$1(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let e=0;e<r.length;e++){let s=t.getWordIndex(r[e].normalize("NFKD"));if(s===-1){throw new Error("invalid mnemonic")}for(let e=0;e<11;e++){if(s&1<<10-e){n[i>>3]|=1<<7-i%8}i++}}const s=32*r.length/3;const f=r.length/3;const a=getUpperMask(f);const o=arrayify$1(sha256$1(n.slice(0,s/8)))[0]&a;if(o!==(n[n.length-1]&a)){throw new Error("invalid checksum")}return hexlify(n.slice(0,s/8))}function entropyToMnemonic(e,t){t=getWordlist(t);e=arrayify$1(e);if(e.length%4!==0||e.length<16||e.length>32){throw new Error("invalid entropy")}const r=[0];let n=11;for(let t=0;t<e.length;t++){if(n>8){r[r.length-1]<<=8;r[r.length-1]|=e[t];n-=8}else{r[r.length-1]<<=n;r[r.length-1]|=e[t]>>8-n;r.push(e[t]&getLowerMask(8-n));n+=3}}const i=e.length/4;const s=arrayify$1(sha256$1(e))[0]&getUpperMask(i);r[r.length-1]<<=i;r[r.length-1]|=s>>8-i;return t.join(r.map((e=>t.getWord(e))))}function isValidMnemonic(e,t){try{mnemonicToEntropy(e,t);return true}catch(e){}return false}function getAccountPath(e){if(typeof e!=="number"||e<0||e>=HardenedBit||e%1){logger$o.throwArgumentError("invalid account index","index",e)}return`m/44'/60'/${e}'/0/0`}const version$8="random/5.7.0";const logger$n=new Logger(version$8);function getGlobal(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global$1!=="undefined"){return global$1}throw new Error("unable to locate global object")}const anyGlobal=getGlobal();let crypto$1=anyGlobal.crypto||anyGlobal.msCrypto;if(!crypto$1||!crypto$1.getRandomValues){logger$n.warn("WARNING: Missing strong random number source");crypto$1={getRandomValues:function(e){return logger$n.throwError("no secure random source avaialble",Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}}}function randomBytes(e){if(e<=0||e>1024||e%1||e!=e){logger$n.throwArgumentError("invalid length","length",e)}const t=new Uint8Array(e);crypto$1.getRandomValues(t);return arrayify$1(t)}function shuffled(e){e=e.slice();for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));const n=e[t];e[t]=e[r];e[r]=n}return e}var aesJs=createCommonjsModule$2((function(e,t){(function(t){function r(e){return parseInt(e)===e}function n(e){if(!r(e.length)){return false}for(var t=0;t<e.length;t++){if(!r(e[t])||e[t]<0||e[t]>255){return false}}return true}function i(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&e.name==="Uint8Array"){if(t){if(e.slice){e=e.slice()}else{e=Array.prototype.slice.call(e)}}return e}if(Array.isArray(e)){if(!n(e)){throw new Error("Array contains invalid value: "+e)}return new Uint8Array(e)}if(r(e.length)&&n(e)){return new Uint8Array(e)}throw new Error("unsupported array-like object")}function s(e){return new Uint8Array(e)}function f(e,t,r,n,i){if(n!=null||i!=null){if(e.slice){e=e.slice(n,i)}else{e=Array.prototype.slice.call(e,n,i)}}t.set(e,r)}var a=function(){function e(e){var t=[],r=0;e=encodeURI(e);while(r<e.length){var n=e.charCodeAt(r++);if(n===37){t.push(parseInt(e.substr(r,2),16));r+=2}else{t.push(n)}}return i(t)}function t(e){var t=[],r=0;while(r<e.length){var n=e[r];if(n<128){t.push(String.fromCharCode(n));r++}else if(n>191&&n<224){t.push(String.fromCharCode((n&31)<<6|e[r+1]&63));r+=2}else{t.push(String.fromCharCode((n&15)<<12|(e[r+1]&63)<<6|e[r+2]&63));r+=3}}return t.join("")}return{toBytes:e,fromBytes:t}}();var o=function(){function e(e){var t=[];for(var r=0;r<e.length;r+=2){t.push(parseInt(e.substr(r,2),16))}return t}var t="0123456789abcdef";function r(e){var r=[];for(var n=0;n<e.length;n++){var i=e[n];r.push(t[(i&240)>>4]+t[i&15])}return r.join("")}return{toBytes:e,fromBytes:r}}();var c={16:10,24:12,32:14};var u=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145];var l=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22];var h=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125];var d=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986];var p=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766];var y=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126];var b=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436];var m=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890];var g=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935];var v=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600];var w=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480];var A=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795];var $=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855];var _=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150];var E=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function S(e){var t=[];for(var r=0;r<e.length;r+=4){t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3])}return t}var T=function(e){if(!(this instanceof T)){throw Error("AES must be instanitated with `new`")}Object.defineProperty(this,"key",{value:i(e,true)});this._prepare()};T.prototype._prepare=function(){var e=c[this.key.length];if(e==null){throw new Error("invalid key size (must be 16, 24 or 32 bytes)")}this._Ke=[];this._Kd=[];for(var t=0;t<=e;t++){this._Ke.push([0,0,0,0]);this._Kd.push([0,0,0,0])}var r=(e+1)*4;var n=this.key.length/4;var i=S(this.key);var s;for(var t=0;t<n;t++){s=t>>2;this._Ke[s][t%4]=i[t];this._Kd[e-s][t%4]=i[t]}var f=0;var a=n,o;while(a<r){o=i[n-1];i[0]^=l[o>>16&255]<<24^l[o>>8&255]<<16^l[o&255]<<8^l[o>>24&255]^u[f]<<24;f+=1;if(n!=8){for(var t=1;t<n;t++){i[t]^=i[t-1]}}else{for(var t=1;t<n/2;t++){i[t]^=i[t-1]}o=i[n/2-1];i[n/2]^=l[o&255]^l[o>>8&255]<<8^l[o>>16&255]<<16^l[o>>24&255]<<24;for(var t=n/2+1;t<n;t++){i[t]^=i[t-1]}}var t=0,h,d;while(t<n&&a<r){h=a>>2;d=a%4;this._Ke[h][d]=i[t];this._Kd[e-h][d]=i[t++];a++}}for(var h=1;h<e;h++){for(var d=0;d<4;d++){o=this._Kd[h][d];this._Kd[h][d]=A[o>>24&255]^$[o>>16&255]^_[o>>8&255]^E[o&255]}}};T.prototype.encrypt=function(e){if(e.length!=16){throw new Error("invalid plaintext size (must be 16 bytes)")}var t=this._Ke.length-1;var r=[0,0,0,0];var n=S(e);for(var i=0;i<4;i++){n[i]^=this._Ke[0][i]}for(var f=1;f<t;f++){for(var i=0;i<4;i++){r[i]=d[n[i]>>24&255]^p[n[(i+1)%4]>>16&255]^y[n[(i+2)%4]>>8&255]^b[n[(i+3)%4]&255]^this._Ke[f][i]}n=r.slice()}var a=s(16),o;for(var i=0;i<4;i++){o=this._Ke[t][i];a[4*i]=(l[n[i]>>24&255]^o>>24)&255;a[4*i+1]=(l[n[(i+1)%4]>>16&255]^o>>16)&255;a[4*i+2]=(l[n[(i+2)%4]>>8&255]^o>>8)&255;a[4*i+3]=(l[n[(i+3)%4]&255]^o)&255}return a};T.prototype.decrypt=function(e){if(e.length!=16){throw new Error("invalid ciphertext size (must be 16 bytes)")}var t=this._Kd.length-1;var r=[0,0,0,0];var n=S(e);for(var i=0;i<4;i++){n[i]^=this._Kd[0][i]}for(var f=1;f<t;f++){for(var i=0;i<4;i++){r[i]=m[n[i]>>24&255]^g[n[(i+3)%4]>>16&255]^v[n[(i+2)%4]>>8&255]^w[n[(i+1)%4]&255]^this._Kd[f][i]}n=r.slice()}var a=s(16),o;for(var i=0;i<4;i++){o=this._Kd[t][i];a[4*i]=(h[n[i]>>24&255]^o>>24)&255;a[4*i+1]=(h[n[(i+3)%4]>>16&255]^o>>16)&255;a[4*i+2]=(h[n[(i+2)%4]>>8&255]^o>>8)&255;a[4*i+3]=(h[n[(i+1)%4]&255]^o)&255}return a};var C=function(e){if(!(this instanceof C)){throw Error("AES must be instanitated with `new`")}this.description="Electronic Code Block";this.name="ecb";this._aes=new T(e)};C.prototype.encrypt=function(e){e=i(e);if(e.length%16!==0){throw new Error("invalid plaintext size (must be multiple of 16 bytes)")}var t=s(e.length);var r=s(16);for(var n=0;n<e.length;n+=16){f(e,r,0,n,n+16);r=this._aes.encrypt(r);f(r,t,n)}return t};C.prototype.decrypt=function(e){e=i(e);if(e.length%16!==0){throw new Error("invalid ciphertext size (must be multiple of 16 bytes)")}var t=s(e.length);var r=s(16);for(var n=0;n<e.length;n+=16){f(e,r,0,n,n+16);r=this._aes.decrypt(r);f(r,t,n)}return t};var P=function(e,t){if(!(this instanceof P)){throw Error("AES must be instanitated with `new`")}this.description="Cipher Block Chaining";this.name="cbc";if(!t){t=s(16)}else if(t.length!=16){throw new Error("invalid initialation vector size (must be 16 bytes)")}this._lastCipherblock=i(t,true);this._aes=new T(e)};P.prototype.encrypt=function(e){e=i(e);if(e.length%16!==0){throw new Error("invalid plaintext size (must be multiple of 16 bytes)")}var t=s(e.length);var r=s(16);for(var n=0;n<e.length;n+=16){f(e,r,0,n,n+16);for(var a=0;a<16;a++){r[a]^=this._lastCipherblock[a]}this._lastCipherblock=this._aes.encrypt(r);f(this._lastCipherblock,t,n)}return t};P.prototype.decrypt=function(e){e=i(e);if(e.length%16!==0){throw new Error("invalid ciphertext size (must be multiple of 16 bytes)")}var t=s(e.length);var r=s(16);for(var n=0;n<e.length;n+=16){f(e,r,0,n,n+16);r=this._aes.decrypt(r);for(var a=0;a<16;a++){t[n+a]=r[a]^this._lastCipherblock[a]}f(e,this._lastCipherblock,0,n,n+16)}return t};var x=function(e,t,r){if(!(this instanceof x)){throw Error("AES must be instanitated with `new`")}this.description="Cipher Feedback";this.name="cfb";if(!t){t=s(16)}else if(t.length!=16){throw new Error("invalid initialation vector size (must be 16 size)")}if(!r){r=1}this.segmentSize=r;this._shiftRegister=i(t,true);this._aes=new T(e)};x.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0){throw new Error("invalid plaintext size (must be segmentSize bytes)")}var t=i(e,true);var r;for(var n=0;n<t.length;n+=this.segmentSize){r=this._aes.encrypt(this._shiftRegister);for(var s=0;s<this.segmentSize;s++){t[n+s]^=r[s]}f(this._shiftRegister,this._shiftRegister,0,this.segmentSize);f(t,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return t};x.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0){throw new Error("invalid ciphertext size (must be segmentSize bytes)")}var t=i(e,true);var r;for(var n=0;n<t.length;n+=this.segmentSize){r=this._aes.encrypt(this._shiftRegister);for(var s=0;s<this.segmentSize;s++){t[n+s]^=r[s]}f(this._shiftRegister,this._shiftRegister,0,this.segmentSize);f(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return t};var I=function(e,t){if(!(this instanceof I)){throw Error("AES must be instanitated with `new`")}this.description="Output Feedback";this.name="ofb";if(!t){t=s(16)}else if(t.length!=16){throw new Error("invalid initialation vector size (must be 16 bytes)")}this._lastPrecipher=i(t,true);this._lastPrecipherIndex=16;this._aes=new T(e)};I.prototype.encrypt=function(e){var t=i(e,true);for(var r=0;r<t.length;r++){if(this._lastPrecipherIndex===16){this._lastPrecipher=this._aes.encrypt(this._lastPrecipher);this._lastPrecipherIndex=0}t[r]^=this._lastPrecipher[this._lastPrecipherIndex++]}return t};I.prototype.decrypt=I.prototype.encrypt;var k=function(e){if(!(this instanceof k)){throw Error("Counter must be instanitated with `new`")}if(e!==0&&!e){e=1}if(typeof e==="number"){this._counter=s(16);this.setValue(e)}else{this.setBytes(e)}};k.prototype.setValue=function(e){if(typeof e!=="number"||parseInt(e)!=e){throw new Error("invalid counter value (must be an integer)")}for(var t=15;t>=0;--t){this._counter[t]=e%256;e=e>>8}};k.prototype.setBytes=function(e){e=i(e,true);if(e.length!=16){throw new Error("invalid counter bytes size (must be 16 bytes)")}this._counter=e};k.prototype.increment=function(){for(var e=15;e>=0;e--){if(this._counter[e]===255){this._counter[e]=0}else{this._counter[e]++;break}}};var M=function(e,t){if(!(this instanceof M)){throw Error("AES must be instanitated with `new`")}this.description="Counter";this.name="ctr";if(!(t instanceof k)){t=new k(t)}this._counter=t;this._remainingCounter=null;this._remainingCounterIndex=16;this._aes=new T(e)};M.prototype.encrypt=function(e){var t=i(e,true);for(var r=0;r<t.length;r++){if(this._remainingCounterIndex===16){this._remainingCounter=this._aes.encrypt(this._counter._counter);this._remainingCounterIndex=0;this._counter.increment()}t[r]^=this._remainingCounter[this._remainingCounterIndex++]}return t};M.prototype.decrypt=M.prototype.encrypt;function B(e){e=i(e,true);var t=16-e.length%16;var r=s(e.length+t);f(e,r);for(var n=e.length;n<r.length;n++){r[n]=t}return r}function R(e){e=i(e,true);if(e.length<16){throw new Error("PKCS#7 invalid length")}var t=e[e.length-1];if(t>16){throw new Error("PKCS#7 padding byte out of range")}var r=e.length-t;for(var n=0;n<t;n++){if(e[r+n]!==t){throw new Error("PKCS#7 invalid padding byte")}}var a=s(r);f(e,a,0,0,r);return a}var N={AES:T,Counter:k,ModeOfOperation:{ecb:C,cbc:P,cfb:x,ofb:I,ctr:M},utils:{hex:o,utf8:a},padding:{pkcs7:{pad:B,strip:R}},_arrayTest:{coerceArray:i,createArray:s,copyArray:f}};{e.exports=N}})()}));const version$7="json-wallets/5.7.0";function looseArrayify(e){if(typeof e==="string"&&e.substring(0,2)!=="0x"){e="0x"+e}return arrayify$1(e)}function zpad(e,t){e=String(e);while(e.length<t){e="0"+e}return e}function getPassword(e){if(typeof e==="string"){return toUtf8Bytes(e,UnicodeNormalizationForm.NFKC)}return arrayify$1(e)}function searchPath(e,t){let r=e;const n=t.toLowerCase().split("/");for(let e=0;e<n.length;e++){let t=null;for(const i in r){if(i.toLowerCase()===n[e]){t=r[i];break}}if(t===null){return null}r=t}return r}function uuidV4(e){const t=arrayify$1(e);t[6]=t[6]&15|64;t[8]=t[8]&63|128;const r=hexlify(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const logger$m=new Logger(version$7);class CrowdsaleAccount extends Description{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function decrypt$1(e,t){const r=JSON.parse(e);t=getPassword(t);const n=getAddress(searchPath(r,"ethaddr"));const i=looseArrayify(searchPath(r,"encseed"));if(!i||i.length%16!==0){logger$m.throwArgumentError("invalid encseed","json",e)}const s=arrayify$1(pbkdf2$1(t,t,2e3,32,"sha256")).slice(0,16);const f=i.slice(0,16);const a=i.slice(16);const o=new aesJs.ModeOfOperation.cbc(s,f);const c=aesJs.padding.pkcs7.strip(arrayify$1(o.decrypt(a)));let u="";for(let e=0;e<c.length;e++){u+=String.fromCharCode(c[e])}const l=toUtf8Bytes(u);const h=keccak256$1(l);return new CrowdsaleAccount({_isCrowdsaleAccount:true,address:n,privateKey:h})}function isCrowdsaleWallet(e){let t=null;try{t=JSON.parse(e)}catch(e){return false}return t.encseed&&t.ethaddr}function isKeystoreWallet(e){let t=null;try{t=JSON.parse(e)}catch(e){return false}if(!t.version||parseInt(t.version)!==t.version||parseInt(t.version)!==3){return false}return true}function getJsonWalletAddress(e){if(isCrowdsaleWallet(e)){try{return getAddress(JSON.parse(e).ethaddr)}catch(e){return null}}if(isKeystoreWallet(e)){try{return getAddress(JSON.parse(e).address)}catch(e){return null}}return null}var scrypt=createCommonjsModule$2((function(e,t){(function(t){const r=2147483647;function n(e){const t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let r=1779033703,n=3144134277,i=1013904242,s=2773480762;let f=1359893119,a=2600822924,o=528734635,c=1541459225;const u=new Uint32Array(64);function l(e){let l=0,h=e.length;while(h>=64){let d=r,p=n,y=i,b=s,m=f,g=a,v=o,w=c,A,$,_,E,S;for($=0;$<16;$++){_=l+$*4;u[$]=(e[_]&255)<<24|(e[_+1]&255)<<16|(e[_+2]&255)<<8|e[_+3]&255}for($=16;$<64;$++){A=u[$-2];E=(A>>>17|A<<32-17)^(A>>>19|A<<32-19)^A>>>10;A=u[$-15];S=(A>>>7|A<<32-7)^(A>>>18|A<<32-18)^A>>>3;u[$]=(E+u[$-7]|0)+(S+u[$-16]|0)|0}for($=0;$<64;$++){E=(((m>>>6|m<<32-6)^(m>>>11|m<<32-11)^(m>>>25|m<<32-25))+(m&g^~m&v)|0)+(w+(t[$]+u[$]|0)|0)|0;S=((d>>>2|d<<32-2)^(d>>>13|d<<32-13)^(d>>>22|d<<32-22))+(d&p^d&y^p&y)|0;w=v;v=g;g=m;m=b+E|0;b=y;y=p;p=d;d=E+S|0}r=r+d|0;n=n+p|0;i=i+y|0;s=s+b|0;f=f+m|0;a=a+g|0;o=o+v|0;c=c+w|0;l+=64;h-=64}}l(e);let h,d=e.length%64,p=e.length/536870912|0,y=e.length<<3,b=d<56?56:120,m=e.slice(e.length-d,e.length);m.push(128);for(h=d+1;h<b;h++){m.push(0)}m.push(p>>>24&255);m.push(p>>>16&255);m.push(p>>>8&255);m.push(p>>>0&255);m.push(y>>>24&255);m.push(y>>>16&255);m.push(y>>>8&255);m.push(y>>>0&255);l(m);return[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,f>>>24&255,f>>>16&255,f>>>8&255,f>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255]}function i(e,t,r){e=e.length<=64?e:n(e);const i=64+t.length+4;const s=new Array(i);const f=new Array(64);let a;let o=[];for(a=0;a<64;a++){s[a]=54}for(a=0;a<e.length;a++){s[a]^=e[a]}for(a=0;a<t.length;a++){s[64+a]=t[a]}for(a=i-4;a<i;a++){s[a]=0}for(a=0;a<64;a++)f[a]=92;for(a=0;a<e.length;a++)f[a]^=e[a];function c(){for(let e=i-1;e>=i-4;e--){s[e]++;if(s[e]<=255)return;s[e]=0}}while(r>=32){c();o=o.concat(n(f.concat(n(s))));r-=32}if(r>0){c();o=o.concat(n(f.concat(n(s))).slice(0,r))}return o}function s(e,t,r,n,i){let s;c(e,(2*r-1)*16,i,0,16);for(s=0;s<2*r;s++){o(e,s*16,i,16);a(i,n);c(i,0,e,t+s*16,16)}for(s=0;s<r;s++){c(e,t+s*2*16,e,s*16,16)}for(s=0;s<r;s++){c(e,t+(s*2+1)*16,e,(s+r)*16,16)}}function f(e,t){return e<<t|e>>>32-t}function a(e,t){c(e,0,t,0,16);for(let e=8;e>0;e-=2){t[4]^=f(t[0]+t[12],7);t[8]^=f(t[4]+t[0],9);t[12]^=f(t[8]+t[4],13);t[0]^=f(t[12]+t[8],18);t[9]^=f(t[5]+t[1],7);t[13]^=f(t[9]+t[5],9);t[1]^=f(t[13]+t[9],13);t[5]^=f(t[1]+t[13],18);t[14]^=f(t[10]+t[6],7);t[2]^=f(t[14]+t[10],9);t[6]^=f(t[2]+t[14],13);t[10]^=f(t[6]+t[2],18);t[3]^=f(t[15]+t[11],7);t[7]^=f(t[3]+t[15],9);t[11]^=f(t[7]+t[3],13);t[15]^=f(t[11]+t[7],18);t[1]^=f(t[0]+t[3],7);t[2]^=f(t[1]+t[0],9);t[3]^=f(t[2]+t[1],13);t[0]^=f(t[3]+t[2],18);t[6]^=f(t[5]+t[4],7);t[7]^=f(t[6]+t[5],9);t[4]^=f(t[7]+t[6],13);t[5]^=f(t[4]+t[7],18);t[11]^=f(t[10]+t[9],7);t[8]^=f(t[11]+t[10],9);t[9]^=f(t[8]+t[11],13);t[10]^=f(t[9]+t[8],18);t[12]^=f(t[15]+t[14],7);t[13]^=f(t[12]+t[15],9);t[14]^=f(t[13]+t[12],13);t[15]^=f(t[14]+t[13],18)}for(let r=0;r<16;++r){e[r]+=t[r]}}function o(e,t,r,n){for(let i=0;i<n;i++){r[i]^=e[t+i]}}function c(e,t,r,n,i){while(i--){r[n++]=e[t++]}}function u(e){if(!e||typeof e.length!=="number"){return false}for(let t=0;t<e.length;t++){const r=e[t];if(typeof r!=="number"||r%1||r<0||r>=256){return false}}return true}function l(e,t){if(typeof e!=="number"||e%1){throw new Error("invalid "+t)}return e}function h(e,t,n,f,a,h,d){n=l(n,"N");f=l(f,"r");a=l(a,"p");h=l(h,"dkLen");if(n===0||(n&n-1)!==0){throw new Error("N must be power of 2")}if(n>r/128/f){throw new Error("N too large")}if(f>r/128/a){throw new Error("r too large")}if(!u(e)){throw new Error("password must be an array or buffer")}e=Array.prototype.slice.call(e);if(!u(t)){throw new Error("salt must be an array or buffer")}t=Array.prototype.slice.call(t);let p=i(e,t,a*128*f);const y=new Uint32Array(a*32*f);for(let e=0;e<y.length;e++){const t=e*4;y[e]=(p[t+3]&255)<<24|(p[t+2]&255)<<16|(p[t+1]&255)<<8|(p[t+0]&255)<<0}const b=new Uint32Array(64*f);const m=new Uint32Array(32*f*n);const g=32*f;const v=new Uint32Array(16);const w=new Uint32Array(16);const A=a*n*2;let $=0;let _=null;let E=false;let S=0;let T=0,C;let P;const x=d?parseInt(1e3/f):4294967295;const I=typeof setImmediate!=="undefined"?setImmediate:setTimeout;const k=function(){if(E){return d(new Error("cancelled"),$/A)}let t;switch(S){case 0:P=T*32*f;c(y,P,b,0,g);S=1;C=0;case 1:t=n-C;if(t>x){t=x}for(let e=0;e<t;e++){c(b,0,m,(C+e)*g,g);s(b,g,f,v,w)}C+=t;$+=t;if(d){const e=parseInt(1e3*$/A);if(e!==_){E=d(null,$/A);if(E){break}_=e}}if(C<n){break}C=0;S=2;case 2:t=n-C;if(t>x){t=x}for(let e=0;e<t;e++){const e=(2*f-1)*16;const t=b[e]&n-1;o(m,t*g,b,g);s(b,g,f,v,w)}C+=t;$+=t;if(d){const e=parseInt(1e3*$/A);if(e!==_){E=d(null,$/A);if(E){break}_=e}}if(C<n){break}c(b,0,y,P,g);T++;if(T<a){S=0;break}p=[];for(let e=0;e<y.length;e++){p.push(y[e]>>0&255);p.push(y[e]>>8&255);p.push(y[e]>>16&255);p.push(y[e]>>24&255)}const r=i(e,p,h);if(d){d(null,1,r)}return r}if(d){I(k)}};if(!d){while(true){const e=k();if(e!=undefined){return e}}}k()}const d={scrypt:function(e,t,r,n,i,s,f){return new Promise((function(a,o){let c=0;if(f){f(0)}h(e,t,r,n,i,s,(function(e,t,r){if(e){o(e)}else if(r){if(f&&c!==1){f(1)}a(new Uint8Array(r))}else if(f&&t!==c){c=t;return f(t)}}))}))},syncScrypt:function(e,t,r,n,i,s){return new Uint8Array(h(e,t,r,n,i,s))}};{e.exports=d}})()}));var __awaiter$a=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$l=new Logger(version$7);function hasMnemonic$1(e){return e!=null&&e.mnemonic&&e.mnemonic.phrase}class KeystoreAccount extends Description{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function _decrypt(e,t,r){const n=searchPath(e,"crypto/cipher");if(n==="aes-128-ctr"){const n=looseArrayify(searchPath(e,"crypto/cipherparams/iv"));const i=new aesJs.Counter(n);const s=new aesJs.ModeOfOperation.ctr(t,i);return arrayify$1(s.decrypt(r))}return null}function _getAccount(e,t){const r=looseArrayify(searchPath(e,"crypto/ciphertext"));const n=hexlify(keccak256$1(concat$1([t.slice(16,32),r]))).substring(2);if(n!==searchPath(e,"crypto/mac").toLowerCase()){throw new Error("invalid password")}const i=_decrypt(e,t.slice(0,16),r);if(!i){logger$l.throwError("unsupported cipher",Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"})}const s=t.slice(32,64);const f=computeAddress(i);if(e.address){let t=e.address.toLowerCase();if(t.substring(0,2)!=="0x"){t="0x"+t}if(getAddress(t)!==f){throw new Error("address mismatch")}}const a={_isKeystoreAccount:true,address:f,privateKey:hexlify(i)};if(searchPath(e,"x-ethers/version")==="0.1"){const t=looseArrayify(searchPath(e,"x-ethers/mnemonicCiphertext"));const r=looseArrayify(searchPath(e,"x-ethers/mnemonicCounter"));const n=new aesJs.Counter(r);const i=new aesJs.ModeOfOperation.ctr(s,n);const f=searchPath(e,"x-ethers/path")||defaultPath;const o=searchPath(e,"x-ethers/locale")||"en";const c=arrayify$1(i.decrypt(t));try{const e=entropyToMnemonic(c,o);const t=HDNode.fromMnemonic(e,null,o).derivePath(f);if(t.privateKey!=a.privateKey){throw new Error("mnemonic mismatch")}a.mnemonic=t.mnemonic}catch(e){if(e.code!==Logger.errors.INVALID_ARGUMENT||e.argument!=="wordlist"){throw e}}}return new KeystoreAccount(a)}function pbkdf2Sync(e,t,r,n,i){return arrayify$1(pbkdf2$1(e,t,r,n,i))}function pbkdf2(e,t,r,n,i){return Promise.resolve(pbkdf2Sync(e,t,r,n,i))}function _computeKdfKey(e,t,r,n,i){const s=getPassword(t);const f=searchPath(e,"crypto/kdf");if(f&&typeof f==="string"){const t=function(e,t){return logger$l.throwArgumentError("invalid key-derivation function parameters",e,t)};if(f.toLowerCase()==="scrypt"){const r=looseArrayify(searchPath(e,"crypto/kdfparams/salt"));const a=parseInt(searchPath(e,"crypto/kdfparams/n"));const o=parseInt(searchPath(e,"crypto/kdfparams/r"));const c=parseInt(searchPath(e,"crypto/kdfparams/p"));if(!a||!o||!c){t("kdf",f)}if((a&a-1)!==0){t("N",a)}const u=parseInt(searchPath(e,"crypto/kdfparams/dklen"));if(u!==32){t("dklen",u)}return n(s,r,a,o,c,64,i)}else if(f.toLowerCase()==="pbkdf2"){const n=looseArrayify(searchPath(e,"crypto/kdfparams/salt"));let i=null;const f=searchPath(e,"crypto/kdfparams/prf");if(f==="hmac-sha256"){i="sha256"}else if(f==="hmac-sha512"){i="sha512"}else{t("prf",f)}const a=parseInt(searchPath(e,"crypto/kdfparams/c"));const o=parseInt(searchPath(e,"crypto/kdfparams/dklen"));if(o!==32){t("dklen",o)}return r(s,n,a,o,i)}}return logger$l.throwArgumentError("unsupported key-derivation function","kdf",f)}function decryptSync(e,t){const r=JSON.parse(e);const n=_computeKdfKey(r,t,pbkdf2Sync,scrypt.syncScrypt);return _getAccount(r,n)}function decrypt(e,t,r){return __awaiter$a(this,void 0,void 0,(function*(){const n=JSON.parse(e);const i=yield _computeKdfKey(n,t,pbkdf2,scrypt.scrypt,r);return _getAccount(n,i)}))}function encrypt(e,t,r,n){try{if(getAddress(e.address)!==computeAddress(e.privateKey)){throw new Error("address/privateKey mismatch")}if(hasMnemonic$1(e)){const t=e.mnemonic;const r=HDNode.fromMnemonic(t.phrase,null,t.locale).derivePath(t.path||defaultPath);if(r.privateKey!=e.privateKey){throw new Error("mnemonic mismatch")}}}catch(e){return Promise.reject(e)}if(typeof r==="function"&&!n){n=r;r={}}if(!r){r={}}const i=arrayify$1(e.privateKey);const s=getPassword(t);let f=null;let a=null;let o=null;if(hasMnemonic$1(e)){const t=e.mnemonic;f=arrayify$1(mnemonicToEntropy(t.phrase,t.locale||"en"));a=t.path||defaultPath;o=t.locale||"en"}let c=r.client;if(!c){c="ethers.js"}let u=null;if(r.salt){u=arrayify$1(r.salt)}else{u=randomBytes(32)}let l=null;if(r.iv){l=arrayify$1(r.iv);if(l.length!==16){throw new Error("invalid iv")}}else{l=randomBytes(16)}let h=null;if(r.uuid){h=arrayify$1(r.uuid);if(h.length!==16){throw new Error("invalid uuid")}}else{h=randomBytes(16)}let d=1<<17,p=8,y=1;if(r.scrypt){if(r.scrypt.N){d=r.scrypt.N}if(r.scrypt.r){p=r.scrypt.r}if(r.scrypt.p){y=r.scrypt.p}}return scrypt.scrypt(s,u,d,p,y,64,n).then((t=>{t=arrayify$1(t);const r=t.slice(0,16);const n=t.slice(16,32);const s=t.slice(32,64);const b=new aesJs.Counter(l);const m=new aesJs.ModeOfOperation.ctr(r,b);const g=arrayify$1(m.encrypt(i));const v=keccak256$1(concat$1([n,g]));const w={address:e.address.substring(2).toLowerCase(),id:uuidV4(h),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:hexlify(l).substring(2)},ciphertext:hexlify(g).substring(2),kdf:"scrypt",kdfparams:{salt:hexlify(u).substring(2),n:d,dklen:32,p:y,r:p},mac:v.substring(2)}};if(f){const e=randomBytes(16);const t=new aesJs.Counter(e);const r=new aesJs.ModeOfOperation.ctr(s,t);const n=arrayify$1(r.encrypt(f));const i=new Date;const u=i.getUTCFullYear()+"-"+zpad(i.getUTCMonth()+1,2)+"-"+zpad(i.getUTCDate(),2)+"T"+zpad(i.getUTCHours(),2)+"-"+zpad(i.getUTCMinutes(),2)+"-"+zpad(i.getUTCSeconds(),2)+".0Z";w["x-ethers"]={client:c,gethFilename:"UTC--"+u+"--"+w.address,mnemonicCounter:hexlify(e).substring(2),mnemonicCiphertext:hexlify(n).substring(2),path:a,locale:o,version:"0.1"}}return JSON.stringify(w)}))}function decryptJsonWallet(e,t,r){if(isCrowdsaleWallet(e)){if(r){r(0)}const n=decrypt$1(e,t);if(r){r(1)}return Promise.resolve(n)}if(isKeystoreWallet(e)){return decrypt(e,t,r)}return Promise.reject(new Error("invalid JSON wallet"))}function decryptJsonWalletSync(e,t){if(isCrowdsaleWallet(e)){return decrypt$1(e,t)}if(isKeystoreWallet(e)){return decryptSync(e,t)}throw new Error("invalid JSON wallet")}const version$6="wallet/5.7.0";var __awaiter$9=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$k=new Logger(version$6);function isAccount(e){return e!=null&&isHexString(e.privateKey,32)&&e.address!=null}function hasMnemonic(e){const t=e.mnemonic;return t&&t.phrase}class Wallet extends Signer{constructor(e,t){super();if(isAccount(e)){const t=new SigningKey(e.privateKey);defineReadOnly(this,"_signingKey",(()=>t));defineReadOnly(this,"address",computeAddress(this.publicKey));if(this.address!==getAddress(e.address)){logger$k.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]")}if(hasMnemonic(e)){const t=e.mnemonic;defineReadOnly(this,"_mnemonic",(()=>({phrase:t.phrase,path:t.path||defaultPath,locale:t.locale||"en"})));const r=this.mnemonic;const n=HDNode.fromMnemonic(r.phrase,null,r.locale).derivePath(r.path);if(computeAddress(n.privateKey)!==this.address){logger$k.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}}else{defineReadOnly(this,"_mnemonic",(()=>null))}}else{if(SigningKey.isSigningKey(e)){if(e.curve!=="secp256k1"){logger$k.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]")}defineReadOnly(this,"_signingKey",(()=>e))}else{if(typeof e==="string"){if(e.match(/^[0-9a-f]*$/i)&&e.length===64){e="0x"+e}}const t=new SigningKey(e);defineReadOnly(this,"_signingKey",(()=>t))}defineReadOnly(this,"_mnemonic",(()=>null));defineReadOnly(this,"address",computeAddress(this.publicKey))}if(t&&!Provider.isProvider(t)){logger$k.throwArgumentError("invalid provider","provider",t)}defineReadOnly(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Wallet(this,e)}signTransaction(e){return resolveProperties(e).then((t=>{if(t.from!=null){if(getAddress(t.from)!==this.address){logger$k.throwArgumentError("transaction from address mismatch","transaction.from",e.from)}delete t.from}const r=this._signingKey().signDigest(keccak256$1(serialize$1(t)));return serialize$1(t,r)}))}signMessage(e){return __awaiter$9(this,void 0,void 0,(function*(){return joinSignature(this._signingKey().signDigest(hashMessage(e)))}))}_signTypedData(e,t,r){return __awaiter$9(this,void 0,void 0,(function*(){const n=yield TypedDataEncoder.resolveNames(e,t,r,(e=>{if(this.provider==null){logger$k.throwError("cannot resolve ENS names without a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e})}return this.provider.resolveName(e)}));return joinSignature(this._signingKey().signDigest(TypedDataEncoder.hash(n.domain,t,n.value)))}))}encrypt(e,t,r){if(typeof t==="function"&&!r){r=t;t={}}if(r&&typeof r!=="function"){throw new Error("invalid callback")}if(!t){t={}}return encrypt(this,e,t,r)}static createRandom(e){let t=randomBytes(16);if(!e){e={}}if(e.extraEntropy){t=arrayify$1(hexDataSlice(keccak256$1(concat$1([t,e.extraEntropy])),0,16))}const r=entropyToMnemonic(t,e.locale);return Wallet.fromMnemonic(r,e.path,e.locale)}static fromEncryptedJson(e,t,r){return decryptJsonWallet(e,t,r).then((e=>new Wallet(e)))}static fromEncryptedJsonSync(e,t){return new Wallet(decryptJsonWalletSync(e,t))}static fromMnemonic(e,t,r){if(!t){t=defaultPath}return new Wallet(HDNode.fromMnemonic(e,null,r).derivePath(t))}}function verifyMessage(e,t){return recoverAddress(hashMessage(e),t)}function verifyTypedData(e,t,r,n){return recoverAddress(TypedDataEncoder.hash(e,t,r),n)}const version$5="networks/5.7.1";const logger$j=new Logger(version$5);function isRenetworkable(e){return e&&typeof e.renetwork==="function"}function ethDefaultProvider(e){const t=function(t,r){if(r==null){r={}}const n=[];if(t.InfuraProvider&&r.infura!=="-"){try{n.push(new t.InfuraProvider(e,r.infura))}catch(e){}}if(t.EtherscanProvider&&r.etherscan!=="-"){try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(e){}}if(t.AlchemyProvider&&r.alchemy!=="-"){try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(e){}}if(t.PocketProvider&&r.pocket!=="-"){const i=["goerli","ropsten","rinkeby","sepolia"];try{const s=new t.PocketProvider(e,r.pocket);if(s.network&&i.indexOf(s.network.name)===-1){n.push(s)}}catch(e){}}if(t.CloudflareProvider&&r.cloudflare!=="-"){try{n.push(new t.CloudflareProvider(e))}catch(e){}}if(t.AnkrProvider&&r.ankr!=="-"){try{const i=["ropsten"];const s=new t.AnkrProvider(e,r.ankr);if(s.network&&i.indexOf(s.network.name)===-1){n.push(s)}}catch(e){}}if(n.length===0){return null}if(t.FallbackProvider){let i=1;if(r.quorum!=null){i=r.quorum}else if(e==="homestead"){i=2}return new t.FallbackProvider(n,i)}return n[0]};t.renetwork=function(e){return ethDefaultProvider(e)};return t}function etcDefaultProvider(e,t){const r=function(r,n){if(r.JsonRpcProvider){return new r.JsonRpcProvider(e,t)}return null};r.renetwork=function(t){return etcDefaultProvider(e,t)};return r}const homestead={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ethDefaultProvider("homestead")};const ropsten={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ethDefaultProvider("ropsten")};const classicMordor={chainId:63,name:"classicMordor",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/mordor","classicMordor")};const networks={unspecified:{chainId:0,name:"unspecified"},homestead,mainnet:homestead,morden:{chainId:2,name:"morden"},ropsten,testnet:ropsten,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ethDefaultProvider("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ethDefaultProvider("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ethDefaultProvider("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:ethDefaultProvider("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor,classicTestnet:classicMordor,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ethDefaultProvider("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ethDefaultProvider("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function getNetwork(e){if(e==null){return null}if(typeof e==="number"){for(const t in networks){const r=networks[t];if(r.chainId===e){return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}}return{chainId:e,name:"unknown"}}if(typeof e==="string"){const t=networks[e];if(t==null){return null}return{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}const t=networks[e.name];if(!t){if(typeof e.chainId!=="number"){logger$j.throwArgumentError("invalid network chainId","network",e)}return e}if(e.chainId!==0&&e.chainId!==t.chainId){logger$j.throwArgumentError("network chainId mismatch","network",e)}let r=e._defaultProvider||null;if(r==null&&t._defaultProvider){if(isRenetworkable(t._defaultProvider)){r=t._defaultProvider.renetwork(e)}else{r=t._defaultProvider}}return{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}const version$4="web/5.7.1";var __awaiter$8=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};function getUrl(e,t){return __awaiter$8(this,void 0,void 0,(function*(){if(t==null){t={}}const r={method:t.method||"GET",headers:t.headers||{},body:t.body||undefined};if(t.skipFetchSetup!==true){r.mode="cors";r.cache="no-cache";r.credentials="same-origin";r.redirect="follow";r.referrer="client"}if(t.fetchOptions!=null){const e=t.fetchOptions;if(e.mode){r.mode=e.mode}if(e.cache){r.cache=e.cache}if(e.credentials){r.credentials=e.credentials}if(e.redirect){r.redirect=e.redirect}if(e.referrer){r.referrer=e.referrer}}const n=yield fetch(e,r);const i=yield n.arrayBuffer();const s={};if(n.headers.forEach){n.headers.forEach(((e,t)=>{s[t.toLowerCase()]=e}))}else{n.headers.keys().forEach((e=>{s[e.toLowerCase()]=n.headers.get(e)}))}return{headers:s,statusCode:n.status,statusMessage:n.statusText,body:arrayify$1(new Uint8Array(i))}}))}var __awaiter$7=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$i=new Logger(version$4);function staller(e){return new Promise((t=>{setTimeout(t,e)}))}function bodyify(e,t){if(e==null){return null}if(typeof e==="string"){return e}if(isBytesLike(e)){if(t&&(t.split("/")[0]==="text"||t.split(";")[0].trim()==="application/json")){try{return toUtf8String(e)}catch(e){}}return hexlify(e)}return e}function unpercent(e){return toUtf8Bytes(e.replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16)))))}function _fetchData(e,t,r){const n=typeof e==="object"&&e.throttleLimit!=null?e.throttleLimit:12;logger$i.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof e==="object"?e.throttleCallback:null;const s=typeof e==="object"&&typeof e.throttleSlotInterval==="number"?e.throttleSlotInterval:100;logger$i.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const f=typeof e==="object"?!!e.errorPassThrough:false;const a={};let o=null;const c={method:"GET"};let u=false;let l=2*60*1e3;if(typeof e==="string"){o=e}else if(typeof e==="object"){if(e==null||e.url==null){logger$i.throwArgumentError("missing URL","connection.url",e)}o=e.url;if(typeof e.timeout==="number"&&e.timeout>0){l=e.timeout}if(e.headers){for(const t in e.headers){a[t.toLowerCase()]={key:t,value:String(e.headers[t])};if(["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0){u=true}}}c.allowGzip=!!e.allowGzip;if(e.user!=null&&e.password!=null){if(o.substring(0,6)!=="https:"&&e.allowInsecureAuthentication!==true){logger$i.throwError("basic authentication requires a secure https url",Logger.errors.INVALID_ARGUMENT,{argument:"url",url:o,user:e.user,password:"[REDACTED]"})}const t=e.user+":"+e.password;a["authorization"]={key:"Authorization",value:"Basic "+encode$1(toUtf8Bytes(t))}}if(e.skipFetchSetup!=null){c.skipFetchSetup=!!e.skipFetchSetup}if(e.fetchOptions!=null){c.fetchOptions=shallowCopy(e.fetchOptions)}}const h=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i");const d=o?o.match(h):null;if(d){try{const e={statusCode:200,statusMessage:"OK",headers:{"content-type":d[1]||"text/plain"},body:d[2]?decode$1(d[3]):unpercent(d[3])};let t=e.body;if(r){t=r(e.body,e)}return Promise.resolve(t)}catch(e){logger$i.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(d[1],d[2]),error:e,requestBody:null,requestMethod:"GET",url:o})}}if(t){c.method="POST";c.body=t;if(a["content-type"]==null){a["content-type"]={key:"Content-Type",value:"application/octet-stream"}}if(a["content-length"]==null){a["content-length"]={key:"Content-Length",value:String(t.length)}}}const p={};Object.keys(a).forEach((e=>{const t=a[e];p[t.key]=t.value}));c.headers=p;const y=function(){let e=null;const t=new Promise((function(t,r){if(l){e=setTimeout((()=>{if(e==null){return}e=null;r(logger$i.makeError("timeout",Logger.errors.TIMEOUT,{requestBody:bodyify(c.body,p["content-type"]),requestMethod:c.method,timeout:l,url:o}))}),l)}}));const r=function(){if(e==null){return}clearTimeout(e);e=null};return{promise:t,cancel:r}}();const b=function(){return __awaiter$7(this,void 0,void 0,(function*(){for(let e=0;e<n;e++){let t=null;try{t=yield getUrl(o,c);if(e<n){if(t.statusCode===301||t.statusCode===302){const e=t.headers.location||"";if(c.method==="GET"&&e.match(/^https:/)){o=t.headers.location;continue}}else if(t.statusCode===429){let r=true;if(i){r=yield i(e,o)}if(r){let r=0;const n=t.headers["retry-after"];if(typeof n==="string"&&n.match(/^[1-9][0-9]*$/)){r=parseInt(n)*1e3}else{r=s*parseInt(String(Math.random()*Math.pow(2,e)))}yield staller(r);continue}}}}catch(e){t=e.response;if(t==null){y.cancel();logger$i.throwError("missing response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(c.body,p["content-type"]),requestMethod:c.method,serverError:e,url:o})}}let a=t.body;if(u&&t.statusCode===304){a=null}else if(!f&&(t.statusCode<200||t.statusCode>=300)){y.cancel();logger$i.throwError("bad response",Logger.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:bodyify(a,t.headers?t.headers["content-type"]:null),requestBody:bodyify(c.body,p["content-type"]),requestMethod:c.method,url:o})}if(r){try{const e=yield r(a,t);y.cancel();return e}catch(r){if(r.throttleRetry&&e<n){let t=true;if(i){t=yield i(e,o)}if(t){const t=s*parseInt(String(Math.random()*Math.pow(2,e)));yield staller(t);continue}}y.cancel();logger$i.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(a,t.headers?t.headers["content-type"]:null),error:r,requestBody:bodyify(c.body,p["content-type"]),requestMethod:c.method,url:o})}}y.cancel();return a}return logger$i.throwError("failed response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(c.body,p["content-type"]),requestMethod:c.method,url:o})}))}();return Promise.race([y.promise,b])}function fetchJson(e,t,r){let n=(e,t)=>{let n=null;if(e!=null){try{n=JSON.parse(toUtf8String(e))}catch(t){logger$i.throwError("invalid JSON",Logger.errors.SERVER_ERROR,{body:e,error:t})}}if(r){n=r(n,t)}return n};let i=null;if(t!=null){i=toUtf8Bytes(t);const r=typeof e==="string"?{url:e}:shallowCopy(e);if(r.headers){const e=Object.keys(r.headers).filter((e=>e.toLowerCase()==="content-type")).length!==0;if(!e){r.headers=shallowCopy(r.headers);r.headers["content-type"]="application/json"}}else{r.headers={"content-type":"application/json"}}e=r}return _fetchData(e,i,n)}function poll(e,t){if(!t){t={}}t=shallowCopy(t);if(t.floor==null){t.floor=0}if(t.ceiling==null){t.ceiling=1e4}if(t.interval==null){t.interval=250}return new Promise((function(r,n){let i=null;let s=false;const f=()=>{if(s){return false}s=true;if(i){clearTimeout(i)}return true};if(t.timeout){i=setTimeout((()=>{if(f()){n(new Error("timeout"))}}),t.timeout)}const a=t.retryLimit;let o=0;function c(){return e().then((function(e){if(e!==undefined){if(f()){r(e)}}else if(t.oncePoll){t.oncePoll.once("poll",c)}else if(t.onceBlock){t.onceBlock.once("block",c)}else if(!s){o++;if(o>a){if(f()){n(new Error("retry limit reached"))}return}let e=t.interval*parseInt(String(Math.random()*Math.pow(2,o)));if(e<t.floor){e=t.floor}if(e>t.ceiling){e=t.ceiling}setTimeout(c,e)}return null}),(function(e){if(f()){n(e)}}))}c()}))}var ALPHABET="qpzry9x8gf2tvdw0s3jn54khce6mua7l";var ALPHABET_MAP={};for(var z=0;z<ALPHABET.length;z++){var x=ALPHABET.charAt(z);if(ALPHABET_MAP[x]!==undefined)throw new TypeError(x+" is ambiguous");ALPHABET_MAP[x]=z}function polymodStep(e){var t=e>>25;return(e&33554431)<<5^-(t>>0&1)&996825010^-(t>>1&1)&642813549^-(t>>2&1)&513874426^-(t>>3&1)&1027748829^-(t>>4&1)&705979059}function prefixChk(e){var t=1;for(var r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=polymodStep(t)^n>>5}t=polymodStep(t);for(r=0;r<e.length;++r){var i=e.charCodeAt(r);t=polymodStep(t)^i&31}return t}function encode(e,t,r){r=r||90;if(e.length+7+t.length>r)throw new TypeError("Exceeds length limit");e=e.toLowerCase();var n=prefixChk(e);if(typeof n==="string")throw new Error(n);var i=e+"1";for(var s=0;s<t.length;++s){var f=t[s];if(f>>5!==0)throw new Error("Non 5-bit word");n=polymodStep(n)^f;i+=ALPHABET.charAt(f)}for(s=0;s<6;++s){n=polymodStep(n)}n^=1;for(s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=ALPHABET.charAt(a)}return i}function __decode(e,t){t=t||90;if(e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase();var n=e.toUpperCase();if(e!==r&&e!==n)return"Mixed-case string "+e;e=r;var i=e.lastIndexOf("1");if(i===-1)return"No separator character for "+e;if(i===0)return"Missing prefix for "+e;var s=e.slice(0,i);var f=e.slice(i+1);if(f.length<6)return"Data too short";var a=prefixChk(s);if(typeof a==="string")return a;var o=[];for(var c=0;c<f.length;++c){var u=f.charAt(c);var l=ALPHABET_MAP[u];if(l===undefined)return"Unknown character "+u;a=polymodStep(a)^l;if(c+6>=f.length)continue;o.push(l)}if(a!==1)return"Invalid checksum for "+e;return{prefix:s,words:o}}function decodeUnsafe(){var e=__decode.apply(null,arguments);if(typeof e==="object")return e}function decode(e){var t=__decode.apply(null,arguments);if(typeof t==="object")return t;throw new Error(t)}function convert(e,t,r,n){var i=0;var s=0;var f=(1<<r)-1;var a=[];for(var o=0;o<e.length;++o){i=i<<t|e[o];s+=t;while(s>=r){s-=r;a.push(i>>s&f)}}if(n){if(s>0){a.push(i<<r-s&f)}}else{if(s>=t)return"Excess padding";if(i<<r-s&f)return"Non-zero padding"}return a}function toWordsUnsafe(e){var t=convert(e,8,5,true);if(Array.isArray(t))return t}function toWords(e){var t=convert(e,8,5,true);if(Array.isArray(t))return t;throw new Error(t)}function fromWordsUnsafe(e){var t=convert(e,5,8,false);if(Array.isArray(t))return t}function fromWords(e){var t=convert(e,5,8,false);if(Array.isArray(t))return t;throw new Error(t)}var bech32={decodeUnsafe,decode,encode,toWordsUnsafe,toWords,fromWordsUnsafe,fromWords};const version$3="providers/5.7.2";const logger$h=new Logger(version$3);class Formatter{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={};const t=this.address.bind(this);const r=this.bigNumber.bind(this);const n=this.blockTag.bind(this);const i=this.data.bind(this);const s=this.hash.bind(this);const f=this.hex.bind(this);const a=this.number.bind(this);const o=this.type.bind(this);const c=e=>this.data(e,true);e.transaction={hash:s,type:o,accessList:Formatter.allowNull(this.accessList.bind(this),null),blockHash:Formatter.allowNull(s,null),blockNumber:Formatter.allowNull(a,null),transactionIndex:Formatter.allowNull(a,null),confirmations:Formatter.allowNull(a,null),from:t,gasPrice:Formatter.allowNull(r),maxPriorityFeePerGas:Formatter.allowNull(r),maxFeePerGas:Formatter.allowNull(r),gasLimit:r,to:Formatter.allowNull(t,null),value:r,nonce:a,data:i,r:Formatter.allowNull(this.uint256),s:Formatter.allowNull(this.uint256),v:Formatter.allowNull(a),creates:Formatter.allowNull(t,null),raw:Formatter.allowNull(i)};e.transactionRequest={from:Formatter.allowNull(t),nonce:Formatter.allowNull(a),gasLimit:Formatter.allowNull(r),gasPrice:Formatter.allowNull(r),maxPriorityFeePerGas:Formatter.allowNull(r),maxFeePerGas:Formatter.allowNull(r),to:Formatter.allowNull(t),value:Formatter.allowNull(r),data:Formatter.allowNull(c),type:Formatter.allowNull(a),accessList:Formatter.allowNull(this.accessList.bind(this),null)};e.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:s,address:t,topics:Formatter.arrayOf(s),data:i,logIndex:a,blockHash:s};e.receipt={to:Formatter.allowNull(this.address,null),from:Formatter.allowNull(this.address,null),contractAddress:Formatter.allowNull(t,null),transactionIndex:a,root:Formatter.allowNull(f),gasUsed:r,logsBloom:Formatter.allowNull(i),blockHash:s,transactionHash:s,logs:Formatter.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:Formatter.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:Formatter.allowNull(r),status:Formatter.allowNull(a),type:o};e.block={hash:Formatter.allowNull(s),parentHash:s,number:a,timestamp:a,nonce:Formatter.allowNull(f),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:Formatter.allowNull(t),extraData:i,transactions:Formatter.allowNull(Formatter.arrayOf(s)),baseFeePerGas:Formatter.allowNull(r)};e.blockWithTransactions=shallowCopy(e.block);e.blockWithTransactions.transactions=Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this)));e.filter={fromBlock:Formatter.allowNull(n,undefined),toBlock:Formatter.allowNull(n,undefined),blockHash:Formatter.allowNull(s,undefined),address:Formatter.allowNull(t,undefined),topics:Formatter.allowNull(this.topics.bind(this),undefined)};e.filterLog={blockNumber:Formatter.allowNull(a),blockHash:Formatter.allowNull(s),transactionIndex:a,removed:Formatter.allowNull(this.boolean.bind(this)),address:t,data:Formatter.allowFalsish(i,"0x"),topics:Formatter.arrayOf(s),transactionHash:s,logIndex:a};return e}accessList(e){return accessListify(e||[])}number(e){if(e==="0x"){return 0}return BigNumber.from(e).toNumber()}type(e){if(e==="0x"||e==null){return 0}return BigNumber.from(e).toNumber()}bigNumber(e){return BigNumber.from(e)}boolean(e){if(typeof e==="boolean"){return e}if(typeof e==="string"){e=e.toLowerCase();if(e==="true"){return true}if(e==="false"){return false}}throw new Error("invalid boolean - "+e)}hex(e,t){if(typeof e==="string"){if(!t&&e.substring(0,2)!=="0x"){e="0x"+e}if(isHexString(e)){return e.toLowerCase()}}return logger$h.throwArgumentError("invalid hash","value",e)}data(e,t){const r=this.hex(e,t);if(r.length%2!==0){throw new Error("invalid data; odd-length - "+e)}return r}address(e){return getAddress(e)}callAddress(e){if(!isHexString(e,32)){return null}const t=getAddress(hexDataSlice(e,12));return t===AddressZero?null:t}contractAddress(e){return getContractAddress(e)}blockTag(e){if(e==null){return"latest"}if(e==="earliest"){return"0x0"}switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e==="number"||isHexString(e)){return hexValue(e)}throw new Error("invalid blockTag")}hash(e,t){const r=this.hex(e,t);if(hexDataLength(r)!==32){return logger$h.throwArgumentError("invalid hash","value",e)}return r}difficulty(e){if(e==null){return null}const t=BigNumber.from(e);try{return t.toNumber()}catch(e){}return null}uint256(e){if(!isHexString(e)){throw new Error("invalid uint256")}return hexZeroPad(e,32)}_block(e,t){if(e.author!=null&&e.miner==null){e.miner=e.author}const r=e._difficulty!=null?e._difficulty:e.difficulty;const n=Formatter.check(t,e);n._difficulty=r==null?null:BigNumber.from(r);return n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Formatter.check(this.formats.transactionRequest,e)}transactionResponse(e){if(e.gas!=null&&e.gasLimit==null){e.gasLimit=e.gas}if(e.to&&BigNumber.from(e.to).isZero()){e.to="0x0000000000000000000000000000000000000000"}if(e.input!=null&&e.data==null){e.data=e.input}if(e.to==null&&e.creates==null){e.creates=this.contractAddress(e)}if((e.type===1||e.type===2)&&e.accessList==null){e.accessList=[]}const t=Formatter.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;if(isHexString(r)){r=BigNumber.from(r).toNumber()}t.chainId=r}else{let r=e.networkId;if(r==null&&t.v==null){r=e.chainId}if(isHexString(r)){r=BigNumber.from(r).toNumber()}if(typeof r!=="number"&&t.v!=null){r=(t.v-35)/2;if(r<0){r=0}r=parseInt(r)}if(typeof r!=="number"){r=0}t.chainId=r}if(t.blockHash&&t.blockHash.replace(/0/g,"")==="x"){t.blockHash=null}return t}transaction(e){return parse(e)}receiptLog(e){return Formatter.check(this.formats.receiptLog,e)}receipt(e){const t=Formatter.check(this.formats.receipt,e);if(t.root!=null){if(t.root.length<=4){const e=BigNumber.from(t.root).toNumber();if(e===0||e===1){if(t.status!=null&&t.status!==e){logger$h.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status})}t.status=e;delete t.root}else{logger$h.throwArgumentError("invalid alt-root-status","value.root",t.root)}}else if(t.root.length!==66){logger$h.throwArgumentError("invalid root hash","value.root",t.root)}}if(t.status!=null){t.byzantium=true}return t}topics(e){if(Array.isArray(e)){return e.map((e=>this.topics(e)))}else if(e!=null){return this.hash(e,true)}return null}filter(e){return Formatter.check(this.formats.filter,e)}filterLog(e){return Formatter.check(this.formats.filterLog,e)}static check(e,t){const r={};for(const n in e){try{const i=e[n](t[n]);if(i!==undefined){r[n]=i}}catch(e){e.checkKey=n;e.checkValue=t[n];throw e}}return r}static allowNull(e,t){return function(r){if(r==null){return t}return e(r)}}static allowFalsish(e,t){return function(r){if(!r){return t}return e(r)}}static arrayOf(e){return function(t){if(!Array.isArray(t)){throw new Error("not an array")}const r=[];t.forEach((function(t){r.push(e(t))}));return r}}}function isCommunityResourcable(e){return e&&typeof e.isCommunityResource==="function"}function isCommunityResource(e){return isCommunityResourcable(e)&&e.isCommunityResource()}let throttleMessage=false;function showThrottleMessage(){if(throttleMessage){return}throttleMessage=true;console.log("========= NOTICE =========");console.log("Request-Rate Exceeded  (this message will not be repeated)");console.log("");console.log("The default API keys for each service are provided as a highly-throttled,");console.log("community resource for low-traffic projects and early prototyping.");console.log("");console.log("While your application will continue to function, we highly recommended");console.log("signing up for your own API keys to improve performance, increase your");console.log("request rate/limit and enable other perks, such as metrics and advanced APIs.");console.log("");console.log("For more details: https://docs.ethers.io/api-keys/");console.log("==========================")}var __awaiter$6=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$g=new Logger(version$3);const MAX_CCIP_REDIRECTS=10;function checkTopic(e){if(e==null){return"null"}if(hexDataLength(e)!==32){logger$g.throwArgumentError("invalid topic","topic",e)}return e.toLowerCase()}function serializeTopics(e){e=e.slice();while(e.length>0&&e[e.length-1]==null){e.pop()}return e.map((e=>{if(Array.isArray(e)){const t={};e.forEach((e=>{t[checkTopic(e)]=true}));const r=Object.keys(t);r.sort();return r.join("|")}else{return checkTopic(e)}})).join("&")}function deserializeTopics(e){if(e===""){return[]}return e.split(/&/g).map((e=>{if(e===""){return[]}const t=e.split("|").map((e=>e==="null"?null:e));return t.length===1?t[0]:t}))}function getEventTag(e){if(typeof e==="string"){e=e.toLowerCase();if(hexDataLength(e)===32){return"tx:"+e}if(e.indexOf(":")===-1){return e}}else if(Array.isArray(e)){return"filter:*:"+serializeTopics(e)}else if(ForkEvent.isForkEvent(e)){logger$g.warn("not implemented");throw new Error("not implemented")}else if(e&&typeof e==="object"){return"filter:"+(e.address||"*")+":"+serializeTopics(e.topics||[])}throw new Error("invalid event - "+e)}function getTime(){return(new Date).getTime()}function stall$1(e){return new Promise((t=>{setTimeout(t,e)}))}const PollableEvents=["block","network","pending","poll"];class Event{constructor(e,t,r){defineReadOnly(this,"tag",e);defineReadOnly(this,"listener",t);defineReadOnly(this,"once",r);this._lastBlockNumber=-2;this._inflight=false}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");if(e[0]!=="tx"){return null}return e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter"){return null}const t=e[1];const r=deserializeTopics(e[2]);const n={};if(r.length>0){n.topics=r}if(t&&t!=="*"){n.address=t}return n}pollable(){return this.tag.indexOf(":")>=0||PollableEvents.indexOf(this.tag)>=0}}const coinInfos={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function bytes32ify(e){return hexZeroPad(BigNumber.from(e).toHexString(),32)}function base58Encode(e){return Base58.encode(concat$1([e,hexDataSlice(sha256$1(sha256$1(e)),0,4)]))}const matcherIpfs=new RegExp("^(ipfs)://(.*)$","i");const matchers=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),matcherIpfs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function _parseString(e,t){try{return toUtf8String(_parseBytes(e,t))}catch(e){}return null}function _parseBytes(e,t){if(e==="0x"){return null}const r=BigNumber.from(hexDataSlice(e,t,t+32)).toNumber();const n=BigNumber.from(hexDataSlice(e,r,r+32)).toNumber();return hexDataSlice(e,r+32,r+32+n)}function getIpfsLink(e){if(e.match(/^ipfs:\/\/ipfs\//i)){e=e.substring(12)}else if(e.match(/^ipfs:\/\//i)){e=e.substring(7)}else{logger$g.throwArgumentError("unsupported IPFS format","link",e)}return`https://gateway.ipfs.io/ipfs/${e}`}function numPad(e){const t=arrayify$1(e);if(t.length>32){throw new Error("internal; should not happen")}const r=new Uint8Array(32);r.set(t,32-t.length);return r}function bytesPad(e){if(e.length%32===0){return e}const t=new Uint8Array(Math.ceil(e.length/32)*32);t.set(e);return t}function encodeBytes(e){const t=[];let r=0;for(let n=0;n<e.length;n++){t.push(null);r+=32}for(let n=0;n<e.length;n++){const i=arrayify$1(e[n]);t[n]=numPad(r);t.push(numPad(i.length));t.push(bytesPad(i));r+=32+Math.ceil(i.length/32)*32}return hexConcat(t)}class Resolver{constructor(e,t,r,n){defineReadOnly(this,"provider",e);defineReadOnly(this,"name",r);defineReadOnly(this,"address",e.formatter.address(t));defineReadOnly(this,"_resolvedAddress",n)}supportsWildcard(){if(!this._supportsEip2544){this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((e=>BigNumber.from(e).eq(1))).catch((e=>{if(e.code===Logger.errors.CALL_EXCEPTION){return false}this._supportsEip2544=null;throw e}))}return this._supportsEip2544}_fetch(e,t){return __awaiter$6(this,void 0,void 0,(function*(){const r={to:this.address,ccipReadEnabled:true,data:hexConcat([e,namehash(this.name),t||"0x"])};let n=false;if(yield this.supportsWildcard()){n=true;r.data=hexConcat(["0x9061b923",encodeBytes([dnsEncode(this.name),r.data])])}try{let e=yield this.provider.call(r);if(arrayify$1(e).length%32===4){logger$g.throwError("resolver threw error",Logger.errors.CALL_EXCEPTION,{transaction:r,data:e})}if(n){e=_parseBytes(e,0)}return e}catch(e){if(e.code===Logger.errors.CALL_EXCEPTION){return null}throw e}}))}_fetchBytes(e,t){return __awaiter$6(this,void 0,void 0,(function*(){const r=yield this._fetch(e,t);if(r!=null){return _parseBytes(r,0)}return null}))}_getAddress(e,t){const r=coinInfos[String(e)];if(r==null){logger$g.throwError(`unsupported coin type: ${e}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`})}if(r.ilk==="eth"){return this.provider.formatter.address(t)}const n=arrayify$1(t);if(r.p2pkh!=null){const e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){const t=parseInt(e[1],16);if(e[2].length===t*2&&t>=1&&t<=75){return base58Encode(concat$1([[r.p2pkh],"0x"+e[2]]))}}}if(r.p2sh!=null){const e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){const t=parseInt(e[1],16);if(e[2].length===t*2&&t>=1&&t<=75){return base58Encode(concat$1([[r.p2sh],"0x"+e[2]]))}}}if(r.prefix!=null){const e=n[1];let t=n[0];if(t===0){if(e!==20&&e!==32){t=-1}}else{t=-1}if(t>=0&&n.length===2+e&&e>=1&&e<=75){const e=bech32.toWords(n.slice(2));e.unshift(t);return bech32.encode(r.prefix,e)}}return null}getAddress(e){return __awaiter$6(this,void 0,void 0,(function*(){if(e==null){e=60}if(e===60){try{const e=yield this._fetch("0x3b3b57de");if(e==="0x"||e===HashZero){return null}return this.provider.formatter.callAddress(e)}catch(e){if(e.code===Logger.errors.CALL_EXCEPTION){return null}throw e}}const t=yield this._fetchBytes("0xf1cb7e06",bytes32ify(e));if(t==null||t==="0x"){return null}const r=this._getAddress(e,t);if(r==null){logger$g.throwError(`invalid or unsupported coin data`,Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t})}return r}))}getAvatar(){return __awaiter$6(this,void 0,void 0,(function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null){return null}for(let r=0;r<matchers.length;r++){const n=t.match(matchers[r]);if(n==null){continue}const i=n[1].toLowerCase();switch(i){case"https":e.push({type:"url",content:t});return{linkage:e,url:t};case"data":e.push({type:"data",content:t});return{linkage:e,url:t};case"ipfs":e.push({type:"ipfs",content:t});return{linkage:e,url:getIpfsLink(t)};case"erc721":case"erc1155":{const r=i==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});const s=this._resolvedAddress||(yield this.getAddress());const f=(n[2]||"").split("/");if(f.length!==2){return null}const a=yield this.provider.formatter.address(f[0]);const o=hexZeroPad(BigNumber.from(f[1]).toHexString(),32);if(i==="erc721"){const t=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:hexConcat(["0x6352211e",o])}));if(s!==t){return null}e.push({type:"owner",content:t})}else if(i==="erc1155"){const t=BigNumber.from(yield this.provider.call({to:a,data:hexConcat(["0x00fdd58e",hexZeroPad(s,32),o])}));if(t.isZero()){return null}e.push({type:"balance",content:t.toString()})}const c={to:this.provider.formatter.address(f[0]),data:hexConcat([r,o])};let u=_parseString(yield this.provider.call(c),0);if(u==null){return null}e.push({type:"metadata-url-base",content:u});if(i==="erc1155"){u=u.replace("{id}",o.substring(2));e.push({type:"metadata-url-expanded",content:u})}if(u.match(/^ipfs:/i)){u=getIpfsLink(u)}e.push({type:"metadata-url",content:u});const l=yield fetchJson(u);if(!l){return null}e.push({type:"metadata",content:JSON.stringify(l)});let h=l.image;if(typeof h!=="string"){return null}if(h.match(/^(https:\/\/|data:)/i));else{const t=h.match(matcherIpfs);if(t==null){return null}e.push({type:"url-ipfs",content:h});h=getIpfsLink(h)}e.push({type:"url",content:h});return{linkage:e,url:h}}}}}catch(e){}return null}))}getContentHash(){return __awaiter$6(this,void 0,void 0,(function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x"){return null}const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e=parseInt(t[3],16);if(t[4].length===e*2){return"ipfs://"+Base58.encode("0x"+t[1])}}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const e=parseInt(r[3],16);if(r[4].length===e*2){return"ipns://"+Base58.encode("0x"+r[1])}}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n){if(n[1].length===32*2){return"bzz://"+n[1]}}const i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i){if(i[1].length===34*2){const e={"=":"","+":"-","/":"_"};const t=encode$1("0x"+i[1]).replace(/[=+\/]/g,(t=>e[t]));return"sia://"+t}}return logger$g.throwError(`invalid or unsupported content hash data`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})}))}getText(e){return __awaiter$6(this,void 0,void 0,(function*(){let t=toUtf8Bytes(e);t=concat$1([bytes32ify(64),bytes32ify(t.length),t]);if(t.length%32!==0){t=concat$1([t,hexZeroPad("0x",32-e.length%32)])}const r=yield this._fetchBytes("0x59d1d43c",hexlify(t));if(r==null||r==="0x"){return null}return toUtf8String(r)}))}}let defaultFormatter=null;let nextPollId=1;class BaseProvider extends Provider{constructor(e){super();this._events=[];this._emitted={block:-2};this.disableCcipRead=false;this.formatter=new.target.getFormatter();defineReadOnly(this,"anyNetwork",e==="any");if(this.anyNetwork){e=this.detectNetwork()}if(e instanceof Promise){this._networkPromise=e;e.catch((e=>{}));this._ready().catch((e=>{}))}else{const t=getStatic(new.target,"getNetwork")(e);if(t){defineReadOnly(this,"_network",t);this.emit("network",t,null)}else{logger$g.throwArgumentError("invalid network","network",e)}}this._maxInternalBlockNumber=-1024;this._lastBlockNumber=-2;this._maxFilterBlockRange=10;this._pollingInterval=4e3;this._fastQueryDate=0}_ready(){return __awaiter$6(this,void 0,void 0,(function*(){if(this._network==null){let e=null;if(this._networkPromise){try{e=yield this._networkPromise}catch(e){}}if(e==null){e=yield this.detectNetwork()}if(!e){logger$g.throwError("no network detected",Logger.errors.UNKNOWN_ERROR,{})}if(this._network==null){if(this.anyNetwork){this._network=e}else{defineReadOnly(this,"_network",e)}this.emit("network",e,null)}}return this._network}))}get ready(){return poll((()=>this._ready().then((e=>e),(e=>{if(e.code===Logger.errors.NETWORK_ERROR&&e.event==="noNetwork"){return undefined}throw e}))))}static getFormatter(){if(defaultFormatter==null){defaultFormatter=new Formatter}return defaultFormatter}static getNetwork(e){return getNetwork(e==null?"homestead":e)}ccipReadFetch(e,t,r){return __awaiter$6(this,void 0,void 0,(function*(){if(this.disableCcipRead||r.length===0){return null}const n=e.to.toLowerCase();const i=t.toLowerCase();const s=[];for(let e=0;e<r.length;e++){const t=r[e];const f=t.replace("{sender}",n).replace("{data}",i);const a=t.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n});const o=yield fetchJson({url:f,errorPassThrough:true},a,((e,t)=>{e.status=t.statusCode;return e}));if(o.data){return o.data}const c=o.message||"unknown error";if(o.status>=400&&o.status<500){return logger$g.throwError(`response not found during CCIP fetch: ${c}`,Logger.errors.SERVER_ERROR,{url:t,errorMessage:c})}s.push(c)}return logger$g.throwError(`error encountered during CCIP fetch: ${s.map((e=>JSON.stringify(e))).join(", ")}`,Logger.errors.SERVER_ERROR,{urls:r,errorMessages:s})}))}_getInternalBlockNumber(e){return __awaiter$6(this,void 0,void 0,(function*(){yield this._ready();if(e>0){while(this._internalBlockNumber){const t=this._internalBlockNumber;try{const r=yield t;if(getTime()-r.respTime<=e){return r.blockNumber}break}catch(e){if(this._internalBlockNumber===t){break}}}}const t=getTime();const r=resolveProperties({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((e=>null),(e=>e))}).then((({blockNumber:e,networkError:n})=>{if(n){if(this._internalBlockNumber===r){this._internalBlockNumber=null}throw n}const i=getTime();e=BigNumber.from(e).toNumber();if(e<this._maxInternalBlockNumber){e=this._maxInternalBlockNumber}this._maxInternalBlockNumber=e;this._setFastBlockNumber(e);return{blockNumber:e,reqTime:t,respTime:i}}));this._internalBlockNumber=r;r.catch((e=>{if(this._internalBlockNumber===r){this._internalBlockNumber=null}}));return(yield r).blockNumber}))}poll(){return __awaiter$6(this,void 0,void 0,(function*(){const e=nextPollId++;const t=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(e){this.emit("error",e);return}this._setFastBlockNumber(r);this.emit("poll",e,r);if(r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2){this._emitted.block=r-1}if(Math.abs(this._emitted.block-r)>1e3){logger$g.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`);this.emit("error",logger$g.makeError("network block skew detected",Logger.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block}));this.emit("block",r)}else{for(let e=this._emitted.block+1;e<=r;e++){this.emit("block",e)}}if(this._emitted.block!==r){this._emitted.block=r;Object.keys(this._emitted).forEach((e=>{if(e==="block"){return}const t=this._emitted[e];if(t==="pending"){return}if(r-t>12){delete this._emitted[e]}}))}if(this._lastBlockNumber===-2){this._lastBlockNumber=r-1}this._events.forEach((e=>{switch(e.type){case"tx":{const r=e.hash;let n=this.getTransactionReceipt(r).then((e=>{if(!e||e.blockNumber==null){return null}this._emitted["t:"+r]=e.blockNumber;this.emit(r,e);return null})).catch((e=>{this.emit("error",e)}));t.push(n);break}case"filter":{if(!e._inflight){e._inflight=true;if(e._lastBlockNumber===-2){e._lastBlockNumber=r-1}const n=e.filter;n.fromBlock=e._lastBlockNumber+1;n.toBlock=r;const i=n.toBlock-this._maxFilterBlockRange;if(i>n.fromBlock){n.fromBlock=i}if(n.fromBlock<0){n.fromBlock=0}const s=this.getLogs(n).then((t=>{e._inflight=false;if(t.length===0){return}t.forEach((t=>{if(t.blockNumber>e._lastBlockNumber){e._lastBlockNumber=t.blockNumber}this._emitted["b:"+t.blockHash]=t.blockNumber;this._emitted["t:"+t.transactionHash]=t.blockNumber;this.emit(n,t)}))})).catch((t=>{this.emit("error",t);e._inflight=false}));t.push(s)}break}}}));this._lastBlockNumber=r;Promise.all(t).then((()=>{this.emit("didPoll",e)})).catch((e=>{this.emit("error",e)}));return}))}resetEventsBlock(e){this._lastBlockNumber=e-1;if(this.polling){this.poll()}}get network(){return this._network}detectNetwork(){return __awaiter$6(this,void 0,void 0,(function*(){return logger$g.throwError("provider does not support network detection",Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return __awaiter$6(this,void 0,void 0,(function*(){const e=yield this._ready();const t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork){this._network=t;this._lastBlockNumber=-2;this._fastBlockNumber=null;this._fastBlockNumberPromise=null;this._fastQueryDate=0;this._emitted.block=-2;this._maxInternalBlockNumber=-1024;this._internalBlockNumber=null;this.emit("network",t,e);yield stall$1(0);return this._network}const r=logger$g.makeError("underlying network changed",Logger.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});this.emit("error",r);throw r}return e}))}get blockNumber(){this._getInternalBlockNumber(100+this.pollingInterval/2).then((e=>{this._setFastBlockNumber(e)}),(e=>{}));return this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){if(e&&!this._poller){this._poller=setInterval((()=>{this.poll()}),this.pollingInterval);if(!this._bootstrapPoll){this._bootstrapPoll=setTimeout((()=>{this.poll();this._bootstrapPoll=setTimeout((()=>{if(!this._poller){this.poll()}this._bootstrapPoll=null}),this.pollingInterval)}),0)}}else if(!e&&this._poller){clearInterval(this._poller);this._poller=null}}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!=="number"||e<=0||parseInt(String(e))!=e){throw new Error("invalid polling interval")}this._pollingInterval=e;if(this._poller){clearInterval(this._poller);this._poller=setInterval((()=>{this.poll()}),this._pollingInterval)}}_getFastBlockNumber(){const e=getTime();if(e-this._fastQueryDate>2*this._pollingInterval){this._fastQueryDate=e;this._fastBlockNumberPromise=this.getBlockNumber().then((e=>{if(this._fastBlockNumber==null||e>this._fastBlockNumber){this._fastBlockNumber=e}return this._fastBlockNumber}))}return this._fastBlockNumberPromise}_setFastBlockNumber(e){if(this._fastBlockNumber!=null&&e<this._fastBlockNumber){return}this._fastQueryDate=getTime();if(this._fastBlockNumber==null||e>this._fastBlockNumber){this._fastBlockNumber=e;this._fastBlockNumberPromise=Promise.resolve(e)}}waitForTransaction(e,t,r){return __awaiter$6(this,void 0,void 0,(function*(){return this._waitForTransaction(e,t==null?1:t,r||0,null)}))}_waitForTransaction(e,t,r,n){return __awaiter$6(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(e);if((i?i.confirmations:0)>=t){return i}return new Promise(((i,s)=>{const f=[];let a=false;const o=function(){if(a){return true}a=true;f.forEach((e=>{e()}));return false};const c=e=>{if(e.confirmations<t){return}if(o()){return}i(e)};this.on(e,c);f.push((()=>{this.removeListener(e,c)}));if(n){let r=n.startBlock;let i=null;const c=f=>__awaiter$6(this,void 0,void 0,(function*(){if(a){return}yield stall$1(1e3);this.getTransactionCount(n.from).then((u=>__awaiter$6(this,void 0,void 0,(function*(){if(a){return}if(u<=n.nonce){r=f}else{{const t=yield this.getTransaction(e);if(t&&t.blockNumber!=null){return}}if(i==null){i=r-3;if(i<n.startBlock){i=n.startBlock}}while(i<=f){if(a){return}const r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){const f=r.transactions[i];if(f.hash===e){return}if(f.from===n.from&&f.nonce===n.nonce){if(a){return}const r=yield this.waitForTransaction(f.hash,t);if(o()){return}let i="replaced";if(f.data===n.data&&f.to===n.to&&f.value.eq(n.value)){i="repriced"}else if(f.data==="0x"&&f.from===f.to&&f.value.isZero()){i="cancelled"}s(logger$g.makeError("transaction was replaced",Logger.errors.TRANSACTION_REPLACED,{cancelled:i==="replaced"||i==="cancelled",reason:i,replacement:this._wrapTransaction(f),hash:e,receipt:r}));return}}i++}}if(a){return}this.once("block",c)}))),(e=>{if(a){return}this.once("block",c)}))}));if(a){return}this.once("block",c);f.push((()=>{this.removeListener("block",c)}))}if(typeof r==="number"&&r>0){const e=setTimeout((()=>{if(o()){return}s(logger$g.makeError("timeout exceeded",Logger.errors.TIMEOUT,{timeout:r}))}),r);if(e.unref){e.unref()}f.push((()=>{clearTimeout(e)}))}}))}))}getBlockNumber(){return __awaiter$6(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return __awaiter$6(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return BigNumber.from(e)}catch(t){return logger$g.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}}))}getBalance(e,t){return __awaiter$6(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield resolveProperties({address:this._getAddress(e),blockTag:this._getBlockTag(t)});const n=yield this.perform("getBalance",r);try{return BigNumber.from(n)}catch(e){return logger$g.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:e})}}))}getTransactionCount(e,t){return __awaiter$6(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield resolveProperties({address:this._getAddress(e),blockTag:this._getBlockTag(t)});const n=yield this.perform("getTransactionCount",r);try{return BigNumber.from(n).toNumber()}catch(e){return logger$g.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:e})}}))}getCode(e,t){return __awaiter$6(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield resolveProperties({address:this._getAddress(e),blockTag:this._getBlockTag(t)});const n=yield this.perform("getCode",r);try{return hexlify(n)}catch(e){return logger$g.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:e})}}))}getStorageAt(e,t,r){return __awaiter$6(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield resolveProperties({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then((e=>hexValue(e)))});const i=yield this.perform("getStorageAt",n);try{return hexlify(i)}catch(e){return logger$g.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:e})}}))}_wrapTransaction(e,t,r){if(t!=null&&hexDataLength(t)!==32){throw new Error("invalid response - sendTransaction")}const n=e;if(t!=null&&e.hash!==t){logger$g.throwError("Transaction hash mismatch from Provider.sendTransaction.",Logger.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t})}n.wait=(t,n)=>__awaiter$6(this,void 0,void 0,(function*(){if(t==null){t=1}if(n==null){n=0}let i=undefined;if(t!==0&&r!=null){i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r}}const s=yield this._waitForTransaction(e.hash,t,n,i);if(s==null&&t===0){return null}this._emitted["t:"+e.hash]=s.blockNumber;if(s.status===0){logger$g.throwError("transaction failed",Logger.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:s})}return s}));return n}sendTransaction(e){return __awaiter$6(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then((e=>hexlify(e)));const r=this.formatter.transaction(e);if(r.confirmations==null){r.confirmations=0}const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,e,n)}catch(e){e.transaction=r;e.transactionHash=r.hash;throw e}}))}_getTransactionRequest(e){return __awaiter$6(this,void 0,void 0,(function*(){const t=yield e;const r={};["from","to"].forEach((e=>{if(t[e]==null){return}r[e]=Promise.resolve(t[e]).then((e=>e?this._getAddress(e):null))}));["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((e=>{if(t[e]==null){return}r[e]=Promise.resolve(t[e]).then((e=>e?BigNumber.from(e):null))}));["type"].forEach((e=>{if(t[e]==null){return}r[e]=Promise.resolve(t[e]).then((e=>e!=null?e:null))}));if(t.accessList){r.accessList=this.formatter.accessList(t.accessList)}["data"].forEach((e=>{if(t[e]==null){return}r[e]=Promise.resolve(t[e]).then((e=>e?hexlify(e):null))}));return this.formatter.transactionRequest(yield resolveProperties(r))}))}_getFilter(e){return __awaiter$6(this,void 0,void 0,(function*(){e=yield e;const t={};if(e.address!=null){t.address=this._getAddress(e.address)}["blockHash","topics"].forEach((r=>{if(e[r]==null){return}t[r]=e[r]}));["fromBlock","toBlock"].forEach((r=>{if(e[r]==null){return}t[r]=this._getBlockTag(e[r])}));return this.formatter.filter(yield resolveProperties(t))}))}_call(e,t,r){return __awaiter$6(this,void 0,void 0,(function*(){if(r>=MAX_CCIP_REDIRECTS){logger$g.throwError("CCIP read exceeded maximum redirections",Logger.errors.SERVER_ERROR,{redirects:r,transaction:e})}const n=e.to;const i=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&t==="latest"&&n!=null&&i.substring(0,10)==="0x556f1830"&&hexDataLength(i)%32===4){try{const s=hexDataSlice(i,4);const f=hexDataSlice(s,0,32);if(!BigNumber.from(f).eq(n)){logger$g.throwError("CCIP Read sender did not match",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i})}const a=[];const o=BigNumber.from(hexDataSlice(s,32,64)).toNumber();const c=BigNumber.from(hexDataSlice(s,o,o+32)).toNumber();const u=hexDataSlice(s,o+32);for(let t=0;t<c;t++){const r=_parseString(u,t*32);if(r==null){logger$g.throwError("CCIP Read contained corrupt URL string",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i})}a.push(r)}const l=_parseBytes(s,64);if(!BigNumber.from(hexDataSlice(s,100,128)).isZero()){logger$g.throwError("CCIP Read callback selector included junk",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i})}const h=hexDataSlice(s,96,100);const d=_parseBytes(s,128);const p=yield this.ccipReadFetch(e,l,a);if(p==null){logger$g.throwError("CCIP Read disabled or provided no URLs",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i})}const y={to:n,data:hexConcat([h,encodeBytes([p,d])])};return this._call(y,t,r+1)}catch(e){if(e.code===Logger.errors.SERVER_ERROR){throw e}}}try{return hexlify(i)}catch(r){return logger$g.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:r})}}))}call(e,t){return __awaiter$6(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield resolveProperties({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)}))}estimateGas(e){return __awaiter$6(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield resolveProperties({transaction:this._getTransactionRequest(e)});const r=yield this.perform("estimateGas",t);try{return BigNumber.from(r)}catch(e){return logger$g.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:e})}}))}_getAddress(e){return __awaiter$6(this,void 0,void 0,(function*(){e=yield e;if(typeof e!=="string"){logger$g.throwArgumentError("invalid address or ENS name","name",e)}const t=yield this.resolveName(e);if(t==null){logger$g.throwError("ENS name not configured",Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`})}return t}))}_getBlock(e,t){return __awaiter$6(this,void 0,void 0,(function*(){yield this.getNetwork();e=yield e;let r=-128;const n={includeTransactions:!!t};if(isHexString(e,32)){n.blockHash=e}else{try{n.blockTag=yield this._getBlockTag(e);if(isHexString(n.blockTag)){r=parseInt(n.blockTag.substring(2),16)}}catch(t){logger$g.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}}return poll((()=>__awaiter$6(this,void 0,void 0,(function*(){const e=yield this.perform("getBlock",n);if(e==null){if(n.blockHash!=null){if(this._emitted["b:"+n.blockHash]==null){return null}}if(n.blockTag!=null){if(r>this._emitted.block){return null}}return undefined}if(t){let t=null;for(let r=0;r<e.transactions.length;r++){const n=e.transactions[r];if(n.blockNumber==null){n.confirmations=0}else if(n.confirmations==null){if(t==null){t=yield this._getInternalBlockNumber(100+2*this.pollingInterval)}let e=t-n.blockNumber+1;if(e<=0){e=1}n.confirmations=e}}const r=this.formatter.blockWithTransactions(e);r.transactions=r.transactions.map((e=>this._wrapTransaction(e)));return r}return this.formatter.block(e)}))),{oncePoll:this})}))}getBlock(e){return this._getBlock(e,false)}getBlockWithTransactions(e){return this._getBlock(e,true)}getTransaction(e){return __awaiter$6(this,void 0,void 0,(function*(){yield this.getNetwork();e=yield e;const t={transactionHash:this.formatter.hash(e,true)};return poll((()=>__awaiter$6(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",t);if(r==null){if(this._emitted["t:"+e]==null){return null}return undefined}const n=this.formatter.transactionResponse(r);if(n.blockNumber==null){n.confirmations=0}else if(n.confirmations==null){const e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);let t=e-n.blockNumber+1;if(t<=0){t=1}n.confirmations=t}return this._wrapTransaction(n)}))),{oncePoll:this})}))}getTransactionReceipt(e){return __awaiter$6(this,void 0,void 0,(function*(){yield this.getNetwork();e=yield e;const t={transactionHash:this.formatter.hash(e,true)};return poll((()=>__awaiter$6(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",t);if(r==null){if(this._emitted["t:"+e]==null){return null}return undefined}if(r.blockHash==null){return undefined}const n=this.formatter.receipt(r);if(n.blockNumber==null){n.confirmations=0}else if(n.confirmations==null){const e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);let t=e-n.blockNumber+1;if(t<=0){t=1}n.confirmations=t}return n}))),{oncePoll:this})}))}getLogs(e){return __awaiter$6(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield resolveProperties({filter:this._getFilter(e)});const r=yield this.perform("getLogs",t);r.forEach((e=>{if(e.removed==null){e.removed=false}}));return Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return __awaiter$6(this,void 0,void 0,(function*(){yield this.getNetwork();return this.perform("getEtherPrice",{})}))}_getBlockTag(e){return __awaiter$6(this,void 0,void 0,(function*(){e=yield e;if(typeof e==="number"&&e<0){if(e%1){logger$g.throwArgumentError("invalid BlockTag","blockTag",e)}let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);t+=e;if(t<0){t=0}return this.formatter.blockTag(t)}return this.formatter.blockTag(e)}))}getResolver(e){return __awaiter$6(this,void 0,void 0,(function*(){let t=e;while(true){if(t===""||t==="."){return null}if(e!=="eth"&&t==="eth"){return null}const r=yield this._getResolver(t,"getResolver");if(r!=null){const n=new Resolver(this,r,e);if(t!==e&&!(yield n.supportsWildcard())){return null}return n}t=t.split(".").slice(1).join(".")}}))}_getResolver(e,t){return __awaiter$6(this,void 0,void 0,(function*(){if(t==null){t="ENS"}const r=yield this.getNetwork();if(!r.ensAddress){logger$g.throwError("network does not support ENS",Logger.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name})}try{const t=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+namehash(e).substring(2)});return this.formatter.callAddress(t)}catch(e){}return null}))}resolveName(e){return __awaiter$6(this,void 0,void 0,(function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if(isHexString(e)){throw t}}if(typeof e!=="string"){logger$g.throwArgumentError("invalid ENS name","name",e)}const t=yield this.getResolver(e);if(!t){return null}return yield t.getAddress()}))}lookupAddress(e){return __awaiter$6(this,void 0,void 0,(function*(){e=yield e;e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse";const r=yield this._getResolver(t,"lookupAddress");if(r==null){return null}const n=_parseString(yield this.call({to:r,data:"0x691f3431"+namehash(t).substring(2)}),0);const i=yield this.resolveName(n);if(i!=e){return null}return n}))}getAvatar(e){return __awaiter$6(this,void 0,void 0,(function*(){let t=null;if(isHexString(e)){const r=this.formatter.address(e);const n=r.substring(2).toLowerCase()+".addr.reverse";const i=yield this._getResolver(n,"getAvatar");if(!i){return null}t=new Resolver(this,i,n);try{const e=yield t.getAvatar();if(e){return e.url}}catch(e){if(e.code!==Logger.errors.CALL_EXCEPTION){throw e}}try{const e=_parseString(yield this.call({to:i,data:"0x691f3431"+namehash(n).substring(2)}),0);t=yield this.getResolver(e)}catch(e){if(e.code!==Logger.errors.CALL_EXCEPTION){throw e}return null}}else{t=yield this.getResolver(e);if(!t){return null}}const r=yield t.getAvatar();if(r==null){return null}return r.url}))}perform(e,t){return logger$g.throwError(e+" not implemented",Logger.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_stopEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_addEventListener(e,t,r){const n=new Event(getEventTag(e),t,r);this._events.push(n);this._startEvent(n);return this}on(e,t){return this._addEventListener(e,t,false)}once(e,t){return this._addEventListener(e,t,true)}emit(e,...t){let r=false;let n=[];let i=getEventTag(e);this._events=this._events.filter((e=>{if(e.tag!==i){return true}setTimeout((()=>{e.listener.apply(this,t)}),0);r=true;if(e.once){n.push(e);return false}return true}));n.forEach((e=>{this._stopEvent(e)}));return r}listenerCount(e){if(!e){return this._events.length}let t=getEventTag(e);return this._events.filter((e=>e.tag===t)).length}listeners(e){if(e==null){return this._events.map((e=>e.listener))}let t=getEventTag(e);return this._events.filter((e=>e.tag===t)).map((e=>e.listener))}off(e,t){if(t==null){return this.removeAllListeners(e)}const r=[];let n=false;let i=getEventTag(e);this._events=this._events.filter((e=>{if(e.tag!==i||e.listener!=t){return true}if(n){return true}n=true;r.push(e);return false}));r.forEach((e=>{this._stopEvent(e)}));return this}removeAllListeners(e){let t=[];if(e==null){t=this._events;this._events=[]}else{const r=getEventTag(e);this._events=this._events.filter((e=>{if(e.tag!==r){return true}t.push(e);return false}))}t.forEach((e=>{this._stopEvent(e)}));return this}}var __awaiter$5=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$f=new Logger(version$3);const errorGas=["call","estimateGas"];function spelunk(e,t){if(e==null){return null}if(typeof e.message==="string"&&e.message.match("reverted")){const r=isHexString(e.data)?e.data:null;if(!t||r){return{message:e.message,data:r}}}if(typeof e==="object"){for(const r in e){const n=spelunk(e[r],t);if(n){return n}}return null}if(typeof e==="string"){try{return spelunk(JSON.parse(e),t)}catch(e){}}return null}function checkError$1(e,t,r){const n=r.transaction||r.signedTransaction;if(e==="call"){const e=spelunk(t,true);if(e){return e.data}logger$f.throwError("missing revert data in call exception; Transaction reverted without a reason string",Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if(e==="estimateGas"){let r=spelunk(t.body,false);if(r==null){r=spelunk(t,false)}if(r){logger$f.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:e,transaction:n,error:t})}}let i=t.message;if(t.code===Logger.errors.SERVER_ERROR&&t.error&&typeof t.error.message==="string"){i=t.error.message}else if(typeof t.body==="string"){i=t.body}else if(typeof t.responseText==="string"){i=t.responseText}i=(i||"").toLowerCase();if(i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)){logger$f.throwError("insufficient funds for intrinsic transaction cost",Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n})}if(i.match(/nonce (is )?too low/i)){logger$f.throwError("nonce has already been used",Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n})}if(i.match(/replacement transaction underpriced|transaction gas price.*too low/i)){logger$f.throwError("replacement fee too low",Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n})}if(i.match(/only replay-protected/i)){logger$f.throwError("legacy pre-eip-155 transactions not supported",Logger.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n})}if(errorGas.indexOf(e)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)){logger$f.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n})}throw t}function timer(e){return new Promise((function(t){setTimeout(t,e)}))}function getResult$1(e){if(e.error){const t=new Error(e.error.message);t.code=e.error.code;t.data=e.error.data;throw t}return e.result}function getLowerCase(e){if(e){return e.toLowerCase()}return e}const _constructorGuard={};class JsonRpcSigner extends Signer{constructor(e,t,r){super();if(e!==_constructorGuard){throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner")}defineReadOnly(this,"provider",t);if(r==null){r=0}if(typeof r==="string"){defineReadOnly(this,"_address",this.provider.formatter.address(r));defineReadOnly(this,"_index",null)}else if(typeof r==="number"){defineReadOnly(this,"_index",r);defineReadOnly(this,"_address",null)}else{logger$f.throwArgumentError("invalid address or index","addressOrIndex",r)}}connect(e){return logger$f.throwError("cannot alter JSON-RPC Signer connection",Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new UncheckedJsonRpcSigner(_constructorGuard,this.provider,this._address||this._index)}getAddress(){if(this._address){return Promise.resolve(this._address)}return this.provider.send("eth_accounts",[]).then((e=>{if(e.length<=this._index){logger$f.throwError("unknown account #"+this._index,Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"})}return this.provider.formatter.address(e[this._index])}))}sendUncheckedTransaction(e){e=shallowCopy(e);const t=this.getAddress().then((e=>{if(e){e=e.toLowerCase()}return e}));if(e.gasLimit==null){const r=shallowCopy(e);r.from=t;e.gasLimit=this.provider.estimateGas(r)}if(e.to!=null){e.to=Promise.resolve(e.to).then((e=>__awaiter$5(this,void 0,void 0,(function*(){if(e==null){return null}const t=yield this.provider.resolveName(e);if(t==null){logger$f.throwArgumentError("provided ENS name resolves to null","tx.to",e)}return t}))))}return resolveProperties({tx:resolveProperties(e),sender:t}).then((({tx:t,sender:r})=>{if(t.from!=null){if(t.from.toLowerCase()!==r){logger$f.throwArgumentError("from address mismatch","transaction",e)}}else{t.from=r}const n=this.provider.constructor.hexlifyTransaction(t,{from:true});return this.provider.send("eth_sendTransaction",[n]).then((e=>e),(e=>{if(typeof e.message==="string"&&e.message.match(/user denied/i)){logger$f.throwError("user rejected transaction",Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:t})}return checkError$1("sendTransaction",e,n)}))}))}signTransaction(e){return logger$f.throwError("signing transactions is unsupported",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return __awaiter$5(this,void 0,void 0,(function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval);const r=yield this.sendUncheckedTransaction(e);try{return yield poll((()=>__awaiter$5(this,void 0,void 0,(function*(){const e=yield this.provider.getTransaction(r);if(e===null){return undefined}return this.provider._wrapTransaction(e,r,t)}))),{oncePoll:this.provider})}catch(e){e.transactionHash=r;throw e}}))}signMessage(e){return __awaiter$5(this,void 0,void 0,(function*(){const t=typeof e==="string"?toUtf8Bytes(e):e;const r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[hexlify(t),r.toLowerCase()])}catch(t){if(typeof t.message==="string"&&t.message.match(/user denied/i)){logger$f.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e})}throw t}}))}_legacySignMessage(e){return __awaiter$5(this,void 0,void 0,(function*(){const t=typeof e==="string"?toUtf8Bytes(e):e;const r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),hexlify(t)])}catch(t){if(typeof t.message==="string"&&t.message.match(/user denied/i)){logger$f.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e})}throw t}}))}_signTypedData(e,t,r){return __awaiter$5(this,void 0,void 0,(function*(){const n=yield TypedDataEncoder.resolveNames(e,t,r,(e=>this.provider.resolveName(e)));const i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(TypedDataEncoder.getPayload(n.domain,t,n.value))])}catch(e){if(typeof e.message==="string"&&e.message.match(/user denied/i)){logger$f.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,messageData:{domain:n.domain,types:t,value:n.value}})}throw e}}))}unlock(e){return __awaiter$5(this,void 0,void 0,(function*(){const t=this.provider;const r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])}))}}class UncheckedJsonRpcSigner extends JsonRpcSigner{sendTransaction(e){return this.sendUncheckedTransaction(e).then((e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)})))}}const allowedTransactionKeys={chainId:true,data:true,gasLimit:true,gasPrice:true,nonce:true,to:true,value:true,type:true,accessList:true,maxFeePerGas:true,maxPriorityFeePerGas:true};class JsonRpcProvider extends BaseProvider{constructor(e,t){let r=t;if(r==null){r=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then((t=>{e(t)}),(e=>{t(e)}))}),0)}))}super(r);if(!e){e=getStatic(this.constructor,"defaultUrl")()}if(typeof e==="string"){defineReadOnly(this,"connection",Object.freeze({url:e}))}else{defineReadOnly(this,"connection",Object.freeze(shallowCopy(e)))}this._nextId=42}get _cache(){if(this._eventLoopCache==null){this._eventLoopCache={}}return this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){if(!this._cache["detectNetwork"]){this._cache["detectNetwork"]=this._uncachedDetectNetwork();setTimeout((()=>{this._cache["detectNetwork"]=null}),0)}return this._cache["detectNetwork"]}_uncachedDetectNetwork(){return __awaiter$5(this,void 0,void 0,(function*(){yield timer(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(e!=null){const t=getStatic(this.constructor,"getNetwork");try{return t(BigNumber.from(e).toNumber())}catch(t){return logger$f.throwError("could not detect network",Logger.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return logger$f.throwError("could not detect network",Logger.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(e){return new JsonRpcSigner(_constructorGuard,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((e=>e.map((e=>this.formatter.address(e)))))}send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:deepCopy(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e]){return this._cache[e]}const i=fetchJson(this.connection,JSON.stringify(r),getResult$1).then((e=>{this.emit("debug",{action:"response",request:r,response:e,provider:this});return e}),(e=>{this.emit("debug",{action:"response",error:e,request:r,provider:this});throw e}));if(n){this._cache[e]=i;setTimeout((()=>{this._cache[e]=null}),0)}return i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[getLowerCase(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[getLowerCase(t.address),t.blockTag]];case"getCode":return["eth_getCode",[getLowerCase(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[getLowerCase(t.address),hexZeroPad(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":if(t.blockTag){return["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]}else if(t.blockHash){return["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]}return null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":{const e=getStatic(this.constructor,"hexlifyTransaction");return["eth_call",[e(t.transaction,{from:true}),t.blockTag]]}case"estimateGas":{const e=getStatic(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[e(t.transaction,{from:true})]]}case"getLogs":if(t.filter&&t.filter.address!=null){t.filter.address=getLowerCase(t.filter.address)}return["eth_getLogs",[t.filter]]}return null}perform(e,t){return __awaiter$5(this,void 0,void 0,(function*(){if(e==="call"||e==="estimateGas"){const e=t.transaction;if(e&&e.type!=null&&BigNumber.from(e.type).isZero()){if(e.maxFeePerGas==null&&e.maxPriorityFeePerGas==null){const r=yield this.getFeeData();if(r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){t=shallowCopy(t);t.transaction=shallowCopy(e);delete t.transaction.type}}}}const r=this.prepareRequest(e,t);if(r==null){logger$f.throwError(e+" not implemented",Logger.errors.NOT_IMPLEMENTED,{operation:e})}try{return yield this.send(r[0],r[1])}catch(r){return checkError$1(e,r,t)}}))}_startEvent(e){if(e.tag==="pending"){this._startPending()}super._startEvent(e)}_startPending(){if(this._pendingFilter!=null){return}const e=this;const t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t;t.then((function(r){function n(){e.send("eth_getFilterChanges",[r]).then((function(r){if(e._pendingFilter!=t){return null}let n=Promise.resolve();r.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending";n=n.then((function(){return e.getTransaction(t).then((function(t){e.emit("pending",t);return null}))}))}));return n.then((function(){return timer(1e3)}))})).then((function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[r]);return}setTimeout((function(){n()}),0);return null})).catch((e=>{}))}n();return r})).catch((e=>{}))}_stopEvent(e){if(e.tag==="pending"&&this.listenerCount("pending")===0){this._pendingFilter=null}super._stopEvent(e)}static hexlifyTransaction(e,t){const r=shallowCopy(allowedTransactionKeys);if(t){for(const e in t){if(t[e]){r[e]=true}}}checkProperties(e,r);const n={};["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(t){if(e[t]==null){return}const r=hexValue(BigNumber.from(e[t]));if(t==="gasLimit"){t="gas"}n[t]=r}));["from","to","data"].forEach((function(t){if(e[t]==null){return}n[t]=hexlify(e[t])}));if(e.accessList){n["accessList"]=accessListify(e.accessList)}return n}}let WS=null;try{WS=WebSocket;if(WS==null){throw new Error("inject please")}}catch(e){const t=new Logger(version$3);WS=function(){t.throwError("WebSockets not supported in this environment",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var __awaiter$4=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$e=new Logger(version$3);let NextId=1;class WebSocketProvider extends JsonRpcProvider{constructor(e,t){if(t==="any"){logger$e.throwError("WebSocketProvider does not support 'any' network yet",Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"})}if(typeof e==="string"){super(e,t)}else{super("_websocket",t)}this._pollingInterval=-1;this._wsReady=false;if(typeof e==="string"){defineReadOnly(this,"_websocket",new WS(this.connection.url))}else{defineReadOnly(this,"_websocket",e)}defineReadOnly(this,"_requests",{});defineReadOnly(this,"_subs",{});defineReadOnly(this,"_subIds",{});defineReadOnly(this,"_detectNetwork",super.detectNetwork());this.websocket.onopen=()=>{this._wsReady=true;Object.keys(this._requests).forEach((e=>{this.websocket.send(this._requests[e].payload)}))};this.websocket.onmessage=e=>{const t=e.data;const r=JSON.parse(t);if(r.id!=null){const e=String(r.id);const n=this._requests[e];delete this._requests[e];if(r.result!==undefined){n.callback(null,r.result);this.emit("debug",{action:"response",request:JSON.parse(n.payload),response:r.result,provider:this})}else{let e=null;if(r.error){e=new Error(r.error.message||"unknown error");defineReadOnly(e,"code",r.error.code||null);defineReadOnly(e,"response",t)}else{e=new Error("unknown error")}n.callback(e,undefined);this.emit("debug",{action:"response",error:e,request:JSON.parse(n.payload),provider:this})}}else if(r.method==="eth_subscription"){const e=this._subs[r.params.subscription];if(e){e.processFunc(r.params.result)}}else{console.warn("this should not happen")}};const r=setInterval((()=>{this.emit("poll")}),1e3);if(r.unref){r.unref()}}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){logger$e.throwError("cannot reset events block on WebSocketProvider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){logger$e.throwError("cannot set polling interval on WebSocketProvider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return __awaiter$4(this,void 0,void 0,(function*(){return null}))}set polling(e){if(!e){return}logger$e.throwError("cannot set polling on WebSocketProvider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const r=NextId++;return new Promise(((n,i)=>{function s(e,t){if(e){return i(e)}return n(t)}const f=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(f),provider:this});this._requests[String(r)]={callback:s,payload:f};if(this._wsReady){this.websocket.send(f)}}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return __awaiter$4(this,void 0,void 0,(function*(){let n=this._subIds[e];if(n==null){n=Promise.all(t).then((e=>this.send("eth_subscribe",e)));this._subIds[e]=n}const i=yield n;this._subs[i]={tag:e,processFunc:r}}))}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],(e=>{const t=BigNumber.from(e.number).toNumber();this._emitted.block=t;this.emit("block",t)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(e=>{this.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(t=>{if(t.removed==null){t.removed=false}this.emit(e.filter,this.formatter.filterLog(t))}));break;case"tx":{const t=e=>{const t=e.hash;this.getTransactionReceipt(t).then((e=>{if(!e){return}this.emit(t,e)}))};t(e);this._subscribe("tx",["newHeads"],(e=>{this._events.filter((e=>e.type==="tx")).forEach(t)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let t=e.tag;if(e.type==="tx"){if(this._events.filter((e=>e.type==="tx")).length){return}t="tx"}else if(this.listenerCount(e.event)){return}const r=this._subIds[t];if(!r){return}delete this._subIds[t];r.then((e=>{if(!this._subs[e]){return}delete this._subs[e];this.send("eth_unsubscribe",[e])}))}destroy(){return __awaiter$4(this,void 0,void 0,(function*(){if(this.websocket.readyState===WS.CONNECTING){yield new Promise((e=>{this.websocket.onopen=function(){e(true)};this.websocket.onerror=function(){e(false)}}))}this.websocket.close(1e3)}))}}var __awaiter$3=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$d=new Logger(version$3);class StaticJsonRpcProvider extends JsonRpcProvider{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return __awaiter$3(this,void 0,void 0,(function*(){let t=this.network;if(t==null){t=yield e.detectNetwork.call(this);if(!t){logger$d.throwError("no network detected",Logger.errors.UNKNOWN_ERROR,{})}if(this._network==null){defineReadOnly(this,"_network",t);this.emit("network",t,null)}}return t}))}}class UrlJsonRpcProvider extends StaticJsonRpcProvider{constructor(e,t){logger$d.checkAbstract(new.target,UrlJsonRpcProvider);e=getStatic(new.target,"getNetwork")(e);t=getStatic(new.target,"getApiKey")(t);const r=getStatic(new.target,"getUrl")(e,t);super(r,e);if(typeof t==="string"){defineReadOnly(this,"apiKey",t)}else if(t!=null){Object.keys(t).forEach((e=>{defineReadOnly(this,e,t[e])}))}}_startPending(){logger$d.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return false}getSigner(e){return logger$d.throwError("API provider does not support signing",Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return logger$d.throwError("not implemented; sub-classes must override getUrl",Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const logger$c=new Logger(version$3);const defaultApiKey$2="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class AlchemyWebSocketProvider extends WebSocketProvider{constructor(e,t){const r=new AlchemyProvider(e,t);const n=r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(n,r.network);defineReadOnly(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===defaultApiKey$2}}class AlchemyProvider extends UrlJsonRpcProvider{static getWebSocketProvider(e,t){return new AlchemyWebSocketProvider(e,t)}static getApiKey(e){if(e==null){return defaultApiKey$2}if(e&&typeof e!=="string"){logger$c.throwArgumentError("invalid apiKey","apiKey",e)}return e}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.g.alchemy.com/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":r="arb-goerli.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":r="opt-goerli.g.alchemy.com/v2/";break;default:logger$c.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:true,url:"https:/"+"/"+r+t,throttleCallback:(e,r)=>{if(t===defaultApiKey$2){showThrottleMessage()}return Promise.resolve(true)}}}isCommunityResource(){return this.apiKey===defaultApiKey$2}}const logger$b=new Logger(version$3);const defaultApiKey$1="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function getHost(e){switch(e){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return logger$b.throwArgumentError("unsupported network","name",e)}class AnkrProvider extends UrlJsonRpcProvider{isCommunityResource(){return this.apiKey===defaultApiKey$1}static getApiKey(e){if(e==null){return defaultApiKey$1}return e}static getUrl(e,t){if(t==null){t=defaultApiKey$1}const r={allowGzip:true,url:"https://"+getHost(e.name)+t,throttleCallback:(e,r)=>{if(t.apiKey===defaultApiKey$1){showThrottleMessage()}return Promise.resolve(true)}};if(t.projectSecret!=null){r.user="";r.password=t.projectSecret}return r}}var __awaiter$2=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$a=new Logger(version$3);class CloudflareProvider extends UrlJsonRpcProvider{static getApiKey(e){if(e!=null){logger$a.throwArgumentError("apiKey not supported for cloudflare","apiKey",e)}return null}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="https://cloudflare-eth.com/";break;default:logger$a.throwArgumentError("unsupported network","network",arguments[0])}return r}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return __awaiter$2(this,void 0,void 0,(function*(){if(e==="getBlockNumber"){const e=yield r.perform.call(this,"getBlock",{blockTag:"latest"});return e.number}return r.perform.call(this,e,t)}))}}var __awaiter$1=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$9=new Logger(version$3);function getTransactionPostData(e){const t={};for(let r in e){if(e[r]==null){continue}let n=e[r];if(r==="type"&&n===0){continue}if({type:true,gasLimit:true,gasPrice:true,maxFeePerGs:true,maxPriorityFeePerGas:true,nonce:true,value:true}[r]){n=hexValue(hexlify(n))}else if(r==="accessList"){n="["+accessListify(n).map((e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`)).join(",")+"]"}else{n=hexlify(n)}t[r]=n}return t}function getResult(e){if(e.status==0&&(e.message==="No records found"||e.message==="No transactions found")){return e.result}if(e.status!=1||typeof e.message!=="string"||!e.message.match(/^OK/)){const t=new Error("invalid response");t.result=JSON.stringify(e);if((e.result||"").toLowerCase().indexOf("rate limit")>=0){t.throttleRetry=true}throw t}return e.result}function getJsonResult(e){if(e&&e.status==0&&e.message=="NOTOK"&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){const t=new Error("throttled response");t.result=JSON.stringify(e);t.throttleRetry=true;throw t}if(e.jsonrpc!="2.0"){const t=new Error("invalid response");t.result=JSON.stringify(e);throw t}if(e.error){const t=new Error(e.error.message||"unknown error");if(e.error.code){t.code=e.error.code}if(e.error.data){t.data=e.error.data}throw t}return e.result}function checkLogTag(e){if(e==="pending"){throw new Error("pending not supported")}if(e==="latest"){return e}return parseInt(e.substring(2),16)}function checkError(e,t,r){if(e==="call"&&t.code===Logger.errors.SERVER_ERROR){const e=t.error;if(e&&(e.message.match(/reverted/i)||e.message.match(/VM execution error/i))){let r=e.data;if(r){r="0x"+r.replace(/^.*0x/i,"")}if(isHexString(r)){return r}logger$9.throwError("missing revert data in call exception",Logger.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let n=t.message;if(t.code===Logger.errors.SERVER_ERROR){if(t.error&&typeof t.error.message==="string"){n=t.error.message}else if(typeof t.body==="string"){n=t.body}else if(typeof t.responseText==="string"){n=t.responseText}}n=(n||"").toLowerCase();if(n.match(/insufficient funds/)){logger$9.throwError("insufficient funds for intrinsic transaction cost",Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r})}if(n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)){logger$9.throwError("nonce has already been used",Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r})}if(n.match(/another transaction with same nonce/)){logger$9.throwError("replacement fee too low",Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r})}if(n.match(/execution failed due to an exception|execution reverted/)){logger$9.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r})}throw t}class EtherscanProvider extends BaseProvider{constructor(e,t){super(e);defineReadOnly(this,"baseUrl",this.getBaseUrl());defineReadOnly(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return logger$9.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const r=Object.keys(t).reduce(((e,r)=>{const n=t[r];if(n!=null){e+=`&${r}=${n}`}return e}),"");const n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${n}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){t.module=e;t.apikey=this.apiKey;return t}fetch(e,t,r){return __awaiter$1(this,void 0,void 0,(function*(){const n=r?this.getPostUrl():this.getUrl(e,t);const i=r?this.getPostData(e,t):null;const s=e==="proxy"?getJsonResult:getResult;this.emit("debug",{action:"request",request:n,provider:this});const f={url:n,throttleSlotInterval:1e3,throttleCallback:(e,t)=>{if(this.isCommunityResource()){showThrottleMessage()}return Promise.resolve(true)}};let a=null;if(i){f.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"};a=Object.keys(i).map((e=>`${e}=${i[e]}`)).join("&")}const o=yield fetchJson(f,a,s||getJsonResult);this.emit("debug",{action:"response",request:n,response:deepCopy(o),provider:this});return o}))}detectNetwork(){return __awaiter$1(this,void 0,void 0,(function*(){return this.network}))}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return __awaiter$1(this,void 0,void 0,(function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},true).catch((e=>checkError("sendTransaction",e,t.signedTransaction)));case"getBlock":if(t.blockTag){return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"})}throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if(t.blockTag!=="latest"){throw new Error("EtherscanProvider does not support blockTag for call")}const e=getTransactionPostData(t.transaction);e.module="proxy";e.action="eth_call";try{return yield this.fetch("proxy",e,true)}catch(e){return checkError("call",e,t.transaction)}}case"estimateGas":{const e=getTransactionPostData(t.transaction);e.module="proxy";e.action="eth_estimateGas";try{return yield this.fetch("proxy",e,true)}catch(e){return checkError("estimateGas",e,t.transaction)}}case"getLogs":{const e={action:"getLogs"};if(t.filter.fromBlock){e.fromBlock=checkLogTag(t.filter.fromBlock)}if(t.filter.toBlock){e.toBlock=checkLogTag(t.filter.toBlock)}if(t.filter.address){e.address=t.filter.address}if(t.filter.topics&&t.filter.topics.length>0){if(t.filter.topics.length>1){logger$9.throwError("unsupported topic count",Logger.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics})}if(t.filter.topics.length===1){const r=t.filter.topics[0];if(typeof r!=="string"||r.length!==66){logger$9.throwError("unsupported topic format",Logger.errors.UNSUPPORTED_OPERATION,{topic0:r})}e.topic0=r}}const r=yield this.fetch("logs",e);let n={};for(let e=0;e<r.length;e++){const t=r[e];if(t.blockHash!=null){continue}if(n[t.blockNumber]==null){const e=yield this.getBlock(t.blockNumber);if(e){n[t.blockNumber]=e.hash}}t.blockHash=n[t.blockNumber]}return r}case"getEtherPrice":if(this.network.name!=="homestead"){return 0}return parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,t)}))}getHistory(e,t,r){return __awaiter$1(this,void 0,void 0,(function*(){const n={action:"txlist",address:yield this.resolveName(e),startblock:t==null?0:t,endblock:r==null?99999999:r,sort:"asc"};const i=yield this.fetch("account",n);return i.map((e=>{["contractAddress","to"].forEach((function(t){if(e[t]==""){delete e[t]}}));if(e.creates==null&&e.contractAddress!=null){e.creates=e.contractAddress}const t=this.formatter.transactionResponse(e);if(e.timeStamp){t.timestamp=parseInt(e.timeStamp)}return t}))}))}isCommunityResource(){return this.apiKey==null}}var __awaiter=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function f(e){try{o(n.next(e))}catch(e){s(e)}}function a(e){try{o(n["throw"](e))}catch(e){s(e)}}function o(e){e.done?r(e.value):i(e.value).then(f,a)}o((n=n.apply(e,t||[])).next())}))};const logger$8=new Logger(version$3);function now(){return(new Date).getTime()}function checkNetworks(e){let t=null;for(let r=0;r<e.length;r++){const n=e[r];if(n==null){return null}if(t){if(!(t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||t.ensAddress==null&&n.ensAddress==null))){logger$8.throwArgumentError("provider mismatch","networks",e)}}else{t=n}}return t}function median(e,t){e=e.slice().sort();const r=Math.floor(e.length/2);if(e.length%2){return e[r]}const n=e[r-1],i=e[r];if(t!=null&&Math.abs(n-i)>t){return null}return(n+i)/2}function serialize(e){if(e===null){return"null"}else if(typeof e==="number"||typeof e==="boolean"){return JSON.stringify(e)}else if(typeof e==="string"){return e}else if(BigNumber.isBigNumber(e)){return e.toString()}else if(Array.isArray(e)){return JSON.stringify(e.map((e=>serialize(e))))}else if(typeof e==="object"){const t=Object.keys(e);t.sort();return"{"+t.map((t=>{let r=e[t];if(typeof r==="function"){r="[function]"}else{r=serialize(r)}return JSON.stringify(t)+":"+r})).join(",")+"}"}throw new Error("unknown value type: "+typeof e)}let nextRid=1;function stall(e){let t=null;let r=null;let n=new Promise((n=>{t=function(){if(r){clearTimeout(r);r=null}n()};r=setTimeout(t,e)}));const i=e=>{n=n.then(e);return n};function s(){return n}return{cancel:t,getPromise:s,wait:i}}const ForwardErrors=[Logger.errors.CALL_EXCEPTION,Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED,Logger.errors.UNPREDICTABLE_GAS_LIMIT];const ForwardProperties=["address","args","errorArgs","errorSignature","method","transaction"];function exposeDebugConfig(e,t){const r={weight:e.weight};Object.defineProperty(r,"provider",{get:()=>e.provider});if(e.start){r.start=e.start}if(t){r.duration=t-e.start}if(e.done){if(e.error){r.error=e.error}else{r.result=e.result||null}}return r}function normalizedTally(e,t){return function(r){const n={};r.forEach((t=>{const r=e(t.result);if(!n[r]){n[r]={count:0,result:t.result}}n[r].count++}));const i=Object.keys(n);for(let e=0;e<i.length;e++){const r=n[i[e]];if(r.count>=t){return r.result}}return undefined}}function getProcessFunc(e,t,r){let n=serialize;switch(t){case"getBlockNumber":return function(t){const r=t.map((e=>e.result));let n=median(t.map((e=>e.result)),2);if(n==null){return undefined}n=Math.ceil(n);if(r.indexOf(n+1)>=0){n++}if(n>=e._highestBlockNumber){e._highestBlockNumber=n}return e._highestBlockNumber};case"getGasPrice":return function(e){const t=e.map((e=>e.result));t.sort();return t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return median(e.map((e=>e.result)))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){if(e==null){return null}e=shallowCopy(e);e.confirmations=-1;return serialize(e)};break;case"getBlock":if(r.includeTransactions){n=function(e){if(e==null){return null}e=shallowCopy(e);e.transactions=e.transactions.map((e=>{e=shallowCopy(e);e.confirmations=-1;return e}));return serialize(e)}}else{n=function(e){if(e==null){return null}return serialize(e)}}break;default:throw new Error("unknown method: "+t)}return normalizedTally(n,e.quorum)}function waitForSync(e,t){return __awaiter(this,void 0,void 0,(function*(){const r=e.provider;if(r.blockNumber!=null&&r.blockNumber>=t||t===-1){return r}return poll((()=>new Promise(((n,i)=>{setTimeout((function(){if(r.blockNumber>=t){return n(r)}if(e.cancelled){return n(null)}return n(undefined)}),0)}))),{oncePoll:r})}))}function getRunner(e,t,r,n){return __awaiter(this,void 0,void 0,(function*(){let i=e.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice){return i.getEtherPrice()}break;case"getBalance":case"getTransactionCount":case"getCode":if(n.blockTag&&isHexString(n.blockTag)){i=yield waitForSync(e,t)}return i[r](n.address,n.blockTag||"latest");case"getStorageAt":if(n.blockTag&&isHexString(n.blockTag)){i=yield waitForSync(e,t)}return i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":if(n.blockTag&&isHexString(n.blockTag)){i=yield waitForSync(e,t)}return i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":if(n.blockTag&&isHexString(n.blockTag)){i=yield waitForSync(e,t)}if(r==="call"&&n.blockTag){return i[r](n.transaction,n.blockTag)}return i[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](n.transactionHash);case"getLogs":{let r=n.filter;if(r.fromBlock&&isHexString(r.fromBlock)||r.toBlock&&isHexString(r.toBlock)){i=yield waitForSync(e,t)}return i.getLogs(r)}}return logger$8.throwError("unknown method error",Logger.errors.UNKNOWN_ERROR,{method:r,params:n})}))}class FallbackProvider extends BaseProvider{constructor(e,t){if(e.length===0){logger$8.throwArgumentError("missing providers","providers",e)}const r=e.map(((e,t)=>{if(Provider.isProvider(e)){const t=isCommunityResource(e)?2e3:750;const r=1;return Object.freeze({provider:e,weight:1,stallTimeout:t,priority:r})}const r=shallowCopy(e);if(r.priority==null){r.priority=1}if(r.stallTimeout==null){r.stallTimeout=isCommunityResource(e)?2e3:750}if(r.weight==null){r.weight=1}const n=r.weight;if(n%1||n>512||n<1){logger$8.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${t}].weight`,n)}return Object.freeze(r)}));const n=r.reduce(((e,t)=>e+t.weight),0);if(t==null){t=n/2}else if(t>n){logger$8.throwArgumentError("quorum will always fail; larger than total weight","quorum",t)}let i=checkNetworks(r.map((e=>e.provider.network)));if(i==null){i=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then(e,t)}),0)}))}super(i);defineReadOnly(this,"providerConfigs",Object.freeze(r));defineReadOnly(this,"quorum",t);this._highestBlockNumber=-1}detectNetwork(){return __awaiter(this,void 0,void 0,(function*(){const e=yield Promise.all(this.providerConfigs.map((e=>e.provider.getNetwork())));return checkNetworks(e)}))}perform(e,t){return __awaiter(this,void 0,void 0,(function*(){if(e==="sendTransaction"){const e=yield Promise.all(this.providerConfigs.map((e=>e.provider.sendTransaction(t.signedTransaction).then((e=>e.hash),(e=>e)))));for(let t=0;t<e.length;t++){const r=e[t];if(typeof r==="string"){return r}}throw e[0]}if(this._highestBlockNumber===-1&&e!=="getBlockNumber"){yield this.getBlockNumber()}const r=getProcessFunc(this,e,t);const n=shuffled(this.providerConfigs.map(shallowCopy));n.sort(((e,t)=>e.priority-t.priority));const i=this._highestBlockNumber;let s=0;let f=true;while(true){const a=now();let o=n.filter((e=>e.runner&&a-e.start<e.stallTimeout)).reduce(((e,t)=>e+t.weight),0);while(o<this.quorum&&s<n.length){const r=n[s++];const f=nextRid++;r.start=now();r.staller=stall(r.stallTimeout);r.staller.wait((()=>{r.staller=null}));r.runner=getRunner(r,i,e,t).then((n=>{r.done=true;r.result=n;if(this.listenerCount("debug")){this.emit("debug",{action:"request",rid:f,backend:exposeDebugConfig(r,now()),request:{method:e,params:deepCopy(t)},provider:this})}}),(n=>{r.done=true;r.error=n;if(this.listenerCount("debug")){this.emit("debug",{action:"request",rid:f,backend:exposeDebugConfig(r,now()),request:{method:e,params:deepCopy(t)},provider:this})}}));if(this.listenerCount("debug")){this.emit("debug",{action:"request",rid:f,backend:exposeDebugConfig(r,null),request:{method:e,params:deepCopy(t)},provider:this})}o+=r.weight}const c=[];n.forEach((e=>{if(e.done||!e.runner){return}c.push(e.runner);if(e.staller){c.push(e.staller.getPromise())}}));if(c.length){yield Promise.race(c)}const u=n.filter((e=>e.done&&e.error==null));if(u.length>=this.quorum){const e=r(u);if(e!==undefined){n.forEach((e=>{if(e.staller){e.staller.cancel()}e.cancelled=true}));return e}if(!f){yield stall(100).getPromise()}f=false}const l=n.reduce(((e,t)=>{if(!t.done||t.error==null){return e}const r=t.error.code;if(ForwardErrors.indexOf(r)>=0){if(!e[r]){e[r]={error:t.error,weight:0}}e[r].weight+=t.weight}return e}),{});Object.keys(l).forEach((e=>{const t=l[e];if(t.weight<this.quorum){return}n.forEach((e=>{if(e.staller){e.staller.cancel()}e.cancelled=true}));const r=t.error;const i={};ForwardProperties.forEach((e=>{if(r[e]==null){return}i[e]=r[e]}));logger$8.throwError(r.reason||r.message,e,i)}));if(n.filter((e=>!e.done)).length===0){break}}n.forEach((e=>{if(e.staller){e.staller.cancel()}e.cancelled=true}));return logger$8.throwError("failed to meet quorum",Logger.errors.SERVER_ERROR,{method:e,params:t,results:n.map((e=>exposeDebugConfig(e))),provider:this})}))}}const IpcProvider=null;const logger$7=new Logger(version$3);const defaultProjectId="84842078b09946638c03157f83405213";class InfuraWebSocketProvider extends WebSocketProvider{constructor(e,t){const r=new InfuraProvider(e,t);const n=r.connection;if(n.password){logger$7.throwError("INFURA WebSocket project secrets unsupported",Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"})}const i=n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(i,e);defineReadOnly(this,"apiKey",r.projectId);defineReadOnly(this,"projectId",r.projectId);defineReadOnly(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===defaultProjectId}}class InfuraProvider extends UrlJsonRpcProvider{static getWebSocketProvider(e,t){return new InfuraWebSocketProvider(e,t)}static getApiKey(e){const t={apiKey:defaultProjectId,projectId:defaultProjectId,projectSecret:null};if(e==null){return t}if(typeof e==="string"){t.projectId=e}else if(e.projectSecret!=null){logger$7.assertArgument(typeof e.projectId==="string","projectSecret requires a projectId","projectId",e.projectId);logger$7.assertArgument(typeof e.projectSecret==="string","invalid projectSecret","projectSecret","[REDACTED]");t.projectId=e.projectId;t.projectSecret=e.projectSecret}else if(e.projectId){t.projectId=e.projectId}t.apiKey=t.projectId;return t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"goerli":r="goerli.infura.io";break;case"sepolia":r="sepolia.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-goerli":r="optimism-goerli.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":r="arbitrum-goerli.infura.io";break;default:logger$7.throwError("unsupported network",Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n={allowGzip:true,url:"https:/"+"/"+r+"/v3/"+t.projectId,throttleCallback:(e,r)=>{if(t.projectId===defaultProjectId){showThrottleMessage()}return Promise.resolve(true)}};if(t.projectSecret!=null){n.user="";n.password=t.projectSecret}return n}isCommunityResource(){return this.projectId===defaultProjectId}}class JsonRpcBatchProvider extends JsonRpcProvider{send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};if(this._pendingBatch==null){this._pendingBatch=[]}const n={request:r,resolve:null,reject:null};const i=new Promise(((e,t)=>{n.resolve=e;n.reject=t}));this._pendingBatch.push(n);if(!this._pendingBatchAggregator){this._pendingBatchAggregator=setTimeout((()=>{const e=this._pendingBatch;this._pendingBatch=null;this._pendingBatchAggregator=null;const t=e.map((e=>e.request));this.emit("debug",{action:"requestBatch",request:deepCopy(t),provider:this});return fetchJson(this.connection,JSON.stringify(t)).then((r=>{this.emit("debug",{action:"response",request:t,response:r,provider:this});e.forEach(((e,t)=>{const n=r[t];if(n.error){const t=new Error(n.error.message);t.code=n.error.code;t.data=n.error.data;e.reject(t)}else{e.resolve(n.result)}}))}),(r=>{this.emit("debug",{action:"response",error:r,request:t,provider:this});e.forEach((e=>{e.reject(r)}))}))}),10)}return i}}const logger$6=new Logger(version$3);const defaultApiKey="ETHERS_JS_SHARED";class NodesmithProvider extends UrlJsonRpcProvider{static getApiKey(e){if(e&&typeof e!=="string"){logger$6.throwArgumentError("invalid apiKey","apiKey",e)}return e||defaultApiKey}static getUrl(e,t){logger$6.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:logger$6.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}const logger$5=new Logger(version$3);const defaultApplicationId="62e1ad51b37b8e00394bda3b";class PocketProvider extends UrlJsonRpcProvider{static getApiKey(e){const t={applicationId:null,loadBalancer:true,applicationSecretKey:null};if(e==null){t.applicationId=defaultApplicationId}else if(typeof e==="string"){t.applicationId=e}else if(e.applicationSecretKey!=null){t.applicationId=e.applicationId;t.applicationSecretKey=e.applicationSecretKey}else if(e.applicationId){t.applicationId=e.applicationId}else{logger$5.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e)}return t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:logger$5.throwError("unsupported network",Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n=`https://${r}/v1/lb/${t.applicationId}`;const i={headers:{},url:n};if(t.applicationSecretKey!=null){i.user="";i.password=t.applicationSecretKey}return i}isCommunityResource(){return this.applicationId===defaultApplicationId}}const logger$4=new Logger(version$3);let _nextId=1;function buildWeb3LegacyFetcher(e,t){const r="Web3LegacyFetcher";return function(e,n){const i={method:e,params:n,id:_nextId++,jsonrpc:"2.0"};return new Promise(((e,n)=>{this.emit("debug",{action:"request",fetcher:r,request:deepCopy(i),provider:this});t(i,((t,s)=>{if(t){this.emit("debug",{action:"response",fetcher:r,error:t,request:i,provider:this});return n(t)}this.emit("debug",{action:"response",fetcher:r,request:i,response:s,provider:this});if(s.error){const e=new Error(s.error.message);e.code=s.error.code;e.data=s.error.data;return n(e)}e(s.result)}))}))}}function buildEip1193Fetcher(e){return function(t,r){if(r==null){r=[]}const n={method:t,params:r};this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:deepCopy(n),provider:this});return e.request(n).then((e=>{this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:e,provider:this});return e}),(e=>{this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:e,provider:this});throw e}))}}class Web3Provider extends JsonRpcProvider{constructor(e,t){if(e==null){logger$4.throwArgumentError("missing provider","provider",e)}let r=null;let n=null;let i=null;if(typeof e==="function"){r="unknown:";n=e}else{r=e.host||e.path||"";if(!r&&e.isMetaMask){r="metamask"}i=e;if(e.request){if(r===""){r="eip-1193:"}n=buildEip1193Fetcher(e)}else if(e.sendAsync){n=buildWeb3LegacyFetcher(e,e.sendAsync.bind(e))}else if(e.send){n=buildWeb3LegacyFetcher(e,e.send.bind(e))}else{logger$4.throwArgumentError("unsupported provider","provider",e)}if(!r){r="unknown:"}}super(r,t);defineReadOnly(this,"jsonRpcFetchFunc",n);defineReadOnly(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const logger$3=new Logger(version$3);function getDefaultProvider(e,t){if(e==null){e="homestead"}if(typeof e==="string"){const t=e.match(/^(ws|http)s?:/i);if(t){switch(t[1].toLowerCase()){case"http":case"https":return new JsonRpcProvider(e);case"ws":case"wss":return new WebSocketProvider(e);default:logger$3.throwArgumentError("unsupported URL scheme","network",e)}}}const r=getNetwork(e);if(!r||!r._defaultProvider){logger$3.throwError("unsupported getDefaultProvider network",Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e})}return r._defaultProvider({FallbackProvider,AlchemyProvider,AnkrProvider,CloudflareProvider,EtherscanProvider,InfuraProvider,JsonRpcProvider,NodesmithProvider,PocketProvider,Web3Provider,IpcProvider},t)}const index=Object.freeze({__proto__:null,Provider,BaseProvider,Resolver,UrlJsonRpcProvider,FallbackProvider,AlchemyProvider,AlchemyWebSocketProvider,AnkrProvider,CloudflareProvider,EtherscanProvider,InfuraProvider,InfuraWebSocketProvider,JsonRpcProvider,JsonRpcBatchProvider,NodesmithProvider,PocketProvider,StaticJsonRpcProvider,Web3Provider,WebSocketProvider,IpcProvider,JsonRpcSigner,getDefaultProvider,getNetwork,isCommunityResource,isCommunityResourcable,showThrottleMessage,Formatter});const version$2="solidity/5.7.0";const regexBytes=new RegExp("^bytes([0-9]+)$");const regexNumber=new RegExp("^(u?int)([0-9]*)$");const regexArray=new RegExp("^(.*)\\[([0-9]*)\\]$");const Zeros="0000000000000000000000000000000000000000000000000000000000000000";const logger$2=new Logger(version$2);function _pack(e,t,r){switch(e){case"address":if(r){return zeroPad(t,32)}return arrayify$1(t);case"string":return toUtf8Bytes(t);case"bytes":return arrayify$1(t);case"bool":t=t?"0x01":"0x00";if(r){return zeroPad(t,32)}return arrayify$1(t)}let n=e.match(regexNumber);if(n){let i=parseInt(n[2]||"256");if(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256){logger$2.throwArgumentError("invalid number type","type",e)}if(r){i=256}t=BigNumber.from(t).toTwos(i);return zeroPad(t,i/8)}n=e.match(regexBytes);if(n){const i=parseInt(n[1]);if(String(i)!==n[1]||i===0||i>32){logger$2.throwArgumentError("invalid bytes type","type",e)}if(arrayify$1(t).byteLength!==i){logger$2.throwArgumentError(`invalid value for ${e}`,"value",t)}if(r){return arrayify$1((t+Zeros).substring(0,66))}return t}n=e.match(regexArray);if(n&&Array.isArray(t)){const r=n[1];const i=parseInt(n[2]||String(t.length));if(i!=t.length){logger$2.throwArgumentError(`invalid array length for ${e}`,"value",t)}const s=[];t.forEach((function(e){s.push(_pack(r,e,true))}));return concat$1(s)}return logger$2.throwArgumentError("invalid type","type",e)}function pack(e,t){if(e.length!=t.length){logger$2.throwArgumentError("wrong number of values; expected ${ types.length }","values",t)}const r=[];e.forEach((function(e,n){r.push(_pack(e,t[n]))}));return hexlify(concat$1(r))}function keccak256(e,t){return keccak256$1(pack(e,t))}function sha256(e,t){return sha256$1(pack(e,t))}const version$1="units/5.7.0";const logger$1=new Logger(version$1);const names=["wei","kwei","mwei","gwei","szabo","finney","ether"];function commify(e){const t=String(e).split(".");if(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||e==="."||e==="-."){logger$1.throwArgumentError("invalid value","value",e)}let r=t[0];let n="";if(r.substring(0,1)==="-"){n="-";r=r.substring(1)}while(r.substring(0,1)==="0"){r=r.substring(1)}if(r===""){r="0"}let i="";if(t.length===2){i="."+(t[1]||"0")}while(i.length>2&&i[i.length-1]==="0"){i=i.substring(0,i.length-1)}const s=[];while(r.length){if(r.length<=3){s.unshift(r);break}else{const e=r.length-3;s.unshift(r.substring(e));r=r.substring(0,e)}}return n+s.join(",")+i}function formatUnits(e,t){if(typeof t==="string"){const e=names.indexOf(t);if(e!==-1){t=3*e}}return formatFixed(e,t!=null?t:18)}function parseUnits(e,t){if(typeof e!=="string"){logger$1.throwArgumentError("value must be a string","value",e)}if(typeof t==="string"){const e=names.indexOf(t);if(e!==-1){t=3*e}}return parseFixed(e,t!=null?t:18)}function formatEther(e){return formatUnits(e,18)}function parseEther(e){return parseUnits(e,18)}const utils=Object.freeze({__proto__:null,AbiCoder,defaultAbiCoder,Fragment,ConstructorFragment,ErrorFragment,EventFragment,FunctionFragment,ParamType,FormatTypes,checkResultErrors,Logger,RLP:index$3,_fetchData,fetchJson,poll,checkProperties,deepCopy,defineReadOnly,getStatic,resolveProperties,shallowCopy,arrayify:arrayify$1,concat:concat$1,stripZeros,zeroPad,isBytes,isBytesLike,defaultPath,HDNode,SigningKey,Interface,LogDescription,TransactionDescription,base58:Base58,base64:index$1,hexlify,isHexString,hexConcat,hexStripZeros,hexValue,hexZeroPad,hexDataLength,hexDataSlice,nameprep,_toEscapedUtf8String,toUtf8Bytes,toUtf8CodePoints,toUtf8String,Utf8ErrorFuncs,formatBytes32String,parseBytes32String,dnsEncode,hashMessage,namehash,isValidName,id,_TypedDataEncoder:TypedDataEncoder,getAddress,getIcapAddress,getContractAddress,getCreate2Address,isAddress,formatEther,parseEther,formatUnits,parseUnits,commify,computeHmac,keccak256:keccak256$1,ripemd160,sha256:sha256$1,sha512,randomBytes,shuffled,solidityPack:pack,solidityKeccak256:keccak256,soliditySha256:sha256,splitSignature,joinSignature,accessListify,parseTransaction:parse,serializeTransaction:serialize$1,get TransactionTypes(){return TransactionTypes},getJsonWalletAddress,computeAddress,recoverAddress,computePublicKey,recoverPublicKey,verifyMessage,verifyTypedData,getAccountPath,mnemonicToEntropy,entropyToMnemonic,isValidMnemonic,mnemonicToSeed,get SupportedAlgorithm(){return SupportedAlgorithm},get UnicodeNormalizationForm(){return UnicodeNormalizationForm},get Utf8ErrorReason(){return Utf8ErrorReason},Indexed});const version="ethers/5.7.2";const logger=new Logger(version);const ethers=Object.freeze({__proto__:null,Signer,Wallet,VoidSigner,getDefaultProvider,providers:index,BaseContract,Contract,ContractFactory,BigNumber,FixedNumber,constants:index$2,get errors(){return ErrorCode},logger,utils,wordlists,version,Wordlist});try{const e=window;if(e._ethers==null){e._ethers=ethers}}catch(e){}var SupportedWalletProviders;(function(e){e["MetaMask"]="MetaMask";e["WalletConnect"]="WalletConnect";e["WalletConnectV2"]="WalletConnectV2";e["Torus"]="Torus"})(SupportedWalletProviders||(SupportedWalletProviders={}));class Web3WalletProviderObj{constructor(e){this.walletOptions=e;this.connections={};this.walletChangeListeners=[]}setWalletSelectorCallback(e){this.selectorCallback=e}registerWalletChangeListener(e){this.walletChangeListeners.push(e)}removeWalletChangeListener(e){for(const[t,r]of this.walletChangeListeners.entries()){if(r===e){this.walletChangeListeners.slice(t,1);break}}}emitWalletChangeEvent(e){console.log("Wallet change event emitted!",e);for(const t of this.walletChangeListeners){t(e)}}isWalletConnected(){return this.getConnectedWalletData("evm").length>0}async getWallet(e=false){if(this.getConnectedWalletData("evm").length===0){if(!e)return null;return new Promise((async(e,t)=>{try{const t=await this.selectorCallback();await this.connectWith(t);e(this.getConnectedWalletData("evm")[0])}catch(e){t(e)}}))}return this.getConnectedWalletData("evm")[0]}async disconnectWallet(){await this.deleteConnections();this.emitWalletChangeEvent()}async switchWallet(){return new Promise((async(e,t)=>{try{const t=await this.selectorCallback();await this.connectWith(t);e(this.getConnectedWalletData("evm")[0])}catch(e){t(e)}}))}saveConnections(){let e={};for(let t in this.connections){let r=this.connections[t.toLowerCase()];e[t]={address:r.address,chainId:r.chainId,providerType:r.providerType,blockchain:r.blockchain}}localStorage.setItem(Web3WalletProviderObj.LOCAL_STORAGE_KEY,JSON.stringify(e))}emitSavedConnection(e){this.emitWalletChangeEvent(this.connections[e])}async deleteConnections(){var e;this.connections={};let t=localStorage.getItem(Web3WalletProviderObj.LOCAL_STORAGE_KEY);if(t){let r=JSON.parse(t);if(r){for(let t in r){let n=r[t].providerType;switch(n){case"WalletConnect":{let t=await import("./p-b1f8ace2.js");let r=await t.getWalletConnectProviderInstance(true);if((e=r===null||r===void 0?void 0:r.wc)===null||e===void 0?void 0:e._connected){r.disconnect().then((()=>{})).catch((e=>{localStorage.removeItem("walletconnect")}))}}break;case"WalletConnectV2":{let e=await import("./p-9cd186df.js");let t=await e.getWalletConnectV2ProviderInstance();if(t.session){t.disconnect().then((()=>{})).catch((e=>{localStorage.removeItem("wc@2:client:0.3//session")}))}}break}}}}localStorage.removeItem(Web3WalletProviderObj.LOCAL_STORAGE_KEY);sessionStorage.removeItem("CURRENT_USER")}async loadConnections(){let e=localStorage.getItem(Web3WalletProviderObj.LOCAL_STORAGE_KEY);if(!e)return;let t=JSON.parse(e);if(!t)return;for(let e in t){let r=t[e];try{await this.connectWith(r.providerType,true)}catch(r){delete t[e];this.saveConnections()}}}async connectWith(e,t=false){if(!e)throw new Error("Please provide a Wallet type to connect with.");if(!this[e])throw new Error("Wallet type not found");let r=await this[e](t);if(!r)throw new Error("Wallet didn't connect");this.saveConnections();this.emitWalletChangeEvent(Object.values(this.connections)[0]);return r}async signMessage(e,t){let r=this.getWalletProvider(e);let n=r.getSigner(e);return await n.signMessage(t)}getConnectionByAddress(e){return this.connections[e.toLowerCase()]}getWalletProvider(e){e=e.toLowerCase();let t=this.getConnectionByAddress(e);if(!t)throw new Error("Connection not found for address");if(!t.provider)throw new Error("Wallet provider not found for address");return t.provider}getConnectedWalletData(e){return Object.values(this.connections).filter((t=>t.blockchain===e))}registerNewWalletAddress(e,t,r,n,i){this.connections={};this.connections[e.toLowerCase()]={address:e,chainId:t,providerType:r,provider:n,blockchain:i,ethers};n.provider.on("accountsChanged",(t=>{if(Object.keys(this.connections).length===0)return;if(!t||t.length===0){this.disconnectWallet();return}if(e===t[0])return;this.connections[t[0].toLowerCase()]=this.connections[e.toLowerCase()];e=t[0].toLowerCase();this.connections[e].address=e;this.saveConnections();this.emitWalletChangeEvent(Object.values(this.connections)[0])}));n.provider.on("chainChanged",(t=>{this.registerNewWalletAddress(e,t,r,n,"evm");this.saveConnections()}));n.provider.on("disconnect",(e=>{if((e===null||e===void 0?void 0:e.message)&&e.message.indexOf("MetaMask: Disconnected from chain")>-1)return;this.disconnectWallet()}))}async registerEvmProvider(e,t){const r=await e.listAccounts();const n=(await e.detectNetwork()).chainId;if(r.length===0){throw new Error("No accounts found via wallet-connect.")}let i=r[0];this.registerNewWalletAddress(i,n,t,e,"evm");return i}async MetaMask(e){if(typeof window.ethereum!=="undefined"){await window.ethereum.enable();const e=new Web3Provider(window.ethereum,"any");return this.registerEvmProvider(e,SupportedWalletProviders.MetaMask)}else{throw new Error("MetaMask is not available. Please check the extension is supported and active.")}}async WalletConnect(e){const t=await import("./p-b1f8ace2.js");const r=await t.getWalletConnectProviderInstance(e);return new Promise(((t,n)=>{if(e){r.connector.on("display_uri",((e,t)=>{n(new Error("Connection expired"))}))}r.enable().then((()=>{const e=new Web3Provider(r,"any");t(this.registerEvmProvider(e,SupportedWalletProviders.WalletConnect))})).catch((e=>n(e)))}))}async WalletConnectV2(e){const t=await import("./p-9cd186df.js");const r=await t.getWalletConnectV2ProviderInstance();let n;r.on("display_uri",(async e=>{n=(await import("./p-6ae15d2b.js").then((function(e){return e.i}))).default;n.open(e,(()=>{}))}));r.on("session_delete",(({id:e,topic:t})=>{}));let i=this.walletOptions;return new Promise(((s,f)=>{var a,o,c,u;if(e&&!r.session){f("Not connected")}else{let e;if(r.session){e=r.enable()}else{e=r.connect({namespaces:{eip155:{methods:["eth_sendTransaction","eth_signTransaction","eth_sign","personal_sign","eth_signTypedData"],chains:(o=(a=i===null||i===void 0?void 0:i.walletConnectV2)===null||a===void 0?void 0:a.chains)!==null&&o!==void 0?o:t.WC_V2_DEFAULT_CHAINS,events:["chainChanged","accountsChanged"],rpcMap:(u=(c=i===null||i===void 0?void 0:i.walletConnectV2)===null||c===void 0?void 0:c.rpcMap)!==null&&u!==void 0?u:t.WC_DEFAULT_RPC_MAP}}})}e.then((()=>{n===null||n===void 0?void 0:n.close();const e=new Web3Provider(r,"any");s(this.registerEvmProvider(e,SupportedWalletProviders.WalletConnectV2))})).catch((e=>{n===null||n===void 0?void 0:n.close();f(e)}))}}))}async Torus(e){const t=await import("./p-65c1e530.js");const r=await t.getTorusProviderInstance();await r.init();await r.login();const n=new Web3Provider(r.provider,"any");return this.registerEvmProvider(n,SupportedWalletProviders.Torus)}}Web3WalletProviderObj.LOCAL_STORAGE_KEY="ts-wallet-connections";const Web3WalletProvider=new Web3WalletProviderObj;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign=function(){__assign=Object.assign||function e(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s))t[s]=r[s]}return t};return __assign.apply(this,arguments)};function __spreadArray(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++){if(s||!(n in t)){if(!s)s=Array.prototype.slice.call(t,0,n);s[n]=t[n]}}return e.concat(s||Array.prototype.slice.call(t))}var _global=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:typeof window!=="undefined"?window:global;var keys=Object.keys;var isArray=Array.isArray;if(typeof Promise!=="undefined"&&!_global.Promise){_global.Promise=Promise}function extend(e,t){if(typeof t!=="object")return e;keys(t).forEach((function(r){e[r]=t[r]}));return e}var getProto=Object.getPrototypeOf;var _hasOwn={}.hasOwnProperty;function hasOwn(e,t){return _hasOwn.call(e,t)}function props(e,t){if(typeof t==="function")t=t(getProto(e));(typeof Reflect==="undefined"?keys:Reflect.ownKeys)(t).forEach((function(r){setProp(e,r,t[r])}))}var defineProperty=Object.defineProperty;function setProp(e,t,r,n){defineProperty(e,t,extend(r&&hasOwn(r,"get")&&typeof r.get==="function"?{get:r.get,set:r.set,configurable:true}:{value:r,configurable:true,writable:true},n))}function derive(e){return{from:function(t){e.prototype=Object.create(t.prototype);setProp(e.prototype,"constructor",e);return{extend:props.bind(null,e.prototype)}}}}var getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;function getPropertyDescriptor(e,t){var r=getOwnPropertyDescriptor(e,t);var n;return r||(n=getProto(e))&&getPropertyDescriptor(n,t)}var _slice=[].slice;function slice(e,t,r){return _slice.call(e,t,r)}function override(e,t){return t(e)}function assert(e){if(!e)throw new Error("Assertion Failed")}function asap$1(e){if(_global.setImmediate)setImmediate(e);else setTimeout(e,0)}function arrayToObject(e,t){return e.reduce((function(e,r,n){var i=t(r,n);if(i)e[i[0]]=i[1];return e}),{})}function tryCatch(e,t,r){try{e.apply(null,r)}catch(e){t&&t(e)}}function getByKeyPath(e,t){if(hasOwn(e,t))return e[t];if(!t)return e;if(typeof t!=="string"){var r=[];for(var n=0,i=t.length;n<i;++n){var s=getByKeyPath(e,t[n]);r.push(s)}return r}var f=t.indexOf(".");if(f!==-1){var a=e[t.substr(0,f)];return a===undefined?undefined:getByKeyPath(a,t.substr(f+1))}return undefined}function setByKeyPath(e,t,r){if(!e||t===undefined)return;if("isFrozen"in Object&&Object.isFrozen(e))return;if(typeof t!=="string"&&"length"in t){assert(typeof r!=="string"&&"length"in r);for(var n=0,i=t.length;n<i;++n){setByKeyPath(e,t[n],r[n])}}else{var s=t.indexOf(".");if(s!==-1){var f=t.substr(0,s);var a=t.substr(s+1);if(a==="")if(r===undefined){if(isArray(e)&&!isNaN(parseInt(f)))e.splice(f,1);else delete e[f]}else e[f]=r;else{var o=e[f];if(!o||!hasOwn(e,f))o=e[f]={};setByKeyPath(o,a,r)}}else{if(r===undefined){if(isArray(e)&&!isNaN(parseInt(t)))e.splice(t,1);else delete e[t]}else e[t]=r}}}function delByKeyPath(e,t){if(typeof t==="string")setByKeyPath(e,t,undefined);else if("length"in t)[].map.call(t,(function(t){setByKeyPath(e,t,undefined)}))}function shallowClone(e){var t={};for(var r in e){if(hasOwn(e,r))t[r]=e[r]}return t}var concat=[].concat;function flatten(e){return concat.apply([],e)}var intrinsicTypeNames="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(flatten([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return _global[e]}));var intrinsicTypes=intrinsicTypeNames.map((function(e){return _global[e]}));arrayToObject(intrinsicTypeNames,(function(e){return[e,true]}));var circularRefs=null;function deepClone(e){circularRefs=typeof WeakMap!=="undefined"&&new WeakMap;var t=innerDeepClone(e);circularRefs=null;return t}function innerDeepClone(e){if(!e||typeof e!=="object")return e;var t=circularRefs&&circularRefs.get(e);if(t)return t;if(isArray(e)){t=[];circularRefs&&circularRefs.set(e,t);for(var r=0,n=e.length;r<n;++r){t.push(innerDeepClone(e[r]))}}else if(intrinsicTypes.indexOf(e.constructor)>=0){t=e}else{var i=getProto(e);t=i===Object.prototype?{}:Object.create(i);circularRefs&&circularRefs.set(e,t);for(var s in e){if(hasOwn(e,s)){t[s]=innerDeepClone(e[s])}}}return t}var toString={}.toString;function toStringTag(e){return toString.call(e).slice(8,-1)}var iteratorSymbol=typeof Symbol!=="undefined"?Symbol.iterator:"@@iterator";var getIteratorOf=typeof iteratorSymbol==="symbol"?function(e){var t;return e!=null&&(t=e[iteratorSymbol])&&t.apply(e)}:function(){return null};var NO_CHAR_ARRAY={};function getArrayOf(e){var t,r,n,i;if(arguments.length===1){if(isArray(e))return e.slice();if(this===NO_CHAR_ARRAY&&typeof e==="string")return[e];if(i=getIteratorOf(e)){r=[];while(n=i.next(),!n.done)r.push(n.value);return r}if(e==null)return[e];t=e.length;if(typeof t==="number"){r=new Array(t);while(t--)r[t]=e[t];return r}return[e]}t=arguments.length;r=new Array(t);while(t--)r[t]=arguments[t];return r}var isAsyncFunction=typeof Symbol!=="undefined"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return false};var debug=typeof location!=="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function setDebug(e,t){debug=e;libraryFilter=t}var libraryFilter=function(){return true};var NEEDS_THROW_FOR_STACK=!new Error("").stack;function getErrorWithStack(){if(NEEDS_THROW_FOR_STACK)try{throw new Error}catch(e){return e}return new Error}function prettyStack(e,t){var r=e.stack;if(!r)return"";t=t||0;if(r.indexOf(e.name)===0)t+=(e.name+e.message).split("\n").length;return r.split("\n").slice(t).filter(libraryFilter).map((function(e){return"\n"+e})).join("")}var dexieErrorNames=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"];var idbDomErrorNames=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"];var errorList=dexieErrorNames.concat(idbDomErrorNames);var defaultTexts={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function DexieError(e,t){this._e=getErrorWithStack();this.name=e;this.message=t}derive(DexieError).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+prettyStack(this._e,2))}},toString:function(){return this.name+": "+this.message}});function getMultiErrorMessage(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,r){return r.indexOf(e)===t})).join("\n")}function ModifyError(e,t,r,n){this._e=getErrorWithStack();this.failures=t;this.failedKeys=n;this.successCount=r;this.message=getMultiErrorMessage(e,t)}derive(ModifyError).from(DexieError);function BulkError(e,t){this._e=getErrorWithStack();this.name="BulkError";this.failures=Object.keys(t).map((function(e){return t[e]}));this.failuresByPos=t;this.message=getMultiErrorMessage(e,t)}derive(BulkError).from(DexieError);var errnames=errorList.reduce((function(e,t){return e[t]=t+"Error",e}),{});var BaseException=DexieError;var exceptions=errorList.reduce((function(e,t){var r=t+"Error";function n(e,n){this._e=getErrorWithStack();this.name=r;if(!e){this.message=defaultTexts[t]||r;this.inner=null}else if(typeof e==="string"){this.message=""+e+(!n?"":"\n "+n);this.inner=n||null}else if(typeof e==="object"){this.message=e.name+" "+e.message;this.inner=e}}derive(n).from(BaseException);e[t]=n;return e}),{});exceptions.Syntax=SyntaxError;exceptions.Type=TypeError;exceptions.Range=RangeError;var exceptionMap=idbDomErrorNames.reduce((function(e,t){e[t+"Error"]=exceptions[t];return e}),{});function mapError(e,t){if(!e||e instanceof DexieError||e instanceof TypeError||e instanceof SyntaxError||!e.name||!exceptionMap[e.name])return e;var r=new exceptionMap[e.name](t||e.message,e);if("stack"in e){setProp(r,"stack",{get:function(){return this.inner.stack}})}return r}var fullNameExceptions=errorList.reduce((function(e,t){if(["Syntax","Type","Range"].indexOf(t)===-1)e[t+"Error"]=exceptions[t];return e}),{});fullNameExceptions.ModifyError=ModifyError;fullNameExceptions.DexieError=DexieError;fullNameExceptions.BulkError=BulkError;function nop(){}function mirror(e){return e}function pureFunctionChain(e,t){if(e==null||e===mirror)return t;return function(r){return t(e(r))}}function callBoth(e,t){return function(){e.apply(this,arguments);t.apply(this,arguments)}}function hookCreatingChain(e,t){if(e===nop)return t;return function(){var r=e.apply(this,arguments);if(r!==undefined)arguments[0]=r;var n=this.onsuccess,i=this.onerror;this.onsuccess=null;this.onerror=null;var s=t.apply(this,arguments);if(n)this.onsuccess=this.onsuccess?callBoth(n,this.onsuccess):n;if(i)this.onerror=this.onerror?callBoth(i,this.onerror):i;return s!==undefined?s:r}}function hookDeletingChain(e,t){if(e===nop)return t;return function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null;t.apply(this,arguments);if(r)this.onsuccess=this.onsuccess?callBoth(r,this.onsuccess):r;if(n)this.onerror=this.onerror?callBoth(n,this.onerror):n}}function hookUpdatingChain(e,t){if(e===nop)return t;return function(r){var n=e.apply(this,arguments);extend(r,n);var i=this.onsuccess,s=this.onerror;this.onsuccess=null;this.onerror=null;var f=t.apply(this,arguments);if(i)this.onsuccess=this.onsuccess?callBoth(i,this.onsuccess):i;if(s)this.onerror=this.onerror?callBoth(s,this.onerror):s;return n===undefined?f===undefined?undefined:f:extend(n,f)}}function reverseStoppableEventChain(e,t){if(e===nop)return t;return function(){if(t.apply(this,arguments)===false)return false;return e.apply(this,arguments)}}function promisableChain(e,t){if(e===nop)return t;return function(){var r=e.apply(this,arguments);if(r&&typeof r.then==="function"){var n=this,i=arguments.length,s=new Array(i);while(i--)s[i]=arguments[i];return r.then((function(){return t.apply(n,s)}))}return t.apply(this,arguments)}}var INTERNAL={};var LONG_STACKS_CLIP_LIMIT=100,MAX_LONG_STACKS=20,ZONE_ECHO_LIMIT=100,_a$1=typeof Promise==="undefined"?[]:function(){var e=Promise.resolve();if(typeof crypto==="undefined"||!crypto.subtle)return[e,getProto(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,getProto(t),e]}(),resolvedNativePromise=_a$1[0],nativePromiseProto=_a$1[1],resolvedGlobalPromise=_a$1[2],nativePromiseThen=nativePromiseProto&&nativePromiseProto.then;var NativePromise=resolvedNativePromise&&resolvedNativePromise.constructor;var patchGlobalPromise=!!resolvedGlobalPromise;var stack_being_generated=false;var schedulePhysicalTick=resolvedGlobalPromise?function(){resolvedGlobalPromise.then(physicalTick)}:_global.setImmediate?setImmediate.bind(null,physicalTick):_global.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){physicalTick();e=null})).observe(e,{attributes:true});e.setAttribute("i","1")}:function(){setTimeout(physicalTick,0)};var asap=function(e,t){microtickQueue.push([e,t]);if(needsNewPhysicalTick){schedulePhysicalTick();needsNewPhysicalTick=false}};var isOutsideMicroTick=true,needsNewPhysicalTick=true,unhandledErrors=[],rejectingErrors=[],currentFulfiller=null,rejectionMapper=mirror;var globalPSD={id:"global",global:true,ref:0,unhandleds:[],onunhandled:globalError,pgp:false,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{globalError(e[0],e[1])}catch(e){}}))}};var PSD=globalPSD;var microtickQueue=[];var numScheduledCalls=0;var tickFinalizers=[];function DexiePromise(e){if(typeof this!=="object")throw new TypeError("Promises must be constructed via new");this._listeners=[];this.onuncatched=nop;this._lib=false;var t=this._PSD=PSD;if(debug){this._stackHolder=getErrorWithStack();this._prev=null;this._numPrev=0}if(typeof e!=="function"){if(e!==INTERNAL)throw new TypeError("Not a function");this._state=arguments[1];this._value=arguments[2];if(this._state===false)handleRejection(this,this._value);return}this._state=null;this._value=null;++t.ref;executePromiseTask(this,e)}var thenProp={get:function(){var e=PSD,t=totalEchoes;function r(r,n){var i=this;var s=!e.global&&(e!==PSD||t!==totalEchoes);var f=s&&!decrementExpectedAwaits();var a=new DexiePromise((function(t,a){propagateToListener(i,new Listener(nativeAwaitCompatibleWrap(r,e,s,f),nativeAwaitCompatibleWrap(n,e,s,f),t,a,e))}));debug&&linkToPreviousPromise(a,this);return a}r.prototype=INTERNAL;return r},set:function(e){setProp(this,"then",e&&e.prototype===INTERNAL?thenProp:{get:function(){return e},set:thenProp.set})}};props(DexiePromise.prototype,{then:thenProp,_then:function(e,t){propagateToListener(this,new Listener(null,null,e,t,PSD))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],r=arguments[1];return typeof t==="function"?this.then(null,(function(e){return e instanceof t?r(e):PromiseReject(e)})):this.then(null,(function(e){return e&&e.name===t?r(e):PromiseReject(e)}))},finally:function(e){return this.then((function(t){e();return t}),(function(t){e();return PromiseReject(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{stack_being_generated=true;var e=getStack(this,[],MAX_LONG_STACKS);var t=e.join("\nFrom previous: ");if(this._state!==null)this._stack=t;return t}finally{stack_being_generated=false}}},timeout:function(e,t){var r=this;return e<Infinity?new DexiePromise((function(n,i){var s=setTimeout((function(){return i(new exceptions.Timeout(t))}),e);r.then(n,i).finally(clearTimeout.bind(null,s))})):this}});if(typeof Symbol!=="undefined"&&Symbol.toStringTag)setProp(DexiePromise.prototype,Symbol.toStringTag,"Dexie.Promise");globalPSD.env=snapShot();function Listener(e,t,r,n,i){this.onFulfilled=typeof e==="function"?e:null;this.onRejected=typeof t==="function"?t:null;this.resolve=r;this.reject=n;this.psd=i}props(DexiePromise,{all:function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise((function(t,r){if(e.length===0)t([]);var n=e.length;e.forEach((function(i,s){return DexiePromise.resolve(i).then((function(r){e[s]=r;if(!--n)t(e)}),r)}))}))},resolve:function(e){if(e instanceof DexiePromise)return e;if(e&&typeof e.then==="function")return new DexiePromise((function(t,r){e.then(t,r)}));var t=new DexiePromise(INTERNAL,true,e);linkToPreviousPromise(t,currentFulfiller);return t},reject:PromiseReject,race:function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise((function(t,r){e.map((function(e){return DexiePromise.resolve(e).then(t,r)}))}))},PSD:{get:function(){return PSD},set:function(e){return PSD=e}},totalEchoes:{get:function(){return totalEchoes}},newPSD:newScope,usePSD,scheduler:{get:function(){return asap},set:function(e){asap=e}},rejectionMapper:{get:function(){return rejectionMapper},set:function(e){rejectionMapper=e}},follow:function(e,t){return new DexiePromise((function(r,n){return newScope((function(t,r){var n=PSD;n.unhandleds=[];n.onunhandled=r;n.finalize=callBoth((function(){var e=this;run_at_end_of_this_or_next_physical_tick((function(){e.unhandleds.length===0?t():r(e.unhandleds[0])}))}),n.finalize);e()}),t,r,n)}))}});if(NativePromise){if(NativePromise.allSettled)setProp(DexiePromise,"allSettled",(function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise((function(t){if(e.length===0)t([]);var r=e.length;var n=new Array(r);e.forEach((function(e,i){return DexiePromise.resolve(e).then((function(e){return n[i]={status:"fulfilled",value:e}}),(function(e){return n[i]={status:"rejected",reason:e}})).then((function(){return--r||t(n)}))}))}))}));if(NativePromise.any&&typeof AggregateError!=="undefined")setProp(DexiePromise,"any",(function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise((function(t,r){if(e.length===0)r(new AggregateError([]));var n=e.length;var i=new Array(n);e.forEach((function(e,s){return DexiePromise.resolve(e).then((function(e){return t(e)}),(function(e){i[s]=e;if(!--n)r(new AggregateError(i))}))}))}))}))}function executePromiseTask(e,t){try{t((function(t){if(e._state!==null)return;if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&beginMicroTickScope();if(t&&typeof t.then==="function"){executePromiseTask(e,(function(e,r){t instanceof DexiePromise?t._then(e,r):t.then(e,r)}))}else{e._state=true;e._value=t;propagateAllListeners(e)}if(r)endMicroTickScope()}),handleRejection.bind(null,e))}catch(t){handleRejection(e,t)}}function handleRejection(e,t){rejectingErrors.push(t);if(e._state!==null)return;var r=e._lib&&beginMicroTickScope();t=rejectionMapper(t);e._state=false;e._value=t;debug&&t!==null&&typeof t==="object"&&!t._promise&&tryCatch((function(){var r=getPropertyDescriptor(t,"stack");t._promise=e;setProp(t,"stack",{get:function(){return stack_being_generated?r&&(r.get?r.get.apply(t):r.value):e.stack}})}));addPossiblyUnhandledError(e);propagateAllListeners(e);if(r)endMicroTickScope()}function propagateAllListeners(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r){propagateToListener(e,t[r])}var i=e._PSD;--i.ref||i.finalize();if(numScheduledCalls===0){++numScheduledCalls;asap((function(){if(--numScheduledCalls===0)finalizePhysicalTick()}),[])}}function propagateToListener(e,t){if(e._state===null){e._listeners.push(t);return}var r=e._state?t.onFulfilled:t.onRejected;if(r===null){return(e._state?t.resolve:t.reject)(e._value)}++t.psd.ref;++numScheduledCalls;asap(callListener,[r,e,t])}function callListener(e,t,r){try{currentFulfiller=t;var n,i=t._value;if(t._state){n=e(i)}else{if(rejectingErrors.length)rejectingErrors=[];n=e(i);if(rejectingErrors.indexOf(i)===-1)markErrorAsHandled(t)}r.resolve(n)}catch(e){r.reject(e)}finally{currentFulfiller=null;if(--numScheduledCalls===0)finalizePhysicalTick();--r.psd.ref||r.psd.finalize()}}function getStack(e,t,r){if(t.length===r)return t;var n="";if(e._state===false){var i=e._value,s,f;if(i!=null){s=i.name||"Error";f=i.message||i;n=prettyStack(i,0)}else{s=i;f=""}t.push(s+(f?": "+f:"")+n)}if(debug){n=prettyStack(e._stackHolder,2);if(n&&t.indexOf(n)===-1)t.push(n);if(e._prev)getStack(e._prev,t,r)}return t}function linkToPreviousPromise(e,t){var r=t?t._numPrev+1:0;if(r<LONG_STACKS_CLIP_LIMIT){e._prev=t;e._numPrev=r}}function physicalTick(){beginMicroTickScope()&&endMicroTickScope()}function beginMicroTickScope(){var e=isOutsideMicroTick;isOutsideMicroTick=false;needsNewPhysicalTick=false;return e}function endMicroTickScope(){var e,t,r;do{while(microtickQueue.length>0){e=microtickQueue;microtickQueue=[];r=e.length;for(t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}}}while(microtickQueue.length>0);isOutsideMicroTick=true;needsNewPhysicalTick=true}function finalizePhysicalTick(){var e=unhandledErrors;unhandledErrors=[];e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));var t=tickFinalizers.slice(0);var r=t.length;while(r)t[--r]()}function run_at_end_of_this_or_next_physical_tick(e){function t(){e();tickFinalizers.splice(tickFinalizers.indexOf(t),1)}tickFinalizers.push(t);++numScheduledCalls;asap((function(){if(--numScheduledCalls===0)finalizePhysicalTick()}),[])}function addPossiblyUnhandledError(e){if(!unhandledErrors.some((function(t){return t._value===e._value})))unhandledErrors.push(e)}function markErrorAsHandled(e){var t=unhandledErrors.length;while(t)if(unhandledErrors[--t]._value===e._value){unhandledErrors.splice(t,1);return}}function PromiseReject(e){return new DexiePromise(INTERNAL,false,e)}function wrap(e,t){var r=PSD;return function(){var n=beginMicroTickScope(),i=PSD;try{switchToZone(r,true);return e.apply(this,arguments)}catch(e){t&&t(e)}finally{switchToZone(i,false);if(n)endMicroTickScope()}}}var task={awaits:0,echoes:0,id:0};var taskCounter=0;var zoneStack=[];var zoneEchoes=0;var totalEchoes=0;var zone_id_counter=0;function newScope(e,t,r,n){var i=PSD,s=Object.create(i);s.parent=i;s.ref=0;s.global=false;s.id=++zone_id_counter;var f=globalPSD.env;s.env=patchGlobalPromise?{Promise:DexiePromise,PromiseProp:{value:DexiePromise,configurable:true,writable:true},all:DexiePromise.all,race:DexiePromise.race,allSettled:DexiePromise.allSettled,any:DexiePromise.any,resolve:DexiePromise.resolve,reject:DexiePromise.reject,nthen:getPatchedPromiseThen(f.nthen,s),gthen:getPatchedPromiseThen(f.gthen,s)}:{};if(t)extend(s,t);++i.ref;s.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=usePSD(s,e,r,n);if(s.ref===0)s.finalize();return a}function incrementExpectedAwaits(){if(!task.id)task.id=++taskCounter;++task.awaits;task.echoes+=ZONE_ECHO_LIMIT;return task.id}function decrementExpectedAwaits(){if(!task.awaits)return false;if(--task.awaits===0)task.id=0;task.echoes=task.awaits*ZONE_ECHO_LIMIT;return true}if((""+nativePromiseThen).indexOf("[native code]")===-1){incrementExpectedAwaits=decrementExpectedAwaits=nop}function onPossibleParallellAsync(e){if(task.echoes&&e&&e.constructor===NativePromise){incrementExpectedAwaits();return e.then((function(e){decrementExpectedAwaits();return e}),(function(e){decrementExpectedAwaits();return rejection(e)}))}return e}function zoneEnterEcho(e){++totalEchoes;if(!task.echoes||--task.echoes===0){task.echoes=task.id=0}zoneStack.push(PSD);switchToZone(e,true)}function zoneLeaveEcho(){var e=zoneStack[zoneStack.length-1];zoneStack.pop();switchToZone(e,false)}function switchToZone(e,t){var r=PSD;if(t?task.echoes&&(!zoneEchoes++||e!==PSD):zoneEchoes&&(!--zoneEchoes||e!==PSD)){enqueueNativeMicroTask(t?zoneEnterEcho.bind(null,e):zoneLeaveEcho)}if(e===PSD)return;PSD=e;if(r===globalPSD)globalPSD.env=snapShot();if(patchGlobalPromise){var n=globalPSD.env.Promise;var i=e.env;nativePromiseProto.then=i.nthen;n.prototype.then=i.gthen;if(r.global||e.global){Object.defineProperty(_global,"Promise",i.PromiseProp);n.all=i.all;n.race=i.race;n.resolve=i.resolve;n.reject=i.reject;if(i.allSettled)n.allSettled=i.allSettled;if(i.any)n.any=i.any}}}function snapShot(){var e=_global.Promise;return patchGlobalPromise?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(_global,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:nativePromiseProto.then,gthen:e.prototype.then}:{}}function usePSD(e,t,r,n,i){var s=PSD;try{switchToZone(e,true);return t(r,n,i)}finally{switchToZone(s,false)}}function enqueueNativeMicroTask(e){nativePromiseThen.call(resolvedNativePromise,e)}function nativeAwaitCompatibleWrap(e,t,r,n){return typeof e!=="function"?e:function(){var i=PSD;if(r)incrementExpectedAwaits();switchToZone(t,true);try{return e.apply(this,arguments)}finally{switchToZone(i,false);if(n)enqueueNativeMicroTask(decrementExpectedAwaits)}}}function getPatchedPromiseThen(e,t){return function(r,n){return e.call(this,nativeAwaitCompatibleWrap(r,t),nativeAwaitCompatibleWrap(n,t))}}var UNHANDLEDREJECTION="unhandledrejection";function globalError(e,t){var r;try{r=t.onuncatched(e)}catch(e){}if(r!==false)try{var n,i={promise:t,reason:e};if(_global.document&&document.createEvent){n=document.createEvent("Event");n.initEvent(UNHANDLEDREJECTION,true,true);extend(n,i)}else if(_global.CustomEvent){n=new CustomEvent(UNHANDLEDREJECTION,{detail:i});extend(n,i)}if(n&&_global.dispatchEvent){dispatchEvent(n);if(!_global.PromiseRejectionEvent&&_global.onunhandledrejection)try{_global.onunhandledrejection(n)}catch(e){}}if(debug&&n&&!n.defaultPrevented){console.warn("Unhandled rejection: "+(e.stack||e))}}catch(e){}}var rejection=DexiePromise.reject;function tempTransaction(e,t,r,n){if(!e.idbdb||!e._state.openComplete&&(!PSD.letThrough&&!e._vip)){if(e._state.openComplete){return rejection(new exceptions.DatabaseClosed(e._state.dbOpenError))}if(!e._state.isBeingOpened){if(!e._options.autoOpen)return rejection(new exceptions.DatabaseClosed);e.open().catch(nop)}return e._state.dbReadyPromise.then((function(){return tempTransaction(e,t,r,n)}))}else{var i=e._createTransaction(t,r,e._dbSchema);try{i.create();e._state.PR1398_maxLoop=3}catch(i){if(i.name===errnames.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0){console.warn("Dexie: Need to reopen db");e._close();return e.open().then((function(){return tempTransaction(e,t,r,n)}))}return rejection(i)}return i._promise(t,(function(e,t){return newScope((function(){PSD.trans=i;return n(e,t,i)}))})).then((function(e){return i._completion.then((function(){return e}))}))}}var DEXIE_VERSION="3.2.3";var maxString=String.fromCharCode(65535);var minKey=-Infinity;var INVALID_KEY_ARGUMENT="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.";var STRING_EXPECTED="String expected.";var connections=[];var isIEOrEdge=typeof navigator!=="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent);var hasIEDeleteObjectStoreBug=isIEOrEdge;var hangsOnDeleteLargeKeyRange=isIEOrEdge;var dexieStackFrameFilter=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};var DBNAMES_DB="__dbnames";var READONLY="readonly";var READWRITE="readwrite";function combine(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var AnyRange={type:3,lower:-Infinity,lowerOpen:false,upper:[[]],upperOpen:false};function workaroundForUndefinedPrimKey(e){return typeof e==="string"&&!/\./.test(e)?function(t){if(t[e]===undefined&&e in t){t=deepClone(t);delete t[e]}return t}:function(e){return e}}var Table=function(){function e(){}e.prototype._trans=function(e,t,r){var n=this._tx||PSD.trans;var i=this.name;function s(e,r,n){if(!n.schema[i])throw new exceptions.NotFound("Table "+i+" not part of transaction");return t(n.idbtrans,n)}var f=beginMicroTickScope();try{return n&&n.db===this.db?n===PSD.trans?n._promise(e,s,r):newScope((function(){return n._promise(e,s,r)}),{trans:n,transless:PSD.transless||PSD}):tempTransaction(this.db,e,[this.name],s)}finally{if(f)endMicroTickScope()}};e.prototype.get=function(e,t){var r=this;if(e&&e.constructor===Object)return this.where(e).first(t);return this._trans("readonly",(function(t){return r.core.get({trans:t,key:e}).then((function(e){return r.hook.reading.fire(e)}))})).then(t)};e.prototype.where=function(e){if(typeof e==="string")return new this.db.WhereClause(this,e);if(isArray(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var t=keys(e);if(t.length===1)return this.where(t[0]).equals(e[t[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(r&&this.db._maxKey!==maxString)return this.where(r.name).equals(r.keyPath.map((function(t){return e[t]})));if(!r&&debug)console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a "+("compound index ["+t.join("+")+"]"));var n=this.schema.idxByName;var i=this.db._deps.indexedDB;function s(e,t){try{return i.cmp(e,t)===0}catch(e){return false}}var f=t.reduce((function(t,r){var i=t[0],f=t[1];var a=n[r];var o=e[r];return[i||a,i||!a?combine(f,a&&a.multi?function(e){var t=getByKeyPath(e,r);return isArray(t)&&t.some((function(e){return s(o,e)}))}:function(e){return s(o,getByKeyPath(e,r))}):f]}),[null,null]),a=f[0],o=f[1];return a?this.where(a.name).equals(e[a.keyPath]).filter(o):r?this.filter(o):this.where(t).equals("")};e.prototype.filter=function(e){return this.toCollection().and(e)};e.prototype.count=function(e){return this.toCollection().count(e)};e.prototype.offset=function(e){return this.toCollection().offset(e)};e.prototype.limit=function(e){return this.toCollection().limit(e)};e.prototype.each=function(e){return this.toCollection().each(e)};e.prototype.toArray=function(e){return this.toCollection().toArray(e)};e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))};e.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,isArray(e)?"["+e.join("+")+"]":e))};e.prototype.reverse=function(){return this.toCollection().reverse()};e.prototype.mapToClass=function(e){this.schema.mappedClass=e;var t=function(t){if(!t)return t;var r=Object.create(e.prototype);for(var n in t)if(hasOwn(t,n))try{r[n]=t[n]}catch(e){}return r};if(this.schema.readHook){this.hook.reading.unsubscribe(this.schema.readHook)}this.schema.readHook=t;this.hook("reading",t);return e};e.prototype.defineClass=function(){function e(e){extend(this,e)}return this.mapToClass(e)};e.prototype.add=function(e,t){var r=this;var n=this.schema.primKey,i=n.auto,s=n.keyPath;var f=e;if(s&&i){f=workaroundForUndefinedPrimKey(s)(e)}return this._trans("readwrite",(function(e){return r.core.mutate({trans:e,type:"add",keys:t!=null?[t]:null,values:[f]})})).then((function(e){return e.numFailures?DexiePromise.reject(e.failures[0]):e.lastResult})).then((function(t){if(s){try{setByKeyPath(e,s,t)}catch(e){}}return t}))};e.prototype.update=function(e,t){if(typeof e==="object"&&!isArray(e)){var r=getByKeyPath(e,this.schema.primKey.keyPath);if(r===undefined)return rejection(new exceptions.InvalidArgument("Given object does not contain its primary key"));try{if(typeof t!=="function"){keys(t).forEach((function(r){setByKeyPath(e,r,t[r])}))}else{t(e,{value:e,primKey:r})}}catch(e){}return this.where(":id").equals(r).modify(t)}else{return this.where(":id").equals(e).modify(t)}};e.prototype.put=function(e,t){var r=this;var n=this.schema.primKey,i=n.auto,s=n.keyPath;var f=e;if(s&&i){f=workaroundForUndefinedPrimKey(s)(e)}return this._trans("readwrite",(function(e){return r.core.mutate({trans:e,type:"put",values:[f],keys:t!=null?[t]:null})})).then((function(e){return e.numFailures?DexiePromise.reject(e.failures[0]):e.lastResult})).then((function(t){if(s){try{setByKeyPath(e,s,t)}catch(e){}}return t}))};e.prototype.delete=function(e){var t=this;return this._trans("readwrite",(function(r){return t.core.mutate({trans:r,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?DexiePromise.reject(e.failures[0]):undefined}))};e.prototype.clear=function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:AnyRange})})).then((function(e){return e.numFailures?DexiePromise.reject(e.failures[0]):undefined}))};e.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",(function(r){return t.core.getMany({keys:e,trans:r}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))};e.prototype.bulkAdd=function(e,t,r){var n=this;var i=Array.isArray(t)?t:undefined;r=r||(i?undefined:t);var s=r?r.allKeys:undefined;return this._trans("readwrite",(function(t){var r=n.schema.primKey,f=r.auto,a=r.keyPath;if(a&&i)throw new exceptions.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");var o=e.length;var c=a&&f?e.map(workaroundForUndefinedPrimKey(a)):e;return n.core.mutate({trans:t,type:"add",keys:i,values:c,wantResults:s}).then((function(e){var t=e.numFailures,r=e.results,i=e.lastResult,f=e.failures;var a=s?r:i;if(t===0)return a;throw new BulkError(n.name+".bulkAdd(): "+t+" of "+o+" operations failed",f)}))}))};e.prototype.bulkPut=function(e,t,r){var n=this;var i=Array.isArray(t)?t:undefined;r=r||(i?undefined:t);var s=r?r.allKeys:undefined;return this._trans("readwrite",(function(t){var r=n.schema.primKey,f=r.auto,a=r.keyPath;if(a&&i)throw new exceptions.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");var o=e.length;var c=a&&f?e.map(workaroundForUndefinedPrimKey(a)):e;return n.core.mutate({trans:t,type:"put",keys:i,values:c,wantResults:s}).then((function(e){var t=e.numFailures,r=e.results,i=e.lastResult,f=e.failures;var a=s?r:i;if(t===0)return a;throw new BulkError(n.name+".bulkPut(): "+t+" of "+o+" operations failed",f)}))}))};e.prototype.bulkDelete=function(e){var t=this;var r=e.length;return this._trans("readwrite",(function(r){return t.core.mutate({trans:r,type:"delete",keys:e})})).then((function(e){var n=e.numFailures,i=e.lastResult,s=e.failures;if(n===0)return i;throw new BulkError(t.name+".bulkDelete(): "+n+" of "+r+" operations failed",s)}))};return e}();function Events(e){var t={};var r=function(r,n){if(n){var i=arguments.length,s=new Array(i-1);while(--i)s[i-1]=arguments[i];t[r].subscribe.apply(null,s);return e}else if(typeof r==="string"){return t[r]}};r.addEventType=s;for(var n=1,i=arguments.length;n<i;++n){s(arguments[n])}return r;function s(e,n,i){if(typeof e==="object")return f(e);if(!n)n=reverseStoppableEventChain;if(!i)i=nop;var s={subscribers:[],fire:i,subscribe:function(e){if(s.subscribers.indexOf(e)===-1){s.subscribers.push(e);s.fire=n(s.fire,e)}},unsubscribe:function(e){s.subscribers=s.subscribers.filter((function(t){return t!==e}));s.fire=s.subscribers.reduce(n,i)}};t[e]=r[e]=s;return s}function f(e){keys(e).forEach((function(t){var r=e[t];if(isArray(r)){s(t,e[t][0],e[t][1])}else if(r==="asap"){var n=s(t,mirror,(function e(){var t=arguments.length,r=new Array(t);while(t--)r[t]=arguments[t];n.subscribers.forEach((function(e){asap$1((function t(){e.apply(null,r)}))}))}))}else throw new exceptions.InvalidArgument("Invalid event config")}))}}function makeClassConstructor(e,t){derive(t).from({prototype:e});return t}function createTableConstructor(e){return makeClassConstructor(Table.prototype,(function t(r,n,i){this.db=e;this._tx=i;this.name=r;this.schema=n;this.hook=e._allTables[r]?e._allTables[r].hook:Events(null,{creating:[hookCreatingChain,nop],reading:[pureFunctionChain,mirror],updating:[hookUpdatingChain,nop],deleting:[hookDeletingChain,nop]})}))}function isPlainKeyRange(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function addFilter(e,t){e.filter=combine(e.filter,t)}function addReplayFilter(e,t,r){var n=e.replayFilter;e.replayFilter=n?function(){return combine(n(),t())}:t;e.justLimit=r&&!n}function addMatchFilter(e,t){e.isMatch=combine(e.isMatch,t)}function getIndexOrStore(e,t){if(e.isPrimKey)return t.primaryKey;var r=t.getIndexByKeyPath(e.index);if(!r)throw new exceptions.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function openCursor(e,t,r){var n=getIndexOrStore(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:n,range:e.range}})}function iter(e,t,r,n){var i=e.replayFilter?combine(e.filter,e.replayFilter()):e.filter;if(!e.or){return iterate(openCursor(e,n,r),combine(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}else{var s={};var f=function(e,r,n){if(!i||i(r,n,(function(e){return r.stop(e)}),(function(e){return r.fail(e)}))){var f=r.primaryKey;var a=""+f;if(a==="[object ArrayBuffer]")a=""+new Uint8Array(f);if(!hasOwn(s,a)){s[a]=true;t(e,r,n)}}};return Promise.all([e.or._iterate(f,r),iterate(openCursor(e,n,r),e.algorithm,f,!e.keysOnly&&e.valueMapper)])}}function iterate(e,t,r,n){var i=n?function(e,t,i){return r(n(e),t,i)}:r;var s=wrap(i);return e.then((function(e){if(e){return e.start((function(){var r=function(){return e.continue()};if(!t||t(e,(function(e){return r=e}),(function(t){e.stop(t);r=nop}),(function(t){e.fail(t);r=nop})))s(e.value,e,(function(e){return r=e}));r()}))}}))}function cmp(e,t){try{var r=type(e);var n=type(t);if(r!==n){if(r==="Array")return 1;if(n==="Array")return-1;if(r==="binary")return 1;if(n==="binary")return-1;if(r==="string")return 1;if(n==="string")return-1;if(r==="Date")return 1;if(n!=="Date")return NaN;return-1}switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":{return compareUint8Arrays(getUint8Array(e),getUint8Array(t))}case"Array":return compareArrays(e,t)}}catch(e){}return NaN}function compareArrays(e,t){var r=e.length;var n=t.length;var i=r<n?r:n;for(var s=0;s<i;++s){var f=cmp(e[s],t[s]);if(f!==0)return f}return r===n?0:r<n?-1:1}function compareUint8Arrays(e,t){var r=e.length;var n=t.length;var i=r<n?r:n;for(var s=0;s<i;++s){if(e[s]!==t[s])return e[s]<t[s]?-1:1}return r===n?0:r<n?-1:1}function type(e){var t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";var r=toStringTag(e);return r==="ArrayBuffer"?"binary":r}function getUint8Array(e){if(e instanceof Uint8Array)return e;if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return new Uint8Array(e)}var Collection=function(){function e(){}e.prototype._read=function(e,t){var r=this._ctx;return r.error?r.table._trans(null,rejection.bind(null,r.error)):r.table._trans("readonly",e).then(t)};e.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,rejection.bind(null,t.error)):t.table._trans("readwrite",e,"locked")};e.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=combine(t.algorithm,e)};e.prototype._iterate=function(e,t){return iter(this._ctx,e,t,this._ctx.table.core)};e.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);if(e)extend(r,e);t._ctx=r;return t};e.prototype.raw=function(){this._ctx.valueMapper=null;return this};e.prototype.each=function(e){var t=this._ctx;return this._read((function(r){return iter(t,e,r,t.table.core)}))};e.prototype.count=function(e){var t=this;return this._read((function(e){var r=t._ctx;var n=r.table.core;if(isPlainKeyRange(r,true)){return n.count({trans:e,query:{index:getIndexOrStore(r,n.schema),range:r.range}}).then((function(e){return Math.min(e,r.limit)}))}else{var i=0;return iter(r,(function(){++i;return false}),e,n).then((function(){return i}))}})).then(e)};e.prototype.sortBy=function(e,t){var r=e.split(".").reverse(),n=r[0],i=r.length-1;function s(e,t){if(t)return s(e[r[t]],t-1);return e[n]}var f=this._ctx.dir==="next"?1:-1;function a(e,t){var r=s(e,i),n=s(t,i);return r<n?-f:r>n?f:0}return this.toArray((function(e){return e.sort(a)})).then(t)};e.prototype.toArray=function(e){var t=this;return this._read((function(e){var r=t._ctx;if(r.dir==="next"&&isPlainKeyRange(r,true)&&r.limit>0){var n=r.valueMapper;var i=getIndexOrStore(r,r.table.core.schema);return r.table.core.query({trans:e,limit:r.limit,values:true,query:{index:i,range:r.range}}).then((function(e){var t=e.result;return n?t.map(n):t}))}else{var s=[];return iter(r,(function(e){return s.push(e)}),e,r.table.core).then((function(){return s}))}}),e)};e.prototype.offset=function(e){var t=this._ctx;if(e<=0)return this;t.offset+=e;if(isPlainKeyRange(t)){addReplayFilter(t,(function(){var t=e;return function(e,r){if(t===0)return true;if(t===1){--t;return false}r((function(){e.advance(t);t=0}));return false}}))}else{addReplayFilter(t,(function(){var t=e;return function(){return--t<0}}))}return this};e.prototype.limit=function(e){this._ctx.limit=Math.min(this._ctx.limit,e);addReplayFilter(this._ctx,(function(){var t=e;return function(e,r,n){if(--t<=0)r(n);return t>=0}}),true);return this};e.prototype.until=function(e,t){addFilter(this._ctx,(function(r,n,i){if(e(r.value)){n(i);return t}else{return true}}));return this};e.prototype.first=function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)};e.prototype.last=function(e){return this.reverse().first(e)};e.prototype.filter=function(e){addFilter(this._ctx,(function(t){return e(t.value)}));addMatchFilter(this._ctx,e);return this};e.prototype.and=function(e){return this.filter(e)};e.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)};e.prototype.reverse=function(){this._ctx.dir=this._ctx.dir==="prev"?"next":"prev";if(this._ondirectionchange)this._ondirectionchange(this._ctx.dir);return this};e.prototype.desc=function(){return this.reverse()};e.prototype.eachKey=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;return this.each((function(t,r){e(r.key,r)}))};e.prototype.eachUniqueKey=function(e){this._ctx.unique="unique";return this.eachKey(e)};e.prototype.eachPrimaryKey=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;return this.each((function(t,r){e(r.primaryKey,r)}))};e.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.key)})).then((function(){return r})).then(e)};e.prototype.primaryKeys=function(e){var t=this._ctx;if(t.dir==="next"&&isPlainKeyRange(t,true)&&t.limit>0){return this._read((function(e){var r=getIndexOrStore(t,t.table.core.schema);return t.table.core.query({trans:e,values:false,limit:t.limit,query:{index:r,range:t.range}})})).then((function(e){var t=e.result;return t})).then(e)}t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.primaryKey)})).then((function(){return r})).then(e)};e.prototype.uniqueKeys=function(e){this._ctx.unique="unique";return this.keys(e)};e.prototype.firstKey=function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)};e.prototype.lastKey=function(e){return this.reverse().firstKey(e)};e.prototype.distinct=function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var r={};addFilter(this._ctx,(function(e){var t=e.primaryKey.toString();var n=hasOwn(r,t);r[t]=true;return!n}));return this};e.prototype.modify=function(e){var t=this;var r=this._ctx;return this._write((function(n){var i;if(typeof e==="function"){i=e}else{var s=keys(e);var f=s.length;i=function(t){var r=false;for(var n=0;n<f;++n){var i=s[n],a=e[i];if(getByKeyPath(t,i)!==a){setByKeyPath(t,i,a);r=true}}return r}}var a=r.table.core;var o=a.schema.primaryKey,c=o.outbound,u=o.extractKey;var l=t.db._options.modifyChunkSize||200;var h=[];var d=0;var p=[];var y=function(e,t){var r=t.failures,n=t.numFailures;d+=e-n;for(var i=0,s=keys(r);i<s.length;i++){var f=s[i];h.push(r[f])}};return t.clone().primaryKeys().then((function(t){var s=function(f){var o=Math.min(l,t.length-f);return a.getMany({trans:n,keys:t.slice(f,f+o),cache:"immutable"}).then((function(h){var d=[];var p=[];var b=c?[]:null;var m=[];for(var g=0;g<o;++g){var v=h[g];var w={value:deepClone(v),primKey:t[f+g]};if(i.call(w,w.value,w)!==false){if(w.value==null){m.push(t[f+g])}else if(!c&&cmp(u(v),u(w.value))!==0){m.push(t[f+g]);d.push(w.value)}else{p.push(w.value);if(c)b.push(t[f+g])}}}var A=isPlainKeyRange(r)&&r.limit===Infinity&&(typeof e!=="function"||e===deleteCallback)&&{index:r.index,range:r.range};return Promise.resolve(d.length>0&&a.mutate({trans:n,type:"add",values:d}).then((function(e){for(var t in e.failures){m.splice(parseInt(t),1)}y(d.length,e)}))).then((function(){return(p.length>0||A&&typeof e==="object")&&a.mutate({trans:n,type:"put",keys:b,values:p,criteria:A,changeSpec:typeof e!=="function"&&e}).then((function(e){return y(p.length,e)}))})).then((function(){return(m.length>0||A&&e===deleteCallback)&&a.mutate({trans:n,type:"delete",keys:m,criteria:A}).then((function(e){return y(m.length,e)}))})).then((function(){return t.length>f+o&&s(f+l)}))}))};return s(0).then((function(){if(h.length>0)throw new ModifyError("Error modifying one or more objects",h,d,p);return t.length}))}))}))};e.prototype.delete=function(){var e=this._ctx,t=e.range;if(isPlainKeyRange(e)&&(e.isPrimKey&&!hangsOnDeleteLargeKeyRange||t.type===3)){return this._write((function(r){var n=e.table.core.schema.primaryKey;var i=t;return e.table.core.count({trans:r,query:{index:n,range:i}}).then((function(t){return e.table.core.mutate({trans:r,type:"deleteRange",range:i}).then((function(e){var r=e.failures;var n=e.numFailures;if(n)throw new ModifyError("Could not delete some values",Object.keys(r).map((function(e){return r[e]})),t-n);return t-n}))}))}))}return this.modify(deleteCallback)};return e}();var deleteCallback=function(e,t){return t.value=null};function createCollectionConstructor(e){return makeClassConstructor(Collection.prototype,(function t(r,n){this.db=e;var i=AnyRange,s=null;if(n)try{i=n()}catch(e){s=e}var f=r._ctx;var a=f.table;var o=a.hook.reading.fire;this._ctx={table:a,index:f.index,isPrimKey:!f.index||a.schema.primKey.keyPath&&f.index===a.schema.primKey.name,range:i,keysOnly:false,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:true,isMatch:null,offset:0,limit:Infinity,error:s,or:f.or,valueMapper:o!==mirror?o:null}}))}function simpleCompare(e,t){return e<t?-1:e===t?0:1}function simpleCompareReverse(e,t){return e>t?-1:e===t?0:1}function fail(e,t,r){var n=e instanceof WhereClause?new e.Collection(e):e;n._ctx.error=r?new r(t):new TypeError(t);return n}function emptyCollection(e){return new e.Collection(e,(function(){return rangeEqual("")})).limit(0)}function upperFactory(e){return e==="next"?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function lowerFactory(e){return e==="next"?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function nextCasing(e,t,r,n,i,s){var f=Math.min(e.length,n.length);var a=-1;for(var o=0;o<f;++o){var c=t[o];if(c!==n[o]){if(i(e[o],r[o])<0)return e.substr(0,o)+r[o]+r.substr(o+1);if(i(e[o],n[o])<0)return e.substr(0,o)+n[o]+r.substr(o+1);if(a>=0)return e.substr(0,a)+t[a]+r.substr(a+1);return null}if(i(e[o],c)<0)a=o}if(f<n.length&&s==="next")return e+r.substr(e.length);if(f<e.length&&s==="prev")return e.substr(0,r.length);return a<0?null:e.substr(0,a)+n[a]+r.substr(a+1)}function addIgnoreCaseAlgorithm(e,t,r,n){var i,s,f,a,o,c,u,l=r.length;if(!r.every((function(e){return typeof e==="string"}))){return fail(e,STRING_EXPECTED)}function h(e){i=upperFactory(e);s=lowerFactory(e);f=e==="next"?simpleCompare:simpleCompareReverse;var t=r.map((function(e){return{lower:s(e),upper:i(e)}})).sort((function(e,t){return f(e.lower,t.lower)}));a=t.map((function(e){return e.upper}));o=t.map((function(e){return e.lower}));c=e;u=e==="next"?"":n}h("next");var d=new e.Collection(e,(function(){return createRange(a[0],o[l-1]+n)}));d._ondirectionchange=function(e){h(e)};var p=0;d._addAlgorithm((function(e,r,n){var i=e.key;if(typeof i!=="string")return false;var h=s(i);if(t(h,o,p)){return true}else{var d=null;for(var y=p;y<l;++y){var b=nextCasing(i,h,a[y],o[y],f,c);if(b===null&&d===null)p=y+1;else if(d===null||f(d,b)>0){d=b}}if(d!==null){r((function(){e.continue(d+u)}))}else{r(n)}return false}}));return d}function createRange(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function rangeEqual(e){return{type:1,lower:e,upper:e}}var WhereClause=function(){function e(){}Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:false,configurable:true});e.prototype.between=function(e,t,r,n){r=r!==false;n=n===true;try{if(this._cmp(e,t)>0||this._cmp(e,t)===0&&(r||n)&&!(r&&n))return emptyCollection(this);return new this.Collection(this,(function(){return createRange(e,t,!r,!n)}))}catch(e){return fail(this,INVALID_KEY_ARGUMENT)}};e.prototype.equals=function(e){if(e==null)return fail(this,INVALID_KEY_ARGUMENT);return new this.Collection(this,(function(){return rangeEqual(e)}))};e.prototype.above=function(e){if(e==null)return fail(this,INVALID_KEY_ARGUMENT);return new this.Collection(this,(function(){return createRange(e,undefined,true)}))};e.prototype.aboveOrEqual=function(e){if(e==null)return fail(this,INVALID_KEY_ARGUMENT);return new this.Collection(this,(function(){return createRange(e,undefined,false)}))};e.prototype.below=function(e){if(e==null)return fail(this,INVALID_KEY_ARGUMENT);return new this.Collection(this,(function(){return createRange(undefined,e,false,true)}))};e.prototype.belowOrEqual=function(e){if(e==null)return fail(this,INVALID_KEY_ARGUMENT);return new this.Collection(this,(function(){return createRange(undefined,e)}))};e.prototype.startsWith=function(e){if(typeof e!=="string")return fail(this,STRING_EXPECTED);return this.between(e,e+maxString,true,true)};e.prototype.startsWithIgnoreCase=function(e){if(e==="")return this.startsWith(e);return addIgnoreCaseAlgorithm(this,(function(e,t){return e.indexOf(t[0])===0}),[e],maxString)};e.prototype.equalsIgnoreCase=function(e){return addIgnoreCaseAlgorithm(this,(function(e,t){return e===t[0]}),[e],"")};e.prototype.anyOfIgnoreCase=function(){var e=getArrayOf.apply(NO_CHAR_ARRAY,arguments);if(e.length===0)return emptyCollection(this);return addIgnoreCaseAlgorithm(this,(function(e,t){return t.indexOf(e)!==-1}),e,"")};e.prototype.startsWithAnyOfIgnoreCase=function(){var e=getArrayOf.apply(NO_CHAR_ARRAY,arguments);if(e.length===0)return emptyCollection(this);return addIgnoreCaseAlgorithm(this,(function(e,t){return t.some((function(t){return e.indexOf(t)===0}))}),e,maxString)};e.prototype.anyOf=function(){var e=this;var t=getArrayOf.apply(NO_CHAR_ARRAY,arguments);var r=this._cmp;try{t.sort(r)}catch(e){return fail(this,INVALID_KEY_ARGUMENT)}if(t.length===0)return emptyCollection(this);var n=new this.Collection(this,(function(){return createRange(t[0],t[t.length-1])}));n._ondirectionchange=function(n){r=n==="next"?e._ascending:e._descending;t.sort(r)};var i=0;n._addAlgorithm((function(e,n,s){var f=e.key;while(r(f,t[i])>0){++i;if(i===t.length){n(s);return false}}if(r(f,t[i])===0){return true}else{n((function(){e.continue(t[i])}));return false}}));return n};e.prototype.notEqual=function(e){return this.inAnyRange([[minKey,e],[e,this.db._maxKey]],{includeLowers:false,includeUppers:false})};e.prototype.noneOf=function(){var e=getArrayOf.apply(NO_CHAR_ARRAY,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return fail(this,INVALID_KEY_ARGUMENT)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[minKey,t]]}),null);t.push([e[e.length-1],this.db._maxKey]);return this.inAnyRange(t,{includeLowers:false,includeUppers:false})};e.prototype.inAnyRange=function(e,t){var r=this;var n=this._cmp,i=this._ascending,s=this._descending,f=this._min,a=this._max;if(e.length===0)return emptyCollection(this);if(!e.every((function(e){return e[0]!==undefined&&e[1]!==undefined&&i(e[0],e[1])<=0}))){return fail(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",exceptions.InvalidArgument)}var o=!t||t.includeLowers!==false;var c=t&&t.includeUppers===true;function u(e,t){var r=0,i=e.length;for(;r<i;++r){var s=e[r];if(n(t[0],s[1])<0&&n(t[1],s[0])>0){s[0]=f(s[0],t[0]);s[1]=a(s[1],t[1]);break}}if(r===i)e.push(t);return e}var l=i;function h(e,t){return l(e[0],t[0])}var d;try{d=e.reduce(u,[]);d.sort(h)}catch(e){return fail(this,INVALID_KEY_ARGUMENT)}var p=0;var y=c?function(e){return i(e,d[p][1])>0}:function(e){return i(e,d[p][1])>=0};var b=o?function(e){return s(e,d[p][0])>0}:function(e){return s(e,d[p][0])>=0};function m(e){return!y(e)&&!b(e)}var g=y;var v=new this.Collection(this,(function(){return createRange(d[0][0],d[d.length-1][1],!o,!c)}));v._ondirectionchange=function(e){if(e==="next"){g=y;l=i}else{g=b;l=s}d.sort(h)};v._addAlgorithm((function(e,t,n){var s=e.key;while(g(s)){++p;if(p===d.length){t(n);return false}}if(m(s)){return true}else if(r._cmp(s,d[p][1])===0||r._cmp(s,d[p][0])===0){return false}else{t((function(){if(l===i)e.continue(d[p][0]);else e.continue(d[p][1])}));return false}}));return v};e.prototype.startsWithAnyOf=function(){var e=getArrayOf.apply(NO_CHAR_ARRAY,arguments);if(!e.every((function(e){return typeof e==="string"}))){return fail(this,"startsWithAnyOf() only works with strings")}if(e.length===0)return emptyCollection(this);return this.inAnyRange(e.map((function(e){return[e,e+maxString]})))};return e}();function createWhereClauseConstructor(e){return makeClassConstructor(WhereClause.prototype,(function t(r,n,i){this.db=e;this._ctx={table:r,index:n===":id"?null:n,or:i};var s=e._deps.indexedDB;if(!s)throw new exceptions.MissingAPI;this._cmp=this._ascending=s.cmp.bind(s);this._descending=function(e,t){return s.cmp(t,e)};this._max=function(e,t){return s.cmp(e,t)>0?e:t};this._min=function(e,t){return s.cmp(e,t)<0?e:t};this._IDBKeyRange=e._deps.IDBKeyRange}))}function eventRejectHandler(e){return wrap((function(t){preventDefault(t);e(t.target.error);return false}))}function preventDefault(e){if(e.stopPropagation)e.stopPropagation();if(e.preventDefault)e.preventDefault()}var DEXIE_STORAGE_MUTATED_EVENT_NAME="storagemutated";var STORAGE_MUTATED_DOM_EVENT_NAME="x-storagemutated-1";var globalEvents=Events(null,DEXIE_STORAGE_MUTATED_EVENT_NAME);var Transaction=function(){function e(){}e.prototype._lock=function(){assert(!PSD.global);++this._reculock;if(this._reculock===1&&!PSD.global)PSD.lockOwnerFor=this;return this};e.prototype._unlock=function(){assert(!PSD.global);if(--this._reculock===0){if(!PSD.global)PSD.lockOwnerFor=null;while(this._blockedFuncs.length>0&&!this._locked()){var e=this._blockedFuncs.shift();try{usePSD(e[1],e[0])}catch(e){}}}return this};e.prototype._locked=function(){return this._reculock&&PSD.lockOwnerFor!==this};e.prototype.create=function(e){var t=this;if(!this.mode)return this;var r=this.db.idbdb;var n=this.db._state.dbOpenError;assert(!this.idbtrans);if(!e&&!r){switch(n&&n.name){case"DatabaseClosedError":throw new exceptions.DatabaseClosed(n);case"MissingAPIError":throw new exceptions.MissingAPI(n.message,n);default:throw new exceptions.OpenFailed(n)}}if(!this.active)throw new exceptions.TransactionInactive;assert(this._completion._state===null);e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}));e.onerror=wrap((function(r){preventDefault(r);t._reject(e.error)}));e.onabort=wrap((function(r){preventDefault(r);t.active&&t._reject(new exceptions.Abort(e.error));t.active=false;t.on("abort").fire(r)}));e.oncomplete=wrap((function(){t.active=false;t._resolve();if("mutatedParts"in e){globalEvents.storagemutated.fire(e["mutatedParts"])}}));return this};e.prototype._promise=function(e,t,r){var n=this;if(e==="readwrite"&&this.mode!=="readwrite")return rejection(new exceptions.ReadOnly("Transaction is readonly"));if(!this.active)return rejection(new exceptions.TransactionInactive);if(this._locked()){return new DexiePromise((function(i,s){n._blockedFuncs.push([function(){n._promise(e,t,r).then(i,s)},PSD])}))}else if(r){return newScope((function(){var e=new DexiePromise((function(e,r){n._lock();var i=t(e,r,n);if(i&&i.then)i.then(e,r)}));e.finally((function(){return n._unlock()}));e._lib=true;return e}))}else{var i=new DexiePromise((function(e,r){var i=t(e,r,n);if(i&&i.then)i.then(e,r)}));i._lib=true;return i}};e.prototype._root=function(){return this.parent?this.parent._root():this};e.prototype.waitFor=function(e){var t=this._root();var r=DexiePromise.resolve(e);if(t._waitingFor){t._waitingFor=t._waitingFor.then((function(){return r}))}else{t._waitingFor=r;t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);(function e(){++t._spinCount;while(t._waitingQueue.length)t._waitingQueue.shift()();if(t._waitingFor)n.get(-Infinity).onsuccess=e})()}var i=t._waitingFor;return new DexiePromise((function(e,n){r.then((function(r){return t._waitingQueue.push(wrap(e.bind(null,r)))}),(function(e){return t._waitingQueue.push(wrap(n.bind(null,e)))})).finally((function(){if(t._waitingFor===i){t._waitingFor=null}}))}))};e.prototype.abort=function(){if(this.active){this.active=false;if(this.idbtrans)this.idbtrans.abort();this._reject(new exceptions.Abort)}};e.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(hasOwn(t,e))return t[e];var r=this.schema[e];if(!r){throw new exceptions.NotFound("Table "+e+" not part of transaction")}var n=new this.db.Table(e,r,this);n.core=this.db.core.table(e);t[e]=n;return n};return e}();function createTransactionConstructor(e){return makeClassConstructor(Transaction.prototype,(function t(r,n,i,s,f){var a=this;this.db=e;this.mode=r;this.storeNames=n;this.schema=i;this.chromeTransactionDurability=s;this.idbtrans=null;this.on=Events(this,"complete","error","abort");this.parent=f||null;this.active=true;this._reculock=0;this._blockedFuncs=[];this._resolve=null;this._reject=null;this._waitingFor=null;this._waitingQueue=null;this._spinCount=0;this._completion=new DexiePromise((function(e,t){a._resolve=e;a._reject=t}));this._completion.then((function(){a.active=false;a.on.complete.fire()}),(function(e){var t=a.active;a.active=false;a.on.error.fire(e);a.parent?a.parent._reject(e):t&&a.idbtrans&&a.idbtrans.abort();return rejection(e)}))}))}function createIndexSpec(e,t,r,n,i,s,f){return{name:e,keyPath:t,unique:r,multi:n,auto:i,compound:s,src:(r&&!f?"&":"")+(n?"*":"")+(i?"++":"")+nameFromKeyPath(t)}}function nameFromKeyPath(e){return typeof e==="string"?e:e?"["+[].join.call(e,"+")+"]":""}function createTableSchema(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:arrayToObject(r,(function(e){return[e.name,e]}))}}function safariMultiStoreFix(e){return e.length===1?e[0]:e}var getMaxKey=function(e){try{e.only([[]]);getMaxKey=function(){return[[]]};return[[]]}catch(e){getMaxKey=function(){return maxString};return maxString}};function getKeyExtractor(e){if(e==null){return function(){return undefined}}else if(typeof e==="string"){return getSinglePathKeyExtractor(e)}else{return function(t){return getByKeyPath(t,e)}}}function getSinglePathKeyExtractor(e){var t=e.split(".");if(t.length===1){return function(t){return t[e]}}else{return function(t){return getByKeyPath(t,e)}}}function arrayify(e){return[].slice.call(e)}var _id_counter=0;function getKeyPathAlias(e){return e==null?":id":typeof e==="string"?e:"["+e.join("+")+"]"}function createDBCore(e,t,r){function n(e,t){var r=arrayify(e.objectStoreNames);return{schema:{name:e.name,tables:r.map((function(e){return t.objectStore(e)})).map((function(e){var t=e.keyPath,r=e.autoIncrement;var n=isArray(t);var i=t==null;var s={};var f={name:e.name,primaryKey:{name:null,isPrimaryKey:true,outbound:i,compound:n,keyPath:t,autoIncrement:r,unique:true,extractKey:getKeyExtractor(t)},indexes:arrayify(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,r=e.unique,n=e.multiEntry,i=e.keyPath;var f=isArray(i);var a={name:t,compound:f,keyPath:i,unique:r,multiEntry:n,extractKey:getKeyExtractor(i)};s[getKeyPathAlias(i)]=a;return a})),getIndexByKeyPath:function(e){return s[getKeyPathAlias(e)]}};s[":id"]=f.primaryKey;if(t!=null){s[getKeyPathAlias(t)]=f.primaryKey}return f}))},hasGetAll:r.length>0&&"getAll"in t.objectStore(r[0])&&!(typeof navigator!=="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(e){if(e.type===3)return null;if(e.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var r=e.lower,n=e.upper,i=e.lowerOpen,s=e.upperOpen;var f=r===undefined?n===undefined?null:t.upperBound(n,!!s):n===undefined?t.lowerBound(r,!!i):t.bound(r,n,!!i,!!s);return f}function s(e){var t=e.name;function r(e){var r=e.trans,n=e.type,s=e.keys,f=e.values,a=e.range;return new Promise((function(e,o){e=wrap(e);var c=r.objectStore(t);var u=c.keyPath==null;var l=n==="put"||n==="add";if(!l&&n!=="delete"&&n!=="deleteRange")throw new Error("Invalid operation type: "+n);var h=(s||f||{length:1}).length;if(s&&f&&s.length!==f.length){throw new Error("Given keys array must have same length as given values array.")}if(h===0)return e({numFailures:0,failures:{},results:[],lastResult:undefined});var d;var p=[];var y=[];var b=0;var m=function(e){++b;preventDefault(e)};if(n==="deleteRange"){if(a.type===4)return e({numFailures:b,failures:y,results:[],lastResult:undefined});if(a.type===3)p.push(d=c.clear());else p.push(d=c.delete(i(a)))}else{var g=l?u?[f,s]:[f,null]:[s,null],v=g[0],w=g[1];if(l){for(var A=0;A<h;++A){p.push(d=w&&w[A]!==undefined?c[n](v[A],w[A]):c[n](v[A]));d.onerror=m}}else{for(var A=0;A<h;++A){p.push(d=c[n](v[A]));d.onerror=m}}}var $=function(t){var r=t.target.result;p.forEach((function(e,t){return e.error!=null&&(y[t]=e.error)}));e({numFailures:b,failures:y,results:n==="delete"?s:p.map((function(e){return e.result})),lastResult:r})};d.onerror=function(e){m(e);$(e)};d.onsuccess=$}))}function n(e){var r=e.trans,n=e.values,s=e.query,f=e.reverse,a=e.unique;return new Promise((function(e,o){e=wrap(e);var c=s.index,u=s.range;var l=r.objectStore(t);var h=c.isPrimaryKey?l:l.index(c.name);var d=f?a?"prevunique":"prev":a?"nextunique":"next";var p=n||!("openKeyCursor"in h)?h.openCursor(i(u),d):h.openKeyCursor(i(u),d);p.onerror=eventRejectHandler(o);p.onsuccess=wrap((function(t){var n=p.result;if(!n){e(null);return}n.___id=++_id_counter;n.done=false;var i=n.continue.bind(n);var s=n.continuePrimaryKey;if(s)s=s.bind(n);var f=n.advance.bind(n);var a=function(){throw new Error("Cursor not started")};var c=function(){throw new Error("Cursor not stopped")};n.trans=r;n.stop=n.continue=n.continuePrimaryKey=n.advance=a;n.fail=wrap(o);n.next=function(){var e=this;var t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))};n.start=function(e){var t=new Promise((function(e,t){e=wrap(e);p.onerror=eventRejectHandler(t);n.fail=t;n.stop=function(t){n.stop=n.continue=n.continuePrimaryKey=n.advance=c;e(t)}}));var r=function(){if(p.result){try{e()}catch(e){n.fail(e)}}else{n.done=true;n.start=function(){throw new Error("Cursor behind last entry")};n.stop()}};p.onsuccess=wrap((function(e){p.onsuccess=r;r()}));n.continue=i;n.continuePrimaryKey=s;n.advance=f;r();return t};e(n)}),o)}))}function s(e){return function(r){return new Promise((function(n,s){n=wrap(n);var f=r.trans,a=r.values,o=r.limit,c=r.query;var u=o===Infinity?undefined:o;var l=c.index,h=c.range;var d=f.objectStore(t);var p=l.isPrimaryKey?d:d.index(l.name);var y=i(h);if(o===0)return n({result:[]});if(e){var b=a?p.getAll(y,u):p.getAllKeys(y,u);b.onsuccess=function(e){return n({result:e.target.result})};b.onerror=eventRejectHandler(s)}else{var m=0;var g=a||!("openKeyCursor"in p)?p.openCursor(y):p.openKeyCursor(y);var v=[];g.onsuccess=function(e){var t=g.result;if(!t)return n({result:v});v.push(a?t.value:t.primaryKey);if(++m===o)return n({result:v});t.continue()};g.onerror=eventRejectHandler(s)}}))}}return{name:t,schema:e,mutate:r,getMany:function(e){var r=e.trans,n=e.keys;return new Promise((function(e,i){e=wrap(e);var s=r.objectStore(t);var f=n.length;var a=new Array(f);var o=0;var c=0;var u;var l=function(t){var r=t.target;if((a[r._pos]=r.result)!=null);if(++c===o)e(a)};var h=eventRejectHandler(i);for(var d=0;d<f;++d){var p=n[d];if(p!=null){u=s.get(n[d]);u._pos=d;u.onsuccess=l;u.onerror=h;++o}}if(o===0)e(a)}))},get:function(e){var r=e.trans,n=e.key;return new Promise((function(e,i){e=wrap(e);var s=r.objectStore(t);var f=s.get(n);f.onsuccess=function(t){return e(t.target.result)};f.onerror=eventRejectHandler(i)}))},query:s(o),openCursor:n,count:function(e){var r=e.query,n=e.trans;var s=r.index,f=r.range;return new Promise((function(e,r){var a=n.objectStore(t);var o=s.isPrimaryKey?a:a.index(s.name);var c=i(f);var u=c?o.count(c):o.count();u.onsuccess=wrap((function(t){return e(t.target.result)}));u.onerror=eventRejectHandler(r)}))}}}var f=n(e,r),a=f.schema,o=f.hasGetAll;var c=a.tables.map((function(e){return s(e)}));var u={};c.forEach((function(e){return u[e.name]=e}));return{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){var t=u[e];if(!t)throw new Error("Table '"+e+"' not found");return u[e]},MIN_KEY:-Infinity,MAX_KEY:getMaxKey(t),schema:a}}function createMiddlewareStack(e,t){return t.reduce((function(e,t){var r=t.create;return __assign(__assign({},e),r(e))}),e)}function createMiddlewareStacks(e,t,r,n){var i=r.IDBKeyRange;var s=createMiddlewareStack(createDBCore(t,i,n),e.dbcore);return{dbcore:s}}function generateMiddlewareStacks(e,t){var r=e._novip;var n=t.db;var i=createMiddlewareStacks(r._middlewares,n,r._deps,t);r.core=i.dbcore;r.tables.forEach((function(e){var t=e.name;if(r.core.schema.tables.some((function(e){return e.name===t}))){e.core=r.core.table(t);if(r[t]instanceof r.Table){r[t].core=e.core}}}))}function setApiOnPlace(e,t,r,n){var i=e._novip;r.forEach((function(e){var r=n[e];t.forEach((function(t){var n=getPropertyDescriptor(t,e);if(!n||"value"in n&&n.value===undefined){if(t===i.Transaction.prototype||t instanceof i.Transaction){setProp(t,e,{get:function(){return this.table(e)},set:function(t){defineProperty(this,e,{value:t,writable:true,configurable:true,enumerable:true})}})}else{t[e]=new i.Table(e,r)}}}))}))}function removeTablesApi(e,t){var r=e._novip;t.forEach((function(e){for(var t in e){if(e[t]instanceof r.Table)delete e[t]}}))}function lowerVersionFirst(e,t){return e._cfg.version-t._cfg.version}function runUpgraders(e,t,r,n){var i=e._dbSchema;var s=e._createTransaction("readwrite",e._storeNames,i);s.create(r);s._completion.catch(n);var f=s._reject.bind(s);var a=PSD.transless||PSD;newScope((function(){PSD.trans=s;PSD.transless=a;if(t===0){keys(i).forEach((function(e){createTable(r,e,i[e].primKey,i[e].indexes)}));generateMiddlewareStacks(e,r);DexiePromise.follow((function(){return e.on.populate.fire(s)})).catch(f)}else updateTablesAndIndexes(e,t,s,r).catch(f)}))}function updateTablesAndIndexes(e,t,r,n){var i=e._novip;var s=[];var f=i._versions;var a=i._dbSchema=buildGlobalSchema(i,i.idbdb,n);var o=false;var c=f.filter((function(e){return e._cfg.version>=t}));c.forEach((function(e){s.push((function(){var s=a;var f=e._cfg.dbschema;adjustToExistingIndexNames(i,s,n);adjustToExistingIndexNames(i,f,n);a=i._dbSchema=f;var c=getSchemaDiff(s,f);c.add.forEach((function(e){createTable(n,e[0],e[1].primKey,e[1].indexes)}));c.change.forEach((function(e){if(e.recreate){throw new exceptions.Upgrade("Not yet support for changing primary key")}else{var t=n.objectStore(e.name);e.add.forEach((function(e){return addIndex(t,e)}));e.change.forEach((function(e){t.deleteIndex(e.name);addIndex(t,e)}));e.del.forEach((function(e){return t.deleteIndex(e)}))}}));var u=e._cfg.contentUpgrade;if(u&&e._cfg.version>t){generateMiddlewareStacks(i,n);r._memoizedTables={};o=true;var l=shallowClone(f);c.del.forEach((function(e){l[e]=s[e]}));removeTablesApi(i,[i.Transaction.prototype]);setApiOnPlace(i,[i.Transaction.prototype],keys(l),l);r.schema=l;var h=isAsyncFunction(u);if(h){incrementExpectedAwaits()}var d;var p=DexiePromise.follow((function(){d=u(r);if(d){if(h){var e=decrementExpectedAwaits.bind(null,null);d.then(e,e)}}}));return d&&typeof d.then==="function"?DexiePromise.resolve(d):p.then((function(){return d}))}}));s.push((function(t){if(!o||!hasIEDeleteObjectStoreBug){var n=e._cfg.dbschema;deleteRemovedTables(n,t)}removeTablesApi(i,[i.Transaction.prototype]);setApiOnPlace(i,[i.Transaction.prototype],i._storeNames,i._dbSchema);r.schema=i._dbSchema}))}));function u(){return s.length?DexiePromise.resolve(s.shift()(r.idbtrans)).then(u):DexiePromise.resolve()}return u().then((function(){createMissingTables(a,n)}))}function getSchemaDiff(e,t){var r={del:[],add:[],change:[]};var n;for(n in e){if(!t[n])r.del.push(n)}for(n in t){var i=e[n],s=t[n];if(!i){r.add.push([n,s])}else{var f={name:n,def:s,recreate:false,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!==""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!isIEOrEdge){f.recreate=true;r.change.push(f)}else{var a=i.idxByName;var o=s.idxByName;var c=void 0;for(c in a){if(!o[c])f.del.push(c)}for(c in o){var u=a[c],l=o[c];if(!u)f.add.push(l);else if(u.src!==l.src)f.change.push(l)}if(f.del.length>0||f.add.length>0||f.change.length>0){r.change.push(f)}}}}return r}function createTable(e,t,r,n){var i=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});n.forEach((function(e){return addIndex(i,e)}));return i}function createMissingTables(e,t){keys(e).forEach((function(r){if(!t.db.objectStoreNames.contains(r)){createTable(t,r,e[r].primKey,e[r].indexes)}}))}function deleteRemovedTables(e,t){[].slice.call(t.db.objectStoreNames).forEach((function(r){return e[r]==null&&t.db.deleteObjectStore(r)}))}function addIndex(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function buildGlobalSchema(e,t,r){var n={};var i=slice(t.objectStoreNames,0);i.forEach((function(e){var t=r.objectStore(e);var i=t.keyPath;var s=createIndexSpec(nameFromKeyPath(i),i||"",false,false,!!t.autoIncrement,i&&typeof i!=="string",true);var f=[];for(var a=0;a<t.indexNames.length;++a){var o=t.index(t.indexNames[a]);i=o.keyPath;var c=createIndexSpec(o.name,i,!!o.unique,!!o.multiEntry,false,i&&typeof i!=="string",false);f.push(c)}n[e]=createTableSchema(e,s,f)}));return n}function readGlobalSchema(e,t,r){var n=e._novip;n.verno=t.version/10;var i=n._dbSchema=buildGlobalSchema(n,t,r);n._storeNames=slice(t.objectStoreNames,0);setApiOnPlace(n,[n._allTables],keys(i),i)}function verifyInstalledSchema(e,t){var r=buildGlobalSchema(e,e.idbdb,t);var n=getSchemaDiff(r,e._dbSchema);return!(n.add.length||n.change.some((function(e){return e.add.length||e.change.length})))}function adjustToExistingIndexNames(e,t,r){var n=e._novip;var i=r.db.objectStoreNames;for(var s=0;s<i.length;++s){var f=i[s];var a=r.objectStore(f);n._hasGetAll="getAll"in a;for(var o=0;o<a.indexNames.length;++o){var c=a.indexNames[o];var u=a.index(c).keyPath;var l=typeof u==="string"?u:"["+slice(u).join("+")+"]";if(t[f]){var h=t[f].idxByName[l];if(h){h.name=c;delete t[f].idxByName[l];t[f].idxByName[c]=h}}}}if(typeof navigator!=="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&_global.WorkerGlobalScope&&_global instanceof _global.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604){n._hasGetAll=false}}function parseIndexSyntax(e){return e.split(",").map((function(e,t){e=e.trim();var r=e.replace(/([&*]|\+\+)/g,"");var n=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return createIndexSpec(r,n||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),isArray(n),t===0)}))}var Version=function(){function e(){}e.prototype._parseStoresSpec=function(e,t){keys(e).forEach((function(r){if(e[r]!==null){var n=parseIndexSyntax(e[r]);var i=n.shift();if(i.multi)throw new exceptions.Schema("Primary key cannot be multi-valued");n.forEach((function(e){if(e.auto)throw new exceptions.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new exceptions.Schema("Index must have a name and cannot be an empty string")}));t[r]=createTableSchema(r,i,n)}}))};e.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?extend(this._cfg.storesSource,e):e;var r=t._versions;var n={};var i={};r.forEach((function(e){extend(n,e._cfg.storesSource);i=e._cfg.dbschema={};e._parseStoresSpec(n,i)}));t._dbSchema=i;removeTablesApi(t,[t._allTables,t,t.Transaction.prototype]);setApiOnPlace(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],keys(i),i);t._storeNames=keys(i);return this};e.prototype.upgrade=function(e){this._cfg.contentUpgrade=promisableChain(this._cfg.contentUpgrade||nop,e);return this};return e}();function createVersionConstructor(e){return makeClassConstructor(Version.prototype,(function t(r){this.db=e;this._cfg={version:r,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}function getDbNamesTable(e,t){var r=e["_dbNamesDB"];if(!r){r=e["_dbNamesDB"]=new Dexie$1(DBNAMES_DB,{addons:[],indexedDB:e,IDBKeyRange:t});r.version(1).stores({dbnames:"name"})}return r.table("dbnames")}function hasDatabasesNative(e){return e&&typeof e.databases==="function"}function getDatabaseNames(e){var t=e.indexedDB,r=e.IDBKeyRange;return hasDatabasesNative(t)?Promise.resolve(t.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return e!==DBNAMES_DB}))})):getDbNamesTable(t,r).toCollection().primaryKeys()}function _onDatabaseCreated(e,t){var r=e.indexedDB,n=e.IDBKeyRange;!hasDatabasesNative(r)&&t!==DBNAMES_DB&&getDbNamesTable(r,n).put({name:t}).catch(nop)}function _onDatabaseDeleted(e,t){var r=e.indexedDB,n=e.IDBKeyRange;!hasDatabasesNative(r)&&t!==DBNAMES_DB&&getDbNamesTable(r,n).delete(t).catch(nop)}function vip(e){return newScope((function(){PSD.letThrough=true;return e()}))}function idbReady(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise((function(e){var r=function(){return indexedDB.databases().finally(e)};t=setInterval(r,100);r()})).finally((function(){return clearInterval(t)}))}function dexieOpen(e){var t=e._state;var r=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?rejection(t.dbOpenError):e}));debug&&(t.openCanceller._stackHolder=getErrorWithStack());t.isBeingOpened=true;t.dbOpenError=null;t.openComplete=false;var n=t.openCanceller;function i(){if(t.openCanceller!==n)throw new exceptions.DatabaseClosed("db.open() was cancelled")}var s=t.dbReadyResolve,f=null,a=false;return DexiePromise.race([n,(typeof navigator==="undefined"?DexiePromise.resolve():idbReady()).then((function(){return new DexiePromise((function(n,s){i();if(!r)throw new exceptions.MissingAPI;var o=e.name;var c=t.autoSchema?r.open(o):r.open(o,Math.round(e.verno*10));if(!c)throw new exceptions.MissingAPI;c.onerror=eventRejectHandler(s);c.onblocked=wrap(e._fireOnBlocked);c.onupgradeneeded=wrap((function(n){f=c.transaction;if(t.autoSchema&&!e._options.allowEmptyDB){c.onerror=preventDefault;f.abort();c.result.close();var i=r.deleteDatabase(o);i.onsuccess=i.onerror=wrap((function(){s(new exceptions.NoSuchDatabase("Database "+o+" doesnt exist"))}))}else{f.onerror=eventRejectHandler(s);var u=n.oldVersion>Math.pow(2,62)?0:n.oldVersion;a=u<1;e._novip.idbdb=c.result;runUpgraders(e,u/10,f,s)}}),s);c.onsuccess=wrap((function(){f=null;var r=e._novip.idbdb=c.result;var i=slice(r.objectStoreNames);if(i.length>0)try{var s=r.transaction(safariMultiStoreFix(i),"readonly");if(t.autoSchema)readGlobalSchema(e,r,s);else{adjustToExistingIndexNames(e,e._dbSchema,s);if(!verifyInstalledSchema(e,s)){console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")}}generateMiddlewareStacks(e,s)}catch(e){}connections.push(e);r.onversionchange=wrap((function(r){t.vcFired=true;e.on("versionchange").fire(r)}));r.onclose=wrap((function(t){e.on("close").fire(t)}));if(a)_onDatabaseCreated(e._deps,o);n()}),s)}))}))]).then((function(){i();t.onReadyBeingFired=[];return DexiePromise.resolve(vip((function(){return e.on.ready.fire(e.vip)}))).then((function r(){if(t.onReadyBeingFired.length>0){var n=t.onReadyBeingFired.reduce(promisableChain,nop);t.onReadyBeingFired=[];return DexiePromise.resolve(vip((function(){return n(e.vip)}))).then(r)}}))})).finally((function(){t.onReadyBeingFired=null;t.isBeingOpened=false})).then((function(){return e})).catch((function(r){t.dbOpenError=r;try{f&&f.abort()}catch(e){}if(n===t.openCanceller){e._close()}return rejection(r)})).finally((function(){t.openComplete=true;s()}))}function awaitIterator(e){var t=function(t){return e.next(t)},r=function(t){return e.throw(t)},n=s(t),i=s(r);function s(e){return function(t){var r=e(t),s=r.value;return r.done?s:!s||typeof s.then!=="function"?isArray(s)?Promise.all(s).then(n,i):n(s):s.then(n,i)}}return s(t)()}function extractTransactionArgs(e,t,r){var n=arguments.length;if(n<2)throw new exceptions.InvalidArgument("Too few arguments");var i=new Array(n-1);while(--n)i[n-1]=arguments[n];r=i.pop();var s=flatten(i);return[e,s,r]}function enterTransactionScope(e,t,r,n,i){return DexiePromise.resolve().then((function(){var s=PSD.transless||PSD;var f=e._createTransaction(t,r,e._dbSchema,n);var a={trans:f,transless:s};if(n){f.idbtrans=n.idbtrans}else{try{f.create();e._state.PR1398_maxLoop=3}catch(n){if(n.name===errnames.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0){console.warn("Dexie: Need to reopen db");e._close();return e.open().then((function(){return enterTransactionScope(e,t,r,null,i)}))}return rejection(n)}}var o=isAsyncFunction(i);if(o){incrementExpectedAwaits()}var c;var u=DexiePromise.follow((function(){c=i.call(f,f);if(c){if(o){var e=decrementExpectedAwaits.bind(null,null);c.then(e,e)}else if(typeof c.next==="function"&&typeof c.throw==="function"){c=awaitIterator(c)}}}),a);return(c&&typeof c.then==="function"?DexiePromise.resolve(c).then((function(e){return f.active?e:rejection(new exceptions.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):u.then((function(){return c}))).then((function(e){if(n)f._resolve();return f._completion.then((function(){return e}))})).catch((function(e){f._reject(e);return rejection(e)}))}))}function pad(e,t,r){var n=isArray(e)?e.slice():[e];for(var i=0;i<r;++i)n.push(t);return n}function createVirtualIndexMiddleware(e){return __assign(__assign({},e),{table:function(t){var r=e.table(t);var n=r.schema;var i={};var s=[];function f(e,t,r){var n=getKeyPathAlias(e);var a=i[n]=i[n]||[];var o=e==null?0:typeof e==="string"?1:e.length;var c=t>0;var u=__assign(__assign({},r),{isVirtual:c,keyTail:t,keyLength:o,extractKey:getKeyExtractor(e),unique:!c&&r.unique});a.push(u);if(!u.isPrimaryKey){s.push(u)}if(o>1){var l=o===2?e[0]:e.slice(0,o-1);f(l,t+1,r)}a.sort((function(e,t){return e.keyTail-t.keyTail}));return u}var a=f(n.primaryKey.keyPath,0,n.primaryKey);i[":id"]=[a];for(var o=0,c=n.indexes;o<c.length;o++){var u=c[o];f(u.keyPath,0,u)}function l(e){var t=i[getKeyPathAlias(e)];return t&&t[0]}function h(t,r){return{type:t.type===1?2:t.type,lower:pad(t.lower,t.lowerOpen?e.MAX_KEY:e.MIN_KEY,r),lowerOpen:true,upper:pad(t.upper,t.upperOpen?e.MIN_KEY:e.MAX_KEY,r),upperOpen:true}}function d(e){var t=e.query.index;return t.isVirtual?__assign(__assign({},e),{query:{index:t,range:h(e.query.range,t.keyTail)}}):e}var p=__assign(__assign({},r),{schema:__assign(__assign({},n),{primaryKey:a,indexes:s,getIndexByKeyPath:l}),count:function(e){return r.count(d(e))},query:function(e){return r.query(d(e))},openCursor:function(t){var n=t.query.index,i=n.keyTail,s=n.isVirtual,f=n.keyLength;if(!s)return r.openCursor(t);function a(r){function n(n){n!=null?r.continue(pad(n,t.reverse?e.MAX_KEY:e.MIN_KEY,i)):t.unique?r.continue(r.key.slice(0,f).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,i)):r.continue()}var s=Object.create(r,{continue:{value:n},continuePrimaryKey:{value:function(t,n){r.continuePrimaryKey(pad(t,e.MAX_KEY,i),n)}},primaryKey:{get:function(){return r.primaryKey}},key:{get:function(){var e=r.key;return f===1?e[0]:e.slice(0,f)}},value:{get:function(){return r.value}}});return s}return r.openCursor(d(t)).then((function(e){return e&&a(e)}))}});return p}})}var virtualIndexMiddleware={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:createVirtualIndexMiddleware};function getObjectDiff(e,t,r,n){r=r||{};n=n||"";keys(e).forEach((function(i){if(!hasOwn(t,i)){r[n+i]=undefined}else{var s=e[i],f=t[i];if(typeof s==="object"&&typeof f==="object"&&s&&f){var a=toStringTag(s);var o=toStringTag(f);if(a!==o){r[n+i]=t[i]}else if(a==="Object"){getObjectDiff(s,f,r,n+i+".")}else if(s!==f){r[n+i]=t[i]}}else if(s!==f)r[n+i]=t[i]}}));keys(t).forEach((function(i){if(!hasOwn(e,i)){r[n+i]=t[i]}}));return r}function getEffectiveKeys(e,t){if(t.type==="delete")return t.keys;return t.keys||t.values.map(e.extractKey)}var hooksMiddleware={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return __assign(__assign({},e),{table:function(t){var r=e.table(t);var n=r.schema.primaryKey;var i=__assign(__assign({},r),{mutate:function(e){var i=PSD.trans;var s=i.table(t).hook,f=s.deleting,a=s.creating,o=s.updating;switch(e.type){case"add":if(a.fire===nop)break;return i._promise("readwrite",(function(){return c(e)}),true);case"put":if(a.fire===nop&&o.fire===nop)break;return i._promise("readwrite",(function(){return c(e)}),true);case"delete":if(f.fire===nop)break;return i._promise("readwrite",(function(){return c(e)}),true);case"deleteRange":if(f.fire===nop)break;return i._promise("readwrite",(function(){return u(e)}),true)}return r.mutate(e);function c(e){var t=PSD.trans;var i=e.keys||getEffectiveKeys(n,e);if(!i)throw new Error("Keys missing");e=e.type==="add"||e.type==="put"?__assign(__assign({},e),{keys:i}):__assign({},e);if(e.type!=="delete")e.values=__spreadArray([],e.values,true);if(e.keys)e.keys=__spreadArray([],e.keys,true);return getExistingValues(r,e,i).then((function(s){var c=i.map((function(r,i){var c=s[i];var u={onerror:null,onsuccess:null};if(e.type==="delete"){f.fire.call(u,r,c,t)}else if(e.type==="add"||c===undefined){var l=a.fire.call(u,r,e.values[i],t);if(r==null&&l!=null){r=l;e.keys[i]=r;if(!n.outbound){setByKeyPath(e.values[i],n.keyPath,r)}}}else{var h=getObjectDiff(c,e.values[i]);var d=o.fire.call(u,h,r,c,t);if(d){var p=e.values[i];Object.keys(d).forEach((function(e){if(hasOwn(p,e)){p[e]=d[e]}else{setByKeyPath(p,e,d[e])}}))}}return u}));return r.mutate(e).then((function(t){var r=t.failures,n=t.results,f=t.numFailures,a=t.lastResult;for(var o=0;o<i.length;++o){var u=n?n[o]:i[o];var l=c[o];if(u==null){l.onerror&&l.onerror(r[o])}else{l.onsuccess&&l.onsuccess(e.type==="put"&&s[o]?e.values[o]:u)}}return{failures:r,results:n,numFailures:f,lastResult:a}})).catch((function(e){c.forEach((function(t){return t.onerror&&t.onerror(e)}));return Promise.reject(e)}))}))}function u(e){return l(e.trans,e.range,1e4)}function l(e,t,i){return r.query({trans:e,values:false,query:{index:n,range:t},limit:i}).then((function(r){var n=r.result;return c({type:"delete",keys:n,trans:e}).then((function(r){if(r.numFailures>0)return Promise.reject(r.failures[0]);if(n.length<i){return{failures:[],numFailures:0,lastResult:undefined}}else{return l(e,__assign(__assign({},t),{lower:n[n.length-1],lowerOpen:true}),i)}}))}))}}});return i}})}};function getExistingValues(e,t,r){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:r,cache:"immutable"})}function getFromTransactionCache(e,t,r){try{if(!t)return null;if(t.keys.length<e.length)return null;var n=[];for(var i=0,s=0;i<t.keys.length&&s<e.length;++i){if(cmp(t.keys[i],e[s])!==0)continue;n.push(r?deepClone(t.values[i]):t.values[i]);++s}return n.length===e.length?n:null}catch(e){return null}}var cacheExistingValuesMiddleware={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var r=e.table(t);return __assign(__assign({},r),{getMany:function(e){if(!e.cache){return r.getMany(e)}var t=getFromTransactionCache(e.keys,e.trans["_cache"],e.cache==="clone");if(t){return DexiePromise.resolve(t)}return r.getMany(e).then((function(t){e.trans["_cache"]={keys:e.keys,values:e.cache==="clone"?deepClone(t):t};return t}))},mutate:function(e){if(e.type!=="add")e.trans["_cache"]=null;return r.mutate(e)}})}}}};var _a;function isEmptyRange(e){return!("from"in e)}var RangeSet=function(e,t){if(this){extend(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})}else{var r=new RangeSet;if(e&&"d"in e){extend(r,e)}return r}};props(RangeSet.prototype,(_a={add:function(e){mergeRanges(this,e);return this},addKey:function(e){addRange(this,e,e);return this},addKeys:function(e){var t=this;e.forEach((function(e){return addRange(t,e,e)}));return this}},_a[iteratorSymbol]=function(){return getRangeSetIterator(this)},_a));function addRange(e,t,r){var n=cmp(t,r);if(isNaN(n))return;if(n>0)throw RangeError();if(isEmptyRange(e))return extend(e,{from:t,to:r,d:1});var i=e.l;var s=e.r;if(cmp(r,e.from)<0){i?addRange(i,t,r):e.l={from:t,to:r,d:1,l:null,r:null};return rebalance(e)}if(cmp(t,e.to)>0){s?addRange(s,t,r):e.r={from:t,to:r,d:1,l:null,r:null};return rebalance(e)}if(cmp(t,e.from)<0){e.from=t;e.l=null;e.d=s?s.d+1:1}if(cmp(r,e.to)>0){e.to=r;e.r=null;e.d=e.l?e.l.d+1:1}var f=!e.r;if(i&&!e.l){mergeRanges(e,i)}if(s&&f){mergeRanges(e,s)}}function mergeRanges(e,t){function r(e,t){var n=t.from,i=t.to,s=t.l,f=t.r;addRange(e,n,i);if(s)r(e,s);if(f)r(e,f)}if(!isEmptyRange(t))r(e,t)}function rangesOverlap(e,t){var r=getRangeSetIterator(t);var n=r.next();if(n.done)return false;var i=n.value;var s=getRangeSetIterator(e);var f=s.next(i.from);var a=f.value;while(!n.done&&!f.done){if(cmp(a.from,i.to)<=0&&cmp(a.to,i.from)>=0)return true;cmp(i.from,a.from)<0?i=(n=r.next(a.from)).value:a=(f=s.next(i.from)).value}return false}function getRangeSetIterator(e){var t=isEmptyRange(e)?null:{s:0,n:e};return{next:function(e){var r=arguments.length>0;while(t){switch(t.s){case 0:t.s=1;if(r){while(t.n.l&&cmp(e,t.n.from)<0)t={up:t,n:t.n.l,s:1}}else{while(t.n.l)t={up:t,n:t.n.l,s:1}}case 1:t.s=2;if(!r||cmp(e,t.n.to)<=0)return{value:t.n,done:false};case 2:if(t.n.r){t.s=3;t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}}return{done:true}}}}function rebalance(e){var t,r;var n=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((r=e.l)===null||r===void 0?void 0:r.d)||0);var i=n>1?"r":n<-1?"l":"";if(i){var s=i==="r"?"l":"r";var f=__assign({},e);var a=e[i];e.from=a.from;e.to=a.to;e[i]=a[i];f[i]=a[s];e[s]=f;f.d=computeDepth(f)}e.d=computeDepth(e)}function computeDepth(e){var t=e.r,r=e.l;return(t?r?Math.max(t.d,r.d):t.d:r?r.d:0)+1}var observabilityMiddleware={stack:"dbcore",level:0,create:function(e){var t=e.schema.name;var r=new RangeSet(e.MIN_KEY,e.MAX_KEY);return __assign(__assign({},e),{table:function(n){var i=e.table(n);var s=i.schema;var f=s.primaryKey;var a=f.extractKey,o=f.outbound;var c=__assign(__assign({},i),{mutate:function(e){var f=e.trans;var a=f.mutatedParts||(f.mutatedParts={});var o=function(e){var r="idb://"+t+"/"+n+"/"+e;return a[r]||(a[r]=new RangeSet)};var c=o("");var u=o(":dels");var l=e.type;var h=e.type==="deleteRange"?[e.range]:e.type==="delete"?[e.keys]:e.values.length<50?[[],e.values]:[],d=h[0],p=h[1];var y=e.trans["_cache"];return i.mutate(e).then((function(e){if(isArray(d)){if(l!=="delete")d=e.results;c.addKeys(d);var t=getFromTransactionCache(d,y);if(!t&&l!=="add"){u.addKeys(d)}if(t||p){trackAffectedIndexes(o,s,t,p)}}else if(d){var n={from:d.lower,to:d.upper};u.add(n);c.add(n)}else{c.add(r);u.add(r);s.indexes.forEach((function(e){return o(e.name).add(r)}))}return e}))}});var u=function(t){var r,n;var i=t.query,s=i.index,f=i.range;return[s,new RangeSet((r=f.lower)!==null&&r!==void 0?r:e.MIN_KEY,(n=f.upper)!==null&&n!==void 0?n:e.MAX_KEY)]};var l={get:function(e){return[f,new RangeSet(e.key)]},getMany:function(e){return[f,(new RangeSet).addKeys(e.keys)]},count:u,query:u,openCursor:u};keys(l).forEach((function(e){c[e]=function(s){var f=PSD.subscr;if(f){var c=function(e){var r="idb://"+t+"/"+n+"/"+e;return f[r]||(f[r]=new RangeSet)};var u=c("");var h=c(":dels");var d=l[e](s),p=d[0],y=d[1];c(p.name||"").add(y);if(!p.isPrimaryKey){if(e==="count"){h.add(r)}else{var b=e==="query"&&o&&s.values&&i.query(__assign(__assign({},s),{values:false}));return i[e].apply(this,arguments).then((function(t){if(e==="query"){if(o&&s.values){return b.then((function(e){var r=e.result;u.addKeys(r);return t}))}var r=s.values?t.result.map(a):t.result;if(s.values){u.addKeys(r)}else{h.addKeys(r)}}else if(e==="openCursor"){var n=t;var i=s.values;return n&&Object.create(n,{key:{get:function(){h.addKey(n.primaryKey);return n.key}},primaryKey:{get:function(){var e=n.primaryKey;h.addKey(e);return e}},value:{get:function(){i&&u.addKey(n.primaryKey);return n.value}}})}return t}))}}}return i[e].apply(this,arguments)}}));return c}})}};function trackAffectedIndexes(e,t,r,n){function i(t){var i=e(t.name||"");function s(e){return e!=null?t.extractKey(e):null}var f=function(e){return t.multiEntry&&isArray(e)?e.forEach((function(e){return i.addKey(e)})):i.addKey(e)};(r||n).forEach((function(e,t){var i=r&&s(r[t]);var a=n&&s(n[t]);if(cmp(i,a)!==0){if(i!=null)f(i);if(a!=null)f(a)}}))}t.indexes.forEach(i)}var Dexie$1=function(){function e(t,r){var n=this;this._middlewares={};this.verno=0;var i=e.dependencies;this._options=r=__assign({addons:e.addons,autoOpen:true,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},r);this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};var s=r.addons;this._dbSchema={};this._versions=[];this._storeNames=[];this._allTables={};this.idbdb=null;this._novip=this;var f={dbOpenError:null,isBeingOpened:false,onReadyBeingFired:null,openComplete:false,dbReadyResolve:nop,dbReadyPromise:null,cancelOpen:nop,openCanceller:null,autoSchema:true,PR1398_maxLoop:3};f.dbReadyPromise=new DexiePromise((function(e){f.dbReadyResolve=e}));f.openCanceller=new DexiePromise((function(e,t){f.cancelOpen=t}));this._state=f;this.name=t;this.on=Events(this,"populate","blocked","versionchange","close",{ready:[promisableChain,nop]});this.on.ready.subscribe=override(this.on.ready.subscribe,(function(t){return function(r,i){e.vip((function(){var e=n._state;if(e.openComplete){if(!e.dbOpenError)DexiePromise.resolve().then(r);if(i)t(r)}else if(e.onReadyBeingFired){e.onReadyBeingFired.push(r);if(i)t(r)}else{t(r);var s=n;if(!i)t((function e(){s.on.ready.unsubscribe(r);s.on.ready.unsubscribe(e)}))}}))}}));this.Collection=createCollectionConstructor(this);this.Table=createTableConstructor(this);this.Transaction=createTransactionConstructor(this);this.Version=createVersionConstructor(this);this.WhereClause=createWhereClauseConstructor(this);this.on("versionchange",(function(e){if(e.newVersion>0)console.warn("Another connection wants to upgrade database '"+n.name+"'. Closing db now to resume the upgrade.");else console.warn("Another connection wants to delete database '"+n.name+"'. Closing db now to resume the delete request.");n.close()}));this.on("blocked",(function(e){if(!e.newVersion||e.newVersion<e.oldVersion)console.warn("Dexie.delete('"+n.name+"') was blocked");else console.warn("Upgrade '"+n.name+"' blocked by other connection holding version "+e.oldVersion/10)}));this._maxKey=getMaxKey(r.IDBKeyRange);this._createTransaction=function(e,t,r,i){return new n.Transaction(e,t,r,n._options.chromeTransactionDurability,i)};this._fireOnBlocked=function(e){n.on("blocked").fire(e);connections.filter((function(e){return e.name===n.name&&e!==n&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))};this.use(virtualIndexMiddleware);this.use(hooksMiddleware);this.use(observabilityMiddleware);this.use(cacheExistingValuesMiddleware);this.vip=Object.create(this,{_vip:{value:true}});s.forEach((function(e){return e(n)}))}e.prototype.version=function(e){if(isNaN(e)||e<.1)throw new exceptions.Type("Given version is not a positive number");e=Math.round(e*10)/10;if(this.idbdb||this._state.isBeingOpened)throw new exceptions.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions;var r=t.filter((function(t){return t._cfg.version===e}))[0];if(r)return r;r=new this.Version(e);t.push(r);t.sort(lowerVersionFirst);r.stores({});this._state.autoSchema=false;return r};e.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||PSD.letThrough||this._vip)?e():new DexiePromise((function(e,r){if(t._state.openComplete){return r(new exceptions.DatabaseClosed(t._state.dbOpenError))}if(!t._state.isBeingOpened){if(!t._options.autoOpen){r(new exceptions.DatabaseClosed);return}t.open().catch(nop)}t._state.dbReadyPromise.then(e,r)})).then(e)};e.prototype.use=function(e){var t=e.stack,r=e.create,n=e.level,i=e.name;if(i)this.unuse({stack:t,name:i});var s=this._middlewares[t]||(this._middlewares[t]=[]);s.push({stack:t,create:r,level:n==null?10:n,name:i});s.sort((function(e,t){return e.level-t.level}));return this};e.prototype.unuse=function(e){var t=e.stack,r=e.name,n=e.create;if(t&&this._middlewares[t]){this._middlewares[t]=this._middlewares[t].filter((function(e){return n?e.create!==n:r?e.name!==r:false}))}return this};e.prototype.open=function(){return dexieOpen(this)};e.prototype._close=function(){var e=this._state;var t=connections.indexOf(this);if(t>=0)connections.splice(t,1);if(this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new DexiePromise((function(t){e.dbReadyResolve=t}));e.openCanceller=new DexiePromise((function(t,r){e.cancelOpen=r}))};e.prototype.close=function(){this._close();var e=this._state;this._options.autoOpen=false;e.dbOpenError=new exceptions.DatabaseClosed;if(e.isBeingOpened)e.cancelOpen(e.dbOpenError)};e.prototype.delete=function(){var e=this;var t=arguments.length>0;var r=this._state;return new DexiePromise((function(n,i){var s=function(){e.close();var t=e._deps.indexedDB.deleteDatabase(e.name);t.onsuccess=wrap((function(){_onDatabaseDeleted(e._deps,e.name);n()}));t.onerror=eventRejectHandler(i);t.onblocked=e._fireOnBlocked};if(t)throw new exceptions.InvalidArgument("Arguments not allowed in db.delete()");if(r.isBeingOpened){r.dbReadyPromise.then(s)}else{s()}}))};e.prototype.backendDB=function(){return this.idbdb};e.prototype.isOpen=function(){return this.idbdb!==null};e.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"};e.prototype.hasFailed=function(){return this._state.dbOpenError!==null};e.prototype.dynamicallyOpened=function(){return this._state.autoSchema};Object.defineProperty(e.prototype,"tables",{get:function(){var e=this;return keys(this._allTables).map((function(t){return e._allTables[t]}))},enumerable:false,configurable:true});e.prototype.transaction=function(){var e=extractTransactionArgs.apply(this,arguments);return this._transaction.apply(this,e)};e.prototype._transaction=function(e,t,r){var n=this;var i=PSD.trans;if(!i||i.db!==this||e.indexOf("!")!==-1)i=null;var s=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");var f,a;try{a=t.map((function(e){var t=e instanceof n.Table?e.name:e;if(typeof t!=="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t}));if(e=="r"||e===READONLY)f=READONLY;else if(e=="rw"||e==READWRITE)f=READWRITE;else throw new exceptions.InvalidArgument("Invalid transaction mode: "+e);if(i){if(i.mode===READONLY&&f===READWRITE){if(s){i=null}else throw new exceptions.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY")}if(i){a.forEach((function(e){if(i&&i.storeNames.indexOf(e)===-1){if(s){i=null}else throw new exceptions.SubTransaction("Table "+e+" not included in parent transaction.")}}))}if(s&&i&&!i.active){i=null}}}catch(e){return i?i._promise(null,(function(t,r){r(e)})):rejection(e)}var o=enterTransactionScope.bind(null,this,f,a,i,r);return i?i._promise(f,o,"lock"):PSD.trans?usePSD(PSD.transless,(function(){return n._whenReady(o)})):this._whenReady(o)};e.prototype.table=function(e){if(!hasOwn(this._allTables,e)){throw new exceptions.InvalidTable("Table "+e+" does not exist")}return this._allTables[e]};return e}();var symbolObservable=typeof Symbol!=="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable";var Observable=function(){function e(e){this._subscribe=e}e.prototype.subscribe=function(e,t,r){return this._subscribe(!e||typeof e==="function"?{next:e,error:t,complete:r}:e)};e.prototype[symbolObservable]=function(){return this};return e}();function extendObservabilitySet(e,t){keys(t).forEach((function(r){var n=e[r]||(e[r]=new RangeSet);mergeRanges(n,t[r])}));return e}function liveQuery(e){return new Observable((function(t){var r=isAsyncFunction(e);function n(t){if(r){incrementExpectedAwaits()}var n=function(){return newScope(e,{subscr:t,trans:null})};var i=PSD.trans?usePSD(PSD.transless,n):n();if(r){i.then(decrementExpectedAwaits,decrementExpectedAwaits)}return i}var i=false;var s={};var f={};var a={get closed(){return i},unsubscribe:function(){i=true;globalEvents.storagemutated.unsubscribe(l)}};t.start&&t.start(a);var o=false,c=false;function u(){return keys(f).some((function(e){return s[e]&&rangesOverlap(s[e],f[e])}))}var l=function(e){extendObservabilitySet(s,e);if(u()){h()}};var h=function(){if(o||i)return;s={};var e={};var r=n(e);if(!c){globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME,l);c=true}o=true;Promise.resolve(r).then((function(r){o=false;if(i)return;if(u()){h()}else{s={};f=e;t.next&&t.next(r)}}),(function(e){o=false;t.error&&t.error(e);a.unsubscribe()}))};h();return a}))}var domDeps;try{domDeps={indexedDB:_global.indexedDB||_global.mozIndexedDB||_global.webkitIndexedDB||_global.msIndexedDB,IDBKeyRange:_global.IDBKeyRange||_global.webkitIDBKeyRange}}catch(e){domDeps={indexedDB:null,IDBKeyRange:null}}var Dexie=Dexie$1;props(Dexie,__assign(__assign({},fullNameExceptions),{delete:function(e){var t=new Dexie(e,{addons:[]});return t.delete()},exists:function(e){return new Dexie(e,{addons:[]}).open().then((function(e){e.close();return true})).catch("NoSuchDatabaseError",(function(){return false}))},getDatabaseNames:function(e){try{return getDatabaseNames(Dexie.dependencies).then(e)}catch(e){return rejection(new exceptions.MissingAPI)}},defineClass:function(){function e(e){extend(this,e)}return e},ignoreTransaction:function(e){return PSD.trans?usePSD(PSD.transless,e):e()},vip,async:function(e){return function(){try{var t=awaitIterator(e.apply(this,arguments));if(!t||typeof t.then!=="function")return DexiePromise.resolve(t);return t}catch(e){return rejection(e)}}},spawn:function(e,t,r){try{var n=awaitIterator(e.apply(r,t||[]));if(!n||typeof n.then!=="function")return DexiePromise.resolve(n);return n}catch(e){return rejection(e)}},currentTransaction:{get:function(){return PSD.trans||null}},waitFor:function(e,t){var r=DexiePromise.resolve(typeof e==="function"?Dexie.ignoreTransaction(e):e).timeout(t||6e4);return PSD.trans?PSD.trans.waitFor(r):r},Promise:DexiePromise,debug:{get:function(){return debug},set:function(e){setDebug(e,e==="dexie"?function(){return true}:dexieStackFrameFilter)}},derive,extend,props,override,Events,on:globalEvents,liveQuery,extendObservabilitySet,getByKeyPath,setByKeyPath,delByKeyPath,shallowClone,deepClone,getObjectDiff,cmp,asap:asap$1,minKey,addons:[],connections,errnames,dependencies:domDeps,semVer:DEXIE_VERSION,version:DEXIE_VERSION.split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,r){return e+t/Math.pow(10,r*2)}))}));Dexie.maxKey=getMaxKey(Dexie.dependencies.IDBKeyRange);if(typeof dispatchEvent!=="undefined"&&typeof addEventListener!=="undefined"){globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME,(function(e){if(!propagatingLocally){var t;if(isIEOrEdge){t=document.createEvent("CustomEvent");t.initCustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME,true,true,e)}else{t=new CustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME,{detail:e})}propagatingLocally=true;dispatchEvent(t);propagatingLocally=false}}));addEventListener(STORAGE_MUTATED_DOM_EVENT_NAME,(function(e){var t=e.detail;if(!propagatingLocally){propagateLocally(t)}}))}function propagateLocally(e){var t=propagatingLocally;try{propagatingLocally=true;globalEvents.storagemutated.fire(e)}finally{propagatingLocally=t}}var propagatingLocally=false;if(typeof BroadcastChannel!=="undefined"){var bc_1=new BroadcastChannel(STORAGE_MUTATED_DOM_EVENT_NAME);if(typeof bc_1.unref==="function"){bc_1.unref()}globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME,(function(e){if(!propagatingLocally){bc_1.postMessage(e)}}));bc_1.onmessage=function(e){if(e.data)propagateLocally(e.data)}}else if(typeof self!=="undefined"&&typeof navigator!=="undefined"){globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME,(function(e){try{if(!propagatingLocally){if(typeof localStorage!=="undefined"){localStorage.setItem(STORAGE_MUTATED_DOM_EVENT_NAME,JSON.stringify({trig:Math.random(),changedParts:e}))}if(typeof self["clients"]==="object"){__spreadArray([],self["clients"].matchAll({includeUncontrolled:true}),true).forEach((function(t){return t.postMessage({type:STORAGE_MUTATED_DOM_EVENT_NAME,changedParts:e})}))}}}catch(e){}}));if(typeof addEventListener!=="undefined"){addEventListener("storage",(function(e){if(e.key===STORAGE_MUTATED_DOM_EVENT_NAME){var t=JSON.parse(e.newValue);if(t)propagateLocally(t.changedParts)}}))}var swContainer=self.document&&navigator.serviceWorker;if(swContainer){swContainer.addEventListener("message",propagateMessageLocally)}}function propagateMessageLocally(e){var t=e.data;if(t&&t.type===STORAGE_MUTATED_DOM_EVENT_NAME){propagateLocally(t.changedParts)}}DexiePromise.rejectionMapper=mapError;setDebug(debug,dexieStackFrameFilter);class TSViewerDb extends Dexie$1{constructor(){super("TSViewer");this.version(3).stores({tokens:`[chainId+collectionId+ownerAddress], dt`,tokenMeta:`[chainId+collectionId], dt`,myTokenScripts:`tokenScriptId`,attestations:`[collectionId+tokenId]`})}}const dbProvider=new TSViewerDb;const COLLECTION_CACHE_TTL=86400;const TOKEN_CACHE_TTL=3600;const BASE_TOKEN_DISCOVERY_URL="https://api.token-discovery.tokenscript.org";class DiscoveryAdapter{async getTokens(e,t){const r=[];if(!Web3WalletProvider.isWalletConnected()){Web3WalletProvider.getWallet(true);return[]}const n=await this.getCurrentWalletAddress();for(const i of e){try{let e=t?false:await this.getCachedTokens(i,n);if(!e){e=await this.fetchTokens(i,n);await this.storeCachedTokens(e,n)}r.push(e)}catch(e){console.error(e)}}return r}async getCurrentWalletAddress(){return(await Web3WalletProvider.getWallet(true)).address}async getCachedTokens(e,t){const r=await dbProvider.tokens.where({chainId:e.chainId,collectionId:e.collectionId,ownerAddress:t}).first();if(r&&Date.now()<r.dt+TOKEN_CACHE_TTL*1e3)return r.data;return false}async storeCachedTokens(e,t){await dbProvider.tokens.put({chainId:e.chainId,collectionId:e.collectionId,ownerAddress:t,data:e,dt:Date.now()})}async fetchTokens(e,t){var r,n,i,s,f,a;if(!CHAIN_MAP[e.chainId])throw new Error("Chain ID "+e.chainId+" is not supported for token discovery");const o=CHAIN_MAP[e.chainId];let c=await this.getCollectionMeta(e,o);const u=await this.fetchOwnerTokens(e,o,t);if(e.tokenType!=="erc20"){const t=[];for(let r of u){t.push({collectionDetails:e,tokenId:r.tokenId,name:r.title,description:r.description,image:r.image,data:r})}e.tokenDetails=t;e.balance=t.length}else if(u.length>0){e.name=u[0].title;e.balance=(r=u[0].data)===null||r===void 0?void 0:r.balance;e.decimals=(n=u[0].data)===null||n===void 0?void 0:n.decimals}else{return e}if(c===null||c===void 0?void 0:c.image)e.image=c.image;e.symbol=((i=u[0])===null||i===void 0?void 0:i.symbol)?(s=u[0])===null||s===void 0?void 0:s.symbol:(a=(f=u[0])===null||f===void 0?void 0:f.data)===null||a===void 0?void 0:a.symbol;return e}async getCollectionMeta(e,t){let r=await this.getCachedMeta(e);if(!r){r=await this.fetchTokenMetadata(e,t);await this.storeCachedMeta(e,r)}return r}async getCachedMeta(e){const t=await dbProvider.tokenMeta.where({chainId:e.chainId,collectionId:e.collectionId}).first();if(t&&Date.now()<t.dt+COLLECTION_CACHE_TTL*1e3)return t.data;return false}async storeCachedMeta(e,t){await dbProvider.tokenMeta.put({chainId:e.chainId,collectionId:e.collectionId,data:t,dt:Date.now()})}async fetchTokenMetadata(e,t){const r=e.tokenType==="erc20"?`/get-fungible-token?collectionAddress=${e.collectionId}&chain=${t}&blockchain=evm`:`/get-token-collection?smartContract=${e.collectionId}&chain=${t}&blockchain=evm`;return this.fetchRequest(r)}async fetchOwnerTokens(e,t,r){const n=e.tokenType==="erc20"?`/get-owner-fungible-tokens?collectionAddress=${e.collectionId}&owner=${r}&chain=${t}&blockchain=evm`:`/get-owner-tokens?smartContract=${e.collectionId}&chain=${t}&owner=${r}&blockchain=evm`;return this.fetchRequest(n)}async fetchRequest(e){try{const t=await fetch(BASE_TOKEN_DISCOVERY_URL+e);const r=t.status>=200&&t.status<=299;if(!r){console.warn("token api request failed: ",e);return null}return t.json()}catch(e){return null}}}class AttestationStorageAdapter{async getAttestations(e){return(await dbProvider.attestations.where("collectionId").anyOf(e)).toArray()}async removeAttestation(e,t){await dbProvider.attestations.where({collectionId:e,tokenId:t}).delete()}async saveAttestation(e){await dbProvider.attestations.put(e)}}const appCss=":host{height:100dvh}.app-container{min-height:100dvh;display:flex;flex-direction:column}header{background:#000;color:white;height:56px;display:flex;align-items:center;box-shadow:0 2px 5px 0 rgba(0, 0, 0, 0.26)}.header-icon{height:35px;width:auto;padding-left:10px}header h1{margin:5px 0 0}h1{font-size:1.4rem;font-weight:500;color:#fff;padding:0 12px}main{display:flex;flex-direction:column;flex-grow:1}#ts-loader{display:none;position:absolute;top:0;width:100%;height:100%;align-items:center;justify-content:center;background-color:rgba(87, 87, 87, 0.67)}";const AppRoot=class{constructor(e){registerInstance(this,e);this.discoveryAdapter=new DiscoveryAdapter;this.attestationStorageAdapter=new AttestationStorageAdapter;this.tsEngine=new TokenScriptEngine(this.getWalletAdapter,(async()=>this.discoveryAdapter),(()=>this.attestationStorageAdapter),{ipfsGateway:"https://smart-token-labs-demo-server.mypinata.cloud/ipfs/"});this.viewerType=undefined;Web3WalletProvider.setWalletSelectorCallback((async()=>this.walletSelector.connectWallet()))}async getWalletAdapter(){return new EthersAdapter((async()=>(await Web3WalletProvider.getWallet(true)).provider),CHAIN_CONFIG)}showTsLoader(){document.getElementById("ts-loader").style.display="flex"}hideTsLoader(){document.getElementById("ts-loader").style.display="none"}async loadTokenscript(e,t,r){switch(e){case"resolve":return this.tsEngine.getTokenScript(t);case"file":if(typeof r==="string"){return this.tsEngine.loadTokenScript(r)}else{return this.loadTokenScriptFromFile(r)}case"url":return this.tsEngine.getTokenScriptFromUrl(t)}}async loadTokenScriptFromFile(e){return new Promise(((t,r)=>{if(e){this.showTsLoader();const n=new FileReader;n.onload=async function(e){if(typeof e.target.result==="string"){try{t(await this.tsEngine.loadTokenScript(e.target.result))}catch(e){r("Failed to load TokenScript: "+e.message)}}}.bind(this);n.onerror=function(e){r("Failed to load file: "+e.message)}.bind(this);n.readAsText(e,"UTF-8");return}r("No file selected")}))}showToastHandler(e){this.showToast(e.detail.type,e.detail.title,e.detail.description)}async showToast(e,t,r){const n=document.querySelector(".toast");n.Toast({title:t,description:r,timeOut:3e4,position:"top-right",type:e})}async componentWillLoad(){const e=document.location.search.substring(1);const t=new URLSearchParams(e);switch(t.get("viewType")){case"integration":this.viewerType="integration";break;case"tabbed":this.viewerType="tabbed";break;case"new":default:this.viewerType="new"}await Web3WalletProvider.loadConnections()}render(){return h(Host,null,h("div",{class:"app-container"},h("cb-toast",{class:"toast",style:{zIndex:"500"}}),h("header",null,h("img",{class:"header-icon",alt:"TokenScript icon",src:"assets/icon/tokenscript-logo.svg"})),h("main",null,this.viewerType==="tabbed"?h("tabbed-viewer",{app:this}):"",this.viewerType==="integration"?h("integration-viewer",{app:this}):"",this.viewerType==="new"?h("new-viewer",{app:this}):""),h("div",{id:"ts-loader"},h("loading-spinner",null))),h("wallet-selector",{ref:e=>this.walletSelector=e}))}get host(){return getElement(this)}};AppRoot.style=appCss;const attributeTableCss=":host{background:none;border:none}.attribute-widget{position:relative;display:inline-block;min-width:50px;min-height:50px}.attribute-container{position:relative}.btn-close-attributes{width:25px;height:25px;font-size:16px;line-height:16px;margin:10px}table{background:#fff;text-align:left;border:#000 solid 1px}.attribute-table td,.attribute-table th{padding:8px}";const AttributeTable=class{constructor(e){registerInstance(this,e);this.isOpen=false}render(){return h("div",{class:"attribute-widget"},h("div",{class:"attribute-container",style:{display:this.isOpen?"block":"none"}},h("table",{class:"attribute-table"}),h("button",{class:"close-btn btn-close-attributes",title:"Close attributes",onClick:()=>{this.isOpen=false}},"X")),h("button",{class:"close-btn",style:{display:this.isOpen?"none":"block"},title:"View TokenScript attributes",onClick:()=>{this.isOpen=true}},"?"))}};AttributeTable.style=attributeTableCss;class AbstractViewBinding{constructor(e){this.view=e;this.iframe=e.querySelector(".tokenscript-frame");this.loader=e.querySelector(".view-loader");this.actionBar=e.querySelector(".action-bar");this.actionBtn=e.querySelector(".action-btn");this.actionBtn.addEventListener("click",this.confirmAction.bind(this));window.addEventListener("message",this.handlePostMessageFromView.bind(this))}setTokenScript(e){this.tokenScript=e}viewLoading(){this.showLoader()}viewError(e){this.hideLoader()}async showTokenView(e){this.currentCard=e;await this.injectContentView(e);this.setupConfirmButton(e);this.hideLoader()}async unloadTokenView(){this.currentCard=null;this.iframe.src="";this.actionBar.style.display="none";document.location.hash="#"}showLoader(){this.loader.style.display="flex"}hideLoader(){this.loader.style.display="none"}async injectContentView(e){if(!e.view){this.iframe.src="";return}if(e.isUrlView){this.iframe.src=e.url}else{const t=await e.renderViewHtml();const r=new Blob([t],{type:"text/html"});const n=e.urlFragment;this.iframe.src=URL.createObjectURL(r)+(n?"#"+n:"")}}setupConfirmButton(e){if(e.type=="action"){this.actionBar.style.display="block";this.actionBtn.innerText=e.label}else{this.actionBar.style.display="none"}}getViewBindingJavascript(){return`\n\t\t\twindow.addEventListener("message", (event) => {\n\n\t\t\t\tif (event.origin !== "${document.location.origin}")\n\t\t\t\t\treturn;\n\n\t\t\t\tconst params = event.data?.params;\n\n\t\t\t\tswitch (event.data?.method){\n\t\t\t\t\tcase "tokensUpdated":\n\t\t\t\t\t\twindow.web3.tokens.dataChanged(params.oldTokens, params.updatedTokens, params.cardId);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase "onConfirm":\n\t\t\t\t\t\twindow.onConfirm();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase "executeCallback":\n\t\t\t\t\t\twindow.executeCallback(params.id, params.error, params.result);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase "getUserInput":\n\t\t\t\t\t\tsendUserInputValues();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfunction sendUserInputValues(){\n\n\t\t\t\tconst inputs = Array.from(document.querySelectorAll("textarea,input")).filter((elem) => !!elem.id);\n\n\t\t\t\tconst values = Object.fromEntries(inputs.map((elem) => {\n\t\t\t\t\treturn [elem.id, elem.value];\n\t\t\t\t}));\n\n\t\t\t\tpostMessageToEngine("putUserInput", values);\n\t\t\t}\n\n\t\t\tfunction postMessageToEngine(method, params){\n\t\t\t\twindow.parent.postMessage({method, params}, {\n\t\t\t\t\ttargetOrigin: "${document.location.origin}"\n\t\t\t\t});\n\t\t\t}\n\n\t\t\twindow.alpha = {\n\t\t\t\tsignPersonalMessage: (id, data) => {\n\t\t\t\t\tpostMessageToEngine("signPersonalMessage", {id, data});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\twindow.web3.action.setProps = (params) => {\n\t\t\t\tpostMessageToEngine("putUserInput", params);\n\t\t\t};\n\n\t\t\tfunction listenForUserValueChanges(){\n\t\t\t\twindow.addEventListener('change', (evt) => {\n                    if (!evt.target.id) return;\n\t\t\t\t\tsendUserInputValues();\n                });\n\t\t\t}\n\n\t\t\tlistenForUserValueChanges();\n\t\t\t/*document.addEventListener("DOMContentLoaded", function() {\n\t\t\t\tsendUserInputValues();\n\t\t\t});*/\n\t\t`}postMessageToView(e,t){this.iframe.contentWindow.postMessage({method:e,params:t},"*")}handlePostMessageFromView(e){var t,r;if(!this.iframe.src)return;if(e.source!==this.iframe.contentWindow){return}if(!((t=e.data)===null||t===void 0?void 0:t.method))return;this.handleMessageFromView(e.data.method,(r=e.data)===null||r===void 0?void 0:r.params)}async handleMessageFromView(e,t){switch(e){case RequestFromView.SIGN_PERSONAL_MESSAGE:console.log("Event from view: Sign personal message");this.currentCard.signPersonalMessage(t.id,t.data);break;case RequestFromView.PUT_USER_INPUT:await this.tokenScript.getViewController().setUserEntryValues(t);break;default:throw new Error("TokenScript view API method: "+e+" is not implemented.")}}async dispatchViewEvent(e,t,r){switch(e){case ViewEvent.TOKENS_UPDATED:const n={currentInstance:t};console.log("ViewEvent.TOKENS_UPDATED");this.postMessageToView(e,{oldTokens:n,updatedTokens:n,cardId:r});this.hideLoader();return;case ViewEvent.EXECUTE_CALLBACK:case ViewEvent.GET_USER_INPUT:case ViewEvent.ON_CONFIRM:this.postMessageToView(e,Object.assign(Object.assign({},t),{id:r}));return}}}class ViewBinding$1 extends AbstractViewBinding{constructor(e,t){super(e);this.view=e;this.showToast=t}async showTokenView(e){this.view.querySelector(".view-container").style.display="block";await super.showTokenView(e);this.renderAttributesTable()}async unloadTokenView(){this.view.querySelector(".view-container").style.display="none";await super.unloadTokenView()}async renderAttributesTable(){let e="<tr><th>Attribute</th><th>Value</th></tr>";const t=async(e,t=false)=>`<tr><td>${e.getName()} ${t?"(Card)":"(Global)"}</td><td>${await e.getCurrentValue()}</td></tr>`;for(let r of this.tokenScript.getAttributes()){e+=await t(r)}for(let r of this.currentCard.getAttributes()){e+=await t(r,true)}this.view.querySelector(".attribute-table").innerHTML=e}async confirmAction(){const e=this.currentCard.getTransaction();this.showLoader();if(e){console.log(e.getTransactionInfo());try{await this.currentCard.executeTransaction((e=>{switch(e.status){case"submitted":this.showToast("info","Transaction submitted",h("span",null,"Processing TX, please wait.. ",h("br",null),"TX Number: "+e.txNumber));break;case"confirmed":this.showToast("success","Transaction confirmed",h("span",null,"TX "+e.txNumber+" confirmed!",h("br",null),e.txLink?h("a",{href:e.txLink,target:"_blank"},"View On Block Scanner"):""));break}}))}catch(e){console.error(e);this.showToast("error","Transaction Error",e.message)}}else{this.postMessageToView(ViewEvent.ON_CONFIRM,{})}this.hideLoader()}async handleMessageFromView(e,t){await super.handleMessageFromView(e,t);if(e===RequestFromView.PUT_USER_INPUT)this.renderAttributesTable()}async dispatchViewEvent(e,t,r){await super.dispatchViewEvent(e,t,r);if(e===ViewEvent.TOKENS_UPDATED)this.renderAttributesTable()}}const cardModalCss=".close-btn{position:absolute;right:0;top:0;margin:20px;font-size:22px;font-weight:bold;width:35px;height:35px;border:#a6a6a6;color:#676767;border-radius:5px;padding:4px 6px;cursor:pointer !important}.view-container{width:100%;padding:20px;position:fixed;top:0;min-height:100%;background:#1a1a1ae0;z-index:100}@media screen and (max-width: 480px){.view-container{padding:5px}.close-btn{margin:10px}}.view-container attribute-table{position:absolute;bottom:10px}";const CardModal=class{constructor(e){registerInstance(this,e);this.showToast=createEvent(this,"showToast",7);this.tokenScript=undefined}async loadTs(){if(!this.viewBinding){this.viewBinding=new ViewBinding$1(this.host,((e,t,r)=>{this.showToast.emit({type:e,title:t,description:r})}))}this.viewBinding.setTokenScript(this.tokenScript);this.tokenScript.setViewBinding(this.viewBinding)}componentDidLoad(){if(this.tokenScript)this.loadTs()}render(){return h("div",{class:"view-container",style:{display:"none"}},h("button",{class:"close-btn",onClick:()=>{document.location.hash="#";this.tokenScript.getViewController().unloadTokenCard()}},"X"),h("card-view",null),h("attribute-table",null))}get host(){return getElement(this)}static get watchers(){return{tokenScript:["loadTs"]}}};CardModal.style=cardModalCss;const cardViewCss=".card-container{position:relative;max-width:500px;margin:50px auto;border-radius:4px}.view-loader{position:absolute;left:0;top:0;width:100%;height:calc(100% - 5px);border-radius:4px;display:flex;align-items:center;justify-content:center;background-color:rgba(87, 87, 87, 0.67)}.tokenscript-frame{background:#fff;width:100%;height:650px;border:1px solid black;border-radius:4px;box-sizing:border-box}.action-bar{height:35px}.action-btn{width:100%;height:100%}";const CardView=class{constructor(e){registerInstance(this,e)}render(){return h("div",{class:"card-container"},h("div",{style:{position:"relative"}},h("div",{class:"view-loader",style:{display:"none"}},h("loading-spinner",null)),h("iframe",{class:"tokenscript-frame",sandbox:"allow-scripts allow-modals allow-forms"})),h("div",{class:"action-bar",style:{display:"none"}},h("button",{class:"action-btn btn btn-primary"})))}};CardView.style=cardViewCss;const cbToastCss='/*! tailwindcss v3.1.8 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body,button{line-height:inherit;margin:0}button{color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;padding:0;text-transform:none}[type=button],button{-webkit-appearance:button;background-color:transparent;background-image:none}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}p{margin:0}button{cursor:pointer}object,svg{display:block;vertical-align:middle}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;}::-webkit-backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;}::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;}.top{left:0;margin-left:auto;margin-right:auto;right:0;top:.5rem}.top-right{right:.5rem;top:.5rem}.successBgColor{--tw-bg-opacity:1;background-color:rgb(16 185 129/var(--tw-bg-opacity))}.infoBgColor{--tw-bg-opacity:1;background-color:rgb(59 130 246/var(--tw-bg-opacity))}.warningBgColor{--tw-bg-opacity:1;background-color:rgb(234 179 8/var(--tw-bg-opacity))}.errorBgColor{--tw-bg-opacity:1;background-color:rgb(239 68 68/var(--tw-bg-opacity))}.successTextColor{--tw-text-opacity:1;color:rgb(16 185 129/var(--tw-text-opacity))}.infoTextColor{--tw-text-opacity:1;color:rgb(59 130 246/var(--tw-text-opacity))}.warningTextColor{--tw-text-opacity:1;color:rgb(234 179 8/var(--tw-text-opacity))}.errorTextColor{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity))}.fixed{position:fixed}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.-mx-3{margin-left:-.75rem;margin-right:-.75rem}.mx-3{margin-left:.75rem;margin-right:.75rem}.mt-4{margin-top:1rem}.box-border{box-sizing:border-box}.flex{display:flex}.h-6{height:1.5rem}.w-80{width:20rem}.w-full{width:100%}.w-12{width:3rem}.w-6{width:1.5rem}.w-72{width:18rem}.max-w-sm{max-width:24rem}.flex-grow{flex-grow:1}.grow-0{flex-grow:0}.cursor-pointer{cursor:pointer}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-center{justify-content:center}.overflow-hidden{overflow:hidden}.rounded-lg{border-radius:.5rem}.bg-green-700{--tw-bg-opacity:1;background-color:rgb(21 128 61/var(--tw-bg-opacity))}.bg-blue-700{--tw-bg-opacity:1;background-color:rgb(29 78 216/var(--tw-bg-opacity))}.bg-yellow-700{--tw-bg-opacity:1;background-color:rgb(161 98 7/var(--tw-bg-opacity))}.bg-red-700{--tw-bg-opacity:1;background-color:rgb(185 28 28/var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.fill-current{fill:currentColor}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.text-sm{font-size:.875rem;line-height:1.25rem}.font-semibold{font-weight:600}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity))}.opacity-100{opacity:1}.opacity-0{opacity:0}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-700{transition-duration:.7s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}';const CbToast=class{constructor(e){registerInstance(this,e);this.timeOut=3e3;this.position="top-right"}async Toast(e){if(e.timeOut!==undefined&&e.timeOut!==""){this.timeOut=e["timeOut"]}if(e.position!==undefined&&e.position!==""){this.position=e["position"]}let t=document.createElement("cb-toastcontent");this.rootElement.append(t);t.setParams({title:e["title"],description:e["description"],type:e["type"]});setTimeout((()=>{let e=t.firstElementChild;e.classList.remove("opacity-100");e.classList.add("opacity-0");setTimeout((()=>{t.remove()}),500)}),this.timeOut)}render(){return h("div",{class:this.position+" fixed w-80  max-w-sm box-border",ref:e=>this.rootElement=e})}};CbToast.style=cbToastCss;const cbToastcontentCss="";const CbToastcontent=class{constructor(e){registerInstance(this,e);this.title="Success";this.description="success message";this.type="success";this.toastType=[{type:"success",typeBgColor:"successBgColor",typeTextColor:"successTextColor",typeIcon:()=>h("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z"})},{type:"info",typeBgColor:"infoBgColor",typeTextColor:"infoTextColor",typeIcon:()=>h("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM21.6667 28.3333H18.3334V25H21.6667V28.3333ZM21.6667 21.6666H18.3334V11.6666H21.6667V21.6666Z"})},{type:"warning",typeBgColor:"warningBgColor",typeTextColor:"warningTextColor",typeIcon:()=>h("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM21.6667 28.3333H18.3334V25H21.6667V28.3333ZM21.6667 21.6666H18.3334V11.6666H21.6667V21.6666Z"})},{type:"error",typeBgColor:"errorBgColor",typeTextColor:"errorTextColor",typeIcon:()=>h("path",{d:"M20 3.36667C10.8167 3.36667 3.3667 10.8167 3.3667 20C3.3667 29.1833 10.8167 36.6333 20 36.6333C29.1834 36.6333 36.6334 29.1833 36.6334 20C36.6334 10.8167 29.1834 3.36667 20 3.36667ZM19.1334 33.3333V22.9H13.3334L21.6667 6.66667V17.1H27.25L19.1334 33.3333Z"})}];this.typeBgColor=this.toastType[0]["typeBgColor"];this.typeTextColor=this.toastType[0]["typeTextColor"];this.typeIcon=this.toastType[0]["typeIcon"]();this.closeToast=e=>{e.target.parentNode.closest("cb-toastcontent").remove()};this.buildToast=()=>h("div",{class:" transition-all duration-700  ease-in opacity-100   flex w-full max-w-sm mx-auto overflow-hidden bg-white rounded-lg shadow-md z-50 mt-4",ref:e=>this.el=e},h("div",{class:this.typeBgColor+" flex grow-0 items-center justify-center w-12"},h("svg",{class:"w-6 h-6 text-white fill-current",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},this.typeIcon)),h("div",{class:"flex-grow w-72 px-4 py-2 -mx-3"},h("div",{class:"mx-3"},h("span",{class:this.typeTextColor+" font-semibold"},this.title),h("p",{class:"text-sm text-gray-600 "},this.description))),h("div",{class:"flex items-start justify-center"},h("svg",{onClick:e=>this.closeToast(e),class:this.typeTextColor+' "w-6 h-6 fill-current cursor-pointer',viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},h("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"}))))}async setParams(e){if(e.title!==undefined&&e.title!==""){this.title=e["title"]}if(e.description!==undefined&&e.description!==""){this.description=e["description"]}if(e.type!==undefined&&e.type!==""){this.type=e["type"];for(var t=0;t<this.toastType.length;t++){if(this.type===this.toastType[t]["type"]){this.typeBgColor=this.toastType[t]["typeBgColor"];this.typeTextColor=this.toastType[t]["typeTextColor"];this.typeIcon=this.toastType[t]["typeIcon"]();break}}}}render(){return h(Host,null,this.buildToast())}};CbToastcontent.style=cbToastcontentCss;const ConfirmStep=class{constructor(e){registerInstance(this,e);this.viewer=undefined;this.tokenScript=undefined;this.securityInfo=undefined}async componentWillLoad(){}render(){var e;return h("div",null,h("div",{style:{textAlign:"center"}},h("div",null,h("p",null,h("span",null,(e=document.referrer)!==null&&e!==void 0?e:"https://somesite.com/"),"wants to you to perform an action with the following TokenScript:",h("br",null),"(TokenScript request details displayed)")),h("div",null,h("button",{class:"btn btn-primary accept-btn",onClick:()=>{this.viewer.step="token"}},"Accept"),h("button",{class:"btn btn-secondary deny-btn",onClick:()=>{this.viewer.returnResultToRequester({error:"User denied the action"})}},"Deny")),h("security-status",{tokenScript:this.tokenScript})))}};const fieldCss$1=".input-container{position:relative;padding:10px 0}.input-container>label{position:absolute;background:white;font-size:11px;left:10px;top:5px;padding:0 4px}.input-container>input,.input-container>select{width:100%;height:50px !important;border-radius:4px;border:1px solid #B0B0B0;padding:0 10px}.input-container>select{cursor:pointer}.input-container>select:hover,.input-container>select:focus{background:unset}.input-container>input:focus{border:1px solid #001AFF;outline:none}.input-container:focus-within>label{color:#001AFF}input[type=file]{border:none !important}input::file-selector-button{border-radius:10px;height:36px;min-width:73px;border:none;cursor:pointer;background:#EEEEEE;padding:8px 12px}";const InputField=class{constructor(e){registerInstance(this,e);this.name=undefined;this.label=undefined;this.type=undefined;this.required=false;this.pattern=undefined;this.value=undefined}async getFile(){return this.file}render(){return h("div",{class:"input-container"},this.type!="file"?h("label",null,this.label):"",h("input",{name:this.name,type:this.type,required:this.required,pattern:this.pattern,onChange:e=>{if(this.type==="file")this.file=e.target.files[0];this.value=e.target.value}}))}};InputField.style=fieldCss$1;function findCardByUrlParam(e,t){const r=t.getCards();for(let[t,n]of r.entries()){if(n.name==e)return{card:n,index:t}}const n=parseInt(e);if(!isNaN(n)&&r[n])return{card:r[n],index:n};return null}const IntegrationViewer=class{constructor(e){registerInstance(this,e);this.app=undefined;this.tokenScript=undefined;this.step=undefined}componentWillLoad(){try{const e=new URLSearchParams(document.location.search.substring(1));const t=new URLSearchParams(document.location.hash.substring(1));for(const[r,n]of t.entries()){e.set(r,n)}this.urlRequest=e;this.verifyRequest();this.processUrlLoad()}catch(e){console.error(e)}}verifyRequest(){if(!this.urlRequest.has("callbackUri")){this.messageTarget=window.parent?window.parent:window.opener;console.log(this.messageTarget);if(!this.messageTarget)throw new Error("Cannot return message to requester, no callbackUrl supplied or window parent & opener is null.")}}async processUrlLoad(){const e=document.location.search.substring(1);if(!e)return false;const t=new URLSearchParams(e);if(t.has("tokenscriptUrl")){this.openTokenScript("url",t.get("tokenscriptUrl"));return true}else if(t.has("chain")&&t.has("contract")){const e=t.get("chain")+"-"+t.get("contract");this.openTokenScript("resolve",e);return true}throw new Error("Could not locate TokenScript using the values provided in the URL")}async openTokenScript(e,t){this.app.showTsLoader();try{this.tokenScript=await this.app.loadTokenscript(e,t);this.card=findCardByUrlParam(this.urlRequest.get("card"),this.tokenScript).card;if(!this.card)throw new Error("Card "+this.urlRequest.get("card")+" could not be found.");this.step="confirm"}catch(e){console.error(e);alert("Failed to load TokenScript: "+e.message)}this.app.hideTsLoader()}returnResultToRequester(e){if(this.messageTarget){this.messageTarget.postMessage(e,"*")}else{const t=new URL(this.urlRequest.get("callbackUri"));const r=new URLSearchParams(t.hash.substring(1));r.set("tn-action","ts-callback");for(const[t,n]of Object.entries(e)){r.set("tn-"+t,typeof n==="object"?JSON.stringify(n):n.toString())}t.hash=r.toString();document.location.href=t.href}}render(){if(this.tokenScript){switch(this.step){case"confirm":return h("confirm-step",{viewer:this,tokenScript:this.tokenScript});case"token":return h("select-step",{viewer:this,tokenScript:this.tokenScript,card:this.card});case"view":return h("view-step",{viewer:this,tokenScript:this.tokenScript,card:this.card})}}return""}};const loadingSpinnerCss=".lds-ring{display:inline-block;position:relative;width:80px;height:80px}.lds-ring div{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite}.small{height:50px;margin-top:-10px;transform:scale(0.5)}.lds-ring div:nth-child(1){animation-delay:-0.45s}.lds-ring div:nth-child(2){animation-delay:-0.3s}.lds-ring div:nth-child(3){animation-delay:-0.15s}@keyframes lds-ring{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const LoadingSpinner=class{constructor(e){registerInstance(this,e);this.color="#fff";this.size="large"}render(){const e=this.color+" transparent transparent transparent";return h("div",{class:"lds-ring "+(this.size==="small"?"small":"")},h("div",{style:{borderColor:e}}),h("div",{style:{borderColor:e}}),h("div",{style:{borderColor:e}}),h("div",{style:{borderColor:e}}))}};LoadingSpinner.style=loadingSpinnerCss;const knownTokenScripts=[{tokenScriptId:"ENS",loadType:"resolve",name:"ENS",iconUrl:"/assets/tokenscript-icons/ENS.png"},{tokenScriptId:"DAI",loadType:"resolve",name:"DAI",iconUrl:"/assets/tokenscript-icons/DAI.png"},{tokenScriptId:"5-0x8c36A92536784A5C59E28311c0961Ed06e9Bca5d",loadType:"resolve",name:"Devcon Souvenir",iconUrl:"/assets/tokenscript-icons/devcon-souvenir.png"},{tokenScriptId:"5-0x82cBd60183e8255DA0638fA73A9A6dC6826b3c28",loadType:"resolve",name:"Devcon Referral",iconUrl:"/assets/tokenscript-icons/devcon-referral.png"}];const getKnownTokenScriptMetaById=e=>{for(const t of knownTokenScripts){if(e===t.tokenScriptId)return t}return null};const newViewerCss="new-viewer{padding:10px;position:relative;flex-grow:1}.toolbar{display:flex;padding:5px 0;justify-content:space-between;align-items:start;flex-wrap:wrap}";const NewViewer=class{constructor(e){registerInstance(this,e);this.showToast=createEvent(this,"showToast",7);this.app=undefined;this.myTokenScripts={};this.scriptsLoading=true;this.popularTokenscripts=[]}componentWillLoad(){this.init()}componentDidLoad(){this.processUrlLoad()}async processUrlLoad(){const e=document.location.search.substring(1);if(!e)return;const t=new URLSearchParams(e);let r;if(t.has("ticket")||t.has("attestation")){this.app.showTsLoader();try{const{definition:e}=await this.app.tsEngine.importAttestationUsingTokenScript(t);r=await this.addFormSubmit("url",{tsId:t.get("scriptURI"),image:e.meta.image});document.location.hash="";this.showToast.emit({type:"success",title:"Attestation imported",description:"Successfully imported "+e.meta.title})}catch(e){console.error(e);this.app.hideTsLoader();this.showToast.emit({type:"error",title:"Failed to import attestation",description:e.message});return}}else if(t.has("tokenscriptUrl")){r=await this.addFormSubmit("url",{tsId:t.get("tokenscriptUrl")})}else if(t.has("chain")&&t.has("contract")){const e=t.get("chain")+"-"+t.get("contract");r=await this.addFormSubmit("resolve",{tsId:e})}else if(t.has("emulator")){const e=t.get("emulator")+"/tokenscript.tsml";r=await this.addFormSubmit("url",{tsId:e});this.connectEmulatorSocket(e,t.get("emulator"))}console.log("open TS",r);if(r)this.viewerPopover.open(r.tokenScript)}connectEmulatorSocket(e,t){try{const r=new WebSocket("ws://"+new URL(t).host+"/ws");r.onopen=e=>{console.log("connected: ",e.type);r.send("Websocket client connected!")};r.onmessage=async t=>{if(t.data!="BUILD_UPDATED")return;try{const t=await this.addFormSubmit("url",{tsId:e});await this.viewerPopover.close();this.viewerPopover.open(t.tokenScript)}catch(e){console.error(e);alert("Failed to reload TokenScript changes")}}}catch(e){console.error(e)}}async init(){const e={};for(const t of await dbProvider.myTokenScripts.toArray()){try{const r=await this.app.loadTokenscript(t.loadType,t.tokenScriptId,t.xml);e[t.tokenScriptId]=Object.assign(Object.assign({},t),{tokenScript:r})}catch(e){console.error("Failed to load TokenScript definition: ",t.name);this.showToast.emit({type:"error",title:"Failed to load TokenScript",description:e.message})}}this.myTokenScripts=e;this.scriptsLoading=false;Web3WalletProvider.registerWalletChangeListener((async e=>{for(const t in this.myTokenScripts){if(e){this.myTokenScripts[t].tokenScript.getTokenMetadata(true)}else{this.myTokenScripts[t].tokenScript.setTokenMetadata([])}}}))}recalculatePopularTokenScripts(){this.popularTokenscripts=knownTokenScripts.filter((e=>!this.myTokenScripts[e.tokenScriptId]))}async addPopularTokenScript(e){this.app.showTsLoader();try{const t=await this.app.loadTokenscript("resolve",e.tokenScriptId);await this.addTokenScript(e,t)}catch(e){console.error(e);alert(e.message)}this.app.hideTsLoader()}async addTokenScript(e,t){await dbProvider.myTokenScripts.put(e);const r=Object.assign(Object.assign({},e),{tokenScript:t});this.myTokenScripts=Object.assign(Object.assign({},this.myTokenScripts),{[r.tokenScriptId]:r})}async removeTokenScript(e){if(!confirm("Are you sure you want to remove this TokenScript?"))return;await dbProvider.myTokenScripts.where("tokenScriptId").equals(e).delete();const t=this.myTokenScripts;delete t[e];this.myTokenScripts=Object.assign({},this.myTokenScripts)}async addFormSubmit(e,t){var r,n,i,s;this.app.showTsLoader();try{const f=await this.app.loadTokenscript(e,t.tsId,t.xml);const a=(r=t.tsId)!==null&&r!==void 0?r:f.getName();let o=getKnownTokenScriptMetaById(a);if(!o){o={tokenScriptId:(n=t.tsId)!==null&&n!==void 0?n:f.getName(),loadType:e,name:(s=(i=f.getLabel())!==null&&i!==void 0?i:f.getName())!==null&&s!==void 0?s:"Unknown TokenScript",xml:e==="file"?f.getXmlString():null};if(t.image){o.iconUrl=t.image}else{const e=f.getTokenOriginData()[0];if(e&&CHAIN_MAP[e.chainId]){const t=new DiscoveryAdapter;try{const r=await t.getCollectionMeta(e,CHAIN_MAP[e.chainId]);if(!o.iconUrl)o.iconUrl=r.image}catch(e){console.error("Failed to load tokenscript icon from collection metadata",e)}}}}await this.addTokenScript(o,f);await this.addDialog.closeDialog();this.app.hideTsLoader();return Object.assign(Object.assign({},o),{tokenScript:f})}catch(e){console.error(e);this.app.hideTsLoader();this.showToast.emit({type:"error",title:"Failed to load TokenScript",description:e.message})}}render(){return h(Host,null,h("h3",null,"TokenScript Viewer"),h("p",null,"Connect your wallet to use your TokenScript enabled tokens. ",h("a",{onClick:()=>this.aboutDialog.openDialog()},"Learn More"),"."),h("div",{class:"toolbar"},h("wallet-button",null),h("button",{class:"btn",onClick:()=>{this.addDialog.openDialog()}},"+ Add Token")),h("div",{style:{padding:"10px 0"}},h("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},h("h4",null,"Your Tokens"),h("button",{class:"btn",style:{marginRight:"5px",minWidth:"35px",fontSize:"16px"},onClick:()=>{for(const e in this.myTokenScripts){this.myTokenScripts[e].tokenScript.getTokenMetadata(true,true)}}},"↻")),this.scriptsLoading?h("loading-spinner",{color:"#1A42FF",size:"small"}):Object.values(this.myTokenScripts).length>0?h("tokenscript-grid",null,Object.values(this.myTokenScripts).map((e=>h("tokenscript-button",{tsId:e.tokenScriptId,name:e.name,imageUrl:e.iconUrl,tokenScript:e.tokenScript,onClick:()=>{this.viewerPopover.open(e.tokenScript)},onRemove:async e=>{this.removeTokenScript(e)}})))):h("div",null,h("strong",{style:{fontSize:"13px"}},"You don't have any TokenScripts in your library yet"),h("br",null),h("span",{style:{fontSize:"12px"}},"Add TokenScripts by selecting popular ones below or adding them manually via the Add Tokens button."))),this.popularTokenscripts.length>0?h("div",null,h("h4",null,"Popular TokenScripts"),h("tokenscript-grid",null,this.popularTokenscripts.map((e=>h("tokenscript-button",{name:e.name,imageUrl:e.iconUrl,onClick:()=>{this.addPopularTokenScript(e)}}))))):"",h("add-selector",{ref:e=>this.addDialog=e,onFormSubmit:this.addFormSubmit.bind(this)}),h("viewer-popover",{ref:e=>this.viewerPopover=e}),h("popover-dialog",{ref:e=>this.aboutDialog=e},h("about-tokenscript",null)))}static get watchers(){return{myTokenScripts:["recalculatePopularTokenScripts"]}}};NewViewer.style=newViewerCss;const popoverDialogCss=".popover-modal{position:fixed;left:0;height:100dvh;width:100vw;top:0;background-color:#00000082;align-items:center;justify-content:center;display:none;overflow:hidden}.popover-modal.open{display:flex !important;animation:fadeIn 0.25s}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}.popover-modal.open .popover-container{top:unset !important;animation:slideIn 0.25s}@keyframes slideIn{0%{transform:translateY(500px);animation-timing-function:ease-out}100%{transform:translateY(0px);animation-timing-function:ease-in}}.popover-container{box-sizing:border-box;position:absolute;max-width:500px;width:100%;background:#fff;min-height:300px;border-radius:8px;padding:10px;top:110vh;animation:slideIn 0.5s reverse}.close-btn{position:absolute;top:-36px;right:10px;font-size:24px;background:none;border:none;color:#fff;cursor:pointer;font-weight:bold;line-height:24px}.close-btn:hover{color:#cacaca}@media (max-width: 500px){.popover-modal{align-items:end}.popover-container{border-radius:8px 8px 0 0 !important}}";const PopoverDialog=class{constructor(e){registerInstance(this,e);this.open=false}async openDialog(e){this.open=true;this.dismissCallback=e}async closeDialog(){this.open=false}render(){return h("div",{class:"popover-modal"+(this.open?" open":"")},h("div",{class:"popover-container"},h("button",{class:"close-btn",onClick:()=>{this.open=false;if(this.dismissCallback){this.dismissCallback();this.dismissCallback=null}}},"x"),h("slot",null)))}};PopoverDialog.style=popoverDialogCss;const securityStatusCss=".security-status{box-sizing:border-box;margin:0 5px;padding:5px 5px;border-radius:10px;font-size:20px;width:36px;height:36px;text-align:center;cursor:pointer}";const SecurityStatus=class{constructor(e){registerInstance(this,e);this.tokenScript=undefined;this.securityInfo=undefined;this.statusColor=undefined;this.statusIcon=undefined}async componentDidLoad(){this.securityInfo=await this.tokenScript.getSecurityInfo();this.updateStatusState();console.log("Security status loaded!")}updateStatusState(){switch(this.securityInfo.status){case SecurityStatus$1.VALID:this.statusColor="#3bd23b";this.statusIcon="✔";break;case SecurityStatus$1.WARNING:this.statusColor="#ff871d";this.statusIcon="⚠";break;case SecurityStatus$1.INVALID:this.statusColor="#ff4f4f";this.statusIcon="⚠";break}}render(){var e;return this.securityInfo?h("div",{class:"security-status",style:{background:this.statusColor},title:this.securityInfo.statusText+"\n\n"+"TokenScript security information\n\n"+"Integrity: "+this.securityInfo.integrityText+"\n"+"Authentication: "+((e=this.securityInfo.authText)!==null&&e!==void 0?e:"N/A")},this.statusIcon):""}};SecurityStatus.style=securityStatusCss;const fieldCss=".input-container{position:relative;padding:10px 0}.input-container>label{position:absolute;background:white;font-size:11px;left:10px;top:5px;padding:0 4px}.input-container>input,.input-container>select{width:100%;height:50px !important;border-radius:4px;border:1px solid #B0B0B0;padding:0 10px}.input-container>select{cursor:pointer}.input-container>select:hover,.input-container>select:focus{background:unset}.input-container>input:focus{border:1px solid #001AFF;outline:none}.input-container:focus-within>label{color:#001AFF}input[type=file]{border:none !important}input::file-selector-button{border-radius:10px;height:36px;min-width:73px;border:none;cursor:pointer;background:#EEEEEE;padding:8px 12px}";const SelectField=class{constructor(e){registerInstance(this,e);this.name=undefined;this.label=undefined;this.options=undefined;this.value=undefined}componentWillLoad(){if(!this.value&&this.options.length>0)this.value=this.options[0].value}render(){return h("div",{class:"input-container"},h("label",null,this.label),h("select",{name:this.name,onChange:e=>{this.value=e.target.value}},this.options.map((e=>h("option",{value:e.value,selected:this.value===e.value},e.label)))))}};SelectField.style=fieldCss;function getTokensFlat(e){return Object.keys(e).reduce(((t,r)=>{if(e[r].tokenDetails){const n=e[r].tokenDetails.map(((e,t)=>Object.assign(Object.assign({},e),{contextId:r+"-"+t,originId:r})));t.push(...n)}else{const n=Object.assign(Object.assign({},e[r]),{contextId:r,originId:r});t.push(n)}return t}),[])}const selectStepCss=".select-grid{display:flex;flex-wrap:wrap;justify-content:center}";const SelectStep=class{constructor(e){registerInstance(this,e);this.viewer=undefined;this.tokenScript=undefined;this.card=undefined;this.currentTokensFlat=undefined;this.tokenButtons=undefined;Web3WalletProvider.registerWalletChangeListener(this.handleWalletChange.bind(this))}handleWalletChange(e){if(e){this.tokenScript.getTokenMetadata(true)}else{this.tokenScript.setTokenMetadata([])}}async componentWillLoad(){await this.populateTokens(await this.tokenScript.getTokenMetadata());this.tokenScript.on("TOKENS_UPDATED",(e=>{this.populateTokens(e.tokens)}),"token-button")}async populateTokens(e){this.viewer.app.showTsLoader();this.currentTokens=e;this.currentTokensFlat=getTokensFlat(this.currentTokens);const t=[];this.tokenButtons=[];for(let e of this.currentTokensFlat){const r={originId:e.originId,chainId:"chainId"in e?e.chainId:e.collectionDetails.chainId,selectedNftId:"tokenId"in e?e.tokenId:undefined};const n=await this.card.isEnabledOrReason(r);if(n===true){t.push(e)}if(n===false)continue;this.tokenButtons.push({token:e,enabled:n===true,buttonTitle:n!==true?n:this.card.label})}if(t.length===0){this.viewer.returnResultToRequester({action:"ts-callback",error:"You do not have any tokens that support this action"});return}if(t.length===1){const e=t[0].contextId.split("-");this.tokenScript.setCurrentTokenContext(e[0],e.length>1?parseInt(e[1]):null);this.viewer.step="view"}this.viewer.app.hideTsLoader()}render(){return h("div",null,h("wallet-button",null),h("div",{class:"select-grid"},this.tokenButtons?this.tokenButtons.map((e=>h("token-button",{token:e.token,enabled:e.enabled,buttonTitle:e.buttonTitle,clickHandler:e=>{const t=e.contextId.split("-");this.tokenScript.setCurrentTokenContext(t[0],t.length>1?parseInt(t[1]):null);this.viewer.step="view"}}))):""),h("div",{id:"tn-integration"}))}};SelectStep.style=selectStepCss;const startTabCss="#start-tab{padding:20px}.start-section{padding:15px 0}.start-sub-section{margin-bottom:15px}input::file-selector-button{border-radius:5px;height:36px;min-width:112px;border:none;cursor:pointer;color:#fff;background:linear-gradient(234.79deg, #001AFF 37.73%, #4F95FF 118.69%), #8A9CB8}input::file-selector-button:hover{background:linear-gradient(214.82deg, #001AFF -21.14%, #4F95FF 89.22%)}";const StartTab$1=class{constructor(e){registerInstance(this,e);this.tabView=undefined;this.tabId=undefined}componentDidLoad(){}render(){return h("div",null,h("div",{class:"start-section"},h("about-tokenscript",null)),h("div",{class:"start-section"},h("h3",null,"Load a TokenScript"),h("div",{class:"start-sub-section"},h("h4",null,"Load with contract ID"),h("label",{htmlFor:"ts-id"},"Tokenscript ID: "),h("input",{style:{marginRight:"15px"},id:"ts-id",type:"text",value:""}),h("label",{htmlFor:"ts-chain"},"Chain: "),h("select",{id:"ts-chain",style:{marginRight:"15px"}},Object.entries(CHAIN_NAME_MAP).map((e=>h("option",{value:e[0]},e[1])))),h("button",{id:"ts-resolve-btn",type:"button",class:"btn btn-primary",onClick:()=>{const e=document.getElementById("ts-chain").value+"-"+document.getElementById("ts-id").value;this.tabView.openTokenScriptTab("resolve",e)}},"Resolve")),h("div",{class:"start-sub-section"},h("h4",null,"Load from URL"),h("label",{htmlFor:"ts-url"},"URL: "),h("input",{id:"ts-url",type:"text",style:{marginRight:"15px"}}),h("button",{id:"ts-load-url-btn",type:"button",class:"btn btn-primary",onClick:()=>{const e=document.getElementById("ts-url").value;this.tabView.openTokenScriptTab("url",e)}},"Load")),h("div",{class:"start-sub-section"},h("h4",null,"Load from file"),h("label",{htmlFor:"ts-file"},"Load XML: "),h("input",{id:"ts-file",type:"file",accept:".xml,.tsml,text/xml",onChange:()=>{const e=document.getElementById("ts-file").files[0];this.tabView.openTokenScriptTab("file",null,e)}})),h("div",{class:"start-sub-section"},h("h4",null,"Load Predefined TokenScripts "),h("label",{htmlFor:"ts-predefined"}),h("select",{id:"ts-predefined",style:{marginRight:"15px"}},h("option",{value:"DAI"},"DAI"),h("option",{value:"ENS"},"ENS")),h("button",{id:"ts-load-predefined-btn",type:"button",class:"btn btn-primary",onClick:()=>{const e=document.getElementById("ts-predefined").value;this.tabView.openTokenScriptTab("resolve",e)}},"Load"))))}};StartTab$1.style=startTabCss;const tabHeaderItemCss=":host{background:none;border:none;border-bottom:2px solid white;border-radius:0;margin:0;color:#ccc;max-width:200px;flex-grow:1;align-content:center;justify-content:center;padding:5px 10px;box-sizing:border-box;cursor:pointer !important}:host>.tab-button{height:40px;display:flex;flex-direction:row;align-items:center}.tab-button span{flex-grow:1;display:inline-block;color:inherit;font-weight:bold;margin-top:4px;text-overflow:ellipsis ellipsis;overflow:hidden;white-space:nowrap}.tab-button button{border-color:#a6a6a6 !important;border:none;color:#676767;border-radius:5px;padding:4px 6px;font-weight:bold;cursor:pointer !important}.tab-button button:hover{background:linear-gradient(0deg, #CECECE, #CECECE), #DDDDDD}:host(.active){border-bottom:2px solid #001AFF;color:#333 !important}";const StartTab=class{constructor(e){registerInstance(this,e);this.tabView=undefined;this.tabId=undefined;this.tabTitle=undefined;this.closable=true}render(){return h("div",{class:"tab-button",onClick:()=>this.tabView.showTab(this.tabId),title:this.tabTitle},h("span",null,this.tabTitle),this.closable===true?h("button",{onClick:()=>this.tabView.closeTab(this.tabId)},"X"):"")}};StartTab.style=tabHeaderItemCss;const tabbedViewerCss="tabbed-viewer{display:flex;flex-direction:column;flex-grow:1}#tab-header{display:flex;border-bottom:1px solid #000}#tab-content{position:relative;flex-grow:1}#tab-content>*{display:none}#tab-content>.active{display:block !important}";const TabbedViewer=class{constructor(e){registerInstance(this,e);this.tabs={};this.app=undefined}async showTab(e){if(e!=="start-tab"&&!this.tabs[e])return;let t=this.host.querySelector("#tab-header").children;for(let e=0;e<t.length;e++)t[e].classList.remove("active");t=this.host.querySelector("#tab-content").children;for(let e=0;e<t.length;e++)t[e].classList.remove("active");if(e==="start-tab"){this.host.querySelector("#start-tab-header").classList.add("active");this.host.querySelector("#start-tab").classList.add("active")}else{this.tabs[e].tabHeader.classList.add("active");this.tabs[e].content.classList.add("active")}}async closeTab(e){if(!this.tabs[e])return;const t=this.tabs[e];t.tabHeader.remove();t.content.remove();delete this.tabs[e];const r=Object.keys(this.tabs);await this.showTab(r.length===0?"start-tab":r[r.length-1])}async openTokenScriptTab(e,t,r,n){this.app.showTsLoader();try{const r=await this.app.loadTokenscript(e,t);this.addTab(r,n)}catch(e){console.error(e);alert("Failed to load TokenScript: "+e.message)}this.app.hideTsLoader()}addTab(e,t){const r=Date.now().toString();new URLSearchParams(document.location.search);const n=this.tabs[r]={tabHeader:document.createElement("tab-header-item",{is:"tab-header-item"}),content:document.createElement("viewer-tab",{is:"viewer-tab"})};n.tabHeader.tabView=this;n.tabHeader.tabId=r;n.tabHeader.tabTitle=e.getLabel();n.content.app=this.app;n.content.tabId=r;n.content.tokenScript=e;this.host.querySelector("#tab-header").appendChild(n.tabHeader);this.host.querySelector("#tab-content").appendChild(n.content);this.showTab(r);if(t)this.connectEmulatorSocket(r,t)}async connectEmulatorSocket(e,t){try{const r=new WebSocket("ws://"+new URL(t).host+"/ws");r.onopen=e=>{console.log("connected: ",e.type);r.send("Websocket client connected!")};r.onmessage=async r=>{if(r.data!="BUILD_UPDATED")return;try{this.tabs[e].content.tokenScript=await this.app.loadTokenscript("url",t+"/tokenscript.tsml")}catch(e){console.error(e);alert("Failed to reload TokenScript changes")}}}catch(e){console.error(e)}}processUrlLoad(){console.log("loading from URL: "+document.location.hash);const e=document.location.search.substring(1);if(!e)return false;const t=new URLSearchParams(e);if(t.has("emulator")){console.log("Emulator mode enabled!");let e=t.get("emulator");if(e){e=new URL(e).origin;console.log("Using remote host for tokenscript dev server: "+e)}else{e=document.location.origin}this.openTokenScriptTab("url",e+"/tokenscript.tsml",null,e);return true}else if(t.has("tokenscriptUrl")){this.openTokenScriptTab("url",t.get("tokenscriptUrl"));return true}else if(t.has("chain")&&t.has("contract")){const e=t.get("chain")+"-"+t.get("contract");this.openTokenScriptTab("resolve",e);return true}return false}componentDidLoad(){this.processUrlLoad()}render(){return[h("div",{id:"tab-header"},h("tab-header-item",{id:"start-tab-header",class:"active",tabId:"start-tab",tabView:this,tabTitle:"Start",closable:false})),h("div",{id:"tab-content"},h("start-tab",{id:"start-tab",tabId:"start-tab",class:"active",tabView:this}))]}get host(){return getElement(this)}};TabbedViewer.style=tabbedViewerCss;const tokenButtonCss=".token-button{width:300px;height:96px;display:flex;justify-content:left;align-items:center;margin:10px;border:1px #000 solid;border-radius:5px;overflow:hidden}.token-button.disabled{opacity:0.8}.token-details{padding:10px}h5{margin:5px 0}token-icon{width:100px;height:100px}";const TokenButton=class{constructor(e){registerInstance(this,e);this.token=undefined;this.enabled=undefined;this.buttonTitle=undefined;this.clickHandler=undefined}componentWillLoad(){}render(){return h("div",{class:"token-button"+(this.enabled?"":" disabled"),title:this.buttonTitle,onClick:this.enabled?()=>this.clickHandler(this.token):null,style:{cursor:this.enabled?"pointer":"not-allowed"}},h("token-icon",{src:this.token.image,imageTitle:this.token.name}),h("div",{class:"token-details"},h("h5",null,this.token.name),"tokenId"in this.token&&this.token.tokenId?h("span",{title:this.token.tokenId.toString()},"#",this.token.tokenId):""))}};TokenButton.style=tokenButtonCss;const tokenIconCss=':host{display:flex;align-items:center;justify-content:center;position:relative;height:auto;overflow:hidden}img{width:100%}div{display:flex;position:relative;overflow:hidden;width:100%;aspect-ratio:1 / 1;flex-direction:column;justify-content:center}.shimmer{display:inline-block;height:1em;background-color:#dddbdd;min-height:240px;width:100%}.shimmer:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translateX(-100%);background-image:linear-gradient(\n\t\t90deg,\n\t\trgba(255, 255, 255, 0) 0,\n\t\trgba(255, 255, 255, 0.2) 20%,\n\t\trgba(255, 255, 255, 0.5) 60%,\n\t\trgba(255, 255, 255, 0)\n\t);animation:shimmer 2s infinite;content:""}@keyframes shimmer{100%{transform:translateX(100%)}}';const TokenIcon=class{constructor(e){registerInstance(this,e);this.src=undefined;this.imageTitle=undefined;this.image=undefined;this.loaded=false}connectedCallback(){this.loadImage()}loadImage(){let e=this.src;let t;if(e&&e!=="undefined"){t=h("img",{alt:this.imageTitle,src:e,onLoad:()=>{this.loaded=true},onError:e=>{this.image=this.createAvatar();this.loaded=true}})}else{t=this.createAvatar();this.loaded=true}this.image=t}createAvatar(){var e;const t=(e=this.imageTitle)!==null&&e!==void 0?e:"Unknown Token";return h("img",{alt:t,src:this.generateAvatar(t)})}generateAvatar(e){const t=document.createElement("canvas");const r=t.getContext("2d");t.width=300;t.height=300;if(!r)return"";r.fillStyle=this.getRandomBackgroundColor();r.fillRect(0,0,t.width,t.height);r.font="bold 150px 'Arial', sans-serif";r.fillStyle="#fff";r.textAlign="center";r.textBaseline="middle";let n=e.split(" ");let i="";for(let e=0;i.length<2&&e<n.length;e++){let t=n[e].split("");if(t.length)i+=t[0].toUpperCase()}r.fillText(i,t.width/2,t.height/2);return t.toDataURL("image/png")}getRandomBackgroundColor(){return"#0029a7"}render(){return h("div",{class:this.loaded?"":"shimmer",title:this.imageTitle},this.image)}static get watchers(){return{src:["loadImage"]}}};TokenIcon.style=tokenIconCss;const tokensGridCss=".tokens-grid{display:flex;flex-wrap:wrap;padding:15px;margin:0 auto;position:relative}@media (max-width: 768px){.tokens-grid{justify-content:space-evenly}}";const TokensGrid=class{constructor(e){registerInstance(this,e);this.showToast=createEvent(this,"showToast",7);this.tokenScript=undefined;this.currentTokensFlat=undefined;this.loading=true}async componentDidLoad(){await this.populateTokens(await this.tokenScript.getTokenMetadata());this.tokenScript.on("TOKENS_UPDATED",(e=>{this.populateTokens(e.tokens)}),"grid");this.tokenScript.on("TOKENS_LOADING",(()=>{this.loading=true;this.currentTokensFlat=null;console.log("Tokens loading")}),"grid");this.invokeUrlAction()}async populateTokens(e){this.loading=false;this.currentTokens=e;this.currentTokensFlat=getTokensFlat(this.currentTokens)}async invokeUrlAction(){const e=new URLSearchParams(document.location.hash.substring(1));if(!e.has("card"))return;const t=e.get("card");const r=findCardByUrlParam(t,this.tokenScript);if(!r){this.showToast.emit({type:"error",title:"Card not found",description:"The card '"+t+"' cannot be found."});return}for(let e of this.currentTokensFlat){const t={originId:e.originId,chainId:"chainId"in e?e.chainId:e.collectionDetails.chainId,selectedTokenId:"tokenId"in e?e.tokenId:undefined};if(r.card.isAvailableForOrigin(e.originId)&&await r.card.isEnabledOrReason(t)===true){this.showCard(r.card,e,r.index);return}}this.showToast.emit({type:"error",title:"No supported tokens",description:"None of your tokens support the "+t+" action."})}showCard(e,t,r){var n;const i=t.contextId.split("-");this.tokenScript.setCurrentTokenContext(i[0],i.length>1?parseInt(i[1]):null);console.log("Token context set");window.scrollTo(0,0);this.tokenScript.showTokenCard(e);document.location.hash="#card="+((n=e.name)!==null&&n!==void 0?n:r)}render(){var e;return h(Host,{class:"tokens-grid"},h("loading-spinner",{color:"#1A42FF",size:"small",style:{display:this.loading?"block":"none"}}),((e=this.currentTokensFlat)===null||e===void 0?void 0:e.length)?this.currentTokensFlat.map((e=>h("tokens-grid-item",{tokenScript:this.tokenScript,token:e,showCard:this.showCard}))):!this.loading?h("h3",null,Web3WalletProvider.isWalletConnected()?"You don't have any tokens associated with this TokenScript":"Connect wallet to load tokens"):"")}static get watchers(){return{tokenScript:["componentDidLoad"]}}};TokensGrid.style=tokensGridCss;const tokensGridItemCss=".tokens-grid-item{margin:10px;border-radius:10px;box-shadow:0 4px 16px rgba(0, 0, 0, 0.08);width:250px;overflow:hidden;background:#FFFEFE}.tokens-grid-item img{width:100%}.tg-item-details{padding:10px;overflow:hidden}.tokens-grid-item h5{margin:10px 0 0 0;font-size:18px}.tokens-grid-item span{font-size:14px;margin-bottom:5px;display:inline-block}.tokens-grid-item span,.tokens-grid-item h5{overflow:hidden;max-width:100%;text-overflow:ellipsis ellipsis}.actions{text-align:center}.actions>button{display:block;width:100%;margin:8px 0}";const TokensGridItem=class{constructor(e){registerInstance(this,e);this.tokenScript=undefined;this.token=undefined;this.showCard=undefined;this.cardButtons=undefined}async componentDidLoad(){const e=[];const t={originId:this.token.originId,chainId:"chainId"in this.token?this.token.chainId:this.token.collectionDetails.chainId,selectedTokenId:"tokenId"in this.token?this.token.tokenId:undefined};const r=this.tokenScript.getCards(this.token.originId);for(let[n,i]of r.entries()){let r=i.label;if(r==="Unnamed Card")r=i.type==="token"?"Token Info":i.type+" Card";try{const s=await i.isEnabledOrReason(t);if(s===false)continue;e.push(h("button",{class:"btn "+(n===0?"btn-primary":"btn-secondary"),onClick:()=>this.showCard(i,this.token,n),disabled:s!==true,title:s!==true?s:r},r))}catch(e){console.error("Failed to check if card is available",e)}}this.cardButtons=e}render(){let e;let t;if("tokenId"in this.token&&this.token.tokenId){e="#"+this.token.tokenId;t=this.token.name}else{e=this.token.name}return h(Host,{class:"tokens-grid-item"},h("token-icon",{src:this.token.image,imageTitle:this.token.name}),h("div",{class:"tg-item-details"},h("h5",null,e),t?h("span",{title:t},t):"",h("div",{class:"actions"},this.cardButtons?this.cardButtons:h("loading-spinner",{color:"#595959",size:"small",style:{textAlign:"center"}}))))}};TokensGridItem.style=tokensGridItemCss;const tokenscriptButtonCss=".ts-button{width:250px;height:60px;display:flex;justify-content:left;align-items:center;background-color:#FFFEFE;box-shadow:0 4px 12px rgba(0, 0, 0, 0.08);border-radius:10px;overflow:hidden}@media screen and (max-width: 768px){.ts-button{width:300px}}@media screen and (max-width: 480px){.ts-button{min-width:250px;width:100%}}.ts-button.disabled{opacity:0.8}.ts-details{padding:10px;flex-grow:1;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.ts-details>span{font-size:12px;color:#545454}.ts-details>h5{margin:2px 0}.ts-button>token-icon{margin-left:5px;border-radius:5px;width:50px;height:50px;flex-shrink:0}.ts-button>.remove-btn{align-self:start;background:none;font-weight:bold;border:none;cursor:pointer;color:#0B0B0B}";const TokenscriptButton=class{constructor(e){registerInstance(this,e);this.tsId=undefined;this.name=undefined;this.tokenScript=undefined;this.subText=undefined;this.imageUrl=undefined;this.enabled=true;this.onRemove=undefined}async connectedCallback(){if(!this.tokenScript)return;this.subText="loading...";const e=await this.tokenScript.getTokenMetadata();this.updateTokenStatus(e);this.tokenScript.on("TOKENS_UPDATED",(e=>{this.updateTokenStatus(e.tokens)}),"ts-button");this.tokenScript.on("TOKENS_LOADING",(()=>{this.subText="loading..."}),"ts-button")}updateTokenStatus(e){const t=getTokensFlat(e);this.subText=`${t.length} Tokens`;this.enabled=t.length>0}render(){return h(Host,{class:"ts-button"+(this.enabled?"":" disabled"),title:this.name,style:{cursor:this.enabled?"pointer":"not-allowed"}},h("token-icon",{src:this.imageUrl,imageTitle:this.name}),h("div",{class:"ts-details"},h("h5",null,this.name),this.subText?h("span",null,this.subText):""),this.onRemove?h("button",{class:"remove-btn",onClick:e=>{e.stopPropagation();this.onRemove(this.tsId)}},"X"):"")}};TokenscriptButton.style=tokenscriptButtonCss;const tokenscriptGridCss=".ts-grid{display:flex;gap:10px;flex-wrap:wrap}@media (max-width: 768px){.ts-grid{justify-content:space-evenly}}";const TokenscriptGrid=class{constructor(e){registerInstance(this,e)}render(){return h(Host,{class:"ts-grid"},h("slot",null))}};TokenscriptGrid.style=tokenscriptGridCss;const viewStepCss=".card-container{position:relative;max-width:500px;margin:50px auto;border-radius:4px}.view-loader{position:absolute;left:0;top:0;width:100%;height:calc(100% - 5px);border-radius:4px;display:flex;align-items:center;justify-content:center;background-color:rgba(87, 87, 87, 0.67)}.popup-tn{z-index:50 !important}.tokenscript-frame{background:#fff;width:100%;height:650px;border:1px solid black;border-radius:4px;box-sizing:border-box}.action-bar{height:35px}.action-btn{width:100%;height:100%}";const ViewStep=class{constructor(e){registerInstance(this,e);this.showToast=createEvent(this,"showToast",7);this.viewer=undefined;this.tokenScript=undefined;this.card=undefined}async componentDidLoad(){this.viewBinding=new ViewBinding(this);this.viewBinding.setTokenScript(this.tokenScript);this.tokenScript.setViewBinding(this.viewBinding);this.tokenScript.getViewController().showCard(this.card)}render(){return h("div",null,h("div",{class:"card-container"},h("div",{style:{position:"relative"}},h("div",{class:"view-loader",style:{display:"none"}},h("loading-spinner",null)),h("iframe",{class:"tokenscript-frame",sandbox:"allow-scripts allow-modals allow-forms"})),h("div",{class:"action-bar",style:{display:"none"}},h("button",{class:"action-btn btn btn-primary"}))))}get host(){return getElement(this)}};class ViewBinding extends AbstractViewBinding{constructor(e){super(e.host);this.viewStep=e}async confirmAction(){this.currentCard.getTransaction();this.showLoader();const e={status:"confirmed",txNumber:"0x000",txLink:"https://google.com/"};setTimeout((()=>{this.viewStep.showToast.emit({type:"info",title:"Transaction submitted",description:h("span",null,"Processing TX, please wait.. ",h("br",null),"TX Number: "+e.txNumber)});setTimeout((()=>{this.viewStep.showToast.emit({type:"success",title:"Transaction confirmed",description:h("span",null,"TX "+e.txNumber+" confirmed!",h("br",null),e.txLink?h("a",{href:e.txLink,target:"_blank"},"View On Block Scanner"):"")});this.hideLoader();setTimeout((()=>{console.log("Transaction completed!");this.viewStep.viewer.returnResultToRequester(e)}),1e3)}),3e3)}),1e3)}}ViewStep.style=viewStepCss;const viewerPopoverCss="viewer-popover{position:absolute;width:100%;height:100%;background:#fff;top:0;left:0;display:none}viewer-popover.open{display:block}viewer-popover .view-heading{flex-wrap:nowrap}viewer-popover .view-toolbar-buttons{flex-wrap:nowrap}viewer-popover .view-heading,viewer-popover .view-toolbar-buttons{display:flex;padding:10px 20px;align-items:center}viewer-popover .view-heading>h3{margin:0 0 0 10px;flex-shrink:0}viewer-popover .view-heading>button{min-width:30px;font-size:18px;font-weight:bold;padding-bottom:8px;background:none}";const ViewerPopover=class{constructor(e){registerInstance(this,e);this.tokenScript=undefined}async open(e){this.tokenScript=e}async close(){this.tokenScript=null}render(){var e;return this.tokenScript?h(Host,{class:this.tokenScript?" open":""},h("div",{class:"toolbar"},h("div",{class:"view-heading"},h("button",{class:"btn",onClick:()=>this.close()},"<"),h("h3",null,(e=this.tokenScript.getLabel())!==null&&e!==void 0?e:this.tokenScript.getName())),h("div",{class:"view-toolbar-buttons"},h("security-status",{tokenScript:this.tokenScript}),h("div",null,h("button",{class:"btn",style:{marginRight:"5px",minWidth:"35px",fontSize:"16px"},onClick:()=>this.tokenScript.getTokenMetadata(true,true)},"↻"),h("wallet-button",null)))),h("tokens-grid",{tokenScript:this.tokenScript}),h("card-modal",{tokenScript:this.tokenScript})):""}get host(){return getElement(this)}};ViewerPopover.style=viewerPopoverCss;const viewerTabCss=".toolbar{display:flex;padding:10px 20px 0 20px;justify-content:space-between}attribute-table{position:absolute;bottom:20px}.toast{position:absolute;z-index:200}";const ViewerTab=class{constructor(e){registerInstance(this,e);this.showToast=createEvent(this,"showToast",7);this.uuid=Date.now();this.app=undefined;this.tabId=undefined;this.tokenScript=undefined;Web3WalletProvider.registerWalletChangeListener(this.handleWalletChange.bind(this))}handleWalletChange(e){if(e){this.tokenScript.getTokenMetadata(true)}else{this.tokenScript.setTokenMetadata([])}}async loadTs(){if(!this.viewBinding){this.viewBinding=new ViewBinding$1(this.host,((e,t,r)=>{this.showToast.emit({type:e,title:t,description:r})}))}this.viewBinding.setTokenScript(this.tokenScript);this.tokenScript.setViewBinding(this.viewBinding)}componentDidLoad(){if(this.tokenScript)this.loadTs();document.querySelector(".toast").shadowRoot.querySelector(":host > div").setAttribute("style","margin-top: 100px;")}render(){return h("div",null,h("div",{class:"toolbar"},h("security-status",{tokenScript:this.tokenScript}),h("div",null,h("button",{class:"btn",style:{marginRight:"5px",minWidth:"35px",fontSize:"16px"},onClick:()=>this.tokenScript.getTokenMetadata(true,true)},"↻"),h("wallet-button",null))),h("tokens-grid",{tokenScript:this.tokenScript}),h("card-modal",{tokenScript:this.tokenScript}))}get host(){return getElement(this)}static get watchers(){return{tokenScript:["loadTs"]}}};ViewerTab.style=viewerTabCss;const getBrowserData=()=>{const e=!!window.navigator["brave"];let t=false;let r=window.matchMedia;if(r){let e=r("(pointer:coarse)");t=e.matches}let n=window.ethereum;if(typeof window.ethereum==="undefined"){n={isMetaMask:false,isAlphaWallet:false,isTrust:false,isStatusWallet:false,isGoWallet:false,isBraveWallet:false}}const i=t&&!!n.isAlphaWallet;const s=t&&!!n.isTrust;const f=t&&!!n.isStatusWallet;const a=t&&!!n.isGoWallet;const o=t&&!!n.isTrust&&!!n.isMetaMask;const c=!!navigator.userAgent.match(/\simToken\//);const u=t&&!!n.isMetaMask&&!s&&!e;return{metaMask:u,anyMetamask:!!n.isMetaMask&&!s&&!n.isBraveWallet,alphaWallet:i,mew:o,trust:s,goWallet:a,status:f,imToken:c,brave:e}};const metaMask={imgBig:`\n\t\t<svg width="62px" version="1.1" id="Layer_1" xmlns:ev="http://www.w3.org/2001/xml-events"xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 318.6 318.6"style="enable-background:new 0 0 318.6 318.6;" xml:space="preserve"><title>Metamask logo</title><style type="text/css">.st0{fill:#E2761B;stroke:#E2761B;stroke-linecap:round;stroke-linejoin:round;}.st1{fill:#E4761B;stroke:#E4761B;stroke-linecap:round;stroke-linejoin:round;}.st2{fill:#D7C1B3;stroke:#D7C1B3;stroke-linecap:round;stroke-linejoin:round;}.st3{fill:#233447;stroke:#233447;stroke-linecap:round;stroke-linejoin:round;}.st4{fill:#CD6116;stroke:#CD6116;stroke-linecap:round;stroke-linejoin:round;}.st5{fill:#E4751F;stroke:#E4751F;stroke-linecap:round;stroke-linejoin:round;}.st6{fill:#F6851B;stroke:#F6851B;stroke-linecap:round;stroke-linejoin:round;}.st7{fill:#C0AD9E;stroke:#C0AD9E;stroke-linecap:round;stroke-linejoin:round;}.st8{fill:#161616;stroke:#161616;stroke-linecap:round;stroke-linejoin:round;}.st9{fill:#763D16;stroke:#763D16;stroke-linecap:round;stroke-linejoin:round;}</style><polygon class="st0" points="274.1,35.5 174.6,109.4 193,65.8 "/><g><polygon class="st1" points="44.4,35.5 143.1,110.1 125.6,65.8 \t"/><polygon class="st1" points="238.3,206.8 211.8,247.4 268.5,263 284.8,207.7 \t"/><polygon class="st1" points="33.9,207.7 50.1,263 106.8,247.4 80.3,206.8 \t"/><polygon class="st1" points="103.6,138.2 87.8,162.1 144.1,164.6 142.1,104.1 \t"/><polygon class="st1" points="214.9,138.2 175.9,103.4 174.6,164.6 230.8,162.1 \t"/><polygon class="st1" points="106.8,247.4 140.6,230.9 111.4,208.1 \t"/><polygon class="st1" points="177.9,230.9 211.8,247.4 207.1,208.1 \t"/></g><g><polygon class="st2" points="211.8,247.4 177.9,230.9 180.6,253 180.3,262.3 \t"/><polygon class="st2" points="106.8,247.4 138.3,262.3 138.1,253 140.6,230.9 \t"/></g><polygon class="st3" points="138.8,193.5 110.6,185.2 130.5,176.1 "/><polygon class="st3" points="179.7,193.5 188,176.1 208,185.2 "/><g><polygon class="st4" points="106.8,247.4 111.6,206.8 80.3,207.7 \t"/><polygon class="st4" points="207,206.8 211.8,247.4 238.3,207.7 \t"/><polygon class="st4" points="230.8,162.1 174.6,164.6 179.8,193.5 188.1,176.1 208.1,185.2 \t"/><polygon class="st4" points="110.6,185.2 130.6,176.1 138.8,193.5 144.1,164.6 87.8,162.1 \t"/></g><g><polygon class="st5" points="87.8,162.1 111.4,208.1 110.6,185.2 \t"/><polygon class="st5" points="208.1,185.2 207.1,208.1 230.8,162.1 \t"/><polygon class="st5" points="144.1,164.6 138.8,193.5 145.4,227.6 146.9,182.7 \t"/><polygon class="st5" points="174.6,164.6 171.9,182.6 173.1,227.6 179.8,193.5 \t"/></g><polygon class="st6" points="179.8,193.5 173.1,227.6 177.9,230.9 207.1,208.1 208.1,185.2 "/><polygon class="st6" points="110.6,185.2 111.4,208.1 140.6,230.9 145.4,227.6 138.8,193.5 "/><polygon class="st7" points="180.3,262.3 180.6,253 178.1,250.8 140.4,250.8 138.1,253 138.3,262.3 106.8,247.4 117.8,256.4 140.1,271.9 178.4,271.9 200.8,256.4 211.8,247.4 "/><polygon class="st8" points="177.9,230.9 173.1,227.6 145.4,227.6 140.6,230.9 138.1,253 140.4,250.8 178.1,250.8 180.6,253 "/><g><polygon class="st9" points="278.3,114.2 286.8,73.4 274.1,35.5 177.9,106.9 214.9,138.2 267.2,153.5 278.8,140 273.8,136.4 281.8,129.1 275.6,124.3 283.6,118.2 \t"/><polygon class="st9" points="31.8,73.4 40.3,114.2 34.9,118.2 42.9,124.3 36.8,129.1 44.8,136.4 39.8,140 51.3,153.5 103.6,138.2 140.6,106.9 44.4,35.5 \t"/></g><polygon class="st6" points="267.2,153.5 214.9,138.2 230.8,162.1 207.1,208.1 238.3,207.7 284.8,207.7 "/><polygon class="st6" points="103.6,138.2 51.3,153.5 33.9,207.7 80.3,207.7 111.4,208.1 87.8,162.1 "/><polygon class="st6" points="174.6,164.6 177.9,106.9 193.1,65.8 125.6,65.8 140.6,106.9 144.1,164.6 145.3,182.8 145.4,227.6 173.1,227.6 173.3,182.8 "/></svg>\n\t`,label:"MetaMask"};const walletConnectSVG='<svg width="62px" height="62px" viewBox="0 0 319 319" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><title>Wallet connect logo</title><g transform="matrix(1.7268,0,0,1.7268,159.3,155.744)"><g transform="matrix(1,0,0,1,-107.5,-107.5)"><path d="M55.953,84.792L72.263,100.335C72.263,100.335 84.86,78.281 106.774,78.436C106.774,78.436 126.648,75.152 143.824,101.06L160.354,85.616C160.354,85.616 143.436,59.639 107.409,59.615C107.409,59.615 79.188,56.141 55.953,84.792Z" style="fill:rgb(59,153,252);"/><path d="M42.568,93.225L25.838,109.259L74.827,157.509L107.434,125.302L141.274,157.461L188.677,109.672L172.91,93.916L141.771,126.195L107.369,93.403L74.398,126.501L42.568,93.225Z" style="fill:rgb(59,153,252);"/></g></g></svg>';const walletConnectV2SVG='<svg fill="none" width="62px" height="62px" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><clipPath id="a"><path d="m0 0h400v400h-400z"/></clipPath><g clip-path="url(#a)"><circle cx="200" cy="200" fill="#141414" r="199.5" stroke="#3b4040"/><path d="m122.519 148.965c42.791-41.729 112.171-41.729 154.962 0l5.15 5.022c2.14 2.086 2.14 5.469 0 7.555l-17.617 17.18c-1.07 1.043-2.804 1.043-3.874 0l-7.087-6.911c-29.853-29.111-78.253-29.111-108.106 0l-7.59 7.401c-1.07 1.043-2.804 1.043-3.874 0l-17.617-17.18c-2.14-2.086-2.14-5.469 0-7.555zm191.397 35.529 15.679 15.29c2.14 2.086 2.14 5.469 0 7.555l-70.7 68.944c-2.139 2.087-5.608 2.087-7.748 0l-50.178-48.931c-.535-.522-1.402-.522-1.937 0l-50.178 48.931c-2.139 2.087-5.608 2.087-7.748 0l-70.7015-68.945c-2.1396-2.086-2.1396-5.469 0-7.555l15.6795-15.29c2.1396-2.087 5.6085-2.087 7.7481 0l50.1789 48.932c.535.522 1.402.522 1.937 0l50.177-48.932c2.139-2.087 5.608-2.087 7.748 0l50.179 48.932c.535.522 1.402.522 1.937 0l50.179-48.931c2.139-2.087 5.608-2.087 7.748 0z" fill="#fff"/></g></svg>';const torusSVG='<svg width="62px" height="62px" viewBox="0 0 319 319" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><title>Torus logo</title><g transform="matrix(1.9124,0,0,1.9124,159.3,159.3)"><g transform="matrix(1,0,0,1,-107.5,-107.5)"><path d="M57.267,51.007L56.757,84.626L85.505,85.297L85.565,164.593L119.635,164.873L119.472,51.399L57.267,51.007Z" style="fill:rgb(57,150,254);"/><g transform="matrix(1.06773,0,0,1.04155,-3.94432,-8.22515)"><circle cx="139.434" cy="73.102" r="16.365" style="fill:rgb(57,150,254);"/></g></g></g></svg>';const imToken={imgSmall:`\n\t\t<img src='data:image/webp;base64,UklGRmoGAABXRUJQVlA4TF0GAAAvL8ALEAmFbds2kOwC8/+Lc0RE/zPp7qD7G9wl2buwdsdCUdtITp6710v4k70DMQgj0P+Eh9AYiAgdRERgIbA4AESHA3xLCWVp29NW0i+HmpmZmYaZt8y4YlrRjfAdTM12anbMzMzMjIfjSFW2ZOf0FbwujaJOmuRAtm3a1ljPtq3M37Z/aNuKbOW2mdu2bdv2P95Lim1ry96c83yYOURyoqIyhNgOtbaylhlVVyUzfHjd1LYtNZsu85x4oP8mQEI8sFBAhQIWInAAJugRQZWBoXTgtm0k2Zlr1WJ6TbpvEIgAXovL00A2zI/kG/MmTpn3CikQlMAHfzD4kACvRN477fCHffC+xTBtkctBCZ1SaoFRgOMUqjeCu8UnwdMwzrTXQBMhaI1eCAAIAeUvmAiZ9+/J4/AejwsTSmXruehs3vfvpT6v60PwvZ4tMIBIoQWBKBD0Je/SJIwNILCGnGmFE1rhNsy5qSixwApbQq9bDULPLmZBt+uGKIeW1slJy1PReWp2Ifu1VwBxHcuhVVUZcoHM6n8RBEGTgzvlqvxLPyYh+BCKIDApKIKdXPXf6Nv4S30RnIaIgm5sEP2EcKbegU1tpjbTPmXeC+F0deDWKnyBNygRsM9aMAXDKcgp3/UC8Ye9deu2wyis8pOBISFEZEG3p/ZgTgYGr/4ikpUyf1Sw4IDJQPMXHaDRzPJYOgCzitRKggk09i1mdkGBBFEIxaCE6n8Y/acZHbFjHFbULq14AbCyWflnu1Q8iifXYm0bIzaG7Bi1Mexg3IKx5NYy/zXyrywZH+e9xfUKHP/zJh4pimY8KufBri8axtEQ5cy1qyM7l/m5DQG3/V+dfW6lIpFaMMCookEahQk0qxGOGqk5uaLAKkT9fjSKfuxHZ1Ar7SgBt30CQCMaGxvrZns3vx9Sq2ShKW3K6n67+UWFQnc8GBD7/Sz2Ydu4GEd3/gI60Fv7N2O/sa1VA7h0Y0wg46hvVL1atCjxhAU0JQujsk45/P/ywxuMwV0RsZXWdPDaiRj9DaiF64jlq7YpMb48pNO2VKaRbxBE/tvAKWJ8ddDR7Qqv7tzsoDM3MrSUmo1fXwCYW4QO6huju2NalOmfl8AoNCUPDSpLqR+7J60E8NU5bQApEg1NmZcr4N+PUsCAjqMH+6hUP52SQhnPoFHZtdMAyysCJATGCOj4gNTBq8M6CRhMoPcOokyi+Gl9kRhohFFk0BA2SIOYGgtY3RBfXFQNCJrK7oHunc+v4ONzuL+wV0MSBW2rL4oy/XArFDIh6mukKTlUQAQCBGU6axtO7DqgbePhbmoSYBy0Kb0WkURBufjHNK65Nyk7lld3lk9ufL06ahEQQFYFAyKiyKA22DU3Tu83gl9fbzQ4JIrss1GeUqMxdPXVybo6KtPJU0cjYPimVLiAaK/DCMogXjpnBMxOL8fM2g2hJtHDH794cuoQTI0XJZqWXDbMLe1/aEQAID9BRARIqIYotz5tCQBmJJeL5h744x3arqbGaU4mKPfOPoNRpFUqQlg2FEMoEMlh6mHXhN3S0hbde2Fxqwk6/6EV7udlFHZ+iwyh04e2ulcShjl9lAINNCrIG05+UwLjaQpYXNTqWvUUpSh4D5X73e3Dgn5GYSSC7tS2MfwGXiu8Rh6wYHRSrgLEOPpq9een37rRNzc2DzWP8UeoRQpEIKjoAXLoM5igf1m8se+D1NnUI1WiX1/E4/N3b8wvDaQiVVExACxoNAqzgShUGGbQemzse2ctvXRkJywrk6vhH/jy+u6VBfj5QGMaaEaFhMlhYEEDAAsqkEMlaEpJVW1Coa2jv1peazUrU40IaR8jv/D7Y30xvzGEWqAJalHwVmdEVLQ7GFCQci2IQl68ooFBQghKQK8G6iCJRJ6wqyxy4gJDlOU5USiBD07qDQeD92FgR0E+jAUtxoJVInAj+DwGlG09NboJKIa9wz74wuAA7m0FNOinhXo0pCx7KIVdtIOidmzksF/Ecfcjr4IQlMJYuFeW7xpH6EmZKvVb3C4GAKXvqXBcumtwJMcvgVEJlSDYi/AIThuBCD7kTkrFXoMtHT77Bd4wARvYW7Bq0X/2cLYVuFh/LrZx0wohCkGThnm7juC82X9QYMWygfwIbpXLuOjrdFNhFyKRGCOAi+r00zo97I8wF+UR5uKVUwAA'/>\n\t`,imgBig:`\n\t\t<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAC8VBMVEUAAAAPjcELiL8JlMABabAIlMAeos4Hjb0BarAIkL4CabECarEKmsIIj74JmcIBabACarEQvc8JlMAKl8EJkcAKlMAIiL4Tu88HjL0QvtAJl8EKncMRvtADarEDarIZxNIIlsAQvc8KmsIIj74Qvc8IkL8Qv9AKlMESv9AKlsISwdINl8IVm8oBaLAQvs8BabAQvs4Qvc8KmcIIjr0RvtABabAQvs8Sv9ADa7IBa7EKncMQv88PvM8Qv9AJlMALm8MIlMARv9ASvtAKlMESv9H///8JlsAFgLgHi7wIk78Km8IEerYHjr0NrckLpcYHjb0GhboKnsMIkb4Lo8UHirwLocQDdbQMqccEfrcJmMEJmcEMqsgKnMIIkL4EfLcIlL8GiLsGh7sEfbcKoMQMqMcCb7IGibsDdrUFgrkDeLUOsssFg7kCc7MLpMUOtcwMrMgPuc0Nr8kHj74Lp8YKncMCcrMLn8QEebUJl8EOtMsOr8oDdLQBarANssoOscoOt8wBa7EPuM0GhLoBbbEGhLkJmsEEebYCbrEPu84IlMANscoDcbMOtcsPvM4CcbIFgbkLpcUKnMMOr8kLncMBaK8Qvc8CbrIBabAQvs8Pus4Pt80FhLn7/f7u+Pv4/P39/v7y+fzc7/aUzeL1+/zq9vrm9Pnj8/i/4O2o1uibz+Tg8ffX7vW53eys2OmHyd9UtNMPj76Ny+GAxt5csdI7pMqz3etks9RNr9AhnsUOh7vT6/PH5fC05O6x2emj1Oag0eWDwtxettQxpcorn8ccl8O64O2j3up5z+DP6PLD4+9Yq9AslsQZi77I6fJ0wdt8wNtdxtpnv9hnutdeutYzttAQlMHO7POL1eR3u9lDr886rs5PqM5DoMrA6PCd1+Z3yN1Dqs0eq8o2ncgklsNoxttuuNdAt9EkpsgVl8IbkcC65u+t4uyU2eZOv9ZDpswYpcczmMUlkMGD0eIsrcwSnsQWm8RvzN5AvdNLtdIfs80TqcjW71yqAAAARXRSTlMAEBZg7LYI3d2dhHHu6eS/nZx+cm1BMBjz6MScYGA9Efvv2tDEi31UQzg0IQz8z8z44s/Er6+LclH39tvYuqmMemtUS3SZNIC7AAA7fUlEQVR42uyaSYtTURCFo6IgiOCMAzjPIiqi4DwRUDAQRKT1QRZx1RA1JEjSkA4uBPOwwdgI0V/rV8O1nk9X2m1HyKlT9XR9qk/VvbmV1cG63Sd33N6/cd+RrVu2XFvOut3lbjfr1rM66Ep5KyFsNuvNhKfNp4DyxEKoxdF60qrVWqBWq32qtaQAiqHTqXVevnzZ6VCB1mfPnkk+e6EFvnhBBl6/fi35+rEETPicvgufH7fbC58X2oRwUYsgXxzki/Pz8/lgQB0Qwv78oD/f77/q96V8fPXqVf8VFXwUDodDyeE3Ke+G7wDljYXgqxaLDxcO771449jlbVeu3jtzsPJ/YP2uHfsvbXkExtmjTLHczTLk51PvdtHf8dYpPVBv1pHf+NTxRBlN0FKq/BQ+nz6J+qG/UuUnqQrT3+V36id1wAukV/Bx0Yuf9mMRXrAAcyry5+3FtrQAOVgU4YHpD5CfnEd+wce+CP9R5CcFNAD5CvmVCegPVX6aAHww/sDh89uuntpTmWbs2bB/63ukJzPUHz8aj7MMIv+ydADaZ2SdfPvWWYfJA9CeNA8Q7b2SbgC1FhXw168GAC29A152aqTJHx1AAhNdKgmkvE6J9KTVcAGCKqlNgPbWBO3FBVN/fpDn8/wT6RNJ8wDA335KV9+rOgD5zjqAVPUDNAGJ+qkDlpag4OK2A9PZBOtP7j+C8oFMiPyQ0iVg2QDegqa0gQ+CsgGkAeBGYAZA2ocOKAP5IUU+Kj8kEkR3CqSo/JAA2gFlMABgu00LWAfkCyDPcQAKIwADGADE15JAC0CbAkQqqr6VoQLxHW+ExRaATIEfFrAkXAJflm5suzdlTXD69iW0LxKM1QasCZYzMQCxgWgC5NcKpQmapVVANI8+KO4BUJpA7L9F1mBA9gBY3ANc/xfFJtCkxhQgrZruZDSBqE9azWUKLOS2B9gqgPTJAKhQhoDDm6CwB4BvNMA3IprA5IeuPqmV9CZAfmj4Mjl/5UxlSnB2+5Hnj4jnJOITQEvGHmDyd0mbBLoJeg/YGED+OlH0AArCq/JRoIhfQ36NFmlLgBfbA0V+jQ5Z9oAXTkL/Fx4g4uskIAKflQsUbwEoBQOgE2wMIH9ODEx8K32mAD2Q5KfQAuYAlKEEZAp8U/m1/OwAvgd8VfmhtwDaQ4kvS9dPnK2sOdZt2If0QOQ39UlHJqFTQNwf+TVlEzSo+vQApXgWgAYf/1ZInwFakN+idBZAd1ItwAJ4ByTRKRLQ4VPAHIAeCPm9ttUFLGwP4B8qP8lZAO0ZBRbIn1ZBNwCo2kPSYPJLxiYYR4FoAlogNsElCQMdACbHDqzt4eD+rWtzc8/nTH9CHMCawDEmdQj4FpCGQLQAMB9oEtED0QIA+T0Mrj9gCMR5kNrRr//5U2MIaPgYiE6IIWDhPlA+DSI/NqAeANQHZAtoI78S+X0LIFMDxEmAT9oCYh0cEjYE1AIAVYdA2QfCApBfCcwGJl8uXD5VWStsOOLqa0H/92oCgAKBq4/y0E2gLufBOhQkC2jCt3EUIH0NSBYAHWoBNWgmYMrD2AOlBaA2gaO4B8ZJEBpKeyCl1ATIj/hhAXzTUQAwBeAAEmAAYw8kmQLJBHwKhAkgvGTJAuJGwI4CMCzABgGQMrl+oLIG2LRza3XOYA4QLaDyS/EW0NOgHwVg5ktA2gXdAeIoYEtAsoBwACnA5NfzACRiE1CY/HYegBQ7CsJoAQoMByChIzogegAPkD0AmvwEFoD2chpA/nywmHsLxCaQ5gDy+yRwH4g5AGIJ0BaglCDyxxpAQX7fBZSTi3c3Vf4tzu3YOtdz9QnX31pAooCxugAh/r8sFaj4rr6EshlTIPQP6aEWEPpDFd+R/ml7gKkPTP+w//D/sACI9MqyAVAI1R/6QYAhoHNAMWAGLCK9sHghFHsA1wFF9f1C6JtPgdC/6P9GIvSHDvT3KQAmex+cq/w7rNu+pTpXnetVUwdQqEAswE3AWFwFgU4BdQJmQBwHrQpLhwGfAvb9zXEwrYLorgxgAkCbgNAGoCTEMgjTGkDxKfBbE2jjAj4F7JvrpXCuISaAC6B/mAD0JvA1AGoTxDpoU8BbAPoUKHaBhrYARH8LhU8BghY4fOKf7YM7t/R6vSrqV4k0ApILYAO2BhRXQeTHBcZ2I6hXgt3M1deS9gDC5SfdAlx8HwQhvi4BpBRg14Hx908LmPLaBaY+XRDiJ+3jUjidBuNKMP7+pcrHRgDwQbAYNwKcBFR11AdW0V5WQd0D/FeBuBEYEqivJwG+yQIoRf2T+KTqD5L8EgATmEykBe5W/gVOX+pVQQ8DQH9oiCnwnoL8sQhk/Nt3wS7sLvudYBZbAMWPAnESgMUmMP2ho0YbUGwL+KTHQQLGLtjxESBfvw+AjrgOLN4JQvQvHQcLp0FOA2kPyEX/nBZId4IsAvNCxE+/D/Uh8F2QKQCLPw0MoeOdu8Bv7wTBB2HhTvBLcRckJrTB+dW/HFq3f64KxAJogN5ceIBk9IAqH8gU43QpSBPEHpDkJ0C4wG/kj09LWIsr4VDe/tER+qXwT0cBSshvLlA8CuABlN/Ib6Utx0E/ChA5HzkMGvQ0mK6ESUMfApUf4ZWgdCn8LfaAsvxavuqNkCOOAnEjYD4w2bbKc2DDFpXfilgA+juiA4j3vgxCkPkymFxgmUqRHuiGBRB+J0Sgv2X0gEbcCbXcBYA3gljAp+IccBcggC8CsQRYUixiE3QLkCiqb2k/C9idMKkXAnYUIHAB2wJA/EAskXbBdCGgH4PPgXeW2gBWSnPAUhvASnSAxGRJJ8He1TwT7t4X4ktAlK+a/AREfFDwf0qcBaBcBc3eB/zh+4A3RQsgdQC4A5D0ADi2anPgzqGqAOHtI8QEwgKKi+Bz098xex+w8u8DtAX8OOjnwYnhRGU1sH6jyR9NwAigaqYhENfCUD1g9j5gdd8HID1ZPAyAm6vwa/GurdVG1REG0GMPDKj88cvQ89n7gH/zPiAuBSeOvSv+A8F2s/9GqE96TScBQqofBWbvA/7l+wCD7YLqBCdW2P5RXhjyu/iMAe2ANAVsGZy9D1iL9wEQ5QmwomMA+2+49oE4CthZkFQHQPfZ+4C1eh8AkJ5c2TGw4RDyW4QPoH0qagE9HwOz9wFr+j7AfMBwYYWuBHZUG0l1qqPnJNLvAmD2PmAa3gfQBX4lcHUl9D/eaIyqjRF//7AKAz3oDiC7wOx9wLS8D/ixCVz5e/03jxoA3Ueqfll/6AeB2fuAaXofkLDtb9/9bGw8HD0cWQtQAN9fV8Hq7H3AtL0P8E3g8l+9FVq3b9R4+BD/H9EDZe0Lq+DsfcA0vg8wHDv4F/offYj8jREF/UsuEC0wex8wre8DvrNvNikRxEAUXsjoajYq4oig4g8KMiiuBQU3gayyb+YOuUUOMDDH9VUlZan0/HSvJqFe/g7wuisv6a9Z86vR9f/CQWx/Solz4D/veTI+YI/5ANLd2F1g4lhIARjwf1EKwIJbkfEB+80HcA4Ymf+dC2R/3gaoobP/KuMD9p8PGHsWuCf/WQiCpQSgs/+8QMYHVMEHjLoPOMnuB9kFkqMQwE8ABsv4gFr4gBF3ggfwPjgVKgAmefN5NT6gHj5gtboc+P3vuhQAdDkKJDRWdt74gJr4gNXL46Dv/9OAAoChJSCVnQD2J/hufEBtfMBsCB8wIe/ReYgWfCWcEm0AxgfUxwe8D+C/yuuPyVHXFJAwQ8YH1MgHPOwcANj+oN7nZZGLQErJ+IAq+YDl45AAoI8AVj0KoBsfUCsfsGMMmAQo+55nUeJufEC9fMBOMeAjdGhkvZQANL0SMj6gZj5ghxhwBveznDqvMj6gaj5guf2/wTcqAOhSAsh+vREwPqByPuBu6xUw25+lIVBkfED1fMDlFgZo2kGBBsnxRI0X4wPq5wNmV5sZgI4VRGS6WB+MD2iBD9jIBjyFbD8GZlEJAcYHtMEHbMqBt533pQboYYAGZHxAI3zAfL3/p75TSRiUBGB8QCt8wOfaBHgefez8b/cxl/JvfEAzfMDNuhx4HGG+RyMFHj/fBIwPaIgPWHMf+DyNPpL7NMT+chw0PqAlPuDmuR8DjUiAGFGSgGZB4wPa4gO+ev8DmvoYPVrX5a1AD4PGBzTGB8wOe48APqLTJElAHgHjA1rjA/oOAkc+Zvdp+XMWND6gOT7gtecrkCeVXQCrRkHjA77ZtYOcuGIYDMAWVYVYdEFFWyqNhFBLkcqGqggWoC7oxouRsvEB3ioHmNNwXOzYmTxGnCD+/ZJwgD9KHOab0Ads3j8A9Gvh6wmgaxwB8AET+oBHOqj/Gr6Wxd/2wHgOwgdM6QMOgeg/i3/sAXsK+BUAHzCnD7g7/C/wduwA/xMvAfiAOX3A7cV7LaBfAPppG+D/DIAPmNUHbN5KwG3R3KM0e38Pav7wAbP6gDc68EZjLxb9fu78h0H4gGl9wMsNjfpcStmW2AKjEdjBB0zsA37RqGNL36qtOx9a8AET+4DHFQX0A0BnxB8vAfiAqX3AwIFXxWrrn0UfXQB8wNQ+4H5Y0NJrXAI64QPm9gF7HXpUuOgYd0BcBPABc/uAl2/kdW3xczwExgkAHzC7D3gmrxMuUfEW9NzhA2b3Aaf9EVg47oB1KwgfML0PeIoWoEXP7Pnr9PDhA+b3Ad4EfNDwW/zcjwBb4AMS+IBNbwEi/nUbAB+QwAecegvAfgTweA3qhA9I4AOaDT3y8Ef8LX34gBQ+wJqALxa8la49/lLgA1L4AJOBZ55+iRGbAD4ghQ94sB6wcKtio0TBB+TwAdYF/vD0bcaqAz4ghw+w34POPfoRvi7wAUl8wKWCcPYaTwGd8AFZfMAFfWWWyH9cBfABWXzAb7petYD9CIAPSOMDnumMRTgqtgDDB6TxAQ90xb3GKQAfkMYH3NOJsH1Rnj98QBofcEofRaRnHxM+II8PuKO/ImxjdQvAB+TxAT/pWFbx+wIfkMcHPMUGaAtHwQfk8QF/6NM+fInw4QMS+YDvdC69+haAD0jkAy7bBqiefhR8QCIfcEsSNd4C8AGZfABJrVJ9B8QxAB+QyQdQi1+X8RCAD8jkA0jEzgAvtg8+IJUPoKolUsdLAD4glQ+gGkdA7UcAfEAqH7A/AWq/BeADUvkAqhb+Kn+BD0jlA0h8B9hqQxg+IJUPoNrDr3EEwAek8gG0WP5WEhsBPiCVD6BFFkt/9IHwAal8AC1LXaRqiU+BD0jlA0iqXQL+2RD4gFQ+gJZlEbFjoEptAz4glQ+gxcpy748B+IBUPqD1ANWWvgPgA1L5AFpaeQdoK3xALh9A7QZoB4A/B+EDcvkAWrw8fp3wAbl8wCt797LqRBCEAbherl0PimudjQj9Aq6bfgtPLprkoIkgBCGgg+At0YUaNZ7gImoguMiFgGJiXFk9KTPiQnOpmQl0/TOZBzhVVPfkfHQgvHwZbxoD2ALiA/zyAdgAVH76Okh8gF8+ABsgxB5I1gHxAX75AJoA9CqA/xgQH+CXD4DLobuSESA+wC8fACFmU34cAeID/PIB4OqP92YvKD7ALx/gGiApP37EB/jlA6gBki4QH+CXD4DQJdkJXhEf4JcPgPB36CtB8QF++QAIsPTBH9UXH+CXD8AGoNC7gPgAv3wABEEQBtQBbgyID/DLB0BcfvegFhAf4JcPAFf8uPr0MiA+wC8fAAEGR8DmTUB8gF8+AFz54w+NAPEBfvmAzQQIaASID/DLBwCWHpPUX3yAXz4AXPFdQloGxAf45QNgU3z6MkB8gF8+AILfCdeNID7ALx8Af5dffIBfPoCWAHrgR3yAXz4gmQC0FxAfkL0PWC27nWl7Mjhr1ArlSuWkdFIp1OqNl+P29Ouiu1yl6QMg2CSMb/EB2fmAHtZ98vL0RP0n5UY0XSxXqfiAZALQy4D4gCx8wHDWaZ8V1U4p1aPOit0HQEChhOIDUvYBvW5/XFN7ptLh9gEQ2GQAuKf4gBR9QG8xqarD0mf2AWCwA5KEofiAlHxArxMV1OEpLXl9QLIE0BwQH5CCD6Dis2TC6wPAJiMgLr/4AG4f8KV/QzHmlNcHgAkwNukA8QGcPuDnrF1VvCnx+gCwxtrgj4gPYPMBw1FUUfxZsfoAsIHBKxkA4gN4fMDP7vhEpZIVqw8AYwO8zGYZEB/A4QNm7bJKKz1WHwDG2j+3AaH4gIN9QK9/qlLMktUHgDYmsNeN/d0D4gMO8wHDT2cq3cxYfQBYc91iD2wiPuAQH/ClXVRpp8vqA8BatwvA0AAQH7C3D5iPzlQGGbH6ADBGGzcCDDaAu8UH7OkDvvWrKpMsWM8PAKux/BYXAnoREB+wlw+YRSWVUTqs5weANlbjB6tvAoNP8QG7+4AL3YbKLn3W8wNAW4PX+uHKLz5gVx8wX9RVlpmynh8AWmuj4xYI8LKB+IDdfMC8U1XZps16fgDE5dd42evxBBAfsIsPGPbLKutMWM8PABwAeFu8jHXVFx+wvQ8YTosq+0Ss5weAdjE63gXgDDDiA7b1AfN+ReWRiPP8AJoAbhWgISA+YDsfMP9aUPkkYj0/AK7SBKCVwIgP2MYHXPhUVXklYj0/ADStAQZbwK0CR+QD3j9u3X305lWz+erto9bnJ5eOxgdcHJ2q/DJmPT8A9FW8aBuAtzkKH/C01bz14G88X2zcufnm8RH4gB8NlWfGrOcHgMb6m3gfsP6vQO4+4PHbh//6A5efNT9cy9MHfItUvhlznh9AewD3MNptBGy+PuDzzbr6fwoPW+dy8gHzflHlnDHr+QGAK0DcA+vyG5ufDzjfuk1Tf6se+JCHDxhVVe4ZsJ4fAFh+d2FoCuTkA56+rqvd8vzduYx9wJf76ggyYD0/AHTcAdrQRtDk4wPuPdxnstaa3zP0AfOPJXUMGbD+vgBcxQZYN4HRLnn4gNYDtWcKr65l5QPe1dRxZMD6+wJw1YXWALIBGfuAey/UAam/y8QH/KLuTJabiIEwrJfrcsHBruISUxRQlZoDdz8FJ/MAzoJZTeI4BIeYLZAEAhTFlrCGgoQ1hO0AYSlOtOSeyKHQ2D2SjOYfzeSe7mm15G/0r1+EUPTcqb8AJgClAK0F+s0HLFwCS92e988HrI5CMPrg1F9AHMip+OMg9ZUPeF+rgLWGVz3zAd9uQ0C66NRfQOTiAiCfqL7yAQ1Hq6oL8z75gNUjEJIWnfoLiAMkmgJQfeMDrtbBlY4se+MD1p9DWFp06i8gcrkDughg8PvHB+Dr71ATnviA5SEITJ+c+gu0p4Cc7gP7xQdMngS3mv7ugQ/YXITg9Nipv4DIlbEGdCwF+sQHvHa/qXa+5ZwPWBmD8PTVqb8AVoAyzQEq+gf6wwes+dhTH2s55gPu//cffv6l6079BURZ9gCyCFAn0Bc+YKkCPnS45ZIP2HwBQeqHU38BTAA1Begq4J8PKNTAvSgD3PEB60Et/jt0z6m/gMjJEoCKuwD/fEChDt50/r0rPmDlOASqe079BWQC4NAlwD8fUAePmnbEBzTC2vzp1Gen/gIiF5cAygDvfEAdvGrCCR9wvwLB6qdTfwFRlk1AGVcCeMnhmQ8onATPWnbAB6xCwHqwR0vGf48VHyBU+PGhFwJe+QDv8YehljUfMAUh62XbdVJPA1Z8gOoB8Mbol6kG+OQDquBf16z4gNDffxiWXhMoagTxtuIDVA+gUqBMbYBPPuAs9EP37fiANxC0jpPjoF4LWPEBIqdUxoHhx0rgkw9oDvfA+dUnlhoza2szS3dOnxiCNBpt2fABjTDIP6MeabdBelrxAbQMLOuZwB8fcLXr0vrw1Pz28wMW5sYrwNasxfkBK+Gu/4gHiX3G5F8Vfis+gCoA7Qbg7Y8PKNzsNnmv/ev8gNbUYWBqZD71+QGtYPd/NA6gLQdJNnyAoPDHXUDZHx9Qg0TdbBrPD1jiArnTqc8PuAah6zGZzlEXgMOKD9AVgIqANz5gJnnqn0s6P+Ahd/W4kvL8gPsQvK6rVWCn+bwVH0AVQGeBLz5gMrG2jl/tcn4A8/fD6XTnB2yGwv4n6F47/AM6Baz4AKoAOv6++IAqmFW50/38gMYwMFRppTo/4DSEr89kN6vtx634AKGj35YnPqA5kkB0zvRyfsAccDSV5vyAnQF8+tlVD8h3VJcAKz5gewXAyw8fUEggwI42ezs/oMoiA9KcH7AMGdBvCj7FHp9WfIAo6vCrhx8+4AoYNdrs8fyAHazl4NMU5wcEigBt09EBkt4OtOIDMAEoBSgHvPABt4bN9f9Lz/4CM8DQ6RT+AiEioH/rNrmPy0EzgBUfgFPA9gzwwgfMglFnGP4CNzmnB6TwFwjuE4B/aFFXgNiE3ooPECr+WmUffMCtCphUZfgLsPrAkRbbX2ATMqCvcQVA0QRgxQeIdvz1ROCDD7gMJl0ocPwF9h7jgCFsf4F1yIDuRboE0LDiA2QTWOxsBD3wAa+NBaCywPMXmIXeVWP7CzyFDOjdQBRFlAEUeis+QORIRUoBD3xAzQzwMf0FOHPACba/QCZWgS+jAXlJURJY8AE0BeDQcs8HmAvA4Ummv8BVDjjB9he4A+FrSL7/EcWeZMUHtJeB9JByzweYC8Ac219giNEFPuT6C0xA+HqE4acaoPsAGz5A5KgHwJvkmA+YHDUWAL6/wA3oXfNcf4Es7AN9jFCUARR0Oz5AFFEq/LQScM4HmDnAJb6/AOdn4Rmuv8A0hK/HJZUAdKkUsOMDhAp9Rx/gnA+4ZkQACnx/gRr0rgbXXyDUjwG3rwKVOvtAOz4grgDyohLglg/YGAGDqin8BaqcjQCuv8ApCF8PSlGpFKmlIA6SDR8gVOh1ASi65gPugkmvUvgLTHDocKa/wM6APweLNYrRV9Lx32PHB4hi++XXWeCYDzgPBo2l8BdgJcAdZTLSu7/ACoSv21FUkpdKAEoBKz6AmkBUPBE45gNegUlX0vgL1DgVYMt29mBP/gIZ4AHhEyZAXAQGaC1gxweIwaLS1jLAMR9gnrS/pPEXqEPvmtuhhC2AfHT3F8gCD/ZGRR8fJdoPwGHHB2ACDOrwoxzzAUaIY3gyjb/ADd4qIDYdlUuBrnxA+ES47AFVE6hECWDHB9AUoB7qKrrlAzbApJtp/AX2csjQNW04iff+rnxA8J+EAAz/zmP48UJRIzBgyQeIoqoAei3glg84AyZNpPEXmAeGWspvcD9NA3gl8wHfIXw9KkW6CShRG2jHBwiMP4n6QKd8QM1MAqXxF3jLeVtU/KkRpBKQxAdk4cfgxXxehR9vvRy04wNkDzBIOaBqgFs+wMxxNtn+AswecCz2HCXX6R1d+ICwTwVo60cpn4+o/ONQsuQD5CoAh84Ap3zABhi1kcZfgMPtT2vHUXIeTuQDMtEDvpPhx0GNgAq/JR8g8P2nDKANIZd8gLkFGErjL7AA3H2gXXLQUiCZD9gd+mfhah8Qp4B8KcKh+wArPoCmgKK8aDfAKR9QM0O7afwF5oChpvIeVqIUMPMBGWkBPmAHkFfhx4tmAls+QFaAOANUBXDKB4yZV4Ep/AUKpzlvi3r31U3an8gHZIEGuZ5XTaC8IxzqsuUDxD5KAJ0C7viAcyNg0jjLX4DEYULr5DsuB8U/kQ+4AOHrHU4AUqVIdwG2fIAYVNJzgEs+4FZCfJj+AurvOGcfkMzn9VpgfxIf8D0DPwUeifJSUSlPfQCOyI4P0BVA3UWUSz7gGRh1meUvQInAeEuHMOqUAno1kMAHNCB8Pc+TZPhpPRBZ8gGUAB3xd8kHPAGjajx/gbYYn4ZVqf7LZ6wkPuAkhK+vGPtDlAK0IRRZ8wFicB9eqCKlgEs+oAZGzTL8BagIcKaASgtDv1UCqB1M4APeB+QLaNQvFX0SFgEpKz6AEmCrBlAj6I4POAFGXWL4C8gCwDxnflZGX0eeZOYDsvBNCP4SlNfvfz6vYm/NB8gpQOUA7QcUXfIBCZDduNlfwMwHTPX8v1rYu4tKgAw/7Qgk8AFZAIL/sHcePU4EQRSeP9cSCAQajDlhCckS4eALIPwH0JyRuAKLSSZYYFhyzhktWYicg8jpwonXxTNtAz3TXpeBRrzpac7wylXV7Q/XnSUoAFgQe0FYPzAfgABgCuBRQIkP4CnQq33h8wUcH7DLBGqzNf+nJtDHB8RxBkALYMUQWGAXnB+UD0AAQOwDJAso8gHvjF97/fMF/HzACxOmxrVKhRFgN3mwvHxAFDSYuQrrl7g2YIFEwIB8AANA3GcSUOQDbuUd0zzzBfL5gL1hHeB92E7BcFqP3cMHxHELtK7GDz82kW0EBucDErEfL3aRIh8wanL0wj9fwM8H7Az7GmgaEkDFBQGbAD8fcNREoFfy8V/S5T/W4HxAMok1AEtKgCIfkItvbPfPF/DzAfM3hlwCV6BpEgGdMsAE4OMDYrgEMK/hPhZfSErAwHyAlAC2ARICinzAYZOjnZ75Avl8wOWAeRETK6JpWKJOB+DlA3bH0AKu/FKrIQJ+0MB8AEoAUwDch7Dr8QGrTI4Oe+YLFPABB0yBzlzrdl92pn8vH7DKRKCX1v4lNR4FnQblA1ACJjEFsBHQ4wMOmRwd8MwXKOADrhX0gevblclMAPblVYA8Pj7gcwy3gOZxDRmgJk0ANywFPgAlgBHAPlCRD8gtrWs88wWK+IDdeW3AyGbrvn1pv7yMAB8fEAMMaEYewH55us8CCnxAMgnq7gIU+YD8m9uHnvkCRXzA8ab/pHS/wl8V7ahTBPD6+IBrEfx/AGMuwHtIigDPg9gV+IBE3JeNh0E9PiC/Xt/wzBco5AMmbx359fF/1fPOfIHJNg24w6DY7+MDokgA5lTJRgBTgOsDBucDmAGwGAKKfEDL5KnlmS8QwAccO/AL+9cf654vgEf6AJcBPHzA7ig6gJGPpVqtEwKuE1DgA5ABWAPovyIf0MznW6Z75guE8AHbDy7vTf5bj/XOF6B4GoB8fMAGE4Pu0H8sMZ9S4AMSuI+HSQBS5ANaJldnPfMFwviA9q5VzbXGam1z25tfzBdwraCkAQ8fcDSGOwCcAUo1hAAWW0H4jqXAB7AJtP6zCijyATtMrlqe+QKhfAC2a8ePH2/75gu40yDk4wOaJgateFArSRPAVhCS60AFPiAR/6FOK6jIBxRc2ix74ZkvUMQHBM4X6FwISB3w8AExoIDQy1KpNKWGLNDpApbYIFDhA5Ie+yFFPqDoin3MM1+ggA8InS/Q3QZ4+IDnDROFXsP7b/azDRD7VfgAlgDZ8EB6fEARxt/wzBfI5wPC5wvg6cSAhw+I4achoeVTSvCfWQBiIKjwATYAnP1YinxAYYN9yzNfIJ8PCJ8v4CLgl3xALAXA3C19E+yfwiYA5uvwAewBrNgH6vEBm02B9koGoIL5gPD5Ap2DgIcPOB7DkDCrp6Wy2C+rJkEAqfABLgNY+2XX4wNumCKNds0XCOcDwucLIAfg9fEBMZCgVo0yE4AtAawBCAINPoABQEkEKPIBxfzOJms+FcwHhM8XYArw8AGXTSQ6VSqV8YjEfdEUHT4gmVQX6+XlrsUHnDWF2ul+VjScDwifLyBpwMMHHI3iDhha/cCaT/FCCO4r8QGJ+/SzEujxAbcDSMfzbr5AOB8QPl8ANcDDB+yO4ZeBRXeZALCs+VNgvzw6fEBvCcCryAecM8U65OYLhPIB4fMF8Pj4gGsxgMDEwcvWerysAewDlPiABBUAy4WAIh+wxwTolpsvEMwHhM8X8PIBUXCgogvW/zIfEf1X4QOYAeouAjT5gOUhuHvbzRcI5APC5wt4+YBtJhpdhP0sALRfvhfQ4gOYAZw0+YDTJkCH3HyBID4gfL6Anw84MmJi0Vraj8duVmK/Fh+QZL3WY+nxAQdMiHa6g0AAHxA+X8DPB2yJ4ztg0QdazxzQCQE1PgDHQHlcHlDkA8J46xXbeRYciA/obQVz+YAjEfm/DGdAPC4EKDU+IJmU0Xm6r8kH3AjMco84X2BAPoApoIgPiMl/c7JM81kInPlKfEAiH37JAZQiH3ArdNL3Hv608O/gA67EU/8tCyj+283dBkB6fEAC72k+pcgHvDeBOrCH9g+fD7gck//mZa/97g81PiCp1zN2AViQKh+wPDwCbAb4DXxADL8H6TRysyr2yyYP74T0+IAky+qZnAQYA6p8QDhx15IqMGw+4FosXwBS+8tQleZ3HQQU+YAkq1vj3UFAlQ9YZYLVkiowXD7g2CYTl25Wq/CfKnHBeUU+IJmHCJAcQPdV+YCdJlzN80gAQ+UDdi03cekEPv5V5gB6L0GgyQckdVsDJANgg1T5gId9cQ/vUAWGxwdUtsV0/BM9/TEBsApo8gFJfR78zzq3Adg1+YC5K00fWnkWETAsPuBYDJOBe3WnasUgEPsZB5p8AEqARAASABsBVT6g1V/Texjpfyh8QGVshYlOT7/bj83dBpZV+QA0gYyAjH2gKh8w1m/VezQUPuBYPN/+O+3vJAAsUaf8q/IByTwI9n/vAnT5gNumT618os8HtLdF+PE3yz5W0ypV7g4BXT4ggftZfR5e+C9JQJUPWNz/P33znC4fULkcxS9A/KS71UV0vyzv98sgTT6AGSBDFagzBJT5gOY4IMixtiIfsCW2sz+18lmaMgWI/diYAvT4ADaBUgPEf9sKKvMBY2YcWvdklhIf8CbG4i86tQjuuxBw/ivzAQncx4MQwI2QjQNlPuCcGZcaowp8wPzRMyZWrfuULlqEVe0KASxYr8sHsATAfOxyGtTmAxpmfDq9c89gfMDxbWtNvLqUpouYAHgS4GWANh+QzJn3TXXbCmLT5gPGP5V/zeZH4+cDtq+PsfP/ruvpIpsAEAHuJMBCoMwHIAAkBGh/lmnzAbfN+DWy49b08fABb7ZG878+PH/xp7AfD+SyAO1X5gNQAiicBGwboM0HgAkYRMvXj7b74gOm3toQc+rnETBFBZAHQcBKUJZXnQ9AAMzp2C93gup8wCEzoFa0Lp8L4wPab8YOxPaN36+05q2Y39sFiv/6fEAC/6kMq15X5wNuGwUtbx2+9SKPD5hwbnTV6ei+7vPoSmq1iMvGAJKAfPz1+QDbA8xhDGT2RkifD9CqxyON5qGx0e2PZnfzAe0X20fHNpxo/CveW51YaDM/V4rlGkF9PiCB+/ah6pk+H3DYKGvF8nWNvfvOnG6sXRkV4Rmo1R+ZANgGVm0YsBDo8wEIAOs/2wDs+nzAe/Nf/eheigzALvB7FUAcUMp8gJQAlwOy+hD4gHjv4/6E9i5NEQELGQJYvBHC0ucDpARAjIDMvvp8wE7zX32Q4OlCuC/iXQDPgpQyH5DMkADgIyGgzgfsieXXuP4GfVi4cObC1IWAFS8F9fkAZgCGAKXPB6AN/K9AXV+6MF26cGaaYkHfU0AVayh8ADLAjBnfjoJYlDYfcD7qe/mv7F1LixNBGOw/NyOZo4fBhIYcRcgxkYG56iEISvDqc32A4gMRnyCiomh84UFxVUREWG+6oODR6i9l2tHFB/p1JzNT3fNl71XzfdWzlUkg8ARgh9bSBAwpAToBnXwABCDw/GvkA64nLf4I76zdOwSEfLJPL6iUDzBbc7dEACiARj7gY9LiT3DBwgHstUN8YAZUj4NK+QAIIM/ZA8QG6uQDluO1/LFx7IPF/LdD+IChJftSAJ18AEcAJOB8gPCvkw94lbT4LQ5+sY7+4V4U8A8r6EWglg+YmUDCsa+QD2hbwJ9hZWIn1jr6IQL6AGK7Wj7AgH4sgEZAKR/wNmnxGzz8BP4BuABUFKcBPhHUyweYrXMTIHWbVj7gWtLilzi2ZieZncAEYLkOYMUI0gqq5QOM0I8LVaCVD/hYx3/c/UfsW53YzArECMIKwgRwECjmA8QDCP1UgFo+YHlezhoFjzI0gAlmALabAk4B4F4OA5r5AJPPHQAKqFfLB6y3jwN/gTuZzbCtKAAF/EthA9DLB8gIkE0foJIPaP8j8Bs8+5RlcABWNo8Ce7HsEFs1H2CEe1k0Amr5gB1LntVWxNG1nRlgs4kV+nkSQOUjQb18gMkFXgaK+YBp0mJD7PuSCaxbsykg9/5euXTzAYb0z12AZj7gVNJiIzzJCIwBOgG6AAwB5XyAN4FsApr5gPutD9wIZzIMAGyA7IN5bDYBxXxAtQNwa+YDnictfsJrod8VSkBOgzwKDLXzASb32Crsq+YDlvbr+nq4Lcx7TKQLiBdEA1DPB5g5+/xQzQe0Q2CjA2Av2wkJyK5YQUA/H0ABeO6V8wHtEKji5FqvJ7xDA3Pg/nddAGcB/XyAGcz5Z1HNB7RDoIqjN3H7Z70e6PdGwOJvekH9fIApc0qAGtDOB6wvyw92hsD+F71ehj2j/ztYQYh8gCnLvKwoQDkf0D4OqvAPZFg7MQf8ScDSDIbIB5icHYDYqp8PWElaCA696EoDQPH9H4X0Z0HyAaYcuAaAi9DPB+DnBFs4/lfBv9DvTECP/HuEyQfABJaDihHUzwes1+EtHv+MI6u9bg+bUwBbegDtgLWB8gEzDyCFEgiQD3jZpoOSI1+6XdJPCezEzjxC5AM4AqouQD8f0D4NEP57WBQB+GcD4AYC5QPMQBSARRmEyQecSJqN/S+6gp5TAU8CUsUMAsHyARgBUEDpu0CYfMCeZn9P4PjNburod1dlCmCR/FD5ADOYtQBIgCIIkw94cDhpLg6vpd0C5FMCNIKcAyKCcPkAjABAJJATYfIB95v71ohnl3H7YwNknz5gZ0YfGDAf4DwANICaY0MEwfIBH5v6TPje56KbFmk3pQY4BrwEQuYDRABYgpxTIFA+4FUz/zV8ISvSwjWAguxjkX+3QX3QfIAB+2wC2DkQLh/wsk5vd/xTnEsLrDSFBNAFqAAUqgAtIGw+wAyAEkDN3QqZD5g27oHQgScpUACp+ABKAPCPhYPmAzgCgJJGIGg+4GLDFHB0FexjAYVrAN4M+ikQOB8wM4Ez+qUBhM0HnG/UFLi65phnD8AfsAEUgG8BgfMBHAFSsHJ8hM0HTBukgAufUwE1UD0J0AoGzweY7/q/K3nofMDLppwFDp6rko+FDeZTfxaIkA8wQv8A4FkgeD7g1ZGkCdh/NiUc8fIhW/hnC4iRDzAjtv9vO3w+4G0Tngk+vJVWUAj9XVS5BFHyAcaxL6AZjJAPWF/SH/f8C6wU/TTFJuYNoHA+kIiTDzCD0QC7FAWwBs8HPKj5C+V9++979nGxcgrEyQeYUQn6PflllHzAjlq/P+burT6Y5yb9vAqMAVFAGisf4EzgSHwAZRAlH1Dn14fsO5f2ZVXhjwJyFoyWDzAjgPyzRMkHbJrW9J+Dh9/0+6Cf67s+ULC42o2XDzCOflwltnAfJx+A634dreDBlffj8bhP1lmFc24sjIGI+QCzezSjf8SDQKR8ANaV00ndcHK130EDGKf9Me5/OgGBVwEQMx9gRgLPf7R8APC8Zs+FX78fdzq4/4X6sbBf4Z87aj7ACWA3JUAVxMoHQAVv65QUPHyp08H93xmLBlIssE8ReBSR8wFmTj4fBsTMB2AM1Oa3RQ6ceQr+wT1EMO7TB2D9gCJ2PgAegD2ghAxQouYDUKf1+N7Y7VsdAhYABfxv2AWi5wMgAE4AoR+Img/Ax3oNvjJw7EZnDqEfRwHxgT9yHz8fYHbtEgWAf3aBqPkAkcLFJW8C+1bedzZv7mymAuACcIH/PhuAfy60APkAMyL/9AJl7HyAKw+W+scFTt2cUY+K3ecYcAtb+CcWIh9gdu3eJSZgN+h3O3o+QEQwPZYsKe6ugnXe/7hoBNkCsIV/+ViMfIDzALvZAwZuBMTPB8j14MRS5kVP3gD1oB9AkcopMHYKSEUBuIAFyQcYNAAsyIAiWIB8gGDLx+Uzg/sfP3XsY7F4oAPwLJAC+FyUfABGAMh3U4BYhHwAdTBdrvfLf+XealqbioLo+3NahQcvSLYP4+KFQHYB/8DjQZFAu3PjBzV+tH60NlYrVWyiVvAj6Eoo2IW0BHQj+g88d+b0zZUKItp6r+fOzO3+nMydSU4XhluncgjA2j8qgquAjAGAkB+OPwAdAPRLA0CA/CD8ASwb43j8gpdWtnLh/yRCjty2DfIlAP3njgfkD8AaiB4gu6AiEH8Au8BkEMfPA5fufRL6JakAhKatg+6HIdAfkj8gKebmCtDvpgARQSj+AKTUb6PwJXAN9CuoAH78UUQINgWcQw3LH5AU2gLqOSAYfwBuxZvlsBeCK2/fp3meogPkSj8lYNzrdVqbQGD+AHSAAhqQDiAtIBx/gG0FX5fC7QKLd1OhH8UkcNIkILetAsH5A5LCkY/o90E9GkFI/gCA97dBkP9AdHnzWZr3emkvJyABawFk358Dw/MHJP3CnVoCZ4PyB8wYJuPgfiG4fm8rBfvuQAIpJSBHmwBbgFwuQ/QHJAUg5HMbDMsf4EtgY/roWDi4+ORh7rgX8tEBUJV/6wHGvCJIf0Di+C8KbAI6CPRD8wcgFPPInVCGgdtvt8A8uEeIBlIQj2QLQLAFIPjTQKD+gOQH+rEJBOcPwPE0MHn3778eXBh9SQWeBvK8d2AM8IfAYP0B+gRokU0gQH+ArwBgZ/Qv/4Xg6vLd1TTLMk8BenET8N8BdgGccP0BiZI/hyPb4NkQ/QEe5uchgo21O0f+FJD9tdUMSAl9AHqoOe7cFFBDZoCQ/QEyA/QLVcEcIkx/gF6E08BkunjUGlgg+6AfmYF3QoeANIcESD8SlQjbHyBPgIpAN8FA/QGkvs5OZ2ay/uTovhx4NPzYy05k2QkkRSDdnwkR6CaYmgiU/dD9ARAA0dd1MFh/ACWA0BtXZ+P16MaxQ8fCg+keiHeRGdKMErBBgC3AHwaD9wckxaywzymwmAvYHyAwHXRmOq4TvJk+OMShcOHF+MuqsI9kRQj7gNSeBqBtwNiPwB+gHcAk0A/ZH2A9AIcvAaJT7ozvHIIILj14ex+cK/VGPgqQSpJ+Obj5qwAlEIU/ICk8YA4owvYHEJRBx+U+vk43r/y9D/6rwfpu84Q7NTI9GVKQyrEnAOF/IRSJPyDBC4AAuAmE7g9Q+uspwKWKoIsz2dkevfzDyfDa4vDp83ZTAPo1gIxFRUDYI4DUTUBFEI0/IPHId9EP3x9ACUiQ/RkqwEW38XVtvPn42u//tPfoycr6/c+gvd1G4vZaQKZB9lEQ9gagWBPI815E/gB2AFNBDP4AEM+LfQAwCQBlt+pOdl9vD5cWb/9qOLh46/HycHvt/l67hQMo/SiUAApBCdSTQIqwDsDoxeUPSHzyXcThDyD/+grwDRD2UVQBZdUty6q8UDU29nZ3PqxP360MBjdHm0vLy0ujm4Phynh7/fWX3b3VVo1mu9VstR35xj/ZP9gFbBe0LdDV2PwBWAPl1H0gFn/AfH13cLgOUARsAhUCImjglA1U4gzrGRdnWnoUbfAvRySAAP8/GwVxHRwFHeLzByTCvKEfjz9At0EIgWMABQD+SxxIAJcTANgHKmNfyUcK/4DRjy5A8lHZAlDIPVPHAG8b7JH7GP0BiXz4Z00FUfkD9gdBgPwjABSngUofgkZ1oayoAYOTAEXgghpASANApRBEBP4sWIuAEuAoEKk/AAIA/R4i8wdQA2wBngaU/rJyYwA0YPDpJ4x+oNly7HtzoE8/NUD6bQyI1x+QnNcZoF4G4vMHsAWYAtwB2AUqNwUAbAD2DmiyBZgK7B2QFAGYCnwh1NtgzP4AfwaQP2P0B6B2RACIrgtQz0Gw5CTQKCGAgxqwFkABgHN5BOQgrAUgjXyP/sj9AegA538YAiL1BwA2CKoISj4EOgheKA8MARo1Wvs9oNnkPiBRY18CYF0vRPz+gGT2/CzotzUwXn8AugA1YF8HVPsJ9tEFUI19WwaQZJ9wvCO1oij7Bl0D/wt/wHd2zdi6YRgGoihcpPBCyTYpkiYrqMAzCm7AJsvmiIMMvWxgAicZHuDwDgL5BQGAHsiPgJfmA2h/HgpyCuBhof2pnAK5C3AbxJtbABW7QAyBbfgAGTbWFJgjPgJeng/AG6sAFU3gAeBJkAGACuU2mDEQR0G5DUJ5L7QTHyBuPwPA6w58gAcA6tN+Pxr+9QR4oKRW/LNEC+SJEApvBaJEC+zGBwj8H3hP78c2fMBP3gvAfT8T/Od+5sB1GaBoP08EUFxb8gFixiFwXglsxQcs88+LAd4MoV6b4JM198GcA9+xCXgT7MsHCNxfEbAGwFze78cHoAnWFIgQiIuB6y7IX0YA7T+PgzbnA8SG2VwJEKvAtnwAJwG3gdT1SyBaAIUqwQeIzXMGuPVjfz7ggecaAPx/7oLF+AAxdgBbYM6v5gNq8QFikJsf22DzAbX4gNUAw6BzG2w+oBYfIGZpP57ZfEAtPoAjgGWsNmg+oBYfIGZqEHcBvM0H1OIDhP7zUxDvaD6gFh8gy3/8pgfAnKP5gFp8gKiFBm8Fmg+oxQeIqsYUmB4DzQfU4gPE7UdhCMzZfEAtPkBUDS8Uq0DzAbX4ANElyxZoPqAWH8AE8Cngms0H1OID5Aj7vUDNB9TiA0RzBrj7zQfU4gNEj2wBvNZ8QC0+QCzs13C/+YBafIC8K+QfAkyB5gNK8QEfctMjhwDUfEApPuAut0PXQ5lq8wGl+IC7vLn7mQHNB/yxa3c7iQRBGIa/ATQEDBB/2EQiMZwYoxsTExN3D9ZN9mzvYO+lDriISup2d+iuYVBB5rjre5nBC+imp4QnlA+YYLh5AtS3+AlAHxDKB6wwXYsPAfkbIfqAUD7gGi9pBqgv3wL0AaF8wAlm9eLnK0cfEMoHLDDKH//tFqAPCOUD3jCWZgfk6ANC+YALvErdWrabgD4glA+4wzytvh8D9UUfEMoHzFGl/wLbLUAfEMoHVMBA6nwIrN/pAyL5gDMAT5Ja+x/6gEg+4BnAzD//zQFAHxDIBywAjCW39jf6gEA+4ALAUjw/CegDAvmAKwC9ZvX9pg8I5AN6qBu+fwDQB8TxARNsmm2PgBR9QBwfsMCmG1Nf+LT09AFxfEAf2BkCfBPQB8TxAd+QGuruI4A+IIwPWCE3ExPdrj19QBgfsEDu1WQn+oAwPuAOuZ6JtYtPHxDGB/TgPamIikcfEMUHPKNpJCrbPUAfEMUHvKFpaWLtAUAfEMQH3GPbUK09AugDYviAFdpGYqrixwB9QAwfcI62B1MT80GAPiCED/j7gJ2mZtocAPQBIXzANXa7UbX6JfUl9AEhfEAfu1U/1NS/EFb6gAA+4GeFd72opqeAiQl9QAAf8Avve7W0AUTrmz4ggA/4gw8NTdU0HQD0AeX7gBU+dmOmfgl9QPE+oI9PDVXzY0CFPqB0HzDB58am6WWi9AGl+4BLfO50YKq2uZU+oHAfMDnFnsaqllff6APK9gEX2NfjwPIWUKEPKNoHnD1ibyNV3wL0AUX7gHPsrxqor7/SBxTsA84qHGhsaQpUM/qAgn3AJQ721EwBSh9QrA94xuGW1owB9AGl+oB/9/iimfoRQB9Qqg9Y4KuqgQ8BRh9Qpg84OAG2NCgPgvQBZfqAPo40tXz80wcU6QOucaz5d58A6AMK9AG3cxxtnNdf6QMK9AG/0aGpWnrRBxTnA07Qpd4gHwH0AaX5gEkPnVqmMcCUPqAsH3B7hY75z4L0AWX5gHN0bqop+oCSfMAJvK5jgBp9QEE+oB0Auo8BSh/wv517WW0QCKAwfMb7BVFyEQkoAZEQEnERAsmmFAqFQlehD9SHKOR1G4vQdbzOyPlf4Wxmho+ZjQ/YrvFU6d/29AFz8QHvOp6owSGP6ANm4gOWeLbmKkAfMAsfUKBFUb08fcAcfICLVp3r2ekD1PcBJtpl1c8B9AHK+4CNhZaJ6rE7fYDiPiAXaJ2oeQh9gNI+YCPQIetxDqAPUNkHmBa6Fd1/6APU9QEuOtW8B9AHqOoDCnSsMWL0AUr6gI8leikt6QNU9AFbHT2VGfQB6vmAYI3e0kL6ANV8gKmhz7ySPkApH7BAz2UGfYA6PiBYo/e0kD5AFR9gahgir6QPUMEH3F4xUHFIHyC/DzjFGK6U/wdI7gMCHYMmojt9gLw+4OYKDF1W0QfI6gPyPcbIN+gDZPQByQojJTyDPkA2HxAsBMbr6Bv0ATL5gGB5xLhZvkMfIIsPsFcWJih16ANk8AG2jqm6nK/0AdP6gOTlDVMm0vBOHzCVD/g86QKTd/Ac+oApfIC9OECSMq/6pg8Y1QfkxR5SpV0ihz5gHB9guzsNMqalkUMfMKwPsF1dzvHRpGV+VBn0Af37gCR3V2u5x/9PxBffi86h4xjGtaQPaOcDvpIksO2T6RarXSwwSL9nIElDxCQT4AAAAABJRU5ErkJggg==\n\t"></img>\n\t`,label:"ImToken"};const alphaWallet={imgBig:`\n\t\t<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024"><defs><style>.cls-1{fill:#3268ff;}.cls-2{fill:#0019ff;}</style></defs><path d="M701.4,492.41c0,31.75-25.64,57.55-57.18,57.55s-57-25.8-57-57.55,25.64-57.55,57-57.55A57.32,57.32,0,0,1,701.4,492.41Z"/><path class="cls-1" d="M770.47,246.59l-20.67,0c-.18,0-.33,0-.49,0h-3.63l-1.93,3.06c-.45.61-.87,1.27-1.3,2-2.33,3.74-5.7,9.11-9.73,15.54L731,270h0C707.75,307,665.52,374.23,662.11,379.64a114.27,114.27,0,0,1,92.36,82.85c1.22-1.91,2.5-3.82,3.68-5.74,2.17-3.62,4.61-7.25,6.92-11,9.46-14.67,99.06-156.55,120.76-191.07h0l5.06-8.06Z"/><path class="cls-2" d="M916.74,737.7c-23,27.54-49,47-82,54.79-45.37,10.72-88.45,5.8-127.2-22.32-28.08-20.44-45.22-49.14-57.75-81-.43-1-.87-2-1.3-3.34-.15-.29-.15-.59-.29-.87-3.15-8.5-8.71-23.87-14.15-40.42l-13.49,13.32v0c-36.13,36-74.8,68.88-118.85,94.53-39.47,23-82.25,38-127.63,43.63-54.59,6.81-108.45,4.63-159.16-20.3-65.11-31.89-101.69-84.21-107-157.28-4.19-56.68,10.8-109.31,36.86-158.74C185.45,382.39,243.49,320.92,317.38,275c46.39-28.85,97.24-44.79,151.82-49.43,42.78-3.62,82.68,4.2,118.4,28.41,30.25,20.58,51.14,49,66.55,81.9,4.16,9,7.9,18.17,12.1,28l2.36,5.45-6.49,10.34c.74.11,1.46.23,2.2.36v0a114.93,114.93,0,0,0-20-1.78,113.77,113.77,0,0,0-77.78,30.62c-7.31-26-15.92-51.35-29.61-74.91-9.64-16.67-21.89-31.31-39.31-40.29-22.76-11.74-46.1-9.57-69.29-2.18-32.85,10.58-58.05,32.47-79.94,58-48.4,56.4-84.84,119.89-105.58,191.66-11.24,38.7-15.28,78.42-7.21,118.57,9.22,45.24,40,72.34,83,72.2a116.8,116.8,0,0,0,43.94-8.41C399.34,709,430,685.08,458.84,658.25c33.88-31.5,62.63-67,89.26-104.38a114.13,114.13,0,0,0,181.32,14.58c7.52,19,15.32,48.14,22.69,70.81v.14c2,6.38,4,12.18,6,17.11,8.36,20.87,17.15,41.47,33.86,57l3.45,3c21.74,18.12,47.82,22.91,75.06,23.78C885.2,741,899.88,739,916.74,737.7Z"/></svg>\n\t`,label:"AlphaWallet"};const statusWallet={imgBig:`\n\t\t<?xml version="1.0" encoding="UTF-8"?><svg id="a" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150"><defs><style>.b{fill:none;}.c{fill:#4360df;fill-rule:evenodd;}</style></defs><path class="b" d="M0,0H150V150H0V0Z"/><path class="c" d="M75.01,11.35C39.32,11.35,10.42,40.28,10.42,76s28.91,64.65,64.59,64.65,64.56-28.93,64.56-64.65S110.67,11.35,75.01,11.35Zm-8.73,92.32c-8.25,.46-16.49-4.31-16.92-12.04-.46-7.61,5.75-12.7,15.98-13.25,9.05-.46,16.41,2.15,25.4,.06-1.09,13.07-11,24.51-24.45,25.23Zm10.89-30.51c-4.86-.57-11.06-.92-16.35,.37,1.18-14.25,11.61-26.72,25.83-27.53,8.71-.46,17.41,4.74,17.87,13.16,.86,13.45-15.72,15.92-27.35,13.99Z"/></svg>\n\t`,label:"Status Wallet"};const trustWallet={imgBig:`\n\t<svg width="65" height="64" viewBox="0 0 65 64" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t<g clip-path="url(#clip0)">\n\t<path d="M32.3999 64C50.073 64 64.3999 49.6731 64.3999 32C64.3999 14.3269 50.073 0 32.3999 0C14.7268 0 0.399902 14.3269 0.399902 32C0.399902 49.6731 14.7268 64 32.3999 64Z" fill="#3375BB"/>\n\t<path d="M32.6267 14C38.9508 19.2816 46.2029 18.9559 48.275 18.9559C47.8217 48.9937 44.3683 43.0373 32.6267 51.46C20.8851 43.0373 17.4533 48.9937 17 18.9559C19.0505 18.9559 26.3026 19.2816 32.6267 14Z" stroke="white" stroke-width="4" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>\n\t</g>\n\t<defs>\n\t<clipPath id="clip0">\n\t<rect width="64" height="64" fill="white" transform="translate(0.399902)"/>\n\t</clipPath>\n\t</defs>\n\t</svg>\n\t`,label:"Trust Wallet"};const ethereumWallet={imgBig:`\n\t<svg class="svg-icon" style="width: 64px; height: 64px; vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M511.996 81.86C274.448 81.86 81.86 274.444 81.86 512s192.588 430.144 430.136 430.144c237.566 0 430.15-192.588 430.15-430.144S749.562 81.86 511.996 81.86z" fill="#EDF3FC" /><path d="M511.996 2C230.782 2 2 230.786 2 512s228.782 510 509.996 510C793.214 1022 1022 793.214 1022 512S793.214 2 511.996 2z m0 1003.662C239.792 1005.662 18.338 784.204 18.338 512S239.792 18.338 511.996 18.338c272.208 0 493.666 221.458 493.666 493.662S784.204 1005.662 511.996 1005.662z" fill="#EDF3FC" /><path d="M354.6 290.83a57.74 57.74 0 0 1-41.964-41.96l-0.884-3.526-0.88 3.526a57.754 57.754 0 0 1-41.964 41.96l-3.53 0.888 3.53 0.884a57.748 57.748 0 0 1 41.964 41.96l0.88 3.526 0.884-3.526a57.736 57.736 0 0 1 41.964-41.96l3.53-0.884-3.53-0.888zM736.15 311.786a43.428 43.428 0 0 1-31.586-31.58l-0.662-2.654-0.672 2.654a43.42 43.42 0 0 1-31.582 31.58l-2.646 0.666 2.646 0.662a43.416 43.416 0 0 1 31.582 31.586l0.672 2.646 0.662-2.646a43.428 43.428 0 0 1 31.586-31.586l2.646-0.662-2.646-0.666zM606.77 186.066a68.648 68.648 0 0 1-49.896-49.892l-1.042-4.19-1.062 4.19a68.614 68.614 0 0 1-49.882 49.892l-4.184 1.052 4.184 1.05a68.586 68.586 0 0 1 49.882 49.89l1.062 4.188 1.042-4.188a68.62 68.62 0 0 1 49.896-49.89l4.194-1.05-4.194-1.052z" fill="#5D8EF9" /><path d="M343.612 415.036c0-11.48 1.216-22.676 3.494-33.48h-36.042c-27.372 0-49.622 21.858-50.282 49.058 0.3 2.17 3.184 18.5 23.052 28.882 13.252 6.93 34.736 6.85 44.884 6.85h23.262a161.25 161.25 0 0 1-8.368-51.31zM691.51 381.558h-28.202a162.244 162.244 0 0 1 3.492 33.48 161.3 161.3 0 0 1-8.368 51.314h54.508a50.072 50.072 0 0 1 28.868 9.114v-43.61c0-27.776-22.516-50.298-50.298-50.298z" fill="#6857E5" /><path d="M505.208 253.438c-89.248 0-161.596 72.35-161.596 161.598a161.3 161.3 0 0 0 8.368 51.314h306.454a161.348 161.348 0 0 0 8.368-51.314c-0.002-89.248-72.348-161.598-161.594-161.598z" fill="#5D8EF9" /><path d="M505.208 293.74c-66.992 0-121.302 54.304-121.302 121.296a120.8 120.8 0 0 0 11.386 51.314H615.12a120.794 120.794 0 0 0 11.384-51.314c0-66.992-54.304-121.296-121.296-121.296z" fill="#8AC9F9" /><path d="M505.208 333.488l-49.746 75.89 49.746 36.672 49.742-36.664z" fill="#FFFFFF" /><path d="M505.208 458.548l-49.746-39.182 30.272 46.984h38.944l30.272-46.984z" fill="#FFFFFF" /><path d="M712.942 466.35H328.716c-10.15 0-31.632 0.08-44.884-6.85-21.316-11.14-23.084-29.13-23.084-29.13V762.02c0 27.782 22.526 50.304 50.312 50.304h401.88c27.788 0 50.3-22.522 50.3-50.304V516.642c0.002-27.782-22.512-50.292-50.298-50.292z" fill="#8C7BFD" /><path d="M627.34 585.212c-12.446 0-22.542 10.092-22.542 22.542v62.03c0 12.454 10.098 22.544 22.542 22.544h135.902v-107.116H627.34z" fill="#8AC9F9" /><path d="M648.506 616.402c-12.354 0-22.37 10.012-22.37 22.37 0 12.354 10.016 22.374 22.37 22.374 12.354 0 22.366-10.02 22.366-22.374-0.002-12.358-10.012-22.37-22.366-22.37z" fill="#FFE37B" /></svg>\n\t`,label:"Embedded Wallet"};const braveWallet={imgBig:`\n\t\t<?xml version="1.0" encoding="UTF-8"?>\n\t\t<svg width="218px" height="256px" viewBox="0 0 218 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n\t\t\t\x3c!-- Generator: Sketch 51.2 (57519) - http://www.bohemiancoding.com/sketch --\x3e\n\t\t\t<title>build-icons/Stable Copy 3</title>\n\t\t\t<desc>Created with Sketch.</desc>\n\t\t\t<defs>\n\t\t\t\t<linearGradient x1="0%" y1="50.7055163%" x2="100%" y2="50.7055163%" id="linearGradient-1">\n\t\t\t\t\t<stop stop-color="#FF5500" offset="0%"></stop>\n\t\t\t\t\t<stop stop-color="#FF5500" offset="40.9877232%"></stop>\n\t\t\t\t\t<stop stop-color="#FF2000" offset="58.1981215%"></stop>\n\t\t\t\t\t<stop stop-color="#FF2000" offset="100%"></stop>\n\t\t\t\t</linearGradient>\n\t\t\t\t<linearGradient x1="2.1484375%" y1="50.7055163%" x2="100%" y2="50.7055163%" id="linearGradient-2">\n\t\t\t\t\t<stop stop-color="#FF452A" offset="0%"></stop>\n\t\t\t\t\t<stop stop-color="#FF2000" offset="100%"></stop>\n\t\t\t\t</linearGradient>\n\t\t\t\t<path d="M170.272109,25.3359387 L147.968109,0.00010893617 L108.800109,0.00010893617 L69.6321088,0.00010893617 L47.3281088,25.3359387 C47.3281088,25.3359387 27.7441088,19.8891302 18.4961088,29.1487047 C18.4961088,29.1487047 44.6081088,26.7886026 53.5841088,41.4040238 C53.5841088,41.4040238 77.7921088,46.0338111 81.0561088,46.0338111 C84.3201088,46.0338111 91.3921088,43.3104068 97.9201088,41.1316834 C104.448109,38.95296 108.800109,38.9371643 108.800109,38.9371643 C108.800109,38.9371643 113.152109,38.95296 119.680109,41.1316834 C126.208109,43.3104068 133.280109,46.0338111 136.544109,46.0338111 C139.808109,46.0338111 164.016109,41.4040238 164.016109,41.4040238 C172.992109,26.7886026 199.104109,29.1487047 199.104109,29.1487047 C189.856109,19.8891302 170.272109,25.3359387 170.272109,25.3359387" id="path-3"></path>\n\t\t\t</defs>\n\t\t\t<g id="starting-collection" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n\t\t\t\t<g id="Build-Icons" transform="translate(-70.000000, -350.000000)">\n\t\t\t\t\t<g id="build-icons/Stable" transform="translate(50.000000, 350.000000)">\n\t\t\t\t\t\t<g id="Logo" transform="translate(20.114286, 0.000000)">\n\t\t\t\t\t\t\t<path d="M209.984109,61.2848749 L215.968109,46.5784919 C215.968109,46.5784919 208.352109,38.4082791 199.104109,29.1487047 C189.856109,19.8891302 170.272109,25.3359387 170.272109,25.3359387 L147.968109,0.00010893617 L108.800109,0.00010893617 L69.6321088,0.00010893617 L47.3281088,25.3359387 C47.3281088,25.3359387 27.7441088,19.8891302 18.4961088,29.1487047 C9.2481088,38.4082791 1.6321088,46.5784919 1.6321088,46.5784919 L7.6161088,61.2848749 L0.0001088,83.0721089 C0.0001088,83.0721089 22.3993088,168.017811 25.0241088,178.391258 C30.1921088,198.81679 33.7281088,206.714662 48.4161088,217.063598 C63.1041088,227.412534 89.7601088,245.387003 94.1121088,248.110407 C98.4641088,250.833811 103.904109,255.472858 108.800109,255.472858 C113.696109,255.472858 119.136109,250.833811 123.488109,248.110407 C127.840109,245.387003 154.496109,227.412534 169.184109,217.063598 C183.872109,206.714662 187.408109,198.81679 192.576109,178.391258 C195.200365,168.017811 217.600109,83.0721089 217.600109,83.0721089 L209.984109,61.2848749 Z" id="Head" fill="url(#linearGradient-1)"></path>\n\t\t\t\t\t\t\t<path d="M164.016109,41.4040238 C164.016109,41.4040238 192.704493,76.1274281 192.704493,83.5487047 C192.704493,90.9699813 189.095597,92.9286536 185.467117,96.7866281 C181.838637,100.644603 165.991373,117.49376 163.956269,119.657232 C161.921165,121.821249 157.684493,125.101862 160.176557,131.006747 C162.668621,136.911632 166.344973,144.425505 162.256813,152.046679 C158.168109,159.667854 151.164109,164.754628 146.676109,163.913641 C142.188109,163.072109 131.648109,157.557215 127.772109,155.038066 C123.896109,152.518917 111.611501,142.374781 111.611501,138.493386 C111.611501,134.612534 124.310093,127.643888 126.655821,126.0605 C129.002637,124.477658 139.703117,118.349454 139.922349,115.944143 C140.141037,113.538288 140.057805,112.832926 136.899885,106.889369 C133.741965,100.945266 128.054989,93.0136238 129.001549,87.7362111 C129.948109,82.459343 139.119949,79.7152409 145.665357,77.2402111 C152.209677,74.765726 164.811437,70.0918196 166.385229,69.3652153 C167.960109,68.6380664 167.553197,67.945777 162.783949,67.4931472 C158.015789,67.0405174 144.483245,65.2419813 138.382285,66.9446536 C132.281325,68.647326 121.858285,71.2378281 121.013997,72.6115132 C120.169709,73.9851983 119.424973,74.0314962 120.292109,78.7702196 C121.158701,83.508943 125.622765,106.24719 126.055789,110.285998 C126.489357,114.324807 127.336909,116.994832 122.987629,117.990509 C118.637805,118.986186 111.316109,120.715003 108.800109,120.715003 C106.284109,120.715003 98.9618688,118.986186 94.6125888,117.990509 C90.2627648,116.994832 91.1103168,114.324807 91.5438848,110.285998 C91.9774528,106.24719 96.4409728,83.508943 97.3081088,78.7702196 C98.1747008,74.0314962 97.4299648,73.9851983 96.5862208,72.6115132 C95.7419328,71.2378281 85.3183488,68.647326 79.2173888,66.9446536 C73.1164288,65.2419813 59.5844288,67.0405174 54.8157248,67.4931472 C50.0470208,67.945777 49.6401088,68.6380664 51.2144448,69.3652153 C52.7887808,70.0918196 65.3905408,74.765726 71.9348608,77.2402111 C78.4797248,79.7152409 87.6521088,82.459343 88.5986688,87.7362111 C89.5452288,93.0136238 83.8577088,100.945266 80.7003328,106.889369 C77.5424128,112.832926 77.4586368,113.538288 77.6778688,115.944143 C77.8965568,118.349454 88.5975808,124.477658 90.9438528,126.0605 C93.2901248,127.643888 105.988173,134.612534 105.988173,138.493386 C105.988173,142.374781 93.7041088,152.518917 89.8281088,155.038066 C85.9521088,157.557215 75.4121088,163.072109 70.9241088,163.913641 C66.4361088,164.754628 59.4321088,159.667854 55.3434048,152.046679 C51.2552448,144.425505 54.9315968,136.911632 57.4231168,131.006747 C59.9151808,125.101862 55.6790528,121.821249 53.6434048,119.657232 C51.6088448,117.49376 35.7610368,100.644603 32.1325568,96.7866281 C28.5040768,92.9286536 24.8957248,90.9699813 24.8957248,83.5487047 C24.8957248,76.1274281 53.5841088,41.4040238 53.5841088,41.4040238 C53.5841088,41.4040238 77.7921088,46.0338111 81.0561088,46.0338111 C84.3201088,46.0338111 91.3921088,43.3104068 97.9201088,41.1316834 C104.448109,38.95296 108.800109,38.9371643 108.800109,38.9371643 C108.800109,38.9371643 113.152109,38.95296 119.680109,41.1316834 C126.208109,43.3104068 133.280109,46.0338111 136.544109,46.0338111 C139.808109,46.0338111 164.016109,41.4040238 164.016109,41.4040238 Z M142.509504,174.227935 C144.28512,175.341263 143.202016,177.439918 141.584704,178.584837 C139.966848,179.729757 118.228064,196.584361 116.118432,198.447169 C114.008256,200.310523 110.908,203.387425 108.8,203.387425 C106.692,203.387425 103.5912,200.310523 101.481568,198.447169 C99.371392,196.584361 77.633152,179.729757 76.015296,178.584837 C74.39744,177.439918 73.31488,175.341263 75.090496,174.227935 C76.866656,173.115152 82.422528,170.306233 90.08912,166.333876 C97.754624,162.362063 107.308896,158.985042 108.8,158.985042 C110.291104,158.985042 119.844832,162.362063 127.511424,166.333876 C135.177472,170.306233 140.733344,173.115152 142.509504,174.227935 Z" id="Face" fill="#FFFFFF"></path>\n\t\t\t\t\t\t\t<mask id="mask-4" fill="white">\n\t\t\t\t\t\t\t\t<use xlink:href="#path-3"></use>\n\t\t\t\t\t\t\t</mask>\n\t\t\t\t\t\t\t<use id="Top-Head" fill="url(#linearGradient-2)" xlink:href="#path-3"></use>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</svg>\n\t`,label:"Brave"};const mew={imgBig:`\n\t\t<img src='data:image/webp;base64,UklGRtQGAABXRUJQVlA4TMgGAAAvP8APENVQwv7/kCP91rZx4s22bdsn27Ztx93h2LZt27Y9VZup6j3trQa9yX/U3ziD2Ol8gx1bjm1ry57s36q4zS0rrye4dk6ZEiqH0m0EVvEzAHeHyt1VgiRJctskbmCBboT8/5eekCoKAAFGtr1Fs5pxy/gFJ3+C2uqybXR7Szz7ku27NwHWv9dCgzAibAtXwmvhjfDWlbSgKDvX7XBCqjAjwKcohXpojTZoi7ykiLTYIkCYSXYoYRQfoRdmYA6Xh2ONAwn3T8YA0EB36hKHEZ4/Cho8P8xBhMXrQMMXuxxCqMBYGLcMmY4g3AsCTdyQ6ABCHqYhNJMwES6Xa2VoIiHkmyQ0CV8ADIHeSPjgFOBvC5ak67kBLBOaTViFeliZHgAMguZP4A00xmBMgMvlcs2NypyHLZq+QDGMwso0pBon/EhjV0wFffEoSD6CvTAMDPWmbatI3osQ0BnHNOGbYUIqIsciyUU3SA/sCs7xLognMRB0JS2bDAjxRgmV4BBEkP0gYBGGYs7yUUT0BhmRTAjlRgm54Dj0B5l2DWjHK6CBi+fzVtQBmZBFCEVGWcIHG0gSlcBL0BBGLPqPlQGSTBG+W4YLOXgMrvLAKhLu6fgSV6EsQrMtNjPJDfIhoBxczwBCiXGWECoMCoeoDdKJSfgQABqB852kcz7jAWxaCSdZGxAOhREh0jJVCEMkORlIOhwAtswAOoPcDG4BcDiSkDsDjMQKy2yMAkmMgQcAdAJLAvVRCMUCAPGLQbIIlnndoekGLs9sB5I1cQ2KkkluyFzODM3/DiBcVgfJl1ECNHDzNpLOWPOEkbdAshFgBOJJJuSaF40pIIly0BmNLmiFBQu36iwGyXWINs8SHhYDyV5Ac3AMAjofmQK6y5Yu5gosJ5nithxQqME4kGwPPNdFcP7w9PGOm8/KCIkRHGNj+KaMQjzXRRBGMgtpjmAJ87eAZPqpo/8cf+Pw+/pHcKqAEv417C2UUnkITrWgKDed5Eph3nJIoVHwODgAeOzgJdy/hlLKFsIvxkpLKZUXHgE3E7HcEYRg4RyuB3AD8MKeISSWUsqewmOxAjc8qpwfqlwYAjc//lp6+eSyl1AqJNYmZG2pDAjnS0wT0oT/r2AqSNx96hQSSyllT5Ew8ceEJCf8mDS7cVhlC6GUKxKkc7HwX0gzSQjHbyDZGAgoobTepbo+X2nIsd8n9oWwhVAKgkySMVhojvDoPZDkwXO/vbl8C8yhk+ZVa9q/iQ4n/5n4prKFUqvmhZNk1ApThIHdQZK9OiCghFJh9hRKKd9UtYaX9g83re/thn+ckeTAtwuPxZdSECwgyd2QYwbaQRPc4crzl6BU9hZhQcvhXWqDLYRSKxMS/lzxqn35RJJljg5+sVTi8kJNOwhMEPqvArXP9z8v7r6tUj45Oj7dcEPAurCFUFrP9mpy9UCyy4uNdym1KvP5wUfDWKHfOOGuGnTOHvnn8y2P4FSrvEsNfr8g6VXLXsKewzeVZ6u/lsr9/aYfM/5BDvs027Aqb2OEzrp84wRDoLPLzB93nL3cc3J47ODw/aYY/2VGTv4z+WvptSit2bXDhB8T6m76YWM9fmBYcPu5y67Tf+gkw7BoUFsPeLlHQJf3+yDo/4Skx2LZY9hz+KZaVe700PfVQlPyL3in/wnoft7oflADGiLaKKFKJxtdQXIU0ARk46sHr/qyt1Aq3auWLUTbh7sZf2jT+WAEZoDsCXSDjtMooVTnVfiCnFsZtwKngWS5czePxZdProR1yhYixhZepzxZ4HpUxHiQwXgSOkKpUUISJoMkOoL0w0WogXHAAJDs+3rV5Nqhxa1dwjrlX+O3dQ+MRS1cjd8xA+wOkMyFkGSUJfxtB5KXoyGobQX4daDuWu9SKjDHU3svMk0LUNsMx4FkOwh/LMOFsZdBMgRPg2RdAF8DU39MdBi4I2whglPs++HyZQcBqoPk67CB5LZE44QYdAA5HMglY3uCQwG/+Gr7YDP1N5q+L1fepYJTYQDYG8NATgMGg4zGOuMsoRV9QF6IyqC2RgfxS9B8+eT6a+lV8vCj1pVL7eGp5JGHVy17i6BURz0eKnWgtiaOBLkGQqtlpjAAP0xFZ2ATyVHAh7uGgBJK2UL4prJsIZTCJ9tvguEgORJoB2c2coQAc4US4QrbjgF+QnX8DsB7ZQSnCChhb6GLdO7wdyH4Bc5fgf2wDUUFlulCptAtTAo7wplwFCPUC2u4+8zpq203/xrBqRIT8/xrFGRgs1AjjC8KL4wRuhMsRxayhAng6Eeryy9tktYBmXHWP1XIFVqErpSIDOvfbQ=='/>\n\t`,label:"MEW"};function getWalletInfo(e){switch(e){case SupportedWalletProviders.MetaMask:return getEvmInjectedProviderInfo();case SupportedWalletProviders.WalletConnect:return{name:e,label:"WalletConnect",imgBig:walletConnectSVG};case SupportedWalletProviders.WalletConnectV2:return{name:e,label:"WalletConnect V2",imgBig:walletConnectV2SVG};case SupportedWalletProviders.Torus:return{name:e,label:"Torus",imgBig:torusSVG}}}function getEvmInjectedProviderInfo(){const e=getBrowserData();let t=ethereumWallet;if(e.brave)t=braveWallet;if(e.anyMetamask)t=metaMask;if(e.mew)t=mew;if(e.trust)t=trustWallet;if(e.status)t=statusWallet;if(e.alphaWallet)t=alphaWallet;if(e.imToken)t=imToken;return Object.assign({name:SupportedWalletProviders.MetaMask},t)}const walletButtonCss=".btn-container{position:relative;display:inline-block}.btn-dropdown{position:absolute;width:100%;display:flex;flex-direction:column;background-color:#EEEEEE;top:40px;border-radius:10px;padding:5px;z-index:10}.chevron::before{border-style:solid;border-width:2px 2px 0 0;content:'';display:inline-block;height:0.45em;left:0.15em;position:relative;top:0.15em;transform:rotate(135deg);vertical-align:top;width:0.45em;border-color:#000;margin:0 10px}.btn-dropdown button{display:block;height:34px;border:none;border-radius:10px;font-size:14px;cursor:pointer}.wallet-connect-btn{display:flex;align-items:center;justify-content:center;min-width:140px}.btn-connected{background:#EEEEEE}.btn-connected:hover,.btn-dropdown button:hover{background:linear-gradient(0deg, #CECECE, #CECECE), #DDDDDD}.status-dot{border-radius:50%;background:#3DBD00;width:8px;height:8px;margin:5px}";const WalletButton=class{constructor(e){registerInstance(this,e);this.walletInfo=undefined;this.dropdownOpened=false}async connectedCallback(){const e=await Web3WalletProvider.getWallet();await this.updateWalletConnectionState(e);Web3WalletProvider.registerWalletChangeListener(this.updateWalletConnectionState.bind(this));document.addEventListener("click",this.dismissClickHandler.bind(this))}async disconnectedCallback(){Web3WalletProvider.removeWalletChangeListener(this.updateWalletConnectionState.bind(this));document.removeEventListener("click",this.dismissClickHandler.bind(this))}dismissClickHandler(e){this.dropdownOpened=false}async updateWalletConnectionState(e){if(!e){this.walletInfo=null;return}this.walletInfo=Object.assign(Object.assign({},e),getWalletInfo(e.providerType))}formatWalletAddress(e){return e.substring(0,4)+"..."+e.substring(e.length-4)}render(){return h("div",{class:"btn-container",onClick:e=>e.stopPropagation()},h("button",{class:"btn wallet-connect-btn "+(this.walletInfo?"btn-connected":"btn-primary"),onClick:()=>{if(this.walletInfo){this.dropdownOpened=!this.dropdownOpened}else{Web3WalletProvider.getWallet(true)}}},this.walletInfo?[h("div",{class:"status-dot"}),h("div",{title:this.walletInfo.providerType+": "+this.walletInfo.address},this.formatWalletAddress(this.walletInfo.address)),h("div",{class:"chevron"})]:"Connect Wallet"),this.dropdownOpened?h("div",{class:"btn-dropdown"},h("button",{onClick:()=>{this.dropdownOpened=false;Web3WalletProvider.disconnectWallet()}},"Disconnect"),h("button",{onClick:()=>{this.dropdownOpened=false;Web3WalletProvider.switchWallet()}},"Switch")):"")}};WalletButton.style=walletButtonCss;const walletSelectorCss=".wallet-btn{width:100%;display:flex;margin:10px 0;height:60px !important;align-items:center}.wallet-name{text-align:center;font-weight:bold;font-size:14px;position:absolute;width:100%}.wallet-icon{display:flex;align-items:center;padding:10px}.wallet-icon svg,.wallet-icon img{height:40px;width:auto}";const WalletSelector=class{constructor(e){registerInstance(this,e);this.providerList=undefined}async connectWallet(){this.dialog.openDialog((()=>{this.closeCallback("Wallet connection aborted.")}));return new Promise(((e,t)=>{this.selectCallback=e;this.closeCallback=t}))}componentWillLoad(){const e=[];if(typeof window.ethereum!=="undefined"){e.push(getWalletInfo(SupportedWalletProviders.MetaMask))}e.push(getWalletInfo(SupportedWalletProviders.WalletConnect));e.push(getWalletInfo(SupportedWalletProviders.WalletConnectV2));e.push(getWalletInfo(SupportedWalletProviders.Torus));this.providerList=e}componentDidLoad(){}render(){return h("popover-dialog",{ref:e=>this.dialog=e},h("h4",null,"Select Wallet"),h("p",null,"You need to connect your wallet to get access to your tokens."),this.providerList.map((e=>h("button",{class:"btn wallet-btn",onClick:()=>{this.selectCallback(e.name);this.dialog.closeDialog()}},h("div",{class:"wallet-icon",innerHTML:e.imgBig}),h("div",{class:"wallet-name"},e.name)))))}};WalletSelector.style=walletSelectorCss;export{AttributeTable$1 as A,ViewerPopover as B,CardModal as C,ViewerTab as D,WalletSelector as E,InputField as I,LoadingSpinner as L,NewViewer as N,PopoverDialog as P,SecurityStatus as S,TabbedViewer as T,ViewStep as V,WalletButton as W,commonjsGlobal as a,getAugmentedNamespace as b,createCommonjsModule$2 as c,commonjsRequire$2 as d,browser as e,global$1 as f,getDefaultExportFromCjs as g,AddSelector as h,AppRoot as i,AttributeTable as j,CardView as k,CbToast as l,CbToastcontent as m,ConfirmStep as n,IntegrationViewer as o,SelectField as p,SelectStep as q,require$$0$1 as r,StartTab$1 as s,StartTab as t,TokenButton as u,TokenIcon as v,TokensGrid as w,TokensGridItem as x,TokenscriptButton as y,TokenscriptGrid as z};
//# sourceMappingURL=p-6b3cd037.js.map