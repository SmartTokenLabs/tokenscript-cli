import{r as t,h as i}from"./p-f0f1815c.js";const e=':host{position:relative;width:100%;min-height:250px}img{width:100%}div{width:100%;min-height:250px;position:relative;overflow:hidden}.shimmer{display:inline-block;height:1em;background-color:#dddbdd}.shimmer:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translateX(-100%);background-image:linear-gradient(\n\t\t90deg,\n\t\trgba(255, 255, 255, 0) 0,\n\t\trgba(255, 255, 255, 0.2) 20%,\n\t\trgba(255, 255, 255, 0.5) 60%,\n\t\trgba(255, 255, 255, 0)\n\t);animation:shimmer 2s infinite;content:""}@keyframes shimmer{100%{transform:translateX(100%)}}';const n=class{constructor(i){t(this,i);this.src=undefined;this.imageTitle=undefined;this.image=undefined;this.loaded=false}componentWillLoad(){let t=this.src;let e;if(t&&t!=="undefined"){e=i("img",{alt:this.imageTitle,src:t,onLoad:()=>{this.loaded=true},onError:t=>{this.image=this.createAvatar();this.loaded=true}})}else{e=this.createAvatar();this.loaded=true}this.image=e}createAvatar(){return i("img",{alt:this.imageTitle,src:this.generateAvatar(this.imageTitle)})}generateAvatar(t){const i=document.createElement("canvas");const e=i.getContext("2d");i.width=200;i.height=200;if(!e)return"";e.fillStyle=this.getRandomBackgroundColor();e.fillRect(0,0,i.width,i.height);e.font="bold 100px 'Arial', sans-serif";e.fillStyle="#fff";e.textAlign="center";e.textBaseline="middle";let n=t.split(" ");let s="";for(let t=0;s.length<2&&t<n.length;t++){let i=n[t].split("");if(i.length)s+=i[0].toUpperCase()}e.fillText(s,i.width/2,i.height/2);return i.toDataURL("image/png")}getRandomBackgroundColor(){return"#0029a7"}render(){return i("div",{class:this.loaded?"":"shimmer",title:this.imageTitle},this.image)}};n.style=e;const s=".tokens-grid-item{padding:10px;margin:10px;border:1px solid #939393;border-radius:5px;width:250px}.tokens-grid-item img{max-width:250px}.tokens-grid-item h5{margin:10px 0}.tokens-grid-item span{overflow:hidden;max-width:100%;display:inline-block;text-overflow:ellipsis ellipsis}.actions{text-align:center}.actions>button{display:block;width:100%;margin:8px 0}";const r=class{constructor(i){t(this,i);this.tokenScript=undefined;this.token=undefined;this.showCard=undefined;this.cardButtons=undefined}async componentDidLoad(){const t=[];const e=this.tokenScript.getCards();for(let[n,s]of e.entries()){let e=s.label;if(e==="Unnamed Card")e=s.type==="token"?"Token Info":s.type+" Card";const r={chainId:"chainId"in this.token?this.token.chainId:this.token.collectionDetails.chainId,selectedNftId:"tokenId"in this.token?this.token.tokenId:undefined};const o=await s.isEnabledOrReason(r);t.push(i("button",{onClick:()=>this.showCard(s,this.token,n),disabled:o!==true,title:o!==true?o:e},e))}this.cardButtons=t}render(){return i("div",{class:"tokens-grid-item"},i("token-icon",{src:this.token.image,imageTitle:this.token.name}),i("h5",null,this.token.name),"tokenId"in this.token?i("span",{title:this.token.tokenId.toString()},"#",this.token.tokenId):"",i("div",{class:"actions"},this.cardButtons?this.cardButtons:i("loading-spinner",{color:"#595959",size:"small",style:{textAlign:"center"}})))}};r.style=s;export{n as token_icon,r as tokens_grid_item};
//# sourceMappingURL=p-0ce914df.entry.js.map