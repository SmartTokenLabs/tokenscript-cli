import{c as n,a as e,b as r}from"./p-e52a38f8.js";var t=n((function(n,r){!function(n,e){e(r)}(e,(function(n){function r(n){if(Array.isArray(n))return n}function t(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function u(n,e){if(n){if("string"==typeof n)return t(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(n,e):void 0}}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(n,e){return r(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,u,o=[],i=!0,c=!1;try{for(r=r.call(n);!(i=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);i=!0);}catch(n){c=!0,u=n}finally{try{i||null==r.return||r.return()}finally{if(c)throw u}}return o}}(n,e)||u(n,e)||o()}function c(n,e,r,t,u,o,i){try{var c=n[o](i),a=c.value}catch(n){return void r(n)}c.done?e(a):Promise.resolve(a).then(t,u)}function a(n){return function(){var e=this,r=arguments;return new Promise((function(t,u){var o=n.apply(e,r);function i(n){c(o,t,u,i,a,"next",n)}function a(n){c(o,t,u,i,a,"throw",n)}i(void 0)}))}}function s(n){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},s(n)}var f={exports:{}},l={exports:{}};!function(n){function e(r){return n.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},n.exports.__esModule=!0,n.exports.default=n.exports,e(r)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(l),function(n){var e=l.exports.default;function r(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
n.exports=r=function(){return t},n.exports.__esModule=!0,n.exports.default=n.exports;var t={},u=Object.prototype,o=u.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function f(n,e,r){return Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),n[e]}try{f({},"")}catch(n){f=function(n,e,r){return n[e]=r}}function l(n,e,r,t){var u=e&&e.prototype instanceof h?e:h,o=Object.create(u.prototype),i=new T(t||[]);return o._invoke=function(n,e,r){var t="suspendedStart";return function(u,o){if("executing"===t)throw new Error("Generator is already running");if("completed"===t){if("throw"===u)throw o;return O()}for(r.method=u,r.arg=o;;){var i=r.delegate;if(i){var c=I(i,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===t)throw t="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);t="executing";var a=d(n,e,r);if("normal"===a.type){if(t=r.done?"completed":"suspendedYield",a.arg===v)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(t="completed",r.method="throw",r.arg=a.arg)}}}(n,r,i),o}function d(n,e,r){try{return{type:"normal",arg:n.call(e,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=l;var v={};function h(){}function p(){}function b(){}var m={};f(m,c,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(R([])));g&&g!==u&&o.call(g,c)&&(m=g);var w=b.prototype=h.prototype=Object.create(m);function E(n){["next","throw","return"].forEach((function(e){f(n,e,(function(n){return this._invoke(e,n)}))}))}function k(n,r){function t(u,i,c,a){var s=d(n[u],n,i);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==e(l)&&o.call(l,"__await")?r.resolve(l.__await).then((function(n){t("next",n,c,a)}),(function(n){t("throw",n,c,a)})):r.resolve(l).then((function(n){f.value=n,c(f)}),(function(n){return t("throw",n,c,a)}))}a(s.arg)}var u;this._invoke=function(n,e){function o(){return new r((function(r,u){t(n,e,r,u)}))}return u=u?u.then(o,o):o()}}function I(n,e){var r=n.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(n.iterator.return&&(e.method="return",e.arg=void 0,I(n,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var t=d(r,n.iterator,e.arg);if("throw"===t.type)return e.method="throw",e.arg=t.arg,e.delegate=null,v;var u=t.arg;return u?u.done?(e[n.resultName]=u.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,v):u:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function S(n){var e={tryLoc:n[0]};1 in n&&(e.catchLoc=n[1]),2 in n&&(e.finallyLoc=n[2],e.afterLoc=n[3]),this.tryEntries.push(e)}function A(n){var e=n.completion||{};e.type="normal",delete e.arg,n.completion=e}function T(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(S,this),this.reset(!0)}function R(n){if(n){var e=n[c];if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1,t=function e(){for(;++r<n.length;)if(o.call(n,r))return e.value=n[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return t.next=t}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=b,f(w,"constructor",b),f(b,"constructor",p),p.displayName=f(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var e="function"==typeof n&&n.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,b):(n.__proto__=b,f(n,s,"GeneratorFunction")),n.prototype=Object.create(w),n},t.awrap=function(n){return{__await:n}},E(k.prototype),f(k.prototype,a,(function(){return this})),t.AsyncIterator=k,t.async=function(n,e,r,u,o){void 0===o&&(o=Promise);var i=new k(l(n,e,r,u),o);return t.isGeneratorFunction(e)?i:i.next().then((function(n){return n.done?n.value:i.next()}))},E(w),f(w,s,"Generator"),f(w,c,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var e=[];for(var r in n)e.push(r);return e.reverse(),function r(){for(;e.length;){var t=e.pop();if(t in n)return r.value=t,r.done=!1,r}return r.done=!0,r}},t.values=R,T.prototype={constructor:T,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!n)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var e=this;function r(r,t){return i.type="throw",i.arg=n,e.next=r,t&&(e.method="next",e.arg=void 0),!!t}for(var t=this.tryEntries.length-1;t>=0;--t){var u=this.tryEntries[t],i=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var c=o.call(u,"catchLoc"),a=o.call(u,"finallyLoc");if(c&&a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(n,e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc<=this.prev&&o.call(t,"finallyLoc")&&this.prev<t.finallyLoc){var u=t;break}}u&&("break"===n||"continue"===n)&&u.tryLoc<=e&&e<=u.finallyLoc&&(u=null);var i=u?u.completion:{};return i.type=n,i.arg=e,u?(this.method="next",this.next=u.finallyLoc,v):this.complete(i)},complete:function(n,e){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&e&&(this.next=e),v},finish:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===n)return this.complete(r.completion,r.afterLoc),A(r),v}},catch:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===n){var t=r.completion;if("throw"===t.type){var u=t.arg;A(r)}return u}}throw new Error("illegal catch attempt")},delegateYield:function(n,e,r){return this.delegate={iterator:R(n),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),v}},t}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports}(f);var d,v=f.exports(),h=v;try{regeneratorRuntime=v}catch(n){"object"===("undefined"==typeof globalThis?"undefined":s(globalThis))?globalThis.regeneratorRuntime=v:Function("r","regeneratorRuntime = r")(v)}function p(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}function b(n){return r(n)||p(n)||u(n)||o()}function m(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function y(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function g(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){m(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function w(n,e){var r="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=u(n))||e&&n&&"number"==typeof n.length){r&&(n=r);var t=0,o=function(){};return{s:o,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){r=r.call(n)},n:function(){var n=r.next();return c=n.done,n},e:function(n){a=!0,i=n},f:function(){try{c||null==r.return||r.return()}finally{if(a)throw i}}}}var E="function"==typeof queueMicrotask?queueMicrotask:function(n){return(d||(d=Promise.resolve())).then(n).catch((function(n){return setTimeout((function(){throw n}),0)}))},k=function(){var n,e=[];return{deliver:function(r){return a(h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push(r),n&&(n(e.shift()),n=void 0);case 2:case"end":return t.stop()}}),t)})))()},receive:function(){return new Promise((function(r){var t=e.shift();if(t)return r(t);n=r}))}}},I="INIT",S="SUBSCRIBE",A="UNSUBSCRIBE",T="UPDATED",R="SNAPSHOT",O="EXIT",N="object"===("undefined"==typeof self?"undefined":s(self))&&self.self===self&&self||"object"===("undefined"==typeof e?"undefined":s(e))&&e.global===e&&e||"object"===("undefined"==typeof window?"undefined":s(window))&&window.window===window&&window;N.FCL_REGISTRY=null==N.FCL_REGISTRY?{}:N.FCL_REGISTRY;var x,C=0,P=function(n,e,r){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(u,o){var i=t.expectReply||!1,c=null!=t.timeout?t.timeout:5e3;i&&c&&setTimeout((function(){return o(new Error("Timeout: ".concat(c,"ms passed without a response.")))}),c);var a={to:n,from:t.from,tag:e,data:r,timeout:c,reply:u,reject:o};try{N.FCL_REGISTRY[n]&&N.FCL_REGISTRY[n].mailbox.deliver(a),i||u(!0)}catch(e){console.error("FCL.Actor -- Could Not Deliver Message",a,N.FCL_REGISTRY[n],e)}}))},j=function(n){delete N.FCL_REGISTRY[n]},D=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var e=a(h.mark((function e(r){var t;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof n.INIT){e.next=3;break}return e.next=3,n.INIT(r);case 3:return e.next=6,r.receive();case 6:if(t=e.sent,e.prev=7,t.tag!==O){e.next=13;break}if("function"!=typeof n.TERMINATE){e.next=12;break}return e.next=12,n.TERMINATE(r,t,t.data||{});case 12:return e.abrupt("break",25);case 13:return e.next=15,n[t.tag](r,t,t.data||{});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),console.error("".concat(r.self()," Error"),t,e.t0);case 20:return e.prev=20,e.abrupt("continue",3);case 23:e.next=3;break;case 25:case"end":return e.stop()}}),e,null,[[7,17,20,23]])})));return function(n){return e.apply(this,arguments)}}()},U=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==e&&(e=++C),null!=N.FCL_REGISTRY[e])return e;N.FCL_REGISTRY[e]={addr:e,mailbox:k(),subs:new Set,kvs:{},error:null};var r={self:function(){return e},receive:function(){return N.FCL_REGISTRY[e].mailbox.receive()},send:function(n,r,t){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return u.from=e,P(n,r,t,u)},sendSelf:function(n,r,t){N.FCL_REGISTRY[e]&&P(e,n,r,t)},broadcast:function(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.from=e;var u,o=w(N.FCL_REGISTRY[e].subs);try{for(o.s();!(u=o.n()).done;){var i=u.value;P(i,n,r,t)}}catch(n){o.e(n)}finally{o.f()}},subscribe:function(n){return null!=n&&N.FCL_REGISTRY[e].subs.add(n)},unsubscribe:function(n){return null!=n&&N.FCL_REGISTRY[e].subs.delete(n)},subscriberCount:function(){return N.FCL_REGISTRY[e].subs.size},hasSubs:function(){return!!N.FCL_REGISTRY[e].subs.size},put:function(n,r){null!=n&&(N.FCL_REGISTRY[e].kvs[n]=r)},get:function(n,r){var t=N.FCL_REGISTRY[e].kvs[n];return null==t?r:t},delete:function(n){delete N.FCL_REGISTRY[e].kvs[n]},update:function(n,r){null!=n&&(N.FCL_REGISTRY[e].kvs[n]=r(N.FCL_REGISTRY[e].kvs[n]))},keys:function(){return Object.keys(N.FCL_REGISTRY[e].kvs)},all:function(){return N.FCL_REGISTRY[e].kvs},where:function(n){return Object.keys(N.FCL_REGISTRY[e].kvs).reduce((function(r,t){return n.test(t)?g(g({},r),{},m({},t,N.FCL_REGISTRY[e].kvs[t])):r}),{})},merge:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(n).forEach((function(r){return N.FCL_REGISTRY[e].kvs[r]=n[r]}))},fatalError:function(n){N.FCL_REGISTRY[e].error=n;var r,t=w(N.FCL_REGISTRY[e].subs);try{for(t.s();!(r=t.n()).done;){var u=r.value;P(u,T)}}catch(n){t.e(n)}finally{t.f()}}};return"object"===s(n)&&(n=D(n)),E(a(h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(r);case 2:j(e);case 3:case"end":return t.stop()}}),t)})))),e};function _(n,e,r){e(n);var t="@EXIT",u=U(function(){var e=a(h.mark((function e(u){var o,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.send(n,S);case 1:return e.next=4,u.receive();case 4:if(o=e.sent,i=N.FCL_REGISTRY[n].error,o.tag!==t){e.next=9;break}return u.send(n,A),e.abrupt("return");case 9:if(!i){e.next=13;break}return r(null,i),u.send(n,A),e.abrupt("return");case 13:r(o.data,null),e.next=1;break;case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());return function(){return P(u,t)}}function F(n,e){return e(n),P(n,R,null,{expectReply:!0,timeout:0})}var M="config",B="PUT_CONFIG",L="GET_CONFIG",G="GET_ALL_CONFIG",z="UPDATE_CONFIG",W="DELETE_CONFIG",K="CLEAR_CONFIG",V="WHERE_CONFIG",H="CONFIG/UPDATED",q=function(n){return n},J=(m(x={},B,(function(n,e,r){var t=r.key,u=r.value;if(null==t)throw new Error("Missing 'key' for config/put.");n.put(t,u),n.broadcast(H,g({},n.all()))})),m(x,L,(function(n,e,r){var t=r.key,u=r.fallback;if(null==t)throw new Error("Missing 'key' for config/get");e.reply(n.get(t,u))})),m(x,G,(function(n,e){e.reply(g({},n.all()))})),m(x,z,(function(n,e,r){var t=r.key,u=r.fn;if(null==t)throw new Error("Missing 'key' for config/update");n.update(t,u||q),n.broadcast(H,g({},n.all()))})),m(x,W,(function(n,e,r){var t=r.key;if(null==t)throw new Error("Missing 'key' for config/delete");n.delete(t),n.broadcast(H,g({},n.all()))})),m(x,K,(function(n,e){for(var r=0,t=Object.keys(n.all());r<t.length;r++){var u=t[r];n.delete(u)}n.broadcast(H,g({},n.all()))})),m(x,V,(function(n,e,r){var t=r.pattern;if(null==t)throw new Error("Missing 'pattern' for config/where");e.reply(n.where(t))})),m(x,S,(function(n,e){n.subscribe(e.from),n.send(e.from,H,g({},n.all()))})),m(x,A,(function(n,e){n.unsubscribe(e.from)})),x);function Y(n,e){return P(M,B,{key:n,value:e}),on()}function X(n,e){return P(M,L,{key:n,fallback:e},{expectReply:!0,timeout:10})}function Z(){return $.apply(this,arguments)}function $(){return $=a(h.mark((function n(){var e,r,t,u,o,i,c=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=c.length>0&&void 0!==c[0]?c[0]:[],r=c.length>1?c[1]:void 0,e.length){n.next=4;break}return n.abrupt("return",r);case 4:return t=b(e),u=t[0],o=t.slice(1),n.next=7,X(u);case 7:if(null!=(i=n.sent)){n.next=10;break}return n.abrupt("return",Z(o,r));case 10:return n.abrupt("return",i);case 11:case"end":return n.stop()}}),n)}))),$.apply(this,arguments)}function Q(){return P(M,G,null,{expectReply:!0,timeout:10})}function nn(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q;return P(M,z,{key:n,fn:e}),on()}function en(n){return P(M,W,{key:n}),on()}function rn(n){return P(M,V,{pattern:n},{expectReply:!0,timeout:10})}function tn(n){return _(M,(function(){return U(J,M)}),n)}function un(n){return P(M,K).then(on(n))}function on(n){return null!=n&&"object"===s(n)&&Object.keys(n).map((function(e){return Y(e,n[e])})),{put:Y,get:X,all:Q,first:Z,update:nn,delete:en,where:rn,subscribe:tn,overload:an}}U(J,M),on.put=Y,on.get=X,on.all=Q,on.first=Z,on.update=nn,on.delete=en,on.where=rn,on.subscribe=tn,on.overload=an;var cn=function(n){return n};function an(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cn;return new Promise(function(){var r=a(h.mark((function r(t,u){var o,i;return h.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Q();case 2:return o=r.sent,r.prev=3,on(n),r.t0=e,r.next=8,Q();case 8:return r.t1=r.sent,r.next=11,(0,r.t0)(r.t1);case 11:return i=r.sent,r.next=14,un(o);case 14:t(i),r.next=22;break;case 17:return r.prev=17,r.t2=r.catch(3),r.next=21,un(o);case 21:u(r.t2);case 22:case"end":return r.stop()}}),r,null,[[3,17]])})));return function(n,e){return r.apply(this,arguments)}}())}var sn,fn,ln={can:!("undefined"==typeof window),get:(fn=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",JSON.parse(sessionStorage.getItem(e)));case 1:case"end":return n.stop()}}),n)}))),function(n){return fn.apply(this,arguments)}),put:(sn=a(h.mark((function n(e,r){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",sessionStorage.setItem(e,JSON.stringify(r)));case 1:case"end":return n.stop()}}),n)}))),function(n,e){return sn.apply(this,arguments)})};function dn(n){return vn.apply(this,arguments)}function vn(){return(vn=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Object,n.t1=Object,n.next=4,on().where(e);case 4:return n.t2=n.sent,n.t3=n.t1.entries.call(n.t1,n.t2).map((function(n){var r=i(n,2),t=r[0],u=r[1];return[t.replace(e,""),u]})),n.abrupt("return",n.t0.fromEntries.call(n.t0,n.t3));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}on({"discovery.wallet.method.default":"IFRAME/RPC","fcl.storage.default":ln});var hn="1.3.2";function pn(n,e){if(!n){var r,t=new Error("INVARIANT ".concat(e));t.stack=t.stack.split("\n").filter((function(n){return!/at invariant/.test(n)})).join("\n");for(var u=arguments.length,o=new Array(u>2?u-2:0),i=2;i<u;i++)o[i-2]=arguments[i];throw(r=console).error.apply(r,["\n\n---\n\n",t,"\n\n"].concat(o,["\n\n---\n\n"])),t}}function bn(n){return function(n){if(Array.isArray(n))return t(n)}(n)||p(n)||u(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var mn=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),yn=function(n){var e=n.title,r=n.message;return["\n    %c".concat(e,"\n    ============================\n\n    ").concat(r,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]},gn=function(){var n=a(h.mark((function n(e){var r,t,u,o,i,c,a,s,f,l,d,v;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=e.title,a=e.message,s=e.level,f=e.always,l=void 0!==f&&f,n.next=3,on.get("logger.level",mn.warn);case 3:if(d=n.sent,l||!(d<s)){n.next=6;break}return n.abrupt("return");case 6:v=yn({title:c,message:a}),n.t0=s,n.next=n.t0===mn.debug?10:n.t0===mn.info?12:n.t0===mn.warn?14:n.t0===mn.error?16:18;break;case 10:return(r=console).debug.apply(r,bn(v)),n.abrupt("break",19);case 12:return(t=console).info.apply(t,bn(v)),n.abrupt("break",19);case 14:return(u=console).warn.apply(u,bn(v)),n.abrupt("break",19);case 16:return(o=console).error.apply(o,bn(v)),n.abrupt("break",19);case 18:(i=console).log.apply(i,bn(v));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();function wn(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function En(n,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function kn(n,e,r){return e&&En(n.prototype,e),r&&En(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function In(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Sn(n,e){return Sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,e){return n.__proto__=e,n},Sn(n,e)}function An(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Sn(n,e)}function Tn(n){return Tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tn(n)}function Rn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}function On(n,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return In(n)}function Nn(n){var e=Rn();return function(){var r,t=Tn(n);if(e){var u=Tn(this).constructor;r=Reflect.construct(t,arguments,u)}else r=t.apply(this,arguments);return On(this,r)}}gn.deprecate=function(n){var e=n.pkg,r=n.subject,t=n.transition,u=n.level,o=void 0===u?mn.warn:u,i=n.message,c=void 0===i?"":i,s=n.callback,f=void 0===s?null:s,l=function(){return gn({title:"".concat(e?e+" ":"","Deprecation Notice"),message:"\n      ".concat(r?"".concat((n=r,n.charAt(0).toUpperCase()+n.slice(1))," is deprecated and will cease to work in future releases").concat(e?" of "+e:"","."):"").concat(c?"\n"+c:"").concat(t?"\nYou can learn more (including a guide on common transition paths) here: ".concat(t):"","\n    ").trim(),level:o});var n};return"function"==typeof f?a(h.mark((function n(){var e=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l();case 2:return n.next=4,f.apply(void 0,e);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)}))):l()};for(var xn={},Cn={byteLength:function(n){var e=Mn(n),r=e[0],t=e[1];return 3*(r+t)/4-t},toByteArray:function(n){var e,r,t=Mn(n),u=t[0],o=t[1],i=new Dn(function(n,e,r){return 3*(e+r)/4-r}(0,u,o)),c=0,a=o>0?u-4:u;for(r=0;r<a;r+=4)e=jn[n.charCodeAt(r)]<<18|jn[n.charCodeAt(r+1)]<<12|jn[n.charCodeAt(r+2)]<<6|jn[n.charCodeAt(r+3)],i[c++]=e>>16&255,i[c++]=e>>8&255,i[c++]=255&e;2===o&&(e=jn[n.charCodeAt(r)]<<2|jn[n.charCodeAt(r+1)]>>4,i[c++]=255&e);1===o&&(e=jn[n.charCodeAt(r)]<<10|jn[n.charCodeAt(r+1)]<<4|jn[n.charCodeAt(r+2)]>>2,i[c++]=e>>8&255,i[c++]=255&e);return i},fromByteArray:function(n){for(var e,r=n.length,t=r%3,u=[],o=16383,i=0,c=r-t;i<c;i+=o)u.push(Bn(n,i,i+o>c?c:i+o));1===t?(e=n[r-1],u.push(Pn[e>>2]+Pn[e<<4&63]+"==")):2===t&&(e=(n[r-2]<<8)+n[r-1],u.push(Pn[e>>10]+Pn[e>>4&63]+Pn[e<<2&63]+"="));return u.join("")}},Pn=[],jn=[],Dn="undefined"!=typeof Uint8Array?Uint8Array:Array,Un="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_n=0,Fn=Un.length;_n<Fn;++_n)Pn[_n]=Un[_n],jn[Un.charCodeAt(_n)]=_n;function Mn(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=n.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function Bn(n,e,r){for(var t,u,o=[],i=e;i<r;i+=3)t=(n[i]<<16&16711680)+(n[i+1]<<8&65280)+(255&n[i+2]),o.push(Pn[(u=t)>>18&63]+Pn[u>>12&63]+Pn[u>>6&63]+Pn[63&u]);return o.join("")}jn["-".charCodeAt(0)]=62,jn["_".charCodeAt(0)]=63;var Ln={};
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function Gn(n){if(Array.isArray(n)){for(var e=[],r=0;r<n.length;r++)e.push(Gn(n[r]));var t=xn.Buffer.concat(e);return xn.Buffer.concat([zn(t.length,192),t])}var u=function(n){if(!xn.Buffer.isBuffer(n)){if("string"==typeof n)return Wn(n)?xn.Buffer.from((t="string"!=typeof(r=n)?r:Wn(r)?r.slice(2):r).length%2?"0"+t:t,"hex"):xn.Buffer.from(n);if("number"==typeof n)return n?(e=Kn(n),xn.Buffer.from(e,"hex")):xn.Buffer.from([]);if(null==n)return xn.Buffer.from([]);if(n instanceof Uint8Array)return xn.Buffer.from(n);throw new Error("invalid type")}var e;var r;var t;return n}(n);return 1===u.length&&u[0]<128?u:xn.Buffer.concat([zn(u.length,128),u])}function zn(n,e){if(n<56)return xn.Buffer.from([n+e]);var r=Kn(n),t=Kn(e+55+r.length/2);return xn.Buffer.from(t+r,"hex")}function Wn(n){return"0x"===n.slice(0,2)}function Kn(n){if(n<0)throw new Error("Invalid integer as argument, must be unsigned!");var e=n.toString(16);return e.length%2?"0"+e:e}function Vn(n,e,r){return Vn=Rn()?Reflect.construct.bind():function(n,e,r){var t=[null];t.push.apply(t,e);var u=new(Function.bind.apply(n,t));return r&&Sn(u,r.prototype),u},Vn.apply(null,arguments)}function Hn(n){var e="function"==typeof Map?new Map:void 0;return Hn=function(n){if(null===n||(r=n,-1===Function.toString.call(r).indexOf("[native code]")))return n;var r;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(n))return e.get(n);e.set(n,t)}function t(){return Vn(n,arguments,Tn(this).constructor)}return t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Sn(t,n)},Hn(n)}Ln.read=function(n,e,r,t,u){var o,i,c=8*u-t-1,a=(1<<c)-1,s=a>>1,f=-7,l=r?u-1:0,d=r?-1:1,v=n[e+l];for(l+=d,o=v&(1<<-f)-1,v>>=-f,f+=c;f>0;o=256*o+n[e+l],l+=d,f-=8);for(i=o&(1<<-f)-1,o>>=-f,f+=t;f>0;i=256*i+n[e+l],l+=d,f-=8);if(0===o)o=1-s;else{if(o===a)return i?NaN:1/0*(v?-1:1);i+=Math.pow(2,t),o-=s}return(v?-1:1)*i*Math.pow(2,o-t)},Ln.write=function(n,e,r,t,u,o){var i,c,a,s=8*o-u-1,f=(1<<s)-1,l=f>>1,d=23===u?Math.pow(2,-24)-Math.pow(2,-77):0,v=t?0:o-1,h=t?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,i=f):(i=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-i))<1&&(i--,a*=2),(e+=i+l>=1?d/a:d*Math.pow(2,1-l))*a>=2&&(i++,a/=2),i+l>=f?(c=0,i=f):i+l>=1?(c=(e*a-1)*Math.pow(2,u),i+=l):(c=e*Math.pow(2,l-1)*Math.pow(2,u),i=0));u>=8;n[r+v]=255&c,v+=h,c/=256,u-=8);for(i=i<<u|c,s+=u;s>0;n[r+v]=255&i,v+=h,i/=256,s-=8);n[r+v-h]|=128*p},function(n){var e=Cn,r=Ln,t="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=i,n.SlowBuffer=function(n){+n!=n&&(n=0);return i.alloc(+n)},n.INSPECT_MAX_BYTES=50;var u=2147483647;function o(n){if(n>u)throw new RangeError('The value "'+n+'" is invalid for option "size"');var e=new Uint8Array(n);return Object.setPrototypeOf(e,i.prototype),e}function i(n,e,r){if("number"==typeof n){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(n)}return c(n,e,r)}function c(n,e,r){if("string"==typeof n)return function(n,e){"string"==typeof e&&""!==e||(e="utf8");if(!i.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|h(n,e),t=o(r),u=t.write(n,e);u!==r&&(t=t.slice(0,u));return t}(n,e);if(ArrayBuffer.isView(n))return function(n){if(J(n,Uint8Array)){var e=new Uint8Array(n);return d(e.buffer,e.byteOffset,e.byteLength)}return l(n)}(n);if(null==n)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(n));if(J(n,ArrayBuffer)||n&&J(n.buffer,ArrayBuffer))return d(n,e,r);if("undefined"!=typeof SharedArrayBuffer&&(J(n,SharedArrayBuffer)||n&&J(n.buffer,SharedArrayBuffer)))return d(n,e,r);if("number"==typeof n)throw new TypeError('The "value" argument must not be of type number. Received type number');var t=n.valueOf&&n.valueOf();if(null!=t&&t!==n)return i.from(t,e,r);var u=function(n){if(i.isBuffer(n)){var e=0|v(n.length),r=o(e);return 0===r.length||n.copy(r,0,0,e),r}if(void 0!==n.length)return"number"!=typeof n.length||Y(n.length)?o(0):l(n);if("Buffer"===n.type&&Array.isArray(n.data))return l(n.data)}(n);if(u)return u;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof n[Symbol.toPrimitive])return i.from(n[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(n))}function a(n){if("number"!=typeof n)throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function f(n){return a(n),o(n<0?0:0|v(n))}function l(n){for(var e=n.length<0?0:0|v(n.length),r=o(e),t=0;t<e;t+=1)r[t]=255&n[t];return r}function d(n,e,r){if(e<0||n.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var t;return t=void 0===e&&void 0===r?new Uint8Array(n):void 0===r?new Uint8Array(n,e):new Uint8Array(n,e,r),Object.setPrototypeOf(t,i.prototype),t}function v(n){if(n>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return 0|n}function h(n,e){if(i.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||J(n,ArrayBuffer))return n.byteLength;if("string"!=typeof n)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+s(n));var r=n.length,t=arguments.length>2&&!0===arguments[2];if(!t&&0===r)return 0;for(var u=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return V(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(n).length;default:if(u)return t?-1:V(n).length;e=(""+e).toLowerCase(),u=!0}}function p(n,e,r){var t=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(n||(n="utf8");;)switch(n){case"hex":return N(this,e,r);case"utf8":case"utf-8":return A(this,e,r);case"ascii":return R(this,e,r);case"latin1":case"binary":return O(this,e,r);case"base64":return S(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,r);default:if(t)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),t=!0}}function b(n,e,r){var t=n[e];n[e]=n[r],n[r]=t}function m(n,e,r,t,u){if(0===n.length)return-1;if("string"==typeof r?(t=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=u?0:n.length-1),r<0&&(r=n.length+r),r>=n.length){if(u)return-1;r=n.length-1}else if(r<0){if(!u)return-1;r=0}if("string"==typeof e&&(e=i.from(e,t)),i.isBuffer(e))return 0===e.length?-1:y(n,e,r,t,u);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?u?Uint8Array.prototype.indexOf.call(n,e,r):Uint8Array.prototype.lastIndexOf.call(n,e,r):y(n,[e],r,t,u);throw new TypeError("val must be string, number or Buffer")}function y(n,e,r,t,u){var o,i=1,c=n.length,a=e.length;if(void 0!==t&&("ucs2"===(t=String(t).toLowerCase())||"ucs-2"===t||"utf16le"===t||"utf-16le"===t)){if(n.length<2||e.length<2)return-1;i=2,c/=2,a/=2,r/=2}function s(n,e){return 1===i?n[e]:n.readUInt16BE(e*i)}if(u){var f=-1;for(o=r;o<c;o++)if(s(n,o)===s(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===a)return f*i}else-1!==f&&(o-=o-f),f=-1}else for(r+a>c&&(r=c-a),o=r;o>=0;o--){for(var l=!0,d=0;d<a;d++)if(s(n,o+d)!==s(e,d)){l=!1;break}if(l)return o}return-1}function g(n,e,r,t){r=Number(r)||0;var u=n.length-r;t?(t=Number(t))>u&&(t=u):t=u;var o,i=e.length;for(t>i/2&&(t=i/2),o=0;o<t;++o){var c=parseInt(e.substr(2*o,2),16);if(Y(c))return o;n[r+o]=c}return o}function w(n,e,r,t){return q(V(e,n.length-r),n,r,t)}function E(n,e,r,t){return q(function(n){for(var e=[],r=0;r<n.length;++r)e.push(255&n.charCodeAt(r));return e}(e),n,r,t)}function k(n,e,r,t){return q(H(e),n,r,t)}function I(n,e,r,t){return q(function(n,e){for(var r,t,u,o=[],i=0;i<n.length&&!((e-=2)<0);++i)t=(r=n.charCodeAt(i))>>8,u=r%256,o.push(u),o.push(t);return o}(e,n.length-r),n,r,t)}function S(n,r,t){return 0===r&&t===n.length?e.fromByteArray(n):e.fromByteArray(n.slice(r,t))}function A(n,e,r){r=Math.min(n.length,r);for(var t=[],u=e;u<r;){var o=n[u],i=null,c=o>239?4:o>223?3:o>191?2:1;if(u+c<=r){var a=void 0,s=void 0,f=void 0,l=void 0;switch(c){case 1:o<128&&(i=o);break;case 2:128==(192&(a=n[u+1]))&&(l=(31&o)<<6|63&a)>127&&(i=l);break;case 3:a=n[u+1],s=n[u+2],128==(192&a)&&128==(192&s)&&(l=(15&o)<<12|(63&a)<<6|63&s)>2047&&(l<55296||l>57343)&&(i=l);break;case 4:a=n[u+1],s=n[u+2],f=n[u+3],128==(192&a)&&128==(192&s)&&128==(192&f)&&(l=(15&o)<<18|(63&a)<<12|(63&s)<<6|63&f)>65535&&l<1114112&&(i=l)}}null===i?(i=65533,c=1):i>65535&&(i-=65536,t.push(i>>>10&1023|55296),i=56320|1023&i),t.push(i),u+=c}return function(n){var e=n.length;if(e<=T)return String.fromCharCode.apply(String,n);var r="",t=0;for(;t<e;)r+=String.fromCharCode.apply(String,n.slice(t,t+=T));return r}(t)}n.kMaxLength=u,i.TYPED_ARRAY_SUPPORT=function(){try{var n=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(n,e),42===n.foo()}catch(n){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(n,e,r){return c(n,e,r)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(n,e,r){return function(n,e,r){return a(n),n<=0?o(n):void 0!==e?"string"==typeof r?o(n).fill(e,r):o(n).fill(e):o(n)}(n,e,r)},i.allocUnsafe=function(n){return f(n)},i.allocUnsafeSlow=function(n){return f(n)},i.isBuffer=function(n){return null!=n&&!0===n._isBuffer&&n!==i.prototype},i.compare=function(n,e){if(J(n,Uint8Array)&&(n=i.from(n,n.offset,n.byteLength)),J(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(n)||!i.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===e)return 0;for(var r=n.length,t=e.length,u=0,o=Math.min(r,t);u<o;++u)if(n[u]!==e[u]){r=n[u],t=e[u];break}return r<t?-1:t<r?1:0},i.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(n,e){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(0===n.length)return i.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<n.length;++r)e+=n[r].length;var t=i.allocUnsafe(e),u=0;for(r=0;r<n.length;++r){var o=n[r];if(J(o,Uint8Array))u+o.length>t.length?(i.isBuffer(o)||(o=i.from(o)),o.copy(t,u)):Uint8Array.prototype.set.call(t,o,u);else{if(!i.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(t,u)}u+=o.length}return t},i.byteLength=h,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var n=this.length;if(n%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<n;e+=2)b(this,e,e+1);return this},i.prototype.swap32=function(){var n=this.length;if(n%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<n;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},i.prototype.swap64=function(){var n=this.length;if(n%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<n;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},i.prototype.toString=function(){var n=this.length;return 0===n?"":0===arguments.length?A(this,0,n):p.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(n){if(!i.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n||0===i.compare(this,n)},i.prototype.inspect=function(){var e="",r=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},t&&(i.prototype[t]=i.prototype.inspect),i.prototype.compare=function(n,e,r,t,u){if(J(n,Uint8Array)&&(n=i.from(n,n.offset,n.byteLength)),!i.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+s(n));if(void 0===e&&(e=0),void 0===r&&(r=n?n.length:0),void 0===t&&(t=0),void 0===u&&(u=this.length),e<0||r>n.length||t<0||u>this.length)throw new RangeError("out of range index");if(t>=u&&e>=r)return 0;if(t>=u)return-1;if(e>=r)return 1;if(this===n)return 0;for(var o=(u>>>=0)-(t>>>=0),c=(r>>>=0)-(e>>>=0),a=Math.min(o,c),f=this.slice(t,u),l=n.slice(e,r),d=0;d<a;++d)if(f[d]!==l[d]){o=f[d],c=l[d];break}return o<c?-1:c<o?1:0},i.prototype.includes=function(n,e,r){return-1!==this.indexOf(n,e,r)},i.prototype.indexOf=function(n,e,r){return m(this,n,e,r,!0)},i.prototype.lastIndexOf=function(n,e,r){return m(this,n,e,r,!1)},i.prototype.write=function(n,e,r,t){if(void 0===e)t="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)t=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===t&&(t="utf8")):(t=r,r=void 0)}var u=this.length-e;if((void 0===r||r>u)&&(r=u),n.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");t||(t="utf8");for(var o=!1;;)switch(t){case"hex":return g(this,n,e,r);case"utf8":case"utf-8":return w(this,n,e,r);case"ascii":case"latin1":case"binary":return E(this,n,e,r);case"base64":return k(this,n,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,n,e,r);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(""+t).toLowerCase(),o=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function R(n,e,r){var t="";r=Math.min(n.length,r);for(var u=e;u<r;++u)t+=String.fromCharCode(127&n[u]);return t}function O(n,e,r){var t="";r=Math.min(n.length,r);for(var u=e;u<r;++u)t+=String.fromCharCode(n[u]);return t}function N(n,e,r){var t=n.length;(!e||e<0)&&(e=0),(!r||r<0||r>t)&&(r=t);for(var u="",o=e;o<r;++o)u+=X[n[o]];return u}function x(n,e,r){for(var t=n.slice(e,r),u="",o=0;o<t.length-1;o+=2)u+=String.fromCharCode(t[o]+256*t[o+1]);return u}function C(n,e,r){if(n%1!=0||n<0)throw new RangeError("offset is not uint");if(n+e>r)throw new RangeError("Trying to access beyond buffer length")}function P(n,e,r,t,u,o){if(!i.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>u||e<o)throw new RangeError('"value" argument is out of bounds');if(r+t>n.length)throw new RangeError("Index out of range")}function j(n,e,r,t,u){G(e,t,u,n,r,7);var o=Number(e&BigInt(4294967295));n[r++]=o,o>>=8,n[r++]=o,o>>=8,n[r++]=o,o>>=8,n[r++]=o;var i=Number(e>>BigInt(32)&BigInt(4294967295));return n[r++]=i,i>>=8,n[r++]=i,i>>=8,n[r++]=i,i>>=8,n[r++]=i,r}function D(n,e,r,t,u){G(e,t,u,n,r,7);var o=Number(e&BigInt(4294967295));n[r+7]=o,o>>=8,n[r+6]=o,o>>=8,n[r+5]=o,o>>=8,n[r+4]=o;var i=Number(e>>BigInt(32)&BigInt(4294967295));return n[r+3]=i,i>>=8,n[r+2]=i,i>>=8,n[r+1]=i,i>>=8,n[r]=i,r+8}function U(n,e,r,t,u,o){if(r+t>n.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function _(n,e,t,u,o){return e=+e,t>>>=0,o||U(n,0,t,4),r.write(n,e,t,u,23,4),t+4}function F(n,e,t,u,o){return e=+e,t>>>=0,o||U(n,0,t,8),r.write(n,e,t,u,52,8),t+8}i.prototype.slice=function(n,e){var r=this.length;(n=~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<n&&(e=n);var t=this.subarray(n,e);return Object.setPrototypeOf(t,i.prototype),t},i.prototype.readUintLE=i.prototype.readUIntLE=function(n,e,r){n>>>=0,e>>>=0,r||C(n,e,this.length);for(var t=this[n],u=1,o=0;++o<e&&(u*=256);)t+=this[n+o]*u;return t},i.prototype.readUintBE=i.prototype.readUIntBE=function(n,e,r){n>>>=0,e>>>=0,r||C(n,e,this.length);for(var t=this[n+--e],u=1;e>0&&(u*=256);)t+=this[n+--e]*u;return t},i.prototype.readUint8=i.prototype.readUInt8=function(n,e){return n>>>=0,e||C(n,1,this.length),this[n]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(n,e){return n>>>=0,e||C(n,2,this.length),this[n]|this[n+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(n,e){return n>>>=0,e||C(n,2,this.length),this[n]<<8|this[n+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(n,e){return n>>>=0,e||C(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(n,e){return n>>>=0,e||C(n,4,this.length),16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])},i.prototype.readBigUInt64LE=Z((function(n){z(n>>>=0,"offset");var e=this[n],r=this[n+7];void 0!==e&&void 0!==r||W(n,this.length-8);var t=e+this[++n]*Math.pow(2,8)+this[++n]*Math.pow(2,16)+this[++n]*Math.pow(2,24),u=this[++n]+this[++n]*Math.pow(2,8)+this[++n]*Math.pow(2,16)+r*Math.pow(2,24);return BigInt(t)+(BigInt(u)<<BigInt(32))})),i.prototype.readBigUInt64BE=Z((function(n){z(n>>>=0,"offset");var e=this[n],r=this[n+7];void 0!==e&&void 0!==r||W(n,this.length-8);var t=e*Math.pow(2,24)+this[++n]*Math.pow(2,16)+this[++n]*Math.pow(2,8)+this[++n],u=this[++n]*Math.pow(2,24)+this[++n]*Math.pow(2,16)+this[++n]*Math.pow(2,8)+r;return(BigInt(t)<<BigInt(32))+BigInt(u)})),i.prototype.readIntLE=function(n,e,r){n>>>=0,e>>>=0,r||C(n,e,this.length);for(var t=this[n],u=1,o=0;++o<e&&(u*=256);)t+=this[n+o]*u;return t>=(u*=128)&&(t-=Math.pow(2,8*e)),t},i.prototype.readIntBE=function(n,e,r){n>>>=0,e>>>=0,r||C(n,e,this.length);for(var t=e,u=1,o=this[n+--t];t>0&&(u*=256);)o+=this[n+--t]*u;return o>=(u*=128)&&(o-=Math.pow(2,8*e)),o},i.prototype.readInt8=function(n,e){return n>>>=0,e||C(n,1,this.length),128&this[n]?-1*(255-this[n]+1):this[n]},i.prototype.readInt16LE=function(n,e){n>>>=0,e||C(n,2,this.length);var r=this[n]|this[n+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(n,e){n>>>=0,e||C(n,2,this.length);var r=this[n+1]|this[n]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(n,e){return n>>>=0,e||C(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},i.prototype.readInt32BE=function(n,e){return n>>>=0,e||C(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},i.prototype.readBigInt64LE=Z((function(n){z(n>>>=0,"offset");var e=this[n],r=this[n+7];void 0!==e&&void 0!==r||W(n,this.length-8);var t=this[n+4]+this[n+5]*Math.pow(2,8)+this[n+6]*Math.pow(2,16)+(r<<24);return(BigInt(t)<<BigInt(32))+BigInt(e+this[++n]*Math.pow(2,8)+this[++n]*Math.pow(2,16)+this[++n]*Math.pow(2,24))})),i.prototype.readBigInt64BE=Z((function(n){z(n>>>=0,"offset");var e=this[n],r=this[n+7];void 0!==e&&void 0!==r||W(n,this.length-8);var t=(e<<24)+this[++n]*Math.pow(2,16)+this[++n]*Math.pow(2,8)+this[++n];return(BigInt(t)<<BigInt(32))+BigInt(this[++n]*Math.pow(2,24)+this[++n]*Math.pow(2,16)+this[++n]*Math.pow(2,8)+r)})),i.prototype.readFloatLE=function(n,e){return n>>>=0,e||C(n,4,this.length),r.read(this,n,!0,23,4)},i.prototype.readFloatBE=function(n,e){return n>>>=0,e||C(n,4,this.length),r.read(this,n,!1,23,4)},i.prototype.readDoubleLE=function(n,e){return n>>>=0,e||C(n,8,this.length),r.read(this,n,!0,52,8)},i.prototype.readDoubleBE=function(n,e){return n>>>=0,e||C(n,8,this.length),r.read(this,n,!1,52,8)},i.prototype.writeUintLE=i.prototype.writeUIntLE=function(n,e,r,t){(n=+n,e>>>=0,r>>>=0,t)||P(this,n,e,r,Math.pow(2,8*r)-1,0);var u=1,o=0;for(this[e]=255&n;++o<r&&(u*=256);)this[e+o]=n/u&255;return e+r},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(n,e,r,t){(n=+n,e>>>=0,r>>>=0,t)||P(this,n,e,r,Math.pow(2,8*r)-1,0);var u=r-1,o=1;for(this[e+u]=255&n;--u>=0&&(o*=256);)this[e+u]=n/o&255;return e+r},i.prototype.writeUint8=i.prototype.writeUInt8=function(n,e,r){return n=+n,e>>>=0,r||P(this,n,e,1,255,0),this[e]=255&n,e+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(n,e,r){return n=+n,e>>>=0,r||P(this,n,e,2,65535,0),this[e]=255&n,this[e+1]=n>>>8,e+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(n,e,r){return n=+n,e>>>=0,r||P(this,n,e,2,65535,0),this[e]=n>>>8,this[e+1]=255&n,e+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(n,e,r){return n=+n,e>>>=0,r||P(this,n,e,4,4294967295,0),this[e+3]=n>>>24,this[e+2]=n>>>16,this[e+1]=n>>>8,this[e]=255&n,e+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(n,e,r){return n=+n,e>>>=0,r||P(this,n,e,4,4294967295,0),this[e]=n>>>24,this[e+1]=n>>>16,this[e+2]=n>>>8,this[e+3]=255&n,e+4},i.prototype.writeBigUInt64LE=Z((function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return j(this,n,e,BigInt(0),BigInt("0xffffffffffffffff"))})),i.prototype.writeBigUInt64BE=Z((function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return D(this,n,e,BigInt(0),BigInt("0xffffffffffffffff"))})),i.prototype.writeIntLE=function(n,e,r,t){if(n=+n,e>>>=0,!t){var u=Math.pow(2,8*r-1);P(this,n,e,r,u-1,-u)}var o=0,i=1,c=0;for(this[e]=255&n;++o<r&&(i*=256);)n<0&&0===c&&0!==this[e+o-1]&&(c=1),this[e+o]=(n/i>>0)-c&255;return e+r},i.prototype.writeIntBE=function(n,e,r,t){if(n=+n,e>>>=0,!t){var u=Math.pow(2,8*r-1);P(this,n,e,r,u-1,-u)}var o=r-1,i=1,c=0;for(this[e+o]=255&n;--o>=0&&(i*=256);)n<0&&0===c&&0!==this[e+o+1]&&(c=1),this[e+o]=(n/i>>0)-c&255;return e+r},i.prototype.writeInt8=function(n,e,r){return n=+n,e>>>=0,r||P(this,n,e,1,127,-128),n<0&&(n=255+n+1),this[e]=255&n,e+1},i.prototype.writeInt16LE=function(n,e,r){return n=+n,e>>>=0,r||P(this,n,e,2,32767,-32768),this[e]=255&n,this[e+1]=n>>>8,e+2},i.prototype.writeInt16BE=function(n,e,r){return n=+n,e>>>=0,r||P(this,n,e,2,32767,-32768),this[e]=n>>>8,this[e+1]=255&n,e+2},i.prototype.writeInt32LE=function(n,e,r){return n=+n,e>>>=0,r||P(this,n,e,4,2147483647,-2147483648),this[e]=255&n,this[e+1]=n>>>8,this[e+2]=n>>>16,this[e+3]=n>>>24,e+4},i.prototype.writeInt32BE=function(n,e,r){return n=+n,e>>>=0,r||P(this,n,e,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[e]=n>>>24,this[e+1]=n>>>16,this[e+2]=n>>>8,this[e+3]=255&n,e+4},i.prototype.writeBigInt64LE=Z((function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return j(this,n,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),i.prototype.writeBigInt64BE=Z((function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return D(this,n,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),i.prototype.writeFloatLE=function(n,e,r){return _(this,n,e,!0,r)},i.prototype.writeFloatBE=function(n,e,r){return _(this,n,e,!1,r)},i.prototype.writeDoubleLE=function(n,e,r){return F(this,n,e,!0,r)},i.prototype.writeDoubleBE=function(n,e,r){return F(this,n,e,!1,r)},i.prototype.copy=function(n,e,r,t){if(!i.isBuffer(n))throw new TypeError("argument should be a Buffer");if(r||(r=0),t||0===t||(t=this.length),e>=n.length&&(e=n.length),e||(e=0),t>0&&t<r&&(t=r),t===r)return 0;if(0===n.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("sourceEnd out of bounds");t>this.length&&(t=this.length),n.length-e<t-r&&(t=n.length-e+r);var u=t-r;return this===n&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,t):Uint8Array.prototype.set.call(n,this.subarray(r,t),e),u},i.prototype.fill=function(n,e,r,t){if("string"==typeof n){if("string"==typeof e?(t=e,e=0,r=this.length):"string"==typeof r&&(t=r,r=this.length),void 0!==t&&"string"!=typeof t)throw new TypeError("encoding must be a string");if("string"==typeof t&&!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t);if(1===n.length){var u=n.charCodeAt(0);("utf8"===t&&u<128||"latin1"===t)&&(n=u)}}else"number"==typeof n?n&=255:"boolean"==typeof n&&(n=Number(n));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,n||(n=0),"number"==typeof n)for(o=e;o<r;++o)this[o]=n;else{var c=i.isBuffer(n)?n:i.from(n,t),a=c.length;if(0===a)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=c[o%a]}return this};var M={};function B(n,e,r){M[n]=function(r){An(u,r);var t=Nn(u);function u(){var r;return wn(this,u),r=t.call(this),Object.defineProperty(In(r),"message",{value:e.apply(In(r),arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(n,"]"),delete r.name,r}return kn(u,[{key:"code",get:function(){return n},set:function(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(n,"]: ").concat(this.message)}}]),u}(r)}function L(n){for(var e="",r=n.length,t="-"===n[0]?1:0;r>=t+4;r-=3)e="_".concat(n.slice(r-3,r)).concat(e);return"".concat(n.slice(0,r)).concat(e)}function G(n,e,r,t,u,o){if(n>r||n<e){var i,c="bigint"==typeof e?"n":"";throw i=o>3?0===e||e===BigInt(0)?">= 0".concat(c," and < 2").concat(c," ** ").concat(8*(o+1)).concat(c):">= -(2".concat(c," ** ").concat(8*(o+1)-1).concat(c,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(c):">= ".concat(e).concat(c," and <= ").concat(r).concat(c),new M.ERR_OUT_OF_RANGE("value",i,n)}!function(n,e,r){z(e,"offset"),void 0!==n[e]&&void 0!==n[e+r]||W(e,n.length-(r+1))}(t,u,o)}function z(n,e){if("number"!=typeof n)throw new M.ERR_INVALID_ARG_TYPE(e,"number",n)}function W(n,e,r){if(Math.floor(n)!==n)throw z(n,r),new M.ERR_OUT_OF_RANGE(r||"offset","an integer",n);if(e<0)throw new M.ERR_BUFFER_OUT_OF_BOUNDS;throw new M.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(e),n)}B("ERR_BUFFER_OUT_OF_BOUNDS",(function(n){return n?"".concat(n," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),B("ERR_INVALID_ARG_TYPE",(function(n,e){return'The "'.concat(n,'" argument must be of type number. Received type ').concat(s(e))}),TypeError),B("ERR_OUT_OF_RANGE",(function(n,e,r){var t='The value of "'.concat(n,'" is out of range.'),u=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?u=L(String(r)):"bigint"==typeof r&&(u=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(u=L(u)),u+="n"),t+=" It must be ".concat(e,". Received ").concat(u)}),RangeError);var K=/[^+/0-9A-Za-z-_]/g;function V(n,e){var r;e=e||1/0;for(var t=n.length,u=null,o=[],i=0;i<t;++i){if((r=n.charCodeAt(i))>55295&&r<57344){if(!u){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(i+1===t){(e-=3)>-1&&o.push(239,191,189);continue}u=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),u=r;continue}r=65536+(u-55296<<10|r-56320)}else u&&(e-=3)>-1&&o.push(239,191,189);if(u=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function H(n){return e.toByteArray(function(n){if((n=(n=n.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;n.length%4!=0;)n+="=";return n}(n))}function q(n,e,r,t){var u;for(u=0;u<t&&!(u+r>=e.length||u>=n.length);++u)e[u+r]=n[u];return u}function J(n,e){return n instanceof e||null!=n&&null!=n.constructor&&null!=n.constructor.name&&n.constructor.name===e.name}function Y(n){return n!=n}var X=function(){for(var n="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var t=16*r,u=0;u<16;++u)e[t+u]=n[r]+n[u];return e}();function Z(n){return"undefined"==typeof BigInt?$:n}function $(){throw new Error("BigInt not supported")}}(xn);var qn={exports:{}};!function(n,e){var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r)return r;throw new Error("unable to locate global object")}();n.exports=e=r.fetch,r.fetch&&(e.default=r.fetch.bind(r)),e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response}(qn,qn.exports);var Jn=qn.exports;function Yn(n){return null==n?null:n.replace(/^0x/,"").replace(/^Fx/,"")}function Xn(n){return null==n?null:"0x"+Yn(n)}var Zn=function(n){An(r,n);var e=Nn(r);function r(n){var t,u=n.error,o=n.hostname,i=n.path,c=n.method,a=n.requestBody,s=n.responseBody,f=n.responseStatusText,l=n.statusCode;wn(this,r);var d="\n      HTTP Request Error: An error occurred when interacting with the Access API.\n      ".concat(u?"error=".concat(u):"","\n      ").concat(o?"hostname=".concat(o):"","\n      ").concat(i?"path=".concat(i):"","\n      ").concat(c?"method=".concat(c):"","\n      ").concat(a?"requestBody=".concat(a):"","\n      ").concat(s?"responseBody=".concat(s):"","\n      ").concat(f?"responseStatusText=".concat(f):"","\n      ").concat(l?"statusCode=".concat(l):"","\n    ");return(t=e.call(this,d)).name="HTTP Request Error",t.statusCode=l,t.errorMessage=u,t}return kn(r)}(Hn(Error));function $n(n){return Qn.apply(this,arguments)}function Qn(){return Qn=a(h.mark((function n(e){var r,t,u,o,i,c,s,f,l,d,v,p,b;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b=function(){return b=a(h.mark((function n(){var e,r,t=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.length>0&&void 0!==t[0]?t[0]:0,n.prev=1,n.next=4,v();case 4:return r=n.sent,n.abrupt("return",r);case 8:if(n.prev=8,n.t0=n.catch(1),![408,429,500,502,503,504].includes(n.t0.statusCode)){n.next=17;break}return n.next=14,new Promise((function(r,t){e<s?(console.warn("Access node unavailable, retrying in ".concat(l," ms...")),setTimeout((function(){r(p(e+1))}),l)):t(n.t0)}));case 14:return n.abrupt("return",n.sent);case 17:throw n.t0;case 18:case"end":return n.stop()}}),n,null,[[1,8]])}))),b.apply(this,arguments)},p=function(){return b.apply(this,arguments)},v=function(){return Jn("".concat(r).concat(t),{method:u,body:d,headers:i}).then(function(){var n=a(h.mark((function n(e){var o,i;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.ok){n.next=2;break}return n.abrupt("return",e.json());case 2:if(!e.body){n.next=8;break}return n.next=5,e.text();case 5:n.t0=n.sent,n.next=9;break;case 8:n.t0=null;case 9:throw o=n.t0,i=ne(o),new Zn({error:null==i?void 0:i.message,hostname:r,path:t,method:u,requestBody:d,responseBody:o,responseStatusText:e.statusText,statusCode:e.status});case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch(function(){var n=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e instanceof Zn)){n.next=2;break}throw e;case 2:return n.next=4,gn({title:"Access Node Error",message:"The provided access node ".concat(r," does not appear to be a valid REST/HTTP access node.\nPlease verify that you are not unintentionally using a GRPC access node.\nSee more here: https://docs.onflow.org/fcl/reference/sdk-guidelines/#connect"),level:mn.error});case 4:throw new Zn({error:null==e?void 0:e.message,hostname:r,path:t,method:u,requestBody:d});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},r=e.hostname,t=e.path,u=e.method,o=e.body,i=e.headers,c=e.retryLimit,s=void 0===c?5:c,f=e.retryIntervalMs,l=void 0===f?1e3:f,d=o?JSON.stringify(o):null,n.next=7,p();case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),n)}))),Qn.apply(this,arguments)}function ne(n){try{return JSON.parse(n)}catch(n){return null}}function ee(n,e,r){return re.apply(this,arguments)}function re(){return re=a(h.mark((function n(e,r,t){var u,o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=t.httpRequest||$n,n.next=3,u({hostname:t.node,path:"/v1/scripts?block_id=".concat(e.block.id),method:"POST",body:{script:r.Buffer.from(e.message.cadence).toString("base64"),arguments:e.message.arguments.map((function(n){return r.Buffer.from(JSON.stringify(e.arguments[n].asArgument)).toString("base64")}))}});case 3:return o=n.sent,n.abrupt("return",ce(e,r,o));case 5:case"end":return n.stop()}}),n)}))),re.apply(this,arguments)}function te(n,e,r){return ue.apply(this,arguments)}function ue(){return ue=a(h.mark((function n(e,r,t){var u,o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=t.httpRequest||$n,n.next=3,u({hostname:t.node,path:"/v1/scripts?block_height=".concat(e.block.height),method:"POST",body:{script:r.Buffer.from(e.message.cadence).toString("base64"),arguments:e.message.arguments.map((function(n){return r.Buffer.from(JSON.stringify(e.arguments[n].asArgument)).toString("base64")}))}});case 3:return o=n.sent,n.abrupt("return",ce(e,r,o));case 5:case"end":return n.stop()}}),n)}))),ue.apply(this,arguments)}function oe(n,e,r){return ie.apply(this,arguments)}function ie(){return ie=a(h.mark((function n(e,r,t){var u,o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=t.httpRequest||$n,n.next=3,u({hostname:t.node,path:"/v1/scripts?block_height=sealed",method:"POST",body:{script:r.Buffer.from(e.message.cadence).toString("base64"),arguments:e.message.arguments.map((function(n){return r.Buffer.from(JSON.stringify(e.arguments[n].asArgument)).toString("base64")}))}});case 3:return o=n.sent,n.abrupt("return",ce(e,r,o));case 5:case"end":return n.stop()}}),n)}))),ie.apply(this,arguments)}function ce(n,e,r){var t=e.response();return t.tag=n.tag,t.encodedData=JSON.parse(e.Buffer.from(r,"base64").toString()),t}function ae(n){return se.apply(this,arguments)}function se(){return se=a(h.mark((function n(e){var r,t,u=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},pn((t=u.length>2&&void 0!==u[2]?u[2]:{}).node,"SDK Send Execute Script Error: opts.node must be defined."),pn(r.response,"SDK Send Execute Script Error: context.response must be defined."),pn(r.Buffer,"SDK Send Execute Script Error: context.Buffer must be defined."),n.next=7,e;case 7:if(!(e=n.sent).block.id){n.next=14;break}return n.next=11,ee(e,r,t);case 11:case 17:case 22:return n.abrupt("return",n.sent);case 14:if(!e.block.height){n.next=20;break}return n.next=17,te(e,r,t);case 20:return n.next=22,oe(e,r,t);case 23:case"end":return n.stop()}}),n)}))),se.apply(this,arguments)}var fe={SHA2_256:1,SHA2_384:2,SHA3_256:3,SHA3_384:4,KMAC128_BLS_BLS12_381:5},le={ECDSA_P256:1,ECDSA_secp256k1:2,BLS_BLS12_381:3};function de(n,e,r){return ve.apply(this,arguments)}function ve(){return(ve=a(h.mark((function n(e,r,t){var u,o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=t.httpRequest||$n,n.next=3,u({hostname:t.node,path:"/v1/accounts/".concat(e.account.addr,"?block_height=").concat(e.block.height,"&expand=contracts,keys"),method:"GET",body:null});case 3:return o=n.sent,n.abrupt("return",be(e,r,o));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function he(n,e,r){return pe.apply(this,arguments)}function pe(){return(pe=a(h.mark((function n(e,r,t){var u,o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=t.httpRequest||$n,n.next=3,u({hostname:t.node,path:"/v1/accounts/".concat(e.account.addr,"?block_height=sealed&expand=contracts,keys"),method:"GET",body:null});case 3:return o=n.sent,n.abrupt("return",be(e,r,o));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function be(n,e,r){var t,u,o=e.response();o.tag=n.tag;return o.account={address:r.address,balance:Number(r.balance),code:"",contracts:function(n){var r={};if(!n)return r;for(var t=0,u=Object.keys(n);t<u.length;t++){var o=u[t];r[o]=e.Buffer.from(n[o],"base64").toString()}return r}(r.contracts),keys:null!==(t=null===(u=r.keys)||void 0===u?void 0:u.map((function(n){return{index:Number(n.index),publicKey:n.public_key.replace(/^0x/,""),signAlgo:le[n.signing_algorithm],signAlgoString:n.signing_algorithm,hashAlgo:fe[n.hashing_algorithm],hashAlgoString:n.hashing_algorithm,sequenceNumber:Number(n.sequence_number),weight:Number(n.weight),revoked:n.revoked}})))&&void 0!==t?t:[]},o}function me(n){return ye.apply(this,arguments)}function ye(){return ye=a(h.mark((function n(e){var r,t,u=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},pn((t=u.length>2&&void 0!==u[2]?u[2]:{}).node,"SDK Send Get Account Error: opts.node must be defined."),pn(r.response,"SDK Send Get Account Error: context.response must be defined."),pn(r.Buffer,"SDK Send Get Account Error: context.Buffer must be defined."),n.next=7,e;case 7:if(null===(e=n.sent).block.height){n.next=14;break}return n.next=11,de(e,r,t);case 11:case 16:return n.abrupt("return",n.sent);case 14:return n.next=16,he(e,r,t);case 17:case"end":return n.stop()}}),n)}))),ye.apply(this,arguments)}function ge(n,e,r){return we.apply(this,arguments)}function we(){return(we=a(h.mark((function n(e,r,t){var u,o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=t.httpRequest||$n,n.next=3,u({hostname:t.node,path:"/v1/blocks/".concat(e.block.id),method:"GET",body:null});case 3:return o=n.sent,n.abrupt("return",Ae(e,r,o));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Ee(n,e,r){return ke.apply(this,arguments)}function ke(){return(ke=a(h.mark((function n(e,r,t){var u,o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=t.httpRequest||$n,n.next=3,u({hostname:t.node,path:"/v1/blocks?height=".concat(e.block.height),method:"GET",body:null});case 3:return o=n.sent,n.abrupt("return",Ae(e,r,o));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Ie(n,e,r){return Se.apply(this,arguments)}function Se(){return(Se=a(h.mark((function n(e,r,t){var u,o,i,c;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.httpRequest||$n,i=null!==(u=e.block)&&void 0!==u&&u.isSealed?"sealed":"finalized",n.next=4,o({hostname:t.node,path:"/v1/blocks?height=".concat(i),method:"GET",body:null});case 4:return c=n.sent,n.abrupt("return",Ae(e,r,c));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Ae(n,e,r){var t=r.length?r[0]:null,u=e.response();return u.tag=n.tag,u.blockHeader={id:t.header.id,parentId:t.header.parent_id,height:Number(t.header.height),timestamp:t.header.timestamp},u}function Te(n){return Re.apply(this,arguments)}function Re(){return Re=a(h.mark((function n(e){var r,t,u,o,i=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},pn((t=i.length>2&&void 0!==i[2]?i[2]:{}).node,"SDK Send Get Block Header Error: opts.node must be defined."),pn(r.response,"SDK Send Get Block Header Error: context.response must be defined."),n.next=6,e;case 6:if(e=n.sent,u=null!==e.block.id,o=null!==e.block.height,!u){n.next=15;break}return n.next=12,ge(e,r,t);case 12:case 18:case 23:return n.abrupt("return",n.sent);case 15:if(!o){n.next=21;break}return n.next=18,Ee(e,r,t);case 21:return n.next=23,Ie(e,r,t);case 24:case"end":return n.stop()}}),n)}))),Re.apply(this,arguments)}function Oe(n,e,r){return Ne.apply(this,arguments)}function Ne(){return(Ne=a(h.mark((function n(e,r,t){var u,o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=t.httpRequest||$n,n.next=3,u({hostname:t.node,path:"/v1/blocks/".concat(e.block.id,"?expand=payload"),method:"GET",body:null});case 3:return o=n.sent,n.abrupt("return",De(e,r,o));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function xe(n,e,r){return Ce.apply(this,arguments)}function Ce(){return(Ce=a(h.mark((function n(e,r,t){var u,o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=t.httpRequest||$n,n.next=3,u({hostname:t.node,path:"/v1/blocks?height=".concat(e.block.height,"&expand=payload"),method:"GET",body:null});case 3:return o=n.sent,n.abrupt("return",De(e,r,o));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Pe(n,e,r){return je.apply(this,arguments)}function je(){return(je=a(h.mark((function n(e,r,t){var u,o,i,c;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.httpRequest||$n,i=null!==(u=e.block)&&void 0!==u&&u.isSealed?"sealed":"final",n.next=4,o({hostname:t.node,path:"/v1/blocks?height=".concat(i,"&expand=payload"),method:"GET",body:null});case 4:return c=n.sent,n.abrupt("return",De(e,r,c));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function De(n,e,r){var t=r.length?r[0]:null,u=e.response();return u.tag=n.tag,u.block={id:t.header.id,parentId:t.header.parent_id,height:Number(t.header.height),timestamp:t.header.timestamp,collectionGuarantees:t.payload.collection_guarantees.map((function(n){return{collectionId:n.collection_id,signerIds:n.signer_ids}})),blockSeals:t.payload.block_seals.map((function(n){return{blockId:n.block_id,executionReceiptId:n.result_id}}))},u}function Ue(n){return _e.apply(this,arguments)}function _e(){return _e=a(h.mark((function n(e){var r,t,u,o,i=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},pn((t=i.length>2&&void 0!==i[2]?i[2]:{}).node,"SDK Send Get Block Error: opts.node must be defined."),pn(r.response,"SDK Send Get Block Error: context.response must be defined."),n.next=6,e;case 6:if(e=n.sent,u=null!==e.block.id,o=null!==e.block.height,!u){n.next=15;break}return n.next=12,Oe(e,r,t);case 12:case 18:case 23:return n.abrupt("return",n.sent);case 15:if(!o){n.next=21;break}return n.next=18,xe(e,r,t);case 21:return n.next=23,Pe(e,r,t);case 24:case"end":return n.stop()}}),n)}))),_e.apply(this,arguments)}function Fe(n){return Me.apply(this,arguments)}function Me(){return Me=a(h.mark((function n(e){var r,t,u,o,i,c=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},pn((t=c.length>2&&void 0!==c[2]?c[2]:{}).node,"SDK Send Get Collection Error: opts.node must be defined."),pn(r.response,"SDK Send Get Collection Error: context.response must be defined."),u=t.httpRequest||$n,n.next=7,u({hostname:t.node,path:"/v1/collections/".concat(e.collection.id,"?expand=transactions"),method:"GET",body:null});case 7:return o=n.sent,(i=r.response()).tag=e.tag,i.collection={id:o.id,transactionIds:o.transactions.map((function(n){return n.id}))},n.abrupt("return",i);case 12:case"end":return n.stop()}}),n)}))),Me.apply(this,arguments)}function Be(n,e,r){return Le.apply(this,arguments)}function Le(){return(Le=a(h.mark((function n(e,r,t){var u,o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=t.httpRequest||$n,n.next=3,u({hostname:t.node,path:"/v1/events?type=".concat(e.events.eventType,"&start_height=").concat(e.events.start,"&end_height=").concat(e.events.end),method:"GET",body:null});case 3:return o=n.sent,n.abrupt("return",We(e,r,o));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Ge(n,e,r){return ze.apply(this,arguments)}function ze(){return(ze=a(h.mark((function n(e,r,t){var u,o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=t.httpRequest||$n,n.next=3,u({hostname:t.node,path:"/v1/events?type=".concat(e.events.eventType,"&block_ids=").concat(e.events.blockIds.join(",")),method:"GET",body:null});case 3:return o=n.sent,n.abrupt("return",We(e,r,o));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function We(n,e,r){var t=e.response();return t.tag=n.tag,t.events=[],r.forEach((function(n){return n.events?n.events.forEach((function(r){return t.events.push({blockId:n.block_id,blockHeight:Number(n.block_height),blockTimestamp:n.block_timestamp,type:r.type,transactionId:r.transaction_id,transactionIndex:Number(r.transaction_index),eventIndex:Number(r.event_index),payload:JSON.parse(e.Buffer.from(r.payload,"base64").toString())})})):null})),t}function Ke(n){return Ve.apply(this,arguments)}function Ve(){return Ve=a(h.mark((function n(e){var r,t,u,o,i=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},pn((t=i.length>2&&void 0!==i[2]?i[2]:{}).node,"SDK Send Get Events Error: opts.node must be defined."),pn(r.response,"SDK Send Get Events Error: context.response must be defined."),pn(r.Buffer,"SDK Send Get Events Error: context.Buffer must be defined."),n.next=7,e;case 7:if(e=n.sent,u=null!==e.events.start,o=Array.isArray(e.events.blockIds)&&e.events.blockIds.length>0,pn(u||o,"SendGetEventsError: Unable to determine which get events request to send. Either a block height range, or block IDs must be specified."),!u){n.next=17;break}return n.next=14,Be(e,r,t);case 14:case 19:return n.abrupt("return",n.sent);case 17:return n.next=19,Ge(e,r,t);case 20:case"end":return n.stop()}}),n)}))),Ve.apply(this,arguments)}function He(n){return qe.apply(this,arguments)}function qe(){return qe=a(h.mark((function n(e){var r,t,u,o,i,c,a,s,f=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:{},pn((t=f.length>2&&void 0!==f[2]?f[2]:{}).node,"SDK Send Get Transaction Error: opts.node must be defined."),pn(r.response,"SDK Send Get Transaction Error: context.response must be defined."),pn(r.Buffer,"SDK Send Get Transaction Error: context.Buffer must be defined."),u=t.httpRequest||$n,n.next=8,e;case 8:return e=n.sent,n.next=11,u({hostname:t.node,path:"/v1/transactions/".concat(e.transaction.id),method:"GET",body:null});case 11:return o=n.sent,i=function(n){return{address:n.address,keyId:Number(n.key_id),sequenceNumber:Number(n.sequence_number)}},c=function(n){return{address:n.address,keyId:Number(n.key_index),signature:n.signature}},a=function(n){return JSON.parse(r.Buffer.from(n,"base64").toString())},(s=r.response()).tag=e.tag,s.transaction={script:r.Buffer.from(o.script,"base64").toString(),args:bn(o.arguments.map(a)),referenceBlockId:o.reference_block_id,gasLimit:Number(o.gas_limit),payer:o.payer,proposalKey:o.proposal_key?i(o.proposal_key):o.proposal_key,authorizers:o.authorizers,payloadSignatures:bn(o.payload_signatures.map(c)),envelopeSignatures:bn(o.envelope_signatures.map(c))},n.abrupt("return",s);case 19:case"end":return n.stop()}}),n)}))),qe.apply(this,arguments)}var Je={UNKNOWN:0,PENDING:1,FINALIZED:2,EXECUTED:3,SEALED:4,EXPIRED:5};function Ye(n){return Xe.apply(this,arguments)}function Xe(){return Xe=a(h.mark((function n(e){var r,t,u,o,i,c=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},pn((t=c.length>2&&void 0!==c[2]?c[2]:{}).node,"SDK Send Get Transaction Status Error: opts.node must be defined."),pn(r.response,"SDK Send Get Transaction Status Error: context.response must be defined."),pn(r.Buffer,"SDK Send Get Transaction Status Error: context.Buffer must be defined."),u=t.httpRequest||$n,n.next=8,e;case 8:return e=n.sent,n.next=11,u({hostname:t.node,path:"/v1/transaction_results/".concat(e.transaction.id),method:"GET",body:null});case 11:return o=n.sent,(i=r.response()).tag=e.tag,i.transactionStatus={blockId:o.block_id,status:Je[o.status.toUpperCase()]||"",statusString:o.status.toUpperCase(),statusCode:o.status_code,errorMessage:o.error_message,events:o.events.map((function(n){return{type:n.type,transactionId:n.transaction_id,transactionIndex:Number(n.transaction_index),eventIndex:Number(n.event_index),payload:JSON.parse(r.Buffer.from(n.payload,"base64").toString())}}))},n.abrupt("return",i);case 16:case"end":return n.stop()}}),n)}))),Xe.apply(this,arguments)}function Ze(n){return $e.apply(this,arguments)}function $e(){return $e=a(h.mark((function n(e){var r,t,u,o,i=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},pn((t=i.length>2&&void 0!==i[2]?i[2]:{}).node,"SDK Send Ping Error: opts.node must be defined."),pn(r.response,"SDK Send Ping Error: context.response must be defined."),u=t.httpRequest||$n,n.next=7,u({hostname:t.node,path:"/v1/blocks?height=sealed",method:"GET",body:null});case 7:return(o=r.response()).tag=e.tag,n.abrupt("return",o);case 10:case"end":return n.stop()}}),n)}))),$e.apply(this,arguments)}var Qe=function(n){return"".concat(withPrefix(n.addr),"-").concat(n.keyId)};function nr(n){return er.apply(this,arguments)}function er(){return er=a(h.mark((function n(e){var r,t,u,o,i,c,a,s,f,l,d,v,p,b,m,y,g=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=g.length>1&&void 0!==g[1]?g[1]:{},pn((t=g.length>2&&void 0!==g[2]?g[2]:{}).node,"SDK Send Transaction Error: opts.node must be defined."),pn(r.response,"SDK Send Transaction Error: context.response must be defined."),pn(r.Buffer,"SDK Send Transaction Error: context.Buffer must be defined."),u=t.httpRequest||$n,n.next=8,e;case 8:e=n.sent,o=[],i=0,c=Object.values(e.accounts);case 11:if(!(i<c.length)){n.next=24;break}a=c[i],n.prev=13,a.role.payer||null==a.signature||o.push({address:Yn(a.addr),key_index:String(a.keyId),signature:r.Buffer.from(a.signature,"hex").toString("base64")}),n.next=21;break;case 17:throw n.prev=17,n.t0=n.catch(13),console.error("SDK HTTP Send Error: Trouble applying payload signature",{acct:a,ix:e}),n.t0;case 21:i++,n.next=11;break;case 24:s={},f=0,l=Object.values(e.accounts);case 26:if(!(f<l.length)){n.next=39;break}d=l[f],n.prev=28,d.role.payer&&null!=d.signature&&(v=d.tempId||Qe(d),s[v]=s[v]||{address:Yn(d.addr),key_index:String(d.keyId),signature:r.Buffer.from(d.signature,"hex").toString("base64")}),n.next=36;break;case 32:throw n.prev=32,n.t1=n.catch(28),console.error("SDK HTTP Send Error: Trouble applying envelope signature",{acct:d,ix:e}),n.t1;case 36:f++,n.next=26;break;case 39:return s=Object.values(s),p=Date.now(),n.next=43,u({hostname:t.node,path:"/v1/transactions",method:"POST",body:{script:r.Buffer.from(e.message.cadence).toString("base64"),arguments:bn(e.message.arguments.map((function(n){return r.Buffer.from(JSON.stringify(e.arguments[n].asArgument)).toString("base64")}))),reference_block_id:e.message.refBlock?e.message.refBlock:null,gas_limit:String(e.message.computeLimit),payer:Yn(e.accounts[Array.isArray(e.payer)?e.payer[0]:e.payer].addr),proposal_key:{address:Yn(e.accounts[e.proposer].addr),key_index:String(e.accounts[e.proposer].keyId),sequence_number:String(e.accounts[e.proposer].sequenceNum)},authorizers:e.authorizations.map((function(n){return e.accounts[n].addr})).reduce((function(n,e){return n.find((function(n){return n===e}))?n:[].concat(bn(n),[e])}),[]).map(Yn),payload_signatures:o,envelope_signatures:s}});case 43:return b=n.sent,m=Date.now(),(y=r.response()).tag=e.tag,y.transactionId=b.id,"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("FLOW::TX",{detail:{txId:y.transactionId,delta:m-p}})),n.abrupt("return",y);case 50:case"end":return n.stop()}}),n,null,[[13,17],[28,32]])}))),er.apply(this,arguments)}var rr=function(){var n=a(h.mark((function n(e){var r,t,u=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},pn((t=u.length>2&&void 0!==u[2]?u[2]:{}).node,'SDK Send Error: Either opts.node or "accessNode.api" in config must be defined.'),pn(r.ix,"SDK Send Error: context.ix must be defined."),n.next=6,e;case 6:e=n.sent,n.t0=!0,n.next=n.t0===r.ix.isTransaction(e)?10:n.t0===r.ix.isGetTransactionStatus(e)?11:n.t0===r.ix.isGetTransaction(e)?12:n.t0===r.ix.isScript(e)?13:n.t0===r.ix.isGetAccount(e)?14:n.t0===r.ix.isGetEvents(e)?15:n.t0===r.ix.isGetBlock(e)?16:n.t0===r.ix.isGetBlockHeader(e)?17:n.t0===r.ix.isGetCollection(e)?18:n.t0===r.ix.isPing(e)?19:20;break;case 10:return n.abrupt("return",t.sendTransaction?t.sendTransaction(e,r,t):nr(e,r,t));case 11:return n.abrupt("return",t.sendGetTransactionStatus?t.sendGetTransactionStatus(e,r,t):Ye(e,r,t));case 12:return n.abrupt("return",t.sendGetTransaction?t.sendGetTransaction(e,r,t):He(e,r,t));case 13:return n.abrupt("return",t.sendExecuteScript?t.sendExecuteScript(e,r,t):ae(e,r,t));case 14:return n.abrupt("return",t.sendGetAccount?t.sendGetAccount(e,r,t):me(e,r,t));case 15:return n.abrupt("return",t.sendGetEvents?t.sendGetEvents(e,r,t):Ke(e,r,t));case 16:return n.abrupt("return",t.sendGetBlock?t.sendGetBlock(e,r,t):Ue(e,r,t));case 17:return n.abrupt("return",t.sendGetBlockHeader?t.sendGetBlockHeader(e,r,t):Te(e,r,t));case 18:return n.abrupt("return",t.sendGetCollection?t.sendGetCollection(e,r,t):Fe(e,r,t));case 19:return n.abrupt("return",t.sendPing?t.sendPing(e,r,t):Ze(e,r,t));case 20:return n.abrupt("return",e);case 21:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),tr={},ur={},or={},ir={},cr=function(n,e){return function(r,t){var u=2*t,o=2*e;r[u]=n[o],r[u+1]=n[o+1]}};!function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e,r=(e=cr)&&e.__esModule?e:{default:e};var t=function(n){for(var e=n.A,t=n.C,u=0;u<25;u+=5){for(var o=0;o<5;o++)(0,r.default)(e,u+o)(t,o);for(var i=0;i<5;i++){var c=2*(u+i),a=(i+1)%5*2,s=(i+2)%5*2;e[c]^=~t[a]&t[s],e[c+1]^=~t[a+1]&t[s+1]}}};n.default=t}(ir);var ar={},sr={};!function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);n.default=e}(sr),function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e,r=(e=sr)&&e.__esModule?e:{default:e};var t=function(n){var e=n.A,t=2*n.roundIndex;e[0]^=r.default[t],e[1]^=r.default[t+1]};n.default=t}(ar);var fr={},lr={};!function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];n.default=e}(lr);var dr={};!function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44];n.default=e}(dr),function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=u(lr),r=u(dr),t=u(cr);function u(n){return n&&n.__esModule?n:{default:n}}var o=function(n){var u=n.A,o=n.C,i=n.W;(0,t.default)(u,1)(i,0);for(var c=0,a=0,s=0,f=32,l=0;l<24;l++){var d=e.default[l],v=r.default[l];(0,t.default)(u,d)(o,0),c=i[0],a=i[1],f=32-v,i[s=v<32?0:1]=c<<v|a>>>f,i[(s+1)%2]=a<<v|c>>>f,(0,t.default)(i,0)(u,d),(0,t.default)(o,0)(i,0)}};n.default=o}(fr);var vr={};function hr(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!n.length&&!e.length)return r;if(!n.length)return r;if(!e.length)return[].concat(bn(r),[n[0]]);var t=b(n),u=t[0],o=t.slice(1),i=b(e),c=i[0],a=i.slice(1);return void 0!==u&&r.push(u),void 0!==c&&r.push(c),hr(o,a,r)}function pr(n){return function(e){return"function"==typeof e?(gn.deprecate({pkg:"FCL/SDK",subject:"Interopolation of functions into template literals",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params"}),pr(n)(e(n))):String(e)}}function br(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),t=1;t<e;t++)r[t-1]=arguments[t];return"string"==typeof n?function(){return n}:Array.isArray(n)?function(e){return hr(n,r.map(pr(e))).join("").trim()}:n}function mr(n,e){if(null==n)return{};var r,t,u=function(n,e){if(null==n)return{};var r,t,u={},o=Object.keys(n);for(t=0;t<o.length;t++)r=o[t],e.indexOf(r)>=0||(u[r]=n[r]);return u}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(t=0;t<o.length;t++)r=o[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(u[r]=n[r])}return u}!function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e,r=(e=cr)&&e.__esModule?e:{default:e};var t=function(n){for(var e=n.A,t=n.C,u=n.D,o=n.W,i=0,c=0,a=0;a<5;a++){var s=2*a,f=2*(a+5),l=2*(a+10),d=2*(a+15),v=2*(a+20);t[s]=e[s]^e[f]^e[l]^e[d]^e[v],t[s+1]=e[s+1]^e[f+1]^e[l+1]^e[d+1]^e[v+1]}for(var h=0;h<5;h++){(0,r.default)(t,(h+1)%5)(o,0),i=o[0],c=o[1],o[0]=i<<1|c>>>31,o[1]=c<<1|i>>>31,u[2*h]=t[(h+4)%5*2]^o[0],u[2*h+1]=t[(h+4)%5*2+1]^o[1];for(var p=0;p<25;p+=5)e[2*(p+h)]^=u[2*h],e[2*(p+h)+1]^=u[2*h+1]}};n.default=t}(vr),function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=o(ir),r=o(ar),t=o(fr),u=o(vr);function o(n){return n&&n.__esModule?n:{default:n}}var i=function(){var n=new Uint32Array(10),o=new Uint32Array(10),i=new Uint32Array(2);return function(c){for(var a=0;a<24;a++)(0,u.default)({A:c,C:n,D:o,W:i}),(0,t.default)({A:c,C:n,W:i}),(0,e.default)({A:c,C:n}),(0,r.default)({A:c,roundIndex:a});n.fill(0),o.fill(0),i.fill(0)}};n.default=i}(or),function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e,r=xn,t=(e=or)&&e.__esModule?e:{default:e};var u=function(n,e){for(var r=0;r<n.length;r+=8){var t=r/4;e[t]^=n[r+7]<<24|n[r+6]<<16|n[r+5]<<8|n[r+4],e[t+1]^=n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]}return e},o=function(n,e){for(var r=0;r<e.length;r+=8){var t=r/4;e[r]=n[t+1],e[r+1]=n[t+1]>>>8,e[r+2]=n[t+1]>>>16,e[r+3]=n[t+1]>>>24,e[r+4]=n[t],e[r+5]=n[t]>>>8,e[r+6]=n[t]>>>16,e[r+7]=n[t]>>>24}return e},i=function(n){var e=this,i=n.capacity,c=n.padding,a=(0,t.default)(),s=i/8,f=200-i/4,l=0,d=new Uint32Array(50),v=r.Buffer.allocUnsafe(f);return this.absorb=function(n){for(var r=0;r<n.length;r++)v[l]=n[r],(l+=1)>=f&&(u(v,d),a(d),l=0);return e},this.squeeze=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={buffer:n.buffer||r.Buffer.allocUnsafe(s),padding:n.padding||c,queue:r.Buffer.allocUnsafe(v.length),state:new Uint32Array(d.length)};v.copy(e.queue);for(var t=0;t<d.length;t++)e.state[t]=d[t];e.queue.fill(0,l),e.queue[l]|=e.padding,e.queue[f-1]|=128,u(e.queue,e.state);for(var i=0;i<e.buffer.length;i+=f)a(e.state),o(e.state,e.buffer.slice(i,i+f));return e.buffer},this.reset=function(){return v.fill(0),d.fill(0),l=0,e},this};n.default=i}(ur),function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.SHAKE=n.SHA3Hash=n.SHA3=n.Keccak=void 0;var e,r=xn,t=(e=ur)&&e.__esModule?e:{default:e};var u=function(n){var e=n.allowedSizes,u=n.defaultSize,o=n.padding;return function n(){var i=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;if(!this||this.constructor!==n)return new n(c);if(e&&!e.includes(c))throw new Error("Unsupported hash length");var a=new t.default({capacity:c});return this.update=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";if(r.Buffer.isBuffer(n))return a.absorb(n),i;if("string"==typeof n)return i.update(r.Buffer.from(n,e));throw new TypeError("Not a string or buffer")},this.digest=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binary",e="string"==typeof n?{format:n}:n,r=a.squeeze({buffer:e.buffer,padding:e.padding||o});return e.format&&"binary"!==e.format?r.toString(e.format):r},this.reset=function(){return a.reset(),i},this}},o=u({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});n.Keccak=o;var i=u({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});n.SHA3=i;var c=u({allowedSizes:[128,256],defaultSize:256,padding:31});n.SHAKE=c;var a=o;n.SHA3Hash=a,i.SHA3Hash=a;var s=i;n.default=s}(tr);var yr="UNKNOWN",gr="SCRIPT",wr="TRANSACTION",Er="GET_TRANSACTION_STATUS",kr="GET_ACCOUNT",Ir="GET_EVENTS",Sr="PING",Ar="GET_TRANSACTION",Tr="GET_BLOCK",Rr="GET_BLOCK_HEADER",Or="GET_COLLECTION",Nr="BAD",xr="OK",Cr="ACCOUNT",Pr="PARAM",jr="ARGUMENT",Dr="authorizer",Ur="payer",_r="proposer",Fr='{\n  "kind":"'.concat(Cr,'",\n  "tempId":null,\n  "addr":null,\n  "keyId":null,\n  "sequenceNum":null,\n  "signature":null,\n  "signingFunction":null,\n  "resolve":null,\n  "role": {\n    "proposer":false,\n    "authorizer":false,\n    "payer":false,\n    "param":false\n  }\n}'),Mr='{\n  "kind":"'.concat(jr,'",\n  "tempId":null,\n  "value":null,\n  "asArgument":null,\n  "xform":null,\n  "resolve": null,\n  "resolveArgument": null\n}'),Br='{\n  "tag":"'.concat(yr,'",\n  "assigns":{},\n  "status":"').concat(xr,'",\n  "reason":null,\n  "accounts":{},\n  "params":{},\n  "arguments":{},\n  "message": {\n    "cadence":null,\n    "refBlock":null,\n    "computeLimit":null,\n    "proposer":null,\n    "payer":null,\n    "authorizations":[],\n    "params":[],\n    "arguments":[]\n  },\n  "proposer":null,\n  "authorizations":[],\n  "payer":[],\n  "events": {\n    "eventType":null,\n    "start":null,\n    "end":null,\n    "blockIds":[]\n  },\n  "transaction": {\n    "id":null\n  },\n  "block": {\n    "id":null,\n    "height":null,\n    "isSealed":null\n  },\n  "account": {\n    "addr":null\n  },\n  "collection": {\n    "id":null\n  }\n}'),Lr=new Set(Object.keys(JSON.parse(Br))),Gr=function(){return JSON.parse(Br)},zr="abcdefghijklmnopqrstuvwxyz0123456789".split(""),Wr=function(){return zr[~~(Math.random()*zr.length)]},Kr=function(){return Array.from({length:10},Wr).join("")},Vr=function(n){return"number"==typeof n},Hr=function(n){return Array.isArray(n)},qr=function(n){return null!==n&&"object"===s(n)},Jr=function(n){return null==n},Yr=function(n){return"function"==typeof n},Xr=function(n){if(!qr(n)||Jr(n)||Vr(n))return!1;var e,r=w(Lr);try{for(r.s();!(e=r.n()).done;){var t=e.value;if(!n.hasOwnProperty(t))return!1}}catch(n){r.e(n)}finally{r.f()}return!0},Zr=function(n){return n.status=xr,n},$r=function(n,e){return n.status=Nr,n.reason=e,n},Qr=function(n){return function(e){return e.tag=n,Zr(e)}},nt=function(n){return null==n.keyId?n:(pn(!isNaN(parseInt(n.keyId)),"account.keyId must be an integer"),g(g({},n),{},{keyId:parseInt(n.keyId)}))},et=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){pn("function"==typeof n||"object"===s(n),"prepAccount must be passed an authorization function or an account object"),pn(null!=e.role,"Account must have a role");var t=JSON.parse(Fr),u=e.role,o=Kr();n.authorization&&Yr(n.authorization)&&(n={resolve:n.authorization}),!n.authorization&&Yr(n)&&(n={resolve:n});var i=n.resolve;return i&&(n.resolve=function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),t=1;t<e;t++)r[t-1]=arguments[t];return[i,nt].reduce(function(){var n=a(h.mark((function n(e,t){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=t,n.t1=void 0,n.next=4,e;case 4:return n.t2=n.sent,n.t3=[n.t2].concat(r),n.abrupt("return",n.t0.apply.call(n.t0,n.t1,n.t3));case 7:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}(),n)}),n=nt(n),r.accounts[o]=g(g(g({},t),{},{tempId:o},n),{},{role:g(g(g({},t.role),"object"===s(n.role)?n.role:{}),{},m({},u,!0))}),u===Dr?r.authorizations.push(o):u===Ur?r.payer.push(o):r[u]=o,r}},rt=function(n){return function(e){var r=Kr();return e.message.arguments.push(r),e.arguments[r]=JSON.parse(Mr),e.arguments[r].tempId=r,e.arguments[r].value=n.value,e.arguments[r].asArgument=n.asArgument,e.arguments[r].xform=n.xform,e.arguments[r].resolve=n.resolve,e.arguments[r].resolveArgument=Yr(n.resolveArgument)?n.resolveArgument.bind(n):n.resolveArgument,Zr(e)}},tt=Qr(yr),ut=Qr(gr),ot=Qr(wr),it=Qr(Er),ct=Qr(Ar),at=Qr(kr),st=Qr(Ir),ft=Qr(Sr),lt=Qr(Tr),dt=Qr(Rr),vt=Qr(Or),ht=function(n){return function(e){return e.tag===n}},pt=ht(yr),bt=ht(gr),mt=ht(wr),yt=ht(Er),gt=ht(Ar),wt=ht(kr),Et=ht(Ir),kt=ht(Sr),It=ht(Tr),St=ht(Rr),At=ht(Or),Tt=function(n){return n.status===xr},Rt=function(n){return n.status===Nr},Ot=function(n){return n.reason},Nt=function(n){for(var e=0,r=Object.keys(n);e<r.length;e++){var t=r[e];if(!Lr.has(t))throw new Error('"'.concat(t,'" is an invalid root level Interaction property.'))}return n},xt=function(){var n=a(h.mark((function n(e){var r,t,u,o,i,c=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:[],n.prev=1,n.t0=Nt,n.next=5,e;case 5:if(n.t1=n.sent,e=(0,n.t0)(n.t1),!Rt(e)){n.next=9;break}throw new Error("Interaction Error: ".concat(e.reason));case 9:if(r.length){n.next=11;break}return n.abrupt("return",e);case 11:return t=b(r),u=t[0],o=t.slice(1),n.next=14,u;case 14:if(i=n.sent,!Yr(i)){n.next=17;break}return n.abrupt("return",xt(i(e),o));case 17:if(!Jr(i)&&i){n.next=19;break}return n.abrupt("return",xt(e,o));case 19:if(!Xr(i)){n.next=21;break}return n.abrupt("return",xt(i,o));case 21:throw new Error("Invalid Interaction Composition");case 24:throw n.prev=24,n.t2=n.catch(1),n.t2;case 27:case"end":return n.stop()}}),n,null,[[1,24]])})));return function(e){return n.apply(this,arguments)}}(),Ct=function n(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var u=r[0],o=r[1];return Hr(u)&&null==o?function(e){return n(e,u)}:xt(u,o)},Pt=function(n){return n},jt=function(n,e,r){return null==n.assigns[e]?r:n.assigns[e]},Dt=function(n,e){return function(r){return r.assigns[n]=e,Zr(r)}},Ut=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pt;return function(r){return r.assigns[n]=e(r.assigns[n],r),Zr(r)}},_t=Object.freeze({__proto__:null,UNKNOWN:yr,SCRIPT:gr,TRANSACTION:wr,GET_TRANSACTION_STATUS:Er,GET_ACCOUNT:kr,GET_EVENTS:Ir,PING:Sr,GET_TRANSACTION:Ar,GET_BLOCK:Tr,GET_BLOCK_HEADER:Rr,GET_COLLECTION:Or,BAD:Nr,OK:xr,ACCOUNT:Cr,PARAM:Pr,ARGUMENT:jr,AUTHORIZER:Dr,PAYER:Ur,PROPOSER:_r,interaction:Gr,uuid:Kr,isNumber:Vr,isArray:Hr,isObj:qr,isNull:Jr,isFn:Yr,isInteraction:Xr,Ok:Zr,Bad:$r,prepAccount:et,makeArgument:rt,makeUnknown:tt,makeScript:ut,makeTransaction:ot,makeGetTransactionStatus:it,makeGetTransaction:ct,makeGetAccount:at,makeGetEvents:st,makePing:ft,makeGetBlock:lt,makeGetBlockHeader:dt,makeGetCollection:vt,isUnknown:pt,isScript:bt,isTransaction:mt,isGetTransactionStatus:yt,isGetTransaction:gt,isGetAccount:wt,isGetEvents:Et,isPing:kt,isGetBlock:It,isGetBlockHeader:St,isGetCollection:At,isOk:Tt,isBad:Rt,why:Ot,isAccount:function(n){return n.kind===Cr},isParam:function(n){return n.kind===Pr},isArgument:function(n){return n.kind===jr},pipe:Ct,get:jt,put:Dt,update:Ut,destroy:function(n){return function(e){return delete e.assigns[n],Zr(e)}}});function Ft(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Ct(Gr(),n)}var Mt=function(){return JSON.parse('{\n    "tag":null,\n    "transaction":null,\n    "transactionStatus":null,\n    "transactionId":null,\n    "encodedData":null,\n    "events":null,\n    "account":null,\n    "block":null,\n    "blockHeader":null,\n    "latestBlock":null,\n    "collection":null\n}')};function Bt(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Ct([lt,function(e){return e.block.isSealed=n,Zr(e)}])}function Lt(n){return Ct([at,function(e){return e.account.addr=Yn(n),Zr(e)}])}var Gt=function(){gn.deprecate({pkg:"@onflow/decode",subject:"Operating upon data of the latestBlock field of the response object",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field"})},zt=function(){var n=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Wt=function(){var n=a(h.mark((function n(){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null);case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Kt=function(){var n=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e.staticType);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Vt=function(){var n=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{domain:e.domain,identifier:e.identifier});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Ht=function(){var n=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{path:e.path,address:e.address,borrowType:e.borrowType});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),qt=function(){var n=a(h.mark((function n(e,r,t){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=6;break}return n.next=3,nu(e,r,t);case 3:n.t0=n.sent,n.next=7;break;case 6:n.t0=null;case 7:return n.abrupt("return",n.t0);case 8:case"end":return n.stop()}}),n)})));return function(e,r,t){return n.apply(this,arguments)}}(),Jt=function(){var n=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{address:e.address,type:e.type});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Yt=function(){var n=a(h.mark((function n(e,r,t){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(e.map((function(n){return new Promise(function(){var e=a(h.mark((function e(u){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,nu(n,r,[].concat(bn(t),[n.type]));case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())})));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,r,t){return n.apply(this,arguments)}}(),Xt=function(){var n=a(h.mark((function n(e,r,t){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.reduce(function(){var n=a(h.mark((function n(e,u){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e;case 2:return e=n.sent,n.next=5,nu(u.key,r,[].concat(bn(t),[u.key]));case 5:return n.t0=n.sent,n.next=8,nu(u.value,r,[].concat(bn(t),[u.key]));case 8:return e[n.t0]=n.sent,n.abrupt("return",e);case 10:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}(),Promise.resolve({}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,r,t){return n.apply(this,arguments)}}(),Zt=function(){var n=a(h.mark((function n(e,r,t){var u,o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.fields.reduce(function(){var n=a(h.mark((function n(e,u){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e;case 2:return e=n.sent,n.next=5,nu(u.value,r,[].concat(bn(t),[u.name]));case 5:return e[u.name]=n.sent,n.abrupt("return",e);case 7:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}(),Promise.resolve({}));case 2:if(u=n.sent,!(o=e.id&&Qt(r,e.id))){n.next=10;break}return n.next=7,o(u);case 7:n.t0=n.sent,n.next=11;break;case 10:n.t0=u;case 11:return n.abrupt("return",n.t0);case 12:case"end":return n.stop()}}),n)})));return function(e,r,t){return n.apply(this,arguments)}}(),$t={UInt:zt,Int:zt,UInt8:zt,Int8:zt,UInt16:zt,Int16:zt,UInt32:zt,Int32:zt,UInt64:zt,Int64:zt,UInt128:zt,Int128:zt,UInt256:zt,Int256:zt,Word8:zt,Word16:zt,Word32:zt,Word64:zt,UFix64:zt,Fix64:zt,String:zt,Character:zt,Bool:zt,Address:zt,Void:Wt,Optional:qt,Reference:Jt,Array:Yt,Dictionary:Xt,Event:Zt,Resource:Zt,Struct:Zt,Enum:Zt,Type:Kt,Path:Vt,Capability:Ht},Qt=function(n,e){var r=Object.keys(n).find((function(n){return/^\/.*\/$/.test(n)?new RegExp(n.substring(1,n.length-1)).test(e):n===e}));return e&&r&&n[r]},nu=function(){var n=a(h.mark((function n(e,r,t){var u;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u=Qt(r,e.type)){n.next=3;break}throw new Error("Undefined Decoder Error: ".concat(e.type,"@").concat(t.join(".")));case 3:return n.next=5,u(e.value,r,t);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})));return function(e,r,t){return n.apply(this,arguments)}}(),eu=function(){var n=a(h.mark((function n(e){var r,t,u,o,i=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},t=i.length>2&&void 0!==i[2]?i[2]:[],u=Object.keys($t).filter((function(n){return!Object.keys(r).find((function(e){return new RegExp(e).test(n)}))})).reduce((function(n,e){return n[e]=$t[e],n}),r),o=g(g({},u),r),n.abrupt("return",nu(e,o,t));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),ru=function(){var n=a(h.mark((function n(e){var r,t=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.length>1&&void 0!==t[1]?t[1]:{},!e.encodedData){n.next=5;break}return n.abrupt("return",eu(e.encodedData,r));case 5:if(!e.transactionStatus){n.next=16;break}return n.t0=g,n.t1=g({},e.transactionStatus),n.t2={},n.next=11,Promise.all(e.transactionStatus.events.map(function(){var n=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=e.type,n.t1=e.transactionId,n.t2=e.transactionIndex,n.t3=e.eventIndex,n.next=6,eu(e.payload,r);case 6:return n.t4=n.sent,n.abrupt("return",{type:n.t0,transactionId:n.t1,transactionIndex:n.t2,eventIndex:n.t3,data:n.t4});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 11:return n.t3=n.sent,n.t4={events:n.t3},n.abrupt("return",(0,n.t0)(n.t1,n.t2,n.t4));case 16:if(!e.transaction){n.next=20;break}return n.abrupt("return",e.transaction);case 20:if(!e.events){n.next=26;break}return n.next=23,Promise.all(e.events.map(function(){var n=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=e.blockId,n.t1=e.blockHeight,n.t2=e.blockTimestamp,n.t3=e.type,n.t4=e.transactionId,n.t5=e.transactionIndex,n.t6=e.eventIndex,n.next=9,eu(e.payload,r);case 9:return n.t7=n.sent,n.abrupt("return",{blockId:n.t0,blockHeight:n.t1,blockTimestamp:n.t2,type:n.t3,transactionId:n.t4,transactionIndex:n.t5,eventIndex:n.t6,data:n.t7});case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 23:return n.abrupt("return",n.sent);case 26:if(!e.account){n.next=30;break}return n.abrupt("return",e.account);case 30:if(!e.block){n.next=34;break}return n.abrupt("return",e.block);case 34:if(!e.blockHeader){n.next=38;break}return n.abrupt("return",e.blockHeader);case 38:if(!e.latestBlock){n.next=43;break}return Gt(),n.abrupt("return",e.latestBlock);case 43:if(!e.transactionId){n.next=47;break}return n.abrupt("return",e.transactionId);case 47:if(!e.collection){n.next=49;break}return n.abrupt("return",e.collection);case 49:return n.abrupt("return",null);case 50:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),tu=function(n){return"function"==typeof n},uu=function(n){return"string"==typeof n};function ou(){return(ou=a(h.mark((function n(e){var r;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!mt(e)&&!bt(e)){n.next=11;break}if(r=jt(e,"ix.cadence"),pn(tu(r)||uu(r),"Cadence needs to be a function or a string."),!tu(r)){n.next=7;break}return n.next=6,r({});case 6:r=n.sent;case 7:return pn(uu(r),"Cadence needs to be a string at this point."),n.next=10,on().where(/^0x/).then((function(n){return Object.entries(n).reduce((function(n,e){var r=i(e,2),t=r[0],u=r[1],o=new RegExp("(\\b"+t+"\\b)","g");return n.replace(o,u)}),r)}));case 10:e.message.cadence=n.sent;case 11:return n.abrupt("return",e);case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var iu=function(n){return"function"==typeof n};function cu(n){return pn(null!=s(n.xform),"No type specified for argument: ".concat(n.value)),iu(n.xform)?n.xform(n.value):iu(n.xform.asArgument)?n.xform.asArgument(n.value):void pn(!1,"Invalid Argument",n)}function au(n){return su.apply(this,arguments)}function su(){return su=a(h.mark((function n(e){var r,t,u=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(pn((r=u.length>1&&void 0!==u[1]?u[1]:3)>0,"Argument Resolve Recursion Limit Exceeded for Arg: ".concat(e.tempId)),!iu(e.resolveArgument)){n.next=9;break}return n.next=5,e.resolveArgument();case 5:return t=n.sent,n.abrupt("return",au(t,r-1));case 9:return n.abrupt("return",e);case 10:case"end":return n.stop()}}),n)}))),su.apply(this,arguments)}function fu(){return fu=a(h.mark((function n(e){var r,t,u,o,c,a;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!mt(e)&&!bt(e)){n.next=11;break}r=0,t=Object.entries(e.arguments);case 2:if(!(r<t.length)){n.next=11;break}return u=i(t[r],2),o=u[0],c=u[1],n.next=6,au(c);case 6:a=n.sent,e.arguments[o].asArgument=cu(a);case 8:r++,n.next=2;break;case 11:return n.abrupt("return",e);case 12:case"end":return n.stop()}}),n)}))),fu.apply(this,arguments)}var lu,du,vu=function(n){return mu(Iu(Au(n)))},hu=function(n){return mu(Iu(Tu(n)))},pu=function(n,e){return xn.Buffer.from(n.padStart(2*e,0),"hex")},bu=(lu=xn.Buffer.from("FLOW-V0.0-transaction").toString("hex"),du=32,xn.Buffer.from(lu.padEnd(2*du,0),"hex")).toString("hex"),mu=function(n){return bu+n},yu=function(n){return pu(n,8)},gu=function(n){return pu(n,32)},wu=function(n){return xn.Buffer.from(JSON.stringify(n),"utf8")},Eu=function(n){return xn.Buffer.from(n,"utf8")},ku=function(n){return xn.Buffer.from(n,"hex")},Iu=function(n){return Gn(n).toString("hex")},Su=function(n){var e=new tr.SHA3(256);return e.update(xn.Buffer.from(n,"hex")),e.digest().toString("hex")},Au=function(n){return xu(n),[Eu(n.cadence),n.arguments.map(wu),gu(n.refBlock),n.computeLimit,yu(Yn(n.proposalKey.address)),n.proposalKey.keyId,n.proposalKey.sequenceNum,yu(Yn(n.payer)),n.authorizers.map((function(n){return yu(Yn(n))}))]},Tu=function(n){return Cu(n),[Au(n),Ru(n)]},Ru=function(n){var e=Ou(n);return n.payloadSigs.map((function(n){return{signerIndex:e.get(n.address),keyId:n.keyId,sig:n.sig}})).sort((function(n,e){return n.signerIndex>e.signerIndex?1:n.signerIndex<e.signerIndex?-1:n.keyId>e.keyId?1:n.keyId<e.keyId?-1:void 0})).map((function(n){return[n.signerIndex,n.keyId,ku(n.sig)]}))},Ou=function(n){var e=new Map,r=0,t=function(n){e.has(n)||(e.set(n,r),r++)};return t(n.proposalKey.address),t(n.payer),n.authorizers.forEach(t),e},Nu=function(n){Pu(n);var e=Ou(n),r=function(n){return n.map((function(n){var r=n.address,t=n.keyId,u=n.sig;return{signerIndex:e.get(r),keyId:t,sig:u}})).sort((function(n,e){return n.signerIndex>e.signerIndex?1:n.signerIndex<e.signerIndex?-1:n.keyId>e.keyId?1:n.keyId<e.keyId?-1:void 0})).map((function(n){return[n.signerIndex,n.keyId,ku(n.sig)]}))};return[[Eu(n.cadence),n.arguments.map(wu),gu(n.refBlock),n.computeLimit,yu(Yn(n.proposalKey.address)),n.proposalKey.keyId,n.proposalKey.sequenceNum,yu(Yn(n.payer)),n.authorizers.map((function(n){return yu(Yn(n))}))],r(n.payloadSigs),r(n.envelopeSigs)]},xu=function(n){Fu.forEach((function(e){return Wu(n,e)})),Mu.forEach((function(e){return Wu(n.proposalKey,e,"proposalKey")}))},Cu=function(n){Bu.forEach((function(e){return Wu(n,e)})),n.payloadSigs.forEach((function(n,e){Lu.forEach((function(r){return Wu(n,r,"payloadSigs",e)}))}))},Pu=function(n){Fu.forEach((function(e){return Wu(n,e)})),Mu.forEach((function(e){return Wu(n.proposalKey,e,"proposalKey")})),Bu.forEach((function(e){return Wu(n,e)})),n.payloadSigs.forEach((function(n,e){Lu.forEach((function(r){return Wu(n,r,"payloadSigs",e)}))})),Gu.forEach((function(e){return Wu(n,e)})),n.envelopeSigs.forEach((function(n,e){zu.forEach((function(r){return Wu(n,r,"envelopeSigs",e)}))}))},ju=function(n){return"number"==typeof n},Du=function(n){return"string"==typeof n},Uu=function(n){return null!==n&&"object"===s(n)},_u=function(n){return Uu(n)&&n instanceof Array},Fu=[{name:"cadence",check:Du},{name:"arguments",check:_u},{name:"refBlock",check:Du,defaultVal:"0"},{name:"computeLimit",check:ju},{name:"proposalKey",check:Uu},{name:"payer",check:Du},{name:"authorizers",check:_u}],Mu=[{name:"address",check:Du},{name:"keyId",check:ju},{name:"sequenceNum",check:ju}],Bu=[{name:"payloadSigs",check:_u}],Lu=[{name:"address",check:Du},{name:"keyId",check:ju},{name:"sig",check:Du}],Gu=[{name:"envelopeSigs",check:_u}],zu=[{name:"address",check:Du},{name:"keyId",check:ju},{name:"sig",check:Du}],Wu=function(n,e,r,t){var u=e.name,o=e.check,i=e.defaultVal;if(null==n[u]&&null!=i&&(n[u]=i),null==n[u])throw Vu(u,r,t);if(!o(n[u]))throw Hu(u,r,t)},Ku=function(n,e,r){return e?null==r?"".concat(e,".").concat(n):"".concat(e,".").concat(r,".").concat(n):n},Vu=function(n,e,r){return new Error("Missing field ".concat(Ku(n,e,r)))},Hu=function(n,e,r){return new Error("Invalid field ".concat(Ku(n,e,r)))};function qu(n){var e=new Set(n.authorizations);return e.add(n.proposer),Array.isArray(n.payer)?n.payer.forEach((function(n){return e.delete(n)})):e.delete(n.payer),Array.from(e)}function Ju(n){var e=new Set(Array.isArray(n.payer)?n.payer:[n.payer]);return Array.from(e)}var Yu=function(n){return{cadence:n.message.cadence,refBlock:n.message.refBlock||null,computeLimit:n.message.computeLimit,arguments:n.message.arguments.map((function(e){return n.arguments[e].asArgument})),proposalKey:{address:Xn(n.accounts[n.proposer].addr),keyId:n.accounts[n.proposer].keyId,sequenceNum:n.accounts[n.proposer].sequenceNum},payer:Xn(n.accounts[Array.isArray(n.payer)?n.payer[0]:n.payer].addr),authorizers:function(){var e=n.authorizations.map((function(e){return Xn(n.accounts[e].addr)})).reduce((function(n,e){return n.find((function(n){return n===e}))?n:[].concat(bn(n),[e])}),[]);return e[0]?e:[]}(),payloadSigs:qu(n).map((function(e){return{address:Xn(n.accounts[e].addr),keyId:n.accounts[e].keyId,sig:n.accounts[e].signature}})),envelopeSigs:Ju(n).map((function(e){return{address:Xn(n.accounts[e].addr),keyId:n.accounts[e].keyId,sig:n.accounts[e].signature}}))}},Xu=function(n){return"".concat(Xn(n.addr),"-").concat(n.keyId)},Zu=function(n){return"function"==typeof n};function $u(n,e){try{return{f_type:"PreSignable",f_vsn:"1.0.1",roles:n.role,cadence:e.message.cadence,args:e.message.arguments.map((function(n){return e.arguments[n].asArgument})),data:{},interaction:e,voucher:Yu(e)}}catch(n){throw console.error("buildPreSignable",n),n}}function Qu(n,e,r){return no.apply(this,arguments)}function no(){return no=a(h.mark((function n(e,r,t){var u,o,i,c,a,s,f=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:pn(u=f.length>3&&void 0!==f[3]?f[3]:3,"Account Resolve Recursion Limit Exceeded",{ix:e,accounts:r}),o=[],i=w(r),n.prev=4,a=h.mark((function n(){var r,i,a,f;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=c.value,i=r.resolve,r.resolve=null,s=t||r,!Zu(i)){n.next=8;break}return n.next=7,i(r,$u(r,e));case 7:r=n.sent;case 8:if(!Array.isArray(r)){n.next=13;break}return n.next=11,Qu(e,r,s,u-1);case 11:n.next=30;break;case 13:if(r.addr&&(r.addr=Yn(r.addr)),null!=r.addr&&null!=r.keyId&&(r.tempId=Xu(r)),e.accounts[r.tempId]=e.accounts[r.tempId]||r,e.accounts[r.tempId].role.proposer=e.accounts[r.tempId].role.proposer||r.role.proposer,e.accounts[r.tempId].role.payer=e.accounts[r.tempId].role.payer||r.role.payer,e.accounts[r.tempId].role.authorizer=e.accounts[r.tempId].role.authorizer||r.role.authorizer,e.accounts[r.tempId].role.proposer&&e.proposer===s.tempId&&(e.proposer=r.tempId),!e.accounts[r.tempId].role.payer){n.next=29;break}if(Array.isArray(e.payer)?e.payer=Array.from(new Set([].concat(bn(e.payer),[r.tempId]).map((function(n){return n===s.tempId?r.tempId:n})))):e.payer=Array.from(new Set([e.payer,r.tempId].map((function(n){return n===s.tempId?r.tempId:n})))),!(e.payer.length>1)){n.next=29;break}if(a=[],f=[],e.payer=e.payer.reduce((function(n,r){var t=e.accounts[r].addr,u=Xu(e.accounts[r]);return f.push(t),a.includes(u)?n:(a.push(u),[].concat(bn(n),[r]))}),[]),!(Array.from(new Set(f)).length>1)){n.next=29;break}throw new Error("Payer can not be different accounts");case 29:e.accounts[r.tempId].role.authorizer&&(t?o=Array.from(new Set([].concat(bn(o),[r.tempId]))):e.authorizations=e.authorizations.map((function(n){return n===s.tempId?r.tempId:n})));case 30:s.tempId!=r.tempId&&delete e.accounts[s.tempId];case 31:case"end":return n.stop()}}),n)})),i.s();case 7:if((c=i.n()).done){n.next=11;break}return n.delegateYield(a(),"t0",9);case 9:n.next=7;break;case 11:n.next=16;break;case 13:n.prev=13,n.t1=n.catch(4),i.e(n.t1);case 16:return n.prev=16,i.f(),n.finish(16);case 19:t&&(e.authorizations=e.authorizations.map((function(n){return n===t.tempId?o:n})).reduce((function(n,e){return Array.isArray(e)?[].concat(bn(n),bn(e)):[].concat(bn(n),[e])}),[]));case 20:case"end":return n.stop()}}),n,null,[[4,13,16,19]])}))),no.apply(this,arguments)}function eo(){return(eo=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!mt(e)){n.next=13;break}return Array.isArray(e.payer)||gn.deprecate({pkg:"FCL",subject:'"ix.payer" must be an array. Support for ix.payer as a singular',message:"See changelog for more info."}),n.prev=2,n.next=5,Qu(e,Object.values(e.accounts));case 5:return n.next=7,Qu(e,Object.values(e.accounts));case 7:n.next=13;break;case 9:throw n.prev=9,n.t0=n.catch(2),console.error("=== SAD PANDA ===\n\n",n.t0,"\n\n=== SAD PANDA ==="),n.t0;case 13:return n.abrupt("return",e);case 14:case"end":return n.stop()}}),n,null,[[2,9]])})))).apply(this,arguments)}function ro(){return(ro=a(h.mark((function n(e){var r,t,u,o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!mt(e)){n.next=16;break}return n.prev=1,r=qu(e),t=vu(oo(e)),n.next=6,Promise.all(r.map(to(e,t)));case 6:return u=Ju(e),o=hu(g(g({},oo(e)),{},{payloadSigs:r.map((function(n){return{address:e.accounts[n].addr,keyId:e.accounts[n].keyId,sig:e.accounts[n].signature}}))})),n.next=10,Promise.all(u.map(to(e,o)));case 10:n.next=16;break;case 12:throw n.prev=12,n.t0=n.catch(1),console.error("Signatures",n.t0,{ix:e}),n.t0;case 16:return n.abrupt("return",e);case 17:case"end":return n.stop()}}),n,null,[[1,12]])})))).apply(this,arguments)}function to(n,e){return function(){var r=a(h.mark((function r(t){var u,o,i;return h.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null==(u=n.accounts[t]).signature){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,u.signingFunction(uo(u,e,n));case 5:o=r.sent,i=o.signature,n.accounts[t].signature=i;case 8:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()}function uo(n,e,r){try{return{f_type:"Signable",f_vsn:"1.0.1",message:e,addr:Yn(n.addr),keyId:n.keyId,roles:n.role,cadence:r.message.cadence,args:r.message.arguments.map((function(n){return r.arguments[n].asArgument})),data:{},interaction:r,voucher:Yu(r)}}catch(n){throw console.error("buildSignable",n),n}}function oo(n){var e=Yn((Array.isArray(n.payer)?n.accounts[n.payer[0]]:n.accounts[n.payer]).addr);return{cadence:n.message.cadence,refBlock:n.message.refBlock||null,computeLimit:n.message.computeLimit,arguments:n.message.arguments.map((function(e){return n.arguments[e].asArgument})),proposalKey:{address:Yn(n.accounts[n.proposer].addr),keyId:n.accounts[n.proposer].keyId,sequenceNum:n.accounts[n.proposer].sequenceNum},payer:e,authorizers:n.authorizations.map((function(e){return Yn(n.accounts[e].addr)})).reduce((function(n,e){return n.find((function(n){return n===e}))?n:[].concat(bn(n),[e])}),[])}}function io(){return(io=a(h.mark((function n(e){var r;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=jt(e,"ix.validators",[]),n.abrupt("return",Ct(e,r.map((function(n){return function(e){return n(e,{Ok:Zr,Bad:$r})}}))));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function co(){return(co=a(h.mark((function n(e){var r,t,u;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(r=0,t=Object.keys(e.accounts);r<t.length;r++)u=t[r],e.accounts[u].addr=Yn(e.accounts[u].addr);return n.abrupt("return",e);case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function ao(){return(ao=a(h.mark((function n(e){var r;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=jt(e,"ix.voucher-intercept"),!Yr(r)){n.next=4;break}return n.next=4,r(Yu(e));case 4:return n.abrupt("return",e);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function so(){return(so=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!mt(e)){n.next=8;break}if(n.t0=e.message.computeLimit,n.t0){n.next=6;break}return n.next=5,on.get("fcl.limit");case 5:n.t0=n.sent;case 6:e.message.computeLimit=n.t0,e.message.computeLimit||(gn.deprecate({pkg:"FCL/SDK",subject:"The built-in default compute limit (DEFAULT_COMPUTE_LIMIT=10)",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0009-deprecate-default-compute-limit"}),e.message.computeLimit=100);case 8:return n.abrupt("return",e);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var fo=function(n){return n},lo=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fo;return function(){var r=a(h.mark((function r(t){var u,o;return h.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u=function(n){return["\nAccounts:",{proposer:n.proposer,authorizations:n.authorizations,payer:n.payer},"\n\nDetails:",n.accounts].filter(Boolean)},o=function(){for(var e,r=arguments.length,t=new Array(r),u=0;u<r;u++)t[u]=arguments[u];(e=console).log.apply(e,["debug[".concat(n,"] ---\n")].concat(t,["\n\n\n---"]))},r.next=5,on.get("debug.".concat(n));case 5:if(!r.sent){r.next=8;break}return r.next=8,e(t,o,u);case 8:return r.abrupt("return",t);case 9:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()},vo=Ct([function(n){return ou.apply(this,arguments)},lo("cadence",(function(n,e){return e(n.message.cadence)})),function(n){return so.apply(this,arguments)},lo("compute limit",(function(n,e){return e(n.message.computeLimit)})),function(n){return fu.apply(this,arguments)},lo("arguments",(function(n,e){return e(n.message.arguments,n.message)})),function(n){return eo.apply(this,arguments)},lo("accounts",(function(n,e,r){return e.apply(void 0,bn(r(n)))})),function(n){return ho.apply(this,arguments)},function(n){return po.apply(this,arguments)},function(n){return ro.apply(this,arguments)},lo("signatures",(function(n,e,r){return e.apply(void 0,bn(r(n)))})),function(n){return co.apply(this,arguments)},function(n){return io.apply(this,arguments)},function(n){return ao.apply(this,arguments)},lo("resolved",(function(n,e){return e(n)}))]);function ho(){return(ho=a(h.mark((function n(e){var r,t;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!mt(e)||null!=e.message.refBlock){n.next=11;break}return n.next=3,on().get("accessNode.api");case 3:return r=n.sent,n.next=6,on.first(["sdk.transport","sdk.send"],rr);case 6:return pn(t=n.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),n.next=10,t(Ft([Bt()]),{config:on,response:Mt,Buffer:xn.Buffer,ix:_t},{node:r}).then(ru);case 10:e.message.refBlock=n.sent.id;case 11:return n.abrupt("return",e);case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function po(){return(po=a(h.mark((function n(e){var r,t,u;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!mt(e)){n.next=20;break}if(pn(r=Object.values(e.accounts).find((function(n){return n.role.proposer})),"Transactions require a proposer"),null!=r.sequenceNum){n.next=20;break}return n.next=6,on().get("accessNode.api");case 6:return t=n.sent,n.next=9,on.first(["sdk.transport","sdk.send"],rr);case 9:return pn(u=n.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),n.t0=u,n.next=14,Ft([Lt(r.addr)]);case 14:return n.t1=n.sent,n.t2={config:on,response:Mt,Buffer:xn.Buffer,ix:_t},n.t3={node:t},n.next=19,(0,n.t0)(n.t1,n.t2,n.t3).then(ru).then((function(n){return n.keys})).then((function(n){return n.find((function(n){return n.index===r.keyId}))})).then((function(n){return n.sequenceNumber}));case 19:e.accounts[r.tempId].sequenceNum=n.sent;case 20:return n.abrupt("return",e);case 21:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function bo(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];if(e.length>1){var t=e[0],u=e[1];return bo((function(n,e){var r=e.Ok,o=e.Bad;return t?r(n):o(n,u)}))}var o=e[0];return function(n){return o(n,{Ok:Zr,Bad:$r})}}var mo=function(){var n=a(h.mark((function n(){var e,r,t,u,o=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:[],r=o.length>1&&void 0!==o[1]?o[1]:{},n.next=4,on.first(["sdk.transport","sdk.send"],r.send||rr);case 4:return bo(t=n.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),n.next=8,on.first(["sdk.resolve"],r.resolve||vo);case 8:if(u=n.sent,n.t0=r.node,n.t0){n.next=14;break}return n.next=13,on().get("accessNode.api");case 13:n.t0=n.sent;case 14:return r.node=n.t0,Array.isArray(e)&&(e=Ct(Gr(),e)),n.t1=t,n.next=19,u(e);case 19:return n.t2=n.sent,n.t3={config:on,response:Mt,ix:_t,Buffer:xn.Buffer},n.t4=r,n.abrupt("return",(0,n.t1)(n.t2,n.t3,n.t4));case 23:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();function yo(n){return go.apply(this,arguments)}function go(){return go=a(h.mark((function n(e){var r,t;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,on().where(/^decoder\./);case 2:return r=n.sent,t=Object.entries(r).map((function(n){var e=i(n,2),r=e[0],t=e[1];return[r="/".concat(r.replace(/^decoder\./,""),"$/"),t]})),n.abrupt("return",ru(e,Object.fromEntries(t)));case 5:case"end":return n.stop()}}),n)}))),go.apply(this,arguments)}var wo=function(n){An(r,n);var e=Nn(r);function r(n){var t;wn(this,r);var u="\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: ".concat(n,". \n        Please ensure the address: ").concat(n," is intended to sign the given transaction as specified by the transaction signable.\n      ").trim();return(t=e.call(this,u)).name="Unable To Determine Message Encoding For Signer Addresss",t}return kn(r)}(Hn(Error));function Eo(n){return Ut("ix.validators",(function(e){return Array.isArray(e)?e.push(n):[n]}))}function ko(n){return Ct([function(e){return e.block.height=n,e},Eo((function(n){if("boolean"==typeof n.block.isSealed)throw new Error("Unable to specify both block height and isSealed.");if(n.block.id)throw new Error("Unable to specify both block height and block id.");return n}))])}function Io(n){return Ct([function(e){return e.block.id=n,Zr(e)},Eo((function(n,e){var r=e.Ok,t=e.Bad;return wt(n)?t(n,"Unable to specify a block id with a Get Account interaction."):"boolean"==typeof n.block.isSealed?t(n,"Unable to specify both block id and isSealed."):n.block.height?t(n,"Unable to specify both block id and block height."):r(n)}))])}function So(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.sealed,r=void 0!==e&&e,t=n.id,u=n.height,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return pn(!(r&&t||r&&u),'Method: block -- Cannot pass "sealed" with "id" or "height"'),pn(!(t&&u),'Method: block -- Cannot pass "id" and "height" simultaneously'),t?mo([Bt(),Io(t)],o).then(ru):u?mo([Bt(),ko(u)],o).then(ru):mo([Bt(r)],o).then(ru)}function Ao(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Ct(n.map((function(n){return et(n,{role:Dr})})))}function To(n,e,r){return Ct([st,function(t){return t.events.eventType=n,t.events.start=e,t.events.end=r,Zr(t)}])}function Ro(n){return Ct([it,function(e){return e.transaction.id=n,Zr(e)}])}function Oo(n){return function(e){return e.message.computeLimit=n,e}}function No(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Ct(n.map(rt))}function xo(n,e){return{value:n,xform:e}}function Co(n){return Po.apply(this,arguments)}function Po(){return Po=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",et(e,{role:_r}));case 1:case"end":return n.stop()}}),n)}))),Po.apply(this,arguments)}function jo(n){return Do.apply(this,arguments)}function Do(){return Do=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",et(e,{role:Ur}));case 1:case"end":return n.stop()}}),n)}))),Do.apply(this,arguments)}function Uo(n){return Ct([function(e){return e.message.refBlock=n,Zr(e)}])}function _o(){return Ct([ut,Dt("ix.cadence",br.apply(void 0,arguments))])}var Fo=[];function Mo(){return Ct([ot,Dt("ix.cadence",br.apply(void 0,arguments)),function(n){return n.message.refBlock=n.message.refBlock||null,n.authorizations=n.authorizations||Fo,Zr(n)}])}function Bo(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;pn(n.account,"mockAccountResponse(ix) -- ix.account is missing",n),pn(n.account.addr,"mockAccountResponse(ix) -- ix.account.addr is missing",n);var r=n.account.addr;return{account:{addr:r,keys:Array.from({length:e},(function(n,e){return{index:e,sequenceNumber:42}}))}}}var Lo=function(n){return n};var Go=["tempId"];function zo(n){return["SIGNATURE",n.addr,n.keyId].join(".")}function Wo(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){var r=g(g(g({},e),n),{},{signingFunction:n.signingFunction||e.signingFunction||function(n){return{addr:r.addr,keyId:r.keyId,signature:zo(r)}}});return r}}var Ko={proposer:!1,authorizer:!1,payer:!1};var Vo,Ho=Object.freeze({__proto__:null,mockSend:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lo;return function(){var e=a(h.mark((function e(r){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:r=e.sent,e.t0=!0,e.next=e.t0===wt(r)?6:e.t0===It(r)?7:8;break;case 6:return e.abrupt("return",Bo(r));case 7:return e.abrupt("return",{tag:"GET_BLOCK",block:{id:"32"}});case 8:return e.abrupt("return",n(r));case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},authzFn:Wo,authzResolve:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){var r=n.tempId,t=mr(n,Go);return g(g({},e),{},{tempId:r||"WITH_RESOLVE",resolve:Wo(t)})}},authzResolveMany:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){var r=n.tempId||"AUTHZ_RESOLVE_MANY";return g(g({},e),{},{tempId:r,resolve:function(){return[n.proposer&&Wo(n.proposer)({role:g(g({},Ko),{},{proposer:!0})})].concat(bn(n.authorizations.map(Wo).map((function(n){return n({role:g(g({},Ko),{},{authorizer:!0})})}))),[n.payer&&Wo(n.payer)({role:g(g({},Ko),{},{payer:!0})})]).filter(Boolean)}})}},sig:zo,idof:function(n){return"".concat(Xn(n.addr),"-").concat(n.keyId)},run:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Ft([Uo("123")].concat(bn(n))).then(vo)}}),qo=function(n){return function(e){return s(e)===n}},Jo=function(n){return null!=n},Yo=qo("object"),Xo=qo("string"),Zo=qo("function"),$o=qo("number"),Qo="function"==typeof queueMicrotask?queueMicrotask:function(n){return(Vo||(Vo=Promise.resolve())).then(n).catch((function(n){return setTimeout((function(){throw n}),0)}))},ni=function(){var n,e=[];return{deliver:function(r){return a(h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push(r),n&&(n(e.shift()),n=void 0);case 2:case"end":return t.stop()}}),t)})))()},receive:function(){return new Promise((function(r){var t=e.shift();if(t)return r(t);n=r}))}}},ei="SUBSCRIBE",ri="UNSUBSCRIBE",ti="UPDATED",ui="EXIT",oi="object"===("undefined"==typeof self?"undefined":s(self))&&self.self===self&&self||"object"===("undefined"==typeof e?"undefined":s(e))&&e.global===e&&e||"object"===("undefined"==typeof window?"undefined":s(window))&&window.window===window&&window;oi.FCL_REGISTRY=null==oi.FCL_REGISTRY?{}:oi.FCL_REGISTRY;var ii,ci=0,ai=function(n,e,r){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(u,o){var i=t.expectReply||!1,c=null!=t.timeout?t.timeout:5e3;i&&c&&setTimeout((function(){return o(new Error("Timeout: ".concat(c,"ms passed without a response.")))}),c);var a={to:n,from:t.from,tag:e,data:r,timeout:c,reply:u,reject:o};try{oi.FCL_REGISTRY[n]&&oi.FCL_REGISTRY[n].mailbox.deliver(a),i||u(!0)}catch(e){console.error("FCL.Actor -- Could Not Deliver Message",a,oi.FCL_REGISTRY[n],e)}}))},si=function(n){delete oi.FCL_REGISTRY[n]},fi=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var e=a(h.mark((function e(r){var t;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof n.INIT){e.next=3;break}return e.next=3,n.INIT(r);case 3:return e.next=6,r.receive();case 6:if(t=e.sent,e.prev=7,t.tag!==ui){e.next=13;break}if("function"!=typeof n.TERMINATE){e.next=12;break}return e.next=12,n.TERMINATE(r,t,t.data||{});case 12:return e.abrupt("break",25);case 13:return e.next=15,n[t.tag](r,t,t.data||{});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),console.error("".concat(r.self()," Error"),t,e.t0);case 20:return e.prev=20,e.abrupt("continue",3);case 23:e.next=3;break;case 25:case"end":return e.stop()}}),e,null,[[7,17,20,23]])})));return function(n){return e.apply(this,arguments)}}()},li=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==e&&(e=++ci),null!=oi.FCL_REGISTRY[e])return e;oi.FCL_REGISTRY[e]={addr:e,mailbox:ni(),subs:new Set,kvs:{},error:null};var r={self:function(){return e},receive:function(){return oi.FCL_REGISTRY[e].mailbox.receive()},send:function(n,r,t){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return u.from=e,ai(n,r,t,u)},sendSelf:function(n,r,t){oi.FCL_REGISTRY[e]&&ai(e,n,r,t)},broadcast:function(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.from=e;var u,o=w(oi.FCL_REGISTRY[e].subs);try{for(o.s();!(u=o.n()).done;){var i=u.value;ai(i,n,r,t)}}catch(n){o.e(n)}finally{o.f()}},subscribe:function(n){return null!=n&&oi.FCL_REGISTRY[e].subs.add(n)},unsubscribe:function(n){return null!=n&&oi.FCL_REGISTRY[e].subs.delete(n)},subscriberCount:function(){return oi.FCL_REGISTRY[e].subs.size},hasSubs:function(){return!!oi.FCL_REGISTRY[e].subs.size},put:function(n,r){null!=n&&(oi.FCL_REGISTRY[e].kvs[n]=r)},get:function(n,r){var t=oi.FCL_REGISTRY[e].kvs[n];return null==t?r:t},delete:function(n){delete oi.FCL_REGISTRY[e].kvs[n]},update:function(n,r){null!=n&&(oi.FCL_REGISTRY[e].kvs[n]=r(oi.FCL_REGISTRY[e].kvs[n]))},keys:function(){return Object.keys(oi.FCL_REGISTRY[e].kvs)},all:function(){return oi.FCL_REGISTRY[e].kvs},where:function(n){return Object.keys(oi.FCL_REGISTRY[e].kvs).reduce((function(r,t){return n.test(t)?g(g({},r),{},m({},t,oi.FCL_REGISTRY[e].kvs[t])):r}),{})},merge:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(n).forEach((function(r){return oi.FCL_REGISTRY[e].kvs[r]=n[r]}))},fatalError:function(n){oi.FCL_REGISTRY[e].error=n;var r,t=w(oi.FCL_REGISTRY[e].subs);try{for(t.s();!(r=t.n()).done;){var u=r.value;ai(u,ti)}}catch(n){t.e(n)}finally{t.f()}}};return"object"===s(n)&&(n=fi(n)),Qo(a(h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(r);case 2:si(e);case 3:case"end":return t.stop()}}),t)})))),e};var di="config",vi="PUT_CONFIG",hi="GET_CONFIG",pi="GET_ALL_CONFIG",bi="UPDATE_CONFIG",mi="DELETE_CONFIG",yi="CLEAR_CONFIG",gi="WHERE_CONFIG",wi="CONFIG/UPDATED",Ei=function(n){return n},ki=(m(ii={},vi,(function(n,e,r){var t=r.key,u=r.value;if(null==t)throw new Error("Missing 'key' for config/put.");n.put(t,u),n.broadcast(wi,g({},n.all()))})),m(ii,hi,(function(n,e,r){var t=r.key,u=r.fallback;if(null==t)throw new Error("Missing 'key' for config/get");e.reply(n.get(t,u))})),m(ii,pi,(function(n,e){e.reply(g({},n.all()))})),m(ii,bi,(function(n,e,r){var t=r.key,u=r.fn;if(null==t)throw new Error("Missing 'key' for config/update");n.update(t,u||Ei),n.broadcast(wi,g({},n.all()))})),m(ii,mi,(function(n,e,r){var t=r.key;if(null==t)throw new Error("Missing 'key' for config/delete");n.delete(t),n.broadcast(wi,g({},n.all()))})),m(ii,yi,(function(n,e){for(var r=0,t=Object.keys(n.all());r<t.length;r++){var u=t[r];n.delete(u)}n.broadcast(wi,g({},n.all()))})),m(ii,gi,(function(n,e,r){var t=r.pattern;if(null==t)throw new Error("Missing 'pattern' for config/where");e.reply(n.where(t))})),m(ii,ei,(function(n,e){n.subscribe(e.from),n.send(e.from,wi,g({},n.all()))})),m(ii,ri,(function(n,e){n.unsubscribe(e.from)})),ii);function Ii(n,e){return ai(di,vi,{key:n,value:e}),ji()}function Si(n,e){return ai(di,hi,{key:n,fallback:e},{expectReply:!0,timeout:10})}function Ai(){return Ti.apply(this,arguments)}function Ti(){return Ti=a(h.mark((function n(){var e,r,t,u,o,i,c=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=c.length>0&&void 0!==c[0]?c[0]:[],r=c.length>1?c[1]:void 0,e.length){n.next=4;break}return n.abrupt("return",r);case 4:return t=b(e),u=t[0],o=t.slice(1),n.next=7,Si(u);case 7:if(null!=(i=n.sent)){n.next=10;break}return n.abrupt("return",Ai(o,r));case 10:return n.abrupt("return",i);case 11:case"end":return n.stop()}}),n)}))),Ti.apply(this,arguments)}function Ri(){return ai(di,pi,null,{expectReply:!0,timeout:10})}function Oi(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ei;return ai(di,bi,{key:n,fn:e}),ji()}function Ni(n){return ai(di,mi,{key:n}),ji()}function xi(n){return ai(di,gi,{pattern:n},{expectReply:!0,timeout:10})}function Ci(n){return function(n,e,r){e(n);var t="@EXIT",u=li(function(){var e=a(h.mark((function e(u){var o,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.send(n,ei);case 1:return e.next=4,u.receive();case 4:if(o=e.sent,i=oi.FCL_REGISTRY[n].error,o.tag!==t){e.next=9;break}return u.send(n,ri),e.abrupt("return");case 9:if(!i){e.next=13;break}return r(null,i),u.send(n,ri),e.abrupt("return");case 13:r(o.data,null),e.next=1;break;case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());return function(){return ai(u,t)}}(di,(function(){return li(ki,di)}),n)}function Pi(n){return ai(di,yi).then(ji(n))}function ji(n){return null!=n&&"object"===s(n)&&Object.keys(n).map((function(e){return Ii(e,n[e])})),{put:Ii,get:Si,all:Ri,first:Ai,update:Oi,delete:Ni,where:xi,subscribe:Ci,overload:Ui}}li(ki,di),ji.put=Ii,ji.get=Si,ji.all=Ri,ji.first=Ai,ji.update=Oi,ji.delete=Ni,ji.where=xi,ji.subscribe=Ci,ji.overload=Ui;var Di=function(n){return n};function Ui(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Di;return new Promise(function(){var r=a(h.mark((function r(t,u){var o,i;return h.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ri();case 2:return o=r.sent,r.prev=3,ji(n),r.t0=e,r.next=8,Ri();case 8:return r.t1=r.sent,r.next=11,(0,r.t0)(r.t1);case 11:return i=r.sent,r.next=14,Pi(o);case 14:t(i),r.next=22;break;case 17:return r.prev=17,r.t2=r.catch(3),r.next=21,Pi(o);case 21:u(r.t2);case 22:case"end":return r.stop()}}),r,null,[[3,17]])})));return function(n,e){return r.apply(this,arguments)}}())}var _i=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),Fi=function(n){var e=n.title,r=n.message;return["\n    %c".concat(e,"\n    ============================\n\n    ").concat(r,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]},Mi=function(){var n=a(h.mark((function n(e){var r,t,u,o,i,c,a,s,f,l,d,v;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=e.title,a=e.message,s=e.level,f=e.always,l=void 0!==f&&f,n.next=3,ji.get("logger.level",_i.warn);case 3:if(d=n.sent,l||!(d<s)){n.next=6;break}return n.abrupt("return");case 6:v=Fi({title:c,message:a}),n.t0=s,n.next=n.t0===_i.debug?10:n.t0===_i.info?12:n.t0===_i.warn?14:n.t0===_i.error?16:18;break;case 10:return(r=console).debug.apply(r,bn(v)),n.abrupt("break",19);case 12:return(t=console).info.apply(t,bn(v)),n.abrupt("break",19);case 14:return(u=console).warn.apply(u,bn(v)),n.abrupt("break",19);case 16:return(o=console).error.apply(o,bn(v)),n.abrupt("break",19);case 18:(i=console).log.apply(i,bn(v));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();Mi.deprecate=function(n){var e=n.pkg,r=n.subject,t=n.transition,u=n.level,o=void 0===u?_i.warn:u,i=n.message,c=void 0===i?"":i,s=n.callback,f=void 0===s?null:s,l=function(){return Mi({title:"".concat(e?e+" ":"","Deprecation Notice"),message:"\n      ".concat(r?"".concat((n=r,n.charAt(0).toUpperCase()+n.slice(1))," is deprecated and will cease to work in future releases").concat(e?" of "+e:"","."):"").concat(c?"\n"+c:"").concat(t?"\nYou can learn more (including a guide on common transition paths) here: ".concat(t):"","\n    ").trim(),level:o});var n};return"function"==typeof f?a(h.mark((function n(){var e=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l();case 2:return n.next=4,f.apply(void 0,e);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)}))):l()};var Bi=function(n,e,r){return{label:n,asArgument:e,asInjection:r}},Li=function(n){return Array.isArray(n)},Gi=function(n){return"object"===s(n)},zi=function(n){return null==n},Wi=function(n){return"number"==typeof n},Ki=function(n){return Number.isInteger(n)},Vi=function(n){return"string"==typeof n},Hi=function(n){throw new Error("Type Error: "+n)},qi=function(n){Mi.deprecate({pkg:"@onflow/types",subject:"Passing in Number as value for ".concat(n),message:"Going forward, use String as value for ".concat(n,"."),transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0002-[U]Int*-and-Word*-as-Number"})},Ji=Bi("Identity",(function(n){return n}),(function(n){return n})),Yi=Bi("UInt",(function(n){return Wi(n)&&Ki(n)?(qi("UInt"),{type:"UInt",value:n.toString()}):Vi(n)?{type:"UInt",value:n}:void Hi("Expected Positive Integer for type Unsigned Int")}),(function(n){return n})),Xi=Bi("Int",(function(n){return Wi(n)&&Ki(n)?(qi("Int"),{type:"Int",value:n.toString()}):Vi(n)?{type:"Int",value:n}:void Hi("Expected Integer for type Int")}),(function(n){return n})),Zi=Bi("UInt8",(function(n){return Wi(n)&&Ki(n)?(qi("UInt8"),{type:"UInt8",value:n.toString()}):Vi(n)?{type:"UInt8",value:n}:void Hi("Expected integer for UInt8")}),(function(n){return n})),$i=Bi("Int8",(function(n){return Wi(n)&&Ki(n)?(qi("Int8"),{type:"Int8",value:n.toString()}):Vi(n)?{type:"Int8",value:n}:void Hi("Expected positive integer for Int8")}),(function(n){return n})),Qi=Bi("UInt16",(function(n){return Wi(n)&&Ki(n)?(qi("UInt16"),{type:"UInt16",value:n.toString()}):Vi(n)?{type:"UInt16",value:n}:void Hi("Expected integer for UInt16")}),(function(n){return n})),nc=Bi("Int16",(function(n){return Wi(n)&&Ki(n)?(qi("Int16"),{type:"Int16",value:n.toString()}):Vi(n)?{type:"Int16",value:n}:void Hi("Expected positive integer for Int16")}),(function(n){return n})),ec=Bi("UInt32",(function(n){return Wi(n)&&Ki(n)?(qi("UInt32"),{type:"UInt32",value:n.toString()}):Vi(n)?{type:"UInt32",value:n}:void Hi("Expected integer for UInt32")}),(function(n){return n})),rc=Bi("Int32",(function(n){return Wi(n)&&Ki(n)?(qi("Int32"),{type:"Int32",value:n.toString()}):Vi(n)?{type:"Int32",value:n}:void Hi("Expected positive integer for Int32")}),(function(n){return n})),tc=Bi("UInt64",(function(n){return Wi(n)&&Ki(n)?(qi("UInt64"),{type:"UInt64",value:n.toString()}):Vi(n)?{type:"UInt64",value:n}:void Hi("Expected integer for UInt64")}),(function(n){return n})),uc=Bi("Int64",(function(n){return Wi(n)&&Ki(n)?(qi("Int64"),{type:"Int64",value:n.toString()}):Vi(n)?{type:"Int64",value:n}:void Hi("Expected positive integer for Int64")}),(function(n){return n})),oc=Bi("UInt128",(function(n){return Wi(n)&&Ki(n)?(qi("UInt128"),{type:"UInt128",value:n.toString()}):Vi(n)?{type:"UInt128",value:n}:void Hi("Expected integer for UInt128")}),(function(n){return n})),ic=Bi("Int128",(function(n){return Wi(n)&&Ki(n)?(qi("Int128"),{type:"Int128",value:n.toString()}):Vi(n)?{type:"Int128",value:n}:void Hi("Expected positive integer for Int128")}),(function(n){return n})),cc=Bi("UInt256",(function(n){return Wi(n)&&Ki(n)?(qi("UInt256"),{type:"UInt256",value:n.toString()}):Vi(n)?{type:"UInt256",value:n}:void Hi("Expected integer for UInt256")}),(function(n){return n})),ac=Bi("Int256",(function(n){return Wi(n)&&Ki(n)?(qi("Int256"),{type:"Int256",value:n.toString()}):Vi(n)?{type:"Int256",value:n}:void Hi("Expected integer for Int256")}),(function(n){return n})),sc=Bi("Word8",(function(n){return Wi(n)&&Ki(n)?(qi("Word8"),{type:"Word8",value:n.toString()}):Vi(n)?{type:"Word8",value:n}:void Hi("Expected positive number for Word8")}),(function(n){return n})),fc=Bi("Word16",(function(n){return Wi(n)&&Ki(n)?(qi("Word16"),{type:"Word16",value:n.toString()}):Vi(n)?{type:"Word16",value:n}:void Hi("Expected positive number for Word16")}),(function(n){return n})),lc=Bi("Word32",(function(n){return Wi(n)&&Ki(n)?(qi("Word32"),{type:"Word32",value:n.toString()}):Vi(n)?{type:"Word32",value:n}:void Hi("Expected positive number for Word32")}),(function(n){return n})),dc=Bi("Word64",(function(n){return Wi(n)&&Ki(n)?(qi("Word64"),{type:"Word64",value:n.toString()}):Vi(n)?{type:"Word64",value:n}:void Hi("Expected positive number for Word64")}),(function(n){return n})),vc=function(){Mi.deprecate({subject:"Passing in Numbers as values for Fix64 and UFix64 types",pkg:"@onflow/types",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0001-[U]Fix64-as-Number"})},hc=Bi("UFix64",(function(n){if(Vi(n)){var e=n.split(".");return 2!==e.length&&Hi("Expected one decimal but found ".concat(e.length," in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),(0==e[1].length||e[1].length>8)&&Hi("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ".concat(e[1].length," digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),e[1]=e[1].padEnd(8,"0"),{type:"UFix64",value:n=e.join(".")}}if(Wi(n))return vc(),{type:"UFix64",value:n.toString()};Hi("Expected String for UFix64")}),(function(n){return n})),pc=Bi("Fix64",(function(n){if(Vi(n)){var e=n.split(".");return 2!==e.length&&Hi("Expected one decimal but found ".concat(e.length," in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),(0==e[1].length||e[1].length>8)&&Hi("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ".concat(e[1].length," digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),e[1]=e[1].padEnd(8,"0"),{type:"Fix64",value:n=e.join(".")}}if(Wi(n))return vc(),{type:"Fix64",value:n.toString()};Hi("Expected String for Fix64")}),(function(n){return n})),bc=Bi("String",(function(n){if(Vi(n))return{type:"String",value:n};Hi("Expected String for type String")}),(function(n){return n})),mc=Bi("Character",(function(n){if(Vi(n))return{type:"Character",value:n};Hi("Expected Character for type Character")}),(function(n){return n})),yc=Bi("Bool",(function(n){if("boolean"==typeof n)return{type:"Bool",value:n};Hi("Expected Boolean for type Bool")}),(function(n){return n})),gc=Bi("Address",(function(n){if(Vi(n))return{type:"Address",value:n};Hi("Expected Address for type Address")}),(function(n){return n})),wc=Bi("Void",(function(n){if(!n||zi(n))return{type:"Void"};Hi("Expected Void for type Void")}),(function(n){return n})),Ec=Bi("Reference",(function(n){if(Gi(n))return{type:"Reference",value:n};Hi("Expected Object for type Reference")}),(function(n){return n})),kc=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Bi("Array",(function(e){return{type:"Array",value:Li(n)?n.map((function(n,r){return n.asArgument(e[r])})):e.map((function(e){return n.asArgument(e)}))}}),(function(n){return n}))},Ic=Bi("Path",(function(n){if(Gi(n))return Vi(n.domain)||Hi("Expected a string for the Path domain but found ".concat(n.domain,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),"storage"!==n.domain&&"private"!==n.domain&&"public"!==n.domain&&Hi('Expected either "storage", "private" or "public" as the Path domain but found '.concat(n.domain,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),Vi(n.identifier)||Hi("Expected a string for the Path identifier but found ".concat(n.identifier,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),{type:"Path",value:{domain:n.domain,identifier:n.identifier}};Hi("Expected Object for type Path")}),(function(n){return n})),Sc=Object.freeze({__proto__:null,Address:gc,Array:kc,Bool:yc,Character:mc,Dictionary:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Bi("Dictionary",(function(e){if(Gi(e))return{type:"Dictionary",value:Li(n)?n.map((function(n,r){return{key:n.key.asArgument(e[r].key),value:n.value.asArgument(e[r].value)}})):Li(e)?e.map((function(e){return{key:n.key.asArgument(e.key),value:n.value.asArgument(e.value)}})):[{key:n.key.asArgument(e.key),value:n.value.asArgument(e.value)}]};Hi("Expected Object for type Dictionary")}),(function(n){return n}))},Enum:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Bi("Enum",(function(r){if(Gi(r))return{type:"Enum",value:{id:n,fields:Li(e)?e.map((function(n,e){return{name:r.fields[e].name,value:n.value.asArgument(r.fields[e].value)}})):r.fields.map((function(n){return{name:n.name,value:e.value.asArgument(n.value)}}))}};Hi("Expected Object for type Enum")}),(function(n){return n}))},Event:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Bi("Event",(function(r){if(Gi(r))return{type:"Event",value:{id:n,fields:Li(e)?e.map((function(n,e){return{name:r.fields[e].name,value:n.value.asArgument(r.fields[e].value)}})):r.fields.map((function(n){return{name:n.name,value:e.value.asArgument(n.value)}}))}};Hi("Expected Object for type Event")}),(function(n){return n}))},Fix64:pc,Identity:Ji,Int:Xi,Int128:ic,Int16:nc,Int256:ac,Int32:rc,Int64:uc,Int8:$i,Optional:function(n){return Bi("Optional",(function(e){return{type:"Optional",value:zi(e)?null:n.asArgument(e)}}),(function(n){return n}))},Path:Ic,Reference:Ec,Resource:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Bi("Resource",(function(r){if(Gi(r))return{type:"Resource",value:{id:n,fields:Li(e)?e.map((function(n,e){return{name:r.fields[e].name,value:n.value.asArgument(r.fields[e].value)}})):r.fields.map((function(n){return{name:n.name,value:e.value.asArgument(n.value)}}))}};Hi("Expected Object for type Resource")}),(function(n){return n}))},String:bc,Struct:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Bi("Struct",(function(r){if(Gi(r))return{type:"Struct",value:{id:n,fields:Li(e)?e.map((function(n,e){return{name:r.fields[e].name,value:n.value.asArgument(r.fields[e].value)}})):r.fields.map((function(n){return{name:n.name,value:e.value.asArgument(n.value)}}))}};Hi("Expected Object for type Struct")}),(function(n){return n}))},UFix64:hc,UInt:Yi,UInt128:oc,UInt16:Qi,UInt256:cc,UInt32:ec,UInt64:tc,UInt8:Zi,Void:wc,Word16:fc,Word32:lc,Word64:dc,Word8:sc,_Array:kc});function Ac(n){return Zo(n)?n(xo,Sc):[]}function Tc(n){return Rc.apply(this,arguments)}function Rc(){return(Rc=a(h.mark((function n(e){var r,t,u;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return pn(void 0!==(r=e.url),"retrieve({ url }) -- url must be defined"),n.prev=2,n.next=5,Jn(r);case 5:t=n.sent,n.next=11;break;case 8:throw n.prev=8,n.t0=n.catch(2),new Error("httpDocumentResolver Error: Failed to retrieve document.");case 11:if(!t.ok){n.next=17;break}return n.next=14,t.json();case 14:n.t1=n.sent,n.next=18;break;case 17:n.t1=null;case 18:return u=n.t1,n.abrupt("return",u);case 20:case"end":return n.stop()}}),n,null,[[2,8]])})))).apply(this,arguments)}var Oc=new Map([["http",Tc],["https",Tc]]);function Nc(n){return xc.apply(this,arguments)}function xc(){return(xc=a(h.mark((function n(e){var r,t,u,o,i,c;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return pn(void 0!==(r=e.url),"retrieve({ url }) -- url must be defined"),pn("string"==typeof r,"retrieve({ url }) -- url must be a string"),n.next=5,on().where(/^document\.resolver\./);case 5:return t=n.sent,Object.keys(t).map((function(n){var e=t[n],r=n.replace(/^document\.resolver\./,"");Oc.set(r,e)})),pn(u=/^(.*):\/\/([A-Za-z0-9\-\.]+)(:[0-9]+)?(.*)$/.exec(r),"Failed to parse URL"),o=u[1],pn(u,"Failed to parse URL protocol"),pn(i=Oc.get(o),"No resolver found for protcol=".concat(o)),n.next=15,i({url:r});case 15:return c=n.sent,n.abrupt("return",c);case 17:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Cc(n){if(null==n)return null;if("1.0.0"===n.f_version)return n;throw new Error("normalizeInteractionTemplate Error: Invalid InteractionTemplate")}function Pc(n){var e,r,t=n.network,u=n.template;if(bo(null!=t,"deriveCadenceByNetwork({ network }) -- network must be defined"),bo("string"==typeof t,"deriveCadenceByNetwork({ network }) -- network must be a string"),bo(null!=u,"generateDependencyPin({ template }) -- template must be defined"),bo("object"===s(u),"generateDependencyPin({ template }) -- template must be an object"),bo("InteractionTemplate"===u.f_type,"generateDependencyPin({ template }) -- template must be an InteractionTemplate"),"1.0.0"===(u=Cc(u)).f_version)return Object.keys(null===(e=u)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.dependencies).map((function(n){var e,r,o,i=Object.values(null===(e=u)||void 0===e||null===(r=e.data)||void 0===r||null===(o=r.dependencies)||void 0===o?void 0:o[n]);bo(i,"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: ".concat(n)),bo(0===i.length,"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: ".concat(n));var c=i[0],a=null==c?void 0:c[t];return bo(a,"deriveCadenceByNetwork -- Could not find ".concat(t," network information for dependency: ").concat(n)),[n,a.address]})).reduce((function(n,e){var r=i(e,2),t=r[0],u=r[1],o=new RegExp("(\\b"+t+"\\b)","g");return n.replace(o,u)}),u.data.cadence);throw new Error("deriveCadenceByNetwork Error: Unsupported template version")}function jc(n){return Dc.apply(this,arguments)}function Dc(){return Dc=a(h.mark((function n(e){var r,t,u,o,i,c,a,s,f,l,d,v,p;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.template,n.next=3,on.get("flow.network");case 3:pn(u=n.sent,"FCL configureDependencies Error: Missing configuration value for 'flow.network'"),o={},n.t0=t.f_version,n.next="1.0.0"===n.t0?9:12;break;case 9:for(i=Object.keys(null==t||null===(r=t.data)||void 0===r?void 0:r.dependencies),c=0,a=i;c<a.length;c++)f=a[c],l=null==t||null===(s=t.data)||void 0===s?void 0:s.dependencies[f],pn((d=Object.keys(l)).length>0,"FCL configureDependencies Error: No contracts found in template for placeholder=".concat(f)),v=l[d[0]],pn(p=v[u],"FCL configureDependencies Error: No dependency information for placeholder=".concat(f," contract=").concat(d[0]," network=").concat(u)),pn(null==p?void 0:p.address,"FCL configureDependencies Error: No address information for placeholder=".concat(f," contract=").concat(d[0]," network=").concat(u)),o[f]=Xn(null==p?void 0:p.address);return n.abrupt("return",o);case 12:throw new Error("FCL configureDependencies Error: Unsupported template version");case 13:case"end":return n.stop()}}),n)}))),Dc.apply(this,arguments)}function Uc(n){return _c.apply(this,arguments)}function _c(){return(_c=a(h.mark((function n(e){var r,t;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Xo(null==e?void 0:e.template)){n.next=4;break}return n.next=3,Nc({url:null==e?void 0:e.template});case 3:e.template=n.sent;case 4:if(r={},null==e||!e.template){n.next=10;break}return e.template=Cc(null==e?void 0:e.template),n.next=9,jc({template:e.template});case 9:r=n.sent;case 10:if(n.t0=e.cadence,n.t0){n.next=19;break}return n.t1=Pc,n.t2=e.template,n.next=16,on().get("flow.network");case 16:n.t3=n.sent,n.t4={template:n.t2,network:n.t3},n.t0=(0,n.t1)(n.t4);case 19:return t=n.t0,e.cadence=t,e.dependencies=r,n.abrupt("return",e);case 23:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Fc(n,e){return Mc.apply(this,arguments)}function Mc(){return Mc=a(h.mark((function n(e,r){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(pn(Jo(r),"".concat(e,"(opts) -- opts is required")),pn(Yo(r),"".concat(e,"(opts) -- opts must be an object")),pn(!(r.cadence&&r.template),"".concat(e,"({ template, cadence }) -- cannot pass both cadence and template")),pn(Jo(r.cadence||(null==r?void 0:r.template)),"".concat(e,"({ cadence }) -- cadence is required")),pn(Xo(r.cadence)||(null==r?void 0:r.template),"".concat(e,"({ cadence }) -- cadence must be a string")),n.t0=pn,n.t1=r.cadence,n.t1){n.next=11;break}return n.next=10,on().get("flow.network");case 10:n.t1=n.sent;case 11:return n.t2=n.t1,n.t3="".concat(e,'(opts) -- Required value for "flow.network" not defined in config. See: ',"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration"),(0,n.t0)(n.t2,n.t3),n.t4=pn,n.next=17,on().get("accessNode.api");case 17:n.t5=n.sent,n.t6="".concat(e,'(opts) -- Required value for "accessNode.api" not defined in config. See: ',"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration"),(0,n.t4)(n.t5,n.t6);case 20:case"end":return n.stop()}}),n)}))),Mc.apply(this,arguments)}function Bc(n){return Lc.apply(this,arguments)}function Lc(){return(Lc=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Fc("mutate",e));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Gc(n){return zc.apply(this,arguments)}function zc(){return(zc=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Fc("query",e));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Wc(){return Kc.apply(this,arguments)}function Kc(){return Kc=a(h.mark((function n(){var e,r=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},n.next=3,Gc(e);case 3:return n.next=5,Uc(e);case 5:return e=n.sent,n.abrupt("return",on().overload(e.dependencies||{},a(h.mark((function n(){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",mo([_o(e.cadence),No(Ac(e.args||[])),e.limit&&"number"==typeof e.limit&&Oo(e.limit)]).then(yo));case 1:case"end":return n.stop()}}),n)})))));case 7:case"end":return n.stop()}}),n)}))),Kc.apply(this,arguments)}function Vc(n,e){return Hc.apply(this,arguments)}function Hc(){return Hc=a(h.mark((function n(e,r){var t,u,o,i,c,a;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=e&&null!=r){n.next=2;break}return n.abrupt("return",[]);case 2:return(t=new URL(e)).searchParams.append("code",r),n.next=6,fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(n){return n.json()}));case 6:if(u=n.sent,!Array.isArray(u)){n.next=9;break}return n.abrupt("return",u);case 9:if(o=[],Array.isArray(u.authorizations)){i=w(u.authorizations);try{for(i.s();!(c=i.n()).done;)a=c.value,o.push(g({type:"authz",keyId:u.keyId},a))}catch(n){i.e(n)}finally{i.f()}}return null!=u.provider&&o.push(g({type:"authn",id:"wallet-provider#authn"},u.provider)),n.abrupt("return",o);case 13:case"end":return n.stop()}}),n)}))),Hc.apply(this,arguments)}function qc(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[].concat(bn(n),bn(e))}var Jc={f_type:"Service",f_vsn:"1.0.0"},Yc={f_type:"Identity",f_vsn:"1.0.0"},Xc={f_type:"USER",f_vsn:"1.0.0"},Zc={f_type:"PollingResponse",f_vsn:"1.0.0"},$c={f_type:"CompositeSignature",f_vsn:"1.0.0"};function Qc(n){return null==n?null:"1.0.0"===n.f_vsn?n:g(g({old:n},Jc),{},{type:"frame",endpoint:n.endpoint,params:n.params||{},data:n.data||{}})}function na(n){return null==n?null:"1.0.0"===n.f_vsn?n:g(g({},Jc),{},{type:"back-channel-rpc",endpoint:n.endpoint,method:n.method,params:n.params||{},data:n.data||{}})}function ea(n){return null==n?null:(null==n.method&&(n=g(g({},n),{},{type:"local-view",method:"VIEW/IFRAME"})),"1.0.0"===n.f_vsn?n:g(g({},Jc),{},{type:n.type||"local-view",method:n.method,endpoint:n.endpoint,data:n.data||{},params:n.params||{}}))}var ra={"back-channel-rpc":na,"pre-authz":function(n){return null==n?null:"1.0.0"===n.f_vsn?n:g(g({},Jc),{},{type:n.type,uid:n.id,endpoint:n.endpoint,method:n.method,identity:g(g({},Yc),{},{address:Xn(n.addr),keyId:n.keyId}),params:n.params,data:n.data})},authz:function(n){return null==n?null:"1.0.0"===n.f_vsn?n:g(g({},Jc),{},{type:n.type,uid:n.id,endpoint:n.endpoint,method:n.method,identity:g(g({},Yc),{},{address:Xn(n.addr),keyId:n.keyId}),params:n.params,data:n.data})},authn:function(n){return null==n?null:"1.0.0"===n.f_vsn?n:g(g({},Jc),{},{type:n.type,uid:n.id,endpoint:n.authn,id:n.pid,provider:{address:Xn(n.addr),name:n.name,icon:n.icon}})},frame:Qc,"open-id":function(n){return null==n?null:"1.0.0"===n.f_vsn?n:null},"user-signature":function(n){if(null==n)return null;if("1.0.0"===n.f_vsn)return n;throw new Error("Invalid user-signature service")},"local-view":ea,"account-proof":function(n){if(null==n)return null;if("1.0.0"===n.f_vsn)return n;throw new Error("FCL Normalizer Error: Invalid account-proof service")},"authn-refresh":function(n){if(null==n)return null;if("1.0.0"===n.f_vsn)return n;throw new Error("Invalid authn-refresh service")}};function ta(n,e){try{return ra[n.type](n,e)}catch(e){return console.error("Unrecognized FCL Service Type [".concat(n.type,"]"),n,e),n}}function ua(n){return Gn([n.provider.address||n.provider.name||"UNSPECIFIED",n.id]).toString("hex")}function oa(n){return n.addr=n.addr?Xn(n.addr):null,n.paddr=n.paddr?Xn(n.paddr):null,n}function ia(n,e){return e.find((function(e){return e.type===n}))}function ca(n){return aa.apply(this,arguments)}function aa(){return aa=a(h.mark((function n(e){var r,t;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=oa(e),n.t0=qc,n.t1=e.services||[],n.next=5,Vc(e.hks,e.code);case 5:return n.t2=n.sent,r=(0,n.t0)(n.t1,n.t2).map((function(n){return ta(n,e)})),t=ia("authn",r),n.abrupt("return",g(g({},Xc),{},{addr:Xn(e.addr),cid:ua(t),loggedIn:!0,services:r,expiresAt:e.expires}));case 9:case"end":return n.stop()}}),n)}))),aa.apply(this,arguments)}function sa(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return n.find((function(n){return n.type===e}))}function fa(n){var e=new URL(n.endpoint);if(e.searchParams.append("l6n",window.location.origin),null!=n.params)for(var r=0,t=Object.entries(n.params||{});r<t.length;r++){var u=i(t[r],2),o=u[0],c=u[1];e.searchParams.append(o,c)}return e}function la(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.method||"POST",t="GET"===r?void 0:JSON.stringify(e.data||n.data||{});return fetch(fa(n),{method:r,headers:g(g(g({},n.headers||{}),e.headers||{}),{},{"Content-Type":"application/json"}),body:t}).then((function(n){return n.json()}))}function da(n){var e,r;return null==n?null:"1.0.0"===n.f_vsn?n:g(g({},Zc),{},{status:null!==(e=n.status)&&void 0!==e?e:"APPROVED",reason:null!==(r=n.reason)&&void 0!==r?r:null,data:n.compositeSignature||n.data||g({},n)||{},updates:na(n.authorizationUpdates),local:Qc((n.local||[])[0])})}var va={"HTTP/GET":"GET","HTTP/POST":"POST"},ha=function(n){return pn(va[n.method],"Invalid Service Method for type back-channel-rpc",{service:n}),va[n.method]};function pa(n){return ba.apply(this,arguments)}function ba(){return ba=a(h.mark((function n(e){var r,t,u=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:function(){return!0},pn(e,"Missing Polling Service",{service:e}),r()){n.next=4;break}throw new Error("Externally Halted");case 4:return n.next=6,la(e,{method:ha(e)}).then(da);case 6:t=n.sent,n.t0=t.status,n.next="APPROVED"===n.t0?10:"DECLINED"===n.t0?11:12;break;case 10:return n.abrupt("return",t.data);case 11:throw new Error("Declined: ".concat(t.reason||"No reason supplied."));case 12:return n.next=14,new Promise((function(n){return setTimeout(n,500)}));case 14:return n.abrupt("return",pa(t.updates,r));case 15:case"end":return n.stop()}}),n)}))),ba.apply(this,arguments)}var ma="FCL_IFRAME";function ya(n){pn(!document.getElementById(ma),"Attempt at triggering multiple Frames",{src:n});var e=document.createElement("iframe");e.src=n,e.id=ma,e.allow="usb *; hid *",e.frameBorder="0",e.style.cssText="\n  position:fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  height: 100%;\n  width: 100vw;\n  display:block;\n  background:rgba(0,0,0,0.25);\n  z-index: 2147483647;\n  box-sizing: border-box;\n  color-scheme: light;\n",document.body.append(e);return[e.contentWindow,function(){document.getElementById(ma)&&document.getElementById(ma).remove()}]}var ga=null,wa=null;function Ea(n){var e;null==ga||null!==(e=ga)&&void 0!==e&&e.closed?ga=function(n,e,r,t,u){var o=r.top.outerHeight/2+r.top.screenY-u/2,i=r.top.outerWidth/2+r.top.screenX-t/2,c=r.open(n,e,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=".concat(t,", height=").concat(u,", top=").concat(o,", left=").concat(i));if(!c)throw new Error("Popup failed to open (was it blocked by a popup blocker?)");return c}(n,"FCL_POP",window,640,770):wa!==n?(ga.location.replace(n),ga.focus()):ga.focus(),wa=n;return[ga,function(){ga&&!ga.closed&&ga.close(),ga=null}]}var ka=null,Ia=null;function Sa(n){var e;if(null==ka||null!==(e=ka)&&void 0!==e&&e.closed){if(!(ka=window.open(n,"_blank")))throw new Error("Tab failed to open (was it blocked by the browser?)")}else Ia!==n?(ka.location.replace(n),ka.focus()):ka.focus();Ia=n;return[ka,function(){ka&&!ka.closed&&ka.close(),ka=null}]}var Aa={"VIEW/IFRAME":ya,"VIEW/POP":Ea,"VIEW/TAB":Sa};function Ta(n){return Ra.apply(this,arguments)}function Ra(){return Ra=a(h.mark((function n(e){var r,t=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>1&&void 0!==t[1]?t[1]:{},n.prev=1,n.abrupt("return",Aa[e.method](fa(e),r));case 5:throw n.prev=5,n.t0=n.catch(1),console.error("execLocal({service, opts = {}})",n.t0,{service:e,opts:r}),n.t0;case 9:case"end":return n.stop()}}),n,null,[[1,5]])}))),Ra.apply(this,arguments)}function Oa(n){return Na.apply(this,arguments)}function Na(){return Na=a(h.mark((function n(e){var r,t,u,o,c,a,s,f,l;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.service,t=e.body,u=e.config,n.next=3,la(r,{data:g({fclVersion:hn,service:{params:r.params,data:r.data,type:r.type},config:u},t)}).then(da);case 3:if("APPROVED"!==(o=n.sent).status){n.next=8;break}return n.abrupt("return",o.data);case 8:if("DECLINED"!==o.status){n.next=12;break}throw new Error("Declined: ".concat(o.reason||"No reason supplied."));case 12:if("REDIRECT"!==o.status){n.next=16;break}return n.abrupt("return",o);case 16:if("PENDING"!==o.status){n.next=28;break}return c=!0,n.next=20,Ta(ea(o.local));case 20:return a=n.sent,(s=i(a,2))[0],f=s[1],l=function(){try{f(),c=!1}catch(n){console.error("Frame Close Error",n)}},n.abrupt("return",pa(o.updates,(function(){return c})).then((function(n){return l(),n})).catch((function(n){throw console.error(n),l(),n})));case 28:throw console.error("Auto Decline: Invalid Response",{service:r,resp:o}),new Error("Auto Decline: Invalid Response");case 30:case"end":return n.stop()}}),n)}))),Na.apply(this,arguments)}var xa="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",Ca=xa.length;function Pa(){for(var n="",e=32;e--;)n+=xa[Math.random()*Ca|0];return n}var ja="FCL:VIEW:CLOSE",Da="FCL:VIEW:READY",Ua="FCL:VIEW:RESPONSE",_a=function(n){return"string"==typeof n&&n.toLowerCase()},Fa=new Set(["monetizationstart","monetizationpending","monetizationprogress","monetizationstop"]),Ma=function(n,e){return console.warn("DEPRECATION NOTICE","Received ".concat(n,", please use ").concat(e," for this and future versions of FCL"))},Ba=function(n){var e=n.close,r=n.send,t=n.onReady,u=n.onResponse,o=n.onMessage;return function(n){try{if("object"!==s(n.data))return;if(Fa.has(n.data.type))return;_a(n.data.type)===_a(ja)&&e(),_a(n.data.type)===_a(Da)&&t(n,{send:r,close:e}),_a(n.data.type)===_a(Ua)&&u(n,{send:r,close:e}),o(n,{send:r,close:e}),_a(n.data.type)===_a("FCL:FRAME:READY")&&(Ma(n.data.type,Da),t(n,{send:r,close:e})),_a(n.data.type)===_a("FCL:FRAME:RESPONSE")&&(Ma(n.data.type,Ua),u(n,{send:r,close:e})),_a(n.data.type)===_a("FCL:FRAME:CLOSE")&&(Ma(n.data.type,ja),e()),_a(n.data.type)===_a("FCL::CHALLENGE::RESPONSE")&&(Ma(n.data.type,Ua),u(n,{send:r,close:e})),_a(n.data.type)===_a("FCL::AUTHZ_READY")&&(Ma(n.data.type,Da),t(n,{send:r,close:e})),_a(n.data.type)===_a("FCL::CHALLENGE::CANCEL")&&(Ma(n.data.type,ja),e()),_a(n.data.type)===_a("FCL::CANCEL")&&(Ma(n.data.type,ja),e())}catch(n){console.error("Frame Callback Error",n),e()}}},La=function(){};var Ga=function(){};var za=function(){};var Wa=function(){};var Ka,Va,Ha,qa,Ja={"HTTP/RPC":Oa,"HTTP/POST":Oa,"IFRAME/RPC":function(n){var e=n.service,r=n.body,t=n.config,u=n.opts;return new Promise((function(n,o){var c=Pa(),f=u.includeOlderJsonRpcCall;!function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==n)return{send:La,close:La};var r=e.onClose||La,t=e.onMessage||La,u=e.onReady||La,o=e.onResponse||La,c=Ba({close:l,send:d,onReady:u,onResponse:o,onMessage:t});window.addEventListener("message",c);var a=i(ya(fa(n)),2),s=a[0],f=a[1];return{send:d,close:l};function l(){try{window.removeEventListener("message",c),f(),r()}catch(n){console.error("Frame Close Error",n)}}function d(n){try{s.postMessage(JSON.parse(JSON.stringify(n||{})),"*")}catch(e){console.error("Frame Send Error",n,e)}}}(e,{onReady:function(n,u){return a(h.mark((function n(){var o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=u.send,n.prev=1,o({type:"FCL:VIEW:READY:RESPONSE",fclVersion:hn,body:r,service:{params:e.params,data:e.data,type:e.type},config:t}),o({fclVersion:hn,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:e.params,data:e.data,type:e.type},config:t,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),f&&o({jsonrpc:"2.0",id:c,method:"fcl:sign",params:[r,e.params],deprecated:{message:"jsonrpc is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),n.next=10;break;case 7:throw n.prev=7,n.t0=n.catch(1),n.t0;case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))()},onResponse:function(e,r){var t=r.close;try{if("object"!==s(e.data))return;var u=da(e.data);switch(u.status){case"APPROVED":n(u.data),t();break;case"DECLINED":o("Declined: ".concat(u.reason||"No reason supplied")),t();break;case"REDIRECT":n(u),t();break;default:o("Declined: No reason supplied"),t()}}catch(n){throw console.error("execIframeRPC onResponse error",n),n}},onMessage:function(e,r){var t=r.close;try{if("object"!==s(e.data))return;if("2.0"!==e.data.jsonrpc)return;if(e.data.id!==c)return;var u=da(e.data.result);switch(u.status){case"APPROVED":n(u.data),t();break;case"DECLINED":o("Declined: ".concat(u.reason||"No reason supplied")),t();break;case"REDIRECT":n(u),t();break;default:o("Declined: No reason supplied"),t()}}catch(n){throw console.error("execIframeRPC onMessage error",n),n}},onClose:function(){o("Declined: Externally Halted")}})}))},"POP/RPC":function(n){var e=n.service,r=n.body,t=n.config,u=n.opts;return new Promise((function(n,o){var c=Pa(),f=u.redir,l=u.includeOlderJsonRpcCall;!function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==n)return{send:Ga,close:Ga};var r=e.onClose||Ga,t=e.onMessage||Ga,u=e.onReady||Ga,o=e.onResponse||Ga,c=Ba({close:d,send:v,onReady:u,onResponse:o,onMessage:t});window.addEventListener("message",c);var a=i(Ea(fa(n)),2),s=a[0],f=a[1],l=setInterval((function(){s&&s.closed&&d()}),500);return{send:v,close:d};function d(){try{window.removeEventListener("message",c),clearInterval(l),f(),r()}catch(n){console.error("Popup Close Error",n)}}function v(n){try{s.postMessage(JSON.parse(JSON.stringify(n||{})),"*")}catch(e){console.error("Popup Send Error",n,e)}}}(e,{onReady:function(n,u){return a(h.mark((function n(){var o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=u.send,n.prev=1,o({fclVersion:hn,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:e.params,data:e.data,type:e.type},config:t}),o({fclVersion:hn,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:e.params,data:e.data,type:e.type},config:t,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),l&&o({jsonrpc:"2.0",id:c,method:"fcl:sign",params:[r,e.params]}),n.next=10;break;case 7:throw n.prev=7,n.t0=n.catch(1),n.t0;case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))()},onResponse:function(e,r){var t=r.close;try{if("object"!==s(e.data))return;var u=da(e.data);switch(u.status){case"APPROVED":n(u.data),!f&&t();break;case"DECLINED":o("Declined: ".concat(u.reason||"No reason supplied")),t();break;case"REDIRECT":n(u),t();break;default:o("Declined: No reason supplied"),t()}}catch(n){throw console.error("execPopRPC onResponse error",n),n}},onMessage:function(e,r){var t=r.close;try{if("object"!==s(e.data))return;if("2.0"!==e.data.jsonrpc)return;if(e.data.id!==c)return;var u=da(e.data.result);switch(u.status){case"APPROVED":n(u.data),!f&&t();break;case"DECLINED":o("Declined: ".concat(u.reason||"No reason supplied")),t();break;case"REDIRECT":n(u),t();break;default:o("Declined: No reason supplied"),t()}}catch(n){throw console.error("execPopRPC onMessage error",n),n}},onClose:function(){o("Declined: Externally Halted")}})}))},"TAB/RPC":function(n){var e=n.service,r=n.body,t=n.config,u=n.opts;return new Promise((function(n,o){var c=Pa(),f=u.redir,l=u.includeOlderJsonRpcCall;!function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==n)return{send:za,close:za};var r=e.onClose||za,t=e.onMessage||za,u=e.onReady||za,o=e.onResponse||za,c=Ba({close:d,send:v,onReady:u,onResponse:o,onMessage:t});window.addEventListener("message",c);var a=i(Sa(fa(n)),2),s=a[0],f=a[1],l=setInterval((function(){s&&s.closed&&d()}),500);return{send:v,close:d};function d(){try{window.removeEventListener("message",c),clearInterval(l),f(),r()}catch(n){console.error("Tab Close Error",n)}}function v(n){try{s.postMessage(JSON.parse(JSON.stringify(n||{})),"*")}catch(e){console.error("Tab Send Error",n,e)}}}(e,{onReady:function(n,u){return a(h.mark((function n(){var o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=u.send,n.prev=1,o({fclVersion:hn,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:e.params,data:e.data,type:e.type},config:t}),o({fclVersion:hn,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:e.params,data:e.data,type:e.type},config:t,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),l&&o({jsonrpc:"2.0",id:c,method:"fcl:sign",params:[r,e.params]}),n.next=10;break;case 7:throw n.prev=7,n.t0=n.catch(1),n.t0;case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))()},onResponse:function(e,r){var t=r.close;try{if("object"!==s(e.data))return;var u=da(e.data);switch(u.status){case"APPROVED":n(u.data),!f&&t();break;case"DECLINED":o("Declined: ".concat(u.reason||"No reason supplied")),t();break;case"REDIRECT":n(u),t();break;default:o("Declined: No reason supplied"),t()}}catch(n){throw console.error("execPopRPC onResponse error",n),n}},onMessage:function(e,r){var t=r.close;try{if("object"!==s(e.data))return;if("2.0"!==e.data.jsonrpc)return;if(e.data.id!==c)return;var u=da(e.data.result);switch(u.status){case"APPROVED":n(u.data),!f&&t();break;case"DECLINED":o("Declined: ".concat(u.reason||"No reason supplied")),t();break;case"REDIRECT":n(u),t();break;default:o("Declined: No reason supplied"),t()}}catch(n){throw console.error("execPopRPC onMessage error",n),n}},onClose:function(){o("Declined: Externally Halted")}})}))},"EXT/RPC":function(n){var e=n.service,r=n.body,t=n.config;return new Promise((function(n,u){!function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==n)return{send:Wa,close:Wa};var r=e.onClose||Wa,t=e.onMessage||Wa,u=e.onReady||Wa,o=e.onResponse||Wa,i=Ba({close:c,send:a,onReady:u,onResponse:o,onMessage:t});return window.addEventListener("message",i),a({service:n}),{send:a,close:c};function c(){try{window.removeEventListener("message",i),r()}catch(n){console.error("Ext Close Error",n)}}function a(n){try{window&&window.postMessage(JSON.parse(JSON.stringify(n||{})),"*")}catch(e){console.error("Ext Send Error",n,e)}}}(e,{onReady:function(n,u){return a(h.mark((function n(){var o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=u.send,n.prev=1,o({fclVersion:hn,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:e.params,data:e.data,type:e.type},config:t}),n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(1),n.t0;case 8:case"end":return n.stop()}}),n,null,[[1,5]])})))()},onResponse:function(e,r){var t=r.close;try{if("object"!==s(e.data))return;var o=da(e.data);switch(o.status){case"APPROVED":n(o.data),t();break;case"DECLINED":u("Declined: ".concat(o.reason||"No reason supplied")),t();break;case"REDIRECT":n(o),t();break;default:u("Declined: No reason supplied"),t()}}catch(n){throw console.error("execExtRPC onResponse error",n),n}},onClose:function(){u("Declined: Externally Halted")}})}))}},Ya=["ServicePlugin"],Xa=["discovery-service"],Za=(Ka=new Set,Va=new Map(Object.entries(Ja)),Ha=function(n){return Ka=new Set(bn(n))},Object.freeze({add:function(n){if(pn(Xa.includes(n.type),"Service Plugin type ".concat(n.type," is not supported")),"discovery-service"===n.type){var e=function(n){var e=n.services,r=n.serviceStrategy;pn(Array.isArray(e)&&e.length,"Array of Discovery Services is required");var t,u=w(e);try{for(u.s();!(t=u.n()).done;){var o=t.value;pn(Jo(o.f_type)&&"Service"===o.f_type,"Service is required"),pn(Jo(o.type)&&"authn"===o.type,"Service must be type authn. Received ".concat(o.type)),pn(o.method in Ja||r.method===o.method,"Service method ".concat(o.method," is not supported"))}}catch(n){u.e(n)}finally{u.f()}return pn(Jo(r),"Service strategy is required"),pn(Jo(r.method)&&Xo(r.method),"Service strategy method is required"),pn(Jo(r.exec)&&Zo(r.exec),"Service strategy exec function is required"),{discoveryServices:e,serviceStrategy:r}}(n),r=e.discoveryServices,t=e.serviceStrategy;Ha(r),Va.has(t.method)?gn({title:"Add Service Plugin",message:"Service strategy for ".concat(t.method," already exists"),level:mn.warn}):Va.set(t.method,t.exec)}},getServices:function(){return bn(Ka)},getStrategy:function(n){return Va.get(n)},getStrategies:function(){return bn(Va.keys())}})),$a=(qa=new Map,Object.freeze({add:function(n){var e,r=function(n){var e;pn(n,"No plugins supplied");var r,t=w(e=Array.isArray(n)?bn(n):[n]);try{for(t.s();!(r=t.n()).done;){var u=r.value;pn(Jo(u.name),"Plugin name is required"),pn(Jo(u.f_type),"Plugin f_type is required"),pn(Ya.includes(u.f_type),"Plugin type ".concat(u.f_type," is not supported"))}}catch(n){t.e(n)}finally{t.f()}return e}(n),t=w(r);try{for(t.s();!(e=t.n()).done;){var u=e.value;qa.set(u.name,u),"ServicePlugin"===u.f_type&&Za.add(u)}}catch(n){t.e(n)}finally{t.f()}},getPlugins:function(){return qa}})),Qa=function(){var n=a(h.mark((function n(e){var r,t,u,o,i;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.service,t=e.body,u=e.config,o=e.opts,i=Za.getStrategy(r.method),n.abrupt("return",i({service:r,body:t,config:u,opts:o}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();function ns(n){return es.apply(this,arguments)}function es(){return es=a(h.mark((function n(e){var r,t,u,o,i,c,a,s,f,l,d,v;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.service,i=e.msg,c=void 0===i?{}:i,a=e.config,s=void 0===a?{}:a,f=e.opts,l=void 0===f?{}:f,c.data=o.data,n.next=4,dn(/^service\./);case 4:return n.t0=n.sent,n.next=7,dn(/^app\.detail\./);case 7:return n.t1=n.sent,n.t2=g(g({},s.client),{},{fclVersion:hn,fclLibrary:"https://github.com/onflow/fcl-js",hostname:null!==(r=null===(t=window)||void 0===t||null===(u=t.location)||void 0===u?void 0:u.hostname)&&void 0!==r?r:null}),d={services:n.t0,app:n.t1,client:n.t2},n.prev=10,n.next=13,Qa({service:o,body:c,config:d,opts:l});case 13:if("REDIRECT"!==(v=n.sent).status){n.next=21;break}return pn(o.type===v.data.type,"Cannot shift recursive service type in execService"),n.next=18,ns({service:v.data,msg:c,config:d,opts:l});case 18:return n.abrupt("return",n.sent);case 21:return n.abrupt("return",v);case 22:n.next=28;break;case 24:throw n.prev=24,n.t3=n.catch(10),gn({title:"Error on execService ".concat(null==o?void 0:o.type),message:n.t3,level:mn.error}),n.t3;case 28:case"end":return n.stop()}}),n,null,[[10,24]])}))),es.apply(this,arguments)}function rs(n){return null==n?null:"1.0.0"===n.f_vsn?n:g(g({},$c),{},{addr:Yn(n.addr||n.address),signature:n.signature||n.sig,keyId:n.keyId})}var ts,us=function(){var n=a(h.mark((function n(){var e,r;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(null===(e=window)||void 0===e?void 0:e.fcl_extensions)||[],n.abrupt("return",[].concat(bn(r),bn(Za.getServices())));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();function os(n){return is.apply(this,arguments)}function is(){return(is=a(h.mark((function n(e){var r,t,u,o,i;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,on.get("discovery.authn.include",[]);case 2:return t=n.sent,n.next=5,on.first(["discovery.wallet.method","discovery.wallet.method.default"]);case 5:if(u=n.sent,o=null!=e&&e.method?e.method:u,null===(r=null==e?void 0:e.endpoint)||void 0===r){n.next=11;break}n.t0=r,n.next=14;break;case 11:return n.next=13,on.first(["discovery.wallet","challenge.handshake"]);case 13:n.t0=n.sent;case 14:return pn(i=n.t0,'\n    If no service is passed to "authenticate," then "discovery.wallet" must be defined in fcl config.\n    See: "https://docs.onflow.org/fcl/reference/api/#setting-configuration-values"\n    '),n.abrupt("return",g(g({},e),{},{type:"authn",endpoint:i,method:o,discoveryAuthnInclude:t}));case 17:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function cs(n){return as.apply(this,arguments)}function as(){return as=a(h.mark((function n(e){var r,t,u,o,i,c;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=e.types,n.next=3,on.get("discovery.authn.endpoint");case 3:return o=n.sent,pn(Boolean(o),'"discovery.authn.endpoint" in config must be defined.'),n.next=7,on.get("discovery.authn.include",[]);case 7:return i=n.sent,c=new URL(o),n.t0=fetch,n.t1=c,n.t2={"Content-Type":"application/json"},n.t3=JSON,n.t4=u,n.t5=hn,n.t6=i,n.next=18,us();case 18:return n.t7=n.sent,n.t8=Za.getStrategies(),n.t9=null===(r=window)||void 0===r||null===(t=r.navigator)||void 0===t?void 0:t.userAgent,n.t10={type:n.t4,fclVersion:n.t5,include:n.t6,clientServices:n.t7,supportedStrategies:n.t8,userAgent:n.t9},n.t11=n.t3.stringify.call(n.t3,n.t10),n.t12={method:"POST",headers:n.t2,body:n.t11},n.abrupt("return",(0,n.t0)(n.t1,n.t12).then((function(n){return n.json()})));case 25:case"end":return n.stop()}}),n)}))),as.apply(this,arguments)}var ss,fs,ls,ds="authn",vs="SNAPSHOT",hs="UPDATED",ps="UPDATE_RESULTS",bs=function(){var n=a(h.mark((function n(){var e;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,cs({types:[ds]});case 3:e=n.sent,P(ds,ps,{results:e}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),gn({title:"".concat(n.t0.name," Error fetching Discovery API services."),message:n.t0.message,level:mn.error});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}(),ms=(m(ts={},I,(fs=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e="undefined"==typeof window,r='"fcl.discovery" is only available in the browser.',e&&console.warn("\n      %cFCL Warning\n      ============================\n      ".concat(r,"\n      For more info, please see the docs: https://docs.onflow.org/fcl/\n      ============================\n      "),"font-weight:bold;font-family:monospace;"),"complete"===document.readyState?bs():window.onload=a(h.mark((function n(){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:bs();case 1:case"end":return n.stop()}}),n)})));case 2:case"end":return n.stop()}var e,r}),n)}))),function(n){return fs.apply(this,arguments)})),m(ts,ps,(function(n,e,r){n.merge(r),n.broadcast(hs,g({},n.all()))})),m(ts,S,(function(n,e){n.subscribe(e.from),n.send(e.from,hs,g({},n.all()))})),m(ts,A,(function(n,e){return n.unsubscribe(e.from)})),m(ts,vs,(ss=a(h.mark((function n(e,r){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.reply(g({},e.all())));case 1:case"end":return n.stop()}}),n)}))),function(n,e){return ss.apply(this,arguments)})),ts),ys=function(){return U(ms,ds)},gs={authn:{subscribe:function(n){return _(ds,ys,n)},snapshot:function(){return F(ds,ys)},update:function(){return bs()}}};function ws(){return"undefined"!=typeof navigator&&/iPhone|iPod/.test(navigator.userAgent)||"undefined"!=typeof navigator&&/iPad/.test(navigator.userAgent)}function Es(){return"undefined"!=typeof navigator&&/android/i.test(navigator.userAgent)||ws()}var ks,Is,Ss=function(n){return"function"==typeof n},As="CURRENT_USER",Ts="CURRENT_USER/UPDATED",Rs="SNAPSHOT",Os="SET_CURRENT_USER",Ns="DEL_CURRENT_USER",xs='{\n  "f_type": "User",\n  "f_vsn": "1.0.0",\n  "addr":null,\n  "cid":null,\n  "loggedIn":null,\n  "expiresAt":null,\n  "services":[]\n}',Cs=function(){var n=a(h.mark((function n(e){var r,t;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=JSON.parse(xs),n.next=3,e.get(As);case 3:if(null==(t=n.sent)||r.f_vsn===t.f_vsn){n.next=7;break}return e.removeItem(As),n.abrupt("return",r);case 7:return n.abrupt("return",t||r);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Ps=(m(ls={},I,function(){var n=a(h.mark((function n(e){var r,t;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"undefined"==typeof window&&console.warn('\n        %cFCL Warning\n        ============================\n        "currentUser" is only available in the browser.\n        For more info, please see the docs: https://docs.onflow.org/fcl/\n        ============================\n        ',"font-weight:bold;font-family:monospace;"),e.merge(JSON.parse(xs)),n.next=4,on.first(["fcl.storage","fcl.storage.default"]);case 4:if(!(r=n.sent).can){n.next=10;break}return n.next=8,Cs(r);case 8:Ds(t=n.sent)&&e.merge(t);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),m(ls,S,(function(n,e){n.subscribe(e.from),n.send(e.from,Ts,g({},n.all()))})),m(ls,A,(function(n,e){n.unsubscribe(e.from)})),m(ls,Rs,(Is=a(h.mark((function n(e,r){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.reply(g({},e.all()));case 1:case"end":return n.stop()}}),n)}))),function(n,e){return Is.apply(this,arguments)})),m(ls,Os,function(){var n=a(h.mark((function n(e,r,t){var u;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.merge(t),n.next=3,on.first(["fcl.storage","fcl.storage.default"]);case 3:(u=n.sent).can&&u.put(As,e.all()),e.broadcast(Ts,g({},e.all()));case 6:case"end":return n.stop()}}),n)})));return function(e,r,t){return n.apply(this,arguments)}}()),m(ls,Ns,(ks=a(h.mark((function n(e,r){var t;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.merge(JSON.parse(xs)),n.next=3,on.first(["fcl.storage","fcl.storage.default"]);case 3:(t=n.sent).can&&t.put(As,e.all()),e.broadcast(Ts,g({},e.all()));case 6:case"end":return n.stop()}}),n)}))),function(n,e){return ks.apply(this,arguments)})),ls),js=function(){return U(Ps,As)};function Ds(n){return null==n.expiresAt||0===n.expiresAt||n.expiresAt>Date.now()}function Us(){return _s.apply(this,arguments)}function _s(){return(_s=a(h.mark((function n(){var e,r;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,on.get("fcl.accountProof.resolver");case 2:if(e=n.sent,Ss(e)){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,e();case 7:if(null!=(r=n.sent)){n.next=10;break}return n.abrupt("return");case 10:return pn("string"==typeof r.appIdentifier,"appIdentifier must be a string"),pn(/^[0-9a-f]+$/i.test(r.nonce),"Nonce must be a hex string"),n.abrupt("return",r);case 13:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var Fs=function(){var n=a(h.mark((function n(e){var r;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.discoveryAuthnInclude,n.t0=r,n.next=4,us();case 4:return n.t1=n.sent,n.t2=Za.getStrategies(),n.t3={discoveryAuthnInclude:n.t0,clientServices:n.t1,supportedStrategies:n.t2},n.abrupt("return",{client:n.t3});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();function Ms(){return Bs.apply(this,arguments)}function Bs(){return Bs=a(h.mark((function n(){var e,r,t,u,o,i,c,s=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},u=t.service,o=t.redir,i=void 0!==o&&o,!u||null!=u&&null!==(e=u.provider)&&void 0!==e&&e.is_installed||null==u||null===(r=u.provider)||void 0===r||!r.requires_install){n.next=4;break}return window.location.href=null==u||null===(c=u.provider)||void 0===c?void 0:c.install_link,n.abrupt("return");case 4:return n.abrupt("return",new Promise(function(){var n=a(h.mark((function n(e,r){var t,o,c,a,s,f,l;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return js(),t={redir:i},n.next=4,Vs();case 4:return o=n.sent,n.next=7,os(u);case 7:return c=n.sent,a=sa(o.services,"authn-refresh"),n.prev=9,n.next=12,Us();case 12:s=n.sent,n.next=19;break;case 15:return n.prev=15,n.t0=n.catch(9),console.error("Error During Authentication: Could not resolve account proof data.\n        ".concat(n.t0)),n.abrupt("return",r(n.t0));case 19:if(!o.loggedIn){n.next=47;break}if(!a){n.next=46;break}return n.prev=21,n.next=24,ns({service:a,msg:s,opts:t});case 24:return f=n.sent,n.t1=P,n.t2=As,n.t3=Os,n.next=30,ca(f);case 30:n.t4=n.sent,(0,n.t1)(n.t2,n.t3,n.t4),n.next=37;break;case 34:n.prev=34,n.t5=n.catch(21),console.error("Error: Could not refresh authentication.",n.t5);case 37:return n.prev=37,n.t6=e,n.next=41,Vs();case 41:return n.t7=n.sent,n.abrupt("return",(0,n.t6)(n.t7));case 44:n.next=47;break;case 46:return n.abrupt("return",e(o));case 47:return n.prev=47,n.t8=ns,n.t9=c,n.t10=s,n.next=53,Fs(c);case 53:return n.t11=n.sent,n.t12=t,n.t13={service:n.t9,msg:n.t10,config:n.t11,opts:n.t12},n.next=58,(0,n.t8)(n.t13);case 58:return l=n.sent,n.t14=P,n.t15=As,n.t16=Os,n.next=64,ca(l);case 64:n.t17=n.sent,(0,n.t14)(n.t15,n.t16,n.t17),n.next=71;break;case 68:n.prev=68,n.t18=n.catch(47),console.error("Error while authenticating",n.t18);case 71:return n.prev=71,n.t19=e,n.next=75,Vs();case 75:return n.t20=n.sent,(0,n.t19)(n.t20),n.finish(71);case 78:case"end":return n.stop()}}),n,null,[[9,15],[21,34,37,44],[47,68,71,78]])})));return function(e,r){return n.apply(this,arguments)}}()));case 5:case"end":return n.stop()}}),n)}))),Bs.apply(this,arguments)}function Ls(){js(),P(As,Ns)}function Gs(n){var e=function(n){return{f_type:"PreAuthzResponse",f_vsn:"1.0.0",proposer:(n||{}).proposer,payer:(n||{}).payer||[],authorization:(n||{}).authorization||[]}}(n),r=[];null!=e.proposer&&r.push(["PROPOSER",e.proposer]);var t,u=w(e.payer||[]);try{for(u.s();!(t=u.n()).done;){var o=t.value;r.push(["PAYER",o])}}catch(n){u.e(n)}finally{u.f()}var c,a=w(e.authorization||[]);try{for(a.s();!(c=a.n()).done;){var s=c.value;r.push(["AUTHORIZER",s])}}catch(n){a.e(n)}finally{a.f()}var f=r.map((function(n){var e=i(n,2),r=e[0],t=e[1];return{tempId:[t.identity.address,t.identity.keyId].join("|"),addr:t.identity.address,keyId:t.identity.keyId,signingFunction:function(n){return ns({service:t,msg:n})},role:{proposer:"PROPOSER"===r,payer:"PAYER"===r,authorizer:"AUTHORIZER"===r}}}));return f}function zs(n){return Ws.apply(this,arguments)}function Ws(){return Ws=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return js(),n.abrupt("return",g(g({},e),{},{tempId:"CURRENT_USER",resolve:function(n,e){return a(h.mark((function r(){var t,u,o,i;return h.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ms({redir:!0});case 2:if(t=r.sent,u=sa(t.services,"authz"),!(o=sa(t.services,"pre-authz"))){r.next=11;break}return r.t0=Gs,r.next=9,ns({service:o,msg:e});case 9:return r.t1=r.sent,r.abrupt("return",(0,r.t0)(r.t1));case 11:if(!u){r.next=14;break}return Es()&&"WC/RPC"===u.method&&(i=window.open("","_blank")),r.abrupt("return",g(g({},n),{},{tempId:"CURRENT_USER",resolve:null,addr:Yn(u.identity.address),keyId:u.identity.keyId,sequenceNum:null,signature:null,signingFunction:function(n){return a(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=rs,e.next=3,ns({service:u,msg:n,opts:{includeOlderJsonRpcCall:!0,windowRef:i}});case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))()}}));case 14:throw new Error("No Authz or PreAuthz Service configured for CURRENT_USER");case 15:case"end":return r.stop()}}),r)})))()}}));case 2:case"end":return n.stop()}}),n)}))),Ws.apply(this,arguments)}function Ks(n){js();var e="@EXIT",r=U(function(){var r=a(h.mark((function r(t){var u;return h.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.send(As,S);case 1:return r.next=4,t.receive();case 4:if((u=r.sent).tag!==e){r.next=8;break}return t.send(As,A),r.abrupt("return");case 8:n(u.data),r.next=1;break;case 11:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}());return function(){return P(r,e)}}function Vs(){return js(),P(As,Rs,null,{expectReply:!0,timeout:0})}function Hs(){return qs.apply(this,arguments)}function qs(){return(qs=a(h.mark((function n(){var e,r;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ms();case 2:return e=n.sent,r=e.addr,n.abrupt("return",xo(Xn(r),gc));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var Js=function(n){return pn(/^[0-9a-f]+$/i.test(n),"Message must be a hex string"),{message:n}};function Ys(n){return Xs.apply(this,arguments)}function Xs(){return Xs=a(h.mark((function n(e){var r,t,u;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return js(),n.next=3,Ms({redir:!0});case 3:return r=n.sent,pn(t=sa(r.services,"user-signature"),"Current user must have authorized a signing service."),n.prev=6,n.next=9,ns({service:t,msg:Js(e)});case 9:if(u=n.sent,!Array.isArray(u)){n.next=14;break}return n.abrupt("return",u.map((function(n){return rs(n)})));case 14:return n.abrupt("return",[rs(u)]);case 15:n.next=20;break;case 17:return n.prev=17,n.t0=n.catch(6),n.abrupt("return",n.t0);case 20:case"end":return n.stop()}}),n,null,[[6,17]])}))),Xs.apply(this,arguments)}var Zs=function(){return{authenticate:Ms,unauthenticate:Ls,authorization:zs,signUserMessage:Ys,subscribe:Ks,snapshot:Vs,resolveArgument:Hs}};function $s(){return $s=a(h.mark((function n(){var e,r,t,u=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},n.prev=1,n.next=4,Bc(e);case 4:return n.next=6,Uc(e);case 6:return e=n.sent,n.next=9,on().get("fcl.authz",Zs().authorization);case 9:return t=n.sent,r=on().overload(e.dependencies||{},a(h.mark((function n(){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",mo([Mo(e.cadence),No(Ac(e.args||[])),e.limit&&$o(e.limit)&&Oo(e.limit),Co(e.proposer||e.authz||t),jo(e.payer||e.authz||t),Ao(e.authorizations||[e.authz||t])]).then(yo));case 1:case"end":return n.stop()}}),n)})))),n.abrupt("return",r);case 14:throw n.prev=14,n.t0=n.catch(1),n.t0;case 17:case"end":return n.stop()}}),n,null,[[1,14]])}))),$s.apply(this,arguments)}Zs.authenticate=Ms,Zs.unauthenticate=Ls,Zs.authorization=zs,Zs.signUserMessage=Ys,Zs.subscribe=Ks,Zs.snapshot=Vs,Zs.resolveArgument=Hs;var Qs=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=function(n){var e;return n.deprecated&&console.warn("DEPRECATION NOTICE",n.deprecated.message),null==n||(null===(e=n.body)||void 0===e||delete e.interaction),n},t=function(t){var u=t.data;"object"===s(u)&&null!=s(u)&&u.type===n&&e(r(u))};return window.addEventListener("message",t),function(){return window.removeEventListener("message",t)}},nf=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(window.location!==window.parent.location)window.parent.postMessage(g(g({},e),{},{type:n}),"*");else{if(!window.opener)throw new Error("Unable to communicate with parent FCL instance");window.opener.postMessage(g(g({},e),{},{type:n}),"*")}};var ef=function(n,e){return xn.Buffer.from(n.padEnd(2*e,"0"),"hex")},rf=function(n){return function(n,e){return xn.Buffer.from(n.padStart(2*e,"0"),"hex")}(n,8)},tf=function(n){return xn.Buffer.from(n,"hex")},uf=function(n){var e=n.address,r=n.nonce,t=n.appIdentifier,u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];pn(e,"Encode Message For Provable Authn Error: address must be defined"),pn(r,"Encode Message For Provable Authn Error: nonce must be defined"),pn(t,"Encode Message For Provable Authn Error: appIdentifier must be defined"),pn(r.length>=64,"Encode Message For Provable Authn Error: nonce must be minimum of 32 bytes");var o=ef(xn.Buffer.from("FCL-ACCOUNT-PROOF-V0.0").toString("hex"),32);return u?xn.Buffer.concat([o,Gn([t,rf(Yn(e)),tf(r)])]).toString("hex"):Gn([t,rf(Yn(e)),tf(r)]).toString("hex")};var of=Object.freeze({__proto__:null,sendMsgToFCL:nf,ready:function(n){Qs("FCL:VIEW:READY:RESPONSE",n),nf("FCL:VIEW:READY")},close:function(){nf("FCL:VIEW:CLOSE")},approve:function(n){nf("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"APPROVED",reason:null,data:n})},decline:function(n){nf("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"DECLINED",reason:n,data:null})},redirect:function(n){nf("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"REDIRECT",reason:null,data:n})},onMessageFromFCL:Qs,encodeMessageFromSignable:function(n,e){var r,t,u=(r=n.voucher,(t=new Set(r.authorizers)).add(r.proposalKey.address),t.delete(r.payer),Array.from(t).map(Xn)),o=function(n){var e=new Set([n.payer]);return Array.from(e).map(Xn)}(n.voucher),i=u.includes(Xn(e)),c=o.includes(Xn(e));if(!i&&!c)throw new wo(e);var a={cadence:n.voucher.cadence,refBlock:n.voucher.refBlock,computeLimit:n.voucher.computeLimit,arguments:n.voucher.arguments,proposalKey:g(g({},n.voucher.proposalKey),{},{address:Yn(n.voucher.proposalKey.address)}),payer:Yn(n.voucher.payer),authorizers:n.voucher.authorizers.map(Yn),payloadSigs:n.voucher.payloadSigs.map((function(n){return g(g({},n),{},{address:Yn(n.address)})}))};return i?vu(a):hu(a)},CompositeSignature:function(n,e,r){this.f_type=$c.f_type,this.f_vsn=$c.f_vsn,this.addr=Xn(n),this.keyId=Number(e),this.signature=r},encodeAccountProof:uf,injectExtService:function(n){"authn"===n.type&&null!=n.endpoint?(Array.isArray(window.fcl_extensions)||(window.fcl_extensions=[]),window.fcl_extensions.push(n)):console.warn("Authn service is required")}}),cf="ACCOUNT_PROOF",af="USER_SIGNATURE",sf=function(n){if(n.appIdentifier){var e=n.appIdentifier,r=n.address,t=n.nonce,u=n.signatures;return pn(Xo(e),"verifyAccountProof({ appIdentifier }) -- appIdentifier must be a string"),pn(Xo(r)&&16===Yn(r).length,"verifyAccountProof({ address }) -- address must be a valid address"),pn(/^[0-9a-f]+$/i.test(t),"nonce must be a hex string"),pn(Array.isArray(u)&&u.every((function(n,e,r){return"CompositeSignature"===n.f_type})),"Must include an Array of CompositeSignatures to verify"),pn(u.map((function(n){return n.addr})).every((function(n,e,r){return n===r[0]})),"User signatures to be verified must be from a single account address"),!0}var o=n.message,i=n.address,c=n.compSigs;return pn(/^[0-9a-f]+$/i.test(o),"Signed message must be a hex string"),pn(Xo(i)&&16===Yn(i).length,"verifyUserSignatures({ address }) -- address must be a valid address"),pn(Array.isArray(c)&&c.every((function(n,e,r){return"CompositeSignature"===n.f_type})),"Must include an Array of CompositeSignatures to verify"),pn(c.map((function(n){return n.addr})).every((function(n,e,r){return n===r[0]})),"User signatures to be verified must be from a single account address"),!0},ff=function(){var n=a(h.mark((function n(e,r){var t,u,o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="ACCOUNT_PROOF"===e?"verifyAccountProofSignatures":"verifyUserSignatures",n.next=3,on.get("flow.network");case 3:if(u=n.sent){n.next=9;break}return n.next=7,on.get("env");case 7:(u=n.sent)&&gn.deprecate({pkg:"FCL",subject:'Using the "env" configuration key for specifying the flow network',message:'Please use "flow.network" instead.',transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/TRANSITIONS.md#0001-deprecate-env-config-key"});case 9:return pn(r.fclCryptoContract||"testnet"===u||"mainnet"===u,"${verifyFunction}({ fclCryptoContract }) -- config.flow.network must be specified (testnet || mainnet) or contract address provided via opts.fclCryptoContract"),o=r.fclCryptoContract?r.fclCryptoContract:"testnet"===u?"0x74daa6f9c7ef24b1":"0xb4b82a1c9d21d284",n.abrupt("return","\n      import FCLCrypto from ".concat(o,"\n\n      pub fun main(\n          address: Address, \n          message: String, \n          keyIndices: [Int], \n          signatures: [String]\n      ): Bool {\n        return FCLCrypto.").concat(t,"(address: address, message: message, keyIndices: keyIndices, signatures: signatures)\n      }\n    "));case 12:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}();function lf(){return lf=a(h.mark((function n(e,r){var t,u,o,i,c,a,s,f,l,d,v=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=r.address,u=r.nonce,o=r.signatures,i=v.length>2&&void 0!==v[2]?v[2]:{},sf({appIdentifier:e,address:t,nonce:u,signatures:o}),c=uf({address:t,nonce:u,appIdentifier:e},!1),a=[],s=[],f=w(o);try{for(f.s();!(l=f.n()).done;)d=l.value,a.push(d.signature),s.push(d.keyId.toString())}catch(n){f.e(n)}finally{f.f()}return n.t0=Wc,n.next=11,ff(cf,i);case 11:return n.t1=n.sent,n.t2=function(n,e){return[n(Xn(t),e.Address),n(c,e.String),n(s,e.Array(e.Int)),n(a,e.Array(e.String))]},n.t3={cadence:n.t1,args:n.t2},n.abrupt("return",(0,n.t0)(n.t3));case 15:case"end":return n.stop()}}),n)}))),lf.apply(this,arguments)}function df(n,e){return vf.apply(this,arguments)}function vf(){return vf=a(h.mark((function n(e,r){var t,u,o,i,c,a,s,f=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=f.length>2&&void 0!==f[2]?f[2]:{},u=Xn(r[0].addr),sf({message:e,address:u,compSigs:r}),o=[],i=[],c=w(r);try{for(c.s();!(a=c.n()).done;)s=a.value,o.push(s.signature),i.push(s.keyId.toString())}catch(n){c.e(n)}finally{c.f()}return n.t0=Wc,n.next=10,ff(af,t);case 10:return n.t1=n.sent,n.t2=function(n,r){return[n(u,r.Address),n(e,r.String),n(i,r.Array(r.Int)),n(o,r.Array(r.String))]},n.t3={cadence:n.t1,args:n.t2},n.abrupt("return",(0,n.t0)(n.t3));case 14:case"end":return n.stop()}}),n)}))),vf.apply(this,arguments)}var hf,pf,bf=Object.freeze({__proto__:null,verifyAccountProof:function(n,e){return lf.apply(this,arguments)},verifyUserSignatures:df}),mf=gn.deprecate({pkg:"FCL",subject:"fcl.verifyUserSignatures()",message:"Please use fcl.AppUtils.verifyUserSignatures()",callback:function(n,e){return df(n,e)}}),yf=function(){var n=a(h.mark((function n(){var e,r,t,u=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:[],r=u.length>1&&void 0!==u[1]?u[1]:{},n.next=4,on.first(["sdk.resolve"],r.resolve||vo);case 4:if(t=n.sent,!Array.isArray(e)){n.next=9;break}return n.next=8,Ct(Gr(),e);case 8:e=n.sent;case 9:return n.t0=JSON,n.t1=Yu,n.next=13,t(e);case 13:return n.t2=n.sent,n.t3=(0,n.t1)(n.t2),n.abrupt("return",n.t0.stringify.call(n.t0,n.t3,null,2));case 16:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),gf="POLL",wf=function(){var n=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",mo([Ro(e)]).then(yo));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Ef=function(n){return n.status>=4},kf=function(n){return n.status>=3},If=function(n){return n.status>=2},Sf=(m(hf={},I,function(){var n=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.sendSelf(gf);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),m(hf,S,(function(n,e){n.subscribe(e.from),n.send(e.from,T,n.all())})),m(hf,A,(function(n,e){n.unsubscribe(e.from)})),m(hf,R,function(){var n=a(h.mark((function n(e,r){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.reply(e.all());case 1:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}()),m(hf,gf,function(){var n=a(h.mark((function n(e){var r;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,wf(e.self());case 3:r=n.sent,n.next=9;break;case 6:return n.prev=6,n.t0=n.catch(0),n.abrupt("return",e.fatalError(n.t0));case 9:Ef(r)||setTimeout((function(){return e.sendSelf(gf)}),2500),t=e.all(),u=r,JSON.stringify(t)!==JSON.stringify(u)&&e.broadcast(T,r),e.merge(r);case 12:case"end":return n.stop()}var t,u}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()),hf),Af=function(n){if("object"===s(n)&&(n=n.transactionId),null==n)throw new Error("transactionId required");return n},Tf=function(n){return U(Sf,Af(n))};function Rf(n){function e(e){return _(Af(n),Tf,e)}function r(n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.suppress||!1;return new Promise((function(r,u){var o=e((function(e,i){!i&&!e.statusCode||t?n(e)&&(r(e),o()):(u(i||e.errorMessage),o())}))}))}}return{snapshot:function(){return F(n,Tf)},subscribe:e,onceFinalized:r(If),onceExecuted:r(kf),onceSealed:r(Ef)}}Rf.isUnknown=function(n){return n.status>=0},Rf.isPending=function(n){return n.status>=1},Rf.isFinalized=If,Rf.isExecuted=kf,Rf.isSealed=Ef,Rf.isExpired=function(n){return 5===n.status};var Of="TICK",Nf="hwm",xf=function(){var n=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=setTimeout,n.t1=function(){return e.sendSelf(Of)},n.next=4,on().get("fcl.eventPollRate",1e4);case 4:return n.t2=n.sent,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Cf=(m(pf={},Of,function(){var n=a(h.mark((function n(e){var r,t,u,o,i,c;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.hasSubs()){n.next=2;break}return n.abrupt("return");case 2:if(null!=(r=e.get(Nf))){n.next=18;break}return n.t0=e,n.t1=Nf,n.next=8,So();case 8:return n.t2=n.sent,n.t0.put.call(n.t0,n.t1,n.t2),n.t3=e,n.t4=Of,n.next=14,xf(e);case 14:n.t5=n.sent,n.t3.put.call(n.t3,n.t4,n.t5),n.next=34;break;case 18:return n.next=20,So();case 20:if(t=n.sent,e.put(Nf,t),!(r.height<t.height)){n.next=28;break}return n.next=25,mo([To(e.self(),r.height+1,t.height)]).then(yo);case 25:u=n.sent,o=w(u);try{for(o.s();!(i=o.n()).done;)c=i.value,e.broadcast("UPDATED",c.data)}catch(n){o.e(n)}finally{o.f()}case 28:return n.t6=e,n.t7=Of,n.next=32,xf(e);case 32:n.t8=n.sent,n.t6.put.call(n.t6,n.t7,n.t8);case 34:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),m(pf,S,function(){var n=a(h.mark((function n(e,r){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.hasSubs()){n.next=7;break}return n.t0=e,n.t1=Of,n.next=5,xf(e);case 5:n.t2=n.sent,n.t0.put.call(n.t0,n.t1,n.t2);case 7:e.subscribe(r.from);case 8:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}()),m(pf,A,(function(n,e){n.unsubscribe(e.from),n.hasSubs()||(clearTimeout(n.get(Of)),n.delete(Of),n.delete(Nf))})),pf),Pf=function(n){return U(Cf,n)};function jf(n){return Df.apply(this,arguments)}function Df(){return(Df=a(h.mark((function n(e){var r;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=new tr.SHA3(256)).update(xn.Buffer.from(e,"utf8")),n.abrupt("return",r.digest("hex"));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Uf(n){return _f.apply(this,arguments)}function _f(){return _f=a(h.mark((function n(e){var r,t,u,o,i,c;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:bo(null!=(r=e.template),"generateTemplateId({ template }) -- template must be defined"),bo("object"===s(r),"generateTemplateId({ template }) -- template must be an object"),bo("InteractionTemplate"==typeof r.f_type,"generateTemplateId({ template }) -- template object must be an InteractionTemplate"),r=Cc(r),n.t0=r.f_version,n.next="1.0.0"===n.t0?8:40;break;case 8:return t=r.data,n.next=11,Promise.all(Object.keys(t.messages).map(function(){var n=a(h.mark((function n(e){var r,u;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jf(e);case 2:return n.t0=n.sent,n.next=5,Promise.all(Object.keys(null===(r=t.messages)||void 0===r||null===(u=r[e])||void 0===u?void 0:u.i18n).map(function(){var n=a(h.mark((function n(r){var u,o,i;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jf(r);case 2:return n.t0=n.sent,n.next=5,jf(null===(u=t.messages)||void 0===u||null===(o=u[e])||void 0===o||null===(i=o.i18n)||void 0===i?void 0:i[r]);case 5:return n.t1=n.sent,n.abrupt("return",[n.t0,n.t1]);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 5:return n.t1=n.sent,n.abrupt("return",[n.t0,n.t1]);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 11:return u=n.sent,n.next=14,Promise.all(Object.keys(null==t?void 0:t.dependencies).map(function(){var n=a(h.mark((function n(e){var r;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jf(e);case 2:return n.t0=n.sent,n.next=5,Promise.all(Object.keys(null==t||null===(r=t.dependencies)||void 0===r?void 0:r[e]).map(function(){var n=a(h.mark((function n(r){var u,o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jf(r);case 2:return n.t0=n.sent,n.next=5,Promise.all(Object.keys(null==t||null===(u=t.dependencies)||void 0===u||null===(o=u[e])||void 0===o?void 0:o[r]).map(function(){var n=a(h.mark((function n(u){var o,i,c,a,s,f,l,d,v,p,b,m,y,g,w;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jf(u);case 2:return n.t0=n.sent,n.next=5,jf(null==t||null===(o=t.dependencies)||void 0===o||null===(i=o[e])||void 0===i||null===(c=i[r])||void 0===c?void 0:c[u].address);case 5:return n.t1=n.sent,n.next=8,jf(null==t||null===(a=t.dependencies)||void 0===a||null===(s=a[e])||void 0===s||null===(f=s[r])||void 0===f?void 0:f[u].contract);case 8:return n.t2=n.sent,n.next=11,jf(null==t||null===(l=t.dependencies)||void 0===l||null===(d=l[e])||void 0===d||null===(v=d[r])||void 0===v?void 0:v[u].fq_address);case 11:return n.t3=n.sent,n.next=14,jf(null==t||null===(p=t.dependencies)||void 0===p||null===(b=p[e])||void 0===b||null===(m=b[r])||void 0===m?void 0:m[u].pin);case 14:return n.t4=n.sent,n.next=17,jf(String(null==t||null===(y=t.dependencies)||void 0===y||null===(g=y[e])||void 0===g||null===(w=g[r])||void 0===w?void 0:w[u].pin_block_height));case 17:return n.t5=n.sent,n.t6=[n.t1,n.t2,n.t3,n.t4,n.t5],n.abrupt("return",[n.t0,n.t6]);case 20:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 5:return n.t1=n.sent,n.abrupt("return",[n.t0,n.t1]);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 5:return n.t1=n.sent,n.abrupt("return",[n.t0,n.t1]);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 14:return o=n.sent,n.next=17,Promise.all(Object.keys(null==t?void 0:t.arguments).map(function(){var n=a(h.mark((function n(e){var r,u,o,i;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jf(e);case 2:return n.t0=n.sent,n.next=5,jf(String(null==t||null===(r=t.arguments)||void 0===r?void 0:r[e].index));case 5:return n.t1=n.sent,n.next=8,jf(null==t||null===(u=t.arguments)||void 0===u?void 0:u[e].type);case 8:return n.t2=n.sent,n.next=11,jf((null==t||null===(o=t.arguments)||void 0===o?void 0:o[e].balance)||"");case 11:return n.t3=n.sent,n.next=14,Promise.all(Object.keys(null==t||null===(i=t.arguments)||void 0===i?void 0:i[e].messages).map(function(){var n=a(h.mark((function n(r){var u,o;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jf(r);case 2:return n.t0=n.sent,n.next=5,Promise.all(Object.keys(null==t||null===(u=t.arguments)||void 0===u||null===(o=u[e].messages)||void 0===o?void 0:o[r].i18n).map(function(){var n=a(h.mark((function n(u){var o,i,c;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jf(u);case 2:return n.t0=n.sent,n.next=5,jf(null==t||null===(o=t.arguments)||void 0===o||null===(i=o[e].messages)||void 0===i||null===(c=i[r].i18n)||void 0===c?void 0:c[u]);case 5:return n.t1=n.sent,n.abrupt("return",[n.t0,n.t1]);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 5:return n.t1=n.sent,n.abrupt("return",[n.t0,n.t1]);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 14:return n.t4=n.sent,n.t5=[n.t1,n.t2,n.t3,n.t4],n.abrupt("return",[n.t0,n.t5]);case 17:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 17:return i=n.sent,n.t1=Gn,n.next=21,jf("InteractionTemplate");case 21:return n.t2=n.sent,n.next=24,jf("1.0.0");case 24:return n.t3=n.sent,n.next=27,jf(null==t?void 0:t.type);case 27:return n.t4=n.sent,n.next=30,jf(null==t?void 0:t.interface);case 30:return n.t5=n.sent,n.t6=u,n.next=34,jf(null==t?void 0:t.cadence);case 34:return n.t7=n.sent,n.t8=o,n.t9=i,n.t10=[n.t2,n.t3,n.t4,n.t5,n.t6,n.t7,n.t8,n.t9],c=(0,n.t1)(n.t10).toString("hex"),n.abrupt("return",jf(c));case 40:throw new Error("generateTemplateId Error: Unsupported template version");case 41:case"end":return n.stop()}}),n)}))),_f.apply(this,arguments)}function Ff(){return Ff=a(h.mark((function n(e){var r,t,u,o,i,c,a,s,f=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.template,t=e.auditors,u=f.length>1&&void 0!==f[1]?f[1]:{},bo(null!=r,"getInteractionTemplateAudits({ template }) -- template must be defined"),bo("InteractionTemplate"===(r=Cc(r)).f_type,"getInteractionTemplateAudits({ template }) -- template must be an InteractionTemplate"),n.next=7,Uf({template:r});case 7:if((o=n.sent)===r.id){n.next=11;break}throw gn({title:"getInteractionTemplateAudits Debug Error",message:"Could not recompute and match template ID\n                computed: ".concat(o,"\n                template: ").concat(r.id,"\n            "),level:mn.debug}),new Error("getInteractionTemplateAudits Error: Could not recompute and match template ID");case 11:n.t0=r.f_version,n.next="1.0.0"===n.t0?14:33;break;case 14:if(n.t1=t,n.t1){n.next=19;break}return n.next=18,on().get("flow.auditors");case 18:n.t1=n.sent;case 19:if(bo(i=n.t1,"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not set"),bo(Array.isArray(i),"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not an array"),c=u.flowInteractionAuditContract){n.next=29;break}return n.next=26,on().get("flow.network");case 26:bo("mainnet"===(a=n.sent)||"testnet"===a,"getInteractionTemplateAudits Error: Unable to determine address for FlowInteractionTemplateAudit contract. Set configuration for 'fcl.network' to 'mainnet' or 'testnet'"),c="mainnet"===a?"0xfd100e39d50a13e6":"0xf78bfc12d0a786dc";case 29:return n.next=31,Wc({cadence:"\n        import FlowInteractionTemplateAudit from ".concat(c,"\n        pub fun main(templateId: String, auditors: [Address]): {Address:Bool} {\n          return FlowInteractionTemplateAudit.getHasTemplateBeenAuditedByAuditors(templateId: templateId, auditors: auditors)\n        }\n        "),args:function(n,e){return[n(o,e.String),n(i,e.Array(e.Address))]}});case 31:return s=n.sent,n.abrupt("return",s);case 33:throw new Error("getInteractionTemplateAudits Error: Unsupported template version");case 34:case"end":return n.stop()}}),n)}))),Ff.apply(this,arguments)}function Mf(n){return{contractName:n.contractName,address:n.address,contract:""}}function Bf(n){var e,r=[],t=w(n.match(/import ((\w|,| )+)* from 0x\w+/g)||[]);try{for(t.s();!(e=t.n()).done;){var u,o=e.value,i=/import ((\w+|, |)*) from (0x\w+)/g.exec(o),c=w(i[1].match(/((?:\w+)+),?/g)||[]);try{for(c.s();!(u=c.n()).done;){var a=u.value;r.push(Mf({address:i[3],contractName:a.replace(/,/g,"")}))}}catch(n){c.e(n)}finally{c.f()}}}catch(n){t.e(n)}finally{t.f()}return r}function Lf(n){return Gf.apply(this,arguments)}function Gf(){return Gf=a(h.mark((function n(e){var r,t,u,o,i,c,a,s,f,l,d,v,p,b=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.address,t=e.contractName,u=e.blockHeight,o=b.length>1&&void 0!==b[1]?b[1]:{},bo(null!=r,"generateDependencyPin({ address }) -- address must be defined"),bo(null!=t,"generateDependencyPin({ contractName }) -- contractName must be defined"),bo(null!=u,"generateDependencyPin({ blockHeight }) -- blockHeight must be defined"),bo("string"==typeof r,"generateDependencyPin({ address }) -- address must be a string"),bo("string"==typeof t,"generateDependencyPin({ contractName }) -- contractName must be a string"),bo("number"==typeof u,"generateDependencyPin({ blockHeight }) -- blockHeight must be a number"),i=[Mf({contractName:t,address:r})],c=0,a=i;case 10:if(!(c<a.length)){n.next=33;break}return f=a[c],n.t0=mo,n.t1=Lt,n.next=16,on().get(f.address,f.address);case 16:return n.t2=n.sent,n.t3=(0,n.t1)(n.t2),n.t4=ko(u),n.t5=[n.t3,n.t4],n.t6=o,n.next=23,(0,n.t0)(n.t5,n.t6).then(yo);case 23:if(l=n.sent,f.contract=null===(s=l.contracts)||void 0===s?void 0:s[f.contractName],f.contract){n.next=28;break}throw console.error("Did not find expected contract",f,l),new Error("Did not find expected contract");case 28:d=Bf(f.contract),i.push.apply(i,bn(d));case 30:c++,n.next=10;break;case 33:return v=i.map((function(n){return jf(n.contract)})),p=v.join(""),n.abrupt("return",jf(p));case 36:case"end":return n.stop()}}),n)}))),Gf.apply(this,arguments)}function zf(){return zf=a(h.mark((function n(e){var r,t,u,o,i,c=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.address,t=e.contractName,u=c.length>1&&void 0!==c[1]?c[1]:{},n.next=4,So({sealed:!0},u);case 4:return o=n.sent,i=null==o?void 0:o.height,n.abrupt("return",Lf({address:r,contractName:t,blockHeight:i},u));case 7:case"end":return n.stop()}}),n)}))),zf.apply(this,arguments)}function Wf(n){if(null==n)return null;if("1.0.0"===n.f_version)return n;throw new Error("normalizeInteractionTemplateInterface Error: Invalid InteractionTemplateInterface")}function Kf(){return Kf=a(h.mark((function n(e){var r,t,u;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:bo(null!=(r=e.templateInterface),"generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be defined"),bo("object"===s(r),"generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be an object"),bo("InteractionTemplateInterface"==typeof r.f_type,"generateTemplateInterfaceId({ templateInterface }) -- templateInterface object must be an InteractionTemplate"),r=Wf(r),n.t0=r.f_version,n.next="1.0.0"===n.t0?8:25;break;case 8:return t=r.data,n.t1=Gn,n.next=12,jf("InteractionTemplateInterface");case 12:return n.t2=n.sent,n.next=15,jf("1.0.0");case 15:return n.t3=n.sent,n.next=18,jf(t.flip);case 18:return n.t4=n.sent,n.next=21,Promise.all(Object.keys(t.arguments).map(function(){var n=a(h.mark((function n(e){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jf(e);case 2:return n.t0=n.sent,n.next=5,jf(String(t.arguments[e].index));case 5:return n.t1=n.sent,n.next=8,jf(t.arguments[e].type);case 8:return n.t2=n.sent,n.abrupt("return",[n.t0,n.t1,n.t2]);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 21:return n.t5=n.sent,n.t6=[n.t2,n.t3,n.t4,n.t5],u=(0,n.t1)(n.t6).toString("hex"),n.abrupt("return",jf(u));case 25:throw new Error("generateTemplateInterfaceId Error: Unsupported templateInterface version");case 26:case"end":return n.stop()}}),n)}))),Kf.apply(this,arguments)}function Vf(n){return Hf.apply(this,arguments)}function Hf(){return Hf=a(h.mark((function n(e){var r,t,u,o,i,c,a,f,l,d,v,p,b,m,y,g,w=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.template,t=e.blockHeight,u=e.network,o=w.length>1&&void 0!==w[1]?w[1]:{},bo(null!=r,"generateDependencyPin({ template }) -- template must be defined"),bo("object"===s(r),"generateDependencyPin({ template }) -- template must be an object"),bo("InteractionTemplate"===r.f_type,"generateDependencyPin({ template }) -- template must be an InteractionTemplate"),r=Cc(r),bo(null!=u,"generateDependencyPin({ network }) network must be defined"),bo(null!=t,"generateDependencyPin({ blockHeight }) blockHeight must be defined"),bo("number"==typeof t,"generateDependencyPin({ blockHeight }) blockHeight must be a number"),n.t0=r.f_version,n.next="1.0.0"===n.t0?12:38;break;case 12:i=Object.keys(r.data.dependencies),c=0,a=i;case 14:if(!(c<a.length)){n.next=37;break}f=a[c],l=r.data.dependencies[f],d=Object.keys(l),v=0,p=d;case 19:if(!(v<p.length)){n.next=34;break}if(b=p[v],m=r.data.dependencies[f][b],void 0!==(y=m[u])){n.next=25;break}return n.abrupt("continue",31);case 25:return n.next=27,Lf({address:y.address,contractName:y.contract,blockHeight:t},o);case 27:if((g=n.sent)===y.pin){n.next=31;break}return gn({title:"verifyDependencyPinsSame Debug Error",message:"Could not recompute and match dependency pin.\n                                address: ".concat(y.address," | contract: ").concat(y.contract,"\n                                computed: ").concat(g,"\n                                template: ").concat(y.pin,"\n                            "),level:mn.debug}),n.abrupt("return",!1);case 31:v++,n.next=19;break;case 34:c++,n.next=14;break;case 37:return n.abrupt("return",!0);case 38:throw new Error("verifyDependencyPinsSame Error: Unsupported template version");case 39:case"end":return n.stop()}}),n)}))),Hf.apply(this,arguments)}function qf(){return qf=a(h.mark((function n(e){var r,t,u,o,i,c=arguments;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.template,t=e.network,u=c.length>1&&void 0!==c[1]?c[1]:{},n.next=4,So({sealed:!0});case 4:return o=n.sent,i=null==o?void 0:o.height,n.abrupt("return",Vf({template:r,network:t,blockHeight:i},u));case 7:case"end":return n.stop()}}),n)}))),qf.apply(this,arguments)}var Jf=Object.freeze({__proto__:null,getInteractionTemplateAudits:function(n){return Ff.apply(this,arguments)},generateDependencyPin:Lf,generateDependencyPinAtLatestSealedBlock:function(n){return zf.apply(this,arguments)},generateTemplateId:Uf,generateTemplateInterfaceId:function(n){return Kf.apply(this,arguments)},verifyDependencyPinsSame:Vf,verifyDependencyPinsSameAtLatestSealedBlock:function(n){return qf.apply(this,arguments)},deriveCadenceByNetwork:Pc,getTemplateMessage:function(n){var e,r,t,u=n.localization,o=void 0===u?"en-US":u,i=n.messageKey,c=n.template;bo(i,"getMessage({ messageKey }) -- messageKey must be defined"),bo("stirng"==typeof i,"getMessage({ messageKey }) -- messageKey must be a string"),bo(o,"getMessage({ localization }) -- localization must be defined"),bo("stirng"==typeof o,"getMessage({ localization }) -- localization must be a string"),bo(null!=c,"generateTemplateId({ template }) -- template must be defined"),bo("object"===s(c),"generateTemplateId({ template }) -- template must be an object"),bo("InteractionTemplate"==typeof c.f_type,"generateTemplateId({ template }) -- template object must be an InteractionTemplate");var a=null==c||null===(e=c.data)||void 0===e?void 0:e.messages;return null==a||null===(r=a[i])||void 0===r||null===(t=r.i18n)||void 0===t?void 0:t[o]},getTemplateArgumentMessage:function(n){var e,r,t,u,o,i=n.localization,c=void 0===i?"en-US":i,a=n.argumentLabel,f=n.messageKey,l=n.template;bo(f,"getMessage({ messageKey }) -- messageKey must be defined"),bo("stirng"==typeof f,"getMessage({ messageKey }) -- messageKey must be a string"),bo(a,"getMessage({ argumentLabel }) -- argumentLabel must be defined"),bo("stirng"==typeof f,"getMessage({ argumentLabel }) -- argumentLabel must be a string"),bo(c,"getMessage({ localization }) -- localization must be defined"),bo("stirng"==typeof c,"getMessage({ localization }) -- localization must be a string"),bo(null!=l,"generateTemplateId({ template }) -- template must be defined"),bo("object"===s(l),"generateTemplateId({ template }) -- template must be an object"),bo("InteractionTemplate"==typeof l.f_type,"generateTemplateId({ template }) -- template object must be an InteractionTemplate");var d=null==l||null===(e=l.data)||void 0===e?void 0:e.arguments;return null==d||null===(r=d[a])||void 0===r||null===(t=r.messages)||void 0===t||null===(u=t[f])||void 0===u||null===(o=u.i18n)||void 0===o?void 0:o[c]}}),Yf=Zs().authorization,Xf=Sc;n.AppUtils=bf,n.InteractionTemplateUtils=Jf,n.TestUtils=Ho,n.VERSION=hn,n.WalletUtils=of,n.account=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.height,t=e.id,u=arguments.length>2?arguments[2]:void 0;return pn(!(t&&r),'Method: account -- Cannot pass "id" and "height" simultaneously'),t?mo([Lt(n),Io(t)],u).then(ru):r?mo([Lt(n),ko(r)],u).then(ru):mo([Lt(n)],u).then(ru)},n.arg=xo,n.args=No,n.atBlockHeight=ko,n.atBlockId=Io,n.authenticate=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Zs().authenticate(n)},n.authorization=function(n,e,r,t){return{addr:n,signingFunction:e,keyId:r,sequenceNum:t}},n.authorizations=Ao,n.authz=Yf,n.block=So,n.build=Ft,n.cadence=br,n.cdc=br,n.config=on,n.createSignableVoucher=Yu,n.currentUser=Zs,n.decode=yo,n.discovery=gs,n.display=function(n){return Xn(n)},n.events=function(n){return{subscribe:function(e){return _(n,Pf,e)}}},n.getAccount=Lt,n.getBlock=Bt,n.getBlockHeader=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Ct([dt,function(e){return e.block.isSealed=n,Zr(e)}])},n.getCollection=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Ct([vt,function(e){return e.collection.id=n,e}])},n.getEvents=function(n,e,r){return void 0===e&&void 0===r||gn.deprecate({pkg:"FCL/SDK",subject:"Passing a start and end into getEvents",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder"}),Ct([st,function(t){return t.events.eventType=n,t.events.start=e,t.events.end=r,Zr(t)}])},n.getEventsAtBlockHeightRange=To,n.getEventsAtBlockIds=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Ct([st,function(r){return r.events.eventType=n,r.events.blockIds=e,Zr(r)}])},n.getTransaction=function(n){return Ct([ct,function(e){return e.transaction.id=n,Zr(e)}])},n.getTransactionStatus=Ro,n.invariant=bo,n.isBad=Rt,n.isOk=Tt,n.limit=Oo,n.logIn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Zs().authenticate(n)},n.mutate=function(){return $s.apply(this,arguments)},n.param=function(n){return gn.deprecate({pkg:"FCL/SDK",message:"The param builder has been removed from the Flow JS-SDK/FCL.",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params",level:mn.error})},n.params=function(n){return gn.deprecate({pkg:"FCL/SDK",message:"The params builder has been removed from the Flow JS-SDK/FCL.",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params",level:mn.error})},n.payer=jo,n.ping=function(){return ft},n.pipe=Ct,n.pluginRegistry=$a,n.proposer=Co,n.query=Wc,n.reauthenticate=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Zs().unauthenticate(),Zs().authenticate(n)},n.ref=Uo,n.sansPrefix=Yn,n.script=_o,n.send=mo,n.serialize=yf,n.signUp=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Zs().authenticate(n)},n.t=Xf,n.transaction=Mo,n.tx=Rf,n.unauthenticate=function(){return Zs().unauthenticate()},n.validator=Eo,n.verifyUserSignatures=mf,n.voucherIntercept=function(n){return Dt("ix.voucher-intercept",n)},n.voucherToTxId=function(n){return function(n){return Su(Iu(Nu(n)))}(n)},n.why=Ot,n.withPrefix=Xn,Object.defineProperty(n,"__esModule",{value:!0})}))}));const u=r(t);const o=Object.freeze(Object.assign(Object.create(null),t,{default:u}));t.config({"accessNode.api":"https://rest-mainnet.onflow.org","discovery.wallet":"https://fcl-discovery.onflow.org/authn"});const i=()=>o;export{i as getFlowProvider};
//# sourceMappingURL=p-87f928e7.js.map