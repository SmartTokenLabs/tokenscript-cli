import{c as e,b as n}from"./p-0a353f40.js";import{d as r}from"./p-ea01a02d.js";var t=e((function(e){function n(e){if(Array.isArray(e))return e}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));var u=e((function(e){function n(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,u,i,a,o=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;c=!1}else for(;!(c=(t=i.call(r)).done)&&(o.push(t.value),o.length!==n);c=!0);}catch(e){s=!0,u=e}finally{try{if(!c&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(s)throw u}}return o}}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));var i=e((function(e){function n(e,n){if(n==null||n>e.length)n=e.length;for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));var a=e((function(e){function n(e,n){if(!e)return;if(typeof e==="string")return i(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,n)}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));var o=e((function(e){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));var c=e((function(e){function n(e,n){return t(e)||u(e,n)||a(e,n)||o()}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));const s=n(c);var f=e((function(e){function n(e,n,r,t,u,i,a){try{var o=e[i](a);var c=o.value}catch(e){r(e);return}if(o.done){n(c)}else{Promise.resolve(c).then(t,u)}}function r(e){return function(){var r=this,t=arguments;return new Promise((function(u,i){var a=e.apply(r,t);function o(e){n(a,u,i,o,c,"next",e)}function c(e){n(a,u,i,o,c,"throw",e)}o(undefined)}))}}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));const l=n(f);var d=e((function(e){function n(r){"@babel/helpers - typeof";return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=true,e.exports["default"]=e.exports,n(r)}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));const v=n(d);var h=e((function(e){var n=d["default"];function r(){e.exports=r=function e(){return t},e.exports.__esModule=true,e.exports["default"]=e.exports;var t={},u=Object.prototype,i=u.hasOwnProperty,a=Object.defineProperty||function(e,n,r){e[n]=r.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",f=o.toStringTag||"@@toStringTag";function l(e,n,r){return Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function e(n,r,t){return n[r]=t}}function d(e,n,r,t){var u=n&&n.prototype instanceof p?n:p,i=Object.create(u.prototype),o=new N(t||[]);return a(i,"_invoke",{value:I(e,r,o)}),i}function v(e,n,r){try{return{type:"normal",arg:e.call(n,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h={};function p(){}function b(){}function w(){}var m={};l(m,c,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(R([])));y&&y!==u&&i.call(y,c)&&(m=y);var E=w.prototype=p.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function S(e,r){function t(u,a,o,c){var s=v(e[u],e,a);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==n(l)&&i.call(l,"__await")?r.resolve(l.__await).then((function(e){t("next",e,o,c)}),(function(e){t("throw",e,o,c)})):r.resolve(l).then((function(e){f.value=e,o(f)}),(function(e){return t("throw",e,o,c)}))}c(s.arg)}var u;a(this,"_invoke",{value:function e(n,i){function a(){return new r((function(e,r){t(n,i,e,r)}))}return u=u?u.then(a,a):a()}})}function I(e,n,r){var t="suspendedStart";return function(u,i){if("executing"===t)throw new Error("Generator is already running");if("completed"===t){if("throw"===u)throw i;return C()}for(r.method=u,r.arg=i;;){var a=r.delegate;if(a){var o=A(a,r);if(o){if(o===h)continue;return o}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===t)throw t="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);t="executing";var c=v(e,n,r);if("normal"===c.type){if(t=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(t="completed",r.method="throw",r.arg=c.arg)}}}function A(e,n){var r=n.method,t=e.iterator[r];if(undefined===t)return n.delegate=null,"throw"===r&&e.iterator["return"]&&(n.method="return",n.arg=undefined,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var u=v(t,e.iterator,n.arg);if("throw"===u.type)return n.method="throw",n.arg=u.arg,n.delegate=null,h;var i=u.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=undefined),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function T(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function O(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function R(e){if(e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,t=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=undefined,n.done=!0,n};return t.next=t}}return{next:C}}function C(){return{value:undefined,done:!0}}return b.prototype=w,a(E,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:b,configurable:!0}),b.displayName=l(w,f,"GeneratorFunction"),t.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===b||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,f,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),l(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,u,i){void 0===i&&(i=Promise);var a=new S(d(e,n,r,u),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),l(E,f,"Generator"),l(E,c,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var n=Object(e),r=[];for(var t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},t.values=R,N.prototype={constructor:N,reset:function e(n){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(O),!n)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=undefined)},stop:function e(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function e(n){if(this.done)throw n;var r=this;function t(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=undefined),!!t}for(var u=this.tryEntries.length-1;u>=0;--u){var a=this.tryEntries[u],o=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function e(n,r){for(var t=this.tryEntries.length-1;t>=0;--t){var u=this.tryEntries[t];if(u.tryLoc<=this.prev&&i.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var a=u;break}}a&&("break"===n||"continue"===n)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=n,o.arg=r,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function e(n,r){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&r&&(this.next=r),h},finish:function e(n){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===n)return this.complete(t.completion,t.afterLoc),O(t),h}},catch:function e(n){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===n){var u=t.completion;if("throw"===u.type){var i=u.arg;O(t)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(n,r,t){return this.delegate={iterator:R(n),resultName:r,nextLoc:t},"next"===this.method&&(this.arg=undefined),h}},t}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));var p=h();var b=p;try{regeneratorRuntime=p}catch(e){if(typeof globalThis==="object"){globalThis.regeneratorRuntime=p}else{Function("r","regeneratorRuntime = r")(p)}}var w=e((function(e){function n(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));var m=e((function(e){function n(e){return t(e)||w(e)||a(e)||o()}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));const g=n(m);var y=e((function(e){var n=d["default"];function r(e,r){if(n(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==undefined){var u=t.call(e,r||"default");if(n(u)!=="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));var E=e((function(e){var n=d["default"];function r(e){var r=y(e,"string");return n(r)==="symbol"?r:String(r)}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));var k=e((function(e){function n(e,n,r){n=E(n);if(n in e){Object.defineProperty(e,n,{value:r,enumerable:true,configurable:true,writable:true})}else{e[n]=r}return e}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));const S=n(k);var I=e((function(e){function n(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function r(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?n(Object(t),!0).forEach((function(n){k(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));const A=n(I);var T=e((function(e){function n(e,n){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||n&&e&&typeof e.length==="number"){if(r)e=r;var t=0;var u=function e(){};return{s:u,n:function n(){if(t>=e.length)return{done:true};return{done:false,value:e[t++]}},e:function e(n){throw n},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,o=false,c;return{s:function n(){r=r.call(e)},n:function e(){var n=r.next();i=n.done;return n},e:function e(n){o=true;c=n},f:function e(){try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw c}}}}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));const O=n(T);let N;var R=typeof queueMicrotask==="function"?queueMicrotask:e=>(N||(N=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)));var C=function e(){var n=[];var r;return{deliver:function e(t){return l(b.mark((function e(){return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:n.push(t);if(r){r(n.shift());r=undefined}case 2:case"end":return u.stop()}}}),e)})))()},receive:function e(){return new Promise((function e(t){var u=n.shift();if(u)return t(u);r=t}))}}};var P="INIT";var x="SUBSCRIBE";var j="UNSUBSCRIBE";var D="UPDATED";var U="SNAPSHOT";var _="EXIT";var F="TERMINATE";var L=(typeof self==="undefined"?"undefined":v(self))==="object"&&self.self===self&&self||(typeof global==="undefined"?"undefined":v(global))==="object"&&global.global===global&&global||(typeof window==="undefined"?"undefined":v(window))==="object"&&window.window===window&&window;L.FCL_REGISTRY=L.FCL_REGISTRY==null?{}:L.FCL_REGISTRY;var G=0;var M=5e3;var B=function e(n,r,t){var u=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};return new Promise((function(e,i){var a=u.expectReply||false;var o=u.timeout!=null?u.timeout:M;if(a&&o){setTimeout((function(){return i(new Error("Timeout: ".concat(o,"ms passed without a response.")))}),o)}var c={to:n,from:u.from,tag:r,data:t,timeout:o,reply:e,reject:i};try{L.FCL_REGISTRY[n]&&L.FCL_REGISTRY[n].mailbox.deliver(c);if(!a)e(true)}catch(e){console.error("FCL.Actor -- Could Not Deliver Message",c,L.FCL_REGISTRY[n],e)}}))};var W=function e(n){delete L.FCL_REGISTRY[n]};var z=function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return function(){var e=l(b.mark((function e(r){var t;return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:if(!(typeof n[P]==="function")){u.next=3;break}u.next=3;return n[P](r);case 3:u.next=6;return r.receive();case 6:t=u.sent;u.prev=7;if(!(t.tag===_)){u.next=13;break}if(!(typeof n[F]==="function")){u.next=12;break}u.next=12;return n[F](r,t,t.data||{});case 12:return u.abrupt("break",25);case 13:u.next=15;return n[t.tag](r,t,t.data||{});case 15:u.next=20;break;case 17:u.prev=17;u.t0=u["catch"](7);console.error("".concat(r.self()," Error"),t,u.t0);case 20:u.prev=20;return u.abrupt("continue",3);case 23:u.next=3;break;case 25:case"end":return u.stop()}}}),e,null,[[7,17,20,23]])})));return function(n){return e.apply(this,arguments)}}()};var K=function e(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(r==null)r=++G;if(L.FCL_REGISTRY[r]!=null)return r;L.FCL_REGISTRY[r]={addr:r,mailbox:C(),subs:new Set,kvs:{},error:null};var t={self:function e(){return r},receive:function e(){return L.FCL_REGISTRY[r].mailbox.receive()},send:function e(n,t,u){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};i.from=r;return B(n,t,u,i)},sendSelf:function e(n,t,u){if(L.FCL_REGISTRY[r])B(r,n,t,u)},broadcast:function e(n,t){var u=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};u.from=r;var i=O(L.FCL_REGISTRY[r].subs),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;B(o,n,t,u)}}catch(e){i.e(e)}finally{i.f()}},subscribe:function e(n){return n!=null&&L.FCL_REGISTRY[r].subs.add(n)},unsubscribe:function e(n){return n!=null&&L.FCL_REGISTRY[r].subs["delete"](n)},subscriberCount:function e(){return L.FCL_REGISTRY[r].subs.size},hasSubs:function e(){return!!L.FCL_REGISTRY[r].subs.size},put:function e(n,t){if(n!=null)L.FCL_REGISTRY[r].kvs[n]=t},get:function e(n,t){var u=L.FCL_REGISTRY[r].kvs[n];return u==null?t:u},delete:function e(n){delete L.FCL_REGISTRY[r].kvs[n]},update:function e(n,t){if(n!=null)L.FCL_REGISTRY[r].kvs[n]=t(L.FCL_REGISTRY[r].kvs[n])},keys:function e(){return Object.keys(L.FCL_REGISTRY[r].kvs)},all:function e(){return L.FCL_REGISTRY[r].kvs},where:function e(n){return Object.keys(L.FCL_REGISTRY[r].kvs).reduce((function(e,t){return n.test(t)?A(A({},e),{},S({},t,L.FCL_REGISTRY[r].kvs[t])):e}),{})},merge:function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Object.keys(n).forEach((function(e){return L.FCL_REGISTRY[r].kvs[e]=n[e]}))},fatalError:function e(n){L.FCL_REGISTRY[r].error=n;var t=O(L.FCL_REGISTRY[r].subs),u;try{for(t.s();!(u=t.n()).done;){var i=u.value;B(i,D)}}catch(e){t.e(e)}finally{t.f()}}};if(v(n)==="object")n=z(n);R(l(b.mark((function e(){return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:u.next=2;return n(t);case 2:W(r);case 3:case"end":return u.stop()}}}),e)}))));return r};function H(e,n,r){n(e);var t="@EXIT";var u=K(function(){var n=l(b.mark((function n(u){var i,a;return b.wrap((function n(o){while(1){switch(o.prev=o.next){case 0:u.send(e,x);case 1:o.next=4;return u.receive();case 4:i=o.sent;a=L.FCL_REGISTRY[e].error;if(!(i.tag===t)){o.next=9;break}u.send(e,j);return o.abrupt("return");case 9:if(!a){o.next=13;break}r(null,a);u.send(e,j);return o.abrupt("return");case 13:r(i.data,null);o.next=1;break;case 16:case"end":return o.stop()}}}),n)})));return function(e){return n.apply(this,arguments)}}());return function(){return B(u,t)}}function V(e,n){n(e);return B(e,U,null,{expectReply:true,timeout:0})}var q;var J="config";var Y="PUT_CONFIG";var X="GET_CONFIG";var $="GET_ALL_CONFIG";var Z="UPDATE_CONFIG";var Q="DELETE_CONFIG";var ee="CLEAR_CONFIG";var ne="WHERE_CONFIG";var re="CONFIG/UPDATED";var te=function e(n){return n};var ue=(q={},S(q,Y,(function(e,n,r){var t=r.key,u=r.value;if(t==null)throw new Error("Missing 'key' for config/put.");e.put(t,u);e.broadcast(re,A({},e.all()))})),S(q,X,(function(e,n,r){var t=r.key,u=r.fallback;if(t==null)throw new Error("Missing 'key' for config/get");n.reply(e.get(t,u))})),S(q,$,(function(e,n){n.reply(A({},e.all()))})),S(q,Z,(function(e,n,r){var t=r.key,u=r.fn;if(t==null)throw new Error("Missing 'key' for config/update");e.update(t,u||te);e.broadcast(re,A({},e.all()))})),S(q,Q,(function(e,n,r){var t=r.key;if(t==null)throw new Error("Missing 'key' for config/delete");e["delete"](t);e.broadcast(re,A({},e.all()))})),S(q,ee,(function(e,n){var r=Object.keys(e.all());for(var t=0,u=r;t<u.length;t++){var i=u[t];e["delete"](i)}e.broadcast(re,A({},e.all()))})),S(q,ne,(function(e,n,r){var t=r.pattern;if(t==null)throw new Error("Missing 'pattern' for config/where");n.reply(e.where(t))})),S(q,x,(function(e,n){e.subscribe(n.from);e.send(n.from,re,A({},e.all()))})),S(q,j,(function(e,n){e.unsubscribe(n.from)})),q);K(ue,J);function ie(e,n){B(J,Y,{key:e,value:n});return be()}function ae(e,n){return B(J,X,{key:e,fallback:n},{expectReply:true,timeout:10})}function oe(){return ce.apply(this,arguments)}function ce(){ce=l(b.mark((function e(){var n,r,t,u,i,a,o=arguments;return b.wrap((function e(c){while(1){switch(c.prev=c.next){case 0:n=o.length>0&&o[0]!==undefined?o[0]:[];r=o.length>1?o[1]:undefined;if(n.length){c.next=4;break}return c.abrupt("return",r);case 4:t=g(n),u=t[0],i=t.slice(1);c.next=7;return ae(u);case 7:a=c.sent;if(!(a==null)){c.next=10;break}return c.abrupt("return",oe(i,r));case 10:return c.abrupt("return",a);case 11:case"end":return c.stop()}}}),e)})));return ce.apply(this,arguments)}function se(){return B(J,$,null,{expectReply:true,timeout:10})}function fe(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:te;B(J,Z,{key:e,fn:n});return be()}function le(e){B(J,Q,{key:e});return be()}function de(e){return B(J,ne,{pattern:e},{expectReply:true,timeout:10})}function ve(e){return H(J,(function(){return K(ue,J)}),e)}function he(){return B(J,ee)}function pe(e){return he().then(be(e))}function be(e){if(e!=null&&v(e)==="object"){Object.keys(e).map((function(n){return ie(n,e[n])}))}return{put:ie,get:ae,all:se,first:oe,update:fe,delete:le,where:de,subscribe:ve,overload:me}}be.put=ie;be.get=ae;be.all=se;be.first=oe;be.update=fe;be["delete"]=le;be.where=de;be.subscribe=ve;be.overload=me;var we=function e(n){return n};function me(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:we;return new Promise(function(){var r=l(b.mark((function r(t,u){var i,a;return b.wrap((function r(o){while(1){switch(o.prev=o.next){case 0:o.next=2;return se();case 2:i=o.sent;o.prev=3;be(e);o.t0=n;o.next=8;return se();case 8:o.t1=o.sent;o.next=11;return(0,o.t0)(o.t1);case 11:a=o.sent;o.next=14;return pe(i);case 14:t(a);o.next=22;break;case 17:o.prev=17;o.t2=o["catch"](3);o.next=21;return pe(i);case 21:u(o.t2);case 22:case"end":return o.stop()}}}),r,null,[[3,17]])})));return function(e,n){return r.apply(this,arguments)}}())}function ge(e,n){if(!e){var r;var t=new Error("INVARIANT ".concat(n));t.stack=t.stack.split("\n").filter((function(e){return!/at invariant/.test(e)})).join("\n");for(var u=arguments.length,i=new Array(u>2?u-2:0),a=2;a<u;a++){i[a-2]=arguments[a]}(r=console).error.apply(r,["\n\n---\n\n",t,"\n\n"].concat(i,["\n\n---\n\n"]));throw t}}var ye=e((function(e){function n(e){if(Array.isArray(e))return i(e)}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));var Ee=e((function(e){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));var ke=e((function(e){function n(e){return ye(e)||w(e)||a(e)||Ee()}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));const Se=n(ke);var Ie=Object.freeze({debug:5,info:4,log:3,warn:2,error:1});var Ae=function e(n){var r=n.title,t=n.message;return["\n    %c".concat(r,"\n    ============================\n\n    ").concat(t,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]};var Te=function(){var e=l(b.mark((function e(n){var r,t,u,i,a;var o,c,s,f,l,d,v;return b.wrap((function e(h){while(1){switch(h.prev=h.next){case 0:o=n.title,c=n.message,s=n.level,f=n.always,l=f===void 0?false:f;h.next=3;return be.get("logger.level",Ie.warn);case 3:d=h.sent;if(!(!l&&d<s)){h.next=6;break}return h.abrupt("return");case 6:v=Ae({title:o,message:c});h.t0=s;h.next=h.t0===Ie.debug?10:h.t0===Ie.info?12:h.t0===Ie.warn?14:h.t0===Ie.error?16:18;break;case 10:(r=console).debug.apply(r,Se(v));return h.abrupt("break",19);case 12:(t=console).info.apply(t,Se(v));return h.abrupt("break",19);case 14:(u=console).warn.apply(u,Se(v));return h.abrupt("break",19);case 16:(i=console).error.apply(i,Se(v));return h.abrupt("break",19);case 18:(a=console).log.apply(a,Se(v));case 19:case"end":return h.stop()}}}),e)})));return function n(r){return e.apply(this,arguments)}}();Te.deprecate=function(e){var n=e.pkg,r=e.subject,t=e.transition,u=e.level,i=u===void 0?Ie.warn:u,a=e.message,o=a===void 0?"":a,c=e.callback,s=c===void 0?null:c;var f=function e(n){return n.charAt(0).toUpperCase()+n.slice(1)};var d=function e(){return Te({title:"".concat(n?n+" ":"","Deprecation Notice"),message:"\n      ".concat(r?"".concat(f(r)," is deprecated and will cease to work in future releases").concat(n?" of "+n:"","."):"").concat(o?"\n"+o:"").concat(t?"\nYou can learn more (including a guide on common transition paths) here: ".concat(t):"","\n    ").trim(),level:i})};if(typeof s==="function"){return l(b.mark((function e(){var n=arguments;return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:r.next=2;return d();case 2:r.next=4;return s.apply(void 0,n);case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}}),e)})))}return d()};function Oe(e){if(Array.isArray(e)){var n=[];for(var t=0;t<e.length;t++){n.push(Oe(e[t]))}var u=r.Buffer.concat(n);return r.Buffer.concat([Ne(u.length,192),u])}else{var i=De(e);return i.length===1&&i[0]<128?i:r.Buffer.concat([Ne(i.length,128),i])}}function Ne(e,n){if(e<56){return r.Buffer.from([e+n])}else{var t=Pe(e);var u=t.length/2;var i=Pe(n+55+u);return r.Buffer.from(i+t,"hex")}}function Re(e){return e.slice(0,2)==="0x"}function Ce(e){if(typeof e!=="string"){return e}return Re(e)?e.slice(2):e}function Pe(e){if(e<0){throw new Error("Invalid integer as argument, must be unsigned!")}var n=e.toString(16);return n.length%2?"0"+n:n}function xe(e){return e.length%2?"0"+e:e}function je(e){var n=Pe(e);return r.Buffer.from(n,"hex")}function De(e){if(!r.Buffer.isBuffer(e)){if(typeof e==="string"){if(Re(e)){return r.Buffer.from(xe(Ce(e)),"hex")}else{return r.Buffer.from(e)}}else if(typeof e==="number"){if(!e){return r.Buffer.from([])}else{return je(e)}}else if(e===null||e===undefined){return r.Buffer.from([])}else if(e instanceof Uint8Array){return r.Buffer.from(e)}else{throw new Error("invalid type")}}return e}var Ue=e((function(e){function n(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||false;t.configurable=true;if("value"in t)t.writable=true;Object.defineProperty(e,E(t.key),t)}}function r(e,r,t){if(r)n(e.prototype,r);if(t)n(e,t);Object.defineProperty(e,"prototype",{writable:false});return e}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));const _e=n(Ue);var Fe=e((function(e){function n(e,n){if(!(e instanceof n)){throw new TypeError("Cannot call a class as a function")}}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));const Le=n(Fe);var Ge=e((function(e){function n(r,t){e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(n,r){n.__proto__=r;return n},e.exports.__esModule=true,e.exports["default"]=e.exports;return n(r,t)}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));var Me=e((function(e){function n(e,n){if(typeof n!=="function"&&n!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(n)Ge(e,n)}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));const Be=n(Me);var We=e((function(e){function n(r){e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(n){return n.__proto__||Object.getPrototypeOf(n)},e.exports.__esModule=true,e.exports["default"]=e.exports;return n(r)}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));var ze=e((function(e){function n(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));var Ke=e((function(e){function n(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));var He=e((function(e){var n=d["default"];function r(e,r){if(r&&(n(r)==="object"||typeof r==="function")){return r}else if(r!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return Ke(e)}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));var Ve=e((function(e){function n(e){var n=ze();return function r(){var t=We(e),u;if(n){var i=We(this).constructor;u=Reflect.construct(t,arguments,i)}else{u=t.apply(this,arguments)}return He(this,u)}}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));const qe=n(Ve);var Je=e((function(e){function n(e){return Function.toString.call(e).indexOf("[native code]")!==-1}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));var Ye=e((function(e){function n(r,t,u){if(ze()){e.exports=n=Reflect.construct.bind(),e.exports.__esModule=true,e.exports["default"]=e.exports}else{e.exports=n=function e(n,r,t){var u=[null];u.push.apply(u,r);var i=Function.bind.apply(n,u);var a=new i;if(t)Ge(a,t.prototype);return a},e.exports.__esModule=true,e.exports["default"]=e.exports}return n.apply(null,arguments)}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));var Xe=e((function(e){function n(r){var t=typeof Map==="function"?new Map:undefined;e.exports=n=function e(n){if(n===null||!Je(n))return n;if(typeof n!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof t!=="undefined"){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return Ye(n,arguments,We(this).constructor)}r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:false,writable:true,configurable:true}});return Ge(r,n)},e.exports.__esModule=true,e.exports["default"]=e.exports;return n(r)}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));const $e=n(Xe);var Ze=e((function(e,n){var r=function(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof t!=="undefined"){return t}throw new Error("unable to locate global object")};var t=r();e.exports=n=t.fetch;if(t.fetch){n.default=t.fetch.bind(t)}n.Headers=t.Headers;n.Request=t.Request;n.Response=t.Response}));function Qe(e){if(e==null)return null;return e.replace(/^0x/,"").replace(/^Fx/,"")}function en(e){if(e==null)return null;return"0x"+Qe(e)}function nn(e){return en(e)}var rn=function(e){Be(r,e);var n=qe(r);function r(e){var t;var u=e.error,i=e.hostname,a=e.path,o=e.method,c=e.requestBody,s=e.responseBody,f=e.responseStatusText,l=e.statusCode;Le(this,r);var d="\n      HTTP Request Error: An error occurred when interacting with the Access API.\n      ".concat(u?"error=".concat(u):"","\n      ").concat(i?"hostname=".concat(i):"","\n      ").concat(a?"path=".concat(a):"","\n      ").concat(o?"method=".concat(o):"","\n      ").concat(c?"requestBody=".concat(c):"","\n      ").concat(s?"responseBody=".concat(s):"","\n      ").concat(f?"responseStatusText=".concat(f):"","\n      ").concat(l?"statusCode=".concat(l):"","\n    ");t=n.call(this,d);t.name="HTTP Request Error";t.statusCode=l;t.errorMessage=u;return t}return _e(r)}($e(Error));function tn(e){return un.apply(this,arguments)}function un(){un=l(b.mark((function e(n){var r,t,u,i,a,o,c,s,f,d,v,h,p;return b.wrap((function e(w){while(1){switch(w.prev=w.next){case 0:p=function e(){p=l(b.mark((function e(){var n,r,t,u=arguments;return b.wrap((function e(i){while(1){switch(i.prev=i.next){case 0:n=u.length>0&&u[0]!==undefined?u[0]:0;i.prev=1;i.next=4;return v();case 4:r=i.sent;return i.abrupt("return",r);case 8:i.prev=8;i.t0=i["catch"](1);t=[408,429,500,502,503,504];if(!t.includes(i.t0.statusCode)){i.next=17;break}i.next=14;return new Promise((function(e,r){if(n<c){console.warn("Access node unavailable, retrying in ".concat(f," ms..."));setTimeout((function(){e(h(n+1))}),f)}else{r(i.t0)}}));case 14:return i.abrupt("return",i.sent);case 17:throw i.t0;case 18:case"end":return i.stop()}}}),e,null,[[1,8]])})));return p.apply(this,arguments)};h=function e(){return p.apply(this,arguments)};v=function e(){return Ze("".concat(r).concat(t),{method:u,body:d,headers:a}).then(function(){var e=l(b.mark((function e(n){var i,a;return b.wrap((function e(o){while(1){switch(o.prev=o.next){case 0:if(!n.ok){o.next=2;break}return o.abrupt("return",n.json());case 2:if(!n.body){o.next=8;break}o.next=5;return n.text();case 5:o.t0=o.sent;o.next=9;break;case 8:o.t0=null;case 9:i=o.t0;a=an(i);throw new rn({error:a===null||a===void 0?void 0:a.message,hostname:r,path:t,method:u,requestBody:d,responseBody:i,responseStatusText:n.statusText,statusCode:n.status});case 12:case"end":return o.stop()}}}),e)})));return function(n){return e.apply(this,arguments)}}())["catch"](function(){var e=l(b.mark((function e(n){return b.wrap((function e(i){while(1){switch(i.prev=i.next){case 0:if(!(n instanceof rn)){i.next=2;break}throw n;case 2:i.next=4;return Te({title:"Access Node Error",message:"The provided access node ".concat(r," does not appear to be a valid REST/HTTP access node.\nPlease verify that you are not unintentionally using a GRPC access node.\nSee more here: https://docs.onflow.org/fcl/reference/sdk-guidelines/#connect"),level:Ie.error});case 4:throw new rn({error:n===null||n===void 0?void 0:n.message,hostname:r,path:t,method:u,requestBody:d});case 5:case"end":return i.stop()}}}),e)})));return function(n){return e.apply(this,arguments)}}())};r=n.hostname,t=n.path,u=n.method,i=n.body,a=n.headers,o=n.retryLimit,c=o===void 0?5:o,s=n.retryIntervalMs,f=s===void 0?1e3:s;d=i?JSON.stringify(i):null;w.next=7;return h();case 7:return w.abrupt("return",w.sent);case 8:case"end":return w.stop()}}}),e)})));return un.apply(this,arguments)}function an(e){try{return JSON.parse(e)}catch(e){return null}}function on(e,n,r){return cn.apply(this,arguments)}function cn(){cn=l(b.mark((function e(n,r,t){var u,i;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:u=t.httpRequest||tn;a.next=3;return u({hostname:t.node,path:"/v1/scripts?block_id=".concat(n.block.id),method:"POST",body:{script:r.Buffer.from(n.message.cadence).toString("base64"),arguments:n.message.arguments.map((function(e){return r.Buffer.from(JSON.stringify(n.arguments[e].asArgument)).toString("base64")}))}});case 3:i=a.sent;return a.abrupt("return",vn(n,r,i));case 5:case"end":return a.stop()}}}),e)})));return cn.apply(this,arguments)}function sn(e,n,r){return fn.apply(this,arguments)}function fn(){fn=l(b.mark((function e(n,r,t){var u,i;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:u=t.httpRequest||tn;a.next=3;return u({hostname:t.node,path:"/v1/scripts?block_height=".concat(n.block.height),method:"POST",body:{script:r.Buffer.from(n.message.cadence).toString("base64"),arguments:n.message.arguments.map((function(e){return r.Buffer.from(JSON.stringify(n.arguments[e].asArgument)).toString("base64")}))}});case 3:i=a.sent;return a.abrupt("return",vn(n,r,i));case 5:case"end":return a.stop()}}}),e)})));return fn.apply(this,arguments)}function ln(e,n,r){return dn.apply(this,arguments)}function dn(){dn=l(b.mark((function e(n,r,t){var u,i;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:u=t.httpRequest||tn;a.next=3;return u({hostname:t.node,path:"/v1/scripts?block_height=sealed",method:"POST",body:{script:r.Buffer.from(n.message.cadence).toString("base64"),arguments:n.message.arguments.map((function(e){return r.Buffer.from(JSON.stringify(n.arguments[e].asArgument)).toString("base64")}))}});case 3:i=a.sent;return a.abrupt("return",vn(n,r,i));case 5:case"end":return a.stop()}}}),e)})));return dn.apply(this,arguments)}function vn(e,n,r){var t=n.response();t.tag=e.tag;t.encodedData=JSON.parse(n.Buffer.from(r,"base64").toString());return t}function hn(e){return pn.apply(this,arguments)}function pn(){pn=l(b.mark((function e(n){var r,t,u=arguments;return b.wrap((function e(i){while(1){switch(i.prev=i.next){case 0:r=u.length>1&&u[1]!==undefined?u[1]:{};t=u.length>2&&u[2]!==undefined?u[2]:{};ge(t.node,"SDK Send Execute Script Error: opts.node must be defined.");ge(r.response,"SDK Send Execute Script Error: context.response must be defined.");ge(r.Buffer,"SDK Send Execute Script Error: context.Buffer must be defined.");i.next=7;return n;case 7:n=i.sent;if(!n.block.id){i.next=14;break}i.next=11;return on(n,r,t);case 11:return i.abrupt("return",i.sent);case 14:if(!n.block.height){i.next=20;break}i.next=17;return sn(n,r,t);case 17:return i.abrupt("return",i.sent);case 20:i.next=22;return ln(n,r,t);case 22:return i.abrupt("return",i.sent);case 23:case"end":return i.stop()}}}),e)})));return pn.apply(this,arguments)}var bn={SHA2_256:1,SHA2_384:2,SHA3_256:3,SHA3_384:4,KMAC128_BLS_BLS12_381:5};var wn={ECDSA_P256:1,ECDSA_secp256k1:2,BLS_BLS12_381:3};function mn(e,n,r){return gn.apply(this,arguments)}function gn(){gn=l(b.mark((function e(n,r,t){var u,i;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:u=t.httpRequest||tn;a.next=3;return u({hostname:t.node,path:"/v1/accounts/".concat(n.account.addr,"?block_height=").concat(n.block.height,"&expand=contracts,keys"),method:"GET",body:null});case 3:i=a.sent;return a.abrupt("return",kn(n,r,i));case 5:case"end":return a.stop()}}}),e)})));return gn.apply(this,arguments)}function yn(e,n,r){return En.apply(this,arguments)}function En(){En=l(b.mark((function e(n,r,t){var u,i;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:u=t.httpRequest||tn;a.next=3;return u({hostname:t.node,path:"/v1/accounts/".concat(n.account.addr,"?block_height=sealed&expand=contracts,keys"),method:"GET",body:null});case 3:i=a.sent;return a.abrupt("return",kn(n,r,i));case 5:case"end":return a.stop()}}}),e)})));return En.apply(this,arguments)}function kn(e,n,r){var t,u;var i=n.response();i.tag=e.tag;var a=function e(r){var t={};if(!r)return t;for(var u=0,i=Object.keys(r);u<i.length;u++){var a=i[u];t[a]=n.Buffer.from(r[a],"base64").toString()}return t};i.account={address:r.address,balance:Number(r.balance),code:"",contracts:a(r.contracts),keys:(t=(u=r.keys)===null||u===void 0?void 0:u.map((function(e){return{index:Number(e.index),publicKey:e.public_key.replace(/^0x/,""),signAlgo:wn[e.signing_algorithm],signAlgoString:e.signing_algorithm,hashAlgo:bn[e.hashing_algorithm],hashAlgoString:e.hashing_algorithm,sequenceNumber:Number(e.sequence_number),weight:Number(e.weight),revoked:e.revoked}})))!==null&&t!==void 0?t:[]};return i}function Sn(e){return In.apply(this,arguments)}function In(){In=l(b.mark((function e(n){var r,t,u=arguments;return b.wrap((function e(i){while(1){switch(i.prev=i.next){case 0:r=u.length>1&&u[1]!==undefined?u[1]:{};t=u.length>2&&u[2]!==undefined?u[2]:{};ge(t.node,"SDK Send Get Account Error: opts.node must be defined.");ge(r.response,"SDK Send Get Account Error: context.response must be defined.");ge(r.Buffer,"SDK Send Get Account Error: context.Buffer must be defined.");i.next=7;return n;case 7:n=i.sent;if(!(n.block.height!==null)){i.next=14;break}i.next=11;return mn(n,r,t);case 11:return i.abrupt("return",i.sent);case 14:i.next=16;return yn(n,r,t);case 16:return i.abrupt("return",i.sent);case 17:case"end":return i.stop()}}}),e)})));return In.apply(this,arguments)}function An(e,n,r){return Tn.apply(this,arguments)}function Tn(){Tn=l(b.mark((function e(n,r,t){var u,i;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:u=t.httpRequest||tn;a.next=3;return u({hostname:t.node,path:"/v1/blocks/".concat(n.block.id),method:"GET",body:null});case 3:i=a.sent;return a.abrupt("return",Pn(n,r,i));case 5:case"end":return a.stop()}}}),e)})));return Tn.apply(this,arguments)}function On(e,n,r){return Nn.apply(this,arguments)}function Nn(){Nn=l(b.mark((function e(n,r,t){var u,i;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:u=t.httpRequest||tn;a.next=3;return u({hostname:t.node,path:"/v1/blocks?height=".concat(n.block.height),method:"GET",body:null});case 3:i=a.sent;return a.abrupt("return",Pn(n,r,i));case 5:case"end":return a.stop()}}}),e)})));return Nn.apply(this,arguments)}function Rn(e,n,r){return Cn.apply(this,arguments)}function Cn(){Cn=l(b.mark((function e(n,r,t){var u;var i,a,o;return b.wrap((function e(c){while(1){switch(c.prev=c.next){case 0:i=t.httpRequest||tn;a=(u=n.block)!==null&&u!==void 0&&u.isSealed?"sealed":"finalized";c.next=4;return i({hostname:t.node,path:"/v1/blocks?height=".concat(a),method:"GET",body:null});case 4:o=c.sent;return c.abrupt("return",Pn(n,r,o));case 6:case"end":return c.stop()}}}),e)})));return Cn.apply(this,arguments)}function Pn(e,n,r){var t=r.length?r[0]:null;var u=n.response();u.tag=e.tag;u.blockHeader={id:t.header.id,parentId:t.header.parent_id,height:Number(t.header.height),timestamp:t.header.timestamp};return u}function xn(e){return jn.apply(this,arguments)}function jn(){jn=l(b.mark((function e(n){var r,t,u,i,a=arguments;return b.wrap((function e(o){while(1){switch(o.prev=o.next){case 0:r=a.length>1&&a[1]!==undefined?a[1]:{};t=a.length>2&&a[2]!==undefined?a[2]:{};ge(t.node,"SDK Send Get Block Header Error: opts.node must be defined.");ge(r.response,"SDK Send Get Block Header Error: context.response must be defined.");o.next=6;return n;case 6:n=o.sent;u=n.block.id!==null;i=n.block.height!==null;if(!u){o.next=15;break}o.next=12;return An(n,r,t);case 12:return o.abrupt("return",o.sent);case 15:if(!i){o.next=21;break}o.next=18;return On(n,r,t);case 18:return o.abrupt("return",o.sent);case 21:o.next=23;return Rn(n,r,t);case 23:return o.abrupt("return",o.sent);case 24:case"end":return o.stop()}}}),e)})));return jn.apply(this,arguments)}function Dn(e,n,r){return Un.apply(this,arguments)}function Un(){Un=l(b.mark((function e(n,r,t){var u,i;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:u=t.httpRequest||tn;a.next=3;return u({hostname:t.node,path:"/v1/blocks/".concat(n.block.id,"?expand=payload"),method:"GET",body:null});case 3:i=a.sent;return a.abrupt("return",Mn(n,r,i));case 5:case"end":return a.stop()}}}),e)})));return Un.apply(this,arguments)}function _n(e,n,r){return Fn.apply(this,arguments)}function Fn(){Fn=l(b.mark((function e(n,r,t){var u,i;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:u=t.httpRequest||tn;a.next=3;return u({hostname:t.node,path:"/v1/blocks?height=".concat(n.block.height,"&expand=payload"),method:"GET",body:null});case 3:i=a.sent;return a.abrupt("return",Mn(n,r,i));case 5:case"end":return a.stop()}}}),e)})));return Fn.apply(this,arguments)}function Ln(e,n,r){return Gn.apply(this,arguments)}function Gn(){Gn=l(b.mark((function e(n,r,t){var u;var i,a,o;return b.wrap((function e(c){while(1){switch(c.prev=c.next){case 0:i=t.httpRequest||tn;a=(u=n.block)!==null&&u!==void 0&&u.isSealed?"sealed":"final";c.next=4;return i({hostname:t.node,path:"/v1/blocks?height=".concat(a,"&expand=payload"),method:"GET",body:null});case 4:o=c.sent;return c.abrupt("return",Mn(n,r,o));case 6:case"end":return c.stop()}}}),e)})));return Gn.apply(this,arguments)}function Mn(e,n,r){var t=r.length?r[0]:null;var u=n.response();u.tag=e.tag;u.block={id:t.header.id,parentId:t.header.parent_id,height:Number(t.header.height),timestamp:t.header.timestamp,collectionGuarantees:t.payload.collection_guarantees.map((function(e){return{collectionId:e.collection_id,signerIds:e.signer_ids}})),blockSeals:t.payload.block_seals.map((function(e){return{blockId:e.block_id,executionReceiptId:e.result_id}}))};return u}function Bn(e){return Wn.apply(this,arguments)}function Wn(){Wn=l(b.mark((function e(n){var r,t,u,i,a=arguments;return b.wrap((function e(o){while(1){switch(o.prev=o.next){case 0:r=a.length>1&&a[1]!==undefined?a[1]:{};t=a.length>2&&a[2]!==undefined?a[2]:{};ge(t.node,"SDK Send Get Block Error: opts.node must be defined.");ge(r.response,"SDK Send Get Block Error: context.response must be defined.");o.next=6;return n;case 6:n=o.sent;u=n.block.id!==null;i=n.block.height!==null;if(!u){o.next=15;break}o.next=12;return Dn(n,r,t);case 12:return o.abrupt("return",o.sent);case 15:if(!i){o.next=21;break}o.next=18;return _n(n,r,t);case 18:return o.abrupt("return",o.sent);case 21:o.next=23;return Ln(n,r,t);case 23:return o.abrupt("return",o.sent);case 24:case"end":return o.stop()}}}),e)})));return Wn.apply(this,arguments)}function zn(e){return Kn.apply(this,arguments)}function Kn(){Kn=l(b.mark((function e(n){var r,t,u,i,a,o=arguments;return b.wrap((function e(c){while(1){switch(c.prev=c.next){case 0:r=o.length>1&&o[1]!==undefined?o[1]:{};t=o.length>2&&o[2]!==undefined?o[2]:{};ge(t.node,"SDK Send Get Collection Error: opts.node must be defined.");ge(r.response,"SDK Send Get Collection Error: context.response must be defined.");u=t.httpRequest||tn;c.next=7;return u({hostname:t.node,path:"/v1/collections/".concat(n.collection.id,"?expand=transactions"),method:"GET",body:null});case 7:i=c.sent;a=r.response();a.tag=n.tag;a.collection={id:i.id,transactionIds:i.transactions.map((function(e){return e.id}))};return c.abrupt("return",a);case 12:case"end":return c.stop()}}}),e)})));return Kn.apply(this,arguments)}function Hn(e,n,r){return Vn.apply(this,arguments)}function Vn(){Vn=l(b.mark((function e(n,r,t){var u,i;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:u=t.httpRequest||tn;a.next=3;return u({hostname:t.node,path:"/v1/events?type=".concat(n.events.eventType,"&start_height=").concat(n.events.start,"&end_height=").concat(n.events.end),method:"GET",body:null});case 3:i=a.sent;return a.abrupt("return",Yn(n,r,i));case 5:case"end":return a.stop()}}}),e)})));return Vn.apply(this,arguments)}function qn(e,n,r){return Jn.apply(this,arguments)}function Jn(){Jn=l(b.mark((function e(n,r,t){var u,i;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:u=t.httpRequest||tn;a.next=3;return u({hostname:t.node,path:"/v1/events?type=".concat(n.events.eventType,"&block_ids=").concat(n.events.blockIds.join(",")),method:"GET",body:null});case 3:i=a.sent;return a.abrupt("return",Yn(n,r,i));case 5:case"end":return a.stop()}}}),e)})));return Jn.apply(this,arguments)}function Yn(e,n,r){var t=n.response();t.tag=e.tag;t.events=[];r.forEach((function(e){return e.events?e.events.forEach((function(r){return t.events.push({blockId:e.block_id,blockHeight:Number(e.block_height),blockTimestamp:e.block_timestamp,type:r.type,transactionId:r.transaction_id,transactionIndex:Number(r.transaction_index),eventIndex:Number(r.event_index),payload:JSON.parse(n.Buffer.from(r.payload,"base64").toString())})})):null}));return t}function Xn(e){return $n.apply(this,arguments)}function $n(){$n=l(b.mark((function e(n){var r,t,u,i,a=arguments;return b.wrap((function e(o){while(1){switch(o.prev=o.next){case 0:r=a.length>1&&a[1]!==undefined?a[1]:{};t=a.length>2&&a[2]!==undefined?a[2]:{};ge(t.node,"SDK Send Get Events Error: opts.node must be defined.");ge(r.response,"SDK Send Get Events Error: context.response must be defined.");ge(r.Buffer,"SDK Send Get Events Error: context.Buffer must be defined.");o.next=7;return n;case 7:n=o.sent;u=n.events.start!==null;i=Array.isArray(n.events.blockIds)&&n.events.blockIds.length>0;ge(u||i,"SendGetEventsError: Unable to determine which get events request to send. Either a block height range, or block IDs must be specified.");if(!u){o.next=17;break}o.next=14;return Hn(n,r,t);case 14:return o.abrupt("return",o.sent);case 17:o.next=19;return qn(n,r,t);case 19:return o.abrupt("return",o.sent);case 20:case"end":return o.stop()}}}),e)})));return $n.apply(this,arguments)}function Zn(e){return Qn.apply(this,arguments)}function Qn(){Qn=l(b.mark((function e(n){var r,t,u,i,a,o,c,s,f=arguments;return b.wrap((function e(l){while(1){switch(l.prev=l.next){case 0:r=f.length>1&&f[1]!==undefined?f[1]:{};t=f.length>2&&f[2]!==undefined?f[2]:{};ge(t.node,"SDK Send Get Transaction Error: opts.node must be defined.");ge(r.response,"SDK Send Get Transaction Error: context.response must be defined.");ge(r.Buffer,"SDK Send Get Transaction Error: context.Buffer must be defined.");u=t.httpRequest||tn;l.next=8;return n;case 8:n=l.sent;l.next=11;return u({hostname:t.node,path:"/v1/transactions/".concat(n.transaction.id),method:"GET",body:null});case 11:i=l.sent;a=function e(n){return{address:n.address,keyId:Number(n.key_id),sequenceNumber:Number(n.sequence_number)}};o=function e(n){return{address:n.address,keyId:Number(n.key_index),signature:n.signature}};c=function e(n){return JSON.parse(r.Buffer.from(n,"base64").toString())};s=r.response();s.tag=n.tag;s.transaction={script:r.Buffer.from(i.script,"base64").toString(),args:Se(i.arguments.map(c)),referenceBlockId:i.reference_block_id,gasLimit:Number(i.gas_limit),payer:i.payer,proposalKey:i.proposal_key?a(i.proposal_key):i.proposal_key,authorizers:i.authorizers,payloadSignatures:Se(i.payload_signatures.map(o)),envelopeSignatures:Se(i.envelope_signatures.map(o))};return l.abrupt("return",s);case 19:case"end":return l.stop()}}}),e)})));return Qn.apply(this,arguments)}var er={UNKNOWN:0,PENDING:1,FINALIZED:2,EXECUTED:3,SEALED:4,EXPIRED:5};function nr(e){return rr.apply(this,arguments)}function rr(){rr=l(b.mark((function e(n){var r,t,u,i,a,o=arguments;return b.wrap((function e(c){while(1){switch(c.prev=c.next){case 0:r=o.length>1&&o[1]!==undefined?o[1]:{};t=o.length>2&&o[2]!==undefined?o[2]:{};ge(t.node,"SDK Send Get Transaction Status Error: opts.node must be defined.");ge(r.response,"SDK Send Get Transaction Status Error: context.response must be defined.");ge(r.Buffer,"SDK Send Get Transaction Status Error: context.Buffer must be defined.");u=t.httpRequest||tn;c.next=8;return n;case 8:n=c.sent;c.next=11;return u({hostname:t.node,path:"/v1/transaction_results/".concat(n.transaction.id),method:"GET",body:null});case 11:i=c.sent;a=r.response();a.tag=n.tag;a.transactionStatus={blockId:i.block_id,status:er[i.status.toUpperCase()]||"",statusString:i.status.toUpperCase(),statusCode:i.status_code,errorMessage:i.error_message,events:i.events.map((function(e){return{type:e.type,transactionId:e.transaction_id,transactionIndex:Number(e.transaction_index),eventIndex:Number(e.event_index),payload:JSON.parse(r.Buffer.from(e.payload,"base64").toString())}}))};return c.abrupt("return",a);case 16:case"end":return c.stop()}}}),e)})));return rr.apply(this,arguments)}function tr(e){return ur.apply(this,arguments)}function ur(){ur=l(b.mark((function e(n){var r,t,u,i,a=arguments;return b.wrap((function e(o){while(1){switch(o.prev=o.next){case 0:r=a.length>1&&a[1]!==undefined?a[1]:{};t=a.length>2&&a[2]!==undefined?a[2]:{};ge(t.node,"SDK Send Ping Error: opts.node must be defined.");ge(r.response,"SDK Send Ping Error: context.response must be defined.");u=t.httpRequest||tn;o.next=7;return u({hostname:t.node,path:"/v1/blocks?height=sealed",method:"GET",body:null});case 7:i=r.response();i.tag=n.tag;return o.abrupt("return",i);case 10:case"end":return o.stop()}}}),e)})));return ur.apply(this,arguments)}var ir=function e(n){return"".concat(withPrefix(n.addr),"-").concat(n.keyId)};function ar(e){return or.apply(this,arguments)}function or(){or=l(b.mark((function e(n){var r,t,u,i,a,o,c,s,f,l,d,v,h,p,w,m,g=arguments;return b.wrap((function e(b){while(1){switch(b.prev=b.next){case 0:r=g.length>1&&g[1]!==undefined?g[1]:{};t=g.length>2&&g[2]!==undefined?g[2]:{};ge(t.node,"SDK Send Transaction Error: opts.node must be defined.");ge(r.response,"SDK Send Transaction Error: context.response must be defined.");ge(r.Buffer,"SDK Send Transaction Error: context.Buffer must be defined.");u=t.httpRequest||tn;b.next=8;return n;case 8:n=b.sent;i=[];a=0,o=Object.values(n.accounts);case 11:if(!(a<o.length)){b.next=24;break}c=o[a];b.prev=13;if(!c.role.payer&&c.signature!=null){i.push({address:Qe(c.addr),key_index:String(c.keyId),signature:r.Buffer.from(c.signature,"hex").toString("base64")})}b.next=21;break;case 17:b.prev=17;b.t0=b["catch"](13);console.error("SDK HTTP Send Error: Trouble applying payload signature",{acct:c,ix:n});throw b.t0;case 21:a++;b.next=11;break;case 24:s={};f=0,l=Object.values(n.accounts);case 26:if(!(f<l.length)){b.next=39;break}d=l[f];b.prev=28;if(d.role.payer&&d.signature!=null){v=d.tempId||ir(d);s[v]=s[v]||{address:Qe(d.addr),key_index:String(d.keyId),signature:r.Buffer.from(d.signature,"hex").toString("base64")}}b.next=36;break;case 32:b.prev=32;b.t1=b["catch"](28);console.error("SDK HTTP Send Error: Trouble applying envelope signature",{acct:d,ix:n});throw b.t1;case 36:f++;b.next=26;break;case 39:s=Object.values(s);h=Date.now();b.next=43;return u({hostname:t.node,path:"/v1/transactions",method:"POST",body:{script:r.Buffer.from(n.message.cadence).toString("base64"),arguments:Se(n.message.arguments.map((function(e){return r.Buffer.from(JSON.stringify(n.arguments[e].asArgument)).toString("base64")}))),reference_block_id:n.message.refBlock?n.message.refBlock:null,gas_limit:String(n.message.computeLimit),payer:Qe(n.accounts[Array.isArray(n.payer)?n.payer[0]:n.payer].addr),proposal_key:{address:Qe(n.accounts[n.proposer].addr),key_index:String(n.accounts[n.proposer].keyId),sequence_number:String(n.accounts[n.proposer].sequenceNum)},authorizers:n.authorizations.map((function(e){return n.accounts[e].addr})).reduce((function(e,n){return e.find((function(e){return e===n}))?e:[].concat(Se(e),[n])}),[]).map(Qe),payload_signatures:i,envelope_signatures:s}});case 43:p=b.sent;w=Date.now();m=r.response();m.tag=n.tag;m.transactionId=p.id;if(typeof window!=="undefined"){window.dispatchEvent(new CustomEvent("FLOW::TX",{detail:{txId:m.transactionId,delta:w-h}}))}return b.abrupt("return",m);case 50:case"end":return b.stop()}}}),e,null,[[13,17],[28,32]])})));return or.apply(this,arguments)}var cr=function(){var e=l(b.mark((function e(n){var r,t,u=arguments;return b.wrap((function e(i){while(1){switch(i.prev=i.next){case 0:r=u.length>1&&u[1]!==undefined?u[1]:{};t=u.length>2&&u[2]!==undefined?u[2]:{};ge(t.node,'SDK Send Error: Either opts.node or "accessNode.api" in config must be defined.');ge(r.ix,"SDK Send Error: context.ix must be defined.");i.next=6;return n;case 6:n=i.sent;i.t0=true;i.next=i.t0===r.ix.isTransaction(n)?10:i.t0===r.ix.isGetTransactionStatus(n)?11:i.t0===r.ix.isGetTransaction(n)?12:i.t0===r.ix.isScript(n)?13:i.t0===r.ix.isGetAccount(n)?14:i.t0===r.ix.isGetEvents(n)?15:i.t0===r.ix.isGetBlock(n)?16:i.t0===r.ix.isGetBlockHeader(n)?17:i.t0===r.ix.isGetCollection(n)?18:i.t0===r.ix.isPing(n)?19:20;break;case 10:return i.abrupt("return",t.sendTransaction?t.sendTransaction(n,r,t):ar(n,r,t));case 11:return i.abrupt("return",t.sendGetTransactionStatus?t.sendGetTransactionStatus(n,r,t):nr(n,r,t));case 12:return i.abrupt("return",t.sendGetTransaction?t.sendGetTransaction(n,r,t):Zn(n,r,t));case 13:return i.abrupt("return",t.sendExecuteScript?t.sendExecuteScript(n,r,t):hn(n,r,t));case 14:return i.abrupt("return",t.sendGetAccount?t.sendGetAccount(n,r,t):Sn(n,r,t));case 15:return i.abrupt("return",t.sendGetEvents?t.sendGetEvents(n,r,t):Xn(n,r,t));case 16:return i.abrupt("return",t.sendGetBlock?t.sendGetBlock(n,r,t):Bn(n,r,t));case 17:return i.abrupt("return",t.sendGetBlockHeader?t.sendGetBlockHeader(n,r,t):xn(n,r,t));case 18:return i.abrupt("return",t.sendGetCollection?t.sendGetCollection(n,r,t):zn(n,r,t));case 19:return i.abrupt("return",t.sendPing?t.sendPing(n,r,t):tr(n,r,t));case 20:return i.abrupt("return",n);case 21:case"end":return i.stop()}}}),e)})));return function n(r){return e.apply(this,arguments)}}();var sr=function e(n,r){return function(e,t){var u=t*2;var i=r*2;e[u]=n[i];e[u+1]=n[i+1]}};var fr=sr;var lr=e((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n["default"]=void 0;var r=t(fr);function t(e){return e&&e.__esModule?e:{default:e}}var u=function e(n){var t=n.A,u=n.C;for(var i=0;i<25;i+=5){for(var a=0;a<5;a++){(0,r["default"])(t,i+a)(u,a)}for(var o=0;o<5;o++){var c=(i+o)*2;var s=(o+1)%5*2;var f=(o+2)%5*2;t[c]^=~u[s]&u[f];t[c+1]^=~u[s+1]&u[f+1]}}};var i=u;n["default"]=i}));var dr=e((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n["default"]=void 0;var r=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);var t=r;n["default"]=t}));var vr=e((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n["default"]=void 0;var r=t(dr);function t(e){return e&&e.__esModule?e:{default:e}}var u=function e(n){var t=n.A,u=n.roundIndex;var i=u*2;t[0]^=r["default"][i];t[1]^=r["default"][i+1]};var i=u;n["default"]=i}));var hr=e((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n["default"]=void 0;var r=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];var t=r;n["default"]=t}));var pr=e((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n["default"]=void 0;var r=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44];var t=r;n["default"]=t}));var br=e((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n["default"]=void 0;var r=i(hr);var t=i(pr);var u=i(fr);function i(e){return e&&e.__esModule?e:{default:e}}var a=function e(n){var i=n.A,a=n.C,o=n.W;(0,u["default"])(i,1)(o,0);var c=0;var s=0;var f=0;var l=32;for(var d=0;d<24;d++){var v=r["default"][d];var h=t["default"][d];(0,u["default"])(i,v)(a,0);c=o[0];s=o[1];l=32-h;f=h<32?0:1;o[f]=c<<h|s>>>l;o[(f+1)%2]=s<<h|c>>>l;(0,u["default"])(o,0)(i,v);(0,u["default"])(a,0)(o,0)}};var o=a;n["default"]=o}));var wr=e((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n["default"]=void 0;var r=t(fr);function t(e){return e&&e.__esModule?e:{default:e}}var u=function e(n){var t=n.A,u=n.C,i=n.D,a=n.W;var o=0;var c=0;for(var s=0;s<5;s++){var f=s*2;var l=(s+5)*2;var d=(s+10)*2;var v=(s+15)*2;var h=(s+20)*2;u[f]=t[f]^t[l]^t[d]^t[v]^t[h];u[f+1]=t[f+1]^t[l+1]^t[d+1]^t[v+1]^t[h+1]}for(var p=0;p<5;p++){(0,r["default"])(u,(p+1)%5)(a,0);o=a[0];c=a[1];a[0]=o<<1|c>>>31;a[1]=c<<1|o>>>31;i[p*2]=u[(p+4)%5*2]^a[0];i[p*2+1]=u[(p+4)%5*2+1]^a[1];for(var b=0;b<25;b+=5){t[(b+p)*2]^=i[p*2];t[(b+p)*2+1]^=i[p*2+1]}}};var i=u;n["default"]=i}));var mr=e((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n["default"]=void 0;var r=a(lr);var t=a(vr);var u=a(br);var i=a(wr);function a(e){return e&&e.__esModule?e:{default:e}}var o=function e(){var n=new Uint32Array(10);var a=new Uint32Array(10);var o=new Uint32Array(2);return function(e){for(var c=0;c<24;c++){(0,i["default"])({A:e,C:n,D:a,W:o});(0,u["default"])({A:e,C:n,W:o});(0,r["default"])({A:e,C:n});(0,t["default"])({A:e,roundIndex:c})}n.fill(0);a.fill(0);o.fill(0)}};var c=o;n["default"]=c}));var gr=e((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n["default"]=void 0;var t=u(mr);function u(e){return e&&e.__esModule?e:{default:e}}var i=function e(n,r){for(var t=0;t<n.length;t+=8){var u=t/4;r[u]^=n[t+7]<<24|n[t+6]<<16|n[t+5]<<8|n[t+4];r[u+1]^=n[t+3]<<24|n[t+2]<<16|n[t+1]<<8|n[t]}return r};var a=function e(n,r){for(var t=0;t<r.length;t+=8){var u=t/4;r[t]=n[u+1];r[t+1]=n[u+1]>>>8;r[t+2]=n[u+1]>>>16;r[t+3]=n[u+1]>>>24;r[t+4]=n[u];r[t+5]=n[u]>>>8;r[t+6]=n[u]>>>16;r[t+7]=n[u]>>>24}return r};var o=function e(n){var u=this;var o=n.capacity,c=n.padding;var s=(0,t["default"])();var f=200;var l=o/8;var d=f-o/4;var v=0;var h=new Uint32Array(f/4);var p=r.Buffer.allocUnsafe(d);this.absorb=function(e){for(var n=0;n<e.length;n++){p[v]=e[n];v+=1;if(v>=d){i(p,h);s(h);v=0}}return u};this.squeeze=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n={buffer:e.buffer||r.Buffer.allocUnsafe(l),padding:e.padding||c,queue:r.Buffer.allocUnsafe(p.length),state:new Uint32Array(h.length)};p.copy(n.queue);for(var t=0;t<h.length;t++){n.state[t]=h[t]}n.queue.fill(0,v);n.queue[v]|=n.padding;n.queue[d-1]|=128;i(n.queue,n.state);for(var u=0;u<n.buffer.length;u+=d){s(n.state);a(n.state,n.buffer.slice(u,u+d))}return n.buffer};this.reset=function(){p.fill(0);h.fill(0);v=0;return u};return this};var c=o;n["default"]=c}));var yr=e((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n["default"]=n.SHAKE=n.SHA3Hash=n.SHA3=n.Keccak=void 0;var t=u(gr);function u(e){return e&&e.__esModule?e:{default:e}}var i=function e(n){var u=n.allowedSizes,i=n.defaultSize,a=n.padding;return function e(){var n=this;var o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:i;if(!this||this.constructor!==e){return new e(o)}if(u&&!u.includes(o)){throw new Error("Unsupported hash length")}var c=new t["default"]({capacity:o});this.update=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"utf8";if(r.Buffer.isBuffer(e)){c.absorb(e);return n}if(typeof e==="string"){return n.update(r.Buffer.from(e,t))}throw new TypeError("Not a string or buffer")};this.digest=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"binary";var n=typeof e==="string"?{format:e}:e;var r=c.squeeze({buffer:n.buffer,padding:n.padding||a});if(n.format&&n.format!=="binary"){return r.toString(n.format)}return r};this.reset=function(){c.reset();return n};return this}};var a=i({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});n.Keccak=a;var o=i({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});n.SHA3=o;var c=i({allowedSizes:[128,256],defaultSize:256,padding:31});n.SHAKE=c;var s=a;n.SHA3Hash=s;o.SHA3Hash=s;var f=o;n["default"]=f}));var Er;var kr=typeof queueMicrotask==="function"?queueMicrotask:function(e){return(Er||(Er=Promise.resolve())).then(e)["catch"]((function(e){return setTimeout((function(){throw e}),0)}))};var Sr=function e(){var n=[];var r;return{deliver:function e(t){return l(b.mark((function e(){return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:n.push(t);if(r){r(n.shift());r=undefined}case 2:case"end":return u.stop()}}}),e)})))()},receive:function e(){return new Promise((function e(t){var u=n.shift();if(u)return t(u);r=t}))}}};var Ir="INIT";var Ar="SUBSCRIBE";var Tr="UNSUBSCRIBE";var Or="UPDATED";var Nr="EXIT";var Rr="TERMINATE";var Cr=(typeof self==="undefined"?"undefined":v(self))==="object"&&self.self===self&&self||(typeof global==="undefined"?"undefined":v(global))==="object"&&global.global===global&&global||(typeof window==="undefined"?"undefined":v(window))==="object"&&window.window===window&&window;Cr.FCL_REGISTRY=Cr.FCL_REGISTRY==null?{}:Cr.FCL_REGISTRY;var Pr=0;var xr=5e3;var jr=function e(n,r,t){var u=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};return new Promise((function(e,i){var a=u.expectReply||false;var o=u.timeout!=null?u.timeout:xr;if(a&&o){setTimeout((function(){return i(new Error("Timeout: ".concat(o,"ms passed without a response.")))}),o)}var c={to:n,from:u.from,tag:r,data:t,timeout:o,reply:e,reject:i};try{Cr.FCL_REGISTRY[n]&&Cr.FCL_REGISTRY[n].mailbox.deliver(c);if(!a)e(true)}catch(e){console.error("FCL.Actor -- Could Not Deliver Message",c,Cr.FCL_REGISTRY[n],e)}}))};var Dr=function e(n){delete Cr.FCL_REGISTRY[n]};var Ur=function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return function(){var e=l(b.mark((function e(r){var t;return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:if(!(typeof n[Ir]==="function")){u.next=3;break}u.next=3;return n[Ir](r);case 3:u.next=6;return r.receive();case 6:t=u.sent;u.prev=7;if(!(t.tag===Nr)){u.next=13;break}if(!(typeof n[Rr]==="function")){u.next=12;break}u.next=12;return n[Rr](r,t,t.data||{});case 12:return u.abrupt("break",25);case 13:u.next=15;return n[t.tag](r,t,t.data||{});case 15:u.next=20;break;case 17:u.prev=17;u.t0=u["catch"](7);console.error("".concat(r.self()," Error"),t,u.t0);case 20:u.prev=20;return u.abrupt("continue",3);case 23:u.next=3;break;case 25:case"end":return u.stop()}}}),e,null,[[7,17,20,23]])})));return function(n){return e.apply(this,arguments)}}()};var _r=function e(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(r==null)r=++Pr;if(Cr.FCL_REGISTRY[r]!=null)return r;Cr.FCL_REGISTRY[r]={addr:r,mailbox:Sr(),subs:new Set,kvs:{},error:null};var t={self:function e(){return r},receive:function e(){return Cr.FCL_REGISTRY[r].mailbox.receive()},send:function e(n,t,u){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};i.from=r;return jr(n,t,u,i)},sendSelf:function e(n,t,u){if(Cr.FCL_REGISTRY[r])jr(r,n,t,u)},broadcast:function e(n,t){var u=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};u.from=r;var i=O(Cr.FCL_REGISTRY[r].subs),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;jr(o,n,t,u)}}catch(e){i.e(e)}finally{i.f()}},subscribe:function e(n){return n!=null&&Cr.FCL_REGISTRY[r].subs.add(n)},unsubscribe:function e(n){return n!=null&&Cr.FCL_REGISTRY[r].subs["delete"](n)},subscriberCount:function e(){return Cr.FCL_REGISTRY[r].subs.size},hasSubs:function e(){return!!Cr.FCL_REGISTRY[r].subs.size},put:function e(n,t){if(n!=null)Cr.FCL_REGISTRY[r].kvs[n]=t},get:function e(n,t){var u=Cr.FCL_REGISTRY[r].kvs[n];return u==null?t:u},delete:function e(n){delete Cr.FCL_REGISTRY[r].kvs[n]},update:function e(n,t){if(n!=null)Cr.FCL_REGISTRY[r].kvs[n]=t(Cr.FCL_REGISTRY[r].kvs[n])},keys:function e(){return Object.keys(Cr.FCL_REGISTRY[r].kvs)},all:function e(){return Cr.FCL_REGISTRY[r].kvs},where:function e(n){return Object.keys(Cr.FCL_REGISTRY[r].kvs).reduce((function(e,t){return n.test(t)?A(A({},e),{},S({},t,Cr.FCL_REGISTRY[r].kvs[t])):e}),{})},merge:function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Object.keys(n).forEach((function(e){return Cr.FCL_REGISTRY[r].kvs[e]=n[e]}))},fatalError:function e(n){Cr.FCL_REGISTRY[r].error=n;var t=O(Cr.FCL_REGISTRY[r].subs),u;try{for(t.s();!(u=t.n()).done;){var i=u.value;jr(i,Or)}}catch(e){t.e(e)}finally{t.f()}}};if(v(n)==="object")n=Ur(n);kr(l(b.mark((function e(){return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:u.next=2;return n(t);case 2:Dr(r);case 3:case"end":return u.stop()}}}),e)}))));return r};function Fr(e,n,r){n(e);var t="@EXIT";var u=_r(function(){var n=l(b.mark((function n(u){var i,a;return b.wrap((function n(o){while(1){switch(o.prev=o.next){case 0:u.send(e,Ar);case 1:o.next=4;return u.receive();case 4:i=o.sent;a=Cr.FCL_REGISTRY[e].error;if(!(i.tag===t)){o.next=9;break}u.send(e,Tr);return o.abrupt("return");case 9:if(!a){o.next=13;break}r(null,a);u.send(e,Tr);return o.abrupt("return");case 13:r(i.data,null);o.next=1;break;case 16:case"end":return o.stop()}}}),n)})));return function(e){return n.apply(this,arguments)}}());return function(){return jr(u,t)}}var Lr;var Gr="config";var Mr="PUT_CONFIG";var Br="GET_CONFIG";var Wr="GET_ALL_CONFIG";var zr="UPDATE_CONFIG";var Kr="DELETE_CONFIG";var Hr="CLEAR_CONFIG";var Vr="WHERE_CONFIG";var qr="CONFIG/UPDATED";var Jr=function e(n){return n};var Yr=(Lr={},S(Lr,Mr,(function(e,n,r){var t=r.key,u=r.value;if(t==null)throw new Error("Missing 'key' for config/put.");e.put(t,u);e.broadcast(qr,A({},e.all()))})),S(Lr,Br,(function(e,n,r){var t=r.key,u=r.fallback;if(t==null)throw new Error("Missing 'key' for config/get");n.reply(e.get(t,u))})),S(Lr,Wr,(function(e,n){n.reply(A({},e.all()))})),S(Lr,zr,(function(e,n,r){var t=r.key,u=r.fn;if(t==null)throw new Error("Missing 'key' for config/update");e.update(t,u||Jr);e.broadcast(qr,A({},e.all()))})),S(Lr,Kr,(function(e,n,r){var t=r.key;if(t==null)throw new Error("Missing 'key' for config/delete");e["delete"](t);e.broadcast(qr,A({},e.all()))})),S(Lr,Hr,(function(e,n){var r=Object.keys(e.all());for(var t=0,u=r;t<u.length;t++){var i=u[t];e["delete"](i)}e.broadcast(qr,A({},e.all()))})),S(Lr,Vr,(function(e,n,r){var t=r.pattern;if(t==null)throw new Error("Missing 'pattern' for config/where");n.reply(e.where(t))})),S(Lr,Ar,(function(e,n){e.subscribe(n.from);e.send(n.from,qr,A({},e.all()))})),S(Lr,Tr,(function(e,n){e.unsubscribe(n.from)})),Lr);_r(Yr,Gr);function Xr(e,n){jr(Gr,Mr,{key:e,value:n});return at()}function $r(e,n){return jr(Gr,Br,{key:e,fallback:n},{expectReply:true,timeout:10})}function Zr(){return Qr.apply(this,arguments)}function Qr(){Qr=l(b.mark((function e(){var n,r,t,u,i,a,o=arguments;return b.wrap((function e(c){while(1){switch(c.prev=c.next){case 0:n=o.length>0&&o[0]!==undefined?o[0]:[];r=o.length>1?o[1]:undefined;if(n.length){c.next=4;break}return c.abrupt("return",r);case 4:t=g(n),u=t[0],i=t.slice(1);c.next=7;return $r(u);case 7:a=c.sent;if(!(a==null)){c.next=10;break}return c.abrupt("return",Zr(i,r));case 10:return c.abrupt("return",a);case 11:case"end":return c.stop()}}}),e)})));return Qr.apply(this,arguments)}function et(){return jr(Gr,Wr,null,{expectReply:true,timeout:10})}function nt(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Jr;jr(Gr,zr,{key:e,fn:n});return at()}function rt(e){jr(Gr,Kr,{key:e});return at()}function tt(e){return jr(Gr,Vr,{pattern:e},{expectReply:true,timeout:10})}function ut(e){return Fr(Gr,(function(){return _r(Yr,Gr)}),e)}function it(){return jr(Gr,Hr)}function at(e){if(e!=null&&v(e)==="object"){Object.keys(e).map((function(n){return Xr(n,e[n])}))}return{put:Xr,get:$r,all:et,first:Zr,update:nt,delete:rt,where:tt,subscribe:ut,overload:ct}}at.put=Xr;at.get=$r;at.all=et;at.first=Zr;at.update=nt;at["delete"]=rt;at.where=tt;at.subscribe=ut;at.overload=ct;var ot=function e(n){return n};function ct(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ot;return new Promise(function(){var r=l(b.mark((function r(t,u){var i,a;return b.wrap((function r(o){while(1){switch(o.prev=o.next){case 0:o.next=2;return et();case 2:i=o.sent;o.prev=3;at(e);o.t0=n;o.next=8;return et();case 8:o.t1=o.sent;o.next=11;return(0,o.t0)(o.t1);case 11:a=o.sent;o.next=14;return it();case 14:o.next=16;return at(i);case 16:t(a);o.next=26;break;case 19:o.prev=19;o.t2=o["catch"](3);o.next=23;return it();case 23:o.next=25;return at(i);case 25:u(o.t2);case 26:case"end":return o.stop()}}}),r,null,[[3,19]])})));return function(e,n){return r.apply(this,arguments)}}())}var st=Object.freeze({debug:5,info:4,log:3,warn:2,error:1});var ft=function e(n){var r=n.title,t=n.message;return["\n    %c".concat(r,"\n    ============================\n\n    ").concat(t,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]};var lt=function(){var e=l(b.mark((function e(n){var r,t,u,i,a;var o,c,s,f,l,d,v;return b.wrap((function e(h){while(1){switch(h.prev=h.next){case 0:o=n.title,c=n.message,s=n.level,f=n.always,l=f===void 0?false:f;h.next=3;return at.get("logger.level",st.warn);case 3:d=h.sent;if(!(!l&&d<s)){h.next=6;break}return h.abrupt("return");case 6:v=ft({title:o,message:c});h.t0=s;h.next=h.t0===st.debug?10:h.t0===st.info?12:h.t0===st.warn?14:h.t0===st.error?16:18;break;case 10:(r=console).debug.apply(r,Se(v));return h.abrupt("break",19);case 12:(t=console).info.apply(t,Se(v));return h.abrupt("break",19);case 14:(u=console).warn.apply(u,Se(v));return h.abrupt("break",19);case 16:(i=console).error.apply(i,Se(v));return h.abrupt("break",19);case 18:(a=console).log.apply(a,Se(v));case 19:case"end":return h.stop()}}}),e)})));return function n(r){return e.apply(this,arguments)}}();lt.deprecate=function(e){var n=e.pkg,r=e.subject,t=e.transition,u=e.level,i=u===void 0?st.warn:u,a=e.message,o=a===void 0?"":a,c=e.callback,s=c===void 0?null:c;var f=function e(n){return n.charAt(0).toUpperCase()+n.slice(1)};var d=function e(){return lt({title:"".concat(n?n+" ":"","Deprecation Notice"),message:"\n      ".concat(r?"".concat(f(r)," is deprecated and will cease to work in future releases").concat(n?" of "+n:"","."):"").concat(o?"\n"+o:"").concat(t?"\nYou can learn more (including a guide on common transition paths) here: ".concat(t):"","\n    ").trim(),level:i})};if(typeof s==="function"){return l(b.mark((function e(){var n=arguments;return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:r.next=2;return d();case 2:r.next=4;return s.apply(void 0,n);case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}}),e)})))}return d()};function dt(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];if(!e.length&&!n.length)return r;if(!e.length)return r;if(!n.length)return[].concat(Se(r),[e[0]]);var t=g(e),u=t[0],i=t.slice(1);var a=g(n),o=a[0],c=a.slice(1);if(u!==undefined)r.push(u);if(o!==undefined)r.push(o);return dt(i,c,r)}function vt(e){return function(n){if(typeof n==="function"){lt.deprecate({pkg:"FCL/SDK",subject:"Interopolation of functions into template literals",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params"});return vt(e)(n(e))}return String(n)}}function ht(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++){r[t-1]=arguments[t]}if(typeof e==="string")return function(){return e};if(Array.isArray(e)){return function(n){return dt(e,r.map(vt(n))).join("").trim()}}return e}var pt=e((function(e){function n(e,n){if(e==null)return{};var r={};var t=Object.keys(e);var u,i;for(i=0;i<t.length;i++){u=t[i];if(n.indexOf(u)>=0)continue;r[u]=e[u]}return r}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));var bt=e((function(e){function n(e,n){if(e==null)return{};var r=pt(e,n);var t,u;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(u=0;u<i.length;u++){t=i[u];if(n.indexOf(t)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,t))continue;r[t]=e[t]}}return r}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports}));const wt=n(bt);var mt="UNKNOWN";var gt="SCRIPT";var yt="TRANSACTION";var Et="GET_TRANSACTION_STATUS";var kt="GET_ACCOUNT";var St="GET_EVENTS";var It="PING";var At="GET_TRANSACTION";var Tt="GET_BLOCK";var Ot="GET_BLOCK_HEADER";var Nt="GET_COLLECTION";var Rt="BAD";var Ct="OK";var Pt="ACCOUNT";var xt="PARAM";var jt="ARGUMENT";var Dt="authorizer";var Ut="payer";var _t="proposer";var Ft='{\n  "kind":"'.concat(Pt,'",\n  "tempId":null,\n  "addr":null,\n  "keyId":null,\n  "sequenceNum":null,\n  "signature":null,\n  "signingFunction":null,\n  "resolve":null,\n  "role": {\n    "proposer":false,\n    "authorizer":false,\n    "payer":false,\n    "param":false\n  }\n}');var Lt='{\n  "kind":"'.concat(jt,'",\n  "tempId":null,\n  "value":null,\n  "asArgument":null,\n  "xform":null,\n  "resolve": null,\n  "resolveArgument": null\n}');var Gt='{\n  "tag":"'.concat(mt,'",\n  "assigns":{},\n  "status":"').concat(Ct,'",\n  "reason":null,\n  "accounts":{},\n  "params":{},\n  "arguments":{},\n  "message": {\n    "cadence":null,\n    "refBlock":null,\n    "computeLimit":null,\n    "proposer":null,\n    "payer":null,\n    "authorizations":[],\n    "params":[],\n    "arguments":[]\n  },\n  "proposer":null,\n  "authorizations":[],\n  "payer":[],\n  "events": {\n    "eventType":null,\n    "start":null,\n    "end":null,\n    "blockIds":[]\n  },\n  "transaction": {\n    "id":null\n  },\n  "block": {\n    "id":null,\n    "height":null,\n    "isSealed":null\n  },\n  "account": {\n    "addr":null\n  },\n  "collection": {\n    "id":null\n  }\n}');var Mt=new Set(Object.keys(JSON.parse(Gt)));var Bt=function e(){return JSON.parse(Gt)};var Wt="abcdefghijklmnopqrstuvwxyz0123456789".split("");var zt=function e(){return Wt[~~(Math.random()*Wt.length)]};var Kt=function e(){return Array.from({length:10},zt).join("")};var Ht=function e(n){return typeof n==="number"};var Vt=function e(n){return Array.isArray(n)};var qt=function e(n){return n!==null&&v(n)==="object"};var Jt=function e(n){return n==null};var Yt=function e(n){return typeof n==="function"};var Xt=function e(n){if(!qt(n)||Jt(n)||Ht(n))return false;var r=O(Mt),t;try{for(r.s();!(t=r.n()).done;){var u=t.value;if(!n.hasOwnProperty(u))return false}}catch(e){r.e(e)}finally{r.f()}return true};var $t=function e(n){n.status=Ct;return n};var Zt=function e(n,r){n.status=Rt;n.reason=r;return n};var Qt=function e(n){return function(e){e.tag=n;return $t(e)}};var eu=function e(n){if(n.keyId==null)return n;ge(!isNaN(parseInt(n.keyId)),"account.keyId must be an integer");return A(A({},n),{},{keyId:parseInt(n.keyId)})};var nu=function e(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return function(e){ge(typeof n==="function"||v(n)==="object","prepAccount must be passed an authorization function or an account object");ge(r.role!=null,"Account must have a role");var t=JSON.parse(Ft);var u=r.role;var i=Kt();if(n.authorization&&Yt(n.authorization))n={resolve:n.authorization};if(!n.authorization&&Yt(n))n={resolve:n};var a=n.resolve;if(a)n.resolve=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++){r[t-1]=arguments[t]}return[a,eu].reduce(function(){var e=l(b.mark((function e(n,t){return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:u.t0=t;u.t1=void 0;u.next=4;return n;case 4:u.t2=u.sent;u.t3=[u.t2].concat(r);return u.abrupt("return",u.t0.apply.call(u.t0,u.t1,u.t3));case 7:case"end":return u.stop()}}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),e)};n=eu(n);e.accounts[i]=A(A(A({},t),{},{tempId:i},n),{},{role:A(A(A({},t.role),v(n.role)==="object"?n.role:{}),{},S({},u,true))});if(u===Dt){e.authorizations.push(i)}else if(u===Ut){e.payer.push(i)}else{e[u]=i}return e}};var ru=function e(n){return function(e){var r=Kt();e.message.arguments.push(r);e.arguments[r]=JSON.parse(Lt);e.arguments[r].tempId=r;e.arguments[r].value=n.value;e.arguments[r].asArgument=n.asArgument;e.arguments[r].xform=n.xform;e.arguments[r].resolve=n.resolve;e.arguments[r].resolveArgument=Yt(n.resolveArgument)?n.resolveArgument.bind(n):n.resolveArgument;return $t(e)}};var tu=Qt(mt);var uu=Qt(gt);var iu=Qt(yt);var au=Qt(Et);var ou=Qt(At);var cu=Qt(kt);var su=Qt(St);var fu=Qt(It);var lu=Qt(Tt);var du=Qt(Ot);var vu=Qt(Nt);var hu=function e(n){return function(e){return e.tag===n}};var pu=hu(mt);var bu=hu(gt);var wu=hu(yt);var mu=hu(Et);var gu=hu(At);var yu=hu(kt);var Eu=hu(St);var ku=hu(It);var Su=hu(Tt);var Iu=hu(Ot);var Au=hu(Nt);var Tu=function e(n){return n.status===Ct};var Ou=function e(n){return n.status===Rt};var Nu=function e(n){return n.reason};var Ru=function e(n){return n.kind===Pt};var Cu=function e(n){return n.kind===xt};var Pu=function e(n){return n.kind===jt};var xu=function e(n){for(var r=0,t=Object.keys(n);r<t.length;r++){var u=t[r];if(!Mt.has(u))throw new Error('"'.concat(u,'" is an invalid root level Interaction property.'))}return n};var ju=function(){var e=l(b.mark((function e(n){var r,t,u,i,a,o=arguments;return b.wrap((function e(c){while(1){switch(c.prev=c.next){case 0:r=o.length>1&&o[1]!==undefined?o[1]:[];c.prev=1;c.t0=xu;c.next=5;return n;case 5:c.t1=c.sent;n=(0,c.t0)(c.t1);if(!Ou(n)){c.next=9;break}throw new Error("Interaction Error: ".concat(n.reason));case 9:if(r.length){c.next=11;break}return c.abrupt("return",n);case 11:t=g(r),u=t[0],i=t.slice(1);c.next=14;return u;case 14:a=c.sent;if(!Yt(a)){c.next=17;break}return c.abrupt("return",ju(a(n),i));case 17:if(!(Jt(a)||!a)){c.next=19;break}return c.abrupt("return",ju(n,i));case 19:if(!Xt(a)){c.next=21;break}return c.abrupt("return",ju(a,i));case 21:throw new Error("Invalid Interaction Composition");case 24:c.prev=24;c.t2=c["catch"](1);throw c.t2;case 27:case"end":return c.stop()}}}),e,null,[[1,24]])})));return function n(r){return e.apply(this,arguments)}}();var Du=function e(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++){r[t]=arguments[t]}var u=r[0],i=r[1];if(Vt(u)&&i==null)return function(n){return e(n,u)};return ju(u,i)};var Uu=function e(n){return n};var _u=function e(n,r,t){return n.assigns[r]==null?t:n.assigns[r]};var Fu=function e(n,r){return function(e){e.assigns[n]=r;return $t(e)}};var Lu=function e(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Uu;return function(e){e.assigns[n]=r(e.assigns[n],e);return $t(e)}};var Gu=function e(n){return function(e){delete e.assigns[n];return $t(e)}};var Mu=Object.freeze({__proto__:null,UNKNOWN:mt,SCRIPT:gt,TRANSACTION:yt,GET_TRANSACTION_STATUS:Et,GET_ACCOUNT:kt,GET_EVENTS:St,PING:It,GET_TRANSACTION:At,GET_BLOCK:Tt,GET_BLOCK_HEADER:Ot,GET_COLLECTION:Nt,BAD:Rt,OK:Ct,ACCOUNT:Pt,PARAM:xt,ARGUMENT:jt,AUTHORIZER:Dt,PAYER:Ut,PROPOSER:_t,interaction:Bt,uuid:Kt,isNumber:Ht,isArray:Vt,isObj:qt,isNull:Jt,isFn:Yt,isInteraction:Xt,Ok:$t,Bad:Zt,prepAccount:nu,makeArgument:ru,makeUnknown:tu,makeScript:uu,makeTransaction:iu,makeGetTransactionStatus:au,makeGetTransaction:ou,makeGetAccount:cu,makeGetEvents:su,makePing:fu,makeGetBlock:lu,makeGetBlockHeader:du,makeGetCollection:vu,isUnknown:pu,isScript:bu,isTransaction:wu,isGetTransactionStatus:mu,isGetTransaction:gu,isGetAccount:yu,isGetEvents:Eu,isPing:ku,isGetBlock:Su,isGetBlockHeader:Iu,isGetCollection:Au,isOk:Tu,isBad:Ou,why:Nu,isAccount:Ru,isParam:Cu,isArgument:Pu,pipe:Du,get:_u,put:Fu,update:Lu,destroy:Gu});function Bu(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return Du(Bt(),e)}var Wu='{\n    "tag":null,\n    "transaction":null,\n    "transactionStatus":null,\n    "transactionId":null,\n    "encodedData":null,\n    "events":null,\n    "account":null,\n    "block":null,\n    "blockHeader":null,\n    "latestBlock":null,\n    "collection":null\n}';var zu=function e(){return JSON.parse(Wu)};function Ku(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return Du([lu,function(n){n.block.isSealed=e;return $t(n)}])}function Hu(e){return Du([cu,function(n){n.account.addr=Qe(e);return $t(n)}])}var Vu=function e(){Te.deprecate({pkg:"@onflow/decode",subject:"Operating upon data of the latestBlock field of the response object",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field"})};var qu=function(){var e=l(b.mark((function e(n){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:return r.abrupt("return",n);case 1:case"end":return r.stop()}}}),e)})));return function n(r){return e.apply(this,arguments)}}();var Ju=function(){var e=l(b.mark((function e(){return b.wrap((function e(n){while(1){switch(n.prev=n.next){case 0:return n.abrupt("return",null);case 1:case"end":return n.stop()}}}),e)})));return function n(){return e.apply(this,arguments)}}();var Yu=function(){var e=l(b.mark((function e(n){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:return r.abrupt("return",n.staticType);case 1:case"end":return r.stop()}}}),e)})));return function n(r){return e.apply(this,arguments)}}();var Xu=function(){var e=l(b.mark((function e(n){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:return r.abrupt("return",{domain:n.domain,identifier:n.identifier});case 1:case"end":return r.stop()}}}),e)})));return function n(r){return e.apply(this,arguments)}}();var $u=function(){var e=l(b.mark((function e(n){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:return r.abrupt("return",{path:n.path,address:n.address,borrowType:n.borrowType});case 1:case"end":return r.stop()}}}),e)})));return function n(r){return e.apply(this,arguments)}}();var Zu=function(){var e=l(b.mark((function e(n,r,t){return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:if(!n){u.next=6;break}u.next=3;return ii(n,r,t);case 3:u.t0=u.sent;u.next=7;break;case 6:u.t0=null;case 7:return u.abrupt("return",u.t0);case 8:case"end":return u.stop()}}}),e)})));return function n(r,t,u){return e.apply(this,arguments)}}();var Qu=function(){var e=l(b.mark((function e(n){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:return r.abrupt("return",{address:n.address,type:n.type});case 1:case"end":return r.stop()}}}),e)})));return function n(r){return e.apply(this,arguments)}}();var ei=function(){var e=l(b.mark((function e(n,r,t){return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:u.next=2;return Promise.all(n.map((function(e){return new Promise(function(){var n=l(b.mark((function n(u){return b.wrap((function n(i){while(1){switch(i.prev=i.next){case 0:i.t0=u;i.next=3;return ii(e,r,[].concat(Se(t),[e.type]));case 3:i.t1=i.sent;return i.abrupt("return",(0,i.t0)(i.t1));case 5:case"end":return i.stop()}}}),n)})));return function(e){return n.apply(this,arguments)}}())})));case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}}}),e)})));return function n(r,t,u){return e.apply(this,arguments)}}();var ni=function(){var e=l(b.mark((function e(n,r,t){return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:u.next=2;return n.reduce(function(){var e=l(b.mark((function e(n,u){return b.wrap((function e(i){while(1){switch(i.prev=i.next){case 0:i.next=2;return n;case 2:n=i.sent;i.next=5;return ii(u.key,r,[].concat(Se(t),[u.key]));case 5:i.t0=i.sent;i.next=8;return ii(u.value,r,[].concat(Se(t),[u.key]));case 8:n[i.t0]=i.sent;return i.abrupt("return",n);case 10:case"end":return i.stop()}}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),Promise.resolve({}));case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}}}),e)})));return function n(r,t,u){return e.apply(this,arguments)}}();var ri=function(){var e=l(b.mark((function e(n,r,t){var u,i;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:a.next=2;return n.fields.reduce(function(){var e=l(b.mark((function e(n,u){return b.wrap((function e(i){while(1){switch(i.prev=i.next){case 0:i.next=2;return n;case 2:n=i.sent;i.next=5;return ii(u.value,r,[].concat(Se(t),[u.name]));case 5:n[u.name]=i.sent;return i.abrupt("return",n);case 7:case"end":return i.stop()}}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),Promise.resolve({}));case 2:u=a.sent;i=n.id&&ui(r,n.id);if(!i){a.next=10;break}a.next=7;return i(u);case 7:a.t0=a.sent;a.next=11;break;case 10:a.t0=u;case 11:return a.abrupt("return",a.t0);case 12:case"end":return a.stop()}}}),e)})));return function n(r,t,u){return e.apply(this,arguments)}}();var ti={UInt:qu,Int:qu,UInt8:qu,Int8:qu,UInt16:qu,Int16:qu,UInt32:qu,Int32:qu,UInt64:qu,Int64:qu,UInt128:qu,Int128:qu,UInt256:qu,Int256:qu,Word8:qu,Word16:qu,Word32:qu,Word64:qu,UFix64:qu,Fix64:qu,String:qu,Character:qu,Bool:qu,Address:qu,Void:Ju,Optional:Zu,Reference:Qu,Array:ei,Dictionary:ni,Event:ri,Resource:ri,Struct:ri,Enum:ri,Type:Yu,Path:Xu,Capability:$u};var ui=function e(n,r){var t=Object.keys(n).find((function(e){if(/^\/.*\/$/.test(e)){var n=new RegExp(e.substring(1,e.length-1));return n.test(r)}return e===r}));return r&&t&&n[t]};var ii=function(){var e=l(b.mark((function e(n,r,t){var u;return b.wrap((function e(i){while(1){switch(i.prev=i.next){case 0:u=ui(r,n.type);if(u){i.next=3;break}throw new Error("Undefined Decoder Error: ".concat(n.type,"@").concat(t.join(".")));case 3:i.next=5;return u(n.value,r,t);case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}}}),e)})));return function n(r,t,u){return e.apply(this,arguments)}}();var ai=function(){var e=l(b.mark((function e(n){var r,t,u,i,a=arguments;return b.wrap((function e(o){while(1){switch(o.prev=o.next){case 0:r=a.length>1&&a[1]!==undefined?a[1]:{};t=a.length>2&&a[2]!==undefined?a[2]:[];u=Object.keys(ti).filter((function(e){return!Object.keys(r).find((function(n){return new RegExp(n).test(e)}))})).reduce((function(e,n){e[n]=ti[n];return e}),r);i=A(A({},u),r);return o.abrupt("return",ii(n,i,t));case 5:case"end":return o.stop()}}}),e)})));return function n(r){return e.apply(this,arguments)}}();var oi=function(){var e=l(b.mark((function e(n){var r,t=arguments;return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:r=t.length>1&&t[1]!==undefined?t[1]:{};if(!n.encodedData){u.next=5;break}return u.abrupt("return",ai(n.encodedData,r));case 5:if(!n.transactionStatus){u.next=16;break}u.t0=A;u.t1=A({},n.transactionStatus);u.t2={};u.next=11;return Promise.all(n.transactionStatus.events.map(function(){var e=l(b.mark((function e(n){return b.wrap((function e(t){while(1){switch(t.prev=t.next){case 0:t.t0=n.type;t.t1=n.transactionId;t.t2=n.transactionIndex;t.t3=n.eventIndex;t.next=6;return ai(n.payload,r);case 6:t.t4=t.sent;return t.abrupt("return",{type:t.t0,transactionId:t.t1,transactionIndex:t.t2,eventIndex:t.t3,data:t.t4});case 8:case"end":return t.stop()}}}),e)})));function n(n){return e.apply(this,arguments)}return n}()));case 11:u.t3=u.sent;u.t4={events:u.t3};return u.abrupt("return",(0,u.t0)(u.t1,u.t2,u.t4));case 16:if(!n.transaction){u.next=20;break}return u.abrupt("return",n.transaction);case 20:if(!n.events){u.next=26;break}u.next=23;return Promise.all(n.events.map(function(){var e=l(b.mark((function e(n){return b.wrap((function e(t){while(1){switch(t.prev=t.next){case 0:t.t0=n.blockId;t.t1=n.blockHeight;t.t2=n.blockTimestamp;t.t3=n.type;t.t4=n.transactionId;t.t5=n.transactionIndex;t.t6=n.eventIndex;t.next=9;return ai(n.payload,r);case 9:t.t7=t.sent;return t.abrupt("return",{blockId:t.t0,blockHeight:t.t1,blockTimestamp:t.t2,type:t.t3,transactionId:t.t4,transactionIndex:t.t5,eventIndex:t.t6,data:t.t7});case 11:case"end":return t.stop()}}}),e)})));function n(n){return e.apply(this,arguments)}return n}()));case 23:return u.abrupt("return",u.sent);case 26:if(!n.account){u.next=30;break}return u.abrupt("return",n.account);case 30:if(!n.block){u.next=34;break}return u.abrupt("return",n.block);case 34:if(!n.blockHeader){u.next=38;break}return u.abrupt("return",n.blockHeader);case 38:if(!n.latestBlock){u.next=43;break}Vu();return u.abrupt("return",n.latestBlock);case 43:if(!n.transactionId){u.next=47;break}return u.abrupt("return",n.transactionId);case 47:if(!n.collection){u.next=49;break}return u.abrupt("return",n.collection);case 49:return u.abrupt("return",null);case 50:case"end":return u.stop()}}}),e)})));return function n(r){return e.apply(this,arguments)}}();var ci=function e(n){return typeof n==="function"};var si=function e(n){return typeof n==="string"};function fi(e){return li.apply(this,arguments)}function li(){li=l(b.mark((function e(n){var r;return b.wrap((function e(t){while(1){switch(t.prev=t.next){case 0:if(!(wu(n)||bu(n))){t.next=11;break}r=_u(n,"ix.cadence");ge(ci(r)||si(r),"Cadence needs to be a function or a string.");if(!ci(r)){t.next=7;break}t.next=6;return r({});case 6:r=t.sent;case 7:ge(si(r),"Cadence needs to be a string at this point.");t.next=10;return be().where(/^0x/).then((function(e){return Object.entries(e).reduce((function(e,n){var r=s(n,2),t=r[0],u=r[1];var i=new RegExp("(\\b"+t+"\\b)","g");return e.replace(i,u)}),r)}));case 10:n.message.cadence=t.sent;case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}}}),e)})));return li.apply(this,arguments)}var di=function e(n){return typeof n==="function"};function vi(e){ge(v(e.xform)!=null,"No type specified for argument: ".concat(e.value));if(di(e.xform))return e.xform(e.value);if(di(e.xform.asArgument))return e.xform.asArgument(e.value);ge(false,"Invalid Argument",e)}function hi(e){return pi.apply(this,arguments)}function pi(){pi=l(b.mark((function e(n){var r,t,u=arguments;return b.wrap((function e(i){while(1){switch(i.prev=i.next){case 0:r=u.length>1&&u[1]!==undefined?u[1]:3;ge(r>0,"Argument Resolve Recursion Limit Exceeded for Arg: ".concat(n.tempId));if(!di(n.resolveArgument)){i.next=9;break}i.next=5;return n.resolveArgument();case 5:t=i.sent;return i.abrupt("return",hi(t,r-1));case 9:return i.abrupt("return",n);case 10:case"end":return i.stop()}}}),e)})));return pi.apply(this,arguments)}function bi(e){return wi.apply(this,arguments)}function wi(){wi=l(b.mark((function e(n){var r,t,u,i,a,o;return b.wrap((function e(c){while(1){switch(c.prev=c.next){case 0:if(!(wu(n)||bu(n))){c.next=11;break}r=0,t=Object.entries(n.arguments);case 2:if(!(r<t.length)){c.next=11;break}u=s(t[r],2),i=u[0],a=u[1];c.next=6;return hi(a);case 6:o=c.sent;n.arguments[i].asArgument=vi(o);case 8:r++;c.next=2;break;case 11:return c.abrupt("return",n);case 12:case"end":return c.stop()}}}),e)})));return wi.apply(this,arguments)}var mi=function e(n){return Ii(Ci(xi(n)))};var gi=function e(n){return Ii(Ci(ji(n)))};var yi=function e(n){return Pi(Ci(_i(n)))};var Ei=function e(n,t){return r.Buffer.from(n.padEnd(t*2,0),"hex")};var ki=function e(n,t){return r.Buffer.from(n.padStart(t*2,0),"hex")};var Si=Ei(r.Buffer.from("FLOW-V0.0-transaction").toString("hex"),32).toString("hex");var Ii=function e(n){return Si+n};var Ai=function e(n){return ki(n,8)};var Ti=function e(n){return ki(n,32)};var Oi=function e(n){return r.Buffer.from(JSON.stringify(n),"utf8")};var Ni=function e(n){return r.Buffer.from(n,"utf8")};var Ri=function e(n){return r.Buffer.from(n,"hex")};var Ci=function e(n){return Oe(n).toString("hex")};var Pi=function e(n){var t=new yr.SHA3(256);t.update(r.Buffer.from(n,"hex"));return t.digest().toString("hex")};var xi=function e(n){Fi(n);return[Ni(n.cadence),n.arguments.map(Oi),Ti(n.refBlock),n.computeLimit,Ai(Qe(n.proposalKey.address)),n.proposalKey.keyId,n.proposalKey.sequenceNum,Ai(Qe(n.payer)),n.authorizers.map((function(e){return Ai(Qe(e))}))]};var ji=function e(n){Li(n);return[xi(n),Di(n)]};var Di=function e(n){var r=Ui(n);return n.payloadSigs.map((function(e){return{signerIndex:r.get(e.address),keyId:e.keyId,sig:e.sig}})).sort((function(e,n){if(e.signerIndex>n.signerIndex)return 1;if(e.signerIndex<n.signerIndex)return-1;if(e.keyId>n.keyId)return 1;if(e.keyId<n.keyId)return-1})).map((function(e){return[e.signerIndex,e.keyId,Ri(e.sig)]}))};var Ui=function e(n){var r=new Map;var t=0;var u=function e(n){if(!r.has(n)){r.set(n,t);t++}};u(n.proposalKey.address);u(n.payer);n.authorizers.forEach(u);return r};var _i=function e(n){Gi(n);var r=Ui(n);var t=function e(n){return n.map((function(e){var n=e.address,t=e.keyId,u=e.sig;return{signerIndex:r.get(n),keyId:t,sig:u}})).sort((function(e,n){if(e.signerIndex>n.signerIndex)return 1;if(e.signerIndex<n.signerIndex)return-1;if(e.keyId>n.keyId)return 1;if(e.keyId<n.keyId)return-1})).map((function(e){return[e.signerIndex,e.keyId,Ri(e.sig)]}))};return[[Ni(n.cadence),n.arguments.map(Oi),Ti(n.refBlock),n.computeLimit,Ai(Qe(n.proposalKey.address)),n.proposalKey.keyId,n.proposalKey.sequenceNum,Ai(Qe(n.payer)),n.authorizers.map((function(e){return Ai(Qe(e))}))],t(n.payloadSigs),t(n.envelopeSigs)]};var Fi=function e(n){Ki.forEach((function(e){return Xi(n,e)}));Hi.forEach((function(e){return Xi(n.proposalKey,e,"proposalKey")}))};var Li=function e(n){Vi.forEach((function(e){return Xi(n,e)}));n.payloadSigs.forEach((function(e,n){qi.forEach((function(r){return Xi(e,r,"payloadSigs",n)}))}))};var Gi=function e(n){Ki.forEach((function(e){return Xi(n,e)}));Hi.forEach((function(e){return Xi(n.proposalKey,e,"proposalKey")}));Vi.forEach((function(e){return Xi(n,e)}));n.payloadSigs.forEach((function(e,n){qi.forEach((function(r){return Xi(e,r,"payloadSigs",n)}))}));Ji.forEach((function(e){return Xi(n,e)}));n.envelopeSigs.forEach((function(e,n){Yi.forEach((function(r){return Xi(e,r,"envelopeSigs",n)}))}))};var Mi=function e(n){return typeof n==="number"};var Bi=function e(n){return typeof n==="string"};var Wi=function e(n){return n!==null&&v(n)==="object"};var zi=function e(n){return Wi(n)&&n instanceof Array};var Ki=[{name:"cadence",check:Bi},{name:"arguments",check:zi},{name:"refBlock",check:Bi,defaultVal:"0"},{name:"computeLimit",check:Mi},{name:"proposalKey",check:Wi},{name:"payer",check:Bi},{name:"authorizers",check:zi}];var Hi=[{name:"address",check:Bi},{name:"keyId",check:Mi},{name:"sequenceNum",check:Mi}];var Vi=[{name:"payloadSigs",check:zi}];var qi=[{name:"address",check:Bi},{name:"keyId",check:Mi},{name:"sig",check:Bi}];var Ji=[{name:"envelopeSigs",check:zi}];var Yi=[{name:"address",check:Bi},{name:"keyId",check:Mi},{name:"sig",check:Bi}];var Xi=function e(n,r,t,u){var i=r.name,a=r.check,o=r.defaultVal;if(n[i]==null&&o!=null)n[i]=o;if(n[i]==null)throw Zi(i,t,u);if(!a(n[i]))throw Qi(i,t,u)};var $i=function e(n,r,t){if(!!r)return t==null?"".concat(r,".").concat(n):"".concat(r,".").concat(t,".").concat(n);return n};var Zi=function e(n,r,t){return new Error("Missing field ".concat($i(n,r,t)))};var Qi=function e(n,r,t){return new Error("Invalid field ".concat($i(n,r,t)))};function ea(e){var n=new Set(e.authorizations);n.add(e.proposer);if(Array.isArray(e.payer)){e.payer.forEach((function(e){return n["delete"](e)}))}else{n["delete"](e.payer)}return Array.from(n)}function na(e){var n=new Set(Array.isArray(e.payer)?e.payer:[e.payer]);return Array.from(n)}var ra=function e(n){var r=function e(){var r=n.authorizations.map((function(e){return en(n.accounts[e].addr)})).reduce((function(e,n){return e.find((function(e){return e===n}))?e:[].concat(Se(e),[n])}),[]);return r[0]?r:[]};var t=function e(){return ea(n).map((function(e){return{address:en(n.accounts[e].addr),keyId:n.accounts[e].keyId,sig:n.accounts[e].signature}}))};var u=function e(){return na(n).map((function(e){return{address:en(n.accounts[e].addr),keyId:n.accounts[e].keyId,sig:n.accounts[e].signature}}))};return{cadence:n.message.cadence,refBlock:n.message.refBlock||null,computeLimit:n.message.computeLimit,arguments:n.message.arguments.map((function(e){return n.arguments[e].asArgument})),proposalKey:{address:en(n.accounts[n.proposer].addr),keyId:n.accounts[n.proposer].keyId,sequenceNum:n.accounts[n.proposer].sequenceNum},payer:en(n.accounts[Array.isArray(n.payer)?n.payer[0]:n.payer].addr),authorizers:r(),payloadSigs:t(),envelopeSigs:u()}};var ta=function e(n){return yi(n)};var ua=function e(n){return"".concat(en(n.addr),"-").concat(n.keyId)};var ia=function e(n){return typeof n==="function"};function aa(e,n){try{return{f_type:"PreSignable",f_vsn:"1.0.1",roles:e.role,cadence:n.message.cadence,args:n.message.arguments.map((function(e){return n.arguments[e].asArgument})),data:{},interaction:n,voucher:ra(n)}}catch(e){console.error("buildPreSignable",e);throw e}}function oa(e,n,r){return ca.apply(this,arguments)}function ca(){ca=l(b.mark((function e(n,r,t){var u,i,a,o,c,s,f=arguments;return b.wrap((function e(l){while(1){switch(l.prev=l.next){case 0:u=f.length>3&&f[3]!==undefined?f[3]:3;ge(u,"Account Resolve Recursion Limit Exceeded",{ix:n,accounts:r});i=[];a=O(r);l.prev=4;c=b.mark((function e(){var r,a,c,f,l;return b.wrap((function e(d){while(1){switch(d.prev=d.next){case 0:r=o.value;a=r.resolve;r.resolve=null;s=t||r;if(!ia(a)){d.next=8;break}d.next=7;return a(r,aa(r,n));case 7:r=d.sent;case 8:if(!Array.isArray(r)){d.next=13;break}d.next=11;return oa(n,r,s,u-1);case 11:d.next=30;break;case 13:if(r.addr){r.addr=Qe(r.addr)}if(r.addr!=null&&r.keyId!=null){r.tempId=ua(r)}n.accounts[r.tempId]=n.accounts[r.tempId]||r;n.accounts[r.tempId].role.proposer=n.accounts[r.tempId].role.proposer||r.role.proposer;n.accounts[r.tempId].role.payer=n.accounts[r.tempId].role.payer||r.role.payer;n.accounts[r.tempId].role.authorizer=n.accounts[r.tempId].role.authorizer||r.role.authorizer;if(n.accounts[r.tempId].role.proposer&&n.proposer===s.tempId){n.proposer=r.tempId}if(!n.accounts[r.tempId].role.payer){d.next=29;break}if(Array.isArray(n.payer)){n.payer=Array.from(new Set([].concat(Se(n.payer),[r.tempId]).map((function(e){return e===s.tempId?r.tempId:e}))))}else{n.payer=Array.from(new Set([n.payer,r.tempId].map((function(e){return e===s.tempId?r.tempId:e}))))}if(!(n.payer.length>1)){d.next=29;break}c=[];f=[];n.payer=n.payer.reduce((function(e,r){var t=n.accounts[r].addr;var u=ua(n.accounts[r]);f.push(t);if(c.includes(u))return e;c.push(u);return[].concat(Se(e),[r])}),[]);l=Array.from(new Set(f));if(!(l.length>1)){d.next=29;break}throw new Error("Payer can not be different accounts");case 29:if(n.accounts[r.tempId].role.authorizer){if(t){i=Array.from(new Set([].concat(Se(i),[r.tempId])))}else{n.authorizations=n.authorizations.map((function(e){return e===s.tempId?r.tempId:e}))}}case 30:if(s.tempId!=r.tempId)delete n.accounts[s.tempId];case 31:case"end":return d.stop()}}}),e)}));a.s();case 7:if((o=a.n()).done){l.next=11;break}return l.delegateYield(c(),"t0",9);case 9:l.next=7;break;case 11:l.next=16;break;case 13:l.prev=13;l.t1=l["catch"](4);a.e(l.t1);case 16:l.prev=16;a.f();return l.finish(16);case 19:if(t){n.authorizations=n.authorizations.map((function(e){return e===t.tempId?i:e})).reduce((function(e,n){return Array.isArray(n)?[].concat(Se(e),Se(n)):[].concat(Se(e),[n])}),[])}case 20:case"end":return l.stop()}}}),e,null,[[4,13,16,19]])})));return ca.apply(this,arguments)}function sa(e){return fa.apply(this,arguments)}function fa(){fa=l(b.mark((function e(n){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:if(!wu(n)){r.next=13;break}if(!Array.isArray(n.payer)){Te.deprecate({pkg:"FCL",subject:'"ix.payer" must be an array. Support for ix.payer as a singular',message:"See changelog for more info."})}r.prev=2;r.next=5;return oa(n,Object.values(n.accounts));case 5:r.next=7;return oa(n,Object.values(n.accounts));case 7:r.next=13;break;case 9:r.prev=9;r.t0=r["catch"](2);console.error("=== SAD PANDA ===\n\n",r.t0,"\n\n=== SAD PANDA ===");throw r.t0;case 13:return r.abrupt("return",n);case 14:case"end":return r.stop()}}}),e,null,[[2,9]])})));return fa.apply(this,arguments)}function la(e){return da.apply(this,arguments)}function da(){da=l(b.mark((function e(n){var r,t,u,i;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:if(!wu(n)){a.next=16;break}a.prev=1;r=ea(n);t=mi(pa(n));a.next=6;return Promise.all(r.map(va(n,t)));case 6:u=na(n);i=gi(A(A({},pa(n)),{},{payloadSigs:r.map((function(e){return{address:n.accounts[e].addr,keyId:n.accounts[e].keyId,sig:n.accounts[e].signature}}))}));a.next=10;return Promise.all(u.map(va(n,i)));case 10:a.next=16;break;case 12:a.prev=12;a.t0=a["catch"](1);console.error("Signatures",a.t0,{ix:n});throw a.t0;case 16:return a.abrupt("return",n);case 17:case"end":return a.stop()}}}),e,null,[[1,12]])})));return da.apply(this,arguments)}function va(e,n){return function(){var r=l(b.mark((function r(t){var u,i,a;return b.wrap((function r(o){while(1){switch(o.prev=o.next){case 0:u=e.accounts[t];if(!(u.signature!=null)){o.next=3;break}return o.abrupt("return");case 3:o.next=5;return u.signingFunction(ha(u,n,e));case 5:i=o.sent;a=i.signature;e.accounts[t].signature=a;case 8:case"end":return o.stop()}}}),r)})));function t(e){return r.apply(this,arguments)}return t}()}function ha(e,n,r){try{return{f_type:"Signable",f_vsn:"1.0.1",message:n,addr:Qe(e.addr),keyId:e.keyId,roles:e.role,cadence:r.message.cadence,args:r.message.arguments.map((function(e){return r.arguments[e].asArgument})),data:{},interaction:r,voucher:ra(r)}}catch(e){console.error("buildSignable",e);throw e}}function pa(e){var n=Qe((Array.isArray(e.payer)?e.accounts[e.payer[0]]:e.accounts[e.payer]).addr);return{cadence:e.message.cadence,refBlock:e.message.refBlock||null,computeLimit:e.message.computeLimit,arguments:e.message.arguments.map((function(n){return e.arguments[n].asArgument})),proposalKey:{address:Qe(e.accounts[e.proposer].addr),keyId:e.accounts[e.proposer].keyId,sequenceNum:e.accounts[e.proposer].sequenceNum},payer:n,authorizers:e.authorizations.map((function(n){return Qe(e.accounts[n].addr)})).reduce((function(e,n){return e.find((function(e){return e===n}))?e:[].concat(Se(e),[n])}),[])}}function ba(e){return wa.apply(this,arguments)}function wa(){wa=l(b.mark((function e(n){var r;return b.wrap((function e(t){while(1){switch(t.prev=t.next){case 0:r=_u(n,"ix.validators",[]);return t.abrupt("return",Du(n,r.map((function(e){return function(n){return e(n,{Ok:$t,Bad:Zt})}}))));case 2:case"end":return t.stop()}}}),e)})));return wa.apply(this,arguments)}function ma(e){return ga.apply(this,arguments)}function ga(){ga=l(b.mark((function e(n){var r,t,u;return b.wrap((function e(i){while(1){switch(i.prev=i.next){case 0:for(r=0,t=Object.keys(n.accounts);r<t.length;r++){u=t[r];n.accounts[u].addr=Qe(n.accounts[u].addr)}return i.abrupt("return",n);case 2:case"end":return i.stop()}}}),e)})));return ga.apply(this,arguments)}function ya(e){return Ea.apply(this,arguments)}function Ea(){Ea=l(b.mark((function e(n){var r;return b.wrap((function e(t){while(1){switch(t.prev=t.next){case 0:r=_u(n,"ix.voucher-intercept");if(!Yt(r)){t.next=4;break}t.next=4;return r(ra(n));case 4:return t.abrupt("return",n);case 5:case"end":return t.stop()}}}),e)})));return Ea.apply(this,arguments)}var ka=100;function Sa(e){return Ia.apply(this,arguments)}function Ia(){Ia=l(b.mark((function e(n){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:if(!wu(n)){r.next=8;break}r.t0=n.message.computeLimit;if(r.t0){r.next=6;break}r.next=5;return be.get("fcl.limit");case 5:r.t0=r.sent;case 6:n.message.computeLimit=r.t0;if(!n.message.computeLimit){Te.deprecate({pkg:"FCL/SDK",subject:"The built-in default compute limit (DEFAULT_COMPUTE_LIMIT=10)",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0009-deprecate-default-compute-limit"});n.message.computeLimit=ka}case 8:return r.abrupt("return",n);case 9:case"end":return r.stop()}}}),e)})));return Ia.apply(this,arguments)}var Aa=function e(n){return n};var Ta=function e(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Aa;return function(){var e=l(b.mark((function e(t){var u,i;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:u=function e(n){return["\nAccounts:",{proposer:n.proposer,authorizations:n.authorizations,payer:n.payer},"\n\nDetails:",n.accounts].filter(Boolean)};i=function e(){var r;for(var t=arguments.length,u=new Array(t),i=0;i<t;i++){u[i]=arguments[i]}(r=console).log.apply(r,["debug[".concat(n,"] ---\n")].concat(u,["\n\n\n---"]))};a.next=5;return be.get("debug.".concat(n));case 5:if(!a.sent){a.next=8;break}a.next=8;return r(t,i,u);case 8:return a.abrupt("return",t);case 9:case"end":return a.stop()}}}),e)})));return function(n){return e.apply(this,arguments)}}()};var Oa=Du([fi,Ta("cadence",(function(e,n){return n(e.message.cadence)})),Sa,Ta("compute limit",(function(e,n){return n(e.message.computeLimit)})),bi,Ta("arguments",(function(e,n){return n(e.message.arguments,e.message)})),sa,Ta("accounts",(function(e,n,r){return n.apply(void 0,Se(r(e)))})),Na,Ca,la,Ta("signatures",(function(e,n,r){return n.apply(void 0,Se(r(e)))})),ma,ba,ya,Ta("resolved",(function(e,n){return n(e)}))]);function Na(e){return Ra.apply(this,arguments)}function Ra(){Ra=l(b.mark((function e(n){var t,u;return b.wrap((function e(i){while(1){switch(i.prev=i.next){case 0:if(!(wu(n)&&n.message.refBlock==null)){i.next=11;break}i.next=3;return be().get("accessNode.api");case 3:t=i.sent;i.next=6;return be.first(["sdk.transport","sdk.send"],cr);case 6:u=i.sent;ge(u,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21"));i.next=10;return u(Bu([Ku()]),{config:be,response:zu,Buffer:r.Buffer,ix:Mu},{node:t}).then(oi);case 10:n.message.refBlock=i.sent.id;case 11:return i.abrupt("return",n);case 12:case"end":return i.stop()}}}),e)})));return Ra.apply(this,arguments)}function Ca(e){return Pa.apply(this,arguments)}function Pa(){Pa=l(b.mark((function e(n){var t,u,i;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:if(!wu(n)){a.next=20;break}t=Object.values(n.accounts).find((function(e){return e.role.proposer}));ge(t,"Transactions require a proposer");if(!(t.sequenceNum==null)){a.next=20;break}a.next=6;return be().get("accessNode.api");case 6:u=a.sent;a.next=9;return be.first(["sdk.transport","sdk.send"],cr);case 9:i=a.sent;ge(i,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21"));a.t0=i;a.next=14;return Bu([Hu(t.addr)]);case 14:a.t1=a.sent;a.t2={config:be,response:zu,Buffer:r.Buffer,ix:Mu};a.t3={node:u};a.next=19;return(0,a.t0)(a.t1,a.t2,a.t3).then(oi).then((function(e){return e.keys})).then((function(e){return e.find((function(e){return e.index===t.keyId}))})).then((function(e){return e.sequenceNumber}));case 19:n.accounts[t.tempId].sequenceNum=a.sent;case 20:return a.abrupt("return",n);case 21:case"end":return a.stop()}}}),e)})));return Pa.apply(this,arguments)}function xa(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++){n[r]=arguments[r]}if(n.length>1){var t=n[0],u=n[1];return xa((function(e,n){var r=n.Ok,i=n.Bad;return t?r(e):i(e,u)}))}var i=n[0];return function(e){return i(e,{Ok:$t,Bad:Zt})}}var ja=function(){var e=l(b.mark((function e(){var n,t,u,i,a=arguments;return b.wrap((function e(o){while(1){switch(o.prev=o.next){case 0:n=a.length>0&&a[0]!==undefined?a[0]:[];t=a.length>1&&a[1]!==undefined?a[1]:{};o.next=4;return be.first(["sdk.transport","sdk.send"],t.send||cr);case 4:u=o.sent;xa(u,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21"));o.next=8;return be.first(["sdk.resolve"],t.resolve||Oa);case 8:i=o.sent;o.t0=t.node;if(o.t0){o.next=14;break}o.next=13;return be().get("accessNode.api");case 13:o.t0=o.sent;case 14:t.node=o.t0;if(Array.isArray(n))n=Du(Bt(),n);o.t1=u;o.next=19;return i(n);case 19:o.t2=o.sent;o.t3={config:be,response:zu,ix:Mu,Buffer:r.Buffer};o.t4=t;return o.abrupt("return",(0,o.t1)(o.t2,o.t3,o.t4));case 23:case"end":return o.stop()}}}),e)})));return function n(){return e.apply(this,arguments)}}();function Da(e){return Ua.apply(this,arguments)}function Ua(){Ua=l(b.mark((function e(n){var r,t;return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:u.next=2;return be().where(/^decoder\./);case 2:r=u.sent;t=Object.entries(r).map((function(e){var n=s(e,2),r=n[0],t=n[1];r="/".concat(r.replace(/^decoder\./,""),"$/");return[r,t]}));return u.abrupt("return",oi(n,Object.fromEntries(t)));case 5:case"end":return u.stop()}}}),e)})));return Ua.apply(this,arguments)}var _a=function e(n){var r=new Set(n.authorizers);r.add(n.proposalKey.address);r["delete"](n.payer);return Array.from(r).map(en)};var Fa=function e(n){var r=new Set([n.payer]);return Array.from(r).map(en)};var La=function(e){Be(r,e);var n=qe(r);function r(e){var t;Le(this,r);var u="\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: ".concat(e,". \n        Please ensure the address: ").concat(e," is intended to sign the given transaction as specified by the transaction signable.\n      ").trim();t=n.call(this,u);t.name="Unable To Determine Message Encoding For Signer Addresss";return t}return _e(r)}($e(Error));var Ga=function e(n,r){var t=_a(n.voucher);var u=Fa(n.voucher);var i=t.includes(en(r));var a=u.includes(en(r));if(!i&&!a){throw new La(r)}var o={cadence:n.voucher.cadence,refBlock:n.voucher.refBlock,computeLimit:n.voucher.computeLimit,arguments:n.voucher.arguments,proposalKey:A(A({},n.voucher.proposalKey),{},{address:Qe(n.voucher.proposalKey.address)}),payer:Qe(n.voucher.payer),authorizers:n.voucher.authorizers.map(Qe),payloadSigs:n.voucher.payloadSigs.map((function(e){return A(A({},e),{},{address:Qe(e.address)})}))};return i?mi(o):gi(o)};function Ma(e){return Lu("ix.validators",(function(n){return Array.isArray(n)?n.push(e):[e]}))}function Ba(e){return Du([function(n){n.block.height=e;return n},Ma((function(e){if(typeof e.block.isSealed==="boolean")throw new Error("Unable to specify both block height and isSealed.");if(e.block.id)throw new Error("Unable to specify both block height and block id.");return e}))])}function Wa(e){return Du([function(n){n.block.id=e;return $t(n)},Ma((function(e,n){var r=n.Ok,t=n.Bad;if(yu(e))return t(e,"Unable to specify a block id with a Get Account interaction.");if(typeof e.block.isSealed==="boolean")return t(e,"Unable to specify both block id and isSealed.");if(e.block.height)return t(e,"Unable to specify both block id and block height.");return r(e)}))])}function za(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.height,t=n.id;var u=arguments.length>2?arguments[2]:undefined;ge(!(t&&r),'Method: account -- Cannot pass "id" and "height" simultaneously');if(t)return ja([Hu(e),Wa(t)],u).then(oi);if(r)return ja([Hu(e),Ba(r)],u).then(oi);return ja([Hu(e)],u).then(oi)}function Ka(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.sealed,r=n===void 0?false:n,t=e.id,u=e.height;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};ge(!(r&&t||r&&u),'Method: block -- Cannot pass "sealed" with "id" or "height"');ge(!(t&&u),'Method: block -- Cannot pass "id" and "height" simultaneously');if(t)return ja([Ku(),Wa(t)],i).then(oi);if(u)return ja([Ku(),Ba(u)],i).then(oi);return ja([Ku(r)],i).then(oi)}function Ha(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return Du(e.map((function(e){return nu(e,{role:Dt})})))}function Va(e,n,r,t){return{addr:e,signingFunction:n,keyId:r,sequenceNum:t}}function qa(e,n,r){if(typeof n!=="undefined"||typeof r!=="undefined"){Te.deprecate({pkg:"FCL/SDK",subject:"Passing a start and end into getEvents",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder"})}return Du([su,function(t){t.events.eventType=e;t.events.start=n;t.events.end=r;return $t(t)}])}function Ja(e,n,r){return Du([su,function(t){t.events.eventType=e;t.events.start=n;t.events.end=r;return $t(t)}])}function Ya(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return Du([su,function(r){r.events.eventType=e;r.events.blockIds=n;return $t(r)}])}function Xa(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return Du([du,function(n){n.block.isSealed=e;return $t(n)}])}function $a(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return Du([vu,function(n){n.collection.id=e;return n}])}function Za(e){return Du([au,function(n){n.transaction.id=e;return $t(n)}])}function Qa(e){return Du([ou,function(n){n.transaction.id=e;return $t(n)}])}function eo(e){return function(n){n.message.computeLimit=e;return n}}function no(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return Du(e.map(ru))}function ro(e,n){return{value:e,xform:n}}function to(e){return uo.apply(this,arguments)}function uo(){uo=l(b.mark((function e(n){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:return r.abrupt("return",nu(n,{role:_t}));case 1:case"end":return r.stop()}}}),e)})));return uo.apply(this,arguments)}function io(e){return ao.apply(this,arguments)}function ao(){ao=l(b.mark((function e(n){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:return r.abrupt("return",nu(n,{role:Ut}));case 1:case"end":return r.stop()}}}),e)})));return ao.apply(this,arguments)}function oo(){return fu}function co(e){return Du([function(n){n.message.refBlock=e;return $t(n)}])}function so(){return Du([uu,Fu("ix.cadence",ht.apply(void 0,arguments))])}var fo=[];var lo=null;function vo(){return Du([iu,Fu("ix.cadence",ht.apply(void 0,arguments)),function(e){e.message.refBlock=e.message.refBlock||lo;e.authorizations=e.authorizations||fo;return $t(e)}])}function ho(e){return Fu("ix.voucher-intercept",e)}function po(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:5;ge(e.account,"mockAccountResponse(ix) -- ix.account is missing",e);ge(e.account.addr,"mockAccountResponse(ix) -- ix.account.addr is missing",e);var r=e.account.addr;return{account:{addr:r,keys:Array.from({length:n},(function(e,n){return{index:n,sequenceNumber:42}}))}}}function bo(e){return{tag:"GET_BLOCK",block:{id:"32"}}}var wo=function e(n){return n};function mo(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:wo;return function(){var n=l(b.mark((function n(r){return b.wrap((function n(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return r;case 2:r=t.sent;t.t0=true;t.next=t.t0===yu(r)?6:t.t0===Su(r)?7:8;break;case 6:return t.abrupt("return",po(r));case 7:return t.abrupt("return",bo());case 8:return t.abrupt("return",e(r));case 9:case"end":return t.stop()}}}),n)})));function r(e){return n.apply(this,arguments)}return r}()}var go=["tempId"];var yo=function e(n){return"".concat(en(n.addr),"-").concat(n.keyId)};function Eo(e){return["SIGNATURE",e.addr,e.keyId].join(".")}function ko(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return function(n){var r=A(A(A({},n),e),{},{signingFunction:e.signingFunction||n.signingFunction||t});return r;function t(e){return{addr:r.addr,keyId:r.keyId,signature:Eo(r)}}}}function So(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return function(n){var r=e.tempId,t=wt(e,go);return A(A({},n),{},{tempId:r||"WITH_RESOLVE",resolve:ko(t)})}}var Io={proposer:false,authorizer:false,payer:false};function Ao(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return function(n){var r=e.tempId||"AUTHZ_RESOLVE_MANY";return A(A({},n),{},{tempId:r,resolve:function n(){return[e.proposer&&ko(e.proposer)({role:A(A({},Io),{},{proposer:true})})].concat(Se(e.authorizations.map(ko).map((function(e){return e({role:A(A({},Io),{},{authorizer:true})})}))),[e.payer&&ko(e.payer)({role:A(A({},Io),{},{payer:true})})]).filter(Boolean)}})}}var To=function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return Bu([co("123")].concat(Se(n))).then(Oa)};var Oo=Object.freeze({__proto__:null,mockSend:mo,authzFn:ko,authzResolve:So,authzResolveMany:Ao,sig:Eo,idof:yo,run:To});var No=function e(n){return Te.deprecate({pkg:"FCL/SDK",message:"The params builder has been removed from the Flow JS-SDK/FCL.",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params",level:Ie.error})};var Ro=function e(n){return Te.deprecate({pkg:"FCL/SDK",message:"The param builder has been removed from the Flow JS-SDK/FCL.",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params",level:Ie.error})};var Co;var Po=typeof queueMicrotask==="function"?queueMicrotask:function(e){return(Co||(Co=Promise.resolve())).then(e)["catch"]((function(e){return setTimeout((function(){throw e}),0)}))};var xo=function e(){var n=[];var r;return{deliver:function e(t){return l(b.mark((function e(){return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:n.push(t);if(r){r(n.shift());r=undefined}case 2:case"end":return u.stop()}}}),e)})))()},receive:function e(){return new Promise((function e(t){var u=n.shift();if(u)return t(u);r=t}))}}};var jo="INIT";var Do="SUBSCRIBE";var Uo="UNSUBSCRIBE";var _o="UPDATED";var Fo="EXIT";var Lo="TERMINATE";var Go=(typeof self==="undefined"?"undefined":v(self))==="object"&&self.self===self&&self||(typeof global==="undefined"?"undefined":v(global))==="object"&&global.global===global&&global||(typeof window==="undefined"?"undefined":v(window))==="object"&&window.window===window&&window;Go.FCL_REGISTRY=Go.FCL_REGISTRY==null?{}:Go.FCL_REGISTRY;var Mo=0;var Bo=5e3;var Wo=function e(n,r,t){var u=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};return new Promise((function(e,i){var a=u.expectReply||false;var o=u.timeout!=null?u.timeout:Bo;if(a&&o){setTimeout((function(){return i(new Error("Timeout: ".concat(o,"ms passed without a response.")))}),o)}var c={to:n,from:u.from,tag:r,data:t,timeout:o,reply:e,reject:i};try{Go.FCL_REGISTRY[n]&&Go.FCL_REGISTRY[n].mailbox.deliver(c);if(!a)e(true)}catch(e){console.error("FCL.Actor -- Could Not Deliver Message",c,Go.FCL_REGISTRY[n],e)}}))};var zo=function e(n){delete Go.FCL_REGISTRY[n]};var Ko=function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return function(){var e=l(b.mark((function e(r){var t;return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:if(!(typeof n[jo]==="function")){u.next=3;break}u.next=3;return n[jo](r);case 3:u.next=6;return r.receive();case 6:t=u.sent;u.prev=7;if(!(t.tag===Fo)){u.next=13;break}if(!(typeof n[Lo]==="function")){u.next=12;break}u.next=12;return n[Lo](r,t,t.data||{});case 12:return u.abrupt("break",25);case 13:u.next=15;return n[t.tag](r,t,t.data||{});case 15:u.next=20;break;case 17:u.prev=17;u.t0=u["catch"](7);console.error("".concat(r.self()," Error"),t,u.t0);case 20:u.prev=20;return u.abrupt("continue",3);case 23:u.next=3;break;case 25:case"end":return u.stop()}}}),e,null,[[7,17,20,23]])})));return function(n){return e.apply(this,arguments)}}()};var Ho=function e(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(r==null)r=++Mo;if(Go.FCL_REGISTRY[r]!=null)return r;Go.FCL_REGISTRY[r]={addr:r,mailbox:xo(),subs:new Set,kvs:{},error:null};var t={self:function e(){return r},receive:function e(){return Go.FCL_REGISTRY[r].mailbox.receive()},send:function e(n,t,u){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};i.from=r;return Wo(n,t,u,i)},sendSelf:function e(n,t,u){if(Go.FCL_REGISTRY[r])Wo(r,n,t,u)},broadcast:function e(n,t){var u=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};u.from=r;var i=O(Go.FCL_REGISTRY[r].subs),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;Wo(o,n,t,u)}}catch(e){i.e(e)}finally{i.f()}},subscribe:function e(n){return n!=null&&Go.FCL_REGISTRY[r].subs.add(n)},unsubscribe:function e(n){return n!=null&&Go.FCL_REGISTRY[r].subs["delete"](n)},subscriberCount:function e(){return Go.FCL_REGISTRY[r].subs.size},hasSubs:function e(){return!!Go.FCL_REGISTRY[r].subs.size},put:function e(n,t){if(n!=null)Go.FCL_REGISTRY[r].kvs[n]=t},get:function e(n,t){var u=Go.FCL_REGISTRY[r].kvs[n];return u==null?t:u},delete:function e(n){delete Go.FCL_REGISTRY[r].kvs[n]},update:function e(n,t){if(n!=null)Go.FCL_REGISTRY[r].kvs[n]=t(Go.FCL_REGISTRY[r].kvs[n])},keys:function e(){return Object.keys(Go.FCL_REGISTRY[r].kvs)},all:function e(){return Go.FCL_REGISTRY[r].kvs},where:function e(n){return Object.keys(Go.FCL_REGISTRY[r].kvs).reduce((function(e,t){return n.test(t)?A(A({},e),{},S({},t,Go.FCL_REGISTRY[r].kvs[t])):e}),{})},merge:function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Object.keys(n).forEach((function(e){return Go.FCL_REGISTRY[r].kvs[e]=n[e]}))},fatalError:function e(n){Go.FCL_REGISTRY[r].error=n;var t=O(Go.FCL_REGISTRY[r].subs),u;try{for(t.s();!(u=t.n()).done;){var i=u.value;Wo(i,_o)}}catch(e){t.e(e)}finally{t.f()}}};if(v(n)==="object")n=Ko(n);Po(l(b.mark((function e(){return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:u.next=2;return n(t);case 2:zo(r);case 3:case"end":return u.stop()}}}),e)}))));return r};function Vo(e,n,r){n(e);var t="@EXIT";var u=Ho(function(){var n=l(b.mark((function n(u){var i,a;return b.wrap((function n(o){while(1){switch(o.prev=o.next){case 0:u.send(e,Do);case 1:o.next=4;return u.receive();case 4:i=o.sent;a=Go.FCL_REGISTRY[e].error;if(!(i.tag===t)){o.next=9;break}u.send(e,Uo);return o.abrupt("return");case 9:if(!a){o.next=13;break}r(null,a);u.send(e,Uo);return o.abrupt("return");case 13:r(i.data,null);o.next=1;break;case 16:case"end":return o.stop()}}}),n)})));return function(e){return n.apply(this,arguments)}}());return function(){return Wo(u,t)}}var qo;var Jo="config";var Yo="PUT_CONFIG";var Xo="GET_CONFIG";var $o="GET_ALL_CONFIG";var Zo="UPDATE_CONFIG";var Qo="DELETE_CONFIG";var ec="CLEAR_CONFIG";var nc="WHERE_CONFIG";var rc="CONFIG/UPDATED";var tc=function e(n){return n};var uc=(qo={},S(qo,Yo,(function(e,n,r){var t=r.key,u=r.value;if(t==null)throw new Error("Missing 'key' for config/put.");e.put(t,u);e.broadcast(rc,A({},e.all()))})),S(qo,Xo,(function(e,n,r){var t=r.key,u=r.fallback;if(t==null)throw new Error("Missing 'key' for config/get");n.reply(e.get(t,u))})),S(qo,$o,(function(e,n){n.reply(A({},e.all()))})),S(qo,Zo,(function(e,n,r){var t=r.key,u=r.fn;if(t==null)throw new Error("Missing 'key' for config/update");e.update(t,u||tc);e.broadcast(rc,A({},e.all()))})),S(qo,Qo,(function(e,n,r){var t=r.key;if(t==null)throw new Error("Missing 'key' for config/delete");e["delete"](t);e.broadcast(rc,A({},e.all()))})),S(qo,ec,(function(e,n){var r=Object.keys(e.all());for(var t=0,u=r;t<u.length;t++){var i=u[t];e["delete"](i)}e.broadcast(rc,A({},e.all()))})),S(qo,nc,(function(e,n,r){var t=r.pattern;if(t==null)throw new Error("Missing 'pattern' for config/where");n.reply(e.where(t))})),S(qo,Do,(function(e,n){e.subscribe(n.from);e.send(n.from,rc,A({},e.all()))})),S(qo,Uo,(function(e,n){e.unsubscribe(n.from)})),qo);Ho(uc,Jo);function ic(e,n){Wo(Jo,Yo,{key:e,value:n});return bc()}function ac(e,n){return Wo(Jo,Xo,{key:e,fallback:n},{expectReply:true,timeout:10})}function oc(){return cc.apply(this,arguments)}function cc(){cc=l(b.mark((function e(){var n,r,t,u,i,a,o=arguments;return b.wrap((function e(c){while(1){switch(c.prev=c.next){case 0:n=o.length>0&&o[0]!==undefined?o[0]:[];r=o.length>1?o[1]:undefined;if(n.length){c.next=4;break}return c.abrupt("return",r);case 4:t=g(n),u=t[0],i=t.slice(1);c.next=7;return ac(u);case 7:a=c.sent;if(!(a==null)){c.next=10;break}return c.abrupt("return",oc(i,r));case 10:return c.abrupt("return",a);case 11:case"end":return c.stop()}}}),e)})));return cc.apply(this,arguments)}function sc(){return Wo(Jo,$o,null,{expectReply:true,timeout:10})}function fc(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:tc;Wo(Jo,Zo,{key:e,fn:n});return bc()}function lc(e){Wo(Jo,Qo,{key:e});return bc()}function dc(e){return Wo(Jo,nc,{pattern:e},{expectReply:true,timeout:10})}function vc(e){return Vo(Jo,(function(){return Ho(uc,Jo)}),e)}function hc(){return Wo(Jo,ec)}function pc(e){return hc().then(bc(e))}function bc(e){if(e!=null&&v(e)==="object"){Object.keys(e).map((function(n){return ic(n,e[n])}))}return{put:ic,get:ac,all:sc,first:oc,update:fc,delete:lc,where:dc,subscribe:vc,overload:mc}}bc.put=ic;bc.get=ac;bc.all=sc;bc.first=oc;bc.update=fc;bc["delete"]=lc;bc.where=dc;bc.subscribe=vc;bc.overload=mc;var wc=function e(n){return n};function mc(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:wc;return new Promise(function(){var r=l(b.mark((function r(t,u){var i,a;return b.wrap((function r(o){while(1){switch(o.prev=o.next){case 0:o.next=2;return sc();case 2:i=o.sent;o.prev=3;bc(e);o.t0=n;o.next=8;return sc();case 8:o.t1=o.sent;o.next=11;return(0,o.t0)(o.t1);case 11:a=o.sent;o.next=14;return pc(i);case 14:t(a);o.next=22;break;case 17:o.prev=17;o.t2=o["catch"](3);o.next=21;return pc(i);case 21:u(o.t2);case 22:case"end":return o.stop()}}}),r,null,[[3,17]])})));return function(e,n){return r.apply(this,arguments)}}())}var gc=Object.freeze({debug:5,info:4,log:3,warn:2,error:1});var yc=function e(n){var r=n.title,t=n.message;return["\n    %c".concat(r,"\n    ============================\n\n    ").concat(t,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]};var Ec=function(){var e=l(b.mark((function e(n){var r,t,u,i,a;var o,c,s,f,l,d,v;return b.wrap((function e(h){while(1){switch(h.prev=h.next){case 0:o=n.title,c=n.message,s=n.level,f=n.always,l=f===void 0?false:f;h.next=3;return bc.get("logger.level",gc.warn);case 3:d=h.sent;if(!(!l&&d<s)){h.next=6;break}return h.abrupt("return");case 6:v=yc({title:o,message:c});h.t0=s;h.next=h.t0===gc.debug?10:h.t0===gc.info?12:h.t0===gc.warn?14:h.t0===gc.error?16:18;break;case 10:(r=console).debug.apply(r,Se(v));return h.abrupt("break",19);case 12:(t=console).info.apply(t,Se(v));return h.abrupt("break",19);case 14:(u=console).warn.apply(u,Se(v));return h.abrupt("break",19);case 16:(i=console).error.apply(i,Se(v));return h.abrupt("break",19);case 18:(a=console).log.apply(a,Se(v));case 19:case"end":return h.stop()}}}),e)})));return function n(r){return e.apply(this,arguments)}}();Ec.deprecate=function(e){var n=e.pkg,r=e.subject,t=e.transition,u=e.level,i=u===void 0?gc.warn:u,a=e.message,o=a===void 0?"":a,c=e.callback,s=c===void 0?null:c;var f=function e(n){return n.charAt(0).toUpperCase()+n.slice(1)};var d=function e(){return Ec({title:"".concat(n?n+" ":"","Deprecation Notice"),message:"\n      ".concat(r?"".concat(f(r)," is deprecated and will cease to work in future releases").concat(n?" of "+n:"","."):"").concat(o?"\n"+o:"").concat(t?"\nYou can learn more (including a guide on common transition paths) here: ".concat(t):"","\n    ").trim(),level:i})};if(typeof s==="function"){return l(b.mark((function e(){var n=arguments;return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:r.next=2;return d();case 2:r.next=4;return s.apply(void 0,n);case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}}),e)})))}return d()};var kc=function e(n,r,t){return{label:n,asArgument:r,asInjection:t}};var Sc=function e(n){return Array.isArray(n)};var Ic=function e(n){return v(n)==="object"};var Ac=function e(n){return n==null};var Tc=function e(n){return typeof n==="boolean"};var Oc=function e(n){return typeof n==="number"};var Nc=function e(n){return Number.isInteger(n)};var Rc=function e(n){return typeof n==="string"};var Cc=function e(n){throw new Error("Type Error: "+n)};var Pc=function e(n){Ec.deprecate({pkg:"@onflow/types",subject:"Passing in Number as value for ".concat(n),message:"Going forward, use String as value for ".concat(n,"."),transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0002-[U]Int*-and-Word*-as-Number"})};var xc=kc("Identity",(function(e){return e}),(function(e){return e}));var jc=kc("UInt",(function(e){if(Oc(e)&&Nc(e)){Pc("UInt");return{type:"UInt",value:e.toString()}}if(Rc(e)){return{type:"UInt",value:e}}Cc("Expected Positive Integer for type Unsigned Int")}),(function(e){return e}));var Dc=kc("Int",(function(e){if(Oc(e)&&Nc(e)){Pc("Int");return{type:"Int",value:e.toString()}}if(Rc(e)){return{type:"Int",value:e}}Cc("Expected Integer for type Int")}),(function(e){return e}));var Uc=kc("UInt8",(function(e){if(Oc(e)&&Nc(e)){Pc("UInt8");return{type:"UInt8",value:e.toString()}}if(Rc(e)){return{type:"UInt8",value:e}}Cc("Expected integer for UInt8")}),(function(e){return e}));var _c=kc("Int8",(function(e){if(Oc(e)&&Nc(e)){Pc("Int8");return{type:"Int8",value:e.toString()}}if(Rc(e)){return{type:"Int8",value:e}}Cc("Expected positive integer for Int8")}),(function(e){return e}));var Fc=kc("UInt16",(function(e){if(Oc(e)&&Nc(e)){Pc("UInt16");return{type:"UInt16",value:e.toString()}}if(Rc(e)){return{type:"UInt16",value:e}}Cc("Expected integer for UInt16")}),(function(e){return e}));var Lc=kc("Int16",(function(e){if(Oc(e)&&Nc(e)){Pc("Int16");return{type:"Int16",value:e.toString()}}if(Rc(e)){return{type:"Int16",value:e}}Cc("Expected positive integer for Int16")}),(function(e){return e}));var Gc=kc("UInt32",(function(e){if(Oc(e)&&Nc(e)){Pc("UInt32");return{type:"UInt32",value:e.toString()}}if(Rc(e)){return{type:"UInt32",value:e}}Cc("Expected integer for UInt32")}),(function(e){return e}));var Mc=kc("Int32",(function(e){if(Oc(e)&&Nc(e)){Pc("Int32");return{type:"Int32",value:e.toString()}}if(Rc(e)){return{type:"Int32",value:e}}Cc("Expected positive integer for Int32")}),(function(e){return e}));var Bc=kc("UInt64",(function(e){if(Oc(e)&&Nc(e)){Pc("UInt64");return{type:"UInt64",value:e.toString()}}if(Rc(e)){return{type:"UInt64",value:e}}Cc("Expected integer for UInt64")}),(function(e){return e}));var Wc=kc("Int64",(function(e){if(Oc(e)&&Nc(e)){Pc("Int64");return{type:"Int64",value:e.toString()}}if(Rc(e)){return{type:"Int64",value:e}}Cc("Expected positive integer for Int64")}),(function(e){return e}));var zc=kc("UInt128",(function(e){if(Oc(e)&&Nc(e)){Pc("UInt128");return{type:"UInt128",value:e.toString()}}if(Rc(e)){return{type:"UInt128",value:e}}Cc("Expected integer for UInt128")}),(function(e){return e}));var Kc=kc("Int128",(function(e){if(Oc(e)&&Nc(e)){Pc("Int128");return{type:"Int128",value:e.toString()}}if(Rc(e)){return{type:"Int128",value:e}}Cc("Expected positive integer for Int128")}),(function(e){return e}));var Hc=kc("UInt256",(function(e){if(Oc(e)&&Nc(e)){Pc("UInt256");return{type:"UInt256",value:e.toString()}}if(Rc(e)){return{type:"UInt256",value:e}}Cc("Expected integer for UInt256")}),(function(e){return e}));var Vc=kc("Int256",(function(e){if(Oc(e)&&Nc(e)){Pc("Int256");return{type:"Int256",value:e.toString()}}if(Rc(e)){return{type:"Int256",value:e}}Cc("Expected integer for Int256")}),(function(e){return e}));var qc=kc("Word8",(function(e){if(Oc(e)&&Nc(e)){Pc("Word8");return{type:"Word8",value:e.toString()}}if(Rc(e)){return{type:"Word8",value:e}}Cc("Expected positive number for Word8")}),(function(e){return e}));var Jc=kc("Word16",(function(e){if(Oc(e)&&Nc(e)){Pc("Word16");return{type:"Word16",value:e.toString()}}if(Rc(e)){return{type:"Word16",value:e}}Cc("Expected positive number for Word16")}),(function(e){return e}));var Yc=kc("Word32",(function(e){if(Oc(e)&&Nc(e)){Pc("Word32");return{type:"Word32",value:e.toString()}}if(Rc(e)){return{type:"Word32",value:e}}Cc("Expected positive number for Word32")}),(function(e){return e}));var Xc=kc("Word64",(function(e){if(Oc(e)&&Nc(e)){Pc("Word64");return{type:"Word64",value:e.toString()}}if(Rc(e)){return{type:"Word64",value:e}}Cc("Expected positive number for Word64")}),(function(e){return e}));var $c=function e(){Ec.deprecate({subject:"Passing in Numbers as values for Fix64 and UFix64 types",pkg:"@onflow/types",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0001-[U]Fix64-as-Number"})};var Zc=kc("UFix64",(function(e){if(Rc(e)){var n=e.split(".");if(n.length!==2){Cc("Expected one decimal but found ".concat(n.length," in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers"))}if(n[1].length==0||n[1].length>8){Cc("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ".concat(n[1].length," digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers"))}n[1]=n[1].padEnd(8,"0");e=n.join(".");return{type:"UFix64",value:e}}else if(Oc(e)){$c();return{type:"UFix64",value:e.toString()}}Cc("Expected String for UFix64")}),(function(e){return e}));var Qc=kc("Fix64",(function(e){if(Rc(e)){var n=e.split(".");if(n.length!==2){Cc("Expected one decimal but found ".concat(n.length," in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers"))}if(n[1].length==0||n[1].length>8){Cc("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ".concat(n[1].length," digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers"))}n[1]=n[1].padEnd(8,"0");e=n.join(".");return{type:"Fix64",value:e}}else if(Oc(e)){$c();return{type:"Fix64",value:e.toString()}}Cc("Expected String for Fix64")}),(function(e){return e}));var es=kc("String",(function(e){if(Rc(e))return{type:"String",value:e};Cc("Expected String for type String")}),(function(e){return e}));var ns=kc("Character",(function(e){if(Rc(e))return{type:"Character",value:e};Cc("Expected Character for type Character")}),(function(e){return e}));var rs=kc("Bool",(function(e){if(Tc(e))return{type:"Bool",value:e};Cc("Expected Boolean for type Bool")}),(function(e){return e}));var ts=kc("Address",(function(e){if(Rc(e))return{type:"Address",value:e};Cc("Expected Address for type Address")}),(function(e){return e}));var us=kc("Void",(function(e){if(!e||Ac(e))return{type:"Void"};Cc("Expected Void for type Void")}),(function(e){return e}));var is=function e(n){return kc("Optional",(function(e){return{type:"Optional",value:Ac(e)?null:n.asArgument(e)}}),(function(e){return e}))};var as=kc("Reference",(function(e){if(Ic(e))return{type:"Reference",value:e};Cc("Expected Object for type Reference")}),(function(e){return e}));var os=function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return kc("Array",(function(e){return{type:"Array",value:Sc(n)?n.map((function(n,r){return n.asArgument(e[r])})):e.map((function(e){return n.asArgument(e)}))}}),(function(e){return e}))};var cs=function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return kc("Dictionary",(function(e){if(Ic(e))return{type:"Dictionary",value:Sc(n)?n.map((function(n,r){return{key:n.key.asArgument(e[r].key),value:n.value.asArgument(e[r].value)}})):Sc(e)?e.map((function(e){return{key:n.key.asArgument(e.key),value:n.value.asArgument(e.value)}})):[{key:n.key.asArgument(e.key),value:n.value.asArgument(e.value)}]};Cc("Expected Object for type Dictionary")}),(function(e){return e}))};var ss=function e(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return kc("Event",(function(e){if(Ic(e))return{type:"Event",value:{id:n,fields:Sc(r)?r.map((function(n,r){return{name:e.fields[r].name,value:n.value.asArgument(e.fields[r].value)}})):e.fields.map((function(e){return{name:e.name,value:r.value.asArgument(e.value)}}))}};Cc("Expected Object for type Event")}),(function(e){return e}))};var fs=function e(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return kc("Resource",(function(e){if(Ic(e))return{type:"Resource",value:{id:n,fields:Sc(r)?r.map((function(n,r){return{name:e.fields[r].name,value:n.value.asArgument(e.fields[r].value)}})):e.fields.map((function(e){return{name:e.name,value:r.value.asArgument(e.value)}}))}};Cc("Expected Object for type Resource")}),(function(e){return e}))};var ls=function e(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return kc("Struct",(function(e){if(Ic(e))return{type:"Struct",value:{id:n,fields:Sc(r)?r.map((function(n,r){return{name:e.fields[r].name,value:n.value.asArgument(e.fields[r].value)}})):e.fields.map((function(e){return{name:e.name,value:r.value.asArgument(e.value)}}))}};Cc("Expected Object for type Struct")}),(function(e){return e}))};var ds=function e(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return kc("Enum",(function(e){if(Ic(e))return{type:"Enum",value:{id:n,fields:Sc(r)?r.map((function(n,r){return{name:e.fields[r].name,value:n.value.asArgument(e.fields[r].value)}})):e.fields.map((function(e){return{name:e.name,value:r.value.asArgument(e.value)}}))}};Cc("Expected Object for type Enum")}),(function(e){return e}))};var vs=kc("Path",(function(e){if(Ic(e)){if(!Rc(e.domain)){Cc("Expected a string for the Path domain but found ".concat(e.domain,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path"))}if(!(e.domain==="storage"||e.domain==="private"||e.domain==="public")){Cc('Expected either "storage", "private" or "public" as the Path domain but found '.concat(e.domain,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path"))}if(!Rc(e.identifier)){Cc("Expected a string for the Path identifier but found ".concat(e.identifier,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path"))}return{type:"Path",value:{domain:e.domain,identifier:e.identifier}}}Cc("Expected Object for type Path")}),(function(e){return e}));const hs=Object.freeze({__proto__:null,Address:ts,Array:os,Bool:rs,Character:ns,Dictionary:cs,Enum:ds,Event:ss,Fix64:Qc,Identity:xc,Int:Dc,Int128:Kc,Int16:Lc,Int256:Vc,Int32:Mc,Int64:Wc,Int8:_c,Optional:is,Path:vs,Reference:as,Resource:fs,String:es,Struct:ls,UFix64:Zc,UInt:jc,UInt128:zc,UInt16:Fc,UInt256:Hc,UInt32:Gc,UInt64:Bc,UInt8:Uc,Void:us,Word16:Jc,Word32:Yc,Word64:Xc,Word8:qc,_Array:os});var ps="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var bs=ps.length;function ws(){var e="",n=32;while(n--){e+=ps[Math.random()*bs|0]}return e}var ms=function e(){return typeof window==="undefined"};var gs={can:!ms(),get:function(){var e=l(b.mark((function e(n){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:return r.abrupt("return",JSON.parse(sessionStorage.getItem(n)));case 1:case"end":return r.stop()}}}),e)})));function n(n){return e.apply(this,arguments)}return n}(),put:function(){var e=l(b.mark((function e(n,r){return b.wrap((function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return",sessionStorage.setItem(n,JSON.stringify(r)));case 1:case"end":return t.stop()}}}),e)})));function n(n,r){return e.apply(this,arguments)}return n}()};be({"discovery.wallet.method.default":"IFRAME/RPC","fcl.storage.default":gs});function ys(e){return Es.apply(this,arguments)}function Es(){Es=l(b.mark((function e(n){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:r.t0=Object;r.t1=Object;r.next=4;return be().where(n);case 4:r.t2=r.sent;r.t3=r.t1.entries.call(r.t1,r.t2).map((function(e){var r=s(e,2),t=r[0],u=r[1];return[t.replace(n,""),u]}));return r.abrupt("return",r.t0.fromEntries.call(r.t0,r.t3));case 7:case"end":return r.stop()}}}),e)})));return Es.apply(this,arguments)}var ks="1.3.2";var Ss=function e(n){return function(e){return v(e)===n}};var Is=function e(n){return n!=null};var As=Ss("object");var Ts=Ss("string");var Os=Ss("function");var Ns=Ss("number");function Rs(e){if(Os(e))return e(ro,hs);return[]}function Cs(e){return Ps.apply(this,arguments)}function Ps(){Ps=l(b.mark((function e(n){var r,t,u;return b.wrap((function e(i){while(1){switch(i.prev=i.next){case 0:r=n.url;ge(typeof r!=="undefined","retrieve({ url }) -- url must be defined");i.prev=2;i.next=5;return Ze(r);case 5:t=i.sent;i.next=11;break;case 8:i.prev=8;i.t0=i["catch"](2);throw new Error("httpDocumentResolver Error: Failed to retrieve document.");case 11:if(!t.ok){i.next=17;break}i.next=14;return t.json();case 14:i.t1=i.sent;i.next=18;break;case 17:i.t1=null;case 18:u=i.t1;return i.abrupt("return",u);case 20:case"end":return i.stop()}}}),e,null,[[2,8]])})));return Ps.apply(this,arguments)}var xs=new Map([["http",Cs],["https",Cs]]);function js(e){return Ds.apply(this,arguments)}function Ds(){Ds=l(b.mark((function e(n){var r,t,u,i,a,o;return b.wrap((function e(c){while(1){switch(c.prev=c.next){case 0:r=n.url;ge(typeof r!=="undefined","retrieve({ url }) -- url must be defined");ge(typeof r==="string","retrieve({ url }) -- url must be a string");c.next=5;return be().where(/^document\.resolver\./);case 5:t=c.sent;Object.keys(t).map((function(e){var n=t[e];var r=e.replace(/^document\.resolver\./,"");xs.set(r,n)}));u=/^(.*):\/\/([A-Za-z0-9\-\.]+)(:[0-9]+)?(.*)$/.exec(r);ge(u,"Failed to parse URL");i=u[1];ge(u,"Failed to parse URL protocol");a=xs.get(i);ge(a,"No resolver found for protcol=".concat(i));c.next=15;return a({url:r});case 15:o=c.sent;return c.abrupt("return",o);case 17:case"end":return c.stop()}}}),e)})));return Ds.apply(this,arguments)}function Us(e){if(e==null)return null;switch(e["f_version"]){case"1.0.0":return e;default:throw new Error("normalizeInteractionTemplate Error: Invalid InteractionTemplate")}}function _s(e){var n,r;var t=e.network,u=e.template;xa(t!=undefined,"deriveCadenceByNetwork({ network }) -- network must be defined");xa(typeof t==="string","deriveCadenceByNetwork({ network }) -- network must be a string");xa(u!=undefined,"generateDependencyPin({ template }) -- template must be defined");xa(v(u)==="object","generateDependencyPin({ template }) -- template must be an object");xa(u.f_type==="InteractionTemplate","generateDependencyPin({ template }) -- template must be an InteractionTemplate");u=Us(u);switch(u.f_version){case"1.0.0":var i=Object.keys((n=u)===null||n===void 0?void 0:(r=n.data)===null||r===void 0?void 0:r.dependencies).map((function(e){var n,r,i;var a=Object.values((n=u)===null||n===void 0?void 0:(r=n.data)===null||r===void 0?void 0:(i=r.dependencies)===null||i===void 0?void 0:i[e]);xa(a,"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: ".concat(e));xa(a.length===0,"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: ".concat(e));var o=a[0];var c=o===null||o===void 0?void 0:o[t];xa(c,"deriveCadenceByNetwork -- Could not find ".concat(t," network information for dependency: ").concat(e));return[e,c.address]}));return i.reduce((function(e,n){var r=s(n,2),t=r[0],u=r[1];var i=new RegExp("(\\b"+t+"\\b)","g");return e.replace(i,u)}),u.data.cadence);default:throw new Error("deriveCadenceByNetwork Error: Unsupported template version")}}function Fs(e){return Ls.apply(this,arguments)}function Ls(){Ls=l(b.mark((function e(n){var r;var t,u,i,a,o,c,s,f,l,d,v,h;return b.wrap((function e(p){while(1){switch(p.prev=p.next){case 0:t=n.template;p.next=3;return be.get("flow.network");case 3:u=p.sent;ge(u,"FCL configureDependencies Error: Missing configuration value for 'flow.network'");i={};p.t0=t["f_version"];p.next=p.t0==="1.0.0"?9:12;break;case 9:a=Object.keys(t===null||t===void 0?void 0:(r=t.data)===null||r===void 0?void 0:r.dependencies);for(o=0,c=a;o<c.length;o++){f=c[o];l=t===null||t===void 0?void 0:(s=t.data)===null||s===void 0?void 0:s.dependencies[f];d=Object.keys(l);ge(d.length>0,"FCL configureDependencies Error: No contracts found in template for placeholder=".concat(f));v=l[d[0]];h=v[u];ge(h,"FCL configureDependencies Error: No dependency information for placeholder=".concat(f," contract=").concat(d[0]," network=").concat(u));ge(h===null||h===void 0?void 0:h.address,"FCL configureDependencies Error: No address information for placeholder=".concat(f," contract=").concat(d[0]," network=").concat(u));i[f]=en(h===null||h===void 0?void 0:h.address)}return p.abrupt("return",i);case 12:throw new Error("FCL configureDependencies Error: Unsupported template version");case 13:case"end":return p.stop()}}}),e)})));return Ls.apply(this,arguments)}function Gs(e){return Ms.apply(this,arguments)}function Ms(){Ms=l(b.mark((function e(n){var r,t;return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:if(!Ts(n===null||n===void 0?void 0:n.template)){u.next=4;break}u.next=3;return js({url:n===null||n===void 0?void 0:n.template});case 3:n.template=u.sent;case 4:r={};if(!(n!==null&&n!==void 0&&n.template)){u.next=10;break}n.template=Us(n===null||n===void 0?void 0:n.template);u.next=9;return Fs({template:n.template});case 9:r=u.sent;case 10:u.t0=n.cadence;if(u.t0){u.next=19;break}u.t1=_s;u.t2=n.template;u.next=16;return be().get("flow.network");case 16:u.t3=u.sent;u.t4={template:u.t2,network:u.t3};u.t0=(0,u.t1)(u.t4);case 19:t=u.t0;n.cadence=t;n.dependencies=r;return u.abrupt("return",n);case 23:case"end":return u.stop()}}}),e)})));return Ms.apply(this,arguments)}function Bs(e,n){return Ws.apply(this,arguments)}function Ws(){Ws=l(b.mark((function e(n,r){return b.wrap((function e(t){while(1){switch(t.prev=t.next){case 0:ge(Is(r),"".concat(n,"(opts) -- opts is required"));ge(As(r),"".concat(n,"(opts) -- opts must be an object"));ge(!(r.cadence&&r.template),"".concat(n,"({ template, cadence }) -- cannot pass both cadence and template"));ge(Is(r.cadence||(r===null||r===void 0?void 0:r.template)),"".concat(n,"({ cadence }) -- cadence is required"));ge(Ts(r.cadence)||(r===null||r===void 0?void 0:r.template),"".concat(n,"({ cadence }) -- cadence must be a string"));t.t0=ge;t.t1=r.cadence;if(t.t1){t.next=11;break}t.next=10;return be().get("flow.network");case 10:t.t1=t.sent;case 11:t.t2=t.t1;t.t3="".concat(n,'(opts) -- Required value for "flow.network" not defined in config. See: ',"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration");(0,t.t0)(t.t2,t.t3);t.t4=ge;t.next=17;return be().get("accessNode.api");case 17:t.t5=t.sent;t.t6="".concat(n,'(opts) -- Required value for "accessNode.api" not defined in config. See: ',"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration");(0,t.t4)(t.t5,t.t6);case 20:case"end":return t.stop()}}}),e)})));return Ws.apply(this,arguments)}function zs(e){return Ks.apply(this,arguments)}function Ks(){Ks=l(b.mark((function e(n){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:return r.abrupt("return",Bs("mutate",n));case 1:case"end":return r.stop()}}}),e)})));return Ks.apply(this,arguments)}function Hs(e){return Vs.apply(this,arguments)}function Vs(){Vs=l(b.mark((function e(n){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:return r.abrupt("return",Bs("query",n));case 1:case"end":return r.stop()}}}),e)})));return Vs.apply(this,arguments)}function qs(){return Js.apply(this,arguments)}function Js(){Js=l(b.mark((function e(){var n,r=arguments;return b.wrap((function e(t){while(1){switch(t.prev=t.next){case 0:n=r.length>0&&r[0]!==undefined?r[0]:{};t.next=3;return Hs(n);case 3:t.next=5;return Gs(n);case 5:n=t.sent;return t.abrupt("return",be().overload(n.dependencies||{},l(b.mark((function e(){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:return r.abrupt("return",ja([so(n.cadence),no(Rs(n.args||[])),n.limit&&typeof n.limit==="number"&&eo(n.limit)]).then(Da));case 1:case"end":return r.stop()}}}),e)})))));case 7:case"end":return t.stop()}}}),e)})));return Js.apply(this,arguments)}function Ys(e,n){return Xs.apply(this,arguments)}function Xs(){Xs=l(b.mark((function e(n,r){var t,u,i,a,o,c;return b.wrap((function e(s){while(1){switch(s.prev=s.next){case 0:if(!(n==null||r==null)){s.next=2;break}return s.abrupt("return",[]);case 2:t=new URL(n);t.searchParams.append("code",r);s.next=6;return fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 6:u=s.sent;if(!Array.isArray(u)){s.next=9;break}return s.abrupt("return",u);case 9:i=[];if(Array.isArray(u.authorizations)){a=O(u.authorizations);try{for(a.s();!(o=a.n()).done;){c=o.value;i.push(A({type:"authz",keyId:u.keyId},c))}}catch(e){a.e(e)}finally{a.f()}}if(u.provider!=null){i.push(A({type:"authn",id:"wallet-provider#authn"},u.provider))}return s.abrupt("return",i);case 13:case"end":return s.stop()}}}),e)})));return Xs.apply(this,arguments)}function $s(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return[].concat(Se(e),Se(n))}var Zs={f_type:"Service",f_vsn:"1.0.0"};var Qs={f_type:"Identity",f_vsn:"1.0.0"};var ef={f_type:"USER",f_vsn:"1.0.0"};var nf={f_type:"PollingResponse",f_vsn:"1.0.0"};var rf={f_type:"CompositeSignature",f_vsn:"1.0.0"};function tf(e){if(e==null)return null;switch(e["f_vsn"]){case"1.0.0":return e;default:return A(A({},Zs),{},{type:e.type,uid:e.id,endpoint:e.authn,id:e.pid,provider:{address:en(e.addr),name:e.name,icon:e.icon}})}}function uf(e){if(e==null)return null;switch(e["f_vsn"]){case"1.0.0":return e;default:return A(A({},Zs),{},{type:e.type,uid:e.id,endpoint:e.endpoint,method:e.method,identity:A(A({},Qs),{},{address:en(e.addr),keyId:e.keyId}),params:e.params,data:e.data})}}function af(e){if(e==null)return null;switch(e["f_vsn"]){case"1.0.0":return e;default:return A(A({},Zs),{},{type:e.type,uid:e.id,endpoint:e.endpoint,method:e.method,identity:A(A({},Qs),{},{address:en(e.addr),keyId:e.keyId}),params:e.params,data:e.data})}}function of(e){if(e==null)return null;switch(e["f_vsn"]){case"1.0.0":return e;default:return A(A({old:e},Zs),{},{type:"frame",endpoint:e.endpoint,params:e.params||{},data:e.data||{}})}}function cf(e){if(e==null)return null;switch(e["f_vsn"]){case"1.0.0":return e;default:return A(A({},Zs),{},{type:"back-channel-rpc",endpoint:e.endpoint,method:e.method,params:e.params||{},data:e.data||{}})}}function sf(e){if(e==null)return null;switch(e["f_vsn"]){case"1.0.0":return e;default:return null}}function ff(e){if(e==null)return null;switch(e["f_vsn"]){case"1.0.0":return e;default:throw new Error("Invalid user-signature service")}}function lf(e){if(e==null)return null;if(e.method==null){e=A(A({},e),{},{type:"local-view",method:"VIEW/IFRAME"})}switch(e["f_vsn"]){case"1.0.0":return e;default:return A(A({},Zs),{},{type:e.type||"local-view",method:e.method,endpoint:e.endpoint,data:e.data||{},params:e.params||{}})}}function df(e){if(e==null)return null;switch(e["f_vsn"]){case"1.0.0":return e;default:throw new Error("FCL Normalizer Error: Invalid account-proof service")}}function vf(e){if(e==null)return null;switch(e["f_vsn"]){case"1.0.0":return e;default:throw new Error("Invalid authn-refresh service")}}var hf={"back-channel-rpc":cf,"pre-authz":af,authz:uf,authn:tf,frame:of,"open-id":sf,"user-signature":ff,"local-view":lf,"account-proof":df,"authn-refresh":vf};function pf(e,n){try{var r=hf[e.type](e,n);return r}catch(n){console.error("Unrecognized FCL Service Type [".concat(e.type,"]"),e,n);return e}}function bf(e){return Oe([e.provider.address||e.provider.name||"UNSPECIFIED",e.id]).toString("hex")}function wf(e){e.addr=e.addr?en(e.addr):null;e.paddr=e.paddr?en(e.paddr):null;return e}function mf(e,n){return n.find((function(n){return n.type===e}))}function gf(e){return yf.apply(this,arguments)}function yf(){yf=l(b.mark((function e(n){var r,t;return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:n=wf(n);u.t0=$s;u.t1=n.services||[];u.next=5;return Ys(n.hks,n.code);case 5:u.t2=u.sent;r=(0,u.t0)(u.t1,u.t2).map((function(e){return pf(e,n)}));t=mf("authn",r);return u.abrupt("return",A(A({},ef),{},{addr:en(n.addr),cid:bf(t),loggedIn:true,services:r,expiresAt:n.expires}));case 9:case"end":return u.stop()}}}),e)})));return yf.apply(this,arguments)}function Ef(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var n=arguments.length>1?arguments[1]:undefined;return e.find((function(e){return e.type===n}))}function kf(e){var n=new URL(e.endpoint);n.searchParams.append("l6n",window.location.origin);if(e.params!=null){for(var r=0,t=Object.entries(e.params||{});r<t.length;r++){var u=s(t[r],2),i=u[0],a=u[1];n.searchParams.append(i,a)}}return n}function Sf(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=n.method||"POST";var t=r==="GET"?undefined:JSON.stringify(n.data||e.data||{});return fetch(kf(e),{method:r,headers:A(A(A({},e.headers||{}),n.headers||{}),{},{"Content-Type":"application/json"}),body:t}).then((function(e){return e.json()}))}function If(e){var n,r;if(e==null)return null;switch(e["f_vsn"]){case"1.0.0":return e;default:return A(A({},nf),{},{status:(n=e.status)!==null&&n!==void 0?n:"APPROVED",reason:(r=e.reason)!==null&&r!==void 0?r:null,data:e.compositeSignature||e.data||A({},e)||{},updates:cf(e.authorizationUpdates),local:of((e.local||[])[0])})}}var Af={"HTTP/GET":"GET","HTTP/POST":"POST"};var Tf=function e(n){ge(Af[n.method],"Invalid Service Method for type back-channel-rpc",{service:n});return Af[n.method]};function Of(e){return Nf.apply(this,arguments)}function Nf(){Nf=l(b.mark((function e(n){var r,t,u=arguments;return b.wrap((function e(i){while(1){switch(i.prev=i.next){case 0:r=u.length>1&&u[1]!==undefined?u[1]:function(){return true};ge(n,"Missing Polling Service",{service:n});if(r()){i.next=4;break}throw new Error("Externally Halted");case 4:i.next=6;return Sf(n,{method:Tf(n)}).then(If);case 6:t=i.sent;i.t0=t.status;i.next=i.t0==="APPROVED"?10:i.t0==="DECLINED"?11:12;break;case 10:return i.abrupt("return",t.data);case 11:throw new Error("Declined: ".concat(t.reason||"No reason supplied."));case 12:i.next=14;return new Promise((function(e){return setTimeout(e,500)}));case 14:return i.abrupt("return",Of(t.updates,r));case 15:case"end":return i.stop()}}}),e)})));return Nf.apply(this,arguments)}var Rf="FCL_IFRAME";var Cf="\n  position:fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  height: 100%;\n  width: 100vw;\n  display:block;\n  background:rgba(0,0,0,0.25);\n  z-index: 2147483647;\n  box-sizing: border-box;\n  color-scheme: light;\n";function Pf(e){ge(!document.getElementById(Rf),"Attempt at triggering multiple Frames",{src:e});var n=document.createElement("iframe");n.src=e;n.id=Rf;n.allow="usb *; hid *";n.frameBorder="0";n.style.cssText=Cf;document.body.append(n);var r=function e(){if(document.getElementById(Rf)){document.getElementById(Rf).remove()}};return[n.contentWindow,r]}var xf="FCL_POP";var jf=null;var Df=null;function Uf(e,n,r,t,u){var i=r.top.outerHeight/2+r.top.screenY-u/2;var a=r.top.outerWidth/2+r.top.screenX-t/2;var o=r.open(e,n,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=".concat(t,", height=").concat(u,", top=").concat(i,", left=").concat(a));if(!o)throw new Error("Popup failed to open (was it blocked by a popup blocker?)");return o}function _f(e){var n;if(jf==null||(n=jf)!==null&&n!==void 0&&n.closed){jf=Uf(e,xf,window,640,770)}else if(Df!==e){jf.location.replace(e);jf.focus()}else{jf.focus()}Df=e;var r=function e(){if(jf&&!jf.closed){jf.close()}jf=null};return[jf,r]}var Ff=null;var Lf=null;function Gf(e){var n;if(Ff==null||(n=Ff)!==null&&n!==void 0&&n.closed){Ff=window.open(e,"_blank");if(!Ff)throw new Error("Tab failed to open (was it blocked by the browser?)")}else if(Lf!==e){Ff.location.replace(e);Ff.focus()}else{Ff.focus()}Lf=e;var r=function e(){if(Ff&&!Ff.closed){Ff.close()}Ff=null};return[Ff,r]}var Mf={"VIEW/IFRAME":Pf,"VIEW/POP":_f,"VIEW/TAB":Gf};function Bf(e){return Wf.apply(this,arguments)}function Wf(){Wf=l(b.mark((function e(n){var r,t=arguments;return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:r=t.length>1&&t[1]!==undefined?t[1]:{};u.prev=1;return u.abrupt("return",Mf[n.method](kf(n),r));case 5:u.prev=5;u.t0=u["catch"](1);console.error("execLocal({service, opts = {}})",u.t0,{service:n,opts:r});throw u.t0;case 9:case"end":return u.stop()}}}),e,null,[[1,5]])})));return Wf.apply(this,arguments)}function zf(e){return Kf.apply(this,arguments)}function Kf(){Kf=l(b.mark((function e(n){var r,t,u,i,a,o,c,f,l;return b.wrap((function e(d){while(1){switch(d.prev=d.next){case 0:r=n.service,t=n.body,u=n.config,n.opts;d.next=3;return Sf(r,{data:A({fclVersion:ks,service:{params:r.params,data:r.data,type:r.type},config:u},t)}).then(If);case 3:i=d.sent;if(!(i.status==="APPROVED")){d.next=8;break}return d.abrupt("return",i.data);case 8:if(!(i.status==="DECLINED")){d.next=12;break}throw new Error("Declined: ".concat(i.reason||"No reason supplied."));case 12:if(!(i.status==="REDIRECT")){d.next=16;break}return d.abrupt("return",i);case 16:if(!(i.status==="PENDING")){d.next=28;break}a=true;d.next=20;return Bf(lf(i.local));case 20:o=d.sent;c=s(o,2);f=c[1];l=function e(){try{f();a=false}catch(e){console.error("Frame Close Error",e)}};return d.abrupt("return",Of(i.updates,(function(){return a})).then((function(e){l();return e}))["catch"]((function(e){console.error(e);l();throw e})));case 28:console.error("Auto Decline: Invalid Response",{service:r,resp:i});throw new Error("Auto Decline: Invalid Response");case 30:case"end":return d.stop()}}}),e)})));return Kf.apply(this,arguments)}var Hf="FCL:VIEW:CLOSE";var Vf="FCL:VIEW:READY";var qf="FCL:VIEW:RESPONSE";var Jf=function e(n){return typeof n==="string"&&n.toLowerCase()};var Yf=new Set(["monetizationstart","monetizationpending","monetizationprogress","monetizationstop"]);var Xf=function e(n,r){return console.warn("DEPRECATION NOTICE","Received ".concat(n,", please use ").concat(r," for this and future versions of FCL"))};var $f=function e(n){var r=n.close,t=n.send,u=n.onReady,i=n.onResponse,a=n.onMessage;return function(e){try{if(v(e.data)!=="object")return;if(Yf.has(e.data.type))return;if(Jf(e.data.type)===Jf(Hf))r();if(Jf(e.data.type)===Jf(Vf))u(e,{send:t,close:r});if(Jf(e.data.type)===Jf(qf))i(e,{send:t,close:r});a(e,{send:t,close:r});if(Jf(e.data.type)===Jf("FCL:FRAME:READY")){Xf(e.data.type,Vf);u(e,{send:t,close:r})}if(Jf(e.data.type)===Jf("FCL:FRAME:RESPONSE")){Xf(e.data.type,qf);i(e,{send:t,close:r})}if(Jf(e.data.type)===Jf("FCL:FRAME:CLOSE")){Xf(e.data.type,Hf);r()}if(Jf(e.data.type)===Jf("FCL::CHALLENGE::RESPONSE")){Xf(e.data.type,qf);i(e,{send:t,close:r})}if(Jf(e.data.type)===Jf("FCL::AUTHZ_READY")){Xf(e.data.type,Vf);u(e,{send:t,close:r})}if(Jf(e.data.type)===Jf("FCL::CHALLENGE::CANCEL")){Xf(e.data.type,Hf);r()}if(Jf(e.data.type)===Jf("FCL::CANCEL")){Xf(e.data.type,Hf);r()}}catch(e){console.error("Frame Callback Error",e);r()}}};var Zf=function e(){};function Qf(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(e==null)return{send:Zf,close:Zf};var r=n.onClose||Zf;var t=n.onMessage||Zf;var u=n.onReady||Zf;var i=n.onResponse||Zf;var a=$f({close:d,send:v,onReady:u,onResponse:i,onMessage:t});window.addEventListener("message",a);var o=Pf(kf(e)),c=s(o,2),f=c[0],l=c[1];return{send:v,close:d};function d(){try{window.removeEventListener("message",a);l();r()}catch(e){console.error("Frame Close Error",e)}}function v(e){try{f.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(n){console.error("Frame Send Error",e,n)}}}function el(e){var n=e.service,r=e.body,t=e.config,u=e.opts;return new Promise((function(e,i){var a=ws();var o=u.includeOlderJsonRpcCall;Qf(n,{onReady:function e(u,i){return l(b.mark((function e(){var u;return b.wrap((function e(c){while(1){switch(c.prev=c.next){case 0:u=i.send;c.prev=1;u({type:"FCL:VIEW:READY:RESPONSE",fclVersion:ks,body:r,service:{params:n.params,data:n.data,type:n.type},config:t});u({fclVersion:ks,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:n.params,data:n.data,type:n.type},config:t,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}});if(o){u({jsonrpc:"2.0",id:a,method:"fcl:sign",params:[r,n.params],deprecated:{message:"jsonrpc is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}})}c.next=10;break;case 7:c.prev=7;c.t0=c["catch"](1);throw c.t0;case 10:case"end":return c.stop()}}}),e,null,[[1,7]])})))()},onResponse:function n(r,t){var u=t.close;try{if(v(r.data)!=="object")return;var a=If(r.data);switch(a.status){case"APPROVED":e(a.data);u();break;case"DECLINED":i("Declined: ".concat(a.reason||"No reason supplied"));u();break;case"REDIRECT":e(a);u();break;default:i("Declined: No reason supplied");u();break}}catch(e){console.error("execIframeRPC onResponse error",e);throw e}},onMessage:function n(r,t){var u=t.close;try{if(v(r.data)!=="object")return;if(r.data.jsonrpc!=="2.0")return;if(r.data.id!==a)return;var o=If(r.data.result);switch(o.status){case"APPROVED":e(o.data);u();break;case"DECLINED":i("Declined: ".concat(o.reason||"No reason supplied"));u();break;case"REDIRECT":e(o);u();break;default:i("Declined: No reason supplied");u();break}}catch(e){console.error("execIframeRPC onMessage error",e);throw e}},onClose:function e(){i("Declined: Externally Halted")}})}))}var nl=function e(){};function rl(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(e==null)return{send:nl,close:nl};var r=n.onClose||nl;var t=n.onMessage||nl;var u=n.onReady||nl;var i=n.onResponse||nl;var a=$f({close:v,send:h,onReady:u,onResponse:i,onMessage:t});window.addEventListener("message",a);var o=_f(kf(e)),c=s(o,2),f=c[0],l=c[1];var d=setInterval((function(){if(f&&f.closed){v()}}),500);return{send:h,close:v};function v(){try{window.removeEventListener("message",a);clearInterval(d);l();r()}catch(e){console.error("Popup Close Error",e)}}function h(e){try{f.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(n){console.error("Popup Send Error",e,n)}}}function tl(e){var n=e.service,r=e.body,t=e.config,u=e.opts;return new Promise((function(e,i){var a=ws();var o=u.redir,c=u.includeOlderJsonRpcCall;rl(n,{onReady:function e(u,i){return l(b.mark((function e(){var u;return b.wrap((function e(o){while(1){switch(o.prev=o.next){case 0:u=i.send;o.prev=1;u({fclVersion:ks,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:n.params,data:n.data,type:n.type},config:t});u({fclVersion:ks,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:n.params,data:n.data,type:n.type},config:t,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}});if(c){u({jsonrpc:"2.0",id:a,method:"fcl:sign",params:[r,n.params]})}o.next=10;break;case 7:o.prev=7;o.t0=o["catch"](1);throw o.t0;case 10:case"end":return o.stop()}}}),e,null,[[1,7]])})))()},onResponse:function n(r,t){var u=t.close;try{if(v(r.data)!=="object")return;var a=If(r.data);switch(a.status){case"APPROVED":e(a.data);!o&&u();break;case"DECLINED":i("Declined: ".concat(a.reason||"No reason supplied"));u();break;case"REDIRECT":e(a);u();break;default:i("Declined: No reason supplied");u();break}}catch(e){console.error("execPopRPC onResponse error",e);throw e}},onMessage:function n(r,t){var u=t.close;try{if(v(r.data)!=="object")return;if(r.data.jsonrpc!=="2.0")return;if(r.data.id!==a)return;var c=If(r.data.result);switch(c.status){case"APPROVED":e(c.data);!o&&u();break;case"DECLINED":i("Declined: ".concat(c.reason||"No reason supplied"));u();break;case"REDIRECT":e(c);u();break;default:i("Declined: No reason supplied");u();break}}catch(e){console.error("execPopRPC onMessage error",e);throw e}},onClose:function e(){i("Declined: Externally Halted")}})}))}var ul=function e(){};function il(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(e==null)return{send:ul,close:ul};var r=n.onClose||ul;var t=n.onMessage||ul;var u=n.onReady||ul;var i=n.onResponse||ul;var a=$f({close:v,send:h,onReady:u,onResponse:i,onMessage:t});window.addEventListener("message",a);var o=Gf(kf(e)),c=s(o,2),f=c[0],l=c[1];var d=setInterval((function(){if(f&&f.closed){v()}}),500);return{send:h,close:v};function v(){try{window.removeEventListener("message",a);clearInterval(d);l();r()}catch(e){console.error("Tab Close Error",e)}}function h(e){try{f.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(n){console.error("Tab Send Error",e,n)}}}function al(e){var n=e.service,r=e.body,t=e.config,u=e.opts;return new Promise((function(e,i){var a=ws();var o=u.redir,c=u.includeOlderJsonRpcCall;il(n,{onReady:function e(u,i){return l(b.mark((function e(){var u;return b.wrap((function e(o){while(1){switch(o.prev=o.next){case 0:u=i.send;o.prev=1;u({fclVersion:ks,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:n.params,data:n.data,type:n.type},config:t});u({fclVersion:ks,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:n.params,data:n.data,type:n.type},config:t,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}});if(c){u({jsonrpc:"2.0",id:a,method:"fcl:sign",params:[r,n.params]})}o.next=10;break;case 7:o.prev=7;o.t0=o["catch"](1);throw o.t0;case 10:case"end":return o.stop()}}}),e,null,[[1,7]])})))()},onResponse:function n(r,t){var u=t.close;try{if(v(r.data)!=="object")return;var a=If(r.data);switch(a.status){case"APPROVED":e(a.data);!o&&u();break;case"DECLINED":i("Declined: ".concat(a.reason||"No reason supplied"));u();break;case"REDIRECT":e(a);u();break;default:i("Declined: No reason supplied");u();break}}catch(e){console.error("execPopRPC onResponse error",e);throw e}},onMessage:function n(r,t){var u=t.close;try{if(v(r.data)!=="object")return;if(r.data.jsonrpc!=="2.0")return;if(r.data.id!==a)return;var c=If(r.data.result);switch(c.status){case"APPROVED":e(c.data);!o&&u();break;case"DECLINED":i("Declined: ".concat(c.reason||"No reason supplied"));u();break;case"REDIRECT":e(c);u();break;default:i("Declined: No reason supplied");u();break}}catch(e){console.error("execPopRPC onMessage error",e);throw e}},onClose:function e(){i("Declined: Externally Halted")}})}))}var ol=function e(){};function cl(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(e==null)return{send:ol,close:ol};var r=n.onClose||ol;var t=n.onMessage||ol;var u=n.onReady||ol;var i=n.onResponse||ol;var a=$f({close:o,send:c,onReady:u,onResponse:i,onMessage:t});window.addEventListener("message",a);c({service:e});return{send:c,close:o};function o(){try{window.removeEventListener("message",a);r()}catch(e){console.error("Ext Close Error",e)}}function c(e){try{window&&window.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(n){console.error("Ext Send Error",e,n)}}}function sl(e){var n=e.service,r=e.body,t=e.config;return new Promise((function(e,u){cl(n,{onReady:function e(u,i){return l(b.mark((function e(){var u;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:u=i.send;a.prev=1;u({fclVersion:ks,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:n.params,data:n.data,type:n.type},config:t});a.next=8;break;case 5:a.prev=5;a.t0=a["catch"](1);throw a.t0;case 8:case"end":return a.stop()}}}),e,null,[[1,5]])})))()},onResponse:function n(r,t){var i=t.close;try{if(v(r.data)!=="object")return;var a=If(r.data);switch(a.status){case"APPROVED":e(a.data);i();break;case"DECLINED":u("Declined: ".concat(a.reason||"No reason supplied"));i();break;case"REDIRECT":e(a);i();break;default:u("Declined: No reason supplied");i();break}}catch(e){console.error("execExtRPC onResponse error",e);throw e}},onClose:function e(){u("Declined: Externally Halted")}})}))}var fl={"HTTP/RPC":zf,"HTTP/POST":zf,"IFRAME/RPC":el,"POP/RPC":tl,"TAB/RPC":al,"EXT/RPC":sl};var ll=["ServicePlugin"];var dl=["discovery-service"];var vl=function e(n){var r=n.services,t=n.serviceStrategy;ge(Array.isArray(r)&&r.length,"Array of Discovery Services is required");var u=O(r),i;try{for(u.s();!(i=u.n()).done;){var a=i.value;ge(Is(a.f_type)&&a.f_type==="Service","Service is required");ge(Is(a.type)&&a.type==="authn","Service must be type authn. Received ".concat(a.type));ge(a.method in fl||t.method===a.method,"Service method ".concat(a.method," is not supported"))}}catch(e){u.e(e)}finally{u.f()}ge(Is(t),"Service strategy is required");ge(Is(t.method)&&Ts(t.method),"Service strategy method is required");ge(Is(t.exec)&&Os(t.exec),"Service strategy exec function is required");return{discoveryServices:r,serviceStrategy:t}};var hl=function e(){var n=new Set;var r=new Map(Object.entries(fl));var t=function e(n){ge(dl.includes(n.type),"Service Plugin type ".concat(n.type," is not supported"));if(n.type==="discovery-service"){var t=vl(n),i=t.discoveryServices,a=t.serviceStrategy;u(i);if(!r.has(a.method)){r.set(a.method,a.exec)}else{Te({title:"Add Service Plugin",message:"Service strategy for ".concat(a.method," already exists"),level:Ie.warn})}}};var u=function e(r){return n=new Set(Se(r))};var i=function e(){return Se(n)};var a=function e(n){return r.get(n)};var o=function e(){return Se(r.keys())};return Object.freeze({add:t,getServices:i,getStrategy:a,getStrategies:o})};var pl=function e(n){var r;ge(n,"No plugins supplied");if(!Array.isArray(n)){r=[n]}else{r=Se(n)}var t=O(r),u;try{for(t.s();!(u=t.n()).done;){var i=u.value;ge(Is(i.name),"Plugin name is required");ge(Is(i.f_type),"Plugin f_type is required");ge(ll.includes(i.f_type),"Plugin type ".concat(i.f_type," is not supported"))}}catch(e){t.e(e)}finally{t.f()}return r};var bl=function e(){var n=new Map;var r=function e(){return n};var t=function e(r){var t=pl(r);var u=O(t),i;try{for(u.s();!(i=u.n()).done;){var a=i.value;n.set(a.name,a);if(a.f_type==="ServicePlugin"){wl.add(a)}}}catch(e){u.e(e)}finally{u.f()}};return Object.freeze({add:t,getPlugins:r})};var wl=hl();var ml=bl();var gl=function(){var e=l(b.mark((function e(n){var r,t,u,i,a;return b.wrap((function e(o){while(1){switch(o.prev=o.next){case 0:r=n.service,t=n.body,u=n.config,i=n.opts;a=wl.getStrategy(r.method);return o.abrupt("return",a({service:r,body:t,config:u,opts:i}));case 3:case"end":return o.stop()}}}),e)})));return function n(r){return e.apply(this,arguments)}}();function yl(e){return El.apply(this,arguments)}function El(){El=l(b.mark((function e(n){var r,t,u;var i,a,o,c,s,f,l,d,v;return b.wrap((function e(h){while(1){switch(h.prev=h.next){case 0:i=n.service,a=n.msg,o=a===void 0?{}:a,c=n.config,s=c===void 0?{}:c,f=n.opts,l=f===void 0?{}:f;o.data=i.data;h.next=4;return ys(/^service\./);case 4:h.t0=h.sent;h.next=7;return ys(/^app\.detail\./);case 7:h.t1=h.sent;h.t2=A(A({},s.client),{},{fclVersion:ks,fclLibrary:"https://github.com/onflow/fcl-js",hostname:(r=(t=window)===null||t===void 0?void 0:(u=t.location)===null||u===void 0?void 0:u.hostname)!==null&&r!==void 0?r:null});d={services:h.t0,app:h.t1,client:h.t2};h.prev=10;h.next=13;return gl({service:i,body:o,config:d,opts:l});case 13:v=h.sent;if(!(v.status==="REDIRECT")){h.next=21;break}ge(i.type===v.data.type,"Cannot shift recursive service type in execService");h.next=18;return yl({service:v.data,msg:o,config:d,opts:l});case 18:return h.abrupt("return",h.sent);case 21:return h.abrupt("return",v);case 22:h.next=28;break;case 24:h.prev=24;h.t3=h["catch"](10);Te({title:"Error on execService ".concat(i===null||i===void 0?void 0:i.type),message:h.t3,level:Ie.error});throw h.t3;case 28:case"end":return h.stop()}}}),e,null,[[10,24]])})));return El.apply(this,arguments)}function kl(e){if(e==null)return null;switch(e["f_vsn"]){case"1.0.0":return e;default:return A(A({},rf),{},{addr:Qe(e.addr||e.address),signature:e.signature||e.sig,keyId:e.keyId})}}var Sl=function(){var e=l(b.mark((function e(){var n;var r;return b.wrap((function e(t){while(1){switch(t.prev=t.next){case 0:r=((n=window)===null||n===void 0?void 0:n.fcl_extensions)||[];return t.abrupt("return",[].concat(Se(r),Se(wl.getServices())));case 2:case"end":return t.stop()}}}),e)})));return function n(){return e.apply(this,arguments)}}();function Il(e){return Al.apply(this,arguments)}function Al(){Al=l(b.mark((function e(n){var r;var t,u,i,a;return b.wrap((function e(o){while(1){switch(o.prev=o.next){case 0:o.next=2;return be.get("discovery.authn.include",[]);case 2:t=o.sent;o.next=5;return be.first(["discovery.wallet.method","discovery.wallet.method.default"]);case 5:u=o.sent;i=n!==null&&n!==void 0&&n.method?n.method:u;if(!((r=n===null||n===void 0?void 0:n.endpoint)!==null&&r!==void 0)){o.next=11;break}o.t0=r;o.next=14;break;case 11:o.next=13;return be.first(["discovery.wallet","challenge.handshake"]);case 13:o.t0=o.sent;case 14:a=o.t0;ge(a,'\n    If no service is passed to "authenticate," then "discovery.wallet" must be defined in fcl config.\n    See: "https://docs.onflow.org/fcl/reference/api/#setting-configuration-values"\n    ');return o.abrupt("return",A(A({},n),{},{type:"authn",endpoint:a,method:i,discoveryAuthnInclude:t}));case 17:case"end":return o.stop()}}}),e)})));return Al.apply(this,arguments)}function Tl(e){return Ol.apply(this,arguments)}function Ol(){Ol=l(b.mark((function e(n){var r,t;var u,i,a,o;return b.wrap((function e(c){while(1){switch(c.prev=c.next){case 0:u=n.types;c.next=3;return be.get("discovery.authn.endpoint");case 3:i=c.sent;ge(Boolean(i),'"discovery.authn.endpoint" in config must be defined.');c.next=7;return be.get("discovery.authn.include",[]);case 7:a=c.sent;o=new URL(i);c.t0=fetch;c.t1=o;c.t2={"Content-Type":"application/json"};c.t3=JSON;c.t4=u;c.t5=ks;c.t6=a;c.next=18;return Sl();case 18:c.t7=c.sent;c.t8=wl.getStrategies();c.t9=(r=window)===null||r===void 0?void 0:(t=r.navigator)===null||t===void 0?void 0:t.userAgent;c.t10={type:c.t4,fclVersion:c.t5,include:c.t6,clientServices:c.t7,supportedStrategies:c.t8,userAgent:c.t9};c.t11=c.t3.stringify.call(c.t3,c.t10);c.t12={method:"POST",headers:c.t2,body:c.t11};return c.abrupt("return",(0,c.t0)(c.t1,c.t12).then((function(e){return e.json()})));case 25:case"end":return c.stop()}}}),e)})));return Ol.apply(this,arguments)}var Nl;var Rl={AUTHN:"authn",RESULTS:"results",SNAPSHOT:"SNAPSHOT",UPDATED:"UPDATED",UPDATE_RESULTS:"UPDATE_RESULTS"};var Cl=function e(n,r){if(n){console.warn("\n      %cFCL Warning\n      ============================\n      ".concat(r,"\n      For more info, please see the docs: https://docs.onflow.org/fcl/\n      ============================\n      "),"font-weight:bold;font-family:monospace;")}};var Pl=function(){var e=l(b.mark((function e(){var n;return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:r.prev=0;r.next=3;return Tl({types:[Rl.AUTHN]});case 3:n=r.sent;B(Rl.AUTHN,Rl.UPDATE_RESULTS,{results:n});r.next=10;break;case 7:r.prev=7;r.t0=r["catch"](0);Te({title:"".concat(r.t0.name," Error fetching Discovery API services."),message:r.t0.message,level:Ie.error});case 10:case"end":return r.stop()}}}),e,null,[[0,7]])})));return function n(){return e.apply(this,arguments)}}();var xl=(Nl={},S(Nl,P,function(){var e=l(b.mark((function e(n){return b.wrap((function e(n){while(1){switch(n.prev=n.next){case 0:Cl(typeof window==="undefined",'"fcl.discovery" is only available in the browser.');if(document.readyState==="complete"){Pl()}else{window.onload=l(b.mark((function e(){return b.wrap((function e(n){while(1){switch(n.prev=n.next){case 0:Pl();case 1:case"end":return n.stop()}}}),e)})))}case 2:case"end":return n.stop()}}}),e)})));return function(n){return e.apply(this,arguments)}}()),S(Nl,Rl.UPDATE_RESULTS,(function(e,n,r){e.merge(r);e.broadcast(Rl.UPDATED,A({},e.all()))})),S(Nl,x,(function(e,n){e.subscribe(n.from);e.send(n.from,Rl.UPDATED,A({},e.all()))})),S(Nl,j,(function(e,n){return e.unsubscribe(n.from)})),S(Nl,Rl.SNAPSHOT,function(){var e=l(b.mark((function e(n,r){return b.wrap((function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return",r.reply(A({},n.all())));case 1:case"end":return t.stop()}}}),e)})));return function(n,r){return e.apply(this,arguments)}}()),Nl);var jl=function e(){return K(xl,Rl.AUTHN)};var Dl={subscribe:function e(n){return H(Rl.AUTHN,jl,n)},snapshot:function e(){return V(Rl.AUTHN,jl)},update:function e(){return Pl()}};var Ul={authn:Dl};function _l(){return typeof navigator!=="undefined"&&/android/i.test(navigator.userAgent)}function Fl(){return typeof navigator!=="undefined"&&/iPhone|iPod/.test(navigator.userAgent)}function Ll(){return typeof navigator!=="undefined"&&/iPad/.test(navigator.userAgent)}function Gl(){return Fl()||Ll()}function Ml(){return _l()||Gl()}var Bl;var Wl=function e(n){return typeof n==="function"};var zl="CURRENT_USER";var Kl="CURRENT_USER/UPDATED";var Hl="SNAPSHOT";var Vl="SET_CURRENT_USER";var ql="DEL_CURRENT_USER";var Jl='{\n  "f_type": "User",\n  "f_vsn": "1.0.0",\n  "addr":null,\n  "cid":null,\n  "loggedIn":null,\n  "expiresAt":null,\n  "services":[]\n}';var Yl=function(){var e=l(b.mark((function e(n){var r,t;return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:r=JSON.parse(Jl);u.next=3;return n.get(zl);case 3:t=u.sent;if(!(t!=null&&r["f_vsn"]!==t["f_vsn"])){u.next=7;break}n.removeItem(zl);return u.abrupt("return",r);case 7:return u.abrupt("return",t||r);case 8:case"end":return u.stop()}}}),e)})));return function n(r){return e.apply(this,arguments)}}();var Xl=(Bl={},S(Bl,P,function(){var e=l(b.mark((function e(n){var r,t;return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:if(typeof window==="undefined"){console.warn('\n        %cFCL Warning\n        ============================\n        "currentUser" is only available in the browser.\n        For more info, please see the docs: https://docs.onflow.org/fcl/\n        ============================\n        ',"font-weight:bold;font-family:monospace;")}n.merge(JSON.parse(Jl));u.next=4;return be.first(["fcl.storage","fcl.storage.default"]);case 4:r=u.sent;if(!r.can){u.next=10;break}u.next=8;return Yl(r);case 8:t=u.sent;if(Zl(t))n.merge(t);case 10:case"end":return u.stop()}}}),e)})));return function(n){return e.apply(this,arguments)}}()),S(Bl,x,(function(e,n){e.subscribe(n.from);e.send(n.from,Kl,A({},e.all()))})),S(Bl,j,(function(e,n){e.unsubscribe(n.from)})),S(Bl,Hl,function(){var e=l(b.mark((function e(n,r){return b.wrap((function e(t){while(1){switch(t.prev=t.next){case 0:r.reply(A({},n.all()));case 1:case"end":return t.stop()}}}),e)})));return function(n,r){return e.apply(this,arguments)}}()),S(Bl,Vl,function(){var e=l(b.mark((function e(n,r,t){var u;return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:n.merge(t);r.next=3;return be.first(["fcl.storage","fcl.storage.default"]);case 3:u=r.sent;if(u.can)u.put(zl,n.all());n.broadcast(Kl,A({},n.all()));case 6:case"end":return r.stop()}}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}()),S(Bl,ql,function(){var e=l(b.mark((function e(n,r){var t;return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:n.merge(JSON.parse(Jl));r.next=3;return be.first(["fcl.storage","fcl.storage.default"]);case 3:t=r.sent;if(t.can)t.put(zl,n.all());n.broadcast(Kl,A({},n.all()));case 6:case"end":return r.stop()}}}),e)})));return function(n,r){return e.apply(this,arguments)}}()),Bl);var $l=function e(){return K(Xl,zl)};function Zl(e){return e.expiresAt==null||e.expiresAt===0||e.expiresAt>Date.now()}function Ql(){return ed.apply(this,arguments)}function ed(){ed=l(b.mark((function e(){var n,r;return b.wrap((function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return be.get("fcl.accountProof.resolver");case 2:n=t.sent;if(Wl(n)){t.next=5;break}return t.abrupt("return");case 5:t.next=7;return n();case 7:r=t.sent;if(!(r==null)){t.next=10;break}return t.abrupt("return");case 10:ge(typeof r.appIdentifier==="string","appIdentifier must be a string");ge(/^[0-9a-f]+$/i.test(r.nonce),"Nonce must be a hex string");return t.abrupt("return",r);case 13:case"end":return t.stop()}}}),e)})));return ed.apply(this,arguments)}var nd=function(){var e=l(b.mark((function e(n){var r;return b.wrap((function e(t){while(1){switch(t.prev=t.next){case 0:r=n.discoveryAuthnInclude;t.t0=r;t.next=4;return Sl();case 4:t.t1=t.sent;t.t2=wl.getStrategies();t.t3={discoveryAuthnInclude:t.t0,clientServices:t.t1,supportedStrategies:t.t2};return t.abrupt("return",{client:t.t3});case 8:case"end":return t.stop()}}}),e)})));return function n(r){return e.apply(this,arguments)}}();function rd(){return td.apply(this,arguments)}function td(){td=l(b.mark((function e(){var n,r;var t,u,i,a,o,c=arguments;return b.wrap((function e(s){while(1){switch(s.prev=s.next){case 0:t=c.length>0&&c[0]!==undefined?c[0]:{},u=t.service,i=t.redir,a=i===void 0?false:i;if(!(u&&!(u!==null&&u!==void 0&&(n=u.provider)!==null&&n!==void 0&&n.is_installed)&&u!==null&&u!==void 0&&(r=u.provider)!==null&&r!==void 0&&r.requires_install)){s.next=4;break}window.location.href=u===null||u===void 0?void 0:(o=u.provider)===null||o===void 0?void 0:o.install_link;return s.abrupt("return");case 4:return s.abrupt("return",new Promise(function(){var e=l(b.mark((function e(n,r){var t,i,o,c,s,f,l;return b.wrap((function e(d){while(1){switch(d.prev=d.next){case 0:$l();t={redir:a};d.next=4;return fd();case 4:i=d.sent;d.next=7;return Il(u);case 7:o=d.sent;c=Ef(i.services,"authn-refresh");d.prev=9;d.next=12;return Ql();case 12:s=d.sent;d.next=19;break;case 15:d.prev=15;d.t0=d["catch"](9);console.error("Error During Authentication: Could not resolve account proof data.\n        ".concat(d.t0));return d.abrupt("return",r(d.t0));case 19:if(!i.loggedIn){d.next=47;break}if(!c){d.next=46;break}d.prev=21;d.next=24;return yl({service:c,msg:s,opts:t});case 24:f=d.sent;d.t1=B;d.t2=zl;d.t3=Vl;d.next=30;return gf(f);case 30:d.t4=d.sent;(0,d.t1)(d.t2,d.t3,d.t4);d.next=37;break;case 34:d.prev=34;d.t5=d["catch"](21);console.error("Error: Could not refresh authentication.",d.t5);case 37:d.prev=37;d.t6=n;d.next=41;return fd();case 41:d.t7=d.sent;return d.abrupt("return",(0,d.t6)(d.t7));case 44:d.next=47;break;case 46:return d.abrupt("return",n(i));case 47:d.prev=47;d.t8=yl;d.t9=o;d.t10=s;d.next=53;return nd(o);case 53:d.t11=d.sent;d.t12=t;d.t13={service:d.t9,msg:d.t10,config:d.t11,opts:d.t12};d.next=58;return(0,d.t8)(d.t13);case 58:l=d.sent;d.t14=B;d.t15=zl;d.t16=Vl;d.next=64;return gf(l);case 64:d.t17=d.sent;(0,d.t14)(d.t15,d.t16,d.t17);d.next=71;break;case 68:d.prev=68;d.t18=d["catch"](47);console.error("Error while authenticating",d.t18);case 71:d.prev=71;d.t19=n;d.next=75;return fd();case 75:d.t20=d.sent;(0,d.t19)(d.t20);return d.finish(71);case 78:case"end":return d.stop()}}}),e,null,[[9,15],[21,34,37,44],[47,68,71,78]])})));return function(n,r){return e.apply(this,arguments)}}()));case 5:case"end":return s.stop()}}}),e)})));return td.apply(this,arguments)}function ud(){$l();B(zl,ql)}var id=function e(n){return{f_type:"PreAuthzResponse",f_vsn:"1.0.0",proposer:(n||{}).proposer,payer:(n||{}).payer||[],authorization:(n||{}).authorization||[]}};function ad(e){var n=id(e);var r=[];if(n.proposer!=null)r.push(["PROPOSER",n.proposer]);var t=O(n.payer||[]),u;try{for(t.s();!(u=t.n()).done;){var i=u.value;r.push(["PAYER",i])}}catch(e){t.e(e)}finally{t.f()}var a=O(n.authorization||[]),o;try{for(a.s();!(o=a.n()).done;){var c=o.value;r.push(["AUTHORIZER",c])}}catch(e){a.e(e)}finally{a.f()}var f=r.map((function(e){var n=s(e,2),r=n[0],t=n[1];return{tempId:[t.identity.address,t.identity.keyId].join("|"),addr:t.identity.address,keyId:t.identity.keyId,signingFunction:function e(n){return yl({service:t,msg:n})},role:{proposer:r==="PROPOSER",payer:r==="PAYER",authorizer:r==="AUTHORIZER"}}}));return f}function od(e){return cd.apply(this,arguments)}function cd(){cd=l(b.mark((function e(n){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:$l();return r.abrupt("return",A(A({},n),{},{tempId:"CURRENT_USER",resolve:function e(n,r){return l(b.mark((function e(){var t,u,i,a;return b.wrap((function e(o){while(1){switch(o.prev=o.next){case 0:o.next=2;return rd({redir:true});case 2:t=o.sent;u=Ef(t.services,"authz");i=Ef(t.services,"pre-authz");if(!i){o.next=11;break}o.t0=ad;o.next=9;return yl({service:i,msg:r});case 9:o.t1=o.sent;return o.abrupt("return",(0,o.t0)(o.t1));case 11:if(!u){o.next=14;break}if(Ml()&&u.method==="WC/RPC"){a=window.open("","_blank")}return o.abrupt("return",A(A({},n),{},{tempId:"CURRENT_USER",resolve:null,addr:Qe(u.identity.address),keyId:u.identity.keyId,sequenceNum:null,signature:null,signingFunction:function e(n){return l(b.mark((function e(){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:r.t0=kl;r.next=3;return yl({service:u,msg:n,opts:{includeOlderJsonRpcCall:true,windowRef:a}});case 3:r.t1=r.sent;return r.abrupt("return",(0,r.t0)(r.t1));case 5:case"end":return r.stop()}}}),e)})))()}}));case 14:throw new Error("No Authz or PreAuthz Service configured for CURRENT_USER");case 15:case"end":return o.stop()}}}),e)})))()}}));case 2:case"end":return r.stop()}}}),e)})));return cd.apply(this,arguments)}function sd(e){$l();var n="@EXIT";var r=K(function(){var r=l(b.mark((function r(t){var u;return b.wrap((function r(i){while(1){switch(i.prev=i.next){case 0:t.send(zl,x);case 1:i.next=4;return t.receive();case 4:u=i.sent;if(!(u.tag===n)){i.next=8;break}t.send(zl,j);return i.abrupt("return");case 8:e(u.data);i.next=1;break;case 11:case"end":return i.stop()}}}),r)})));return function(e){return r.apply(this,arguments)}}());return function(){return B(r,n)}}function fd(){$l();return B(zl,Hl,null,{expectReply:true,timeout:0})}function ld(){return dd.apply(this,arguments)}function dd(){dd=l(b.mark((function e(){var n,r;return b.wrap((function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return rd();case 2:n=t.sent;r=n.addr;return t.abrupt("return",ro(en(r),ts));case 5:case"end":return t.stop()}}}),e)})));return dd.apply(this,arguments)}var vd=function e(n){ge(/^[0-9a-f]+$/i.test(n),"Message must be a hex string");return{message:n}};function hd(e){return pd.apply(this,arguments)}function pd(){pd=l(b.mark((function e(n){var r,t,u;return b.wrap((function e(i){while(1){switch(i.prev=i.next){case 0:$l();i.next=3;return rd({redir:true});case 3:r=i.sent;t=Ef(r.services,"user-signature");ge(t,"Current user must have authorized a signing service.");i.prev=6;i.next=9;return yl({service:t,msg:vd(n)});case 9:u=i.sent;if(!Array.isArray(u)){i.next=14;break}return i.abrupt("return",u.map((function(e){return kl(e)})));case 14:return i.abrupt("return",[kl(u)]);case 15:i.next=20;break;case 17:i.prev=17;i.t0=i["catch"](6);return i.abrupt("return",i.t0);case 20:case"end":return i.stop()}}}),e,null,[[6,17]])})));return pd.apply(this,arguments)}var bd=function e(){return{authenticate:rd,unauthenticate:ud,authorization:od,signUserMessage:hd,subscribe:sd,snapshot:fd,resolveArgument:ld}};bd.authenticate=rd;bd.unauthenticate=ud;bd.authorization=od;bd.signUserMessage=hd;bd.subscribe=sd;bd.snapshot=fd;bd.resolveArgument=ld;function wd(){return md.apply(this,arguments)}function md(){md=l(b.mark((function e(){var n,r,t,u=arguments;return b.wrap((function e(i){while(1){switch(i.prev=i.next){case 0:n=u.length>0&&u[0]!==undefined?u[0]:{};i.prev=1;i.next=4;return zs(n);case 4:i.next=6;return Gs(n);case 6:n=i.sent;i.next=9;return be().get("fcl.authz",bd().authorization);case 9:t=i.sent;r=be().overload(n.dependencies||{},l(b.mark((function e(){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:return r.abrupt("return",ja([vo(n.cadence),no(Rs(n.args||[])),n.limit&&Ns(n.limit)&&eo(n.limit),to(n.proposer||n.authz||t),io(n.payer||n.authz||t),Ha(n.authorizations||[n.authz||t])]).then(Da));case 1:case"end":return r.stop()}}}),e)}))));return i.abrupt("return",r);case 14:i.prev=14;i.t0=i["catch"](1);throw i.t0;case 17:case"end":return i.stop()}}}),e,null,[[1,14]])})));return md.apply(this,arguments)}var gd=function e(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){};var t=function e(n){var r;if(n.deprecated)console.warn("DEPRECATION NOTICE",n.deprecated.message);n===null||n===void 0?true:(r=n.body)===null||r===void 0?true:delete r.interaction;return n};var u=function e(u){var i=u.data;if(v(i)!=="object")return;if(v(i)==null)return;if(i.type!==n)return;r(t(i))};window.addEventListener("message",u);return function(){return window.removeEventListener("message",u)}};var yd=function e(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(window.location!==window.parent.location){window.parent.postMessage(A(A({},r),{},{type:n}),"*")}else if(window.opener){window.opener.postMessage(A(A({},r),{},{type:n}),"*")}else{throw new Error("Unable to communicate with parent FCL instance")}};var Ed=function e(n){gd("FCL:VIEW:READY:RESPONSE",n);yd("FCL:VIEW:READY")};var kd=function e(){yd("FCL:VIEW:CLOSE")};var Sd=function e(n){yd("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"APPROVED",reason:null,data:n})};var Id=function e(n){yd("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"DECLINED",reason:n,data:null})};var Ad=function e(n){yd("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"REDIRECT",reason:null,data:n})};function Td(e,n,r){this.f_type=rf.f_type;this.f_vsn=rf.f_vsn;this.addr=en(e);this.keyId=Number(n);this.signature=r}var Od=function e(n,t){return r.Buffer.from(n.padEnd(t*2,"0"),"hex")};var Nd=function e(n,t){return r.Buffer.from(n.padStart(t*2,"0"),"hex")};var Rd=function e(n){return Nd(n,8)};var Cd=function e(n){return r.Buffer.from(n,"hex")};var Pd=function e(n){var t=n.address,u=n.nonce,i=n.appIdentifier;var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;ge(t,"Encode Message For Provable Authn Error: address must be defined");ge(u,"Encode Message For Provable Authn Error: nonce must be defined");ge(i,"Encode Message For Provable Authn Error: appIdentifier must be defined");ge(u.length>=64,"Encode Message For Provable Authn Error: nonce must be minimum of 32 bytes");var o=Od(r.Buffer.from("FCL-ACCOUNT-PROOF-V0.0").toString("hex"),32);if(a){return r.Buffer.concat([o,Oe([i,Rd(Qe(t)),Cd(u)])]).toString("hex")}return Oe([i,Rd(Qe(t)),Cd(u)]).toString("hex")};function xd(e){if(e.type==="authn"&&e.endpoint!=null){if(!Array.isArray(window.fcl_extensions)){window.fcl_extensions=[]}window.fcl_extensions.push(e)}else{console.warn("Authn service is required")}}var jd=Object.freeze({__proto__:null,sendMsgToFCL:yd,ready:Ed,close:kd,approve:Sd,decline:Id,redirect:Ad,onMessageFromFCL:gd,encodeMessageFromSignable:Ga,CompositeSignature:Td,encodeAccountProof:Pd,injectExtService:xd});var Dd="ACCOUNT_PROOF";var Ud="USER_SIGNATURE";var _d=function e(n){if(n.appIdentifier){var r=n.appIdentifier,t=n.address,u=n.nonce,i=n.signatures;ge(Ts(r),"verifyAccountProof({ appIdentifier }) -- appIdentifier must be a string");ge(Ts(t)&&Qe(t).length===16,"verifyAccountProof({ address }) -- address must be a valid address");ge(/^[0-9a-f]+$/i.test(u),"nonce must be a hex string");ge(Array.isArray(i)&&i.every((function(e,n,r){return e.f_type==="CompositeSignature"})),"Must include an Array of CompositeSignatures to verify");ge(i.map((function(e){return e.addr})).every((function(e,n,r){return e===r[0]})),"User signatures to be verified must be from a single account address");return true}else{var a=n.message,o=n.address,c=n.compSigs;ge(/^[0-9a-f]+$/i.test(a),"Signed message must be a hex string");ge(Ts(o)&&Qe(o).length===16,"verifyUserSignatures({ address }) -- address must be a valid address");ge(Array.isArray(c)&&c.every((function(e,n,r){return e.f_type==="CompositeSignature"})),"Must include an Array of CompositeSignatures to verify");ge(c.map((function(e){return e.addr})).every((function(e,n,r){return e===r[0]})),"User signatures to be verified must be from a single account address");return true}};var Fd=function(){var e=l(b.mark((function e(n,r){var t,u,i;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:t=n==="ACCOUNT_PROOF"?"verifyAccountProofSignatures":"verifyUserSignatures";a.next=3;return be.get("flow.network");case 3:u=a.sent;if(u){a.next=9;break}a.next=7;return be.get("env");case 7:u=a.sent;if(u)Te.deprecate({pkg:"FCL",subject:'Using the "env" configuration key for specifying the flow network',message:'Please use "flow.network" instead.',transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/TRANSITIONS.md#0001-deprecate-env-config-key"});case 9:ge(r.fclCryptoContract||u==="testnet"||u==="mainnet","${verifyFunction}({ fclCryptoContract }) -- config.flow.network must be specified (testnet || mainnet) or contract address provided via opts.fclCryptoContract");if(r.fclCryptoContract){i=r.fclCryptoContract}else{i=u==="testnet"?"0x74daa6f9c7ef24b1":"0xb4b82a1c9d21d284"}return a.abrupt("return","\n      import FCLCrypto from ".concat(i,"\n\n      pub fun main(\n          address: Address, \n          message: String, \n          keyIndices: [Int], \n          signatures: [String]\n      ): Bool {\n        return FCLCrypto.").concat(t,"(address: address, message: message, keyIndices: keyIndices, signatures: signatures)\n      }\n    "));case 12:case"end":return a.stop()}}}),e)})));return function n(r,t){return e.apply(this,arguments)}}();function Ld(e,n){return Gd.apply(this,arguments)}function Gd(){Gd=l(b.mark((function e(n,r){var t,u,i,a,o,c,s,f,l,d,v=arguments;return b.wrap((function e(h){while(1){switch(h.prev=h.next){case 0:t=r.address,u=r.nonce,i=r.signatures;a=v.length>2&&v[2]!==undefined?v[2]:{};_d({appIdentifier:n,address:t,nonce:u,signatures:i});o=Pd({address:t,nonce:u,appIdentifier:n},false);c=[];s=[];f=O(i);try{for(f.s();!(l=f.n()).done;){d=l.value;c.push(d.signature);s.push(d.keyId.toString())}}catch(e){f.e(e)}finally{f.f()}h.t0=qs;h.next=11;return Fd(Dd,a);case 11:h.t1=h.sent;h.t2=function e(n,r){return[n(en(t),r.Address),n(o,r.String),n(s,r.Array(r.Int)),n(c,r.Array(r.String))]};h.t3={cadence:h.t1,args:h.t2};return h.abrupt("return",(0,h.t0)(h.t3));case 15:case"end":return h.stop()}}}),e)})));return Gd.apply(this,arguments)}function Md(e,n){return Bd.apply(this,arguments)}function Bd(){Bd=l(b.mark((function e(n,r){var t,u,i,a,o,c,s,f=arguments;return b.wrap((function e(l){while(1){switch(l.prev=l.next){case 0:t=f.length>2&&f[2]!==undefined?f[2]:{};u=en(r[0].addr);_d({message:n,address:u,compSigs:r});i=[];a=[];o=O(r);try{for(o.s();!(c=o.n()).done;){s=c.value;i.push(s.signature);a.push(s.keyId.toString())}}catch(e){o.e(e)}finally{o.f()}l.t0=qs;l.next=10;return Fd(Ud,t);case 10:l.t1=l.sent;l.t2=function e(r,t){return[r(u,t.Address),r(n,t.String),r(a,t.Array(t.Int)),r(i,t.Array(t.String))]};l.t3={cadence:l.t1,args:l.t2};return l.abrupt("return",(0,l.t0)(l.t3));case 14:case"end":return l.stop()}}}),e)})));return Bd.apply(this,arguments)}var Wd=Object.freeze({__proto__:null,verifyAccountProof:Ld,verifyUserSignatures:Md});var zd=Te.deprecate({pkg:"FCL",subject:"fcl.verifyUserSignatures()",message:"Please use fcl.AppUtils.verifyUserSignatures()",callback:function e(n,r){return Md(n,r)}});var Kd=function(){var e=l(b.mark((function e(){var n,r,t,u=arguments;return b.wrap((function e(i){while(1){switch(i.prev=i.next){case 0:n=u.length>0&&u[0]!==undefined?u[0]:[];r=u.length>1&&u[1]!==undefined?u[1]:{};i.next=4;return be.first(["sdk.resolve"],r.resolve||Oa);case 4:t=i.sent;if(!Array.isArray(n)){i.next=9;break}i.next=8;return Du(Bt(),n);case 8:n=i.sent;case 9:i.t0=JSON;i.t1=ra;i.next=13;return t(n);case 13:i.t2=i.sent;i.t3=(0,i.t1)(i.t2);return i.abrupt("return",i.t0.stringify.call(i.t0,i.t3,null,2));case 16:case"end":return i.stop()}}}),e)})));return function n(){return e.apply(this,arguments)}}();var Hd;var Vd=2500;var qd="POLL";var Jd=function(){var e=l(b.mark((function e(n){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:return r.abrupt("return",ja([Za(n)]).then(Da));case 1:case"end":return r.stop()}}}),e)})));return function n(r){return e.apply(this,arguments)}}();var Yd=function e(n){return n.status===5};var Xd=function e(n){return n.status>=4};var $d=function e(n){return n.status>=3};var Zd=function e(n){return n.status>=2};var Qd=function e(n){return n.status>=1};var ev=function e(n){return n.status>=0};var nv=function e(n,r){return JSON.stringify(n)!==JSON.stringify(r)};var rv=(Hd={},S(Hd,P,function(){var e=l(b.mark((function e(n){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:n.sendSelf(qd);case 1:case"end":return r.stop()}}}),e)})));return function(n){return e.apply(this,arguments)}}()),S(Hd,x,(function(e,n){e.subscribe(n.from);e.send(n.from,D,e.all())})),S(Hd,j,(function(e,n){e.unsubscribe(n.from)})),S(Hd,U,function(){var e=l(b.mark((function e(n,r){return b.wrap((function e(t){while(1){switch(t.prev=t.next){case 0:r.reply(n.all());case 1:case"end":return t.stop()}}}),e)})));return function(n,r){return e.apply(this,arguments)}}()),S(Hd,qd,function(){var e=l(b.mark((function e(n){var r;return b.wrap((function e(t){while(1){switch(t.prev=t.next){case 0:t.prev=0;t.next=3;return Jd(n.self());case 3:r=t.sent;t.next=9;break;case 6:t.prev=6;t.t0=t["catch"](0);return t.abrupt("return",n.fatalError(t.t0));case 9:if(!Xd(r))setTimeout((function(){return n.sendSelf(qd)}),Vd);if(nv(n.all(),r))n.broadcast(D,r);n.merge(r);case 12:case"end":return t.stop()}}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}()),Hd);var tv=function e(n){if(v(n)==="object")n=n.transactionId;if(n==null)throw new Error("transactionId required");return n};var uv=function e(n){return K(rv,tv(n))};function iv(e){function n(){return V(e,uv)}function r(n){return H(tv(e),uv,n)}function t(e){return function n(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var u=t.suppress||false;return new Promise((function(n,t){var i=r((function(r,a){if((a||r.statusCode)&&!u){t(a||r.errorMessage);i()}else if(e(r)){n(r);i()}}))}))}}return{snapshot:n,subscribe:r,onceFinalized:t(Zd),onceExecuted:t($d),onceSealed:t(Xd)}}iv.isUnknown=ev;iv.isPending=Qd;iv.isFinalized=Zd;iv.isExecuted=$d;iv.isSealed=Xd;iv.isExpired=Yd;var av;var ov=1e4;var cv="UPDATED";var sv="TICK";var fv="hwm";var lv=function(){var e=l(b.mark((function e(n){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:r.t0=setTimeout;r.t1=function(){return n.sendSelf(sv)};r.next=4;return be().get("fcl.eventPollRate",ov);case 4:r.t2=r.sent;return r.abrupt("return",(0,r.t0)(r.t1,r.t2));case 6:case"end":return r.stop()}}}),e)})));return function n(r){return e.apply(this,arguments)}}();var dv=(av={},S(av,sv,function(){var e=l(b.mark((function e(n){var r,t,u,i,a,o;return b.wrap((function e(c){while(1){switch(c.prev=c.next){case 0:if(n.hasSubs()){c.next=2;break}return c.abrupt("return");case 2:r=n.get(fv);if(!(r==null)){c.next=18;break}c.t0=n;c.t1=fv;c.next=8;return Ka();case 8:c.t2=c.sent;c.t0.put.call(c.t0,c.t1,c.t2);c.t3=n;c.t4=sv;c.next=14;return lv(n);case 14:c.t5=c.sent;c.t3.put.call(c.t3,c.t4,c.t5);c.next=34;break;case 18:c.next=20;return Ka();case 20:t=c.sent;n.put(fv,t);if(!(r.height<t.height)){c.next=28;break}c.next=25;return ja([Ja(n.self(),r.height+1,t.height)]).then(Da);case 25:u=c.sent;i=O(u);try{for(i.s();!(a=i.n()).done;){o=a.value;n.broadcast(cv,o.data)}}catch(e){i.e(e)}finally{i.f()}case 28:c.t6=n;c.t7=sv;c.next=32;return lv(n);case 32:c.t8=c.sent;c.t6.put.call(c.t6,c.t7,c.t8);case 34:case"end":return c.stop()}}}),e)})));return function(n){return e.apply(this,arguments)}}()),S(av,x,function(){var e=l(b.mark((function e(n,r){return b.wrap((function e(t){while(1){switch(t.prev=t.next){case 0:if(n.hasSubs()){t.next=7;break}t.t0=n;t.t1=sv;t.next=5;return lv(n);case 5:t.t2=t.sent;t.t0.put.call(t.t0,t.t1,t.t2);case 7:n.subscribe(r.from);case 8:case"end":return t.stop()}}}),e)})));return function(n,r){return e.apply(this,arguments)}}()),S(av,j,(function(e,n){e.unsubscribe(n.from);if(!e.hasSubs()){clearTimeout(e.get(sv));e["delete"](sv);e["delete"](fv)}})),av);var vv=function e(n){return K(dv,n)};function hv(e){return{subscribe:function n(r){return H(e,vv,r)}}}var pv={};var bv={};var wv={};var mv={};var gv=function e(n,r){return function(e,t){var u=t*2;var i=r*2;e[u]=n[i];e[u+1]=n[i+1]}};var yv=gv;(function(e){Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;var n=r(yv);function r(e){return e&&e.__esModule?e:{default:e}}var t=function e(r){var t=r.A,u=r.C;for(var i=0;i<25;i+=5){for(var a=0;a<5;a++){(0,n["default"])(t,i+a)(u,a)}for(var o=0;o<5;o++){var c=(i+o)*2;var s=(o+1)%5*2;var f=(o+2)%5*2;t[c]^=~u[s]&u[f];t[c+1]^=~u[s+1]&u[f+1]}}};var u=t;e["default"]=u})(mv);var Ev={};var kv={};(function(e){Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;var n=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);var r=n;e["default"]=r})(kv);(function(e){Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;var n=r(kv);function r(e){return e&&e.__esModule?e:{default:e}}var t=function e(r){var t=r.A,u=r.roundIndex;var i=u*2;t[0]^=n["default"][i];t[1]^=n["default"][i+1]};var u=t;e["default"]=u})(Ev);var Sv={};var Iv={};(function(e){Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;var n=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];var r=n;e["default"]=r})(Iv);var Av={};(function(e){Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;var n=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44];var r=n;e["default"]=r})(Av);(function(e){Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;var n=u(Iv);var r=u(Av);var t=u(yv);function u(e){return e&&e.__esModule?e:{default:e}}var i=function e(u){var i=u.A,a=u.C,o=u.W;(0,t["default"])(i,1)(o,0);var c=0;var s=0;var f=0;var l=32;for(var d=0;d<24;d++){var v=n["default"][d];var h=r["default"][d];(0,t["default"])(i,v)(a,0);c=o[0];s=o[1];l=32-h;f=h<32?0:1;o[f]=c<<h|s>>>l;o[(f+1)%2]=s<<h|c>>>l;(0,t["default"])(o,0)(i,v);(0,t["default"])(a,0)(o,0)}};var a=i;e["default"]=a})(Sv);var Tv={};(function(e){Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;var n=r(yv);function r(e){return e&&e.__esModule?e:{default:e}}var t=function e(r){var t=r.A,u=r.C,i=r.D,a=r.W;var o=0;var c=0;for(var s=0;s<5;s++){var f=s*2;var l=(s+5)*2;var d=(s+10)*2;var v=(s+15)*2;var h=(s+20)*2;u[f]=t[f]^t[l]^t[d]^t[v]^t[h];u[f+1]=t[f+1]^t[l+1]^t[d+1]^t[v+1]^t[h+1]}for(var p=0;p<5;p++){(0,n["default"])(u,(p+1)%5)(a,0);o=a[0];c=a[1];a[0]=o<<1|c>>>31;a[1]=c<<1|o>>>31;i[p*2]=u[(p+4)%5*2]^a[0];i[p*2+1]=u[(p+4)%5*2+1]^a[1];for(var b=0;b<25;b+=5){t[(b+p)*2]^=i[p*2];t[(b+p)*2+1]^=i[p*2+1]}}};var u=t;e["default"]=u})(Tv);(function(e){Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;var n=i(mv);var r=i(Ev);var t=i(Sv);var u=i(Tv);function i(e){return e&&e.__esModule?e:{default:e}}var a=function e(){var i=new Uint32Array(10);var a=new Uint32Array(10);var o=new Uint32Array(2);return function(e){for(var c=0;c<24;c++){(0,u["default"])({A:e,C:i,D:a,W:o});(0,t["default"])({A:e,C:i,W:o});(0,n["default"])({A:e,C:i});(0,r["default"])({A:e,roundIndex:c})}i.fill(0);a.fill(0);o.fill(0)}};var o=a;e["default"]=o})(wv);(function(e){Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;var n=r;var t=u(wv);function u(e){return e&&e.__esModule?e:{default:e}}var i=function e(n,r){for(var t=0;t<n.length;t+=8){var u=t/4;r[u]^=n[t+7]<<24|n[t+6]<<16|n[t+5]<<8|n[t+4];r[u+1]^=n[t+3]<<24|n[t+2]<<16|n[t+1]<<8|n[t]}return r};var a=function e(n,r){for(var t=0;t<r.length;t+=8){var u=t/4;r[t]=n[u+1];r[t+1]=n[u+1]>>>8;r[t+2]=n[u+1]>>>16;r[t+3]=n[u+1]>>>24;r[t+4]=n[u];r[t+5]=n[u]>>>8;r[t+6]=n[u]>>>16;r[t+7]=n[u]>>>24}return r};var o=function e(r){var u=this;var o=r.capacity,c=r.padding;var s=(0,t["default"])();var f=200;var l=o/8;var d=f-o/4;var v=0;var h=new Uint32Array(f/4);var p=n.Buffer.allocUnsafe(d);this.absorb=function(e){for(var n=0;n<e.length;n++){p[v]=e[n];v+=1;if(v>=d){i(p,h);s(h);v=0}}return u};this.squeeze=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r={buffer:e.buffer||n.Buffer.allocUnsafe(l),padding:e.padding||c,queue:n.Buffer.allocUnsafe(p.length),state:new Uint32Array(h.length)};p.copy(r.queue);for(var t=0;t<h.length;t++){r.state[t]=h[t]}r.queue.fill(0,v);r.queue[v]|=r.padding;r.queue[d-1]|=128;i(r.queue,r.state);for(var u=0;u<r.buffer.length;u+=d){s(r.state);a(r.state,r.buffer.slice(u,u+d))}return r.buffer};this.reset=function(){p.fill(0);h.fill(0);v=0;return u};return this};var c=o;e["default"]=c})(bv);(function(e){Object.defineProperty(e,"__esModule",{value:true});e["default"]=e.SHAKE=e.SHA3Hash=e.SHA3=e.Keccak=void 0;var n=r;var t=u(bv);function u(e){return e&&e.__esModule?e:{default:e}}var i=function e(r){var u=r.allowedSizes,i=r.defaultSize,a=r.padding;return function e(){var r=this;var o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:i;if(!this||this.constructor!==e){return new e(o)}if(u&&!u.includes(o)){throw new Error("Unsupported hash length")}var c=new t["default"]({capacity:o});this.update=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"utf8";if(n.Buffer.isBuffer(e)){c.absorb(e);return r}if(typeof e==="string"){return r.update(n.Buffer.from(e,t))}throw new TypeError("Not a string or buffer")};this.digest=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"binary";var n=typeof e==="string"?{format:e}:e;var r=c.squeeze({buffer:n.buffer,padding:n.padding||a});if(n.format&&n.format!=="binary"){return r.toString(n.format)}return r};this.reset=function(){c.reset();return r};return this}};var a=i({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});e.Keccak=a;var o=i({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});e.SHA3=o;var c=i({allowedSizes:[128,256],defaultSize:256,padding:31});e.SHAKE=c;var s=a;e.SHA3Hash=s;o.SHA3Hash=s;var f=o;e["default"]=f})(pv);function Ov(e){return Nv.apply(this,arguments)}function Nv(){Nv=l(b.mark((function e(n){var t;return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:t=new pv.SHA3(256);t.update(r.Buffer.from(n,"utf8"));return u.abrupt("return",t.digest("hex"));case 3:case"end":return u.stop()}}}),e)})));return Nv.apply(this,arguments)}function Rv(e){return Cv.apply(this,arguments)}function Cv(){Cv=l(b.mark((function e(n){var r,t,u,i,a,o;return b.wrap((function e(c){while(1){switch(c.prev=c.next){case 0:r=n.template;xa(r!=undefined,"generateTemplateId({ template }) -- template must be defined");xa(v(r)==="object","generateTemplateId({ template }) -- template must be an object");xa(typeof r.f_type==="InteractionTemplate","generateTemplateId({ template }) -- template object must be an InteractionTemplate");r=Us(r);c.t0=r.f_version;c.next=c.t0==="1.0.0"?8:40;break;case 8:t=r.data;c.next=11;return Promise.all(Object.keys(t.messages).map(function(){var e=l(b.mark((function e(n){var r,u;return b.wrap((function e(i){while(1){switch(i.prev=i.next){case 0:i.next=2;return Ov(n);case 2:i.t0=i.sent;i.next=5;return Promise.all(Object.keys((r=t.messages)===null||r===void 0?void 0:(u=r[n])===null||u===void 0?void 0:u.i18n).map(function(){var e=l(b.mark((function e(r){var u,i,a;return b.wrap((function e(o){while(1){switch(o.prev=o.next){case 0:o.next=2;return Ov(r);case 2:o.t0=o.sent;o.next=5;return Ov((u=t.messages)===null||u===void 0?void 0:(i=u[n])===null||i===void 0?void 0:(a=i.i18n)===null||a===void 0?void 0:a[r]);case 5:o.t1=o.sent;return o.abrupt("return",[o.t0,o.t1]);case 7:case"end":return o.stop()}}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 5:i.t1=i.sent;return i.abrupt("return",[i.t0,i.t1]);case 7:case"end":return i.stop()}}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 11:u=c.sent;c.next=14;return Promise.all(Object.keys(t===null||t===void 0?void 0:t.dependencies).map(function(){var e=l(b.mark((function e(n){var r;return b.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:u.next=2;return Ov(n);case 2:u.t0=u.sent;u.next=5;return Promise.all(Object.keys(t===null||t===void 0?void 0:(r=t.dependencies)===null||r===void 0?void 0:r[n]).map(function(){var e=l(b.mark((function e(r){var u,i;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:a.next=2;return Ov(r);case 2:a.t0=a.sent;a.next=5;return Promise.all(Object.keys(t===null||t===void 0?void 0:(u=t.dependencies)===null||u===void 0?void 0:(i=u[n])===null||i===void 0?void 0:i[r]).map(function(){var e=l(b.mark((function e(u){var i,a,o,c,s,f,l,d,v,h,p,w,m,g,y;return b.wrap((function e(b){while(1){switch(b.prev=b.next){case 0:b.next=2;return Ov(u);case 2:b.t0=b.sent;b.next=5;return Ov(t===null||t===void 0?void 0:(i=t.dependencies)===null||i===void 0?void 0:(a=i[n])===null||a===void 0?void 0:(o=a[r])===null||o===void 0?void 0:o[u].address);case 5:b.t1=b.sent;b.next=8;return Ov(t===null||t===void 0?void 0:(c=t.dependencies)===null||c===void 0?void 0:(s=c[n])===null||s===void 0?void 0:(f=s[r])===null||f===void 0?void 0:f[u].contract);case 8:b.t2=b.sent;b.next=11;return Ov(t===null||t===void 0?void 0:(l=t.dependencies)===null||l===void 0?void 0:(d=l[n])===null||d===void 0?void 0:(v=d[r])===null||v===void 0?void 0:v[u].fq_address);case 11:b.t3=b.sent;b.next=14;return Ov(t===null||t===void 0?void 0:(h=t.dependencies)===null||h===void 0?void 0:(p=h[n])===null||p===void 0?void 0:(w=p[r])===null||w===void 0?void 0:w[u].pin);case 14:b.t4=b.sent;b.next=17;return Ov(String(t===null||t===void 0?void 0:(m=t.dependencies)===null||m===void 0?void 0:(g=m[n])===null||g===void 0?void 0:(y=g[r])===null||y===void 0?void 0:y[u].pin_block_height));case 17:b.t5=b.sent;b.t6=[b.t1,b.t2,b.t3,b.t4,b.t5];return b.abrupt("return",[b.t0,b.t6]);case 20:case"end":return b.stop()}}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 5:a.t1=a.sent;return a.abrupt("return",[a.t0,a.t1]);case 7:case"end":return a.stop()}}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 5:u.t1=u.sent;return u.abrupt("return",[u.t0,u.t1]);case 7:case"end":return u.stop()}}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 14:i=c.sent;c.next=17;return Promise.all(Object.keys(t===null||t===void 0?void 0:t["arguments"]).map(function(){var e=l(b.mark((function e(n){var r,u,i,a;return b.wrap((function e(o){while(1){switch(o.prev=o.next){case 0:o.next=2;return Ov(n);case 2:o.t0=o.sent;o.next=5;return Ov(String(t===null||t===void 0?void 0:(r=t["arguments"])===null||r===void 0?void 0:r[n].index));case 5:o.t1=o.sent;o.next=8;return Ov(t===null||t===void 0?void 0:(u=t["arguments"])===null||u===void 0?void 0:u[n].type);case 8:o.t2=o.sent;o.next=11;return Ov((t===null||t===void 0?void 0:(i=t["arguments"])===null||i===void 0?void 0:i[n].balance)||"");case 11:o.t3=o.sent;o.next=14;return Promise.all(Object.keys(t===null||t===void 0?void 0:(a=t["arguments"])===null||a===void 0?void 0:a[n].messages).map(function(){var e=l(b.mark((function e(r){var u,i;return b.wrap((function e(a){while(1){switch(a.prev=a.next){case 0:a.next=2;return Ov(r);case 2:a.t0=a.sent;a.next=5;return Promise.all(Object.keys(t===null||t===void 0?void 0:(u=t["arguments"])===null||u===void 0?void 0:(i=u[n].messages)===null||i===void 0?void 0:i[r].i18n).map(function(){var e=l(b.mark((function e(u){var i,a,o;return b.wrap((function e(c){while(1){switch(c.prev=c.next){case 0:c.next=2;return Ov(u);case 2:c.t0=c.sent;c.next=5;return Ov(t===null||t===void 0?void 0:(i=t["arguments"])===null||i===void 0?void 0:(a=i[n].messages)===null||a===void 0?void 0:(o=a[r].i18n)===null||o===void 0?void 0:o[u]);case 5:c.t1=c.sent;return c.abrupt("return",[c.t0,c.t1]);case 7:case"end":return c.stop()}}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 5:a.t1=a.sent;return a.abrupt("return",[a.t0,a.t1]);case 7:case"end":return a.stop()}}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 14:o.t4=o.sent;o.t5=[o.t1,o.t2,o.t3,o.t4];return o.abrupt("return",[o.t0,o.t5]);case 17:case"end":return o.stop()}}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 17:a=c.sent;c.t1=Oe;c.next=21;return Ov("InteractionTemplate");case 21:c.t2=c.sent;c.next=24;return Ov("1.0.0");case 24:c.t3=c.sent;c.next=27;return Ov(t===null||t===void 0?void 0:t.type);case 27:c.t4=c.sent;c.next=30;return Ov(t===null||t===void 0?void 0:t["interface"]);case 30:c.t5=c.sent;c.t6=u;c.next=34;return Ov(t===null||t===void 0?void 0:t.cadence);case 34:c.t7=c.sent;c.t8=i;c.t9=a;c.t10=[c.t2,c.t3,c.t4,c.t5,c.t6,c.t7,c.t8,c.t9];o=(0,c.t1)(c.t10).toString("hex");return c.abrupt("return",Ov(o));case 40:throw new Error("generateTemplateId Error: Unsupported template version");case 41:case"end":return c.stop()}}}),e)})));return Cv.apply(this,arguments)}function Pv(e){return xv.apply(this,arguments)}function xv(){xv=l(b.mark((function e(n){var r,t,u,i,a,o,c,s,f=arguments;return b.wrap((function e(l){while(1){switch(l.prev=l.next){case 0:r=n.template,t=n.auditors;u=f.length>1&&f[1]!==undefined?f[1]:{};xa(r!=undefined,"getInteractionTemplateAudits({ template }) -- template must be defined");r=Us(r);xa(r.f_type==="InteractionTemplate","getInteractionTemplateAudits({ template }) -- template must be an InteractionTemplate");l.next=7;return Rv({template:r});case 7:i=l.sent;if(!(i!==r.id)){l.next=11;break}Te({title:"getInteractionTemplateAudits Debug Error",message:"Could not recompute and match template ID\n                computed: ".concat(i,"\n                template: ").concat(r.id,"\n            "),level:Ie.debug});throw new Error("getInteractionTemplateAudits Error: Could not recompute and match template ID");case 11:l.t0=r.f_version;l.next=l.t0==="1.0.0"?14:33;break;case 14:l.t1=t;if(l.t1){l.next=19;break}l.next=18;return be().get("flow.auditors");case 18:l.t1=l.sent;case 19:a=l.t1;xa(a,"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not set");xa(Array.isArray(a),"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not an array");o=u.flowInteractionAuditContract;if(o){l.next=29;break}l.next=26;return be().get("flow.network");case 26:c=l.sent;xa(c==="mainnet"||c==="testnet","getInteractionTemplateAudits Error: Unable to determine address for FlowInteractionTemplateAudit contract. Set configuration for 'fcl.network' to 'mainnet' or 'testnet'");if(c==="mainnet"){o="0xfd100e39d50a13e6"}else{o="0xf78bfc12d0a786dc"}case 29:l.next=31;return qs({cadence:"\n        import FlowInteractionTemplateAudit from ".concat(o,"\n        pub fun main(templateId: String, auditors: [Address]): {Address:Bool} {\n          return FlowInteractionTemplateAudit.getHasTemplateBeenAuditedByAuditors(templateId: templateId, auditors: auditors)\n        }\n        "),args:function e(n,r){return[n(i,r.String),n(a,r.Array(r.Address))]}});case 31:s=l.sent;return l.abrupt("return",s);case 33:throw new Error("getInteractionTemplateAudits Error: Unsupported template version");case 34:case"end":return l.stop()}}}),e)})));return xv.apply(this,arguments)}function jv(e){var n=e.contractName,r=e.address;return{contractName:n,address:r,contract:""}}function Dv(e){var n=[];var r=/import ((\w|,| )+)* from 0x\w+/g;var t=e.match(r)||[];var u=O(t),i;try{for(u.s();!(i=u.n()).done;){var a=i.value;var o=/import ((\w+|, |)*) from (0x\w+)/g;var c=o.exec(a);var s=/((?:\w+)+),?/g;var f=c[1].match(s)||[];var l=O(f),d;try{for(l.s();!(d=l.n()).done;){var v=d.value;n.push(jv({address:c[3],contractName:v.replace(/,/g,"")}))}}catch(e){l.e(e)}finally{l.f()}}}catch(e){u.e(e)}finally{u.f()}return n}function Uv(e){return _v.apply(this,arguments)}function _v(){_v=l(b.mark((function e(n){var r,t,u,i,a,o,c,s,f,l,d,v,h,p=arguments;return b.wrap((function e(b){while(1){switch(b.prev=b.next){case 0:r=n.address,t=n.contractName,u=n.blockHeight;i=p.length>1&&p[1]!==undefined?p[1]:{};xa(r!=undefined,"generateDependencyPin({ address }) -- address must be defined");xa(t!=undefined,"generateDependencyPin({ contractName }) -- contractName must be defined");xa(u!=undefined,"generateDependencyPin({ blockHeight }) -- blockHeight must be defined");xa(typeof r==="string","generateDependencyPin({ address }) -- address must be a string");xa(typeof t==="string","generateDependencyPin({ contractName }) -- contractName must be a string");xa(typeof u==="number","generateDependencyPin({ blockHeight }) -- blockHeight must be a number");a=[jv({contractName:t,address:r})];o=0,c=a;case 10:if(!(o<c.length)){b.next=33;break}f=c[o];b.t0=ja;b.t1=Hu;b.next=16;return be().get(f.address,f.address);case 16:b.t2=b.sent;b.t3=(0,b.t1)(b.t2);b.t4=Ba(u);b.t5=[b.t3,b.t4];b.t6=i;b.next=23;return(0,b.t0)(b.t5,b.t6).then(Da);case 23:l=b.sent;f.contract=(s=l.contracts)===null||s===void 0?void 0:s[f.contractName];if(f.contract){b.next=28;break}console.error("Did not find expected contract",f,l);throw new Error("Did not find expected contract");case 28:d=Dv(f.contract);a.push.apply(a,Se(d));case 30:o++;b.next=10;break;case 33:v=a.map((function(e){return Ov(e.contract)}));h=v.join("");return b.abrupt("return",Ov(h));case 36:case"end":return b.stop()}}}),e)})));return _v.apply(this,arguments)}function Fv(e){return Lv.apply(this,arguments)}function Lv(){Lv=l(b.mark((function e(n){var r,t,u,i,a,o=arguments;return b.wrap((function e(c){while(1){switch(c.prev=c.next){case 0:r=n.address,t=n.contractName;u=o.length>1&&o[1]!==undefined?o[1]:{};c.next=4;return Ka({sealed:true},u);case 4:i=c.sent;a=i===null||i===void 0?void 0:i.height;return c.abrupt("return",Uv({address:r,contractName:t,blockHeight:a},u));case 7:case"end":return c.stop()}}}),e)})));return Lv.apply(this,arguments)}function Gv(e){if(e==null)return null;switch(e["f_version"]){case"1.0.0":return e;default:throw new Error("normalizeInteractionTemplateInterface Error: Invalid InteractionTemplateInterface")}}function Mv(e){return Bv.apply(this,arguments)}function Bv(){Bv=l(b.mark((function e(n){var r,t,u;return b.wrap((function e(i){while(1){switch(i.prev=i.next){case 0:r=n.templateInterface;xa(r!=undefined,"generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be defined");xa(v(r)==="object","generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be an object");xa(typeof r.f_type==="InteractionTemplateInterface","generateTemplateInterfaceId({ templateInterface }) -- templateInterface object must be an InteractionTemplate");r=Gv(r);i.t0=r.f_version;i.next=i.t0==="1.0.0"?8:25;break;case 8:t=r.data;i.t1=Oe;i.next=12;return Ov("InteractionTemplateInterface");case 12:i.t2=i.sent;i.next=15;return Ov("1.0.0");case 15:i.t3=i.sent;i.next=18;return Ov(t.flip);case 18:i.t4=i.sent;i.next=21;return Promise.all(Object.keys(t.arguments).map(function(){var e=l(b.mark((function e(n){return b.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:r.next=2;return Ov(n);case 2:r.t0=r.sent;r.next=5;return Ov(String(t.arguments[n].index));case 5:r.t1=r.sent;r.next=8;return Ov(t.arguments[n].type);case 8:r.t2=r.sent;return r.abrupt("return",[r.t0,r.t1,r.t2]);case 10:case"end":return r.stop()}}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 21:i.t5=i.sent;i.t6=[i.t2,i.t3,i.t4,i.t5];u=(0,i.t1)(i.t6).toString("hex");return i.abrupt("return",Ov(u));case 25:throw new Error("generateTemplateInterfaceId Error: Unsupported templateInterface version");case 26:case"end":return i.stop()}}}),e)})));return Bv.apply(this,arguments)}function Wv(e){return zv.apply(this,arguments)}function zv(){zv=l(b.mark((function e(n){var r,t,u,i,a,o,c,s,f,l,d,h,p,w,m,g,y=arguments;return b.wrap((function e(b){while(1){switch(b.prev=b.next){case 0:r=n.template,t=n.blockHeight,u=n.network;i=y.length>1&&y[1]!==undefined?y[1]:{};xa(r!=undefined,"generateDependencyPin({ template }) -- template must be defined");xa(v(r)==="object","generateDependencyPin({ template }) -- template must be an object");xa(r.f_type==="InteractionTemplate","generateDependencyPin({ template }) -- template must be an InteractionTemplate");r=Us(r);xa(u!=undefined,"generateDependencyPin({ network }) network must be defined");xa(t!=undefined,"generateDependencyPin({ blockHeight }) blockHeight must be defined");xa(typeof t==="number","generateDependencyPin({ blockHeight }) blockHeight must be a number");b.t0=r.f_version;b.next=b.t0==="1.0.0"?12:38;break;case 12:a=Object.keys(r.data.dependencies);o=0,c=a;case 14:if(!(o<c.length)){b.next=37;break}s=c[o];f=r.data.dependencies[s];l=Object.keys(f);d=0,h=l;case 19:if(!(d<h.length)){b.next=34;break}p=h[d];w=r.data.dependencies[s][p];m=w[u];if(!(typeof m==="undefined")){b.next=25;break}return b.abrupt("continue",31);case 25:b.next=27;return Uv({address:m.address,contractName:m.contract,blockHeight:t},i);case 27:g=b.sent;if(!(g!==m.pin)){b.next=31;break}Te({title:"verifyDependencyPinsSame Debug Error",message:"Could not recompute and match dependency pin.\n                                address: ".concat(m.address," | contract: ").concat(m.contract,"\n                                computed: ").concat(g,"\n                                template: ").concat(m.pin,"\n                            "),level:Ie.debug});return b.abrupt("return",false);case 31:d++;b.next=19;break;case 34:o++;b.next=14;break;case 37:return b.abrupt("return",true);case 38:throw new Error("verifyDependencyPinsSame Error: Unsupported template version");case 39:case"end":return b.stop()}}}),e)})));return zv.apply(this,arguments)}function Kv(e){return Hv.apply(this,arguments)}function Hv(){Hv=l(b.mark((function e(n){var r,t,u,i,a,o=arguments;return b.wrap((function e(c){while(1){switch(c.prev=c.next){case 0:r=n.template,t=n.network;u=o.length>1&&o[1]!==undefined?o[1]:{};c.next=4;return Ka({sealed:true});case 4:i=c.sent;a=i===null||i===void 0?void 0:i.height;return c.abrupt("return",Wv({template:r,network:t,blockHeight:a},u));case 7:case"end":return c.stop()}}}),e)})));return Hv.apply(this,arguments)}function Vv(e){var n,r,t;var u=e.localization,i=u===void 0?"en-US":u,a=e.messageKey,o=e.template;xa(a,"getMessage({ messageKey }) -- messageKey must be defined");xa(typeof a==="stirng","getMessage({ messageKey }) -- messageKey must be a string");xa(i,"getMessage({ localization }) -- localization must be defined");xa(typeof i==="stirng","getMessage({ localization }) -- localization must be a string");xa(o!=undefined,"generateTemplateId({ template }) -- template must be defined");xa(v(o)==="object","generateTemplateId({ template }) -- template must be an object");xa(typeof o.f_type==="InteractionTemplate","generateTemplateId({ template }) -- template object must be an InteractionTemplate");var c=o===null||o===void 0?void 0:(n=o.data)===null||n===void 0?void 0:n.messages;return c===null||c===void 0?void 0:(r=c[a])===null||r===void 0?void 0:(t=r.i18n)===null||t===void 0?void 0:t[i]}function qv(e){var n,r,t,u,i;var a=e.localization,o=a===void 0?"en-US":a,c=e.argumentLabel,s=e.messageKey,f=e.template;xa(s,"getMessage({ messageKey }) -- messageKey must be defined");xa(typeof s==="stirng","getMessage({ messageKey }) -- messageKey must be a string");xa(c,"getMessage({ argumentLabel }) -- argumentLabel must be defined");xa(typeof s==="stirng","getMessage({ argumentLabel }) -- argumentLabel must be a string");xa(o,"getMessage({ localization }) -- localization must be defined");xa(typeof o==="stirng","getMessage({ localization }) -- localization must be a string");xa(f!=undefined,"generateTemplateId({ template }) -- template must be defined");xa(v(f)==="object","generateTemplateId({ template }) -- template must be an object");xa(typeof f.f_type==="InteractionTemplate","generateTemplateId({ template }) -- template object must be an InteractionTemplate");var l=f===null||f===void 0?void 0:(n=f.data)===null||n===void 0?void 0:n.arguments;return l===null||l===void 0?void 0:(r=l[c])===null||r===void 0?void 0:(t=r.messages)===null||t===void 0?void 0:(u=t[s])===null||u===void 0?void 0:(i=u.i18n)===null||i===void 0?void 0:i[o]}var Jv=Object.freeze({__proto__:null,getInteractionTemplateAudits:Pv,generateDependencyPin:Uv,generateDependencyPinAtLatestSealedBlock:Fv,generateTemplateId:Rv,generateTemplateInterfaceId:Mv,verifyDependencyPinsSame:Wv,verifyDependencyPinsSameAtLatestSealedBlock:Kv,deriveCadenceByNetwork:_s,getTemplateMessage:Vv,getTemplateArgumentMessage:qv});var Yv=function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return bd().authenticate(n)};var Xv=function e(){return bd().unauthenticate()};var $v=function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};bd().unauthenticate();return bd().authenticate(n)};var Zv=function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return bd().authenticate(n)};var Qv=function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return bd().authenticate(n)};var eh=bd().authorization;var nh=hs;const rh=Object.freeze({__proto__:null,AppUtils:Wd,InteractionTemplateUtils:Jv,VERSION:ks,WalletUtils:jd,authenticate:Yv,authz:eh,currentUser:bd,discovery:Ul,events:hv,logIn:Qv,mutate:wd,pluginRegistry:ml,query:qs,reauthenticate:$v,serialize:Kd,signUp:Zv,t:nh,tx:iv,unauthenticate:Xv,verifyUserSignatures:zd,config:be,TestUtils:Oo,account:za,arg:ro,args:no,atBlockHeight:Ba,atBlockId:Wa,authorization:Va,authorizations:Ha,block:Ka,build:Bu,createSignableVoucher:ra,decode:Da,getAccount:Hu,getBlock:Ku,getBlockHeader:Xa,getCollection:$a,getEvents:qa,getEventsAtBlockHeightRange:Ja,getEventsAtBlockIds:Ya,getTransaction:Qa,getTransactionStatus:Za,invariant:xa,isBad:Ou,isOk:Tu,limit:eo,param:Ro,params:No,payer:io,ping:oo,pipe:Du,proposer:to,ref:co,script:so,send:ja,transaction:vo,validator:Ma,voucherIntercept:ho,voucherToTxId:ta,why:Nu,display:nn,sansPrefix:Qe,withPrefix:en,cadence:ht,cdc:ht});be({"accessNode.api":"https://rest-mainnet.onflow.org","discovery.wallet":"https://fcl-discovery.onflow.org/authn"});var th=function(){return rh};export{th as getFlowProvider};
//# sourceMappingURL=p-7dea8f72.js.map