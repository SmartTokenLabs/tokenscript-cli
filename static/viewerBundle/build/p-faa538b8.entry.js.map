{"version":3,"names":["securityStatusCss","SecurityStatus","async","this","securityInfo","tokenScript","getSecurityInfo","console","log","getStatusColor","status","TSSecurityStatus","VALID","WARNING","INVALID","render","h","class","style","background","title","integrityText","_a","authText","statusText"],"sources":["./src/components/viewer/security-status.css?tag=security-status&encapsulation=shadow","./src/components/viewer/security-status.tsx"],"sourcesContent":["\n:host {\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\tmargin: 20px;\n}\n\n.security-status {\n\tpadding: 10px 10px;\n\tborder-radius: 10px;\n}\n","import {Component, Element, h, Prop, State, Watch} from \"@stencil/core\";\nimport {ISecurityInfo, SecurityStatus as TSSecurityStatus} from \"@tokenscript/engine-js/src/security/SecurityInfo\";\nimport {TokenScript} from \"@tokenscript/engine-js/src/TokenScript\";\n\n@Component({\n\ttag: 'security-status',\n\tstyleUrl: 'security-status.css',\n\tshadow: true,\n})\nexport class SecurityStatus {\n\n\t@Prop() tokenScript: TokenScript;\n\n\t@State() securityInfo: Partial<ISecurityInfo>;\n\n\tasync componentDidLoad() {\n\t\tthis.securityInfo = await this.tokenScript.getSecurityInfo();\n\t\tconsole.log(\"Security status loaded!\");\n\t}\n\n\tprivate getStatusColor(){\n\t\tswitch (this.securityInfo.status){\n\t\t\tcase TSSecurityStatus.VALID:\n\t\t\t\treturn \"green\";\n\t\t\tcase TSSecurityStatus.WARNING:\n\t\t\t\treturn \"orange\";\n\t\t\tcase TSSecurityStatus.INVALID:\n\t\t\t\treturn \"red\";\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\tthis.securityInfo ?\n\t\t\t\t<div class=\"security-status\" style={{background: this.getStatusColor()}}\n\t\t\t\t\ttitle={\"TokenScript security information\\n\\n\" +\n\t\t\t\t\t\t\"Integrity: \" + this.securityInfo.integrityText + \"\\n\" +\n\t\t\t\t\t\t\"Authentication: \" + (this.securityInfo.authText ?? \"N/A\")}>\n\t\t\t\t\t{this.securityInfo.statusText}\n\t\t\t\t</div>\n\t\t\t: ''\n\t\t)\n\t}\n}\n"],"mappings":"+HAAA,MAAMA,EAAoB,6G,MCSbC,EAAc,M,gFAM1BC,yBACCC,KAAKC,mBAAqBD,KAAKE,YAAYC,kBAC3CC,QAAQC,IAAI,0B,CAGLC,iBACP,OAAQN,KAAKC,aAAaM,QACzB,KAAKC,EAAiBC,MACrB,MAAO,QACR,KAAKD,EAAiBE,QACrB,MAAO,SACR,KAAKF,EAAiBG,QACrB,MAAO,M,CAIVC,S,MACC,OACCZ,KAAKC,aACJY,EAAA,OAAKC,MAAM,kBAAkBC,MAAO,CAACC,WAAYhB,KAAKM,kBACrDW,MAAO,uCACN,cAAgBjB,KAAKC,aAAaiB,cAAgB,KAClD,qBAAsBC,EAAAnB,KAAKC,aAAamB,YAAQ,MAAAD,SAAA,EAAAA,EAAI,QACpDnB,KAAKC,aAAaoB,YAEnB,E"}